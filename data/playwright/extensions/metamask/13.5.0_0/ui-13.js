LavaPack.loadBundle([[7415,{"../../../../../shared/modules/hexstring-utils":5535,"../../../../../shared/modules/selectors/networks":5547,"../../../../components/app/contact-list/utils":5690,"../../../../components/component-library":6097,"../../../../components/multichain/pages/send/components":6439,"../../../../components/ui/page-container/page-container-footer":6553,"../../../../components/ui/text-field":6581,"../../../../contexts/i18n":6603,"../../../../helpers/constants/design-system":6645,"../../../../helpers/constants/routes":6650,"../../../../helpers/utils/util":6703,"../../../../selectors/multichain":7548,"../../../confirmations/send-legacy/send-content/add-recipient/domain-input":7252,"../../../confirmations/send-legacy/send.constants":7253,"../contact-networks":7420,lodash:4534,"prop-types":4777,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=C(e("prop-types")),r=e("lodash"),o=e("react-redux"),i=C(e("../../../../components/ui/text-field")),l=e("../../../../helpers/constants/routes"),c=e("../../../../helpers/utils/util"),u=C(e("../../../confirmations/send-legacy/send-content/add-recipient/domain-input")),d=C(e("../../../../components/ui/page-container/page-container-footer")),p=e("../../../../../shared/modules/hexstring-utils"),m=e("../../../confirmations/send-legacy/send.constants"),f=e("../../../../components/multichain/pages/send/components"),g=e("../../../../components/app/contact-list/utils"),h=e("../../../../contexts/i18n"),_=e("../../../../components/component-library"),y=e("../../../../helpers/constants/design-system"),E=e("../../../../selectors/multichain"),v=e("../../../../../shared/modules/selectors/networks"),b=e("../contact-networks");function C(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}const T=({addressBook:e,internalAccounts:t,addToAddressBook:a,navigate:s,scanQrCode:C,qrCodeData:w,qrCodeDetected:T,domainResolutions:x,domainError:k,resetDomainResolution:S})=>{var M,N;const I=(0,n.useContext)(h.I18nContext),[P,D]=(0,n.useState)(""),[O,R]=(0,n.useState)(""),[A,B]=(0,n.useState)(""),[F,L]=(0,n.useState)(""),[j,U]=(0,n.useState)(""),W=(0,o.useSelector)(v.getCurrentChainId),[$,V]=(0,n.useState)(W),[z,H]=(0,n.useState)(!1),G=(0,o.useSelector)(v.getNetworkConfigurationsByChainId),q=(0,n.useCallback)(e=>{const t=!(0,p.isBurnAddress)(e)&&(0,p.isValidHexAddress)(e,{mixedCaseUseChecksum:!0}),a=(0,c.isValidDomainName)(e);B(a||t?null:m.INVALID_RECIPIENT_ADDRESS_ERROR)},[]),K=(0,n.useMemo)(()=>(0,r.debounce)(q,500),[q]),Y=a=>{const n=!(0,g.isDuplicateContact)(e,t,a);L(n?null:I("nameAlreadyInUse")),D(a)},Z=e=>{U(e),K(e)};(0,n.useEffect)(()=>{if("address"===(null==w?void 0:w.type)){const e=w.values.address.toLowerCase();[...x.map(({resolvedAddress:e})=>e),O].filter(Boolean).map(e=>e.toLowerCase()).includes(e)||(U(e),q(e),T(null))}},[w,x,O,q,T]);const J=k||A,Q=O||j,X=!(0,p.isBurnAddress)(Q)&&(0,p.isValidHexAddress)(Q,{mixedCaseUseChecksum:!0});return n.default.createElement("div",{className:"settings-page__content-row address-book__add-contact"},n.default.createElement("div",{className:"address-book__add-contact__content"},n.default.createElement("div",{className:"address-book__view-contact__group address-book__add-contact__content__username"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},I("userName")),n.default.createElement(i.default,{type:"text",id:"nickname",placeholder:I("addAlias"),value:P,onChange:e=>Y(e.target.value),fullWidth:!0,margin:"dense",error:F})),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},I("ethereumPublicAddress")),n.default.createElement(u.default,{scanQrCode:()=>C(),onChange:Z,onPaste:e=>{U(e),q(e)},onReset:()=>{S(),U(""),R("")},userInput:O||j}),n.default.createElement("div",{className:`address-book__view-contact__group__${1===(null==x?void 0:x.length)?"single-":""}resolution-list`},null==x?void 0:x.map(e=>{const{resolvedAddress:t,resolvingSnap:a,addressBookEntryName:s,protocol:r,domainName:o}=e;return n.default.createElement(f.DomainInputResolutionCell,{key:`${t}${a}${r}`,address:t,domainName:s??o,onClick:()=>{Y(o),U(t),S()},protocol:r,resolvingSnap:a})})),J&&n.default.createElement("div",{className:"address-book__add-contact__error"},I(J))),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},I("network")),n.default.createElement(_.Box,{as:"button",padding:3,display:y.Display.Flex,alignItems:y.AlignItems.center,backgroundColor:y.BackgroundColor.transparent,borderColor:y.BorderColor.borderDefault,justifyContent:y.JustifyContent.spaceBetween,borderRadius:y.BorderRadius.XL,onClick:()=>H(!0),className:"network-selector","data-testid":"network-selector"},n.default.createElement(_.Box,{display:y.Display.Flex,gap:2},n.default.createElement(_.AvatarNetwork,{size:_.AvatarNetworkSize.Sm,src:(0,E.getImageForChainId)($)||undefined,name:null==G||null===(M=G[$])||void 0===M?void 0:M.name}),n.default.createElement(_.Text,null,null==G||null===(N=G[$])||void 0===N?void 0:N.name)),n.default.createElement(_.Icon,{name:_.IconName.ArrowDown,color:y.IconColor.iconDefault,size:_.IconSize.Sm})),z&&n.default.createElement(b.ContactNetworks,{isOpen:!0,onClose:()=>H(!1),selectedChainId:$,onSelect:e=>V(e)}))),n.default.createElement(d.default,{cancelText:I("cancel"),disabled:Boolean(A||F||!X||!P.trim()),onSubmit:async()=>{await a(Q,P,"",$),s(l.CONTACT_LIST_ROUTE)},onCancel:()=>{s(l.CONTACT_LIST_ROUTE)},submitText:I("save")}))};T.propTypes={addressBook:s.default.array,internalAccounts:s.default.array,addToAddressBook:s.default.func,navigate:s.default.func.isRequired,scanQrCode:s.default.func,qrCodeData:s.default.object,qrCodeDetected:s.default.func,domainResolutions:s.default.arrayOf(s.default.object),domainError:s.default.string,resetDomainResolution:s.default.func};a.default=T}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.component.js"}],[7416,{"../../../../ducks/app/app":6617,"../../../../ducks/domains":6626,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":6667,"../../../../selectors":7539,"../../../../store/actions":7565,"./add-contact.component":7415,"react-redux":4905,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("redux"),s=e("react-redux"),r=d(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../../../store/actions"),i=e("../../../../ducks/app/app"),l=e("../../../../ducks/domains"),c=e("../../../../selectors"),u=d(e("./add-contact.component"));function d(e){return e&&e.__esModule?e:{default:e}}a.default=(0,n.compose)(r.default,(0,s.connect)(e=>({addressBook:(0,c.getAddressBook)(e),internalAccounts:(0,c.getInternalAccounts)(e),qrCodeData:(0,i.getQrCodeData)(e),domainError:(0,l.getDomainError)(e),domainResolutions:(0,l.getDomainResolutions)(e)}),e=>({addToAddressBook:(t,a,n,s)=>e((0,o.addToAddressBook)(t,a,n,s)),scanQrCode:()=>e((0,o.showQrScanner)()),qrCodeDetected:t=>e((0,o.qrCodeDetected)(t)),resetDomainResolution:()=>e((0,l.resetDomainResolution)())})))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.container.js"}],[7417,{"./add-contact.container":7416},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./add-contact.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/index.js"}],[7418,{"../../../components/app/contact-list":5688,"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../helpers/utils/settings-search":6694,"./add-contact":7417,"./edit-contact":7423,"./view-contact":7425,classnames:3793,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=f(e("prop-types")),r=f(e("classnames")),o=f(e("../../../components/app/contact-list")),i=e("../../../helpers/constants/routes"),l=e("../../../helpers/utils/settings-search"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=f(e("./edit-contact")),p=f(e("./add-contact")),m=f(e("./view-contact"));function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function h(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class _ extends n.Component{constructor(...e){super(...e),h(this,"settingsRefs",Array((0,l.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("contacts"))).fill(undefined).map(()=>n.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}renderAddresses(){const{completeAddressBook:e,internalAccounts:t,navigate:a,selectedAddress:s}=this.props,r=Object.entries(e).map(([e,t])=>t),l=r.filter(({name:e})=>Boolean(e)),d=r.filter(({name:e})=>!e),{t:p}=this.context;return r.length?n.default.createElement("div",null,n.default.createElement(o.default,{addressBook:r,internalAccounts:t,searchForContacts:()=>l,searchForRecents:()=>d,selectRecipient:e=>{a(`${i.CONTACT_VIEW_ROUTE}/${e}`)},selectedAddress:s})):n.default.createElement("div",{className:"address-book__container"},n.default.createElement("div",null,n.default.createElement(c.Icon,{name:c.IconName.Book,color:u.IconColor.iconMuted,className:"address-book__icon",size:c.IconSize.Xl}),n.default.createElement("h4",{className:"address-book__title"},p("buildContactList")),n.default.createElement("p",{className:"address-book__sub-title"},p("addFriendsAndAddresses")),n.default.createElement("button",{className:"address-book__link",onClick:()=>{a(i.CONTACT_ADD_ROUTE)}},"+ ",p("addContact"))))}renderAddButton(){const{navigate:e,viewingContact:t,editingContact:a}=this.props;return n.default.createElement(c.ButtonPrimary,{className:(0,r.default)("address-book-add-button__button",{"address-book-add-button__button--hidden":t||a}),onClick:()=>{e(i.CONTACT_ADD_ROUTE)},margin:4,size:u.Size.LG},this.context.t("addContact"))}renderContactContent(){const{viewingContact:e,editingContact:t,addingContact:a}=this.props;let s=null;return e?s=m.default:t?s=d.default:a&&(s=p.default),s&&n.default.createElement("div",{className:"address-book-contact-content"},n.default.createElement(s,null))}renderAddressBookContent(){const{hideAddressBook:e}=this.props;return e?null:n.default.createElement("div",{ref:this.settingsRefs[0],className:"address-book"},this.renderAddresses())}render(){const{addingContact:e,currentPath:t,completeAddressBook:a}=this.props,s=a;return n.default.createElement("div",{className:"address-book-wrapper"},this.renderAddressBookContent(),this.renderContactContent(),t===i.CONTACT_LIST_ROUTE&&!e&&s.length>0?this.renderAddButton():null)}}a.default=_,h(_,"contextTypes",{t:s.default.func}),h(_,"propTypes",{completeAddressBook:s.default.array,internalAccounts:s.default.array,navigate:s.default.func.isRequired,selectedAddress:s.default.string,viewingContact:s.default.bool,editingContact:s.default.bool,addingContact:s.default.bool,hideAddressBook:s.default.bool,currentPath:s.default.string})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.component.js"}],[7419,{"../../../helpers/constants/routes":6650,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":6667,"../../../selectors":7539,"./contact-list-tab.component":7418,"react-redux":4905,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("redux"),s=e("react-redux"),r=c(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../../selectors"),i=e("../../../helpers/constants/routes"),l=c(e("./contact-list-tab.component"));function c(e){return e&&e.__esModule?e:{default:e}}a.default=(0,n.compose)(r.default,(0,s.connect)((e,t)=>{const{location:a}=t,{pathname:n}=a,s=n.match(/[^/]+$/u)[0],r=s.includes("0x"),l=Boolean(n.match(i.CONTACT_VIEW_ROUTE)),c=Boolean(n.match(i.CONTACT_EDIT_ROUTE)),u=Boolean(n.match(i.CONTACT_ADD_ROUTE)),d=l||c||u;return{viewingContact:l,editingContact:c,addingContact:u,addressBook:(0,o.getAddressBook)(e),completeAddressBook:(0,o.getCompleteAddressBook)(e),internalAccounts:(0,o.getInternalAccounts)(e),selectedAddress:r?s:"",hideAddressBook:d,currentPath:n}}))(l.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.container.js"}],[7420,{"../../../../shared/constants/bridge":5417,"../../../../shared/constants/network":5433,"../../../../shared/modules/selectors/networks":5547,"../../../components/component-library":6097,"../../../components/multichain":6330,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,"../../../selectors/multichain":7548,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ContactNetworks=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),i=e("../../../../shared/modules/selectors/networks"),l=e("../../../../shared/constants/network"),c=e("../../../hooks/useI18nContext"),u=e("../../../../shared/constants/bridge"),d=e("../../../components/multichain"),p=e("../../../selectors/multichain");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}a.ContactNetworks=({isOpen:e,onClose:t,selectedChainId:a,onSelect:m})=>{const f=(0,c.useI18nContext)(),g=(0,s.useSelector)(i.getNetworkConfigurationsByChainId),[h,_]=(0,n.useMemo)(()=>Object.entries(g).reduce(([e,t],[a,n])=>((l.TEST_CHAINS.includes(a)?t:e).push(n),[e,t]),[[],[]]),[g]),y=e=>e.map(({name:e,chainId:s})=>n.default.createElement(d.NetworkListItem,{key:s,name:u.NETWORK_TO_SHORT_NETWORK_NAME_MAP[s]??e,selected:a===s,onClick:()=>{null==m||m(s),t()},iconSrc:(0,p.getImageForChainId)(s),iconSize:o.AvatarNetworkSize.Sm,focus:!1,variant:r.TextVariant.bodyMdMedium}));return n.default.createElement(o.Modal,{isOpen:e,onClose:t,className:"multichain-asset-picker__network-modal"},n.default.createElement(o.ModalOverlay,null),n.default.createElement(o.ModalContent,{modalDialogProps:{padding:0}},n.default.createElement(o.ModalHeader,{onBack:t,onClose:t},f("bridgeSelectNetwork")),n.default.createElement(o.Box,{className:"multichain-asset-picker__network-list",display:r.Display.Flex},n.default.createElement(o.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,width:r.BlockSize.Full},y(h),n.default.createElement(o.Box,{padding:4},n.default.createElement(o.Text,{variant:r.TextVariant.bodyMdMedium},f("testnets")),y(_))))))}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-networks.tsx"}],[7421,{"../../../../../shared/modules/hexstring-utils":5535,"../../../../components/app/contact-list/utils":5690,"../../../../components/app/preferred-avatar":5825,"../../../../components/component-library":6097,"../../../../components/ui/page-container/page-container-footer":6553,"../../../../components/ui/text-field":6581,"../../../../contexts/i18n":6603,"../../../../helpers/constants/design-system":6645,"../../../../selectors/multichain":7548,"../contact-networks":7420,"@metamask/design-system-react":1655,"prop-types":4777,react:4961,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=E;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=_(e("prop-types")),r=e("react-router-dom-v5-compat"),o=e("@metamask/design-system-react"),i=_(e("../../../../components/ui/text-field")),l=_(e("../../../../components/ui/page-container/page-container-footer")),c=e("../../../../components/app/preferred-avatar"),u=e("../../../../../shared/modules/hexstring-utils"),d=e("../../../../components/component-library"),p=e("../../../../helpers/constants/design-system"),m=e("../../../../components/app/contact-list/utils"),f=e("../../../../selectors/multichain"),g=e("../../../../contexts/i18n"),h=e("../contact-networks");function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function E({addressBook:e,internalAccounts:t,networkConfigurations:a,addToAddressBook:s,removeFromAddressBook:_,name:y="",address:E,contactChainId:v,memo:b="",viewRoute:C,listRoute:w}){var T,x;const k=(0,n.useContext)(g.I18nContext),S=(0,r.useNavigate)(),[M,N]=(0,n.useState)(y),[I,P]=(0,n.useState)(E),[D,O]=(0,n.useState)(b),[R,A]=(0,n.useState)(""),[B,F]=(0,n.useState)(""),[L,j]=(0,n.useState)(!1),[U,W]=(0,n.useState)(v),$=a;return E?n.default.createElement("div",{className:"settings-page__content-row address-book__edit-contact","data-testid":"edit-contact"},n.default.createElement(d.Box,{className:"settings-page__header address-book__header--edit",paddingLeft:6,paddingRight:6,width:p.BlockSize.Full,alignItems:p.AlignItems.center},n.default.createElement(d.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center,style:{overflow:"hidden"},paddingRight:2},n.default.createElement(c.PreferredAvatar,{size:o.AvatarAccountSize.Lg,address:E}),n.default.createElement(d.Text,{className:"address-book__header__name",variant:p.TextVariant.bodyLgMedium,marginInlineStart:4,style:{overflow:"hidden"},ellipsis:!0},y||E)),n.default.createElement(d.Box,{className:"settings-page__address-book-button"},n.default.createElement(d.Button,{variant:d.ButtonVariant.Link,danger:!0,style:{display:"contents"},onClick:async()=>{await _(v,E),S(w)},"data-testid":"delete-contact-button"},k("deleteContact")))),n.default.createElement("div",{className:"address-book__edit-contact__content"},n.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-alias"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},k("userName")),n.default.createElement(i.default,{id:"nickname","data-testid":"address-book-edit-contact-name",placeholder:k("addAlias"),value:M,onChange:a=>{const n=a.target.value;A((a=>a===y||!(0,m.isDuplicateContact)(e,t,a))(n)?"":k("nameAlreadyInUse")),N(n)},error:R,fullWidth:!0,className:"text-field-root",margin:"dense"})),n.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-address"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},k("ethereumPublicAddress")),n.default.createElement(i.default,{id:"address","data-testid":"address-book-edit-contact-address",value:I,onChange:e=>P(e.target.value),error:B,fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"})),n.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-memo"},n.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},k("memo")),n.default.createElement(i.default,{id:"memo",placeholder:b,value:D,onChange:e=>O(e.target.value),fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"})),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},k("network")),n.default.createElement(d.Box,{as:"button",padding:3,display:p.Display.Flex,alignItems:p.AlignItems.center,backgroundColor:p.BackgroundColor.transparent,borderColor:p.BorderColor.borderDefault,justifyContent:p.JustifyContent.spaceBetween,borderRadius:p.BorderRadius.XL,onClick:()=>j(!0),className:"network-selector","data-testid":"network-selector",marginTop:2},n.default.createElement(d.Box,{display:p.Display.Flex,gap:2},n.default.createElement(d.AvatarNetwork,{size:d.AvatarNetworkSize.Sm,src:(0,f.getImageForChainId)(U)||undefined,name:null==$||null===(T=$[U])||void 0===T?void 0:T.name}),n.default.createElement(d.Text,{"data-testid":"address-book-edit-contact-network"},null==$||null===(x=$[U])||void 0===x?void 0:x.name)),n.default.createElement(d.Icon,{name:d.IconName.ArrowDown,color:p.IconColor.iconDefault,size:d.IconSize.Sm})))),n.default.createElement(l.default,{cancelText:k("cancel"),onSubmit:async()=>{const e=U!==v;I&&I!==E?!(0,u.isBurnAddress)(I)&&(0,u.isValidHexAddress)(I,{mixedCaseUseChecksum:!0})?(await _(v,E),await s(I,M||y,D||b,U),S(w)):F(k("invalidAddress")):e?(await _(v,E),await s(E,M||y,D||b,U),S(w)):(await s(E,M||y,D||b,U),S(w))},onCancel:()=>S(`${C}/${E}`),submitText:k("save"),disabled:Boolean(M===y&&I===E&&U===v&&D===b||!M.trim()||R)}),L&&n.default.createElement(h.ContactNetworks,{isOpen:!0,onClose:()=>j(!1),selectedChainId:U,onSelect:e=>W(e)})):n.default.createElement(r.Navigate,{to:{pathname:w}})}E.propTypes={addressBook:s.default.array,internalAccounts:s.default.array,networkConfigurations:s.default.array,addToAddressBook:s.default.func.isRequired,removeFromAddressBook:s.default.func.isRequired,name:s.default.string,address:s.default.string.isRequired,contactChainId:s.default.string,memo:s.default.string,viewRoute:s.default.string.isRequired,listRoute:s.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.component.js"}],[7422,{"../../../../../shared/modules/selectors/networks":5547,"../../../../helpers/constants/routes":6650,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":6667,"../../../../selectors":7539,"../../../../store/actions":7565,"./edit-contact.component":7421,"react-redux":4905,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("redux"),s=e("react-redux"),r=d(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../../../selectors"),i=e("../../../../../shared/modules/selectors/networks"),l=e("../../../../helpers/constants/routes"),c=e("../../../../store/actions"),u=d(e("./edit-contact.component"));function d(e){return e&&e.__esModule?e:{default:e}}a.default=(0,n.compose)(r.default,(0,s.connect)((e,t)=>{var a;const{location:n,params:s}=t,r=n.pathname.match(/[^/]+$/u)[0],c=r.includes("0x")?r.toLowerCase():s.id,u=(0,o.getAddressBookEntry)(e,c),d=(0,i.getNetworkConfigurationsByChainId)(e),{memo:p}=u||{},m=(null==u?void 0:u.name)||(null===(a=(0,o.getInternalAccountByAddress)(e,c))||void 0===a?void 0:a.metadata.name),{chainId:f}=(0,i.getProviderConfig)(e),g=(null==u?void 0:u.chainId)||f;return{address:u?c:null,addressBook:(0,o.getAddressBook)(e),internalAccounts:(0,o.getInternalAccounts)(e),contactChainId:g,name:m,memo:p,networkConfigurations:d,viewRoute:l.CONTACT_VIEW_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}},e=>({addToAddressBook:(t,a,n,s)=>e((0,c.addToAddressBook)(t,a,n,s)),removeFromAddressBook:(t,a)=>e((0,c.removeFromAddressBook)(t,a)),toggleNetworkMenu:()=>e((0,c.toggleNetworkMenu)())})))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.container.js"}],[7423,{"./edit-contact.container":7422},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./edit-contact.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/index.js"}],[7424,{"./contact-list-tab.container":7419},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./contact-list-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/index.js"}],[7425,{"./view-contact.container":7427},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./view-contact.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/index.js"}],[7426,{"../../../../components/app/preferred-avatar":5825,"../../../../components/component-library":6097,"../../../../components/ui/tooltip":6589,"../../../../helpers/constants/design-system":6645,"../../../../hooks/useCopyToClipboard":6764,"../../../../hooks/useI18nContext":6777,"@metamask/design-system-react":1655,"prop-types":4777,react:4961,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=m(e("react")),s=m(e("prop-types")),r=e("react-router-dom-v5-compat"),o=e("@metamask/design-system-react"),i=e("../../../../components/component-library"),l=e("../../../../components/app/preferred-avatar"),c=m(e("../../../../components/ui/tooltip")),u=e("../../../../hooks/useI18nContext"),d=e("../../../../hooks/useCopyToClipboard"),p=e("../../../../helpers/constants/design-system");function m(e){return e&&e.__esModule?e:{default:e}}function f({navigate:e,name:t,address:a,checkSummedAddress:s,memo:m,editRoute:f,listRoute:g}){const h=(0,u.useI18nContext)(),[_,y]=(0,d.useCopyToClipboard)();return a?n.default.createElement("div",{className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(i.Box,{className:"settings-page__header address-book__header",paddingLeft:6,paddingRight:6},n.default.createElement(l.PreferredAvatar,{size:o.AvatarAccountSize.Lg,address:a}),n.default.createElement(i.Text,{className:"address-book__header__name","data-testid":"address-book-name",variant:p.TextVariant.bodyLgMedium,marginInlineStart:4,style:{overflow:"hidden"},ellipsis:!0},t||a)),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement(i.Button,{variant:i.ButtonVariant.Secondary,onClick:()=>{e(`${f}/${a}`)}},h("edit"))),n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label"},h("ethereumPublicAddress")),n.default.createElement("div",{className:"address-book__view-contact__group__value"},n.default.createElement("div",{className:"address-book__view-contact__group__static-address","data-testid":"address-book-view-contact-address"},function(e){return`0x${e.slice(2).match(/.{1,4}/gu).join("")}`}(s)),n.default.createElement(c.default,{position:"bottom",title:h(_?"copiedExclamation":"copyToClipboard")},n.default.createElement(i.ButtonIcon,{ariaLabel:"copy",className:"address-book__view-contact__group__static-address--copy-icon",onClick:()=>{y(s)},iconName:_?i.IconName.CopySuccess:i.IconName.Copy,size:i.ButtonIconSize.Lg,color:p.IconColor.primaryDefault})))),m.length>0?n.default.createElement("div",{className:"address-book__view-contact__group"},n.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},h("memo")),n.default.createElement("div",{className:"address-book__view-contact__group__static-address"},m)):null)):n.default.createElement(r.Navigate,{to:{pathname:g}})}f.propTypes={name:s.default.string,address:s.default.string,navigate:s.default.func.isRequired,checkSummedAddress:s.default.string,memo:s.default.string,editRoute:s.default.string,listRoute:s.default.string.isRequired};a.default=n.default.memo(f)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.component.js"}],[7427,{"../../../../../shared/modules/hexstring-utils":5535,"../../../../helpers/constants/routes":6650,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":6667,"../../../../selectors":7539,"./view-contact.component":7426,"react-redux":4905,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("redux"),s=e("react-redux"),r=u(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../../../selectors"),i=e("../../../../helpers/constants/routes"),l=e("../../../../../shared/modules/hexstring-utils"),c=u(e("./view-contact.component"));function u(e){return e&&e.__esModule?e:{default:e}}a.default=(0,n.compose)(r.default,(0,s.connect)((e,t)=>{const{location:a,params:n}=t,s=a.pathname.match(/[^/]+$/u)[0],r=s.includes("0x")?s.toLowerCase():n.id,c=(0,o.getInternalAccountByAddress)(e,r),u=(0,o.getAddressBookEntry)(e,r),{memo:d}=u||{};return{name:(null==u?void 0:u.name)||c.metadata.name,address:u?r:null,checkSummedAddress:(0,l.toChecksumHexAddress)(r),memo:d,editRoute:i.CONTACT_EDIT_ROUTE,listRoute:i.CONTACT_LIST_ROUTE}}))(c.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.container.js"}],[7428,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/zendesk-url":6657,"../../../hooks/useI18nContext":6777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.DeprecatedNetworkModal=void 0;var n=l(e("react")),s=e("../../../hooks/useI18nContext"),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=l(e("../../../helpers/constants/zendesk-url"));function l(e){return e&&e.__esModule?e:{default:e}}a.DeprecatedNetworkModal=({onClose:e})=>{const t=(0,s.useI18nContext)();return n.default.createElement(r.Modal,{isOpen:!0,isClosedOnOutsideClick:!1,onClose:e},n.default.createElement(r.ModalOverlay,null),n.default.createElement(r.ModalContent,null,n.default.createElement(r.ModalHeader,{paddingTop:2,paddingBottom:2},t("deprecatedNetwork")),n.default.createElement(r.ModalBody,null,n.default.createElement(r.Box,{paddingBottom:2},n.default.createElement(r.Text,{textAlign:o.TextAlign.Center,variant:o.TextVariant.bodyMd,fontWeight:o.FontWeight.Normal},t("deprecatedNetworkDescription",[n.default.createElement(r.ButtonLink,{key:"import-token-fake-token-warning",rel:"noopener noreferrer",target:"_blank",href:i.default.NETWORK_DEPRECATED,variant:o.TextVariant.bodySm,fontWeight:o.FontWeight.Normal},t("learnMoreUpperCase"))])))),n.default.createElement(r.Box,{display:o.Display.Flex,paddingLeft:4,paddingRight:4,paddingBottom:2},n.default.createElement(r.ButtonPrimary,{block:!0,size:r.ButtonPrimarySize.Lg,onClick:e,textProps:{variant:o.TextVariant.bodyMdMedium},style:{fontSize:"14px"}},t("deprecatedNetworkButtonMsg")))))}}}},{package:"$root$",file:"ui/pages/settings/deprecated-network-modal/DeprecatedNetworkModal.tsx"}],[7429,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../hooks/identity/useAccountSyncing":6724,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useDeleteAccountSyncDataProps=a.BackupAndSyncDevSettings=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),o=e("../../../hooks/identity/useAccountSyncing");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}const l=({onDelete:e,deleteSuccessful:t,title:a,description:o})=>n.default.createElement("div",{className:"settings-page__content-padded"},n.default.createElement(s.Box,{className:"settings-page__content-row",display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,gap:4},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,a),n.default.createElement("div",{className:"settings-page__content-description"},o)),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,onClick:e},"Reset")),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(s.Box,{display:r.Display.Flex,alignItems:r.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},n.default.createElement(s.Icon,{className:"settings-page-developer-options__icon-check",name:s.IconName.Check,color:r.IconColor.successDefault,size:s.IconSize.Lg,hidden:!t}))))),c=()=>{const[e,t]=(0,n.useState)(!1),{dispatchDeleteAccountSyncingData:a}=(0,o.useDeleteAccountSyncingDataFromUserStorage)();return{deleteSuccessful:e,onDelete:(0,n.useCallback)(async()=>{await a(),t(!0)},[a,t]),title:"Account syncing",description:"Deletes all user storage entries for the current SRP. This can help if you tested Account Syncing early on and have corrupted data. This will not remove internal accounts already created and renamed. If you want to start from scratch with only the first account and restart syncing from this point on, you will need to reinstall the extension after this action."}};a.useDeleteAccountSyncDataProps=c;a.BackupAndSyncDevSettings=()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Text,{className:"settings-page__security-tab-sub-header__bold"},"Backup and sync"),n.default.createElement(l,c()))}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/backup-and-sync.tsx"}],[7430,{"../../../../app/scripts/lib/util":290,"../../../../shared/constants/app":5415,"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../helpers/utils/settings-search":6694,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,"./backup-and-sync":7429,"./developer-options-toggle-row-component":7431,"./sentry-test":7433,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=e("react-router-dom-v5-compat"),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../../helpers/utils/settings-search"),u=e("../../../hooks/useI18nContext"),d=e("../../../store/actions"),p=e("../../../../app/scripts/lib/util"),m=e("../../../../shared/constants/app"),f=e("../../../selectors"),g=y(e("./developer-options-toggle-row-component")),h=y(e("./sentry-test")),_=e("./backup-and-sync");function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,u.useI18nContext)(),t=(0,s.useDispatch)(),a=(0,r.useNavigate)(),[y,E]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!0),T=Array((0,c.getNumberOfSettingRoutesInTab)(e,e("developerOptions"))).fill(undefined).map(()=>n.default.createRef());(0,n.useEffect)(()=>{(0,c.handleSettingsRefs)(e,e("developerOptions"),T)},[e,T]);const x=(0,n.useCallback)(()=>{(0,d.resetViewedNotifications)(),E(!0)},[]),k=(0,n.useCallback)(async()=>{await t((0,d.resetOnboarding)()),b(!0);const e=`${l.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true`;if((0,p.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP){const{platform:t}=global;null!=t&&t.openExtensionInBrowser&&(null==t||t.openExtensionInBrowser(e,null,!0))}else a(e)},[t,a]),S=(0,s.useSelector)(f.getRemoteFeatureFlags);return n.default.createElement("div",{className:"settings-page__body"},n.default.createElement(o.Text,{className:"settings-page__security-tab-sub-header__bold"},"States"),n.default.createElement(o.Text,{className:"settings-page__security-tab-sub-header",color:i.TextColor.textAlternative,paddingTop:6,ref:T[0]},"Current States"),n.default.createElement("div",{className:"settings-page__content-padded"},n.default.createElement(o.Box,{className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,"Remote feature flags"),n.default.createElement("div",{className:"settings-page__content-description"},"Remote feature flag values come from LaunchDarkly by default. If you need to update feature flag values locally for development purposes, you can change feature flag values in .manifest-overrides.json, which will override values coming from LaunchDarkly.")),n.default.createElement("div",{className:"settings-page__content-description","data-testid":"developer-options-remote-feature-flags"},JSON.stringify(S)))),n.default.createElement(o.Text,{className:"settings-page__security-tab-sub-header",color:i.TextColor.textAlternative,paddingTop:6,ref:T[0]},"Reset States"),n.default.createElement("div",{className:"settings-page__content-padded"},n.default.createElement(o.Box,{ref:T[1],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,"Announcements"),n.default.createElement("div",{className:"settings-page__content-description"},"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.")),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,onClick:x},"Reset")),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},n.default.createElement(o.Icon,{className:"settings-page-developer-options__icon-check",name:o.IconName.Check,color:i.IconColor.successDefault,size:o.IconSize.Lg,hidden:!y})))),n.default.createElement(o.Box,{ref:T[2],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},n.default.createElement("div",{className:"settings-page__content-item",style:{flex:"1 1 auto"}},n.default.createElement("span",null,"Onboarding"),n.default.createElement("div",{className:"settings-page__content-description"},'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.')),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,onClick:k},"Reset")),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},n.default.createElement(o.Icon,{className:"settings-page-developer-options__icon-check",name:o.IconName.Check,color:i.IconColor.successDefault,size:o.IconSize.Lg,hidden:!v})))),n.default.createElement(g.default,{title:"Service Worker Keep Alive",description:"Results in a timestamp being continuously saved to session.storage",isEnabled:C,onToggle:e=>(async e=>{await t((0,d.setServiceWorkerKeepAlivePreference)(e)),w(e)})(!e),dataTestId:"developer-options-service-worker-alive-toggle",settingsRef:T[3]})),n.default.createElement(_.BackupAndSyncDevSettings,null),n.default.createElement(h.default,null))}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-tab.tsx"}],[7431,{"../../../components/component-library":6097,"../../../components/ui/toggle-button":6585,"../../../helpers/constants/design-system":6645,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("react")),s=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),o=i(e("../../../components/ui/toggle-button"));function i(e){return e&&e.__esModule?e:{default:e}}a.default=({title:e,description:t,isEnabled:a,onToggle:i,dataTestId:l,settingsRef:c})=>n.default.createElement(s.Box,{ref:c,className:"settings-page__content-row",display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,gap:4},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-description"},n.default.createElement("span",null,e),n.default.createElement("div",{className:"settings-page__content-description"},t))),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.default,{value:a,onToggle:i,offLabel:"Off",onLabel:"On",dataTestId:l})))}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-toggle-row-component.tsx"}],[7432,{"./developer-options-tab":7430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./developer-options-tab"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/index.tsx"}],[7433,{"../../../../shared/lib/trace":5517,"../../../../shared/modules/i18n":5536,"../../../components/component-library":6097,"../../../components/component-library/button/button.types":6077,"../../../ducks/locale/locale":6631,"../../../helpers/constants/design-system":6645,"../../../store/actions":7565,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=e("../../../../shared/lib/trace"),l=e("../../../components/component-library/button/button.types"),c=e("../../../store/actions"),u=e("../../../../shared/modules/i18n"),d=e("../../../ducks/locale/locale");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function m(e){return new Promise(t=>setTimeout(t,e))}function f(){const e=(0,n.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).throwTestError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return n.default.createElement(v,{name:"Generate UI Error",description:n.default.createElement("span",null,"Generate an unhandled ",n.default.createElement("b",null,"TestError")," in this window."),onClick:e,expectError:!0})}function g(){const e=(0,n.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).throwTestBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return n.default.createElement(v,{name:"Generate Background Error",description:n.default.createElement("span",null,"Generate an unhandled ",n.default.createElement("b",null,"TestError")," in the service worker."),onClick:e,expectError:!0})}function h(){const e=(0,n.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).captureTestError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return n.default.createElement(v,{name:"Capture UI Error",description:n.default.createElement("span",null,"Capture a ",n.default.createElement("b",null,"TestError")," in this window."),onClick:e})}function _(){const e=(0,n.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).captureBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return n.default.createElement(v,{name:"Capture Background Error",description:n.default.createElement("span",null,"Capture a ",n.default.createElement("b",null,"TestError")," in the service worker."),onClick:e})}function y(){const e=(0,n.useCallback)(async()=>{await(0,i.trace)({name:i.TraceName.DeveloperTest,data:{"test.data.number":123},tags:{"test.tag.number":123}},async e=>{await(0,i.trace)({name:i.TraceName.NestedTest1,data:{"test.data.boolean":!0},tags:{"test.tag.boolean":!0},parentContext:e},()=>m(1e3)),await(0,i.trace)({name:i.TraceName.NestedTest2,data:{"test.data.string":"test"},tags:{"test.tag.string":"test"},parentContext:e},()=>m(500))})},[]);return n.default.createElement(v,{name:"Generate Trace",description:n.default.createElement("span",null,"Generate a ",n.default.createElement("b",null,"Developer Test")," Sentry trace."),onClick:e})}function E({currentLocale:e}){const t=(0,s.useDispatch)();return n.default.createElement(v,{name:"Generate A Page Crash",description:n.default.createElement("span",null,'Trigger the crash on extension to send user feedback to sentry. You can click "Try again" to reload extension'),onClick:async()=>{const a=await(0,u.fetchLocale)(e);await t((0,c.setCurrentLocale)(e,{...a,developerOptions:undefined})),await(0,c.forceUpdateMetamaskState)(t)},expectError:!0,testId:"developer-options-generate-page-crash-button"})}function v({name:e,description:t,onClick:a,expectError:s,testId:i}){const[c,u]=(0,n.useState)(!1),d=(0,n.useCallback)(async()=>{let e=!1;try{await a()}catch(t){throw e=!0,t}finally{!s&&e||u(!0)}},[a]);return n.default.createElement(r.Box,{className:"settings-page__content-row",display:o.Display.Flex,flexDirection:o.FlexDirection.Row,justifyContent:o.JustifyContent.spaceBetween,gap:4},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-description"},t)),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(r.Button,{variant:r.ButtonVariant.Primary,onClick:d,size:l.ButtonSize.Lg,"data-testid":i},e)),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(r.Box,{display:o.Display.Flex,alignItems:o.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},n.default.createElement(r.Icon,{className:"settings-page-developer-options__icon-check",name:r.IconName.Check,color:o.IconColor.successDefault,size:r.IconSize.Lg,hidden:!c}))))}a.default=()=>{const e=(0,s.useSelector)(d.getCurrentLocale)||u.FALLBACK_LOCALE;return n.default.createElement(n.default.Fragment,null,n.default.createElement(r.Text,{className:"settings-page__security-tab-sub-header__bold"},"Sentry"),n.default.createElement("div",{className:"settings-page__content-padded"},n.default.createElement(f,null),n.default.createElement(g,null),n.default.createElement(h,null),n.default.createElement(_,null),n.default.createElement(y,null),n.default.createElement(E,{currentLocale:e})))}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/sentry-test.tsx"}],[7434,{"../../../../shared/constants/metametrics":5430,"../../../components/component-library":6097,"../../../components/ui/toggle-button":6585,"../../../helpers/constants/design-system":6645,"../../../helpers/utils/settings-search":6694,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=u(e("prop-types")),r=u(e("../../../components/ui/toggle-button")),o=e("../../../helpers/utils/settings-search"),i=e("../../../../shared/constants/metametrics"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function p(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends n.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,o.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("experimental"))).fill(undefined).map(()=>n.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}renderToggleSection({title:e,description:t,toggleValue:a,toggleCallback:s,toggleDataTestId:o,toggleContainerDataTestId:i,toggleOffLabel:c,toggleOnLabel:u}){return n.default.createElement(l.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row settings-page__content-row-experimental"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e),n.default.createElement("div",{className:"settings-page__content-description"},t)),n.default.createElement("div",{className:"settings-page__content-item-col","data-testid":i},n.default.createElement(r.default,{value:a,onToggle:s,offLabel:c,onLabel:u,dataTestId:o})))}renderKeyringSnapsToggle(){const{t:e,trackEvent:t}=this.context,{addSnapAccountEnabled:a,setAddSnapAccountEnabled:s}=this.props;return n.default.createElement(n.default.Fragment,null,n.default.createElement(l.Text,{variant:c.TextVariant.headingSm,as:"h4",color:c.TextColor.textAlternative,marginBottom:2,fontWeight:c.FontWeight.Bold},e("snaps")),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("snapAccounts")),n.default.createElement("div",{className:"settings-page__content-description"},n.default.createElement(l.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textAlternative},e("snapAccountsDescription")))),this.renderToggleSection({title:e("addSnapAccountToggle"),description:e("addSnapAccountsDescription"),toggleValue:a,toggleCallback:e=>{t({event:i.MetaMetricsEventName.AddSnapAccountEnabled,category:i.MetaMetricsEventCategory.Settings,properties:{enabled:!e}}),s(!e)},toggleContainerDataTestId:"add-account-snap-toggle-div",toggleDataTestId:"add-account-snap-toggle-button",toggleOffLabel:e("off"),toggleOnLabel:e("on")}))}renderNotificationsToggle(){const{t:e}=this.context,{featureNotificationsEnabled:t,setFeatureNotificationsEnabled:a}=this.props;return this.renderToggleSection({title:e("notificationsFeatureToggle"),description:e("notificationsFeatureToggleDescription"),toggleValue:t,toggleCallback:e=>a(!e),toggleDataTestId:"toggle-notifications",toggleOffLabel:e("off"),toggleOnLabel:e("on")})}render(){return n.default.createElement("div",{className:"settings-page__body"},null,this.renderKeyringSnapsToggle())}}a.default=m,p(m,"contextTypes",{t:s.default.func,trackEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.component.tsx"}],[7435,{"../../../selectors":7539,"../../../store/actions":7565,"./experimental-tab.component":7434,"react-redux":4905,"react-router-dom":4929,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("redux"),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../store/actions"),l=e("../../../selectors"),c=(n=e("./experimental-tab.component"))&&n.__esModule?n:{default:n};a.default=(0,s.compose)(o.withRouter,(0,r.connect)(e=>{const t=(0,l.getFeatureNotificationsEnabled)(e);return{watchAccountEnabled:(0,l.getIsWatchEthereumAccountEnabled)(e),addSnapAccountEnabled:(0,l.getIsAddSnapAccountEnabled)(e),featureNotificationsEnabled:t}},e=>({setWatchAccountEnabled:e=>(0,i.setWatchEthereumAccountEnabled)(e),setAddSnapAccountEnabled:e=>(0,i.setAddSnapAccountEnabled)(e),setFeatureNotificationsEnabled:t=>e((0,i.setFeatureNotificationsEnabled)(t))})))(c.default)}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.container.ts"}],[7436,{"./experimental-tab.container":7435},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./experimental-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/index.js"}],[7437,{"./settings.container":7464},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./settings.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/index.js"}],[7438,{"./info-tab.component":7439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./info-tab.component"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/info-tab/index.js"}],[7439,{"../../../../shared/constants/metametrics":5430,"../../../components/app/modals/visit-support-data-consent-modal":5783,"../../../components/component-library":6097,"../../../components/ui/button":6480,"../../../helpers/constants/common":6643,"../../../helpers/utils/build-types":6670,"../../../helpers/utils/settings-search":6694,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=p(e("prop-types")),r=p(e("../../../components/ui/button")),o=e("../../../components/component-library"),i=e("../../../helpers/constants/common"),l=e("../../../helpers/utils/build-types"),c=e("../../../helpers/utils/settings-search"),u=e("../../../../shared/constants/metametrics"),d=p(e("../../../components/app/modals/visit-support-data-consent-modal"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function f(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends n.PureComponent{constructor(...e){super(...e),f(this,"state",{version:"13.5.0",isVisitSupportDataConsentModalOpen:!1}),f(this,"settingsRefs",Array((0,c.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("about"))).fill(undefined).map(()=>n.default.createRef())),f(this,"toggleVisitSupportDataConsentModal",()=>{this.setState(e=>({isVisitSupportDataConsentModalOpen:!e.isVisitSupportDataConsentModalOpen}))})}componentDidUpdate(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}renderInfoLinks(){const{t:e}=this.context;return n.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},n.default.createElement("div",{ref:this.settingsRefs[1],className:"info-tab__link-header"},e("links")),n.default.createElement("div",{ref:this.settingsRefs[2],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("privacyMsg"))),n.default.createElement("div",{ref:this.settingsRefs[3],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("terms"))),(0,l.isBeta)()?n.default.createElement("div",{ref:this.settingsRefs[8],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:"https://metamask.io/beta-terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("betaTerms"),n.default.createElement(o.Tag,{label:e("new"),className:"info-tab__tag"}))):null,n.default.createElement("div",{ref:this.settingsRefs[4],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:`https://raw.githubusercontent.com/MetaMask/metamask-extension/v${this.state.version}/attribution.txt`,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("attributions"))),n.default.createElement("hr",{className:"info-tab__separator"}),n.default.createElement("div",{ref:this.settingsRefs[5],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:this.toggleVisitSupportDataConsentModal},e("supportCenter"))),n.default.createElement("div",{ref:this.settingsRefs[6],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("visitWebSite"))),n.default.createElement("div",{ref:this.settingsRefs[7],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:i.SUPPORT_REQUEST_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:i.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]})}},e("contactUs"))))}render(){const{t:e}=this.context;return n.default.createElement("div",{className:"settings-page__body"},n.default.createElement("div",{className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},n.default.createElement("div",{className:"info-tab__item"},n.default.createElement("div",{ref:this.settingsRefs[0],className:"info-tab__version-header"},(0,l.isBeta)()?e("betaMetamaskVersion"):e("metamaskVersion")),n.default.createElement("div",{className:"info-tab__version-number"},this.state.version)),n.default.createElement("div",{className:"info-tab__item"},n.default.createElement("div",{className:"info-tab__about"},e("builtAroundTheWorld")))),this.renderInfoLinks()),n.default.createElement("div",{className:"info-tab__logo-wrapper"},n.default.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"info-tab__logo",alt:"MetaMask Logo"})),this.state.isVisitSupportDataConsentModalOpen&&n.default.createElement(d.default,{isOpen:this.state.isVisitSupportDataConsentModalOpen,onClose:this.toggleVisitSupportDataConsentModal}))}}a.default=g,f(g,"contextTypes",{t:s.default.func,trackEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/info-tab/info-tab.component.js"}],[7440,{"./networks-form":7442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./networks-form"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/index.js"}],[7441,{"../../../../../shared/modules/conversion.utils":5529,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useNetworkFormState=void 0;var n=e("react"),s=e("../../../../../shared/modules/conversion.utils");a.useNetworkFormState=e=>{const[t,a]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[c,u]=(0,n.useState)({rpcEndpoints:[],defaultRpcEndpointIndex:undefined}),[d,p]=(0,n.useState)({blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined});return(0,n.useEffect)(()=>{a((null==e?void 0:e.name)??""),o(e?(0,s.hexToDecimal)(e.chainId):""),l((null==e?void 0:e.nativeCurrency)??""),u({rpcEndpoints:(null==e?void 0:e.rpcEndpoints)??[],defaultRpcEndpointIndex:null==e?void 0:e.defaultRpcEndpointIndex}),p({blockExplorerUrls:(null==e?void 0:e.blockExplorerUrls)??[],defaultBlockExplorerUrlIndex:null==e?void 0:e.defaultBlockExplorerUrlIndex})},[null==e?void 0:e.chainId]),{name:t,setName:a,chainId:r,setChainId:o,ticker:i,setTicker:l,rpcUrls:c,setRpcUrls:u,blockExplorers:d,setBlockExplorers:p,clear:()=>{a(""),o(""),l(""),u({rpcEndpoints:[],defaultRpcEndpointIndex:undefined}),p({blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined})}}}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form-state.ts"}],[7442,{"../../../../../shared/constants/metametrics":5430,"../../../../../shared/constants/network":5433,"../../../../../shared/lib/only-keep-host":5509,"../../../../../shared/modules/conversion.utils":5529,"../../../../../shared/modules/network.utils":5539,"../../../../../shared/modules/rpc.utils":5542,"../../../../../shared/modules/selectors/networks":5547,"../../../../components/component-library":6097,"../../../../components/multichain/dropdown-editor/dropdown-editor":6309,"../../../../components/multichain/network-list-menu/rpc-list-item":6356,"../../../../contexts/metametrics":6608,"../../../../helpers/constants/design-system":6645,"../../../../hooks/useI18nContext":6777,"../../../../selectors":7539,"../../../../store/actions":7565,"./use-safe-chains":7443,"@metamask/controller-utils":1301,"@metamask/network-controller":2168,"@metamask/utils":2799,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.NetworksForm=void 0;var n,s=(n=e("loglevel"))&&n.__esModule?n:{default:n},r=S(e("react")),o=e("react-redux"),i=e("@metamask/network-controller"),l=e("@metamask/utils"),c=e("@metamask/controller-utils"),u=e("../../../../../shared/constants/metametrics"),d=e("../../../../../shared/constants/network"),p=e("../../../../../shared/modules/conversion.utils"),m=e("../../../../../shared/modules/network.utils"),f=e("../../../../../shared/modules/rpc.utils"),g=e("../../../../contexts/metametrics"),h=e("../../../../hooks/useI18nContext"),_=e("../../../../../shared/modules/selectors/networks"),y=e("../../../../store/actions"),E=e("../../../../components/component-library"),v=e("../../../../helpers/constants/design-system"),b=S(e("../../../../components/multichain/network-list-menu/rpc-list-item")),C=e("../../../../components/multichain/dropdown-editor/dropdown-editor"),w=e("../../../../selectors"),T=e("../../../../../shared/lib/only-keep-host"),x=e("./use-safe-chains");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}const M=({networkFormState:e,existingNetwork:t,onRpcAdd:a,onBlockExplorerAdd:n,toggleNetworkMenuAfterSubmit:l=!0,onComplete:k,onEdit:S})=>{var M,I,P,D,O,R,A,B;const F=(0,h.useI18nContext)(),L=(0,o.useDispatch)(),j=(0,r.useContext)(g.MetaMetricsContext),U=(0,r.useRef)(null),W=(0,o.useSelector)(_.getNetworkConfigurationsByChainId),$=(0,o.useSelector)(w.getIsRpcFailoverEnabled),{name:V,setName:z,chainId:H,setChainId:G,ticker:q,setTicker:K,rpcUrls:Y,setRpcUrls:Z,blockExplorers:J,setBlockExplorers:Q}=e,X=Y.defaultRpcEndpointIndex===undefined?undefined:Y.rpcEndpoints[Y.defaultRpcEndpointIndex],{safeChains:ee}=(0,x.useSafeChains)(),[te,ae]=(0,r.useState)({}),[ne,se]=(0,r.useState)({}),[re,oe]=(0,r.useState)(),[ie,le]=(0,r.useState)(),[ce,ue]=(0,r.useState)(),de=(0,o.useSelector)(w.getTokenNetworkFilter);(0,r.useEffect)(()=>{var e,t;const a=H?N(H):undefined,n=a?d.NETWORK_TO_NAME_MAP[a]??(null===(e=c.NETWORKS_BYPASSING_VALIDATION[a])||void 0===e?void 0:e.name)??(null==ee||null===(t=ee.find(e=>N(e.chainId)===a))||void 0===t?void 0:t.name):undefined,s=n&&n!==V;oe(s?n:undefined),se(e=>({...e,name:s?{key:"wrongNetworkName",msg:F("wrongNetworkName")}:undefined}))},[H,V,ee]),(0,r.useEffect)(()=>{var e,t;const a=H?N(H):undefined,n=a?d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[a]??(null==ee||null===(e=ee.find(e=>N(e.chainId)===a))||void 0===e||null===(e=e.nativeCurrency)||void 0===e?void 0:e.symbol):undefined,s=!!a&&(null===(t=c.NETWORKS_BYPASSING_VALIDATION[a])||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.toLowerCase())===(null==q?void 0:q.toLowerCase()),r=n&&n!==q&&!s;le(r?n:undefined),se(e=>({...e,ticker:r?{key:"chainListReturnedDifferentTickerSymbol",msg:F("chainListReturnedDifferentTickerSymbol")}:undefined}))},[H,q,ee]),(0,r.useEffect)(()=>{let e;H===undefined||""===H?e=undefined:H.startsWith("0x")?/^0x[0-9a-f]+$/iu.test(H)?(0,m.isPrefixedFormattedHexString)(H)||(e=["invalidHexNumber",F("invalidHexNumberLeadingZeros")]):e=["invalidHexNumber",F("invalidHexNumber")]:/^[0-9]+$/u.test(H)?H.startsWith("0")&&(e=["invalidNumberLeadingZeros",F("invalidNumberLeadingZeros")]):e=["invalidNumber",F("invalidNumber")],!H||e||(0,m.isSafeChainId)(parseInt(H,H.startsWith("0x")?16:10))||(e=["invalidChainIdTooBig",F("invalidChainIdTooBig")]);const a=N(H);if(!e&&!t){const t=a?W[a]:undefined;t&&(e=["existingChainId",F("chainIdExistsErrorMsg",[t.name])])}let n;ce&&a&&ce!==a&&(n=["endpointReturnedDifferentChainId",F("endpointReturnedDifferentChainId",[(0,p.hexToDecimal)(ce)])]),ae(t=>({...t,chainId:e?{key:e[0],msg:e[1]}:undefined,rpcUrl:n?{key:n[0],msg:n[1]}:undefined}))},[H,ce,null==t?void 0:t.chainId]),(0,r.useEffect)(()=>{var e;const t=null==Y||null===(e=Y.rpcEndpoints)||void 0===e||null===(e=e[(null==Y?void 0:Y.defaultRpcEndpointIndex)??-1])||void 0===e?void 0:e.url;var a;t&&(0,f.jsonRpcRequest)((a=t,a.endsWith("{infuraProjectId}")?a.replace("{infuraProjectId}",d.infuraProjectId??""):a),"eth_chainId").then(e=>{ue(e)}).catch(e=>{ue(undefined),s.default.warn("Failed to fetch the chainId from the endpoint.",e),ae(e=>({...e,rpcUrl:{key:"failedToFetchChainId",msg:F("failedToFetchChainId")}}))})},[H,Y]);return r.default.createElement(E.Box,{height:v.BlockSize.Full,display:v.Display.Flex,justifyContent:v.JustifyContent.spaceBetween,flexDirection:v.FlexDirection.Column,alignItems:v.AlignItems.center,ref:U,className:"networks-tab__scrollable"},r.default.createElement(E.Box,{width:v.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingBottom:2},r.default.createElement(E.FormTextField,{id:"networkName",size:E.FormTextFieldSize.Lg,placeholder:F("enterNetworkName"),"data-testid":"network-form-name-input",autoFocus:!0,helpText:(V&&(null==ne||null===(M=ne.name)||void 0===M?void 0:M.msg)||re)&&r.default.createElement(r.default.Fragment,null,V&&(null==ne||null===(I=ne.name)||void 0===I?void 0:I.msg)&&r.default.createElement(E.HelpText,{variant:v.TextVariant.bodySm,severity:E.HelpTextSeverity.Warning},ne.name.msg),re&&r.default.createElement(E.Text,{as:"span",variant:v.TextVariant.bodySm,color:v.TextColor.textDefault,"data-testid":"network-form-name-suggestion"},F("suggestedTokenName"),r.default.createElement(E.ButtonLink,{as:"button",variant:v.TextVariant.bodySm,color:v.TextColor.primaryDefault,onClick:()=>{z(re)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},re))),onChange:e=>{var t;z(null===(t=e.target)||void 0===t?void 0:t.value)},label:F("networkName"),labelProps:{children:undefined,variant:v.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:v.BorderRadius.LG},inputProps:{"data-testid":"network-form-network-name"},value:V}),r.default.createElement(C.DropdownEditor,{title:F("defaultRpcUrl"),placeholder:F("addAUrl"),style:C.DropdownEditorStyle.PopoverStyle,items:Y.rpcEndpoints,itemKey:e=>e.url,selectedItemIndex:Y.defaultRpcEndpointIndex,error:Boolean(te.rpcUrl),buttonDataTestId:"test-add-rpc-drop-down",renderItem:(e,t)=>t||null!=e&&e.name||(null==e?void 0:e.type)===i.RpcEndpointType.Infura?r.default.createElement(b.default,{rpcEndpoint:e}):r.default.createElement(E.Text,{ellipsis:!0,variant:v.TextVariant.bodyMd,paddingTop:3,paddingBottom:3,display:v.Display.Flex,alignItems:v.AlignItems.center,gap:1},(0,b.stripProtocol)((0,b.stripKeyFromInfuraUrl)(e.url)),$&&e.failoverUrls&&e.failoverUrls.length>0?r.default.createElement(E.Tag,{label:F("failover"),display:v.Display.Inline}):null),renderTooltip:(e,t)=>{const a=(0,b.stripKeyFromInfuraUrl)(e.url);return a.length>(t?37:35)?a:undefined},addButtonText:F("addRpcUrl"),itemIsDeletable:e=>e.type!==i.RpcEndpointType.Infura,onItemAdd:a,onItemSelected:e=>Z(t=>({...t,defaultRpcEndpointIndex:e})),onItemDeleted:(e,t)=>{var a;Z({rpcEndpoints:null===(a=Y.rpcEndpoints)||void 0===a?void 0:a.slice(0,e).concat(Y.rpcEndpoints.slice(e+1)),defaultRpcEndpointIndex:t})}}),(null===(P=te.rpcUrl)||void 0===P?void 0:P.msg)&&r.default.createElement(E.Box,null,r.default.createElement(E.HelpText,{variant:v.TextVariant.bodySm,severity:E.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},null===(D=te.rpcUrl)||void 0===D?void 0:D.msg)),$&&X&&X.failoverUrls&&X.failoverUrls.length>0?r.default.createElement(E.FormTextField,{id:"failoverRpcUrl",size:E.FormTextFieldSize.Lg,paddingTop:4,label:F("failoverRpcUrl"),labelProps:{children:undefined,variant:v.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:v.BorderRadius.LG},value:(0,T.onlyKeepHost)(X.failoverUrls[0]),disabled:!0}):null,r.default.createElement(E.FormTextField,{id:"chainId",size:E.FormTextFieldSize.Lg,placeholder:F("enterChainId"),paddingTop:4,"data-testid":"network-form-chain-id-input",onChange:e=>{var t;G(null===(t=e.target)||void 0===t?void 0:t.value.trim())},error:Boolean(null==te?void 0:te.chainId),label:F("chainId"),labelProps:{children:undefined,variant:v.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:v.BorderRadius.LG},inputProps:{"data-testid":"network-form-chain-id"},value:H,disabled:Boolean(t)}),null!==(O=te.chainId)&&void 0!==O&&O.msg?r.default.createElement(E.HelpText,{variant:v.TextVariant.bodySm,severity:E.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},te.chainId.msg):null,"existingChainId"===(null===(R=te.chainId)||void 0===R?void 0:R.key)?r.default.createElement(E.Box,null,r.default.createElement(E.HelpText,{variant:v.TextVariant.bodySm,severity:E.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},F("updateOrEditNetworkInformations")," ",r.default.createElement(E.ButtonLink,{as:"button",variant:v.TextVariant.bodySm,color:v.TextColor.primaryDefault,onClick:()=>{const e=N(H);e&&(L((0,y.setEditedNetwork)({chainId:e})),null==S||S())}},F("editNetworkLink")))):null,r.default.createElement(E.FormTextField,{id:"nativeCurrency",size:E.FormTextFieldSize.Lg,placeholder:F("enterSymbol"),paddingTop:4,"data-testid":"network-form-ticker",helpText:ie?r.default.createElement(E.Text,{as:"span",variant:v.TextVariant.bodySm,color:v.TextColor.textDefault,"data-testid":"network-form-ticker-suggestion"},F("suggestedCurrencySymbol"),r.default.createElement(E.ButtonLink,{as:"button",variant:v.TextVariant.bodySm,color:v.TextColor.primaryDefault,onClick:()=>{K(ie)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},ie)):null,onChange:e=>{var t;K(null===(t=e.target)||void 0===t?void 0:t.value)},label:F("currencySymbol"),labelProps:{children:undefined,variant:v.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:v.BorderRadius.LG},inputProps:{"data-testid":"network-form-ticker-input"},value:q}),q&&null!==(A=ne.ticker)&&void 0!==A&&A.msg?r.default.createElement(E.HelpText,{variant:v.TextVariant.bodySm,severity:E.HelpTextSeverity.Warning,"data-testid":"network-form-ticker-warning"},ne.ticker.msg):null,r.default.createElement(C.DropdownEditor,{title:F("blockExplorerUrl"),placeholder:F("addAUrl"),style:C.DropdownEditorStyle.BoxStyle,items:J.blockExplorerUrls,itemKey:e=>`${e}`,selectedItemIndex:J.defaultBlockExplorerUrlIndex,addButtonText:F("addBlockExplorerUrl"),onItemAdd:n,buttonDataTestId:"test-explorer-drop-down",onItemSelected:e=>Q(t=>({...t,defaultBlockExplorerUrlIndex:e})),onItemDeleted:(e,t)=>{var a;Q({blockExplorerUrls:null===(a=J.blockExplorerUrls)||void 0===a?void 0:a.slice(0,e).concat(J.blockExplorerUrls.slice(e+1)),defaultBlockExplorerUrlIndex:t})},onDropdownOpened:()=>{U.current&&(U.current.scrollTop=U.current.scrollHeight)},renderItem:e=>r.default.createElement(E.Text,{as:"button",paddingLeft:0,paddingRight:0,paddingTop:3,paddingBottom:3,color:v.TextColor.textDefault,variant:v.TextVariant.bodyMd,backgroundColor:v.BackgroundColor.transparent,ellipsis:!0},(0,b.stripProtocol)(e)),renderTooltip:e=>e.length>36?e:undefined})),r.default.createElement(E.Box,{className:"networks-tab__network-form__footer",backgroundColor:v.BackgroundColor.backgroundDefault,padding:4,width:v.BlockSize.Full},r.default.createElement(E.ButtonPrimary,{disabled:!V||!H||!q||!(null!=Y&&null!==(B=Y.rpcEndpoints)&&void 0!==B&&B.length)||Object.values(te).some(e=>e),onClick:async()=>{try{const s=H?N(H):undefined;if(s===d.CHAIN_IDS.GOERLI)L((0,y.showDeprecatedNetworkModal)());else if(s){var e,a;const r={chainId:s,name:V,nativeCurrency:q,rpcEndpoints:null==Y?void 0:Y.rpcEndpoints,defaultRpcEndpointIndex:(null==Y?void 0:Y.defaultRpcEndpointIndex)??0,blockExplorerUrls:null==J?void 0:J.blockExplorerUrls,defaultBlockExplorerUrlIndex:null==J?void 0:J.defaultBlockExplorerUrlIndex};if(t){const e={replacementSelectedRpcEndpointIndex:s===t.chainId?null==Y?void 0:Y.defaultRpcEndpointIndex:undefined};await L((0,y.updateNetwork)(r,e)),1===Object.keys(de).length&&(await L((0,y.setTokenNetworkFilter)({[t.chainId]:!0})),await L((0,y.setEnabledNetworks)(t.chainId)))}else{var n;const e=await L((0,y.addNetwork)(r)),t=null==e||null===(n=e.rpcEndpoints)||void 0===n||null===(n=n[e.defaultRpcEndpointIndex])||void 0===n?void 0:n.networkClientId;await L((0,y.setActiveNetwork)(t)),await L((0,y.setEnabledNetworks)(r.chainId))}j({event:u.MetaMetricsEventName.CustomNetworkAdded,category:u.MetaMetricsEventCategory.Network,properties:{block_explorer_url:null==J||null===(e=J.blockExplorerUrls)||void 0===e?void 0:e[(null==J?void 0:J.defaultBlockExplorerUrlIndex)??-1],chain_id:s,network_name:V,source_connection_method:u.MetaMetricsNetworkEventSource.CustomNetworkForm,token_symbol:q},sensitiveProperties:{rpcUrl:(0,x.rpcIdentifierUtility)(null==Y||null===(a=Y.rpcEndpoints[Y.defaultRpcEndpointIndex??-1])||void 0===a?void 0:a.url,ee??[])}}),L((0,y.setEditedNetwork)({chainId:s,nickname:V,editCompleted:!0,newNetwork:!t}))}}catch(e){console.error(e)}finally{l&&L((0,y.toggleNetworkMenu)()),null==k||k()}},size:E.ButtonPrimarySize.Lg,width:v.BlockSize.Full},F("save"))))};function N(e){return(0,l.isStrictHexString)(e)?e:/^\d+$/u.test(e)?`0x${(0,p.decimalToHex)(e)}`:undefined}a.NetworksForm=M;a.default=M}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form.tsx"}],[7443,{"../../../../../shared/constants/network":5433,"../../../../../shared/constants/time":5449,"../../../../../shared/lib/fetch-with-cache":5498,"../../../../../shared/modules/conversion.utils":5529,"../../../../selectors":7539,"@metamask/utils":2799,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useSafeChains=a.rpcIdentifierUtility=a.getSafeNativeCurrencySymbol=void 0;var n,s=e("react"),r=e("react-redux"),o=e("@metamask/utils"),i=e("../../../../selectors"),l=(n=e("../../../../../shared/lib/fetch-with-cache"))&&n.__esModule?n:{default:n},c=e("../../../../../shared/constants/network"),u=e("../../../../../shared/constants/time"),d=e("../../../../../shared/modules/conversion.utils");a.useSafeChains=()=>{const e=(0,r.useSelector)(i.useSafeChainsListValidationSelector),[t,a]=(0,s.useState)({safeChains:[]});return(0,s.useEffect)(()=>{e&&(0,l.default)({url:c.CHAIN_SPEC_URL,functionName:"getSafeChainsList",allowStale:!0,cacheOptions:{cacheRefreshTime:u.DAY}}).then(e=>{a({safeChains:e})}).catch(e=>{a({error:e})})},[e]),t};a.getSafeNativeCurrencySymbol=(e,t)=>{var a;if(!e||!t)return undefined;const n=(0,o.isStrictHexString)(t)&&parseInt((0,d.hexToDecimal)(t),10);return"number"!=typeof n?undefined:null===(a=e.find(e=>e.chainId===n.toString()))||void 0===a||null===(a=a.nativeCurrency)||void 0===a?void 0:a.symbol};a.rpcIdentifierUtility=(e,t)=>{const{host:a}=new URL(e);for(const e of t)for(const t of e.rpc)try{if(a===new URL(t).host)return a}catch{continue}return"Unknown rpcUrl"}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/use-safe-chains.ts"}],[7444,{"../../../../components/component-library":6097,"../../../../helpers/constants/design-system":6645,"../../../../helpers/constants/zendesk-url":6657,"../../../../hooks/useI18nContext":6777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function({onConfirm:e,onCancel:t}){const a=(0,s.useI18nContext)(),l=n.default.createElement("a",{key:"change-password__link-text",href:i.default.PASSWORD_RESET,target:"_blank",rel:"noopener noreferrer"},n.default.createElement("span",{className:"change-password__link-text"},a("learnMoreUpperCase")));return n.default.createElement(o.Modal,{isOpen:!0,onClose:t,className:"change-password-warning-modal","data-testid":"change-password-warning-modal"},n.default.createElement(o.ModalOverlay,null),n.default.createElement(o.ModalContent,{alignItems:r.AlignItems.center},n.default.createElement(o.ModalHeader,null,n.default.createElement(o.Box,null,n.default.createElement(o.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.center},n.default.createElement(o.Icon,{name:o.IconName.Danger,size:o.IconSize.Xl,color:r.IconColor.warningDefault})),n.default.createElement(o.Text,{variant:r.TextVariant.headingMd,textAlign:r.TextAlign.Center,marginTop:4},a("changePasswordWarning")),n.default.createElement(o.Text,{variant:r.TextVariant.bodySm,marginTop:4},a("changePasswordWarningDescription")," ",l))),n.default.createElement(o.Box,{paddingLeft:4,paddingRight:4},n.default.createElement(o.Box,{display:r.Display.Flex,marginTop:2,gap:4},n.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,"data-testid":"change-password-warning-cancel",size:o.ButtonSize.Lg,block:!0,onClick:()=>t()},a("cancel")),n.default.createElement(o.Button,{"data-testid":"change-password-warning-confirm",size:o.ButtonSize.Lg,block:!0,onClick:()=>e()},a("confirm"))))))};var n=l(e("react")),s=e("../../../../hooks/useI18nContext"),r=e("../../../../helpers/constants/design-system"),o=e("../../../../components/component-library"),i=l(e("../../../../helpers/constants/zendesk-url"));function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/change-password-warning.tsx"}],[7445,{"../../../../../shared/constants/app-state":5414,"../../../../../shared/constants/metametrics":5430,"../../../../components/app/password-form/password-form":5806,"../../../../components/app/toast-master/utils":5990,"../../../../components/component-library":6097,"../../../../components/ui/mascot":6540,"../../../../components/ui/spinner":6571,"../../../../contexts/metametrics":6608,"../../../../helpers/constants/design-system":6645,"../../../../helpers/constants/routes":6650,"../../../../helpers/constants/zendesk-url":6657,"../../../../helpers/utils/build-types":6670,"../../../../hooks/useI18nContext":6777,"../../../../selectors":7539,"../../../../store/actions":7565,"./change-password-warning":7444,events:4072,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=T(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom-v5-compat"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/build-types"),u=T(e("../../../../components/ui/mascot")),d=T(e("../../../../components/ui/spinner")),p=e("../../../../hooks/useI18nContext"),m=e("../../../../store/actions"),f=T(e("../../../../components/app/password-form/password-form")),g=e("../../../../helpers/constants/routes"),h=e("../../../../components/app/toast-master/utils"),_=e("../../../../../shared/constants/app-state"),y=e("../../../../selectors"),E=T(e("../../../../helpers/constants/zendesk-url")),v=e("../../../../contexts/metametrics"),b=e("../../../../../shared/constants/metametrics"),C=T(e("./change-password-warning"));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}const x=1,k=2,S=3;a.default=()=>{const e=(0,p.useI18nContext)(),t=(0,r.useDispatch)(),a=(0,o.useNavigate)(),w=(0,s.useContext)(v.MetaMetricsContext),T=(0,r.useSelector)(y.getIsSocialLoginFlow),M=(0,s.useRef)(new n.default),[N,I]=(0,s.useState)(x),[P,D]=(0,s.useState)(""),[O,R]=(0,s.useState)(!1),[A,B]=(0,s.useState)(!1),[F,L]=(0,s.useState)(""),[j,U]=(0,s.useState)(!1),W=async()=>{try{U(!1),I(S),await t((0,m.changePassword)(F,P)),w({category:b.MetaMetricsEventCategory.Settings,event:b.MetaMetricsEventName.PasswordChanged,properties:{biometrics_enabled:!1}}),a(g.SECURITY_ROUTE),t((0,h.setShowPasswordChangeToast)(_.PasswordChangeToastType.Success))}catch(e){console.error(e),I(k),t((0,h.setShowPasswordChangeToast)(_.PasswordChangeToastType.Errored))}},$=s.default.createElement("a",{onClick:e=>{e.stopPropagation(),w({category:b.MetaMetricsEventCategory.Onboarding,event:b.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"change_password",url:E.default.PASSWORD_ARTICLE}})},key:"change-password__link-text",href:E.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},s.default.createElement("span",{className:"change-password__link-text"},e("learnMoreUpperCaseWithDot")));return(0,s.useEffect)(()=>{(async()=>{T&&await t((0,m.checkIsSeedlessPasswordOutdated)())})()},[t,T]),s.default.createElement(i.Box,{padding:4,className:"change-password"},N===x&&s.default.createElement(i.Box,{as:"form",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:6,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,onSubmit:e=>{e.preventDefault(),(async()=>{try{await(0,m.verifyPassword)(P),R(!1),I(k)}catch(e){R(!0)}})()}},s.default.createElement(i.FormTextField,{id:"current-password",label:e("enterPasswordCurrent"),textFieldProps:{type:i.TextFieldType.Password},size:i.FormTextFieldSize.Lg,labelProps:{marginBottom:1},inputProps:{autoFocus:!0,"data-testid":"verify-current-password-input"},value:P,error:O,helpText:O?e("unlockPageIncorrectPassword"):null,onChange:e=>{D(e.target.value),R(!1)}}),s.default.createElement(i.Button,{type:"submit",block:!0,size:i.ButtonSize.Lg,disabled:O||!P,"data-testid":"verify-current-password-button"},e("continue"))),N===k&&s.default.createElement(i.Box,{as:"form",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:6,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,onSubmit:e=>{e.preventDefault(),T?U(!0):W()}},s.default.createElement(i.Box,null,s.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:4,as:"h2"},e(T?"createPasswordDetailsSocial":"createPasswordDetails")),s.default.createElement(f.default,{onChange:e=>L(e),pwdInputTestId:"change-password-input",confirmPwdInputTestId:"change-password-confirm-input"}),s.default.createElement(i.Box,{className:"create-password__terms-container",alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,marginTop:6},s.default.createElement(i.Checkbox,{inputProps:{"data-testid":"change-password-terms"},alignItems:l.AlignItems.flexStart,isChecked:A,onChange:()=>{B(!A)},label:s.default.createElement(s.default.Fragment,null,e(T?"passwordTermsWarningSocial":"passwordTermsWarning"),"",$)}))),s.default.createElement(i.Button,{type:"submit",disabled:!P||!F||!A,"data-testid":"change-password-button",block:!0},e("save"))),N===S&&s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,marginTop:12},s.default.createElement("div",null,(0,c.isFlask)()||(0,c.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"100",height:"100"}):s.default.createElement(u.default,{animationEventEmitter:M.current,width:"100",height:"100"})),s.default.createElement(d.default,{className:"change-password__spinner"}),s.default.createElement(i.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},e("changePasswordLoading")),s.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},e("changePasswordLoadingNote"))),j&&s.default.createElement(C.default,{onConfirm:()=>{W()},onCancel:()=>U(!1)}))}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/change-password.tsx"}],[7446,{"./change-password":7445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./change-password"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/index.ts"}],[7447,{"../../../../../shared/constants/metametrics":5430,"../../../../../shared/lib/ui-utils":5523,"../../../../components/app/clear-metametrics-data":5653,"../../../../components/app/data-deletion-error-modal":5699,"../../../../components/component-library":6097,"../../../../ducks/app/app":6617,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/util":6703,"../../../../hooks/useI18nContext":6777,"../../../../selectors":7539,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=g(e("react")),s=e("react-redux"),r=e("../../../../../shared/lib/ui-utils"),o=g(e("../../../../components/app/clear-metametrics-data")),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../selectors"),d=e("../../../../ducks/app/app"),p=g(e("../../../../components/app/data-deletion-error-modal")),m=e("../../../../helpers/utils/util"),f=e("../../../../../shared/constants/metametrics");function g(e){return e&&e.__esModule?e:{default:e}}const h=n.default.forwardRef(({defaultPrivacySettings:e,...t},a)=>{const g=(0,c.useI18nContext)(),h=(0,s.useDispatch)(),_=(0,s.useSelector)(u.getMetaMetricsId),y=(0,s.useSelector)(u.getMetaMetricsDataDeletionStatus),E=(0,s.useSelector)(u.getMetaMetricsDataDeletionTimestamp),v=(0,m.formatDate)(E,"d/MM/y"),b=(0,s.useSelector)(u.getShowDeleteMetaMetricsDataModal),C=(0,s.useSelector)(u.getShowDataDeletionErrorModal),w=(0,s.useSelector)(u.getLatestMetricsEventTimestamp);let T=!(0,s.useSelector)(u.getParticipateInMetaMetrics);!T&&y&&(T=[f.DeleteRegulationStatus.Initialized,f.DeleteRegulationStatus.Running,f.DeleteRegulationStatus.Finished].includes(y)&&E>w);const x=n.default.createElement("a",{href:r.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"metametrics-consensys-privacy-link"},g("privacyMsg"));return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Box,{ref:a,className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,g("deleteMetaMetricsData")),n.default.createElement("div",{className:"settings-page__content-description"},T&&Boolean(_)?g("deleteMetaMetricsDataRequestedDescription",[v,x]):g("deleteMetaMetricsDataDescription",[x]))),n.default.createElement("div",{className:"settings-page__content-item-col "+(e?"settings-page__button-defaut-settings":"")},Boolean(!_)&&n.default.createElement(i.Box,{display:l.Display.InlineFlex},n.default.createElement(i.Icon,{name:i.IconName.Info,size:i.IconSize.Sm}),n.default.createElement(i.Text,{variant:l.TextVariant.bodyXs,marginLeft:1,marginBottom:2},g("metaMetricsIdNotAvailableError"))),n.default.createElement(i.ButtonPrimary,{"data-testid":"delete-metametrics-data-button",className:"settings-page__button",width:l.BlockSize.Full,onClick:()=>{h((0,d.openDeleteMetaMetricsDataModal)())},disabled:T},g("deleteMetaMetricsData")))),b&&n.default.createElement(o.default,null),C&&n.default.createElement(p.default,null))});a.default=h}}},{package:"$root$",file:"ui/pages/settings/security-tab/delete-metametrics-data-button/delete-metametrics-data-button.tsx"}],[7448,{"./delete-metametrics-data-button":7447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./delete-metametrics-data-button"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/delete-metametrics-data-button/index.ts"}],[7449,{"./security-tab.container":7455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./security-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/index.js"}],[7450,{"./metametrics-toggle":7451},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./metametrics-toggle"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/metametrics-toggle/index.ts"}],[7451,{"../../../../../shared/constants/metametrics":5430,"../../../../components/component-library":6097,"../../../../components/ui/toggle-button":6585,"../../../../contexts/metametrics":6608,"../../../../helpers/constants/design-system":6645,"../../../../hooks/useI18nContext":6777,"../../../../hooks/useMetametrics":6780,"../../../../selectors":7539,"../../../../selectors/identity/backup-and-sync":7538,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("../../../../hooks/useI18nContext"),i=e("../../../../contexts/metametrics"),l=e("../../../../hooks/useMetametrics"),c=e("../../../../selectors/identity/backup-and-sync"),u=e("../../../../../shared/constants/metametrics"),d=e("../../../../components/component-library"),p=(n=e("../../../../components/ui/toggle-button"))&&n.__esModule?n:{default:n},m=e("../../../../helpers/constants/design-system"),f=e("../../../../selectors");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}a.default=({dataCollectionForMarketing:e,setDataCollectionForMarketing:t,fromDefaultSettings:a=!1})=>{const n=(0,o.useI18nContext)(),g=(0,s.useContext)(i.MetaMetricsContext),{enableMetametrics:h,error:_}=(0,l.useEnableMetametrics)(),{disableMetametrics:y,error:E}=(0,l.useDisableMetametrics)(),v=_||E,b=(0,r.useSelector)(c.selectIsBackupAndSyncEnabled),C=(0,r.useSelector)(f.getParticipateInMetaMetrics),w=(0,r.useSelector)(f.getUseExternalServices);return s.default.createElement(d.Box,null,s.default.createElement(d.Box,{className:"settings-page__content-row",display:m.Display.Flex,flexDirection:m.FlexDirection.Row,justifyContent:m.JustifyContent.spaceBetween,gap:4,"data-testid":"participate-in-meta-metrics-container"},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("span",null,n("participateInMetaMetrics")),s.default.createElement("div",{className:"settings-page__content-description"},n("participateInMetaMetricsDescription"))),s.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"participate-in-meta-metrics-toggle"},s.default.createElement(p.default,{value:C,disabled:!w,onToggle:n=>(async n=>{n?(await h(),g({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.TurnOnMetaMetrics,properties:{isProfileSyncingEnabled:b,participateInMetaMetrics:C,location:a?"Default Settings":"Settings"}})):(e&&await t(!1),await y(),g({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.TurnOffMetaMetrics,properties:{isProfileSyncingEnabled:b,participateInMetaMetrics:C}}),g({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!1,has_marketing_consent:!1,location:"Settings"}}))})(!n),offLabel:n("off"),onLabel:n("on")}))),v&&s.default.createElement(d.Box,{paddingBottom:4},s.default.createElement(d.Text,{as:"p",color:m.TextColor.errorDefault,variant:m.TextVariant.bodySm},n("notificationsSettingsBoxError"))))}}}},{package:"$root$",file:"ui/pages/settings/security-tab/metametrics-toggle/metametrics-toggle.tsx"}],[7452,{"./reveal-srp-list":7453},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"RevealSrpList",{enumerable:!0,get:function(){return n.RevealSrpList}});var n=e("./reveal-srp-list")}}},{package:"$root$",file:"ui/pages/settings/security-tab/reveal-srp-list/index.ts"}],[7453,{"../../../../components/app/srp-quiz-modal/SRPQuiz":5981,"../../../../components/component-library":6097,"../../../../components/multichain/multi-srp/srp-list/srp-list":6339,"../../../../components/ui/card":6484,"../../../../helpers/constants/design-system":6645,"../../../../helpers/constants/routes":6650,"../../../../hooks/social-sync/useSyncSRPs":6751,"../../../../hooks/useI18nContext":6777,"../../../../selectors":7539,"@metamask/seedless-onboarding-controller":2404,lodash:4534,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.RevealSrpList=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-router-dom-v5-compat"),r=e("react-redux"),o=e("@metamask/seedless-onboarding-controller"),i=e("lodash"),l=e("../../../../components/component-library"),c=_(e("../../../../components/app/srp-quiz-modal/SRPQuiz")),u=e("../../../../components/multichain/multi-srp/srp-list/srp-list"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../hooks/useI18nContext"),m=e("../../../../helpers/constants/routes"),f=e("../../../../selectors"),g=_(e("../../../../components/ui/card")),h=e("../../../../hooks/social-sync/useSyncSRPs");function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}a.RevealSrpList=()=>{const e=(0,p.useI18nContext)(),t=(0,s.useNavigate)(),[a,_]=(0,n.useState)(!1),[y,E]=(0,n.useState)(""),v=(0,r.useSelector)(f.getIsSocialLoginFlow),b=(0,r.useSelector)(f.getSocialLoginType),C=(0,r.useSelector)(f.getSocialLoginEmail);(0,h.useSyncSRPs)();return n.default.createElement(l.Box,{className:"srp-reveal-list"},v&&n.default.createElement(l.Box,{paddingTop:4,paddingLeft:4,paddingRight:4},n.default.createElement(l.Text,{marginBottom:2,variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative,textTransform:d.TextTransform.Uppercase},e("securitySocialLoginLabel",[b])),n.default.createElement(g.default,{className:"srp-reveal-list__social-login-card",backgroundColor:d.BackgroundColor.backgroundMuted,border:!1},n.default.createElement(l.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Row,alignItems:d.AlignItems.center,gap:3},n.default.createElement(l.Box,{display:d.Display.Flex,alignItems:d.AlignItems.center,gap:2},b===o.AuthConnection.Apple?n.default.createElement(l.Icon,{name:l.IconName.Apple,color:d.IconColor.iconDefault,size:l.IconSize.Lg}):n.default.createElement("img",{src:"images/icons/google.svg",className:"srp-reveal-list__social-icon",alt:"Google icon"})),n.default.createElement(l.Box,{flexDirection:d.FlexDirection.Column},n.default.createElement(l.Text,{fontWeight:d.FontWeight.Medium},e("securitySocialLoginEnabled")),C&&n.default.createElement(l.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative},(e=>{const[t,a]=e.split("@"),n=t.slice(0,1);return`${`${n}${"*".repeat(t.length-n.length)}`}@${a}`})(C))))),n.default.createElement(l.Text,{marginTop:1,variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative},e("securitySocialLoginEnabledDescription",[(0,i.capitalize)(b)])),n.default.createElement(l.Box,{width:d.BlockSize.Full,className:"srp-reveal-list__divider",marginTop:4})),n.default.createElement(l.Box,{paddingTop:4,paddingLeft:4,paddingRight:4,paddingBottom:0,className:"srp-reveal-list__srp-list"},n.default.createElement(l.Text,{marginBottom:2,variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative,textTransform:d.TextTransform.Uppercase},e("securitySrpLabel")),n.default.createElement(u.SrpList,{onActionComplete:(e,a)=>{if(a){const e=`${m.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true&isFromSettingsSecurity=true`;t(e)}else E(e),_(!0)},hideShowAccounts:!1,isSettingsPage:!0})),a&&y&&n.default.createElement(c.default,{keyringId:y,isOpen:a,onClose:()=>_(!1)}))}}}},{package:"$root$",file:"ui/pages/settings/security-tab/reveal-srp-list/reveal-srp-list.tsx"}],[7454,{"../../../../app/scripts/lib/util":290,"../../../../shared/constants/app":5415,"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/network":5433,"../../../../shared/lib/ui-utils":5523,"../../../../shared/modules/environment":5530,"../../../components/app/srp-quiz-modal/SRPQuiz":5981,"../../../components/component-library":6097,"../../../components/ui/popover":6558,"../../../components/ui/text-field":6581,"../../../components/ui/toggle-button":6585,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../helpers/constants/zendesk-url":6657,"../../../helpers/utils/settings-search":6694,"../../../store/actions":7565,"./delete-metametrics-data-button":7448,"./metametrics-toggle":7450,lodash:4534,loglevel:4542,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("lodash"),s=k(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=k(e("loglevel")),i=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/network"),d=e("../../../../shared/lib/ui-utils"),p=k(e("../../../components/app/srp-quiz-modal/SRPQuiz")),m=e("../../../components/component-library"),f=k(e("../../../components/ui/text-field")),g=k(e("../../../components/ui/toggle-button")),h=k(e("../../../components/ui/popover")),_=e("../../../helpers/constants/design-system"),y=e("../../../helpers/constants/routes"),E=e("../../../helpers/utils/settings-search"),v=e("../../../store/actions"),b=k(e("../../../helpers/constants/zendesk-url")),C=e("../../../../shared/modules/environment"),w=k(e("./metametrics-toggle")),T=k(e("./delete-metametrics-data-button"));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}function k(e){return e&&e.__esModule?e:{default:e}}function S(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class M extends r.PureComponent{constructor(...e){super(...e),S(this,"state",{ipfsGateway:this.props.ipfsGateway||u.IPFS_DEFAULT_GATEWAY_URL,ipfsGatewayError:"",srpQuizModalVisible:!1,showDataCollectionDisclaimer:!1,ipfsToggle:this.props.ipfsGateway.length>0,hasEmailMarketingConsentError:!1}),S(this,"settingsRefCounter",0),S(this,"settingsRefs",Array((0,E.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("securityAndPrivacy"))).fill(undefined).map(()=>r.default.createRef())),S(this,"hideSrpQuizModal",()=>this.setState({srpQuizModalVisible:!1})),S(this,"renderDataCollectionWarning",()=>{const{t:e}=this.context;return r.default.createElement(h.default,{wrapTitle:!0,centerTitle:!0,onClose:()=>this.setState({showDataCollectionDisclaimer:!1}),title:r.default.createElement(m.Icon,{size:m.IconSize.Xl,name:m.IconName.Danger,color:_.IconColor.warningDefault}),footer:r.default.createElement(m.Button,{width:_.BlockSize.Full,type:"primary",onClick:()=>this.setState({showDataCollectionDisclaimer:!1})},e("dataCollectionWarningPopoverButton"))},r.default.createElement(m.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:2,margin:4},r.default.createElement(m.Text,null,e("dataCollectionWarningPopoverDescription"))))})}componentDidUpdate(e){const{t:t}=this.context;(0,E.handleSettingsRefs)(t,t("securityAndPrivacy"),this.settingsRefs),!0!==e.dataCollectionForMarketing||!0!==this.props.participateInMetaMetrics||!1!==this.props.dataCollectionForMarketing||this.props.socialLoginEnabled||this.setState({showDataCollectionDisclaimer:!0})}async componentDidMount(){const{t:e}=this.context;if((0,E.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs),this.props.metaMetricsDataDeletionId&&await(0,v.updateDataDeletionTaskStatus)(),this.props.socialLoginEnabled){const e=await this.props.getMarketingConsent();this.props.setDataCollectionForMarketing(e)}}toggleSetting(e,t,a,n){this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:t,properties:{action:a,legacy_event:!0}}),n(!e)}async toggleDataCollectionForMarketing(e){if(this.props.socialLoginEnabled)try{await this.props.setMarketingConsent(e)}catch(e){o.default.error("Error setting marketing consent",e)}this.props.setDataCollectionForMarketing(e),this.props.participateInMetaMetrics?this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(e),location:"Settings"}}):this.props.socialLoginEnabled||this.props.setParticipateInMetaMetrics(!0)}renderSeedWords(){const{t:e}=this.context,{isSeedPhraseBackedUp:t,socialLoginEnabled:a,socialLoginType:s,navigate:o,hdEntropyIndex:i}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__security-tab-sub-header"},e("secretRecoveryPhrase")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(m.Box,{className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securitySrpDescription")),r.default.createElement(m.BannerAlert,{"data-testid":"backup-state-banner-alert",description:a?e("securityLoginWithSocial",[(0,n.capitalize)(s)]):e(t?"securityLoginWithSrpBackedUp":"securityLoginWithSrpNotBackedUp"),paddingTop:2,paddingBottom:2,marginTop:4,severity:t?m.BannerAlertSeverity.Success:m.BannerAlertSeverity.Danger})),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(m.Button,{"data-testid":"reveal-seed-words",size:m.ButtonSize.Lg,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.KeyExportSelected,properties:{key_type:c.MetaMetricsEventKeyType.Srp,location:"Settings",hd_entropy_index:i}}),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SrpRevealClicked,properties:{key_type:c.MetaMetricsEventKeyType.Srp,location:"Settings"}}),o(y.REVEAL_SRP_LIST_ROUTE)}},e(a?"securitySrpWalletRecovery":"revealSecretRecoveryPhrase")))),this.state.srpQuizModalVisible&&r.default.createElement(p.default,{isOpen:this.state.srpQuizModalVisible,onClose:this.hideSrpQuizModal})))}renderChangePassword(){const{t:e}=this.context,{navigate:t}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__security-tab-sub-header"},e("securityChangePasswordTitle")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(m.Box,{className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securityChangePasswordDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(m.Button,{"data-testid":"change-password-button",size:m.ButtonSize.Lg,onClick:()=>{t(y.SECURITY_PASSWORD_CHANGE_ROUTE)}},e("securityChangePassword"))))))}renderSecurityAlertsToggle(){const{t:e}=this.context,{securityAlertsEnabled:t}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[16]},r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},e("securityAlerts"))),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(m.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securityAlertsDescription",[r.default.createElement("a",{key:"learn_more_link",href:d.SECURITY_ALERTS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"securityAlert"},r.default.createElement(g.default,{value:t,onToggle:this.toggleSecurityAlert.bind(this),offLabel:e("off"),onLabel:e("on")})))))}renderPhishingDetectionToggle(){const{t:e}=this.context,{usePhishDetect:t,setUsePhishDetect:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("usePhishingDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("usePhishingDetectionDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"usePhishingDetection"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderUse4ByteResolutionToggle(){const{t:e}=this.context,{use4ByteResolution:t,setUse4ByteResolution:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("use4ByteResolution")),r.default.createElement("div",{className:"settings-page__content-description"},e("toggleDecodeDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"4byte-resolution-container"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderDataCollectionForMarketing(){const{t:e}=this.context,{dataCollectionForMarketing:t,useExternalServices:a,socialLoginEnabled:n,participateInMetaMetrics:s}=this.props,o=this.toggleDataCollectionForMarketing.bind(this);return r.default.createElement(m.Box,null,r.default.createElement(m.Box,{ref:this.settingsRefs[19],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("dataCollectionForMarketing")),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement("span",null,e(n?"dataCollectionForMarketingDescriptionSocialLogin":"dataCollectionForMarketingDescription")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"data-collection-for-marketing-toggle"},r.default.createElement(g.default,{value:t,disabled:!a||!s,onToggle:e=>o(!e),offLabel:e("off"),onLabel:e("on")}))),this.state.hasEmailMarketingConsentError&&r.default.createElement(m.Box,{paddingBottom:4},r.default.createElement(m.Text,{as:"p",color:_.TextColor.errorDefault,variant:_.TextVariant.bodySm},e("notificationsSettingsBoxError"))))}renderChooseYourNetworkButton(){const{t:e}=this.context,{navigate:t}=this.props;return r.default.createElement(m.Box,{className:"settings-page__content-row","data-testid":"advanced-setting-choose-your-network",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("chooseYourNetwork")),r.default.createElement("div",{className:"settings-page__content-description"},e("chooseYourNetworkDescription",[r.default.createElement("a",{href:d.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},e("privacyMsg")),r.default.createElement("a",{href:b.default.SOLANA_ACCOUNTS,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link-solana"},e("chooseYourNetworkDescriptionCallToAction"))]))),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(m.Button,{type:"secondary",className:"settings-page__button",onClick:()=>{(0,i.getEnvironmentType)()===l.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(y.ADD_POPULAR_CUSTOM_NETWORK):t(y.ADD_POPULAR_CUSTOM_NETWORK)}},e("addCustomNetwork"))))}renderSafeChainsListValidationToggle(){const{t:e}=this.context,{useSafeChainsListValidation:t,setUseSafeChainsListValidation:a}=this.props,n=e("useSafeChainsListValidationWebsite");return r.default.createElement(m.Box,{ref:this.settingsRefs[14],className:"settings-page__content-row","data-testid":"setting-safe-chains-validation",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement(m.Box,{className:"settings-page__content-row",gap:4,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useSafeChainsListValidation")),r.default.createElement("div",{className:"settings-page__content-description"},e("useSafeChainsListValidationDescription",[r.default.createElement("b",{key:"safechain-list-validation-website"},n)]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useSafeChainsListValidation"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderIpfsGatewayControl(){const{t:e}=this.context,{setIpfsGateway:t,setIsIpfsGatewayEnabled:a,useAddressBarEnsResolution:n,setUseAddressBarEnsResolution:s}=this.props;let o="";const l=a=>{if(a.length>0)try{const n=(0,i.addUrlProtocolPrefix)(a);n||(o=e("invalidIpfsGateway"));const s=new URL(n);"gateway.ipfs.io"===s.host&&(o=e("forbiddenIpfsGateway")),0===o.length&&t(s.host)}catch(t){o=e("invalidIpfsGateway")}else o=e("invalidIpfsGateway");this.setState({ipfsGateway:a,ipfsGatewayError:o})};return r.default.createElement(m.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"setting-ipfs-gateway",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement(m.Box,{className:"settings-page__content-row",gap:4,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("ipfsGateway")),r.default.createElement("div",{className:"settings-page__content-description"},e("ipfsGatewayDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfsToggle"},r.default.createElement(g.default,{value:this.state.ipfsToggle,onToggle:e=>{e?(a(!1),t("")):(a(!0),l(this.state.ipfsGateway)),this.setState({ipfsToggle:!e})},offLabel:e("off"),onLabel:e("on")}))),this.state.ipfsToggle&&r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("addIPFSGateway")),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(f.default,{type:"text",value:this.state.ipfsGateway,onChange:e=>l(e.target.value),error:this.state.ipfsGatewayError,fullWidth:!0,margin:"dense"}))),r.default.createElement(m.Box,{className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,ref:this.settingsRefs[11],marginTop:3,id:"ens-domains"},r.default.createElement("div",null,e("ensDomainsSettingTitle"),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement(m.Text,{color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),r.default.createElement(m.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},r.default.createElement(m.Text,{as:"li",color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionPart1")),r.default.createElement(m.Text,{as:"li",color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionPart2"))),r.default.createElement(m.Text,{color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfs-gateway-resolution-container"},r.default.createElement(g.default,{value:n,onToggle:e=>s(!e),offLabel:e("off"),onLabel:e("on")}))))}renderAutoDetectTokensToggle(){const{t:e}=this.context,{useTokenDetection:t,setUseTokenDetection:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-gas-fee-estimation",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,id:"advanced-settings-autodetect-tokens"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("autoDetectTokens")),r.default.createElement("div",{className:"settings-page__content-description"},e("autoDetectTokensDescription",[r.default.createElement("a",{href:d.AUTO_DETECT_TOKEN_LEARN_MORE_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},(0,n.startCase)(e("learnMore")))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"autoDetectTokens"},r.default.createElement(g.default,{value:t,onToggle:e=>{this.toggleSetting(e,c.MetaMetricsEventName.KeyAutoDetectTokens,c.MetaMetricsEventName.KeyAutoDetectTokens,a)},offLabel:e("off"),onLabel:e("on")})))}renderBatchAccountBalanceRequestsToggle(){const{t:e}=this.context,{useMultiAccountBalanceChecker:t,setUseMultiAccountBalanceChecker:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useMultiAccountBalanceChecker")),r.default.createElement("div",{className:"settings-page__content-description"},e("useMultiAccountBalanceCheckerSettingDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useMultiAccountBalanceChecker"},r.default.createElement(g.default,{value:t,onToggle:e=>{this.toggleSetting(e,c.MetaMetricsEventName.KeyBatchAccountBalanceRequests,c.MetaMetricsEventName.KeyBatchAccountBalanceRequests,a)},offLabel:e("off"),onLabel:e("on")})))}renderCurrencyRateCheckToggle(){const{t:e}=this.context,{useCurrencyRateCheck:t,setUseCurrencyRateCheck:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("currencyRateCheckToggle")),r.default.createElement("div",{className:"settings-page__content-description"},e("currencyRateCheckToggleDescription",[r.default.createElement("a",{key:"coingecko_link",href:d.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),r.default.createElement("a",{key:"cryptocompare_link",href:d.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),r.default.createElement("a",{key:"privacy_policy_link",href:d.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"currencyRateCheckToggle"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderDisplayNftMediaToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:a,useNftDetection:n,setUseNftDetection:s}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[12],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,id:"display-nft-media"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("displayNftMedia")),r.default.createElement("div",{className:"settings-page__content-description"},e("displayNftMediaDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"displayNftMedia"},r.default.createElement(g.default,{value:t,onToggle:e=>{this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:"Enabled/Disable OpenSea",properties:{action:"Enabled/Disable OpenSea",legacy_event:!0}}),e&&n&&s(!1),a(!e)},offLabel:e("off"),onLabel:e("on")})))}renderNftDetectionToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:a,useNftDetection:n,setUseNftDetection:s}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[13],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useNftDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("useNftDetectionDescriptionText"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useNftDetection"},r.default.createElement(g.default,{value:n,onToggle:e=>{this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:"NFT Detected",properties:{action:"NFT Detected",legacy_event:!0}}),e||t||a(!e),s(!e)},offLabel:e("off"),onLabel:e("on")})))}renderExternalNameSourcesToggle(){const{t:e}=this.context,{useExternalNameSources:t,setUseExternalNameSources:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[15],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("externalNameSourcesSetting")),r.default.createElement("div",{className:"settings-page__content-description"},e("externalNameSourcesSettingDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useExternalNameSources"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderSimulationsToggle(){const{t:e}=this.context,{useTransactionSimulations:t,setUseTransactionSimulations:a}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[17],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("simulationsSettingSubHeader")),r.default.createElement("div",{className:"settings-page__content-description"},e("simulationsSettingDescription",[r.default.createElement("a",{key:"learn_more_link",href:d.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useTransactionSimulations"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}toggleSecurityAlert(e){const t=!e,{setSecurityAlertsEnabled:a}=this.props;this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SettingsUpdated,properties:{blockaid_alerts_enabled:t}}),a(t)}renderUseExternalServices(){const{t:e}=this.context,{useExternalServices:t,toggleExternalServices:a,setBasicFunctionalityModalOpen:n}=this.props;return r.default.createElement(m.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,"data-testid":"advanced-setting-show-testnet-conversion"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement(m.Box,{display:_.Display.Flex,justifyContent:_.JustifyContent.spaceBetween,alignItems:_.AlignItems.center,marginBottom:2},r.default.createElement(m.Text,{variant:_.TextVariant.headingSm},e("basicConfigurationLabel")),r.default.createElement(g.default,{value:t,onToggle:()=>{t?n():(a(!0),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"security_privacy",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_notifications_on:!1,was_profile_syncing_on:!1}}))},offLabel:e("off"),onLabel:e("on")})),r.default.createElement(m.Text,{marginBottom:2,color:_.TextColor.textAlternative},e("basicConfigurationDescription",[r.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col"}))}renderSkipDeepLinkInterstitial(){const{t:e}=this.context,{skipDeepLinkInterstitial:t,setSkipDeepLinkInterstitial:a}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement(m.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"setting-skip-deep-link-interstitial",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4,id:"skip-deep-link-interstitial"},r.default.createElement(m.Box,{className:"settings-page__content-row",gap:4,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("skipDeepLinkInterstitial")),r.default.createElement("div",{className:"settings-page__content-description"},e("skipDeepLinkInterstitialDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"skipDeepLinkInterstitial"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))))}render(){const{petnamesEnabled:e,dataCollectionForMarketing:t}=this.props,{showDataCollectionDisclaimer:a}=this.state;return r.default.createElement("div",{className:"settings-page__body"},this.renderUseExternalServices(),a?this.renderDataCollectionWarning():null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("security")),this.renderSeedWords(),(0,C.getIsSeedlessOnboardingFeatureEnabled)()&&this.renderChangePassword(),this.renderSecurityAlertsToggle(),r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("privacy")),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("alerts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderPhishingDetectionToggle()),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderSkipDeepLinkInterstitial()),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("smartContracts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderUse4ByteResolutionToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("transactions")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderCurrencyRateCheckToggle(),this.renderSimulationsToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header",ref:this.settingsRefs[6]},this.context.t("networkProvider")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderChooseYourNetworkButton(),this.renderSafeChainsListValidationToggle(),this.renderIpfsGatewayControl()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("tokenAutoDetection")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderAutoDetectTokensToggle(),this.renderBatchAccountBalanceRequestsToggle(),this.renderDisplayNftMediaToggle(),this.renderNftDetectionToggle()),e&&r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("settingsSubHeadingSignaturesAndTransactions")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderExternalNameSourcesToggle())),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("metrics")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(w.default,{dataCollectionForMarketing:t,setDataCollectionForMarketing:this.toggleDataCollectionForMarketing.bind(this)}),this.renderDataCollectionForMarketing(),r.default.createElement(T.default,{ref:this.settingsRefs[20]})))}}a.default=M,S(M,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),S(M,"propTypes",{navigate:s.default.func.isRequired,openSeaEnabled:s.default.bool,setOpenSeaEnabled:s.default.func,useNftDetection:s.default.bool,setUseNftDetection:s.default.func,dataCollectionForMarketing:s.default.bool,setDataCollectionForMarketing:s.default.func.isRequired,participateInMetaMetrics:s.default.bool.isRequired,setParticipateInMetaMetrics:s.default.func.isRequired,setUsePhishDetect:s.default.func.isRequired,usePhishDetect:s.default.bool.isRequired,setUse4ByteResolution:s.default.func.isRequired,use4ByteResolution:s.default.bool.isRequired,useTokenDetection:s.default.bool.isRequired,setUseTokenDetection:s.default.func.isRequired,setIpfsGateway:s.default.func.isRequired,setIsIpfsGatewayEnabled:s.default.func.isRequired,ipfsGateway:s.default.string.isRequired,useMultiAccountBalanceChecker:s.default.bool.isRequired,setUseMultiAccountBalanceChecker:s.default.func.isRequired,useSafeChainsListValidation:s.default.bool.isRequired,setUseSafeChainsListValidation:s.default.func.isRequired,useCurrencyRateCheck:s.default.bool.isRequired,setUseCurrencyRateCheck:s.default.func.isRequired,useAddressBarEnsResolution:s.default.bool.isRequired,setUseAddressBarEnsResolution:s.default.func.isRequired,useExternalNameSources:s.default.bool.isRequired,setUseExternalNameSources:s.default.func.isRequired,setBasicFunctionalityModalOpen:s.default.func.isRequired,setUseTransactionSimulations:s.default.func.isRequired,useTransactionSimulations:s.default.bool.isRequired,petnamesEnabled:s.default.bool.isRequired,securityAlertsEnabled:s.default.bool,useExternalServices:s.default.bool,toggleExternalServices:s.default.func,setSkipDeepLinkInterstitial:s.default.func.isRequired,skipDeepLinkInterstitial:s.default.bool,setSecurityAlertsEnabled:s.default.func,metaMetricsDataDeletionId:s.default.string,hdEntropyIndex:s.default.number,isSeedPhraseBackedUp:s.default.bool,socialLoginEnabled:s.default.bool,socialLoginType:s.default.string,setMarketingConsent:s.default.func,getMarketingConsent:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.component.js"}],[7455,{"../../../../shared/modules/selectors/networks":5547,"../../../ducks/app/app":6617,"../../../ducks/metamask/metamask":6632,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":6667,"../../../selectors":7539,"../../../store/actions":7565,"./security-tab.component":7454,"react-redux":4905,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-redux"),s=e("redux"),r=p(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../../store/actions"),i=e("../../../selectors"),l=e("../../../../shared/modules/selectors/networks"),c=e("../../../ducks/app/app"),u=e("../../../ducks/metamask/metamask"),d=p(e("./security-tab.component"));function p(e){return e&&e.__esModule?e:{default:e}}a.default=(0,s.compose)(r.default,(0,n.connect)(e=>{const{metamask:t}=e,{usePhishDetect:a,useTokenDetection:n,ipfsGateway:s,useMultiAccountBalanceChecker:r,useSafeChainsListValidation:o,useCurrencyRateCheck:c,useAddressBarEnsResolution:d,openSeaEnabled:p,useNftDetection:m,use4ByteResolution:f,useExternalServices:g,useExternalNameSources:h}=t,{skipDeepLinkInterstitial:_}=(0,i.getPreferences)(e);return{networkConfigurations:(0,l.getNetworkConfigurationsByChainId)(e),participateInMetaMetrics:(0,i.getParticipateInMetaMetrics)(e),dataCollectionForMarketing:(0,i.getDataCollectionForMarketing)(e),usePhishDetect:a,useTokenDetection:n,ipfsGateway:s,useMultiAccountBalanceChecker:r,useSafeChainsListValidation:o,useCurrencyRateCheck:c,useAddressBarEnsResolution:d,openSeaEnabled:p,useNftDetection:m,use4ByteResolution:f,useExternalNameSources:h,useExternalServices:g,securityAlertsEnabled:(0,i.getIsSecurityAlertsEnabled)(e),useTransactionSimulations:t.useTransactionSimulations,metaMetricsDataDeletionId:(0,i.getMetaMetricsDataDeletionId)(e),hdEntropyIndex:(0,i.getHDEntropyIndex)(e),skipDeepLinkInterstitial:Boolean(_),isSeedPhraseBackedUp:(0,u.getIsPrimarySeedPhraseBackedUp)(e),socialLoginEnabled:(0,i.getIsSocialLoginFlow)(e),socialLoginType:(0,i.getSocialLoginType)(e)}},e=>({setParticipateInMetaMetrics:t=>e((0,o.setParticipateInMetaMetrics)(t)),setDataCollectionForMarketing:t=>e((0,o.setDataCollectionForMarketing)(t)),setUsePhishDetect:t=>e((0,o.setUsePhishDetect)(t)),setUseCurrencyRateCheck:t=>e((0,o.setUseCurrencyRateCheck)(t)),setUseTokenDetection:t=>e((0,o.setUseTokenDetection)(t)),setIpfsGateway:t=>e((0,o.setIpfsGateway)(t)),setIsIpfsGatewayEnabled:t=>e((0,o.setIsIpfsGatewayEnabled)(t)),setUseMultiAccountBalanceChecker:t=>e((0,o.setUseMultiAccountBalanceChecker)(t)),setUseAddressBarEnsResolution:t=>e((0,o.setUseAddressBarEnsResolution)(t)),setUseSafeChainsListValidation:t=>e((0,o.setUseSafeChainsListValidation)(t)),setBasicFunctionalityModalOpen:()=>e((0,c.openBasicFunctionalityModal)()),setSkipDeepLinkInterstitial:t=>e((0,o.setSkipDeepLinkInterstitial)(t)),setOpenSeaEnabled:t=>e((0,o.setOpenSeaEnabled)(t)),setUseNftDetection:t=>e((0,o.setUseNftDetection)(t)),setUse4ByteResolution:t=>e((0,o.setUse4ByteResolution)(t)),setUseExternalNameSources:t=>e((0,o.setUseExternalNameSources)(t)),toggleExternalServices:t=>e((0,o.toggleExternalServices)(t)),setUseTransactionSimulations:t=>e((0,o.setUseTransactionSimulations)(t)),updateDataDeletionTaskStatus:()=>(0,o.updateDataDeletionTaskStatus)(),setSecurityAlertsEnabled:e=>(0,o.setSecurityAlertsEnabled)(e),getMarketingConsent:()=>(0,o.getMarketingConsent)(),setMarketingConsent:t=>e((0,o.setMarketingConsent)(t))})))(d.default)}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.container.js"}],[7456,{"./settings-search-list":7457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./settings-search-list"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/index.js"}],[7457,{"../../../components/component-library":6097,"../../../contexts/i18n":6603,"../../../helpers/constants/design-system":6645,"../../../helpers/utils/settings-search":6694,classnames:3793,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=p;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=u(e("prop-types")),r=u(e("classnames")),o=e("../../../helpers/utils/settings-search"),i=e("../../../contexts/i18n"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function p({results:e,onClickSetting:t}){const a=(0,n.useContext)(i.I18nContext);return(0,n.useEffect)(o.highlightSearchedText,[e]),n.default.createElement("div",{className:"settings-page__header__search__list"},e.slice(0,5).map(e=>{const{icon:s,iconName:o,tabMessage:i,sectionMessage:u,route:d}=e;return Boolean(s||i||u)&&n.default.createElement("div",{key:`settings_${d}`},n.default.createElement("div",{className:"settings-page__header__search__list__item",onClick:()=>t(e)},o?n.default.createElement(l.Icon,{name:o}):n.default.createElement("i",{className:(0,r.default)("settings-page__header__search__list__item__icon",s)}),n.default.createElement("span",{id:`menu-tab_${d}`,className:(0,r.default)("settings-page__header__search__list__item__tab",{"settings-page__header__search__list__item__tab-multiple-lines":i(a)===a("securityAndPrivacy")})},i(a)),n.default.createElement(l.Icon,{name:l.IconName.ArrowRight,size:c.Size.SM,className:"settings-page__header__search__list__item__caret"}),n.default.createElement("span",{id:`menu-section_${d}`,className:(0,r.default)("settings-page__header__search__list__item__section",{"settings-page__header__search__list__item__section-multiple-lines":i(a)===a("securityAndPrivacy")||i(a)===a("alerts")})},u(a))))}),0===e.length&&n.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},n.default.createElement("span",{className:"settings-page__header__search__list__item__no-matching"},a("settingsSearchMatchingNotFound"))),n.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},n.default.createElement("span",{className:"settings-page__header__search__list__item__request"},a("missingSetting")),n.default.createElement("a",{href:"https://community.metamask.io/c/feature-requests-ideas/13",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",className:"settings-page__header__search__list__item__link"},a("missingSettingRequest"))))}p.propTypes={results:s.default.array,onClickSetting:s.default.func}}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/settings-search-list.js"}],[7458,{"./settings-search":7459},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./settings-search"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search/index.js"}],[7459,{"../../../../shared/modules/string-utils":5551,"../../../components/component-library":6097,"../../../components/ui/text-field":6581,"../../../contexts/i18n":6603,"../../../helpers/constants/design-system":6645,"@material-ui/core/InputAdornment":899,"fuse.js":4152,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=f;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=p(e("prop-types")),r=p(e("fuse.js")),o=p(e("@material-ui/core/InputAdornment")),i=p(e("../../../components/ui/text-field")),l=e("../../../contexts/i18n"),c=e("../../../../shared/modules/string-utils"),u=e("../../../components/component-library"),d=e("../../../helpers/constants/design-system");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function f({onSearch:e,error:t,settingsRoutesList:a}){const s=(0,n.useContext)(l.I18nContext),[p,m]=(0,n.useState)(""),[f,g]=(0,n.useState)(d.IconColor.iconMuted),h=Object.values(a),_=new r.default(h,{shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["tabMessage","sectionMessage","descriptionMessage"],getFn:(e,t)=>e[t](s)}),y=t=>{const a=t.trimStart();m(a),g(""===a?d.IconColor.iconMuted:d.IconColor.iconDefault);const n=_.search(a),s=[...h.filter(e=>e.tabMessage&&a&&(0,c.isEqualCaseInsensitive)(e.tab,a)),...n];e({searchQuery:a,results:s})};return n.default.createElement(i.default,{id:"search-settings",placeholder:s("search"),type:"text",value:p,onChange:e=>y(e.target.value),error:t,fullWidth:!0,autoFocus:!0,autoComplete:"off",startAdornment:n.default.createElement(o.default,{position:"start",style:{marginRight:"12px"}},n.default.createElement(u.Icon,{size:u.IconSize.Sm,name:u.IconName.Search,color:f})),endAdornment:n.default.createElement(n.default.Fragment,null,p&&n.default.createElement(o.default,{className:"imageclosectn",position:"end",onClick:()=>y(""),style:{cursor:"pointer"}},n.default.createElement(u.Icon,{name:u.IconName.Close,color:d.IconColor.iconDefault,size:u.IconSize.Xs}))),theme:"bordered"})}f.propTypes={onSearch:s.default.func,error:s.default.string,settingsRoutesList:s.default.array}}}},{package:"$root$",file:"ui/pages/settings/settings-search/settings-search.js"}],[7460,{"./settings-tab.container":7462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./settings-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/settings-tab/index.js"}],[7461,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/preferences":5438,"../../../components/component-library":6097,"../../../components/ui/dropdown":6504,"../../../components/ui/toggle-button":6585,"../../../helpers/constants/available-conversions.json":6642,"../../../helpers/constants/design-system":6645,"../../../helpers/utils/settings-search":6694,"@metamask/design-system-react":1655,classnames:3793,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=h(e("prop-types")),r=h(e("classnames")),o=e("@metamask/design-system-react"),i=h(e("../../../helpers/constants/available-conversions.json")),l=e("../../../helpers/constants/design-system"),c=h(e("../../../components/ui/dropdown")),u=h(e("../../../components/ui/toggle-button")),d=h(e("../../../../app/_locales/index.json")),p=e("../../../../shared/constants/metametrics"),m=e("../../../helpers/utils/settings-search"),f=e("../../../../shared/constants/preferences"),g=e("../../../components/component-library");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function y(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const E=i.default.sort((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())).map(({code:e,name:t})=>({name:`${e.toUpperCase()} - ${t}`,value:e})),v=d.default.map(e=>({name:`${e.name}`,value:e.code}));class b extends n.PureComponent{constructor(...e){super(...e),y(this,"settingsRefs",Array((0,m.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("general"))).fill(undefined).map(()=>n.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("general"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("general"),this.settingsRefs)}renderCurrentConversion(){const{t:e}=this.context,{currentCurrency:t,setCurrentCurrency:a}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("currencyConversion"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{"data-testid":"currency-select",id:"select-currency",options:E,selectedOption:t,onChange:e=>{a(e),this.context.trackEvent({category:p.MetaMetricsEventCategory.Settings,event:p.MetaMetricsEventName.CurrentCurrency,properties:{current_currency:e}})},className:"settings-page__content-item__dropdown"}))))}renderCurrentLocale(){const{t:e}=this.context,{updateCurrentLocale:t,currentLocale:a}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("currentLanguage"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{"data-testid":"locale-select",id:"select-locale",options:v,selectedOption:a,onChange:async e=>t(e)}))))}renderHideZeroBalanceTokensOptIn(){const{t:e}=this.context,{hideZeroBalanceTokens:t,setHideZeroBalanceTokens:a}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,id:"toggle-zero-balance"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("hideZeroBalanceTokens"))),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(u.default,{value:t,onToggle:e=>a(!e),"data-testid":"toggle-zero-balance-button"})))}renderBlockieOptIn(){const{t:e}=this.context,{useBlockie:t,avatarType:a,setAvatarType:s,selectedAddress:i}=this.props;let c;return a!==undefined?c=a:t&&(c="blockies"),n.default.createElement(g.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,id:"blockie-optin"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("accountIdenticon")),n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:3,className:"settings-page__content-item__description"},e("accountIdenticonDescription")),n.default.createElement("div",{className:"settings-page__content-item__identicon gap-8"},n.default.createElement("button",{"data-testid":"maskicon_icon",onClick:()=>s("maskicon"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{address:i,variant:o.AvatarAccountVariant.Maskicon,className:(0,r.default)({"outline outline-2 outline-primary-default":"maskicon"===c})}),n.default.createElement(g.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6"},e("maskicons"))),n.default.createElement("button",{"data-testid":"jazz_icon",onClick:()=>s("jazzicon"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{id:"jazzicon",address:i,variant:o.AvatarAccountVariant.Jazzicon,className:(0,r.default)({"outline outline-2 outline-primary-default":"jazzicon"===c})}),n.default.createElement(g.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6"},e("jazzicons"))),n.default.createElement("button",{"data-testid":"blockie_icon",onClick:()=>s("blockies"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{id:"blockies",address:i,variant:o.AvatarAccountVariant.Blockies,className:(0,r.default)({"outline outline-2 outline-primary-default":"blockies"===c})}),n.default.createElement(g.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6"},e("blockies"))))))}renderShowNativeTokenAsMainBalance(){const{t:e}=this.context,t=e=>{this.context.trackEvent({category:p.MetaMetricsEventCategory.Settings,event:p.MetaMetricsEventName.ShowNativeTokenAsMainBalance,properties:{show_native_token_as_main_balance:e}})},{setShowNativeTokenAsMainBalancePreference:a,showNativeTokenAsMainBalance:s}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,id:"toggle-show-native-token-as-main-balance"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("showNativeTokenAsMainBalance"))),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(u.default,{className:"show-native-token-as-main-balance",value:s,onToggle:e=>{a(!e),t(!e)}})))}renderTheme(){const{t:e}=this.context,{theme:t,setTheme:a}=this.props,s=[{name:e("lightTheme"),value:f.ThemeType.light},{name:e("darkTheme"),value:f.ThemeType.dark},{name:e("osTheme"),value:f.ThemeType.os}];return n.default.createElement(g.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},this.context.t("theme")),n.default.createElement("div",{className:"settings-page__content-description"},this.context.t("themeDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{id:"select-theme",options:s,selectedOption:t,onChange:e=>{this.context.trackEvent({category:p.MetaMetricsEventCategory.Settings,event:"Theme Changed",properties:{theme_selected:e}}),a(e)}}))))}render(){return n.default.createElement("div",{className:"settings-page__body"},this.renderCurrentConversion(),this.renderShowNativeTokenAsMainBalance(),this.renderCurrentLocale(),this.renderTheme(),this.renderBlockieOptIn(),this.renderHideZeroBalanceTokensOptIn())}}a.default=b,y(b,"contextTypes",{t:s.default.func,metricsEvent:s.default.func,trackEvent:s.default.func}),y(b,"propTypes",{avatarType:s.default.string,setAvatarType:s.default.func,setCurrentCurrency:s.default.func,updateCurrentLocale:s.default.func,currentLocale:s.default.string,useBlockie:s.default.bool,currentCurrency:s.default.string,showNativeTokenAsMainBalance:s.default.bool,setShowNativeTokenAsMainBalancePreference:s.default.func,hideZeroBalanceTokens:s.default.bool,setHideZeroBalanceTokens:s.default.func,selectedAddress:s.default.string,theme:s.default.string,setTheme:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.component.js"}],[7462,{"../../../../shared/modules/selectors/networks":5547,"../../../selectors":7539,"../../../store/actions":7565,"./settings-tab.component":7461,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-redux"),r=e("../../../store/actions"),o=e("../../../selectors"),i=e("../../../../shared/modules/selectors/networks"),l=(n=e("./settings-tab.component"))&&n.__esModule?n:{default:n};a.default=(0,s.connect)(e=>{const{metamask:t}=e,{currentCurrency:a,useBlockie:n,currentLocale:s}=t,{ticker:r}=(0,i.getProviderConfig)(e),{address:l}=(0,o.getSelectedInternalAccount)(e),{hideZeroBalanceTokens:c,showNativeTokenAsMainBalance:u,avatarType:d}=(0,o.getPreferences)(e);return{currentLocale:s,currentCurrency:a,nativeCurrency:r,useBlockie:n,avatarType:d,showNativeTokenAsMainBalance:u,hideZeroBalanceTokens:c,selectedAddress:l,tokenList:(0,o.getTokenList)(e),theme:(0,o.getTheme)(e)}},e=>({setCurrentCurrency:t=>e((0,r.setCurrentCurrency)(t)),setAvatarType:t=>e((0,r.setAvatarType)(t)),updateCurrentLocale:t=>e((0,r.updateCurrentLocale)(t)),setShowNativeTokenAsMainBalancePreference:t=>e((0,r.setShowNativeTokenAsMainBalancePreference)(t)),setParticipateInMetaMetrics:t=>e((0,r.setParticipateInMetaMetrics)(t)),setHideZeroBalanceTokens:t=>e((0,r.setHideZeroBalanceTokens)(t)),setTheme:t=>e((0,r.setTheme)(t))}))(l.default)}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.container.js"}],[7463,{"../../../app/scripts/lib/util":290,"../../../shared/constants/app":5415,"../../components/app/password-outdated-modal":5807,"../../components/app/snaps/snap-icon":5862,"../../components/app/snaps/snap-settings-page":5882,"../../components/app/tab-bar":5984,"../../components/component-library":6097,"../../components/ui/metafox-logo":6546,"../../helpers/constants/design-system":6645,"../../helpers/constants/routes":6650,"../../helpers/utils/settings-search":6694,"./advanced-tab":7411,"./backup-and-sync-tab":7414,"./contact-list-tab":7424,"./developer-options-tab":7432,"./experimental-tab":7436,"./info-tab":7438,"./security-tab":7449,"./security-tab/change-password":7446,"./security-tab/reveal-srp-list":7452,"./settings-search":7458,"./settings-search-list":7456,"./settings-tab":7460,"./transaction-shield-tab":7466,classnames:3793,"prop-types":4777,react:4961,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=I(e("prop-types")),r=e("react-router-dom-v5-compat"),o=I(e("classnames")),i=I(e("../../components/app/tab-bar")),l=e("../../helpers/constants/routes"),c=e("../../helpers/utils/settings-search"),u=e("../../components/component-library"),d=e("../../helpers/constants/design-system"),p=I(e("../../components/ui/metafox-logo")),m=e("../../../app/scripts/lib/util"),f=e("../../../shared/constants/app"),g=e("../../components/app/snaps/snap-icon"),h=e("../../components/app/snaps/snap-settings-page"),_=I(e("../../components/app/password-outdated-modal")),y=I(e("./settings-tab")),E=I(e("./advanced-tab")),v=I(e("./info-tab")),b=I(e("./security-tab")),C=I(e("./contact-list-tab")),w=(I(e("./developer-options-tab")),I(e("./experimental-tab"))),T=I(e("./settings-search")),x=I(e("./settings-search-list")),k=e("./security-tab/reveal-srp-list"),S=I(e("./backup-and-sync-tab")),M=I(e("./security-tab/change-password")),N=e("./transaction-shield-tab");function I(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function D(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const O=({onMount:e})=>(n.default.useEffect(()=>{e()},[e]),n.default.createElement(r.Navigate,{to:{pathname:l.DEFAULT_ROUTE}}));O.propTypes={onMount:s.default.func.isRequired};class R extends n.PureComponent{constructor(...e){super(...e),D(this,"state",{isSearchList:!1,lastFetchedConversionDate:null,searchResults:[],searchText:""})}componentDidMount(){this.handleConversionDate()}componentDidUpdate(){this.handleConversionDate()}handleConversionDate(){const{conversionDate:e}=this.props;null!==e&&this.setState({lastFetchedConversionDate:e})}handleClickSetting(e){const{navigate:t}=this.props;t(e.route),this.setState({isSearchList:"",searchResults:""})}render(){const{navigate:e,backRoute:t,currentPath:a,mostRecentOverviewPage:s,addNewNetwork:r,isPasswordChangePage:i,isRevealSrpListPage:c,isSeedlessPasswordOutdated:g,isTransactionShieldPage:h}=this.props,{t:y}=this.context,E=(0,m.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP,v=c||i||h;return n.default.createElement("div",{className:(0,o.default)("main-container main-container--has-shadow settings-page",{"settings-page--selected":a!==l.SETTINGS_ROUTE})},g&&n.default.createElement(_.default,null),n.default.createElement(u.Box,{className:"settings-page__header",padding:4,paddingBottom:[2,4]},n.default.createElement("div",{className:(0,o.default)("settings-page__header__title-container",{"settings-page__header__title-container--hide-search":v})},E&&n.default.createElement(n.default.Fragment,null,a===l.SETTINGS_ROUTE?n.default.createElement(p.default,{className:"settings-page__header__title-container__metamask-logo",unsetIconHeight:!0,onClick:()=>e(l.DEFAULT_ROUTE),display:[d.Display.Flex,d.Display.None]}):n.default.createElement(u.ButtonIcon,{ariaLabel:y("back"),iconName:u.IconName.ArrowLeft,className:"settings-page__header__title-container__back-button",color:d.Color.iconDefault,onClick:()=>e(t),display:[d.Display.Flex,d.Display.None],size:u.ButtonIconSize.Md})),this.renderTitle(),this.renderSearch(),n.default.createElement(u.ButtonIcon,{className:"settings-page__header__title-container__close-button",iconName:u.IconName.Close,ariaLabel:y("close"),onClick:()=>{e(r?l.NETWORKS_ROUTE:s)},size:u.ButtonIconSize.Md,marginLeft:"auto"}))),n.default.createElement("div",{className:"settings-page__content"},n.default.createElement("div",{className:"settings-page__content__tabs"},this.renderTabs()),n.default.createElement("div",{className:"settings-page__content__modules"},this.renderSubHeader(),this.renderContent())))}renderTitle(){const{t:e}=this.context,{isPopup:t,pathnameI18nKey:a,addressName:s,snapSettingsTitle:r}=this.props;let o;return o=t&&s?e("details"):a&&t?e(a):r||e("settings"),n.default.createElement("div",{className:"settings-page__header__title-container__title"},n.default.createElement(u.Text,{variant:d.TextVariant.headingMd,ellipsis:!0},o))}renderSearch(){const{isSearchList:e,searchText:t,searchResults:a}=this.state,{isRevealSrpListPage:s,isPasswordChangePage:r,isTransactionShieldPage:o}=this.props;return s||r||o?null:n.default.createElement(u.Box,{className:"settings-page__header__title-container__search",display:[d.Display.Block]},n.default.createElement(T.default,{onSearch:({searchQuery:e="",results:t=[]})=>{this.setState({isSearchList:""!==e,searchResults:t,searchText:e})},settingsRoutesList:(0,c.getSettingsRoutes)()}),e&&t.length>=3&&n.default.createElement(x.default,{results:a,onClickSetting:e=>this.handleClickSetting(e)}))}renderSubHeader(){const{t:e}=this.context,{currentPath:t,isPopup:a,isAddressEntryPage:s,pathnameI18nKey:r,addressName:i,initialBreadCrumbRoute:c,breadCrumbTextKey:p,navigate:m,initialBreadCrumbKey:f}=this.props;let g;return g=e(a&&s?"settings":s?"contacts":f||(r||"general")),!t.startsWith(l.NETWORKS_ROUTE)&&n.default.createElement(u.Box,{className:"settings-page__subheader",padding:4,paddingLeft:6,paddingRight:6,display:d.Display.Flex,flexDirection:d.FlexDirection.Row,alignItems:d.AlignItems.center},n.default.createElement(u.Text,{className:(0,o.default)({"settings-page__subheader--link":c}),variant:d.TextVariant.headingSm,onClick:()=>c&&m(c)},g),p&&n.default.createElement("div",{className:"settings-page__subheader--break"},n.default.createElement("span",null," > "),e(p)),s&&n.default.createElement("div",{className:"settings-page__subheader--break"},n.default.createElement("span",null," > "),i))}renderTabs(){const{navigate:e,currentPath:t,useExternalServices:a,settingsPageSnaps:s,isMetaMaskShieldFeatureEnabled:o}=this.props,{t:c}=this.context,d=s.map(({id:e,name:t})=>({content:t,icon:n.default.createElement(g.SnapIcon,{snapId:e,avatarSize:u.IconSize.Md,style:{"--size":"20px"}}),key:`${l.SNAP_SETTINGS_ROUTE}/${encodeURIComponent(e)}`})),p=[{content:c("general"),icon:n.default.createElement(u.Icon,{name:u.IconName.Setting}),key:l.GENERAL_ROUTE},...d,{content:c("advanced"),icon:n.default.createElement("i",{className:"fas fa-sliders-h"}),key:l.ADVANCED_ROUTE},{content:c("backupAndSync"),icon:n.default.createElement(u.Icon,{name:u.IconName.SecurityTime}),key:l.BACKUPANDSYNC_ROUTE},{content:c("contacts"),icon:n.default.createElement(u.Icon,{name:u.IconName.Book}),key:l.CONTACT_LIST_ROUTE},{content:c("securityAndPrivacy"),icon:n.default.createElement(u.Icon,{name:u.IconName.Lock}),key:l.SECURITY_ROUTE},{content:c("experimental"),icon:n.default.createElement(u.Icon,{name:u.IconName.Flask}),key:l.EXPERIMENTAL_ROUTE},{content:c("about"),icon:n.default.createElement(u.Icon,{name:u.IconName.Info}),key:l.ABOUT_US_ROUTE}];return a&&p.splice(4,0,{content:c("notifications"),icon:n.default.createElement(u.Icon,{name:u.IconName.Notification}),key:l.NOTIFICATIONS_SETTINGS_ROUTE}),o&&p.splice(-4,0,{content:c("shieldTx"),icon:n.default.createElement(u.Icon,{name:u.IconName.ShieldLock}),key:l.TRANSACTION_SHIELD_ROUTE}),n.default.createElement(i.default,{tabs:p,isActive:e=>e===l.GENERAL_ROUTE&&t===l.SETTINGS_ROUTE||(!(e!==l.CONTACT_LIST_ROUTE||!t.includes(l.CONTACT_LIST_ROUTE))||(0,r.matchPath)(e,t)),onSelect:a=>e(a,{state:{fromPage:t}})})}renderContent(){return n.default.createElement(r.Routes,null,n.default.createElement(r.Route,{path:l.GENERAL_ROUTE,element:n.default.createElement(y.default,{lastFetchedConversionDate:this.state.lastFetchedConversionDate})}),n.default.createElement(r.Route,{path:l.ABOUT_US_ROUTE,element:n.default.createElement(v.default,null)}),n.default.createElement(r.Route,{path:`${l.SNAP_SETTINGS_ROUTE}/:snapId`,element:n.default.createElement(h.SnapSettingsRenderer,null)}),n.default.createElement(r.Route,{path:l.ADVANCED_ROUTE,element:n.default.createElement(E.default,null)}),n.default.createElement(r.Route,{path:l.BACKUPANDSYNC_ROUTE,element:n.default.createElement(S.default,null)}),n.default.createElement(r.Route,{path:l.ADD_NETWORK_ROUTE,element:n.default.createElement(O,{onMount:()=>this.props.toggleNetworkMenu({isAddingNewNetwork:!0})})}),n.default.createElement(r.Route,{path:l.NETWORKS_ROUTE,element:n.default.createElement(O,{onMount:()=>this.props.toggleNetworkMenu()})}),n.default.createElement(r.Route,{path:l.ADD_POPULAR_CUSTOM_NETWORK,element:n.default.createElement(O,{onMount:()=>this.props.toggleNetworkMenu()})}),n.default.createElement(r.Route,{path:l.SECURITY_ROUTE,element:n.default.createElement(b.default,null)}),n.default.createElement(r.Route,{path:l.TRANSACTION_SHIELD_ROUTE,element:n.default.createElement(N.TransactionShield,null)}),n.default.createElement(r.Route,{path:l.EXPERIMENTAL_ROUTE,element:n.default.createElement(w.default,null)}),!1,n.default.createElement(r.Route,{path:l.CONTACT_LIST_ROUTE,element:n.default.createElement(C.default,null)}),n.default.createElement(r.Route,{path:l.CONTACT_ADD_ROUTE,element:n.default.createElement(C.default,null)}),n.default.createElement(r.Route,{path:`${l.CONTACT_EDIT_ROUTE}/:id`,element:n.default.createElement(C.default,null)}),n.default.createElement(r.Route,{path:`${l.CONTACT_VIEW_ROUTE}/:id`,element:n.default.createElement(C.default,null)}),n.default.createElement(r.Route,{path:l.REVEAL_SRP_LIST_ROUTE,element:n.default.createElement(k.RevealSrpList,null)}),n.default.createElement(r.Route,{path:l.SECURITY_PASSWORD_CHANGE_ROUTE,element:n.default.createElement(M.default,null)}),n.default.createElement(r.Route,{path:"*",element:n.default.createElement(y.default,{lastFetchedConversionDate:this.state.lastFetchedConversionDate})}))}}D(R,"propTypes",{addNewNetwork:s.default.bool,addressName:s.default.string,backRoute:s.default.string,breadCrumbTextKey:s.default.string,conversionDate:s.default.number,currentPath:s.default.string,initialBreadCrumbKey:s.default.string,initialBreadCrumbRoute:s.default.string,isAddressEntryPage:s.default.bool,isMetaMaskShieldFeatureEnabled:s.default.bool,isPasswordChangePage:s.default.bool,isPopup:s.default.bool,isRevealSrpListPage:s.default.bool,isSeedlessPasswordOutdated:s.default.bool,isTransactionShieldPage:s.default.bool,mostRecentOverviewPage:s.default.string.isRequired,navigate:s.default.func.isRequired,pathnameI18nKey:s.default.string,settingsPageSnaps:s.default.array,snapSettingsTitle:s.default.string,toggleNetworkMenu:s.default.func.isRequired,useExternalServices:s.default.bool}),D(R,"contextTypes",{t:s.default.func});a.default=R}}},{package:"$root$",file:"ui/pages/settings/settings.component.js"}],[7464,{"../../../app/scripts/lib/util":290,"../../../shared/constants/app":5415,"../../../shared/modules/environment":5530,"../../../shared/modules/hexstring-utils":5535,"../../../shared/modules/selectors/networks":5547,"../../ducks/history/history":6629,"../../ducks/metamask/metamask":6632,"../../helpers/constants/routes":6650,"../../helpers/higher-order-components/with-router-hooks/with-router-hooks":6667,"../../helpers/utils/snaps":6695,"../../helpers/utils/util":6703,"../../selectors":7539,"../../store/actions":7565,"./settings.component":7463,"react-redux":4905,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("redux"),s=e("react-redux"),r=E(e("../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../selectors"),i=e("../../../shared/constants/app"),l=e("../../../app/scripts/lib/util"),c=e("../../ducks/history/history"),u=e("../../../shared/modules/hexstring-utils"),d=e("../../helpers/constants/routes"),p=e("../../../shared/modules/selectors/networks"),m=e("../../store/actions"),f=e("../../helpers/utils/util"),g=e("../../helpers/utils/snaps"),h=e("../../ducks/metamask/metamask"),_=e("../../../shared/modules/environment"),y=E(e("./settings.component"));function E(e){return e&&e.__esModule?e:{default:e}}const v={[d.ABOUT_US_ROUTE]:"about",[d.ADD_NETWORK_ROUTE]:"networks",[d.ADD_POPULAR_CUSTOM_NETWORK]:"addNetwork",[d.ADVANCED_ROUTE]:"advanced",[d.BACKUPANDSYNC_ROUTE]:"backupAndSync",[d.CONTACT_ADD_ROUTE]:"newContact",[d.CONTACT_EDIT_ROUTE]:"editContact",[d.CONTACT_LIST_ROUTE]:"contacts",[d.CONTACT_VIEW_ROUTE]:"viewContact",[d.DEVELOPER_OPTIONS_ROUTE]:"developerOptions",[d.EXPERIMENTAL_ROUTE]:"experimental",[d.GENERAL_ROUTE]:"general",[d.NETWORKS_FORM_ROUTE]:"networks",[d.NETWORKS_ROUTE]:"networks",[d.REVEAL_SRP_LIST_ROUTE]:"revealSecretRecoveryPhrase",[d.SECURITY_PASSWORD_CHANGE_ROUTE]:"securityChangePassword",[d.SECURITY_ROUTE]:"securityAndPrivacy",[d.TRANSACTION_SHIELD_ROUTE]:"shieldTx"};a.default=(0,n.compose)(r.default,(0,s.connect)((e,t)=>{var a,n;const{location:s}=t,{pathname:r}=s,{ticker:m}=(0,p.getProviderConfig)(e),{metamask:{currencyRates:y,socialLoginEmail:E}}=e,b=(0,o.getSettingsPageSnapsIds)(e),C=(0,o.getSnapsMetadata)(e),w=null===(a=y[m])||void 0===a?void 0:a.conversionDate,T=(null===(n=r.match(/[^/]+$/u))||void 0===n?void 0:n[0])||"",x=T.includes("0x"),k=Boolean(r.match(d.CONTACT_ADD_ROUTE)),S=Boolean(r.match(d.CONTACT_EDIT_ROUTE)),M=Boolean(r.match(d.REVEAL_SRP_LIST_ROUTE)),N=Boolean(r.match(d.SECURITY_PASSWORD_CHANGE_ROUTE)),I=Boolean(r.match(d.TRANSACTION_SHIELD_ROUTE)),P=Boolean(r.match(d.NETWORKS_FORM_ROUTE))||Boolean(r.match(d.ADD_NETWORK_ROUTE)),D=Boolean(r.match(d.ADD_NETWORK_ROUTE)),O=Boolean(r.match(d.ADD_POPULAR_CUSTOM_NETWORK)),R=Boolean(r.match(d.SNAP_SETTINGS_ROUTE)),A=(0,l.getEnvironmentType)()===i.ENVIRONMENT_TYPE_POPUP,B=Boolean(E);let F=v[r];M&&B&&(F="securitySrpWalletRecovery");let L=d.SETTINGS_ROUTE;S?L=`${d.CONTACT_VIEW_ROUTE}/${T}`:x||k?L=d.CONTACT_LIST_ROUTE:P||O?L=d.NETWORKS_ROUTE:(M||N)&&(L=d.SECURITY_ROUTE);const j=(0,o.getAddressBookEntryOrAccountName)(e,!(0,u.isBurnAddress)(T)&&(0,u.isValidHexAddress)(T,{mixedCaseUseChecksum:!0})?T:""),U=(0,o.getUseExternalServices)(e),W=(0,f.getSnapName)(C),$=b.map(e=>({id:e,name:W(e)})),V=R&&W((0,g.decodeSnapIdFromPathname)(r));return{addNewNetwork:D,addressName:j,backRoute:L,conversionDate:w,currentPath:r,initialBreadCrumbKey:undefined,initialBreadCrumbRoute:undefined,isAddressEntryPage:x,isMetaMaskShieldFeatureEnabled:(0,_.getIsMetaMaskShieldFeatureEnabled)(),isPasswordChangePage:N,isPopup:A,isRevealSrpListPage:M,isSeedlessPasswordOutdated:(0,h.getIsSeedlessPasswordOutdated)(e),isTransactionShieldPage:I,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),pathnameI18nKey:F,settingsPageSnaps:$,snapSettingsTitle:V,useExternalServices:U}},function(e){return{toggleNetworkMenu:t=>e((0,m.toggleNetworkMenu)(t))}}))(y.default)}}},{package:"$root$",file:"ui/pages/settings/settings.container.js"}],[7465,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,"../../asset/util":6838,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function({onConfirm:e,onClose:t,subscription:a}){const n=(0,i.useI18nContext)();return s.default.createElement(r.Modal,{isOpen:!0,onClose:t,className:"cancel-membership-modal","data-testid":"cancel-membership-modal"},s.default.createElement(r.ModalOverlay,null),s.default.createElement(r.ModalContent,{alignItems:o.AlignItems.flexStart},s.default.createElement(r.ModalHeader,{onClose:t},n("areYouSure")),s.default.createElement(r.ModalBody,null,s.default.createElement(r.Text,{variant:o.TextVariant.bodyMd},n("shieldTxCancelDetails",[s.default.createElement(r.Text,{key:"cancel-date",variant:o.TextVariant.bodyMdMedium,as:"span"},(0,l.getShortDateFormatterV2)().format(new Date(a.currentPeriodEnd)))]))),s.default.createElement(r.ModalFooter,{onSubmit:e,submitButtonProps:{"data-testid":"cancel-membership-modal-submit-button",children:n("shieldTxMembershipCancel"),danger:!0}})))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n},r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),l=e("../../asset/util")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/cancel-membership-modal.tsx"}],[7466,{"./transaction-shield":7467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"TransactionShield",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./transaction-shield"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/index.ts"}],[7467,{"../../../../shared/constants/preferences":5438,"../../../../shared/constants/time":5449,"../../../components/component-library":6097,"../../../components/component-library/skeleton":6143,"../../../components/ui/loading-screen":6534,"../../../components/ui/tooltip":6589,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/subscription/useSubscription":6752,"../../../hooks/useFormatters":6773,"../../../hooks/useI18nContext":6777,"../../asset/util":6838,"../../shield-plan/utils":7472,"./cancel-membership-modal":7465,"./types":7468,"@metamask/subscription-controller":2702,classnames:3793,react:4961,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=C(e("classnames")),r=e("@metamask/subscription-controller"),o=e("react-router-dom-v5-compat"),i=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library/skeleton"),u=e("../../../hooks/useI18nContext"),d=e("../../../hooks/subscription/useSubscription"),p=e("../../asset/util"),m=e("../../../helpers/constants/routes"),f=e("../../shield-plan/utils"),g=C(e("../../../components/ui/tooltip")),h=e("../../../../shared/constants/preferences"),_=e("../../../hooks/useFormatters"),y=e("../../../../shared/constants/time"),E=C(e("../../../components/ui/loading-screen")),v=C(e("./cancel-membership-modal")),b=e("./types");function C(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T.apply(null,arguments)}const x=y.DAY;a.default=()=>{const e=(0,u.useI18nContext)(),t=(0,o.useNavigate)(),{formatCurrency:a}=(0,_.useFormatters)(),{customerId:y,subscriptions:C,loading:w}=(0,d.useUserSubscriptions)(),k=(0,d.useUserSubscriptionByProduct)("shield",C),S=(null==k?void 0:k.status)===r.SUBSCRIPTION_STATUSES.canceled,M=Boolean(k&&[r.SUBSCRIPTION_STATUSES.paused,r.SUBSCRIPTION_STATUSES.pastDue,r.SUBSCRIPTION_STATUSES.unpaid].includes(k.status)),N=S||M,I=(0,n.useMemo)(()=>!(null==k||!k.endDate)&&new Date(k.endDate).getTime()-Date.now()<x,[k]),P=!(S||null!=k&&k.cancelAtPeriodEnd),D=(null==k?void 0:k.paymentMethod)&&(0,b.isCryptoPaymentMethod)(null==k?void 0:k.paymentMethod),O=(0,n.useMemo)(()=>null==k?void 0:k.products.find(e=>e.name===r.PRODUCT_TYPES.SHIELD),[k]),[R,A]=(0,d.useCancelSubscription)({subscriptionId:null==k?void 0:k.id}),[B,F]=(0,d.useUnCancelSubscription)({subscriptionId:null==k?void 0:k.id}),[L,j]=(0,d.useOpenGetSubscriptionBillingPortal)(),[U,W]=(0,d.useUpdateSubscriptionCardPaymentMethod)({subscriptionId:null==k?void 0:k.id,recurringInterval:null==k?void 0:k.interval}),$=A.pending||F.pending||j.pending||W.pending,V=w;(0,n.useEffect)(()=>{k||t(m.SHIELD_PLAN_ROUTE)},[t,k]);const[z,H]=(0,n.useState)(!1),G=[{icon:i.IconName.ShieldLock,title:e("shieldTxDetails1Title"),description:e("shieldTxDetails1Description")},{icon:i.IconName.Flash,title:e("shieldTxDetails2Title"),description:e("shieldTxDetails2Description")}],q={display:l.Display.Flex,backgroundColor:l.BackgroundColor.backgroundSection,padding:4},K=(e,t,a)=>n.default.createElement(i.Box,T({as:"button","data-testid":a,className:"transaction-shield-page__row"},q,{justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,width:l.BlockSize.Full,onClick:t}),V?n.default.createElement(c.Skeleton,{width:"50%",height:20}):n.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},e),V?n.default.createElement(c.Skeleton,{width:24,height:24,borderRadius:l.BorderRadius.full}):n.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Lg,color:l.IconColor.iconAlternativeSoft})),Y=(e,t)=>n.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2,justifyContent:l.JustifyContent.spaceBetween},V?n.default.createElement(c.Skeleton,{width:"40%",height:24}):n.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},e),V?n.default.createElement(c.Skeleton,{width:"30%",height:24}):n.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},t)),Z=(0,n.useMemo)(()=>M?n.default.createElement(i.BannerAlert,{description:e("shieldTxMembershipErrorPaused"),severity:i.BannerAlertSeverity.Danger,marginBottom:4,actionButtonLabel:e(D?"shieldTxMembershipErrorAddFunds":"shieldTxMembershipErrorUpdatePayment"),actionButtonOnClick:async()=>{D?console.log("add funds"):await U()}}):I&&k?n.default.createElement(i.BannerAlert,{description:e("shieldTxMembershipErrorInsufficientFunds",[(0,p.getShortDateFormatterV2)().format(new Date(k.currentPeriodEnd))]),severity:i.BannerAlertSeverity.Warning,marginBottom:4,actionButtonLabel:e("shieldTxMembershipErrorAddFunds"),actionButtonOnClick:()=>{console.log("add funds")}}):null,[M,I,k,e,D,U]),J=(0,n.useMemo)(()=>k?M?n.default.createElement(g.default,{position:"top",title:e(D?"shieldTxMembershipErrorPausedCryptoTooltip":"shieldTxMembershipErrorPausedCardTooltip")},n.default.createElement(i.ButtonLink,{startIconName:i.IconName.Danger,startIconProps:{size:i.IconSize.Md},onClick:async()=>{D?console.log("add funds"):await U()},danger:!0},e(D?"shieldTxMembershipErrorInsufficientToken":"shieldTxMembershipErrorUpdateCard",[(0,b.isCryptoPaymentMethod)(null==k?void 0:k.paymentMethod)?k.paymentMethod.crypto.tokenSymbol:""]))):I&&k?n.default.createElement(i.ButtonLink,{className:"warning-button",startIconName:i.IconName.Danger,startIconProps:{size:i.IconSize.Md,color:l.IconColor.warningDefault},color:l.TextColor.warningDefault,onClick:()=>{console.log("add funds")}},(0,b.isCryptoPaymentMethod)(k.paymentMethod)?k.paymentMethod.crypto.tokenSymbol:""):(0,b.isCryptoPaymentMethod)(k.paymentMethod)?k.paymentMethod.crypto.tokenSymbol:`${k.paymentMethod.card.brand.charAt(0).toUpperCase()+k.paymentMethod.card.brand.slice(1)} - ${k.paymentMethod.card.last4}`:"",[M,k,D,I,e,U]);return n.default.createElement(i.Box,{className:"transaction-shield-page","data-testid":"transaction-shield-page",width:l.BlockSize.Full,flexDirection:l.FlexDirection.Column,padding:4},(null==k?void 0:k.cancelAtPeriodEnd)&&n.default.createElement(i.Box,{className:"transaction-shield-page__notification-banner",backgroundColor:l.BackgroundColor.warningMuted,paddingTop:1,paddingBottom:1,paddingInline:4,display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2,marginBottom:4},n.default.createElement(i.Icon,{name:i.IconName.Info,size:i.IconSize.Lg}),n.default.createElement(i.Text,{variant:l.TextVariant.bodySm},e("shieldTxMembershipCancelNotification",[(0,p.getShortDateFormatterV2)().format(new Date(k.currentPeriodEnd))]))),Z,n.default.createElement(i.Box,{className:"transaction-shield-page__container",marginBottom:4},n.default.createElement(i.Box,T({className:(0,s.default)("transaction-shield-page__row transaction-shield-page__membership",{"transaction-shield-page__membership--loading":V,"transaction-shield-page__membership--inactive":N&&!V,"transaction-shield-page__membership--active":!N&&!V})},q,{alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween}),n.default.createElement(i.Box,{width:l.BlockSize.Full,gap:V?2:0,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,"data-theme":h.ThemeType.dark},V?n.default.createElement(c.Skeleton,{width:"60%",height:20}):n.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:3},n.default.createElement(i.Text,{variant:l.TextVariant.bodyMdBold,className:"transaction-shield-page__membership-text"},e(N?"shieldTxMembershipInactive":"shieldTxMembershipActive")),(null==k?void 0:k.status)===r.SUBSCRIPTION_STATUSES.trialing&&n.default.createElement(i.Tag,{label:e("shieldTxMembershipFreeTrial"),labelProps:{variant:l.TextVariant.bodySmMedium,color:l.TextColor.textAlternative},borderStyle:l.BorderStyle.none,borderRadius:l.BorderRadius.SM,backgroundColor:l.BackgroundColor.backgroundMuted}),M&&n.default.createElement(i.Tag,{label:e("shieldTxMembershipPaused"),labelProps:{variant:l.TextVariant.bodySmMedium,color:l.TextColor.textAlternative},borderStyle:l.BorderStyle.none,borderRadius:l.BorderRadius.SM,backgroundColor:l.BackgroundColor.backgroundMuted})),V?n.default.createElement(c.Skeleton,{width:"60%",height:16}):n.default.createElement(i.Text,{variant:l.TextVariant.bodyXs,className:"transaction-shield-page__membership-text"},e("shieldTxMembershipId"),": ",y))),n.default.createElement(i.Box,T({className:"transaction-shield-page__row"},q,{flexDirection:l.FlexDirection.Column,paddingTop:2,paddingBottom:2}),G.map((e,t)=>n.default.createElement(i.Box,{key:t,display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2,paddingTop:2,paddingBottom:2},V?n.default.createElement(c.Skeleton,{width:32,height:32,borderRadius:l.BorderRadius.full,style:{flexShrink:0}}):n.default.createElement(i.Icon,{name:e.icon,size:i.IconSize.Xl}),n.default.createElement(i.Box,{width:l.BlockSize.Full,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:V?2:0},V?n.default.createElement(c.Skeleton,{width:"100%",height:18}):n.default.createElement(i.Text,{variant:l.TextVariant.bodySmBold},e.title),V?n.default.createElement(c.Skeleton,{width:"100%",height:18}):n.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},e.description))))),K(e("shieldTxMembershipViewFullBenefits"),()=>{}),!S&&K(e("shieldTxMembershipSubmitCase"),()=>{}),!N&&(null==k?void 0:k.cancelAtPeriodEnd)&&K(e("shieldTxMembershipResubscribe"),()=>{B()}),P&&K(e("shieldTxMembershipCancel"),()=>{H(!0)},"shield-tx-membership-cancel-button"),S&&K(e("shieldTxMembershipRenew"),async()=>{D?console.log("renew membership"):await U()})),n.default.createElement(i.Box,{className:"transaction-shield-page__container"},n.default.createElement(i.Box,T({className:"transaction-shield-page__row"},q,{flexDirection:l.FlexDirection.Column,gap:2}),V?n.default.createElement(c.Skeleton,{width:"60%",height:24}):n.default.createElement(i.Text,{variant:l.TextVariant.headingSm},e("shieldTxMembershipBillingDetails")),k?n.default.createElement(n.default.Fragment,null,Y(e("shieldTxMembershipBillingDetailsNextBilling"),null!=k&&k.cancelAtPeriodEnd?"-":(0,p.getShortDateFormatterV2)().format(new Date(k.currentPeriodEnd))),Y(e("shieldTxMembershipBillingDetailsCharges"),D?`${(0,f.getProductPrice)(O)} ${null==O?void 0:O.currency.toUpperCase()} (${k.interval===r.RECURRING_INTERVALS.year?e("shieldPlanAnnual"):e("shieldPlanMonthly")})`:`${a((0,f.getProductPrice)(O),null==O?void 0:O.currency.toUpperCase(),{maximumFractionDigits:0})} (${k.interval===r.RECURRING_INTERVALS.year?e("shieldPlanAnnual"):e("shieldPlanMonthly")})`),D&&Y(e("shieldTxMembershipBillingDetailsBillingAccount"),(0,b.isCryptoPaymentMethod)(k.paymentMethod)?k.paymentMethod.crypto.payerAddress:""),Y(e("shieldTxMembershipBillingDetailsPaymentMethod"),J)):n.default.createElement(c.Skeleton,{width:"60%",height:24})),K(e("shieldTxMembershipBillingDetailsViewBillingHistory"),L)),k&&z&&n.default.createElement(v.default,{onClose:()=>H(!1),onConfirm:async()=>{H(!1),await R()},subscription:k}),$&&n.default.createElement(E.default,null))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/transaction-shield.tsx"}],[7468,{"@metamask/subscription-controller":2702},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isCardPaymentMethod=function(e){return e.type===n.PAYMENT_TYPES.byCard},a.isCryptoPaymentMethod=function(e){return e.type===n.PAYMENT_TYPES.byCrypto};var n=e("@metamask/subscription-controller")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/types.ts"}],[7469,{"./shield-plan":7471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./shield-plan"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/shield-plan/index.ts"}],[7470,{"../../../shared/constants/network":5433,"../../components/component-library":6097,"../../components/multichain/asset-picker-amount/asset-picker-modal":6258,"../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6255,"../../helpers/constants/design-system":6645,"../../hooks/useI18nContext":6777,"@metamask/subscription-controller":2702,classnames:3793,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ShieldPaymentModal=void 0;var n,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=(n=e("classnames"))&&n.__esModule?n:{default:n},o=e("@metamask/subscription-controller"),i=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),c=e("../../components/multichain/asset-picker-amount/asset-picker-modal"),u=e("../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),d=e("../../hooks/useI18nContext"),p=e("../../../shared/constants/network");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}a.ShieldPaymentModal=({isOpen:e,onClose:t,selectedPaymentMethod:a,setSelectedPaymentMethod:n,availableTokenBalances:m,selectedToken:f,onAssetChange:g,hasStableTokenWithBalance:h})=>{const _=(0,d.useI18nContext)(),[y,E]=(0,s.useState)(!1),v=(0,s.useCallback)(e=>{n(e),e===o.PAYMENT_TYPES.byCrypto?E(!0):t()},[n,t]),b=(0,s.useMemo)(()=>function*(e){for(const t of m)e(t.symbol,t.address,t.chainId)&&(yield t)},[m]);return s.default.createElement(i.Modal,{isOpen:e,onClose:()=>undefined,className:"shield-payment-modal","data-testid":"shield-payment-modal"},s.default.createElement(i.ModalOverlay,null),s.default.createElement(i.ModalContent,{modalDialogProps:{padding:0}},s.default.createElement(i.ModalHeader,{onClose:t},_("shieldPlanPaymentTitle")),s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,width:l.BlockSize.Full},s.default.createElement(i.Box,{"data-testid":"shield-payment-method-token-button",as:"button",className:(0,r.default)("payment-method-item",{"payment-method-item--selected":a===o.PAYMENT_TYPES.byCrypto}),padding:4,gap:4,backgroundColor:a===o.PAYMENT_TYPES.byCrypto?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,onClick:()=>{v(o.PAYMENT_TYPES.byCrypto)},disabled:!h},a===o.PAYMENT_TYPES.byCrypto&&s.default.createElement(i.Box,{className:"payment-method-item__selected-indicator",borderRadius:l.BorderRadius.pill,backgroundColor:l.BackgroundColor.primaryDefault}),s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:4},h?s.default.createElement(i.BadgeWrapper,{badge:s.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,name:p.NETWORK_TO_NAME_MAP[p.CHAIN_IDS.MAINNET],src:p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[p.CHAIN_IDS.MAINNET],borderColor:l.BorderColor.borderMuted})},s.default.createElement(i.AvatarToken,{name:null==f?void 0:f.symbol,src:null==f?void 0:f.image,marginTop:1,borderColor:l.BorderColor.borderMuted})):s.default.createElement(i.Icon,{size:i.IconSize.Xl,name:i.IconName.Coin}),s.default.createElement(i.Box,{textAlign:l.TextAlign.Left},s.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},_("shieldPlanPayWithToken",[h?(null==f?void 0:f.symbol)??"":"Crypto"])),s.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},h?`${_("balance")}: ${(null==f?void 0:f.string)??""} ${(null==f?void 0:f.symbol)??""}`:_("shieldPlanNoFunds")))),h&&s.default.createElement(i.Icon,{size:i.IconSize.Md,name:i.IconName.ArrowRight}))),s.default.createElement(i.Box,{"data-testid":"shield-payment-method-card-button",as:"button",className:(0,r.default)("payment-method-item",{"payment-method-item--selected":a===o.PAYMENT_TYPES.byCard}),padding:4,gap:4,backgroundColor:a===o.PAYMENT_TYPES.byCard?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,onClick:()=>v(o.PAYMENT_TYPES.byCard)},a===o.PAYMENT_TYPES.byCard&&s.default.createElement(i.Box,{className:"payment-method-item__selected-indicator",borderRadius:l.BorderRadius.pill,backgroundColor:l.BackgroundColor.primaryDefault}),s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:4},s.default.createElement(i.Icon,{size:i.IconSize.Xl,name:i.IconName.Card}),s.default.createElement(i.Box,{textAlign:l.TextAlign.Left},s.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},_("shieldPlanPayWithCard")),s.default.createElement(i.Box,{display:l.Display.Flex,gap:1,alignItems:l.AlignItems.center},s.default.createElement("img",{src:"./images/card-mc.svg",alt:"Mastercard"}),s.default.createElement("img",{src:"./images/card-visa.svg",alt:"Visa"}),s.default.createElement("img",{src:"./images/card-amex.svg",alt:"American Express"}))))))),s.default.createElement(c.AssetPickerModal,{isOpen:y,onClose:()=>{E(!1)},asset:f,onAssetChange:e=>{g(e),E(!1),t()},header:_("shieldPlanSelectToken"),autoFocus:!1,visibleTabs:[u.TabName.TOKENS],customTokenListGenerator:b})))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-payment-modal.tsx"}],[7471,{"../../../shared/constants/network":5433,"../../components/component-library":6097,"../../components/multichain/pages/page":6427,"../../components/ui/loading-screen":6534,"../../helpers/constants/design-system":6645,"../../helpers/constants/routes":6650,"../../hooks/subscription/useSubscription":6752,"../../hooks/subscription/useSubscriptionPricing":6753,"../../hooks/useAsync":6760,"../../hooks/useI18nContext":6777,"../../store/actions":7565,"./shield-payment-modal":7470,"./utils":7472,"@metamask/subscription-controller":2702,classnames:3793,loglevel:4542,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=w(e("loglevel")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=w(e("classnames")),o=e("@metamask/subscription-controller"),i=e("react-redux"),l=e("react-router-dom-v5-compat"),c=e("../../components/multichain/pages/page"),u=e("../../helpers/constants/design-system"),d=e("../../components/component-library"),p=e("../../hooks/useI18nContext"),m=e("../../../shared/constants/network"),f=w(e("../../components/ui/loading-screen")),g=e("../../hooks/subscription/useSubscriptionPricing"),h=e("../../store/actions"),_=e("../../hooks/subscription/useSubscription"),y=e("../../helpers/constants/routes"),E=e("../../hooks/useAsync"),v=e("./shield-payment-modal"),b=e("./utils");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T.apply(null,arguments)}a.default=()=>{const e=(0,l.useNavigate)(),t=(0,p.useI18nContext)(),a=(0,i.useDispatch)(),{subscriptions:C,trialedProducts:w,loading:x,error:k}=(0,_.useUserSubscriptions)(),S=(0,_.useUserSubscriptionByProduct)("shield",C),M=null==w?void 0:w.includes(o.PRODUCT_TYPES.SHIELD);(0,s.useEffect)(()=>{S&&e(y.TRANSACTION_SHIELD_ROUTE)},[e,S]);const[N,I]=(0,s.useState)(o.RECURRING_INTERVALS.year),{subscriptionPricing:P,loading:D,error:O}=(0,g.useSubscriptionPricing)(),R=(0,g.useSubscriptionProductPlans)(o.PRODUCT_TYPES.SHIELD,P),A=(0,g.useSubscriptionPaymentMethods)("crypto",P),B=(0,s.useMemo)(()=>null==R?void 0:R.find(e=>e.interval===N),[R,N]),F=(0,g.useAvailableTokenBalances)({paymentChains:null==A?void 0:A.chains,price:B,productType:o.PRODUCT_TYPES.SHIELD}),L=F.length>0,[j,U]=(0,s.useState)(L?o.PAYMENT_TYPES.byCrypto:o.PAYMENT_TYPES.byCard),[W,$]=(0,s.useState)(()=>F[0]);(0,s.useEffect)(()=>{W||$(F[0])},[F,W,$]);const[V,z]=(0,E.useAsyncCallback)(async()=>{if(j!==o.PAYMENT_TYPES.byCard)throw n.default.error("Crypto payment method is not supported at the moment"),new Error("Crypto payment method is not supported at the moment");await a((0,h.startSubscriptionWithCard)({products:["shield"],isTrialRequested:!M,recurringInterval:N}))},[N,j,a,M]),H=x||D||z.pending,G=k||O||z.error,q=(0,s.useMemo)(()=>(null==R?void 0:R.map(e=>{const a=e.interval===o.RECURRING_INTERVALS.year,n=(0,b.getProductPrice)(e);return{id:e.interval,label:t(a?"shieldPlanAnnual":"shieldPlanMonthly"),price:t(a?"shieldPlanAnnualPrice":"shieldPlanMonthlyPrice",[`$${n}`])}}).sort((e,t)=>e.id===o.RECURRING_INTERVALS.year?-1:1))??[],[R,t]),K=q.find(e=>e.id===N),Y=[t("shieldPlanDetails1"),t(j===o.PAYMENT_TYPES.byCrypto?"shieldPlanDetails2":"shieldPlanDetails2Card"),t("shieldPlanDetails3")],[Z,J]=(0,s.useState)(!1),Q={display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center,backgroundColor:u.BackgroundColor.backgroundSection,padding:4};return s.default.createElement(c.Page,{className:"shield-plan-page","data-testid":"shield-plan-page"},s.default.createElement(c.Header,{textProps:{variant:u.TextVariant.headingSm},startAccessory:s.default.createElement(d.ButtonIcon,{size:d.ButtonIconSize.Md,ariaLabel:t("back"),iconName:d.IconName.ArrowLeft,onClick:()=>{e(y.SETTINGS_ROUTE,{replace:!0})}})},t("shieldPlanTitle")),G&&s.default.createElement(d.Text,{variant:u.TextVariant.bodySm},G.message),H&&s.default.createElement(f.default,null),P&&s.default.createElement(s.default.Fragment,null,s.default.createElement(c.Content,null,s.default.createElement(d.Box,{display:u.Display.Grid,gap:2,marginBottom:4,paddingTop:2,className:"shield-plan-page__plans"},q.map(e=>s.default.createElement(d.Box,T({as:"button",key:e.id},Q,{borderRadius:u.BorderRadius.LG,paddingTop:2,paddingBottom:2,gap:4,className:(0,r.default)("shield-plan-page__plan",{"shield-plan-page__plan--selected":e.id===N}),onClick:()=>I(e.id)}),s.default.createElement("div",{className:"shield-plan-page__radio"}),s.default.createElement(d.Box,{textAlign:u.TextAlign.Left,className:"shield-plan-page__radio-label"},s.default.createElement(d.Text,{variant:u.TextVariant.bodySm},e.label),s.default.createElement(d.Text,{variant:u.TextVariant.headingMd},e.price)),e.id===o.RECURRING_INTERVALS.year&&s.default.createElement(d.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,paddingInline:2,borderRadius:u.BorderRadius.SM,className:"shield-plan-page__save-badge"},s.default.createElement(d.Text,{variant:u.TextVariant.bodyXs,color:u.TextColor.iconInverse},t("shieldPlanSave")))))),s.default.createElement(d.Box,{className:"shield-plan-page__group",marginBottom:4},s.default.createElement(d.Box,T({as:"button",className:"shield-plan-page__row"},Q,{onClick:()=>J(!0),width:u.BlockSize.Full}),s.default.createElement(d.Text,{variant:u.TextVariant.bodyLgMedium},t("shieldPlanPayWith")),s.default.createElement(d.Box,{display:u.Display.Flex,gap:2,alignItems:u.AlignItems.center},j===o.PAYMENT_TYPES.byCrypto&&W?s.default.createElement(d.BadgeWrapper,{badge:s.default.createElement(d.AvatarNetwork,{size:d.AvatarNetworkSize.Xs,name:m.NETWORK_TO_NAME_MAP[W.chainId],src:m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[W.chainId],borderColor:u.BorderColor.borderMuted})},s.default.createElement(d.AvatarToken,{name:(null==W?void 0:W.symbol)||"",src:(null==W?void 0:W.image)||"",borderColor:u.BorderColor.borderMuted})):s.default.createElement(d.Icon,{size:d.IconSize.Xl,name:d.IconName.Card}),s.default.createElement(d.Text,{variant:u.TextVariant.bodyLgMedium},j===o.PAYMENT_TYPES.byCrypto?(null==W?void 0:W.symbol)||"":t("shieldPlanCard")),s.default.createElement(d.Icon,{size:d.IconSize.Md,name:d.IconName.ArrowRight})))),s.default.createElement(d.Box,{className:"shield-plan-page__group"},s.default.createElement(d.Box,T({className:"shield-plan-page__row"},Q,{display:u.Display.Block}),s.default.createElement(d.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:4},t("shieldPlanDetails")),s.default.createElement(d.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:2},Y.map((e,t)=>s.default.createElement(d.Box,{key:t,display:u.Display.Flex,gap:2},s.default.createElement(d.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,style:{height:"1lh"}},s.default.createElement(d.Icon,{size:d.IconSize.Sm,name:d.IconName.Check,color:u.IconColor.primaryDefault})),s.default.createElement(d.Text,{variant:u.TextVariant.bodySm},e)))))),s.default.createElement(v.ShieldPaymentModal,{isOpen:Z,onClose:()=>J(!1),selectedToken:W,selectedPaymentMethod:j,hasStableTokenWithBalance:L,setSelectedPaymentMethod:U,onAssetChange:$,availableTokenBalances:F})),s.default.createElement(c.Footer,{className:"shield-plan-page__footer",flexDirection:u.FlexDirection.Column,gap:3,backgroundColor:u.BackgroundColor.backgroundMuted},s.default.createElement(d.Button,{size:d.ButtonSize.Lg,variant:d.ButtonVariant.Primary,block:!0,onClick:V},t("continue")),s.default.createElement(d.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.textAlternative,textAlign:u.TextAlign.Center},t("shieldPlanAutoRenew",[null==K?void 0:K.price])))))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-plan.tsx"}],[7472,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getProductPrice=function(e){return e.unitAmount/10**e.unitDecimals}}}},{package:"$root$",file:"ui/pages/shield-plan/utils.ts"}],[7473,{"./smart-transaction-status-page":7475},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"SmartTransactionStatusPage",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./smart-transaction-status-page"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/index.ts"}],[7474,{"../../../components/component-library":6097,"../../../components/component-library/lottie-animation":6103,"../../../helpers/constants/design-system":6645,"@metamask/smart-transactions-controller/dist/types":2427,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SmartTransactionStatusAnimation=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("@metamask/smart-transactions-controller/dist/types"),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library/lottie-animation");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}const c="images/animations/smart-transaction-status",u={Failed:{path:`${c}/failed.lottie.json`,loop:!1},Confirmed:{path:`${c}/confirmed.lottie.json`,loop:!1},SubmittingIntro:{path:`${c}/submitting-intro.lottie.json`,loop:!1},SubmittingLoop:{path:`${c}/submitting-loop.lottie.json`,loop:!0},Processing:{path:`${c}/processing.lottie.json`,loop:!0}};a.SmartTransactionStatusAnimation=({status:e})=>{const[t,a]=(0,n.useState)(!0);let l;if(e===s.SmartTransactionStatuses.PENDING)l=t?u.SubmittingIntro:u.SubmittingLoop;else switch(e){case s.SmartTransactionStatuses.SUCCESS:l=u.Confirmed;break;case s.SmartTransactionStatuses.REVERTED:case s.SmartTransactionStatuses.UNKNOWN:l=u.Failed;break;default:l=u.Processing}const c=(0,n.useCallback)(()=>{e===s.SmartTransactionStatuses.PENDING&&t&&a(!1)},[e,t]);return n.default.createElement(r.Box,{display:o.Display.Flex,style:{width:"96px",height:"96px"}},n.default.createElement(i.LottieAnimation,{path:l.path,loop:l.loop,autoplay:!0,onComplete:c}))}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-animation.tsx"}],[7475,{"../../../../shared/constants/notifications":5434,"../../../../shared/constants/urls":5452,"../../../../shared/modules/conversion.utils":5529,"../../../../shared/modules/selectors/networks":5547,"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,"../../confirmations/components/simulation-details":7090,"./smart-transaction-status-animation":7474,"@metamask/smart-transactions-controller/dist/types":2427,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.showRemainingTimeInMinAndSec=a.default=a.SmartTransactionStatusPage=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=e("@metamask/smart-transactions-controller/dist/types"),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../../../shared/modules/selectors/networks"),u=e("../../../selectors"),d=e("../../../../shared/constants/urls"),p=e("../../../store/actions"),m=e("../../../../shared/modules/conversion.utils"),f=e("../../confirmations/components/simulation-details"),g=e("../../../../shared/constants/notifications"),h=e("./smart-transaction-status-animation");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}a.showRemainingTimeInMinAndSec=e=>{if(!Number.isInteger(e))return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`};const y=({description:e})=>e?n.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,className:"smart-transaction-status-page__description"},n.default.createElement(o.Text,{marginTop:2,color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},e)):null,E=({portfolioSmartTransactionStatusUrl:e,isSmartTransactionPending:t,onCloseExtension:a})=>{const s=(0,l.useI18nContext)();if(!e)return null;const r=(0,n.useCallback)(()=>{const n=window.innerWidth>g.NOTIFICATION_WIDTH;t&&!n||a(),global.platform.openTab({url:e})},[t,a,e]);return n.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,marginTop:2},n.default.createElement(o.Button,{type:"link",variant:o.ButtonVariant.Link,onClick:r},s("viewTransaction")))},v=({isDapp:e,onCloseExtension:t})=>{const a=(0,l.useI18nContext)();return e?n.default.createElement(o.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:t,width:i.BlockSize.Full,marginTop:3},a("closeExtension")):null},b=({isDapp:e,isSmartTransactionPending:t})=>{const a=(0,l.useI18nContext)();return e&&t?n.default.createElement(o.Text,{marginTop:2,color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},a("closeWindowAnytime")):null},C=({isDapp:e,onViewActivity:t})=>{const a=(0,l.useI18nContext)();return e?null:n.default.createElement(o.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:t,width:i.BlockSize.Full,marginTop:3},a("viewActivity"))},w=({isDapp:e,isSmartTransactionPending:t,onCloseExtension:a,onViewActivity:s})=>n.default.createElement(o.Box,{className:"smart-transaction-status-page__footer",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,padding:4,paddingBottom:0},n.default.createElement(b,{isDapp:e,isSmartTransactionPending:t}),n.default.createElement(v,{isDapp:e,onCloseExtension:a}),n.default.createElement(C,{isDapp:e,onViewActivity:s})),T=({title:e})=>n.default.createElement(o.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.headingMd,as:"h4",fontWeight:i.FontWeight.Bold},e),x=({requestState:e,onCloseExtension:t=()=>null,onViewActivity:a=()=>null})=>{var g,_,v;const b=(0,l.useI18nContext)(),C=(0,s.useDispatch)(),{smartTransaction:x,isDapp:k,txId:S}=e,M=!x||x.status===r.SmartTransactionStatuses.PENDING,N=(null==x?void 0:x.status)===r.SmartTransactionStatuses.SUCCESS,I=Boolean(null==x||null===(g=x.status)||void 0===g?void 0:g.startsWith(r.SmartTransactionStatuses.CANCELLED)),P=(0,s.useSelector)(c.getCurrentChainId),D=(0,s.useSelector)(e=>(0,u.getFullTxData)(e,S))||{},{title:O,description:R}=(({t:e,isSmartTransactionPending:t,isSmartTransactionSuccess:a,isSmartTransactionCancelled:n})=>t?{title:e("smartTransactionPending"),iconName:o.IconName.Clock,iconColor:i.IconColor.primaryDefault}:a?{title:e("smartTransactionSuccess"),iconName:o.IconName.Confirmation,iconColor:i.IconColor.successDefault}:n?{title:e("smartTransactionCancelled"),description:e("smartTransactionCancelledDescription"),iconName:o.IconName.Danger,iconColor:i.IconColor.errorDefault}:{title:e("smartTransactionError"),description:e("smartTransactionErrorDescription"),iconName:o.IconName.Danger,iconColor:i.IconColor.errorDefault})({t:b,isSmartTransactionPending:M,isSmartTransactionSuccess:N,isSmartTransactionCancelled:I});(0,n.useEffect)(()=>{C((0,p.hideLoadingIndication)())},[]);const A=(null===(_=D.simulationData)||void 0===_||null===(_=_.tokenBalanceChanges)||void 0===_?void 0:_.length)>0||(null===(v=D.simulationData)||void 0===v?void 0:v.nativeBalanceChange),B=null==x?void 0:x.uuid,F=B&&P?`${d.BaseUrl.Portfolio}/networks/${Number((0,m.hexToDecimal)(P))}/smart-transactions/${B}`:undefined;return n.default.createElement(o.Box,{className:"smart-transaction-status-page",height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,borderStyle:i.BorderStyle.none,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,marginBottom:0},n.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,style:{flexGrow:1}},n.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,width:i.BlockSize.Full},n.default.createElement(h.SmartTransactionStatusAnimation,{status:null==x?void 0:x.status}),n.default.createElement(T,{title:O}),n.default.createElement(y,{description:R}),n.default.createElement(E,{portfolioSmartTransactionStatusUrl:F,isSmartTransactionPending:M,onCloseExtension:t})),A&&n.default.createElement(o.Box,{width:i.BlockSize.Full},n.default.createElement(f.SimulationDetails,{transaction:D}))),n.default.createElement(w,{isDapp:k,isSmartTransactionPending:M,onCloseExtension:t,onViewActivity:a}))};a.SmartTransactionStatusPage=x;a.default=x}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-page.tsx"}],[7476,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("react"))&&n.__esModule?n:{default:n},r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system");const i=({url:e,onSubmit:t})=>s.default.createElement(r.ButtonIcon,{"data-testid":"snap-account-redirect-url-icon",onClick:()=>{global.platform.openTab({url:e}),null==t||t()},iconName:r.IconName.Export,color:o.IconColor.primaryDefault,size:r.ButtonIconSize.Sm,ariaLabel:""});a.default=s.default.memo(i)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/redirect-url-icon.tsx"}],[7477,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,"./snap-account-redirect-message":7478,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=l(e("react")),s=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),o=e("../../../hooks/useI18nContext"),i=l(e("./snap-account-redirect-message"));function l(e){return e&&e.__esModule?e:{default:e}}a.default=({url:e,snapName:t,isBlockedUrl:a,message:l,onSubmit:c})=>{const u=(0,o.useI18nContext)();return n.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,paddingTop:4},n.default.createElement(s.Box,{gap:4,display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center},n.default.createElement(s.Text,{"data-testid":"snap-account-redirect-content-title",textAlign:r.TextAlign.Center,variant:r.TextVariant.headingLg,paddingBottom:2},u("snapAccountRedirectFinishSigningTitle")),a?n.default.createElement(s.Box,{display:r.Display.Flex,paddingLeft:4,paddingRight:4},n.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Danger,"data-testid":"snap-account-redirect-content-blocked-url-banner"},n.default.createElement(s.Text,null,u("snapUrlIsBlocked",[n.default.createElement(s.Button,{variant:s.ButtonVariant.Link,size:s.ButtonSize.Inherit,onClick:()=>global.platform.openTab({url:"https://support.metamask.io/troubleshooting/deceptive-site-ahead-when-trying-to-connect-to-a-site/"}),key:"snap-url-is-blocked-learn-more-button"},u("learnMore"))])))):null,!1===a?n.default.createElement(s.Text,{"data-testid":"snap-account-redirect-content-description",textAlign:r.TextAlign.Center,variant:r.TextVariant.bodyMd},u("snapAccountRedirectSiteDescription",[t])):null,(e.length>0||l.length>0)&&!1===a?n.default.createElement(i.default,{snapName:t,url:e,message:l,onSubmit:c}):null))}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-context.tsx"}],[7478,{"../../../components/app/snaps/snap-delineator":5856,"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"./url-display-box":7479,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=l(e("react")),s=e("../../../helpers/constants/design-system"),r=e("../../../components/component-library"),o=e("../../../components/app/snaps/snap-delineator"),i=l(e("./url-display-box"));function l(e){return e&&e.__esModule?e:{default:e}}const c=({snapName:e,url:t,message:a,onSubmit:l})=>n.default.createElement(o.SnapDelineator,{"data-testid":"snap-account-redirect-message-container",snapName:e},""!==a?n.default.createElement(r.Text,{variant:s.TextVariant.bodyMd,"data-testid":"snap-account-redirect-message"},a):null,t.length>0?n.default.createElement(r.Box,{paddingTop:2,display:s.Display.Flex},n.default.createElement(i.default,{url:t,onSubmit:l})):null);a.default=n.default.memo(c)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-message.tsx"}],[7479,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"./redirect-url-icon":7476,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("react")),s=e("../../../helpers/constants/design-system"),r=e("../../../components/component-library"),o=i(e("./redirect-url-icon"));function i(e){return e&&e.__esModule?e:{default:e}}const l=({url:e,onSubmit:t})=>n.default.createElement(r.Box,{display:s.Display.InlineFlex,backgroundColor:s.BackgroundColor.backgroundDefault,alignItems:s.AlignItems.center,borderWidth:1,borderRadius:s.BorderRadius.SM,borderColor:s.BorderColor.borderDefault,paddingRight:4},n.default.createElement(r.Text,{"data-testid":"snap-account-redirect-url-display-box",padding:2,variant:s.TextVariant.bodyMd,color:s.TextColor.primaryDefault},e),n.default.createElement(o.default,{url:e,onSubmit:t}));a.default=n.default.memo(l)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/url-display-box.tsx"}],[7480,{"./snap-account-redirect":7481},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"SnapAccountRedirect",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-account-redirect"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/index.ts"}],[7481,{"../../components/app/snaps/snap-authorship-header":5851,"../../components/component-library":6097,"../../helpers/constants/design-system":6645,"./components/snap-account-redirect-context":7477,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=l(e("react")),s=e("../../components/component-library"),r=e("../../helpers/constants/design-system"),o=l(e("../../components/app/snaps/snap-authorship-header")),i=l(e("./components/snap-account-redirect-context"));function l(e){return e&&e.__esModule?e:{default:e}}a.default=({url:e,snapId:t,snapName:a,isBlockedUrl:l,message:c,onSubmit:u})=>n.default.createElement(s.Box,{className:"create-snap-account-page",height:r.BlockSize.Full,width:r.BlockSize.Full,borderStyle:r.BorderStyle.none,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center},n.default.createElement(o.default,{snapId:t}),n.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,height:r.BlockSize.Full,padding:4},n.default.createElement(i.default,{url:e,onSubmit:u,snapId:t,snapName:a,isBlockedUrl:l,message:c})))}}},{package:"$root$",file:"ui/pages/snap-account-redirect/snap-account-redirect.tsx"}],[7482,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.KeyringSnapRemovalResultStatus=void 0;a.KeyringSnapRemovalResultStatus={Success:"success",Failed:"failed",None:"none"}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/constants.ts"}],[7483,{"./snap-view":7485},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-view"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/index.js"}],[7484,{"../../../components/app/connected-sites-list":5682,"../../../components/app/snaps/keyring-snap-removal-warning":5844,"../../../components/app/snaps/show-more":5847,"../../../components/app/snaps/snap-authorship-expanded":5849,"../../../components/app/snaps/snap-delineator":5856,"../../../components/app/snaps/snap-permissions-list":5876,"../../../components/app/snaps/snap-remove-warning":5880,"../../../components/app/snaps/snap-update-alert":5965,"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../helpers/constants/snaps":6653,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,"./constants":7482,"@metamask/snaps-utils":2677,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom":4929,semver:5252},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=x(e("prop-types")),o=e("react-router-dom"),i=x(e("semver")),l=e("@metamask/snaps-utils"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=x(e("../../../components/app/snaps/snap-authorship-expanded")),p=x(e("../../../components/app/snaps/snap-remove-warning")),m=x(e("../../../components/app/connected-sites-list")),f=x(e("../../../components/app/snaps/keyring-snap-removal-warning")),g=e("../../../store/actions"),h=e("../../../selectors"),_=e("../../../components/component-library"),y=x(e("../../../components/app/snaps/snap-permissions-list")),E=e("../../../components/app/snaps/snap-delineator"),v=e("../../../helpers/constants/snaps"),b=x(e("../../../components/app/snaps/snap-update-alert")),C=e("../../../helpers/constants/routes"),w=e("../../../components/app/snaps/show-more"),T=e("./constants");function x(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}function S({snapId:e,initRemove:t,resetInitRemove:a}){const r=(0,o.useHistory)(),x=(0,c.useI18nContext)(),k=(0,s.useSelector)(h.getSnaps),S=(0,s.useDispatch)(),M=Object.entries(k).map(([e,t])=>t).find(t=>t.id===e),[N,I]=(0,n.useState)(!1),[P,D]=(0,n.useState)(!1),[O,R]=(0,n.useState)([]),A=(0,s.useSelector)(h.getMemoizedMetaMaskInternalAccounts),B=(0,s.useSelector)(e=>(0,h.getSubjectsWithSnapPermission)(e,null==M?void 0:M.id)),F=(0,s.useSelector)(e=>M&&(0,h.getPermissions)(e,M.id)),{name:L,description:j}=(0,s.useSelector)(t=>(0,h.getSnapMetadata)(t,e));let U=!1;U=Boolean(null==F?void 0:F.snap_manageAccounts),(0,n.useEffect)(()=>{U&&(async()=>{const e=await(0,g.getSnapAccountsById)(M.id),t=Object.values(A).filter(t=>e.includes(t.address.toLowerCase()));R(t)})()},[null==M?void 0:M.id,A,U]);const W=(0,s.useSelector)(e=>M?(0,h.getSnapLatestVersion)(e,null==M?void 0:M.id):null),$=!!W&&i.default.gt(W,M.version);return(0,n.useEffect)(()=>{t&&(I(!0),a())},[t,a]),n.default.createElement(_.Box,null,$&&n.default.createElement(b.default,{snapName:L,onUpdateClick:async()=>{const e={[M.id]:{version:W}},t=await S((0,g.updateSnap)("MetaMask",e));t&&r.push(`${C.CONNECT_ROUTE}/${t}`)},bannerAlertProps:{marginBottom:4}}),n.default.createElement(d.default,{snapId:M.id,snap:M}),n.default.createElement(_.Box,{className:"snap-view__content__description",marginTop:[4,7]},n.default.createElement(E.SnapDelineator,{type:v.DelineatorType.Description,snapName:L},n.default.createElement(w.ShowMore,{buttonBackground:u.BackgroundColor.backgroundDefault},n.default.createElement(_.Text,null,j)))),n.default.createElement(_.Box,{className:"snap-view__content__permissions",marginTop:12},n.default.createElement(_.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:1},x("permissions")),n.default.createElement(y.default,{snapId:e,snapName:L,permissions:F??{},showOptions:!0,showAllPermissions:!0})),n.default.createElement(_.Box,{className:"snap-view__content__connected-sites",marginTop:12},n.default.createElement(_.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:2},B.every(e=>(0,l.isSnapId)(e.origin))?x("connectedSnaps"):B.some(e=>(0,l.isSnapId)(e.origin))?x("connectedSitesAndSnaps"):x("connectedSites")),n.default.createElement(m.default,{connectedSubjects:B,onDisconnect:e=>{var t;t=e,M.id,S((0,g.disconnectOriginFromSnap)(t,M.id))}})),n.default.createElement(_.Box,{className:"snap-view__content__remove",marginTop:12},n.default.createElement(_.Text,{variant:u.TextVariant.bodyLgMedium,color:u.TextColor.textDefault},x("removeSnap")),n.default.createElement(_.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textDefault},x("removeSnapDescription")),n.default.createElement(_.Box,{marginTop:4,display:u.Display.Flex,justifyContent:u.JustifyContent.center},n.default.createElement(_.Button,{className:"snap-view__content__remove-button",danger:"true",variant:_.ButtonVariant.Secondary,width:u.BlockSize.Full,size:_.ButtonSize.Lg,onClick:()=>I(!0),"data-testid":"remove-snap-button",disabled:M.preinstalled&&!1===M.removable},n.default.createElement(_.Text,{color:u.TextColor.inherit,variant:u.TextVariant.bodyMd,flexWrap:u.FlexWrap.NoWrap,ellipsis:!0,style:{overflow:"hidden"},paddingTop:3,paddingBottom:3},`${x("remove")} ${L}`)),n.default.createElement(p.default,{isOpen:N&&(!U||0===O.length)&&!P,onCancel:()=>I(!1),onSubmit:async()=>{await S((0,g.removeSnap)(M.id))},snapName:L}),n.default.createElement(n.default.Fragment,null,n.default.createElement(f.default,{snap:M,keyringAccounts:O,snapUrl:M.url,onCancel:()=>I(!1),onClose:()=>I(!1),onBack:()=>I(!1),onSubmit:async()=>{try{D(!0),await S((0,g.removeSnap)(M.id)),I(!1),S((0,g.showKeyringSnapRemovalModal)({snapName:L,result:T.KeyringSnapRemovalResultStatus.Success}))}catch{I(!1),S((0,g.showKeyringSnapRemovalModal)({snapName:L,result:T.KeyringSnapRemovalResultStatus.Failed}))}finally{D(!1)}},isOpen:N&&U&&O.length>0})))))}S.propTypes={snapId:r.default.string.isRequired,initRemove:r.default.bool,resetInitRemove:r.default.func};a.default=S}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-settings.js"}],[7485,{"../../../components/app/snaps/snap-authorship-header":5851,"../../../components/app/snaps/snap-home-menu":5858,"../../../components/app/snaps/snap-home-page/snap-home-renderer":5860,"../../../components/component-library":6097,"../../../components/multichain/pages/page":6427,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../selectors":7539,"./snap-settings":7484,"@metamask/utils":2799,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-router-dom"),r=e("react-redux"),o=e("@metamask/utils"),i=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../../selectors"),u=e("../../../components/component-library"),d=e("../../../components/multichain/pages/page"),p=h(e("../../../components/app/snaps/snap-authorship-header")),m=h(e("../../../components/app/snaps/snap-home-menu")),f=e("../../../components/app/snaps/snap-home-page/snap-home-renderer"),g=h(e("./snap-settings"));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}a.default=function(){const e=(0,s.useHistory)(),t=(0,s.useLocation)(),{pathname:a}=t,h=decodeURIComponent(a.match(/[^/]+$/u)[0]),_=(0,r.useSelector)(c.getSnaps),y=Object.entries(_).map(([e,t])=>t).find(e=>e.id===h);(0,n.useEffect)(()=>{y||e.push(l.SNAPS_ROUTE)},[e,y]);const E=(0,r.useSelector)(e=>y&&(0,c.getPermissions)(e,y.id)),v=E&&(0,o.hasProperty)(E,"endowment:page-home"),[b,C]=(0,n.useState)(!v),[w,T]=(0,n.useState)(!1);if(!y)return null;const x=()=>{y.preinstalled&&y.hidden?e.push(l.DEFAULT_ROUTE):b&&v?C(!1):e.push(l.SNAPS_ROUTE)};return n.default.createElement("div",{className:"snap-view"},n.default.createElement(d.Page,{backgroundColor:i.BackgroundColor.backgroundDefault},!y.hideSnapBranding&&n.default.createElement(p.default,{snapId:h,showInfo:!1,startAccessory:n.default.createElement(u.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},n.default.createElement(u.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:u.ButtonIconSize.Md,onClick:x})),endAccessory:!y.hidden&&n.default.createElement(m.default,{snapId:h,onSettingsClick:()=>{C(!0)},onRemoveClick:()=>{T(!0),C(!0)},isSettingsAvailable:!y.preinstalled})}),n.default.createElement(d.Content,{backgroundColor:i.BackgroundColor.backgroundDefault,className:"snap-view__content",marginTop:b?4:0,padding:b?4:0},b?n.default.createElement(g.default,{snapId:h,initRemove:w,resetInitRemove:()=>{T(!1)}}):n.default.createElement(f.SnapHomeRenderer,{snapId:h}))))}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-view.js"}],[7486,{"./snap-list":7487},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/index.js"}],[7487,{"../../../components/app/snaps/snap-list-item":5868,"../../../components/component-library":6097,"../../../components/multichain/pages/page":6427,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../helpers/utils/settings-search":6694,"../../../helpers/utils/util":6703,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=(n=e("../../../components/app/snaps/snap-list-item"))&&n.__esModule?n:{default:n},l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../helpers/utils/settings-search"),m=e("../../../components/component-library"),f=e("../../../components/multichain/pages/page"),g=e("../../../helpers/utils/util");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,l.useI18nContext)(),t=(0,o.useHistory)(),a=(0,s.useRef)();(0,s.useEffect)(()=>{(0,p.handleSettingsRefs)(e,e("snaps"),a)},[a,e]);const n=(0,r.useSelector)(d.getSnapsList),h=(0,r.useSelector)(d.getAllSnapAvailableUpdates);return s.default.createElement("div",{className:"snaps"},s.default.createElement(f.Page,{backgroundColor:c.BackgroundColor.backgroundDefault},s.default.createElement(f.Header,{backgroundColor:c.BackgroundColor.backgroundDefault,startAccessory:s.default.createElement(m.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:"sm",onClick:()=>t.push(u.DEFAULT_ROUTE)})},e("snaps")),s.default.createElement(f.Content,{backgroundColor:c.BackgroundColor.backgroundDefault,className:"snaps__content"},s.default.createElement(m.Box,{className:"snaps__content__list",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,height:c.BlockSize.Full},n.length>0&&s.default.createElement("div",{className:"snaps__content__list__body"},s.default.createElement("div",{className:"snaps__content__list__wrapper"},n.map(e=>s.default.createElement(i.default,{className:"snaps__content__list-item",key:e.key,packageName:e.packageName,name:e.name,onClick:()=>{(e=>{t.push((0,g.getSnapRoute)(e.id))})(e)},snapId:e.id,showUpdateDot:h.get(e.id)})))),n.length<=5&&s.default.createElement(m.Box,{display:c.Display.Flex,height:c.BlockSize.Full,flexDirection:c.FlexDirection.Row,flexWrap:c.FlexWrap.Wrap,justifyContent:c.JustifyContent.center,className:"snaps__content__list__container--snaps-info-content"},n.length<1&&s.default.createElement(m.Box,{className:"snaps__content__list__container--no-snaps_inner",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},s.default.createElement(m.Icon,{name:m.IconName.Snaps,color:c.IconColor.iconMuted,className:"snaps__content__list__no-snaps_icon",size:m.IconSize.Inherit}),s.default.createElement(m.Text,{color:c.Color.textMuted,align:c.TextAlign.Center,marginTop:4},e("noSnaps"))),s.default.createElement(m.Box,{display:c.Display.Flex,width:c.BlockSize.Full,height:c.BlockSize.Min}),s.default.createElement(m.Box,{className:"snaps__content__list__container--no-snaps_banner-tip",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.flexEnd,paddingLeft:4,paddingRight:4,paddingBottom:4},s.default.createElement(m.BannerTip,{logoType:m.BannerTipLogoType.Greeting,description:e("extendWalletWithSnaps"),descriptionProps:{variant:c.TextVariant.bodyMd}},s.default.createElement(m.ButtonLink,{size:c.Size.auto,href:"https://snaps.metamask.io/",target:"_blank",endIconName:m.IconName.Export},`${e("discoverSnaps")}`))))))))}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/snap-list.js"}],[7488,{"../../../../shared/constants/metametrics":5430,"../../../../shared/modules/selectors":5545,"../../../components/component-library":6097,"../../../components/ui/box":6478,"../../../components/ui/pulse-loader":6560,"../../../contexts/i18n":6603,"../../../contexts/metametrics":6608,"../../../ducks/swaps/swaps":6641,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../selectors/selectors":7555,"../swaps-footer":7514,"./swap-step-icon":7490,"lodash/isEqual":4521,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,n.useContext)(i.I18nContext),t=(0,r.useHistory)(),a=(0,s.useDispatch)(),v=(0,s.useSelector)(l.getFetchParams,o.default),{destinationTokenInfo:b,sourceTokenInfo:C}=(null==v?void 0:v.metaData)||{},w=(0,s.useSelector)(l.getApproveTxParams,s.shallowEqual),T=(0,s.useSelector)(c.isHardwareWallet),x=(0,s.useSelector)(c.getHardwareWalletType),k=(0,s.useSelector)(u.getSmartTransactionsOptInStatusForMetrics),S=(0,s.useSelector)(u.getSmartTransactionsEnabled),M=(0,s.useSelector)(l.getCurrentSmartTransactionsEnabled),N=Boolean(w),I=(0,n.useContext)(h.MetaMetricsContext);(0,n.useEffect)(()=>{I({event:"Awaiting Signature(s) on a HW wallet",category:_.MetaMetricsEventCategory.Swaps,sensitiveProperties:{needs_two_confirmations:N,token_from:null==C?void 0:C.symbol,token_from_amount:null==v?void 0:v.value,token_to:null==b?void 0:b.symbol,request_type:null!=v&&v.balanceError?"Quote":"Order",slippage:null==v?void 0:v.slippage,custom_slippage:2===(null==v?void 0:v.slippage),is_hardware_wallet:T,hardware_wallet_type:x,stx_enabled:S,current_stx_enabled:M,stx_user_opt_in:k}})},[]);const P=e(N?"swapTwoTransactions":"swapConfirmWithHwWallet");return n.default.createElement("div",{className:"awaiting-signatures"},n.default.createElement(m.default,{paddingLeft:8,paddingRight:8,height:f.BLOCK_SIZES.FULL,justifyContent:f.JustifyContent.center,display:f.DISPLAY.FLEX,className:"awaiting-signatures__content"},n.default.createElement(m.default,{marginTop:3,marginBottom:4},n.default.createElement(p.default,null)),n.default.createElement(y.Text,{color:f.TextColor.textDefault,variant:f.TextVariant.headingMd,as:"h3"},P),N&&n.default.createElement(n.default.Fragment,null,n.default.createElement(y.Text,{variant:f.TextVariant.bodyMdBold,marginTop:2},e("swapToConfirmWithHwWallet")),n.default.createElement("ul",{className:"awaiting-signatures__steps"},n.default.createElement("li",null,n.default.createElement(E.default,{stepNumber:1}),e("swapAllowSwappingOf",[n.default.createElement(y.Text,{as:"span",variant:f.TextVariant.bodyMdBold,key:"allowToken"},null==b?void 0:b.symbol)])),n.default.createElement("li",null,n.default.createElement(E.default,{stepNumber:2}),e("swapFromTo",[n.default.createElement(y.Text,{as:"span",variant:f.TextVariant.bodyMdBold,key:"tokenFrom"},null==C?void 0:C.symbol),n.default.createElement(y.Text,{as:"span",variation:f.TextVariant.bodyMdBold,key:"tokenTo"},null==b?void 0:b.symbol)]))),n.default.createElement(y.Text,{variant:f.TextVariant.bodyMd},e("swapGasFeesSplit")))),n.default.createElement(g.default,{onSubmit:async()=>{await a((0,l.prepareToLeaveSwaps)()),t.push(d.DEFAULT_ROUTE),t.push(d.PREPARE_SWAP_ROUTE)},submitText:e("cancel"),hideCancel:!0}))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=v(e("lodash/isEqual")),i=e("../../../contexts/i18n"),l=e("../../../ducks/swaps/swaps"),c=e("../../../selectors/selectors"),u=e("../../../../shared/modules/selectors"),d=e("../../../helpers/constants/routes"),p=v(e("../../../components/ui/pulse-loader")),m=v(e("../../../components/ui/box")),f=e("../../../helpers/constants/design-system"),g=v(e("../swaps-footer")),h=e("../../../contexts/metametrics"),_=e("../../../../shared/constants/metametrics"),y=e("../../../components/component-library"),E=v(e("./swap-step-icon"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/awaiting-signatures.js"}],[7489,{"./awaiting-signatures":7488},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./awaiting-signatures"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/index.js"}],[7490,{"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=o;var n=r(e("react")),s=r(e("prop-types"));function r(e){return e&&e.__esModule?e:{default:e}}function o({stepNumber:e=1}){switch(e){case 1:return n.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),n.default.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"}));case 2:return n.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),n.default.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"}));default:return undefined}}o.propTypes={stepNumber:s.default.number}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/swap-step-icon.js"}],[7491,{"../../../../shared/constants/common":5418,"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/swaps":5447,"../../../../shared/lib/ui-utils":5523,"../../../../shared/modules/selectors":5545,"../../../../shared/modules/selectors/networks":5547,"../../../../shared/modules/swaps.utils":5552,"../../../components/ui/mascot":6540,"../../../components/ui/pulse-loader":6560,"../../../contexts/i18n":6603,"../../../contexts/metametrics":6608,"../../../ducks/metamask/metamask":6632,"../../../ducks/swaps/swaps":6641,"../../../helpers/constants/routes":6650,"../../../helpers/utils/build-types":6670,"../../../selectors":7539,"../../../selectors/selectors":7555,"../../../store/actions":7565,"../create-new-swap":7497,"../swaps-footer":7514,"../swaps.util":7517,"../view-on-block-explorer":7518,"./quotes-timeout-icon":7493,"./swap-failure-icon":7494,"./swap-success-icon":7495,"@metamask/etherscan-link":1903,events:4072,"lodash/isEqual":4521,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=F;var n=B(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=B(e("prop-types")),i=e("react-router-dom"),l=B(e("lodash/isEqual")),c=e("@metamask/etherscan-link"),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/modules/selectors/networks"),f=e("../../../ducks/metamask/metamask"),g=e("../../../selectors"),h=e("../../../selectors/selectors"),_=e("../../../../shared/modules/selectors"),y=e("../../../ducks/swaps/swaps"),E=B(e("../../../components/ui/mascot")),v=e("../../../../shared/constants/swaps"),b=e("../../../../shared/constants/common"),C=e("../../../../shared/modules/swaps.utils"),w=B(e("../../../components/ui/pulse-loader")),T=e("../../../helpers/utils/build-types"),x=e("../../../helpers/constants/routes"),k=e("../../../store/actions"),S=e("../swaps.util"),M=B(e("../swaps-footer")),N=B(e("../create-new-swap")),I=B(e("../view-on-block-explorer")),P=e("../../../../shared/lib/ui-utils"),D=B(e("./swap-failure-icon")),O=B(e("./swap-success-icon")),R=B(e("./quotes-timeout-icon"));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}function B(e){return e&&e.__esModule?e:{default:e}}function F({swapComplete:e,errorKey:t,txHash:a,tokensReceived:o,submittingSwap:A,txId:B}){var F,L;const j=(0,s.useContext)(u.I18nContext),U=(0,s.useContext)(d.MetaMetricsContext),W=(0,i.useHistory)(),$=(0,r.useDispatch)(),V=(0,r.useSelector)(h.getHDEntropyIndex),z=(0,s.useRef)(new n.default),{swapMetaData:H}=(0,r.useSelector)(e=>(0,g.getFullTxData)(e,B))||{},G=(0,r.useSelector)(y.getFetchParams,l.default),q=(0,r.useSelector)(y.getFromTokenInputValue),K=(0,r.useSelector)(y.getMaxSlippage),Y=(0,r.useSelector)(y.getUsedQuote,l.default),Z=(0,r.useSelector)(y.getApproveTxParams,r.shallowEqual),J=(0,r.useSelector)(y.getUsedSwapsGasPrice),Q=(0,r.useSelector)(f.getCurrentCurrency),X=(0,r.useSelector)(g.getUSDConversionRate),ee=(0,r.useSelector)(m.getCurrentChainId),te=(0,r.useSelector)(g.getRpcPrefsForCurrentProvider,r.shallowEqual),[ae,ne]=(0,s.useState)(!1),se=(null==Y||null===(F=Y.destinationTokenInfo)||void 0===F?void 0:F.symbol)||(null==H?void 0:H.token_to);let re;if(Y&&J){var oe,ie;re=(0,S.getRenderableNetworkFeesForQuote)({tradeGas:Y.gasEstimateWithRefund||Y.averageGas,approveGas:(null==Z?void 0:Z.gas)||"0x0",gasPrice:J,currentCurrency:Q,conversionRate:X,tradeValue:null==Y||null===(oe=Y.trade)||void 0===oe?void 0:oe.value,sourceSymbol:null==Y||null===(ie=Y.sourceTokenInfo)||void 0===ie?void 0:ie.symbol,sourceAmount:Y.sourceAmount,chainId:ee}).rawNetworkFees}const le=(0,r.useSelector)(g.isHardwareWallet),ce=(0,r.useSelector)(g.getHardwareWalletType),ue=(0,r.useSelector)(_.getSmartTransactionsOptInStatusForMetrics),de=(0,r.useSelector)(_.getSmartTransactionsEnabled),pe=(0,r.useSelector)(y.getCurrentSmartTransactionsEnabled),me=(null==H?void 0:H.slippage)||(null==Y?void 0:Y.slippage),fe={token_from:(null==H?void 0:H.token_from)||(null==Y||null===(L=Y.sourceTokenInfo)||void 0===L?void 0:L.symbol),token_from_amount:null==H?void 0:H.token_from_amount,token_to:se,request_type:null!=G&&G.balanceError?"Quote":"Order",slippage:me,custom_slippage:2===me,gas_fees:re,is_hardware_wallet:le,hardware_wallet_type:ce,stx_enabled:de,current_stx_enabled:pe,stx_user_opt_in:ue},ge=te.blockExplorerUrl??b.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ee]??null,he=(0,c.getBlockExplorerLink)({hash:a,chainId:ee},{blockExplorerUrl:ge});let _e,ye,Ee,ve,be;t===v.OFFLINE_FOR_MAINTENANCE?(_e=j("offlineForMaintenance"),Ee=j("metamaskSwapsOfflineDescription"),ve=j("close"),ye=s.default.createElement(D.default,null)):t===v.SWAP_FAILED_ERROR?(_e=j("swapFailedErrorTitle"),Ee=j("swapFailedErrorDescriptionWithSupportLink",[s.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:P.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",onClick:()=>{U({category:p.MetaMetricsEventCategory.Swaps,event:p.MetaMetricsEventName.SupportLinkClicked,properties:{url:P.SUPPORT_LINK}},{contextPropsIntoEventProperties:[p.MetaMetricsContextProp.PageTitle]})}},new URL(P.SUPPORT_LINK).hostname)]),ve=j("tryAgain"),ye=s.default.createElement(D.default,null),be=he&&s.default.createElement(I.default,{blockExplorerUrl:he,sensitiveTrackingProperties:fe})):t===v.QUOTES_EXPIRED_ERROR?(_e=j("swapQuotesExpiredErrorTitle"),Ee=j("swapQuotesExpiredErrorDescription"),ve=j("tryAgain"),ye=s.default.createElement(R.default,null),ae||(ne(!0),U({event:"Quotes Timed Out",category:p.MetaMetricsEventCategory.Swaps,sensitiveProperties:fe,properties:{hd_entropy_index:V}}))):t===v.ERROR_FETCHING_QUOTES?(_e=j("swapFetchingQuotesErrorTitle"),Ee=j("swapFetchingQuotesErrorDescription"),ve=j("back"),ye=s.default.createElement(D.default,null)):t===v.QUOTES_NOT_AVAILABLE_ERROR?(_e=j("swapQuotesNotAvailableErrorTitle"),Ee=j("swapQuotesNotAvailableErrorDescription"),ve=j("tryAgain"),ye=s.default.createElement(D.default,null)):t===v.CONTRACT_DATA_DISABLED_ERROR?(_e=j("swapContractDataDisabledErrorTitle"),Ee=j("swapContractDataDisabledErrorDescription"),ve=j("tryAgain"),ye=s.default.createElement(D.default,null)):t||e?!t&&e&&(_e=j("swapTransactionComplete"),ye=s.default.createElement(O.default,null),ve=j("close"),Ee=j("swapTokenAvailable",[s.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${o||""} ${se}`)]),be=he&&s.default.createElement(I.default,{blockExplorerUrl:he,sensitiveTrackingProperties:fe})):(_e=j("swapProcessing"),ye=s.default.createElement(w.default,null),ve=j("swapsViewInActivity"),Ee=j("swapOnceTransactionHasProcess",[s.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol","data-testid":"awaiting-swap-amount-and-symbol"},se)]),be=he&&s.default.createElement(I.default,{blockExplorerUrl:he,sensitiveTrackingProperties:fe})),(0,s.useEffect)(()=>{t&&$((0,k.stopPollingForQuotes)())},[$,t]);return s.default.createElement("div",{className:"awaiting-swap"},s.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&((0,T.isFlask)()||(0,T.isBeta)()?s.default.createElement("div",{className:"awaiting-swap__mascot"},s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"})):s.default.createElement(E.default,{animationEventEmitter:z.current,width:"90",height:"90"})),s.default.createElement("div",{className:"awaiting-swap__status-image"},ye),s.default.createElement("div",{className:"awaiting-swap__header","data-testid":"awaiting-swap-header"},_e),s.default.createElement("div",{className:"awaiting-swap__main-description","data-testid":"awaiting-swap-main-description"},Ee),be),!t&&e?s.default.createElement(N.default,{sensitiveTrackingProperties:fe}):null,s.default.createElement(M.default,{onSubmit:async()=>{t===v.OFFLINE_FOR_MAINTENANCE?(await $((0,y.prepareToLeaveSwaps)()),W.push(x.DEFAULT_ROUTE)):t===v.QUOTES_EXPIRED_ERROR?($((0,y.prepareForRetryGetQuotes)()),await $((0,y.fetchQuotesAndSetQuoteState)(W,q,K,U))):t?await $((0,y.navigateBackToPrepareSwap)(W)):((0,C.isSwapsDefaultTokenSymbol)(se,ee)||e||await $((0,k.setDefaultHomeActiveTabName)("activity")),W.push(x.DEFAULT_ROUTE))},onCancel:async()=>await $((0,y.navigateBackToPrepareSwap)(W)),submitText:ve,disabled:A,hideCancel:t!==v.QUOTES_EXPIRED_ERROR}))}F.propTypes={swapComplete:o.default.bool,txHash:o.default.string,tokensReceived:o.default.string,errorKey:o.default.oneOf([v.QUOTES_EXPIRED_ERROR,v.SWAP_FAILED_ERROR,v.ERROR_FETCHING_QUOTES,v.QUOTES_NOT_AVAILABLE_ERROR,v.OFFLINE_FOR_MAINTENANCE,v.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:o.default.bool,txId:o.default.string}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/awaiting-swap.js"}],[7492,{"./awaiting-swap":7491},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./awaiting-swap"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/index.js"}],[7493,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M22 0C9.96768 0 0.178406 9.78928 0.178406 21.8216C0.178406 33.8539 9.96768 43.6432 22 43.6432C34.0323 43.6432 43.8216 33.8539 43.8216 21.8216C43.8216 9.78929 34.0323 0 22 0ZM22 3.27324C32.2633 3.27324 40.5484 11.5583 40.5484 21.8216C40.5484 32.0849 32.2633 40.3699 22 40.3699C11.7367 40.3699 3.45164 32.0849 3.45164 21.8216C3.45164 11.5583 11.7367 3.27324 22 3.27324ZM22 6.00094C21.0961 6.00094 20.3634 6.73371 20.3634 7.63756V21.8216C20.3634 22.4269 20.6932 22.9534 21.1817 23.2366L32.5187 29.783C33.3014 30.235 34.3001 29.9692 34.752 29.1864C35.2039 28.4036 34.938 27.405 34.1553 26.953L23.6366 20.8839V7.63756C23.6366 6.73371 22.9039 6.00094 22 6.00094Z",fill:"var(--color-primary-default)"}))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/quotes-timeout-icon.js"}],[7494,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement("svg",{width:"45",height:"39",viewBox:"0 0 45 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M22.203 0.424438L0.285706 38.2816H44.1203L22.203 0.424438ZM22.203 8.39436L37.2064 34.2966H7.19961L22.203 8.39436ZM20.2105 16.3643V24.3342H24.1955V16.3643H20.2105ZM20.2105 28.3192V32.3041H24.1955V28.3192",fill:"var(--color-error-default)"}))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-failure-icon.js"}],[7495,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M34.1429 19C34.1429 23.0161 32.5474 26.8678 29.7076 29.7076C26.8678 32.5474 23.0161 34.1428 19 34.1428C14.9839 34.1428 11.1322 32.5474 8.29238 29.7076C5.45254 26.8678 3.85714 23.0161 3.85714 19C3.85714 14.9838 5.45254 11.1322 8.29238 8.29237C11.1322 5.45253 14.9839 3.85713 19 3.85713C20.4386 3.85713 21.8393 4.06534 23.1643 4.44391L26.1361 1.47213C23.9404 0.563554 21.5364 0.0714111 19 0.0714111C16.5143 0.0714111 14.0529 0.561013 11.7563 1.51226C9.45983 2.46351 7.37316 3.85778 5.61548 5.61546C2.06568 9.16526 0.0714264 13.9798 0.0714264 19C0.0714264 24.0201 2.06568 28.8347 5.61548 32.3845C7.37316 34.1422 9.45983 35.5364 11.7563 36.4877C14.0529 37.4389 16.5143 37.9286 19 37.9286C24.0202 37.9286 28.8347 35.9343 32.3845 32.3845C35.9343 28.8347 37.9286 24.0201 37.9286 19H34.1429ZM11.2582 15.3657L8.58928 18.0536L17.1071 26.5714L36.0357 7.64284L33.3668 4.95498L17.1071 21.2146L11.2582 15.3657Z",fill:"var(--color-success-default)"}))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-success-icon.js"}],[7496,{"../../../../shared/constants/metametrics":5430,"../../../components/ui/box":6478,"../../../contexts/i18n":6603,"../../../contexts/metametrics":6608,"../../../ducks/swaps/swaps":6641,"../../../helpers/constants/routes":6650,"../../../selectors":7539,"../../../selectors/selectors":7555,"lodash/isEqual":4521,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=y;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=h(e("prop-types")),o=e("react-router-dom"),i=h(e("lodash/isEqual")),l=h(e("../../../components/ui/box")),c=e("../../../contexts/i18n"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../../ducks/swaps/swaps"),m=e("../../../helpers/constants/routes"),f=e("../../../selectors"),g=e("../../../selectors/selectors");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function y({sensitiveTrackingProperties:e}){const t=(0,n.useContext)(c.I18nContext),a=(0,n.useContext)(u.MetaMetricsContext),r=(0,s.useSelector)(g.getHDEntropyIndex),h=(0,s.useDispatch)(),_=(0,o.useHistory)(),y=(0,s.useSelector)(f.getSwapsDefaultToken,i.default);return n.default.createElement(l.default,{marginBottom:3,className:"create-new-swap"},n.default.createElement("button",{onClick:async()=>{a({event:d.MetaMetricsEventName.MakeAnotherSwap,category:d.MetaMetricsEventCategory.Swaps,sensitiveProperties:e,properties:{hd_entropy_index:r}}),_.push(m.DEFAULT_ROUTE),await h((0,p.navigateBackToPrepareSwap)(_)),h((0,p.setSwapsFromToken)(y))}},t("makeAnotherSwap")))}y.propTypes={sensitiveTrackingProperties:r.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/create-new-swap.js"}],[7497,{"./create-new-swap":7496},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./create-new-swap"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/index.js"}],[7498,{"../../../ducks/swaps/swaps":6641,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useSwapsFeatureFlags=function(){const e=(0,s.useDispatch)();(0,n.useEffect)(()=>{(async()=>{await e((0,r.fetchSwapsLivenessAndFeatureFlags)())})()},[e])};var n=e("react"),s=e("react-redux"),r=e("../../../ducks/swaps/swaps")}}},{package:"$root$",file:"ui/pages/swaps/hooks/useSwapsFeatureFlags.ts"}],[7499,{"../../../../shared/modules/selectors/networks":5547,"../../../ducks/swaps/swaps":6641,"../../../selectors":7539,"../../../store/actions":7565,"../swaps.util":7517,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.useDispatch)(),t=(0,s.useSelector)(l.getCurrentChainId),a=(0,s.useSelector)(c.getIsSwapsChain),u=(0,s.useSelector)(c.checkNetworkAndAccountSupports1559),d=(0,s.useSelector)(c.getUseExternalServices);(0,n.useEffect)(()=>a&&d?((0,r.fetchTokens)(t).then(t=>{e((0,i.setSwapsTokens)(t))}).catch(e=>console.error(e)),(0,r.fetchTopAssets)(t).then(t=>{e((0,o.setTopAssets)(t))}),(0,r.fetchAggregatorMetadata)(t).then(t=>{e((0,o.setAggregatorMetadata)(t))}),u||e((0,o.fetchAndSetSwapsGasPriceInfo)()),()=>{e((0,o.prepareToLeaveSwaps)())}):undefined,[e,t,u,a,d])};var n=e("react"),s=e("react-redux"),r=e("../swaps.util"),o=e("../../../ducks/swaps/swaps"),i=e("../../../store/actions"),l=e("../../../../shared/modules/selectors/networks"),c=e("../../../selectors")}}},{package:"$root$",file:"ui/pages/swaps/hooks/useUpdateSwapsState.ts"}],[7500,{"../../../shared/constants/metametrics":5430,"../../../shared/constants/swaps":5447,"../../../shared/lib/transactions-controller-utils":5519,"../../../shared/modules/selectors":5545,"../../../shared/modules/selectors/networks":5547,"../../components/component-library":6097,"../../components/ui/box":6478,"../../contexts/i18n":6603,"../../contexts/metametrics":6608,"../../ducks/swaps/swaps":6641,"../../helpers/constants/design-system":6645,"../../helpers/constants/routes":6650,"../../helpers/higher-order-components/feature-toggled-route":6661,"../../hooks/useGasFeeEstimates":6774,"../../selectors":7539,"../../selectors/selectors":7555,"../../store/actions":7565,"./awaiting-signatures":7489,"./awaiting-swap":7492,"./hooks/useUpdateSwapsState":7499,"./loading-swaps-quotes":7502,"./notification-page/notification-page":7505,"./smart-transaction-status":7508,"@metamask/transaction-controller":2754,lodash:4534,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){var e,t,a,P;const D=(0,n.useContext)(l.I18nContext),O=(0,r.useHistory)(),R=(0,s.useDispatch)(),A=(0,n.useContext)(v.MetaMetricsContext),B=(0,s.useSelector)(c.getHDEntropyIndex),{pathname:F}=(0,r.useLocation)(),L=F===f.AWAITING_SWAP_ROUTE,j=F===f.AWAITING_SIGNATURES_ROUTE,U=F===f.SWAPS_ERROR_ROUTE,W=F===f.LOADING_QUOTES_ROUTE,$=F===f.SMART_TRANSACTION_STATUS_ROUTE,V=F===f.PREPARE_SWAP_ROUTE,[z,H]=(0,n.useState)(!1),G=(0,s.useSelector)(d.getFetchParams,o.isEqual),{destinationTokenInfo:q={}}=(null==G?void 0:G.metaData)||{},K=(0,s.useSelector)(d.getBackgroundSwapRouteState),Y=(0,s.useSelector)(c.getSelectedAccount,s.shallowEqual),Z=(0,s.useSelector)(d.getQuotes,o.isEqual),J=(0,s.useSelector)(d.getLatestAddedTokenTo,o.isEqual),Q=(0,s.useSelector)(p.getCurrentNetworkTransactions,s.shallowEqual),X=(0,s.useSelector)(d.getTradeTxId),ee=(0,s.useSelector)(d.getApproveTxId),te=(0,s.useSelector)(d.getAggregatorMetadata,s.shallowEqual),ae=(0,s.useSelector)(d.getFetchingQuotes);let ne=(0,s.useSelector)(d.getSwapsErrorKey);const se=(0,s.useSelector)(d.getSwapsFeatureIsLive),re=(0,s.useSelector)(u.getCurrentChainId),oe=(0,s.useSelector)(c.getIsSwapsChain),ie=(0,s.useSelector)(d.getReviewSwapClickedTimestamp),le=Boolean(ie),ce=(0,s.useSelector)(m.getSmartTransactionsOptInStatusForMetrics),ue=(0,s.useSelector)(m.getSmartTransactionsEnabled),de=(0,s.useSelector)(d.getCurrentSmartTransactionsEnabled),pe=(0,s.useSelector)(d.getCurrentSmartTransactionsError),me=(0,s.useSelector)(u.getSelectedNetworkClientId);(0,n.useEffect)(()=>{oe||(async()=>{await R((0,d.prepareToLeaveSwaps)()),O.push(f.DEFAULT_ROUTE)})()},[oe,R,O]),(0,_.useGasFeeEstimates)();const{address:fe}=Y,ge=ee&&Q.find(({id:e})=>ee===e),he=X&&Q.find(({id:e})=>X===e),_e=(null==he?void 0:he.txReceipt)&&(0,b.getSwapsTokensReceivedFromTxMeta)(null==q?void 0:q.symbol,he,null==q?void 0:q.address,fe,null==q?void 0:q.decimals,ge,re),ye=(null==he?void 0:he.status)===i.TransactionStatus.confirmed,Ee=(null==ge?void 0:ge.status)===i.TransactionStatus.failed||"0x0"===(null==ge||null===(e=ge.txReceipt)||void 0===e?void 0:e.status),ve=(null==he?void 0:he.status)===i.TransactionStatus.failed||"0x0"===(null==he||null===(t=he.txReceipt)||void 0===t?void 0:t.status),be=Ee||ve;be&&ne!==g.CONTRACT_DATA_DISABLED_ERROR&&(ne=g.SWAP_FAILED_ERROR);const Ce=(0,n.useRef)();(0,n.useEffect)(()=>{Ce.current=()=>{!J||L&&!be||R((0,h.ignoreTokens)({tokensToIgnore:J,dontShowLoadingIndicator:!0,networkClientId:me}))}},[be,R,J,q,G,L,me]),(0,n.useEffect)(()=>()=>{Ce.current()},[]),(0,x.default)();const we=(0,s.useSelector)(c.isHardwareWallet),Te=(0,s.useSelector)(c.getHardwareWalletType),xe=(0,n.useRef)();(0,n.useEffect)(()=>{xe.current=()=>{var e,t;A({event:E.MetaMetricsEventName.ExitedSwaps,category:E.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==G||null===(e=G.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==G?void 0:G.value,request_type:null==G?void 0:G.balanceError,token_to:null==G||null===(t=G.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==G?void 0:G.slippage,custom_slippage:2!==(null==G?void 0:G.slippage),current_screen:F.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:we,hardware_wallet_type:Te,stx_enabled:ue,current_stx_enabled:de,stx_user_opt_in:ce},properties:{hd_entropy_index:B}})}}),(0,n.useEffect)(()=>((async()=>{await R((0,d.fetchSwapsLivenessAndFeatureFlags)())})(),()=>{xe.current()}),[R]),(0,n.useEffect)(()=>{ne&&!U&&le&&O.push(f.SWAPS_ERROR_ROUTE)},[O,ne,U,le]);const ke=(0,n.useRef)();(0,n.useEffect)(()=>{const e=()=>(Ce.current(),W&&R((0,d.prepareToLeaveSwaps)()),null);return W&&!ke.current&&(ke.current=!0,window.addEventListener("beforeunload",e)),()=>window.removeEventListener("beforeunload",e)},[R,W]);const Se=(0,n.useCallback)(()=>{var e,t;A({event:"Error Smart Transactions",category:E.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==G||null===(e=G.sourceTokenInfo)||void 0===e?void 0:e.symbol,token_from_amount:null==G?void 0:G.value,request_type:null==G?void 0:G.balanceError,token_to:null==G||null===(t=G.destinationTokenInfo)||void 0===t?void 0:t.symbol,slippage:null==G?void 0:G.slippage,custom_slippage:2!==(null==G?void 0:G.slippage),current_screen:F.match(/\/swaps\/(.+)/u)[1],is_hardware_wallet:we,hardware_wallet_type:Te,stx_enabled:ue,current_stx_enabled:de,stx_user_opt_in:ce,stx_error:pe}})},[pe,de,A,null==G?void 0:G.balanceError,null==G||null===(a=G.destinationTokenInfo)||void 0===a?void 0:a.symbol,null==G?void 0:G.slippage,null==G||null===(P=G.sourceTokenInfo)||void 0===P?void 0:P.symbol,null==G?void 0:G.value,Te,we,F,ue,ce]);if((0,n.useEffect)(()=>{pe&&!z&&(H(!0),Se())},[pe,Se,z]),!oe)return n.default.createElement(n.default.Fragment,null);const Me=async()=>{Ce.current(),O.push({pathname:f.DEFAULT_ROUTE,state:{stayOnHomePage:!0}}),R((0,d.clearSwapsState)()),await R((0,h.resetBackgroundSwapsState)())};return n.default.createElement("div",{className:"swaps"},n.default.createElement("div",{className:"swaps__container"},n.default.createElement("div",{className:"swaps__header"},n.default.createElement(w.default,{display:T.DISPLAY.FLEX,justifyContent:T.JustifyContent.center,marginLeft:4,width:T.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:e=>{"Enter"===e.key&&Me()}},!L&&!j&&!$&&n.default.createElement(C.Icon,{name:C.IconName.Arrow2Left,size:C.IconSize.Lg,color:T.IconColor.iconAlternative,onClick:Me,style:{cursor:"pointer"},title:D("cancel")})),n.default.createElement("div",{className:"swaps__title"},D("swap")),n.default.createElement(w.default,{display:T.DISPLAY.FLEX,justifyContent:T.JustifyContent.center,marginRight:4,width:T.FRACTIONS.ONE_TWELFTH,tabIndex:"0",onKeyUp:e=>{"Enter"===e.key&&R((0,d.setTransactionSettingsOpened)(!0))}},V&&n.default.createElement(C.Icon,{name:C.IconName.Setting,size:C.IconSize.Lg,color:T.IconColor.iconAlternative,onClick:()=>{R((0,d.setTransactionSettingsOpened)(!0))},style:{cursor:"pointer"},title:D("transactionSettings")}))),n.default.createElement("div",{className:"swaps__content"},n.default.createElement(r.Switch,null,n.default.createElement(y.default,{redirectRoute:f.SWAPS_MAINTENANCE_ROUTE,flag:se,path:f.PREPARE_SWAP_ROUTE,exact:!0,render:()=>n.default.createElement(r.Redirect,{to:{pathname:`${f.CROSS_CHAIN_SWAP_ROUTE}${f.PREPARE_SWAP_ROUTE}`}})}),n.default.createElement(r.Route,{path:f.SWAPS_ERROR_ROUTE,exact:!0,render:()=>ne?n.default.createElement(M.default,{swapComplete:!1,errorKey:ne,txHash:null==he?void 0:he.hash,txId:null==he?void 0:he.id,submittedTime:null==he?void 0:he.submittedTime}):n.default.createElement(r.Redirect,{to:{pathname:f.PREPARE_SWAP_ROUTE}})}),n.default.createElement(r.Route,{path:f.SWAPS_NOTIFICATION_ROUTE,exact:!0,render:()=>ne?n.default.createElement(I.default,{notificationKey:ne}):n.default.createElement(r.Redirect,{to:{pathname:f.PREPARE_SWAP_ROUTE}})}),n.default.createElement(y.default,{redirectRoute:f.SWAPS_MAINTENANCE_ROUTE,flag:se,path:f.LOADING_QUOTES_ROUTE,exact:!0,render:()=>te?n.default.createElement(N.default,{loadingComplete:!ae&&Boolean(Object.values(Z).length),onDone:async()=>{await R((0,h.setBackgroundSwapRouteState)("")),ne===g.ERROR_FETCHING_QUOTES||ne===g.QUOTES_NOT_AVAILABLE_ERROR?(R((0,h.setSwapsErrorKey)(g.QUOTES_NOT_AVAILABLE_ERROR)),O.push(f.SWAPS_ERROR_ROUTE)):O.push(f.PREPARE_SWAP_ROUTE)},aggregatorMetadata:te}):n.default.createElement(r.Redirect,{to:{pathname:f.PREPARE_SWAP_ROUTE}})}),n.default.createElement(r.Route,{path:f.SWAPS_MAINTENANCE_ROUTE,exact:!0,render:()=>!1===se?n.default.createElement(M.default,{errorKey:g.OFFLINE_FOR_MAINTENANCE}):n.default.createElement(r.Redirect,{to:{pathname:f.PREPARE_SWAP_ROUTE}})}),n.default.createElement(r.Route,{path:f.AWAITING_SIGNATURES_ROUTE,exact:!0,render:()=>n.default.createElement(k.default,null)}),n.default.createElement(r.Route,{path:f.SMART_TRANSACTION_STATUS_ROUTE,exact:!0,render:()=>n.default.createElement(S.default,{txId:null==he?void 0:he.id})}),n.default.createElement(r.Route,{path:f.AWAITING_SWAP_ROUTE,exact:!0,render:()=>"awaiting"===K||he?n.default.createElement(M.default,{swapComplete:ye,txHash:null==he?void 0:he.hash,tokensReceived:_e,txId:null==he?void 0:he.id,submittingSwap:"awaiting"===K&&!(ee||X)}):n.default.createElement(r.Redirect,{to:{pathname:f.DEFAULT_ROUTE}})})))))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("lodash"),i=e("@metamask/transaction-controller"),l=e("../../contexts/i18n"),c=e("../../selectors/selectors"),u=e("../../../shared/modules/selectors/networks"),d=e("../../ducks/swaps/swaps"),p=e("../../selectors"),m=e("../../../shared/modules/selectors"),f=e("../../helpers/constants/routes"),g=e("../../../shared/constants/swaps"),h=e("../../store/actions"),_=e("../../hooks/useGasFeeEstimates"),y=P(e("../../helpers/higher-order-components/feature-toggled-route")),E=e("../../../shared/constants/metametrics"),v=e("../../contexts/metametrics"),b=e("../../../shared/lib/transactions-controller-utils"),C=e("../../components/component-library"),w=P(e("../../components/ui/box")),T=e("../../helpers/constants/design-system"),x=P(e("./hooks/useUpdateSwapsState")),k=P(e("./awaiting-signatures")),S=P(e("./smart-transaction-status")),M=P(e("./awaiting-swap")),N=P(e("./loading-swaps-quotes")),I=P(e("./notification-page/notification-page"));function P(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/index.js"}],[7501,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"loading-swaps-quotes__background-1","data-testid":"loading-swaps-quotes-background-1"},s.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),s.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),s.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),s.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),s.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),s.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),s.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),s.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),s.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),s.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),s.default.createElement("defs",null,s.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),s.default.createElement("div",{className:"loading-swaps-quotes__background-2","data-testid":"loading-swaps-quotes-background-2"},s.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),s.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),s.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),s.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),s.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),s.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),s.default.createElement("defs",null,s.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#FFE466"}),s.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),s.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),s.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"}))))))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/background-animation.js"}],[7502,{"./loading-swaps-quotes":7503},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./loading-swaps-quotes"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/index.js"}],[7503,{"../../../../shared/constants/metametrics":5430,"../../../../shared/modules/selectors":5545,"../../../components/component-library":6097,"../../../components/ui/mascot":6540,"../../../contexts/i18n":6603,"../../../contexts/metametrics":6608,"../../../ducks/swaps/swaps":6641,"../../../helpers/constants/design-system":6645,"../../../helpers/utils/build-types":6670,"../../../selectors/selectors":7555,"../swaps-footer":7514,"./background-animation":7501,events:4072,lodash:4534,"lodash/isEqual":4521,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=T;var n=w(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=w(e("prop-types")),i=e("lodash"),l=e("react-router-dom"),c=w(e("lodash/isEqual")),u=e("../../../ducks/swaps/swaps"),d=e("../../../selectors/selectors"),p=e("../../../../shared/modules/selectors"),m=e("../../../contexts/i18n"),f=e("../../../contexts/metametrics"),g=w(e("../../../components/ui/mascot")),h=e("../../../../shared/constants/metametrics"),_=w(e("../swaps-footer")),y=e("../../../components/component-library"),E=e("../../../helpers/constants/design-system"),v=e("../../../helpers/utils/build-types"),b=w(e("./background-animation"));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function T({aggregatorMetadata:e,loadingComplete:t,onDone:a}){var o,C;const w=(0,s.useContext)(m.I18nContext),T=(0,s.useContext)(f.MetaMetricsContext),x=(0,r.useDispatch)(),k=(0,r.useSelector)(d.getHDEntropyIndex),S=(0,l.useHistory)(),M=(0,s.useRef)(new n.default),N=(0,r.useSelector)(u.getFetchParams,c.default),I=(0,r.useSelector)(u.getQuotesFetchStartTime),P=(0,r.useSelector)(d.isHardwareWallet),D=(0,r.useSelector)(d.getHardwareWalletType),O=(0,r.useSelector)(p.getSmartTransactionsOptInStatusForMetrics),R=(0,r.useSelector)(p.getSmartTransactionsEnabled),A=(0,r.useSelector)(u.getCurrentSmartTransactionsEnabled),B={event:"Quotes Request Cancelled",category:h.MetaMetricsEventCategory.Swaps,sensitiveProperties:{token_from:null==N||null===(o=N.sourceTokenInfo)||void 0===o?void 0:o.symbol,token_from_amount:null==N?void 0:N.value,request_type:null==N?void 0:N.balanceError,token_to:null==N||null===(C=N.destinationTokenInfo)||void 0===C?void 0:C.symbol,slippage:null==N?void 0:N.slippage,custom_slippage:2!==(null==N?void 0:N.slippage),response_time:Date.now()-I,is_hardware_wallet:P,hardware_wallet_type:D,stx_enabled:R,current_stx_enabled:A,stx_user_opt_in:O},properties:{hd_entropy_index:k}},[F]=(0,s.useState)(()=>(0,i.shuffle)(Object.keys(e))),L=F.length,j=(0,s.useRef)(),U=j.current,[W,$]=(0,s.useState)(0),[V,z]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e;e=t?20:500+Math.floor(1500*Math.random());const n=setTimeout(()=>{W<L?$(W+1):W===L&&t&&a()},e);return function(){clearTimeout(n)}},[W,t,a,L]),(0,s.useEffect)(()=>{if(U){const{top:e,left:t,width:a,height:n}=U.getBoundingClientRect();z({x:t+a/2,y:e+n/2})}},[U]),s.default.createElement("div",{className:"loading-swaps-quotes"},s.default.createElement("div",{className:"loading-swaps-quotes__content"},s.default.createElement(s.default.Fragment,null,s.default.createElement(y.Text,{variant:E.TextVariant.bodyXs,"data-testid":"loading-swaps-quotes-quote-counter",color:E.TextColor.textAlternative,marginTop:1,display:E.Display.Flex,justifyContent:E.JustifyContent.center,width:E.BlockSize.Full,marginBottom:1},s.default.createElement("span",null,w("swapFetchingQuoteNofN",[Math.min(W+1,L),L]))),s.default.createElement(y.Text,{variant:E.TextVariant.headingSm,"data-testid":"loading-swaps-quotes-quote-name-check",color:E.TextColor.textDefault,display:E.Display.Flex,justifyContent:E.JustifyContent.center,width:E.BlockSize.Full,textTransform:E.TextTransform.Capitalize},s.default.createElement("span",null,w("swapFetchingQuotes"))),s.default.createElement("div",{className:"loading-swaps-quotes__loading-bar-container"},s.default.createElement("div",{className:"loading-swaps-quotes__loading-bar",style:{width:100/L*W+"%"}}))),s.default.createElement("div",{className:"loading-swaps-quotes__animation"},s.default.createElement(b.default,null),s.default.createElement("div",{className:"loading-swaps-quotes__mascot-container",ref:j},(0,v.isFlask)()||(0,v.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"}):s.default.createElement(g.default,{animationEventEmitter:M.current,width:"90",height:"90",lookAtTarget:V})))),s.default.createElement(_.default,{submitText:w("back"),onSubmit:async()=>{T(B),await x((0,u.navigateBackToPrepareSwap)(S))},hideCancel:!0}))}T.propTypes={loadingComplete:o.default.bool.isRequired,onDone:o.default.func.isRequired,aggregatorMetadata:o.default.objectOf(o.default.shape({title:o.default.string,color:o.default.string,icon:o.default.string}))}}}},{package:"$root$",file:"ui/pages/swaps/loading-swaps-quotes/loading-swaps-quotes.js"}],[7504,{"../../../components/ui/mascot":6540,"../../../helpers/utils/build-types":6670,events:4072,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;var n=c(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=c(e("prop-types")),o=c(e("../../../components/ui/mascot")),i=e("../../../helpers/utils/build-types");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function u({height:e,width:t}){const a=(0,s.useRef)(new n.default);return s.default.createElement("div",{className:"mascot-background-animation__animation"},s.default.createElement("div",{className:"mascot-background-animation__background-1","data-testid":"mascot-background-animation-background-1"},s.default.createElement("svg",{width:"193",height:"190",viewBox:"0 0 193 190",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M153.753 53.876C153.595 53.9493 153.419 54.0161 153.25 54.0651C151.081 54.7451 148.777 53.538 148.086 51.3768C147.763 50.3298 147.851 49.2109 148.361 48.2363C148.87 47.2618 149.732 46.5374 150.78 46.2144C151.828 45.8913 152.948 45.9781 153.923 46.4865C154.898 46.9949 155.622 47.8557 155.944 48.9027C156.567 50.918 155.592 53.0243 153.753 53.876ZM150.817 47.5708C150.245 47.8359 149.782 48.2721 149.495 48.8334C149.144 49.5127 149.073 50.2843 149.303 51.0047C149.774 52.4998 151.375 53.3384 152.877 52.8787C154.374 52.4069 155.215 50.8063 154.756 49.3056C154.526 48.5852 154.027 47.9888 153.36 47.6334C152.68 47.2836 151.908 47.213 151.187 47.4437C151.049 47.4636 150.927 47.52 150.817 47.5708Z",fill:"#86E29B"}),s.default.createElement("path",{d:"M18.3624 73.9241C18.3015 73.9523 18.2407 73.9805 18.1798 74.0087C17.0495 74.4733 15.8073 74.4728 14.6751 74.0078C12.3517 73.0461 11.2387 70.3567 12.2031 68.0341C13.1676 65.7115 15.8598 64.5971 18.1833 65.5589C19.3155 66.0239 20.1951 66.9013 20.6591 68.0304C21.123 69.1595 21.1215 70.4008 20.6552 71.5326C20.2207 72.6053 19.4093 73.4391 18.3624 73.9241ZM15.0433 66.7921C14.3129 67.1305 13.713 67.7186 13.3766 68.5243C12.6776 70.207 13.4834 72.1377 15.1666 72.8348C15.9849 73.1647 16.8786 73.1789 17.6933 72.831C18.5136 72.4952 19.1388 71.8659 19.4818 71.0424C19.8126 70.2245 19.8276 69.3313 19.4801 68.5175C19.1448 67.6981 18.5155 67.0739 17.6917 66.7319C16.8144 66.3703 15.8589 66.4142 15.0433 66.7921Z",fill:"#FFB0EB"}),s.default.createElement("path",{d:"M116.617 37.3839C117.397 37.0226 117.736 36.0982 117.375 35.3192C117.015 34.5402 116.09 34.2016 115.31 34.5629C114.53 34.9243 114.19 35.8487 114.551 36.6277C114.912 37.4067 115.837 37.7453 116.617 37.3839Z",fill:"url(#paint0_linear)"}),s.default.createElement("path",{d:"M55.1317 91.7213C55.9116 91.36 56.2512 90.4356 55.8903 89.6566C55.5294 88.8776 54.6046 88.539 53.8247 88.9003C53.0448 89.2617 52.7052 90.1861 53.0661 90.9651C53.427 91.7441 54.3518 92.0827 55.1317 91.7213Z",fill:"url(#paint1_linear)"}),s.default.createElement("path",{d:"M31.9932 126.235C32.7731 125.874 33.1127 124.95 32.7518 124.171C32.3909 123.392 31.4661 123.053 30.6863 123.414C29.9064 123.776 29.5667 124.7 29.9277 125.479C30.2886 126.258 31.2134 126.597 31.9932 126.235Z",fill:"url(#paint2_linear)"}),s.default.createElement("path",{d:"M119.43 132.589C120.21 132.228 120.55 131.304 120.189 130.525C119.828 129.746 118.903 129.407 118.123 129.768C117.344 130.13 117.004 131.054 117.365 131.833C117.726 132.612 118.651 132.951 119.43 132.589Z",fill:"url(#paint3_linear)"}),s.default.createElement("path",{d:"M44.7469 47.3835C46.0108 46.7979 46.5612 45.2997 45.9763 44.0372C45.3914 42.7747 43.8926 42.2259 42.6286 42.8115C41.3647 43.3971 40.8143 44.8953 41.3992 46.1578C41.9841 47.4203 43.4829 47.9691 44.7469 47.3835Z",fill:"url(#paint4_linear)"}),s.default.createElement("path",{d:"M105.107 90.7857C106.371 90.2001 106.922 88.702 106.337 87.4394C105.752 86.1769 104.253 85.6282 102.989 86.2137C101.725 86.7993 101.175 88.2975 101.76 89.56C102.344 90.8226 103.843 91.3713 105.107 90.7857Z",fill:"url(#paint5_linear)"}),s.default.createElement("path",{d:"M95.5179 172.376C96.7818 171.791 97.3322 170.293 96.7473 169.03C96.1624 167.767 94.6636 167.219 93.3996 167.804C92.1357 168.39 91.5853 169.888 92.1702 171.151C92.7551 172.413 94.2539 172.962 95.5179 172.376Z",fill:"url(#paint6_linear)"}),s.default.createElement("path",{d:"M165.098 102.367C166.362 101.781 166.912 100.283 166.327 99.0205C165.742 97.758 164.244 97.2092 162.98 97.7948C161.716 98.3804 161.165 99.8786 161.75 101.141C162.335 102.404 163.834 102.952 165.098 102.367Z",fill:"url(#paint7_linear)"}),s.default.createElement("defs",null,s.default.createElement("linearGradient",{id:"paint0_linear",x1:"114.554",y1:"36.6326",x2:"117.379",y2:"35.3237",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint1_linear",x1:"53.0688",y1:"90.97",x2:"55.8937",y2:"89.6611",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint2_linear",x1:"29.9283",y1:"125.483",x2:"32.7532",y2:"124.174",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint3_linear",x1:"117.365",y1:"131.837",x2:"120.19",y2:"130.528",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint4_linear",x1:"41.4394",y1:"46.2402",x2:"45.947",y2:"43.9537",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint5_linear",x1:"101.8",y1:"89.6425",x2:"106.307",y2:"87.356",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint6_linear",x1:"92.2104",y1:"171.233",x2:"96.718",y2:"168.947",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"})),s.default.createElement("linearGradient",{id:"paint7_linear",x1:"161.79",y1:"101.224",x2:"166.298",y2:"98.937",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"1",stopColor:"#75C3FC"}))))),s.default.createElement("div",{className:"mascot-background-animation__background-2","data-testid":"mascot-background-animation-background-2"},s.default.createElement("svg",{width:"195",height:"205",viewBox:"0 0 195 205",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M29.84 121.982C30.0408 121.969 30.245 122.01 30.4258 122.106L46.4233 130.275C46.8125 130.478 47.0536 130.893 47.0402 131.324C47.0143 131.768 46.7423 132.148 46.3356 132.308L24.5484 140.937C24.1417 141.097 23.6789 141.005 23.3642 140.702C23.0495 140.4 22.9398 139.937 23.0753 139.525L28.8651 122.727C28.9671 122.426 29.2065 122.169 29.5086 122.056C29.614 122.023 29.7194 121.989 29.84 121.982ZM43.1981 131.148L30.5607 124.689L25.9884 137.96L43.1981 131.148Z",fill:"#75C4FD"}),s.default.createElement("path",{d:"M168.214 54.3381C168.442 54.3238 168.674 54.3764 168.869 54.485C169.217 54.6781 169.44 55.0266 169.465 55.4145L170.59 68.4358C170.631 68.8763 170.416 69.3061 170.041 69.5444C169.666 69.7827 169.182 69.7862 168.805 69.5681L156.14 62.2246C155.763 62.0065 155.535 61.5911 155.548 61.1472C155.56 60.7033 155.818 60.3112 156.209 60.1122L167.75 54.4343C167.908 54.3841 168.067 54.3473 168.214 54.3381ZM168.027 66.3674L167.248 57.3661L159.267 61.2902L168.027 66.3674Z",fill:"#FFB0EB"}),s.default.createElement("path",{d:"M88.6283 16.6885C88.8694 16.6734 89.1154 16.7385 89.3255 16.873L100.21 24.1133C100.561 24.3464 100.762 24.7635 100.708 25.1832C100.653 25.6028 100.381 25.969 99.9864 26.1146L86.3391 31.4276C85.9449 31.5731 85.5106 31.5064 85.1842 31.2314C84.8712 30.9556 84.7239 30.5352 84.8192 30.1264L87.5815 17.5731C87.666 17.2053 87.9162 16.9076 88.2702 16.7646C88.3882 16.7169 88.5078 16.696 88.6283 16.6885ZM97.1342 24.7894L89.4471 19.6718L87.5021 28.5349L97.1342 24.7894Z",fill:"url(#paint0_linear)"}),s.default.createElement("path",{d:"M117.145 183.156C116.944 183.289 116.698 183.356 116.449 183.344L103.402 182.517C102.982 182.49 102.6 182.229 102.437 181.839C102.274 181.448 102.327 180.995 102.596 180.671L111.758 169.247C112.027 168.923 112.436 168.764 112.856 168.839C113.265 168.921 113.603 169.212 113.725 169.614L117.609 181.866C117.72 182.227 117.652 182.61 117.417 182.911C117.339 183.011 117.246 183.089 117.145 183.156ZM105.728 180.393L114.944 180.981L112.197 172.333L105.728 180.393Z",fill:"url(#paint1_linear)"}),s.default.createElement("path",{d:"M38.0816 74.0208C38.1217 74.0183 38.1485 74.0166 38.1887 74.0141C42.3831 73.805 45.9744 77.0577 46.1831 81.2474C46.3919 85.4371 43.1484 89.0241 38.9407 89.234C34.7463 89.4431 31.1549 86.1904 30.9462 82.0007C30.7391 77.8377 33.9307 74.2809 38.0816 74.0208ZM38.9104 87.2486C41.9767 87.0565 44.3523 84.4236 44.1997 81.3448C44.0455 78.2393 41.3949 75.8407 38.2859 75.9952C35.1761 76.1364 32.7753 78.7977 32.9296 81.9033C33.0838 85.0088 35.7344 87.4073 38.8434 87.2528C38.8568 87.252 38.8836 87.2503 38.9104 87.2486Z",fill:"#86E29B"}),s.default.createElement("path",{d:"M162.178 97.8401C162.218 97.8376 162.245 97.8359 162.285 97.8334C166.48 97.6243 170.071 100.877 170.28 105.067C170.489 109.256 167.245 112.843 163.037 113.053C158.843 113.262 155.252 110.01 155.043 105.82C154.836 101.657 158.027 98.1002 162.178 97.8401ZM163.007 111.068C166.073 110.876 168.449 108.243 168.296 105.164C168.142 102.059 165.492 99.6601 162.383 99.8146C159.273 99.9557 156.872 102.617 157.026 105.723C157.181 108.828 159.831 111.227 162.94 111.072C162.953 111.071 162.98 111.07 163.007 111.068Z",fill:"#86E29B"}),s.default.createElement("defs",null,s.default.createElement("linearGradient",{id:"paint0_linear",x1:"100.609",y1:"23.2611",x2:"84.4152",y2:"24.2757",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#FFE466"}),s.default.createElement("stop",{offset:"1",stopColor:"#FFAFEA"})),s.default.createElement("linearGradient",{id:"paint1_linear",x1:"103.812",y1:"183.939",x2:"116.959",y2:"174.66",gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:"#75C3FC"}),s.default.createElement("stop",{offset:"0.0928503",stopColor:"#81C2F6"}),s.default.createElement("stop",{offset:"1",stopColor:"#F0B8BD"}))))),s.default.createElement("div",{className:"mascot-background-animation__mascot-container","data-testid":"mascot-background-animation-mascot-container"},(0,i.isFlask)()||(0,i.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:t??"42",height:e??"42"}):s.default.createElement(o.default,{animationEventEmitter:a.current,width:t??"42",height:e??"42",followMouse:!1})))}u.propTypes={height:r.default.string,width:r.default.string}}}},{package:"$root$",file:"ui/pages/swaps/mascot-background-animation/mascot-background-animation.js"}],[7505,{"../../../../shared/constants/swaps":5447,"../../../components/component-library":6097,"../../../components/ui/box":6478,"../../../contexts/i18n":6603,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../store/actions":7565,"../swaps-footer":7514,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=_;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=g(e("prop-types")),i=e("../../../contexts/i18n"),l=e("../../../store/actions"),c=g(e("../../../components/ui/box")),u=e("../../../helpers/constants/design-system"),d=e("../../../components/component-library"),p=e("../../../helpers/constants/routes"),m=g(e("../swaps-footer")),f=e("../../../../shared/constants/swaps");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function _({notificationKey:e}){const t=(0,n.useContext)(i.I18nContext),a=(0,r.useHistory)(),o=(0,s.useDispatch)();let g="",h="",_="";return e===f.QUOTES_EXPIRED_ERROR&&(g=t("swapAreYouStillThere"),h=t("swapAreYouStillThereDescription"),_=t("swapShowLatestQuotes")),n.default.createElement("div",{className:"notification-page"},n.default.createElement(c.default,{alignItems:u.AlignItems.center,display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.COLUMN,marginTop:10,marginLeft:4,marginRight:4,textAlign:u.TEXT_ALIGN.CENTER,className:"notification-page__content"},n.default.createElement(c.default,{marginTop:8,marginBottom:4},n.default.createElement(d.Icon,{name:d.IconName.Warning,color:u.IconColor.iconMuted,className:"notification-page__warning-icon"})),n.default.createElement(d.Text,{variant:u.TextVariant.bodyLgMedium,as:"h2"},g),n.default.createElement(d.Text,{variant:u.TextVariant.bodyMd,as:"h6"},h)),n.default.createElement(m.default,{onSubmit:async()=>{await o((0,l.setSwapsErrorKey)("")),a.push(p.PREPARE_SWAP_ROUTE)},submitText:_,hideCancel:!0,showTermsOfService:!0}))}_.propTypes={notificationKey:o.default.oneOf([f.QUOTES_EXPIRED_ERROR])}}}},{package:"$root$",file:"ui/pages/swaps/notification-page/notification-page.js"}],[7506,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M14.4946 6.14779C14.4863 5.93594 14.3991 5.69108 14.2539 5.53666L9.51334 0.49958C9.1921 0.21091 8.57613 0.0917437 8.21709 0.425509C7.86344 0.754237 7.87396 1.39178 8.22627 1.72181L11.5595 5.25889L1.1618 5.25889C0.670919 5.25889 0.272949 5.65687 0.272949 6.14779C0.272949 6.6387 0.670919 7.03668 1.1618 7.03668L11.5595 7.03668L8.22627 10.5738C7.92297 10.8776 7.86691 11.5376 8.21709 11.8701C8.56718 12.2025 9.20529 12.0963 9.51334 11.796L14.2539 6.75891C14.4161 6.58653 14.4952 6.38428 14.4946 6.14779Z",fill:"var(--color-text-muted)"}))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/arrow-icon.js"}],[7507,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M34.5805 6.55143C36.1394 8.11033 37.3994 9.91222 38.3237 11.8681C38.7066 12.6782 39.0318 13.5148 39.2968 14.3714L39.3242 14.4606C39.4816 14.9785 39.6171 15.5037 39.73 16.0347C40.6511 20.3654 40.0335 24.9029 37.9511 28.8509C35.6001 33.308 31.5749 36.6487 26.7609 38.138C24.3773 38.8754 21.8717 39.1361 19.3873 38.9052C16.9029 38.6743 14.4883 37.9563 12.2813 36.7922C10.2608 35.7264 8.52045 34.3588 7.08333 32.7636C5.61245 31.1448 4.43054 29.2824 3.59178 27.2574C3.32329 26.6092 2.89685 25.2767 2.89685 25.2767H6.89583C7.68667 27.4068 8.96033 29.362 10.6288 30.9609L10.6318 30.96C11.5096 31.8005 12.501 32.5516 13.595 33.1786C15.8742 34.483 18.4736 35.1864 21.1455 35.1864C25.1768 35.1864 29.0429 33.585 31.8935 30.7345C34.744 27.8839 36.3455 24.0177 36.3455 19.9865C36.3455 18.7267 36.1891 17.483 35.8871 16.2814C35.8206 16.017 35.7471 15.7546 35.6666 15.4945C34.4752 11.6432 31.8027 8.42306 28.237 6.54231C24.6713 4.66156 20.5045 4.27429 16.6533 5.46571C12.8837 6.63189 9.71868 9.21706 7.82253 12.6699L12.8961 15.307L3.28331 18.3447L0.245605 8.73191L4.45005 10.9171C6.81537 6.56278 10.7905 3.30177 15.5303 1.83546C17.3658 1.26761 19.2587 0.986653 21.1455 0.986694C26.1846 0.986694 31.0173 2.98824 34.5805 6.55143Z",fill:"var(--color-primary-default)"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1252 22.1036L14.7107 18.689L12.0926 21.3257L18.1252 27.3584L30.2322 15.2515L27.614 12.6148L18.1252 22.1036Z",fill:"var(--color-primary-default)"}))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/canceled-icon.js"}],[7508,{"./smart-transaction-status":7510},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./smart-transaction-status"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/index.js"}],[7509,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement("svg",{width:"41",height:"39",viewBox:"0 0 41 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M34.6806 6.55143C36.2395 8.11033 37.4995 9.91222 38.4238 11.8681C38.8067 12.6782 39.1319 13.5148 39.3969 14.3714L39.4243 14.4606C39.5817 14.9785 39.7172 15.5037 39.8301 16.0347C40.7512 20.3654 40.1336 24.9029 38.0512 28.8509C35.7002 33.308 31.675 36.6487 26.861 38.138C24.4773 38.8754 21.9718 39.1361 19.4874 38.9052C17.003 38.6743 14.5884 37.9563 12.3814 36.7922C10.3609 35.7264 8.62055 34.3588 7.18343 32.7636C5.71254 31.1448 4.53064 29.2824 3.69188 27.2574C3.42339 26.6092 2.99695 25.2767 2.99695 25.2767H6.99592C7.78677 27.4068 9.06042 29.362 10.7289 30.9609L10.7319 30.96C11.6097 31.8005 12.6011 32.5516 13.6951 33.1786C15.9743 34.483 18.5737 35.1864 21.2456 35.1864C25.2769 35.1864 29.143 33.585 31.9936 30.7345C34.8441 27.8839 36.4456 24.0177 36.4456 19.9865C36.4456 18.7267 36.2892 17.483 35.9872 16.2814C35.9207 16.017 35.8471 15.7546 35.7667 15.4945C34.5753 11.6432 31.9028 8.42306 28.3371 6.54231C24.7714 4.66156 20.6046 4.27429 16.7534 5.46571C12.9838 6.63189 9.81878 9.21706 7.92263 12.6699L12.9962 15.307L3.3834 18.3447L0.345703 8.73191L4.55015 10.9171C6.91547 6.56278 10.8906 3.30177 15.6304 1.83546C17.4659 1.26761 19.3588 0.986653 21.2456 0.986694C26.2847 0.986694 31.1174 2.98824 34.6806 6.55143Z",fill:"var(--color-error-default)"}),s.default.createElement("path",{d:"M18.5849 19.9869L15.1454 23.4264L17.9845 26.2655L21.424 22.826L24.8635 26.2655L27.7026 23.4264L24.2631 19.9869L27.7026 16.5473L24.8635 13.7082L21.424 17.1478L17.9845 13.7082L15.1454 16.5473L18.5849 19.9869Z",fill:"var(--color-error-default)"}))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/reverted-icon.js"}],[7510,{"../../../../shared/constants/common":5418,"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/transaction":5451,"../../../../shared/lib/transactions-controller-utils":5519,"../../../../shared/modules/selectors":5545,"../../../../shared/modules/selectors/networks":5547,"../../../components/component-library":6097,"../../../components/ui/box":6478,"../../../components/ui/url-icon":6598,"../../../contexts/i18n":6603,"../../../contexts/metametrics":6608,"../../../ducks/swaps/swaps":6641,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../selectors":7539,"../../../selectors/selectors":7555,"../../../store/actions":7565,"../create-new-swap":7497,"../swaps-footer":7514,"../swaps.util":7517,"../view-on-block-explorer":7518,"./arrow-icon":7506,"./canceled-icon":7507,"./reverted-icon":7509,"./success-icon":7511,"./timer-icon":7512,"./unknown-icon":7513,"@metamask/etherscan-link":1903,lodash:4534,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){var e,t,a,A,B,F,L,j,U;const[W,$]=(0,n.useState)(!1),V=(0,n.useContext)(l.I18nContext),z=(0,r.useHistory)(),H=(0,s.useDispatch)(),G=(0,s.useSelector)(M.getHDEntropyIndex),q=(0,s.useSelector)(c.getFetchParams,i.isEqual)||{},{destinationTokenInfo:K={},sourceTokenInfo:Y={}}=(null==q?void 0:q.metaData)||{},Z=(0,s.useSelector)(d.isHardwareWallet),J=(0,s.useSelector)(d.getHardwareWalletType),Q=(0,s.useSelector)(c.getUsedQuote,i.isEqual),X=(0,s.useSelector)(c.getCurrentSmartTransactions,i.isEqual),ee=(0,s.useSelector)(u.getCurrentChainId),te=(0,s.useSelector)(d.getRpcPrefsForCurrentProvider,s.shallowEqual),ae=(0,s.useSelector)(c.getSwapsNetworkConfig,s.shallowEqual),ne=(0,s.useSelector)(p.getSmartTransactionsEnabled),se=(0,s.useSelector)(c.getCurrentSmartTransactionsEnabled),re=te.blockExplorerUrl??m.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ee]??null;let oe,ie,le=b.SmartTransactionStatus.pending,ce={};if(X&&X.length>0){var ue,de,pe;ce=X[X.length-1],oe=null===(ue=ce)||void 0===ue?void 0:ue.uuid,le=(null===(de=ce)||void 0===de?void 0:de.status)||b.SmartTransactionStatus.pending,ie=null===(pe=ce)||void 0===pe||null===(pe=pe.statusMetadata)||void 0===pe?void 0:pe.cancellationFeeWei}const[me,fe]=(0,n.useState)(ae.stxStatusDeadline),ge={needs_two_confirmations:!0,token_from:Y.symbol??(null===(e=ce)||void 0===e?void 0:e.sourceTokenSymbol),token_from_amount:(null==q?void 0:q.value)??(null===(t=ce)||void 0===t?void 0:t.swapTokenValue),token_to:K.symbol??(null===(a=ce)||void 0===a?void 0:a.destinationTokenSymbol),request_type:null!=q&&q.balanceError?"Quote":"Order",slippage:null==q?void 0:q.slippage,custom_slippage:2===(null==q?void 0:q.slippage),is_hardware_wallet:Z,hardware_wallet_type:J,stx_enabled:ne,current_stx_enabled:se,stx_user_opt_in:(0,s.useSelector)(p.getSmartTransactionsOptInStatusForMetrics)};let he;var _e;null!=Q&&Q.destinationAmount&&(he=(0,S.calcTokenAmount)(null==Q?void 0:Q.destinationAmount,K.decimals??(null===(_e=ce)||void 0===_e?void 0:_e.destinationTokenDecimals)).toPrecision(8));const ye=(0,n.useContext)(T.MetaMetricsContext),Ee=le===b.SmartTransactionStatus.pending,ve=Ee||le===b.SmartTransactionStatus.success,be=null===(A=ce)||void 0===A||null===(A=A.statusMetadata)||void 0===A?void 0:A.minedHash;(0,n.useEffect)(()=>{ye({event:"STX Status Page Loaded",category:v.MetaMetricsEventCategory.Swaps,sensitiveProperties:ge,properties:{hd_entropy_index:G}})},[]),(0,n.useEffect)(()=>{let e;if(Ee&&oe){const t=()=>{const t=Math.round((Date.now()-ce.time)/1e3);if(t>ae.stxStatusDeadline)return fe(0),void clearInterval(e);fe(ae.stxStatusDeadline-t)};e=setInterval(t,1e3),t()}return()=>clearInterval(e)},[H,Ee,oe,ce.time,ae.stxStatusDeadline]),(0,n.useEffect)(()=>{H((0,E.setBackgroundSwapRouteState)("smartTransactionStatus")),setTimeout(()=>{H((0,E.stopPollingForQuotes)())},1e3)},[H]);let Ce,we,Te,xe,ke=V("stxPendingPrivatelySubmittingSwap");Ee&&(W?ke=V("stxTryingToCancel"):ie>0&&(ke=V("stxPendingPubliclySubmittingSwap")));if(le===b.SmartTransactionStatus.success){var Se,Me;if(ke=V("stxSuccess"),K.symbol||null!==(Se=ce)&&void 0!==Se&&Se.destinationTokenSymbol)Ce=V("stxSuccessDescription",[K.symbol??(null===(Me=ce)||void 0===Me?void 0:Me.destinationTokenSymbol)]);Te=n.default.createElement(N.default,null)}else"cancelled_user_cancelled"===le||(null===(B=ce)||void 0===B||null===(B=B.statusMetadata)||void 0===B?void 0:B.minedTx)===b.SmartTransactionStatus.cancelled?(ke=V("stxUserCancelled"),Ce=V("stxUserCancelledDescription"),Te=n.default.createElement(P.default,null)):le.startsWith("cancelled")||le.includes("deadline_missed")?(ke=V("stxCancelled"),Ce=V("stxCancelledDescription"),we=V("stxCancelledSubDescription"),Te=n.default.createElement(P.default,null)):"unknown"===le?(ke=V("stxUnknown"),Ce=V("stxUnknownDescription"),Te=n.default.createElement(D.default,null)):"reverted"===le&&(ke=V("stxFailure"),Ce=V("stxFailureDescription",[n.default.createElement("a",{className:"smart-transaction-status__support-link",key:"smart-transaction-status-support-link",href:"https://support.metamask.io",target:"_blank",rel:"noopener noreferrer"},V("customerSupport"))]),Te=n.default.createElement(I.default,null));be&&oe&&(xe=(0,o.getBlockExplorerLink)({hash:be,chainId:ee},{blockExplorerUrl:re}));const Ne=ce.cancellable&&!W,Ie=()=>n.default.createElement(h.default,{marginBottom:0},n.default.createElement("a",{className:"smart-transaction-status__cancel-swap-link",href:"#",onClick:e=>{null==e||e.preventDefault(),$(!0),ye({event:"Cancel STX",category:v.MetaMetricsEventCategory.Swaps,sensitiveProperties:ge,properties:{hd_entropy_index:G}}),H((0,c.cancelSwapsSmartTransaction)(oe))}},V("attemptToCancelSwapForFree")));return n.default.createElement("div",{className:"smart-transaction-status"},n.default.createElement(h.default,{paddingLeft:8,paddingRight:8,height:y.BLOCK_SIZES.FULL,justifyContent:y.JustifyContent.flexStart,display:y.DISPLAY.FLEX,className:"smart-transaction-status__content"},n.default.createElement(h.default,{marginTop:10,marginBottom:0,display:y.DISPLAY.FLEX,justifyContent:y.JustifyContent.center,alignItems:y.AlignItems.center},n.default.createElement(g.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySm,as:"h6"},`${(null==q?void 0:q.value)&&Number(q.value).toFixed(5)} `),n.default.createElement(g.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySmBold,as:"h6",marginLeft:1,marginRight:2},Y.symbol??(null===(F=ce)||void 0===F?void 0:F.sourceTokenSymbol)),Y.iconUrl?n.default.createElement(_.default,{url:Y.iconUrl,className:"smart-transactions-status-summary__icon",name:Y.symbol??(null===(L=ce)||void 0===L?void 0:L.destinationTokenSymbol),fallbackClassName:"smart-transactions-status-summary__icon-fallback"}):null,n.default.createElement(h.default,{display:y.DISPLAY.BLOCK,marginLeft:2,marginRight:2},n.default.createElement(O.default,null)),K.iconUrl?n.default.createElement(_.default,{url:K.iconUrl,className:"smart-transactions-status-summary__icon",name:K.symbol??(null===(j=ce)||void 0===j?void 0:j.destinationTokenSymbol),fallbackClassName:"smart-transactions-status-summary__icon-fallback"}):null,n.default.createElement(g.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySm,as:"h6",marginLeft:2},`~${he&&Number(he).toFixed(5)} `),n.default.createElement(g.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySmBold,as:"h6",marginLeft:1},K.symbol??(null===(U=ce)||void 0===U?void 0:U.destinationTokenSymbol))),n.default.createElement(h.default,{marginTop:3,className:"smart-transaction-status__spacer-box--top"}),Te&&n.default.createElement(h.default,{marginTop:3,marginBottom:2},Te),Ee&&n.default.createElement(h.default,{marginTop:7,marginBottom:1,display:y.DISPLAY.FLEX,justifyContent:y.JustifyContent.center,alignItems:y.AlignItems.center},n.default.createElement(R.default,null),n.default.createElement(g.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySm,as:"h6",marginLeft:1},`${V("stxSwapCompleteIn")} `),n.default.createElement(g.Text,{color:y.TextColor.textAlternative,variant:y.TextVariant.bodySmBold,as:"h6",marginLeft:1,className:"smart-transaction-status__remaining-time"},(0,w.showRemainingTimeInMinAndSec)(me))),n.default.createElement(g.Text,{"data-testid":"swap-smart-transaction-status-header",color:y.TextColor.textDefault,variant:y.TextVariant.headingSm,as:"h4",fontWeight:y.FontWeight.Bold},ke),Ee&&n.default.createElement("div",{className:"smart-transaction-status__loading-bar-container"},n.default.createElement("div",{className:"smart-transaction-status__loading-bar",style:{width:100/ae.stxStatusDeadline*(ae.stxStatusDeadline-me)+"%"}})),Ce&&n.default.createElement(g.Text,{"data-testid":"swap-smart-transaction-status-description",variant:y.TextVariant.bodySm,as:"h6",marginTop:xe&&1,color:y.TextColor.textAlternative},Ce),xe&&n.default.createElement(k.default,{blockExplorerUrl:xe,sensitiveTrackingProperties:ge}),n.default.createElement(h.default,{marginTop:3,className:"smart-transaction-status__spacer-box--bottom"}),we&&n.default.createElement(g.Text,{variant:y.TextVariant.bodySm,as:"h6",marginTop:8,color:y.TextColor.textAlternative},we)),Ne&&oe&&Ee&&n.default.createElement(Ie,null),le===b.SmartTransactionStatus.success?n.default.createElement(x.default,{sensitiveTrackingProperties:ge}):null,n.default.createElement(C.default,{onSubmit:async()=>{ve?(await H((0,c.prepareToLeaveSwaps)()),z.push(f.DEFAULT_ROUTE)):z.push(f.PREPARE_SWAP_ROUTE)},onCancel:async()=>{await H((0,c.prepareToLeaveSwaps)()),z.push(f.DEFAULT_ROUTE)},submitText:V(ve?"close":"tryAgain"),hideCancel:ve,cancelText:V("close"),className:"smart-transaction-status__swaps-footer"}))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("@metamask/etherscan-link"),i=e("lodash"),l=e("../../../contexts/i18n"),c=e("../../../ducks/swaps/swaps"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../selectors"),p=e("../../../../shared/modules/selectors"),m=e("../../../../shared/constants/common"),f=e("../../../helpers/constants/routes"),g=e("../../../components/component-library"),h=A(e("../../../components/ui/box")),_=A(e("../../../components/ui/url-icon")),y=e("../../../helpers/constants/design-system"),E=e("../../../store/actions"),v=e("../../../../shared/constants/metametrics"),b=e("../../../../shared/constants/transaction"),C=A(e("../swaps-footer")),w=e("../swaps.util"),T=e("../../../contexts/metametrics"),x=A(e("../create-new-swap")),k=A(e("../view-on-block-explorer")),S=e("../../../../shared/lib/transactions-controller-utils"),M=e("../../../selectors/selectors"),N=A(e("./success-icon")),I=A(e("./reverted-icon")),P=A(e("./canceled-icon")),D=A(e("./unknown-icon")),O=A(e("./arrow-icon")),R=A(e("./timer-icon"));function A(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/smart-transaction-status.js"}],[7511,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M34.5457 19.8983C34.5457 23.9296 32.9443 27.7958 30.0937 30.6463C27.2432 33.4969 23.377 35.0983 19.3457 35.0983C15.3144 35.0983 11.4482 33.4969 8.59768 30.6463C5.74713 27.7958 4.1457 23.9296 4.1457 19.8983C4.1457 15.867 5.74713 12.0008 8.59768 9.15029C11.4482 6.29974 15.3144 4.69832 19.3457 4.69832C20.7897 4.69832 22.1957 4.90732 23.5257 5.28732L26.5087 2.30432C24.3047 1.39232 21.8917 0.898315 19.3457 0.898315C16.8506 0.898315 14.3799 1.38977 12.0747 2.3446C9.76953 3.29944 7.67499 4.69897 5.91067 6.46329C2.34748 10.0265 0.345703 14.8592 0.345703 19.8983C0.345703 24.9374 2.34748 29.7702 5.91067 33.3333C7.67499 35.0977 9.76953 36.4972 12.0747 37.452C14.3799 38.4069 16.8506 38.8983 19.3457 38.8983C24.3848 38.8983 29.2175 36.8965 32.7807 33.3333C36.3439 29.7702 38.3457 24.9374 38.3457 19.8983H34.5457ZM11.5747 16.2503L8.8957 18.9483L17.4457 27.4983L36.4457 8.49832L33.7667 5.80032L17.4457 22.1213L11.5747 16.2503Z",fill:"var(--color-success-default)"}))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/success-icon.js"}],[7512,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M7.36621 0.0810547C3.62012 0.0810547 0.584961 3.11621 0.584961 6.8623C0.584961 10.6084 3.62012 13.6436 7.36621 13.6436C11.1123 13.6436 14.1475 10.6084 14.1475 6.8623C14.1475 3.11621 11.1123 0.0810547 7.36621 0.0810547ZM7.36621 12.3311C4.33105 12.3311 1.89746 9.89746 1.89746 6.8623C1.89746 3.85449 4.33105 1.39355 7.36621 1.39355C10.374 1.39355 12.835 3.85449 12.835 6.8623C12.835 9.89746 10.374 12.3311 7.36621 12.3311ZM9.03418 9.4873C9.19824 9.59668 9.38965 9.56934 9.49902 9.40527L10.0186 8.72168C10.1279 8.55762 10.1006 8.36621 9.93652 8.25684L8.13184 6.91699V3.03418C8.13184 2.87012 7.96777 2.70605 7.80371 2.70605H6.92871C6.7373 2.70605 6.60059 2.87012 6.60059 3.03418V7.5459C6.60059 7.62793 6.62793 7.7373 6.70996 7.79199L9.03418 9.4873Z",fill:"var(--color-primary-default)"}))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/timer-icon.js"}],[7513,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return s.default.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("circle",{cx:"19.1533",cy:"19.2715",r:"17.1",stroke:"var(--color-primary-default)",strokeWidth:"3.8"}),s.default.createElement("path",{d:"M16.712 21.5034C16.712 20.7834 16.88 20.1834 17.216 19.7034C17.568 19.2074 18.08 18.7274 18.752 18.2634C19.008 18.0874 19.264 17.9274 19.52 17.7834C19.776 17.6394 20 17.4874 20.192 17.3274C20.4 17.1514 20.56 16.9674 20.672 16.7754C20.8 16.5674 20.864 16.3194 20.864 16.0314C20.864 15.5354 20.688 15.1594 20.336 14.9034C20 14.6474 19.592 14.5194 19.112 14.5194C18.616 14.5194 18.16 14.6794 17.744 14.9994C17.344 15.3034 17.144 15.7674 17.144 16.3914H13.52C13.52 15.6394 13.664 14.9354 13.952 14.2794C14.24 13.6074 14.632 13.0314 15.128 12.5514C15.64 12.0554 16.232 11.6634 16.904 11.3754C17.592 11.0874 18.328 10.9434 19.112 10.9434C19.896 10.9434 20.616 11.0794 21.272 11.3514C21.944 11.6234 22.512 11.9834 22.976 12.4314C23.456 12.8794 23.824 13.3994 24.08 13.9914C24.352 14.5674 24.488 15.1754 24.488 15.8154C24.488 16.2314 24.456 16.6234 24.392 16.9914C24.344 17.3594 24.24 17.7114 24.08 18.0474C23.936 18.3834 23.728 18.7114 23.456 19.0314C23.184 19.3514 22.84 19.6634 22.424 19.9674C21.784 20.4474 21.272 20.8234 20.888 21.0954C20.52 21.3674 20.336 21.6474 20.336 21.9354V21.9594H16.712V21.5034ZM18.512 28.4634C18.16 28.4634 17.824 28.3994 17.504 28.2714C17.2 28.1274 16.928 27.9434 16.688 27.7194C16.464 27.4794 16.28 27.2074 16.136 26.9034C16.008 26.5834 15.944 26.2474 15.944 25.8954C15.944 25.5434 16.008 25.2154 16.136 24.9114C16.28 24.5914 16.464 24.3194 16.688 24.0954C16.928 23.8554 17.2 23.6714 17.504 23.5434C17.824 23.3994 18.16 23.3274 18.512 23.3274C18.864 23.3274 19.192 23.3994 19.496 23.5434C19.816 23.6714 20.088 23.8554 20.312 24.0954C20.552 24.3194 20.736 24.5914 20.864 24.9114C21.008 25.2154 21.08 25.5434 21.08 25.8954C21.08 26.2474 21.008 26.5834 20.864 26.9034C20.736 27.2074 20.552 27.4794 20.312 27.7194C20.088 27.9434 19.816 28.1274 19.496 28.2714C19.192 28.3994 18.864 28.4634 18.512 28.4634Z",fill:"var(--color-primary-default)"}))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/smart-transaction-status/unknown-icon.js"}],[7514,{"./swaps-footer":7515},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./swaps-footer"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/swaps-footer/index.js"}],[7515,{"../../../components/ui/page-container/page-container-footer":6553,"../../../contexts/i18n":6603,classnames:3793,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=l(e("prop-types")),r=l(e("classnames")),o=e("../../../contexts/i18n"),i=l(e("../../../components/ui/page-container/page-container-footer"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u({onCancel:e,hideCancel:t,onSubmit:a,submitText:s,disabled:l,showTermsOfService:c,showTopBorder:u,className:d="",cancelText:p}){const m=(0,n.useContext)(o.I18nContext);return n.default.createElement("div",{className:"swaps-footer"},n.default.createElement("div",{className:(0,r.default)("swaps-footer__buttons",d,{"swaps-footer__buttons--border":u})},n.default.createElement(i.default,{onCancel:e,hideCancel:t,cancelText:p||m("back"),onSubmit:a,submitText:s,footerClassName:(0,r.default)("swaps-footer__custom-page-container-footer-class",d),footerButtonClassName:(0,r.default)("swaps-footer__custom-page-container-footer-button-class",{"swaps-footer__custom-page-container-footer-button-class--single":t}),disabled:l})),c&&n.default.createElement("div",{className:"swaps-footer__bottom-text",onClick:()=>global.platform.openTab({url:"https://metamask.io/terms.html"})},m("termsOfService")))}u.propTypes={onCancel:s.default.func,hideCancel:s.default.bool,onSubmit:s.default.func,submitText:s.default.string,disabled:s.default.bool,showTermsOfService:s.default.bool,showTopBorder:s.default.bool,className:s.default.string,cancelText:s.default.string}}}},{package:"$root$",file:"ui/pages/swaps/swaps-footer/swaps-footer.js"}],[7518,{"./view-on-block-explorer":7519},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./view-on-block-explorer"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/view-on-block-explorer/index.js"}],[7519,{"../../../../shared/constants/metametrics":5430,"../../../components/ui/box":6478,"../../../contexts/i18n":6603,"../../../contexts/metametrics":6608,"../../../helpers/utils/util":6703,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=p;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=u(e("prop-types")),r=u(e("../../../components/ui/box")),o=e("../../../contexts/i18n"),i=e("../../../helpers/utils/util"),l=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function p({blockExplorerUrl:e,sensitiveTrackingProperties:t}){const a=(0,n.useContext)(o.I18nContext),s=(0,n.useContext)(l.MetaMetricsContext),u=(0,i.getURLHostName)(e);return n.default.createElement(r.default,{marginTop:6,className:"view-on-block-explorer"},n.default.createElement("button",{onClick:()=>{s({event:c.MetaMetricsEventName.ExternalLinkClicked,category:c.MetaMetricsEventCategory.Swaps,sensitiveProperties:t,properties:{link_type:c.MetaMetricsEventLinkType.TransactionBlockExplorer,location:"Swap Transaction",url_domain:u}}),global.platform.openTab({url:e})}},a("viewOnCustomBlockExplorer",[a("blockExplorerSwapAction"),u])))}p.propTypes={blockExplorerUrl:s.default.string.isRequired,sensitiveTrackingProperties:s.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/view-on-block-explorer/view-on-block-explorer.js"}],[7520,{"../../../selectors":7539,"../../confirmations/context/confirm":7144,"../../confirmations/hooks/useSignatureEventFragment":7236,"../../confirmations/hooks/useTransactionEventFragment":7240,"../../confirmations/utils":7261,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useTrustSignalMetrics=function(){const{currentConfirmation:e}=(0,o.useConfirmContext)(),{updateSignatureEventFragment:t}=(0,c.useSignatureEventFragment)(),{updateTransactionEventFragment:a}=(0,l.useTransactionEventFragment)(),u=(0,n.useMemo)(()=>function(e){if(!e)return null;if(!(0,i.isSignatureTransactionType)(e)){var t;return(null===(t=e.txParams)||void 0===t?void 0:t.to)??null}try{var a,n;const t=null==e||null===(a=e.msgParams)||void 0===a?void 0:a.data,s="string"==typeof t?JSON.parse(t):t;if(null!=s&&null!==(n=s.domain)&&void 0!==n&&n.verifyingContract)return s.domain.verifyingContract}catch(e){}return null}(e),[e]),d=(0,s.useSelector)(e=>u?(0,r.getAddressSecurityAlertResponse)(e,u):undefined),{properties:p,anonymousProperties:m}=(0,n.useMemo)(()=>d?{properties:{address_alert_response:d.result_type},anonymousProperties:{address_label:d.label||undefined}}:{properties:{},anonymousProperties:{}},[d]),f=(0,n.useCallback)(()=>{if(!d||!e)return;const n=(null==e?void 0:e.id)??"";(0,i.isSignatureTransactionType)(e)?(t({properties:p}),m.address_label&&t({sensitiveProperties:m})):(a({properties:p},n),m.address_label&&a({sensitiveProperties:m},n))},[d,e,p,m,t,a]);(0,n.useEffect)(()=>{f()},[f])};var n=e("react"),s=e("react-redux"),r=e("../../../selectors"),o=e("../../confirmations/context/confirm"),i=e("../../confirmations/utils"),l=e("../../confirmations/hooks/useTransactionEventFragment"),c=e("../../confirmations/hooks/useSignatureEventFragment")}}},{package:"$root$",file:"ui/pages/trust-signals/hooks/useTrustSignalMetrics.ts"}],[7521,{"../../components/component-library":6097,"../../helpers/constants/design-system":6645,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function({startFrom:e,onCountdownEnd:t}){const[a,o]=(0,n.useState)(e);return(0,n.useEffect)(()=>{const e=setInterval(()=>{o(a=>a<=0?(clearInterval(e),t(),0):a-1)},1e3);return()=>clearInterval(e)},[t]),n.default.createElement(r.Text,{variant:s.TextVariant.inherit,color:s.TextColor.inherit,as:"span"},i(a))};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=s?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("../../helpers/constants/design-system"),r=e("../../components/component-library");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}const i=e=>{if(e<=60)return`${e} seconds.`;const t=e%60;return`${Math.floor(e/3600)}:${Math.floor(e%3600/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}.`}}}},{package:"$root$",file:"ui/pages/unlock-page/formatted-counter.tsx"}],[7522,{"./unlock-page.container":7525},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./unlock-page.container"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/unlock-page/index.js"}],[7523,{"../../components/component-library":6097,"../../helpers/constants/design-system":6645,"../../hooks/useI18nContext":6777,"../../selectors":7539,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function({onClose:e,onRestore:t}){const a=(0,o.useI18nContext)(),n=(0,r.useSelector)(c.getIsSocialLoginFlow);return s.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"reset-password-modal","data-testid":"reset-password-modal"},s.default.createElement(i.ModalOverlay,null),s.default.createElement(i.ModalContent,{alignItems:l.AlignItems.center},s.default.createElement(i.ModalHeader,{onClose:e},a("forgotPasswordModalTitle")),n?s.default.createElement(i.Box,{paddingInline:4},s.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,marginBottom:4},a("forgotPasswordSocialDescription")),s.default.createElement(i.Box,{as:"ul",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4,marginBottom:6},s.default.createElement(i.Box,{display:l.Display.Flex,gap:4,as:"li"},s.default.createElement(i.Icon,{name:i.IconName.FaceId,size:i.IconSize.Md,color:l.IconColor.iconMuted,style:{marginTop:"2px"}}),s.default.createElement(i.Text,{variant:l.TextVariant.bodyMd},a("forgotPasswordSocialStep1",[s.default.createElement(i.Text,{variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Bold,key:"reset-password-step-1-biometrics"},a("forgotPasswordSocialStep1Biometrics"))]))),s.default.createElement(i.Box,{display:l.Display.Flex,gap:4,as:"li"},s.default.createElement(i.Icon,{name:i.IconName.SecurityKey,size:i.IconSize.Md,color:l.IconColor.iconMuted,style:{marginTop:"2px"}}),s.default.createElement(i.Text,{variant:l.TextVariant.bodyMd},a("forgotPasswordSocialStep2",[s.default.createElement(i.Text,{variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Bold,key:"reset-password-step-2-srp"},a("secretRecoveryPhrase"))])))),s.default.createElement(i.Button,{"data-testid":"reset-password-modal-button",variant:i.ButtonVariant.Primary,onClick:t,size:i.ButtonSize.Lg,block:!0,danger:!0},a("forgotPasswordModalButton"))):s.default.createElement(i.Box,{paddingInline:4},s.default.createElement(i.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:2},s.default.createElement("img",{src:"images/forgot-password-lock.png",width:154,height:154,alt:a("forgotPasswordModalTitle"),style:{alignSelf:"center"}})),s.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,marginBottom:4},a("forgotPasswordModalDescription1")),s.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,marginBottom:6},a("forgotPasswordModalDescription2")),s.default.createElement(i.Button,{"data-testid":"reset-password-modal-button",variant:i.ButtonVariant.Primary,onClick:t,size:i.ButtonSize.Lg,block:!0,danger:!0},a("forgotPasswordModalButton")))))};var n,s=(n=e("react"))&&n.__esModule?n:{default:n},r=e("react-redux"),o=e("../../hooks/useI18nContext"),i=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),c=e("../../selectors")}}},{package:"$root$",file:"ui/pages/unlock-page/reset-password-modal.tsx"}],[7524,{"../../../shared/constants/metametrics":5430,"../../../shared/constants/onboarding":5436,"../../../shared/lib/trace":5517,"../../../shared/lib/ui-utils":5523,"../../components/component-library":6097,"../../components/ui/mascot":6540,"../../contexts/metametrics":6608,"../../helpers/constants/design-system":6645,"../../helpers/constants/routes":6650,"../../helpers/utils/build-types":6670,"./formatted-counter":7521,"./reset-password-modal":7523,"./unlock-page.util":7526,"@metamask/seedless-onboarding-controller":2404,events:4072,loglevel:4542,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("events"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=b(e("prop-types")),o=e("@metamask/seedless-onboarding-controller"),i=b(e("loglevel")),l=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),u=b(e("../../components/ui/mascot")),d=e("../../helpers/constants/routes"),p=e("../../../shared/constants/metametrics"),m=e("../../helpers/utils/build-types"),f=e("../../../shared/lib/ui-utils"),g=e("../../../shared/lib/trace"),h=e("../../../shared/constants/onboarding"),_=e("../../contexts/metametrics"),y=e("./unlock-page.util"),E=b(e("./reset-password-modal")),v=b(e("./formatted-counter"));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function w(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class T extends s.Component{constructor(...e){super(...e),w(this,"state",{password:"",error:null,showResetPasswordModal:!1,isLocked:!1,isSubmitting:!1,unlockDelayPeriod:0}),w(this,"failed_attempts",0),w(this,"animationEventEmitter",new n.EventEmitter),w(this,"passwordLoginAttemptTraceCtx",null),w(this,"handleSubmit",async e=>{e.preventDefault(),e.stopPropagation();const{password:t,isSubmitting:a}=this.state,{onSubmit:n}=this.props;if(""===t||a)return;this.setState({error:null,isSubmitting:!0});const s=this.isSocialImportRehydration();s&&this.context.trackEvent({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.RehydrationPasswordAttempted,properties:{account_type:"social",biometrics:!1}});try{var r,o,i,l,c,u;if(await n(t),s&&this.context.trackEvent({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.RehydrationCompleted,properties:{account_type:"social",biometrics:!1,failed_attempts:this.failed_attempts}}),this.context.trackEvent({category:p.MetaMetricsEventCategory.Navigation,event:p.MetaMetricsEventName.AppUnlocked,properties:{failed_attempts:this.failed_attempts}},{isNewVisit:!0}),this.passwordLoginAttemptTraceCtx)null===(c=(u=this.context).bufferedEndTrace)||void 0===c||c.call(u,{name:g.TraceName.OnboardingPasswordLoginAttempt}),this.passwordLoginAttemptTraceCtx=null;null===(r=(o=this.context).bufferedEndTrace)||void 0===r||r.call(o,{name:g.TraceName.OnboardingExistingSocialLogin}),null===(i=(l=this.context).bufferedEndTrace)||void 0===i||i.call(l,{name:g.TraceName.OnboardingJourneyOverall})}catch(e){await this.handleLoginError(e,s)}finally{this.setState({isSubmitting:!1})}}),w(this,"handleLoginError",async(e,t=!1)=>{var a;const{t:n}=this.context,{message:s,data:r}=e;(null==r?void 0:r.numberOfAttempts)!==undefined&&(this.failed_attempts=r.numberOfAttempts);let i,l=s,c=0;var u,d,m,f;(t&&this.context.trackEvent({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.RehydrationPasswordFailed,properties:{account_type:"social",failed_attempts:this.failed_attempts}}),null!==(a=this.props.onboardingParentContext)&&void 0!==a&&a.current)&&(null===(u=(d=this.context).bufferedTrace)||void 0===u||u.call(d,{name:g.TraceName.OnboardingPasswordLoginError,op:g.TraceOperation.OnboardingError,tags:{errorMessage:s},parentContext:this.props.onboardingParentContext.current}),null===(m=(f=this.context).bufferedEndTrace)||void 0===m||m.call(f,{name:g.TraceName.OnboardingPasswordLoginError}));switch(s){case"Incorrect password":case o.SeedlessOnboardingControllerErrorMessage.IncorrectPassword:l=n("unlockPageIncorrectPassword"),i="incorrect_password";break;case o.SeedlessOnboardingControllerErrorMessage.TooManyLoginAttempts:this.setState({isLocked:!0}),l=n("unlockPageTooManyFailedAttempts"),i="too_many_login_attempts",c=r.remainingTime;break;case o.SeedlessOnboardingControllerErrorMessage.OutdatedPassword:l=n("passwordChangedRecently"),i="outdated_password";break;default:l=s}i&&(await this.props.forceUpdateMetamaskState(),this.context.trackEvent({category:p.MetaMetricsEventCategory.Navigation,event:p.MetaMetricsEventName.AppUnlockedFailed,properties:{reason:i,failed_attempts:this.failed_attempts}})),this.setState({error:l,unlockDelayPeriod:c})}),w(this,"renderMascot",()=>(0,m.isFlask)()||(0,m.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"115",height:"115"}):s.default.createElement(u.default,{animationEventEmitter:this.animationEventEmitter,width:"170",height:"170"})),w(this,"renderHelpText",()=>{const{error:e,unlockDelayPeriod:t}=this.state;return e?s.default.createElement(l.Box,{className:"unlock-page__help-text",display:c.Display.Flex,flexDirection:c.FlexDirection.Column},e&&s.default.createElement(l.Text,{"data-testid":"unlock-page-help-text",variant:c.TextVariant.bodySm,textAlign:c.TextAlign.Left,color:c.TextColor.errorDefault},e,t>0&&s.default.createElement(v.default,{startFrom:t,onCountdownEnd:()=>this.setState({isLocked:!1,error:null,unlockDelayPeriod:0})}))):null}),w(this,"onForgotPasswordOrLoginWithDiffMethods",async()=>{const{isSocialLoginFlow:e,history:t,isOnboardingCompleted:a}=this.props;if(!a&&e)return await this.props.loginWithDifferentMethod(),await this.props.forceUpdateMetamaskState(),void t.replace(d.ONBOARDING_WELCOME_ROUTE);this.context.trackEvent({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.ForgotPasswordClicked,properties:{account_type:e?"social":"metamask"}}),this.setState({showResetPasswordModal:!0})}),w(this,"onRestoreWallet",()=>{const{isSocialLoginFlow:e}=this.props;this.context.trackEvent({category:p.MetaMetricsEventCategory.Accounts,event:p.MetaMetricsEventName.ResetWallet,properties:{account_type:e?"social":"metamask"}}),this.props.onRestore()})}isSocialImportRehydration(){return this.props.firstTimeFlowType===h.FirstTimeFlowType.socialImport&&!this.props.isOnboardingCompleted}UNSAFE_componentWillMount(){const{isUnlocked:e,history:t,location:a}=this.props;if(e){var n;let e=d.DEFAULT_ROUTE;if(null!==(n=a.state)&&void 0!==n&&null!==(n=n.from)&&void 0!==n&&n.pathname){const t=a.state.from.search||"";e=a.state.from.pathname+t}t.push(e)}}async componentDidMount(){var e,t,a;this.passwordLoginAttemptTraceCtx=null===(e=(t=this.context).bufferedTrace)||void 0===e?void 0:e.call(t,{name:g.TraceName.OnboardingPasswordLoginAttempt,op:g.TraceOperation.OnboardingUserJourney,parentContext:null===(a=this.props.onboardingParentContext)||void 0===a?void 0:a.current});try{await this.props.checkIsSeedlessPasswordOutdated()}catch(e){i.default.error("unlock page - checkIsSeedlessPasswordOutdated error",e)}}handleInputChange(e){const{target:t}=e;this.setState({password:t.value,error:null});const a=t,n=a.getBoundingClientRect(),s=(0,y.getCaretCoordinates)(a,a.selectionEnd??0);this.animationEventEmitter.emit("point",{x:n.left+s.left-a.scrollLeft,y:n.top+s.top-a.scrollTop})}render(){const{password:e,error:t,isLocked:a,showResetPasswordModal:n}=this.state,{isOnboardingCompleted:r,isSocialLoginFlow:o}=this.props,{t:i}=this.context,u=i("needHelpLinkText");return s.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.backgroundDefault,width:c.BlockSize.Full,paddingBottom:12},n&&s.default.createElement(E.default,{onClose:()=>this.setState({showResetPasswordModal:!1}),onRestore:this.onRestoreWallet}),s.default.createElement(l.Box,{as:"form",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,padding:4,width:c.BlockSize.Full,className:"unlock-page","data-testid":"unlock-page",onSubmit:this.handleSubmit},s.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,width:c.BlockSize.Full,alignItems:c.AlignItems.center},s.default.createElement(l.Box,{className:"unlock-page__mascot-container",marginBottom:(0,m.isBeta)()||(0,m.isFlask)()?6:0},this.renderMascot(),(0,m.isBeta)()?s.default.createElement(l.Text,{className:"unlock-page__mascot-container__beta",backgroundColor:c.BackgroundColor.primaryDefault,color:c.TextColor.primaryInverse,padding:1,borderRadius:c.BorderRadius.LG,textTransform:c.TextTransform.Uppercase,fontWeight:c.FontWeight.Medium},i("beta")):null),s.default.createElement(l.Text,{"data-testid":"unlock-page-title",as:"h1",variant:c.TextVariant.displayMd,marginBottom:12,fontWeight:c.FontWeight.Medium,color:c.TextColor.textDefault,textAlign:c.TextAlign.Center},i("welcomeBack")),s.default.createElement(l.FormTextField,{id:"password",placeholder:this.props.isSocialLoginFlow?i("enterYourPasswordSocialLoginFlow"):i("enterYourPassword"),size:l.FormTextFieldSize.Lg,inputProps:{"data-testid":"unlock-password","aria-label":i("password")},textFieldProps:{disabled:a},onChange:e=>this.handleInputChange(e),type:l.TextFieldType.Password,value:e,error:Boolean(t),helpText:this.renderHelpText(),autoComplete:!0,autoFocus:!0,width:c.BlockSize.Full,marginBottom:4}),s.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,type:"submit","data-testid":"unlock-submit",disabled:!e||a,marginBottom:6},this.context.t("unlock")),s.default.createElement(l.Button,{variant:l.ButtonVariant.Link,"data-testid":"unlock-forgot-password-button",key:"import-account",type:"button",onClick:this.onForgotPasswordOrLoginWithDiffMethods,marginBottom:6},i(o&&!r?"useDifferentLoginMethod":"forgotPassword")),s.default.createElement(l.Text,null,i("needHelp",[s.default.createElement(l.Button,{variant:l.ButtonVariant.Link,href:f.SUPPORT_LINK,type:"button",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",onClick:()=>{this.context.trackEvent({category:p.MetaMetricsEventCategory.Navigation,event:p.MetaMetricsEventName.SupportLinkClicked,properties:{url:f.SUPPORT_LINK}},{contextPropsIntoEventProperties:[p.MetaMetricsContextProp.PageTitle]})}},u)])))))}}w(T,"contextTypes",{trackEvent:r.default.func,bufferedTrace:r.default.func,bufferedEndTrace:r.default.func,t:r.default.func}),w(T,"propTypes",{history:r.default.object.isRequired,location:r.default.object.isRequired,isUnlocked:r.default.bool,isOnboardingCompleted:r.default.bool,onRestore:r.default.func,onSubmit:r.default.func,checkIsSeedlessPasswordOutdated:r.default.func,forceUpdateMetamaskState:r.default.func,isSocialLoginFlow:r.default.bool,onboardingParentContext:r.default.object,loginWithDifferentMethod:r.default.func,firstTimeFlowType:r.default.string});a.default=(0,_.withMetaMetrics)(T)}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.component.js"}],[7525,{"../../../app/scripts/lib/util":290,"../../../shared/constants/app":5415,"../../ducks/metamask/metamask":6632,"../../helpers/constants/routes":6650,"../../selectors":7539,"../../store/actions":7565,"./unlock-page.component":7524,"react-redux":4905,"react-router-dom":4929,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-redux"),r=e("react-router-dom"),o=e("redux"),i=e("../../../app/scripts/lib/util"),l=e("../../../shared/constants/app"),c=e("../../helpers/constants/routes"),u=e("../../store/actions"),d=e("../../selectors"),p=e("../../ducks/metamask/metamask"),m=(n=e("./unlock-page.component"))&&n.__esModule?n:{default:n};a.default=(0,o.compose)(r.withRouter,(0,s.connect)(e=>{const{metamask:{isUnlocked:t}}=e;return{isUnlocked:t,isSocialLoginFlow:(0,d.getIsSocialLoginFlow)(e),isOnboardingCompleted:(0,p.getCompletedOnboarding)(e),firstTimeFlowType:(0,d.getFirstTimeFlowType)(e)}},e=>({tryUnlockMetamask:t=>e((0,u.tryUnlockMetamask)(t)),markPasswordForgotten:()=>e((0,u.markPasswordForgotten)()),forceUpdateMetamaskState:()=>(0,u.forceUpdateMetamaskState)(e),loginWithDifferentMethod:()=>e((0,u.resetOnboarding)()),checkIsSeedlessPasswordOutdated:()=>e((0,u.checkIsSeedlessPasswordOutdated)())}),(e,t,a)=>{const{markPasswordForgotten:n,tryUnlockMetamask:s,...r}=t,{history:o,onSubmit:u,location:d,...p}=a;return{...e,...r,...p,onRestore:async()=>{var e,t;(await n(),o.push(c.RESTORE_VAULT_ROUTE),(0,i.getEnvironmentType)()===l.ENVIRONMENT_TYPE_POPUP)&&(null===(e=(t=global.platform).openExtensionInBrowser)||void 0===e||e.call(t,c.RESTORE_VAULT_ROUTE))},onSubmit:u||(async e=>{var t;await s(e);let a=c.DEFAULT_ROUTE;if(null!==(t=d.state)&&void 0!==t&&null!==(t=t.from)&&void 0!==t&&t.pathname){const e=d.state.from.search||"";a=d.state.from.pathname+e}o.push(a)}),history:o,location:d}}))(m.default)}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.container.js"}],[7526,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getCaretCoordinates=function(e,t){const a=document.createElement("div");a.id="password-mirror-div",document.body.appendChild(a);const n=window.getComputedStyle(e);a.textContent=new Array(t+1).join("");const s=document.createElement("span");s.textContent="",a.appendChild(s);const r={top:s.offsetTop+parseInt(n.borderTopWidth,10),left:s.offsetLeft+parseInt(n.borderLeftWidth,10)};return document.body.removeChild(a),r}}}},{package:"$root$",file:"ui/pages/unlock-page/unlock-page.util.js"}],[7527,{reselect:4988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getIsUsingPaymaster=function(e){var t;const a=o(e);if(!a)return!1;const n=null===(t=a.userOperation)||void 0===t?void 0:t.paymasterAndData;return Boolean(null==n?void 0:n.length)&&"0x"!==n},a.getUserOperation=o,a.getUserOperations=s,a.selectUserOperationMetadata=a.selectPaymasterData=a.selectPaymasterAddress=void 0;var n=e("reselect");function s(e){return e.metamask.userOperations||{}}const r=a.selectUserOperationMetadata=(0,n.createSelector)(s,(e,t)=>t,(e,t)=>e[t]);function o(e){var t;const a=null===(t=e.confirmTransaction)||void 0===t?void 0:t.txData;if(!a)return undefined;const{id:n,isUserOperation:r}=a;if(!r)return undefined;return s(e)[n]}const i=a.selectPaymasterData=(0,n.createSelector)(r,e=>{var t;const a=null==e||null===(t=e.userOperation)||void 0===t?void 0:t.paymasterAndData;return"0x"===a?undefined:a});a.selectPaymasterAddress=(0,n.createSelector)(i,e=>null==e?void 0:e.slice(0,42))}}},{package:"$root$",file:"ui/selectors/account-abstraction.ts"}],[7529,{reselect:4988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.selectAlerts=s,a.selectConfirmedAlertKeys=function(e,t){const{confirmed:a}=e.confirmAlerts??{},n=(null==a?void 0:a[t])||{};return Object.keys(n).filter(e=>n[e])},a.selectGeneralAlerts=a.selectFieldAlerts=void 0;var n=e("reselect");function s(e,t){var a;return(null===(a=e.confirmAlerts)||void 0===a?void 0:a.alerts[t])??[]}a.selectGeneralAlerts=(0,n.createSelector)((e,t)=>s(e,t),e=>e.filter(e=>!e.field)),a.selectFieldAlerts=(0,n.createSelector)((e,t)=>s(e,t),e=>e.filter(e=>e.field))}}},{package:"$root$",file:"ui/selectors/alerts.ts"}],[7531,{"../../shared/constants/network":5433,"../../shared/lib/asset-utils":5460,"../../shared/modules/selectors/util":5549,"../components/app/assets/util/calculateTokenBalance":5637,"../components/app/assets/util/calculateTokenFiatAmount":5638,"../ducks/metamask/metamask":6632,"../pages/asset/util":6838,"./accounts":7528,"./multichain":7548,"./multichain-accounts/account-tree":7543,"./multichain/networks":7549,"./selectors":7555,"@metamask/assets-controllers":1157,"@metamask/utils":2799,"bignumber.js":3648,lodash:4534,reselect:4988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getAccountAssets=v,a.getAssetsBySelectedAccountGroup=void 0,a.getAssetsMetadata=b,a.getAssetsRates=C,a.getDefiPositions=function(e){var t;return null==e||null===(t=e.metamask)||void 0===t?void 0:t.allDeFiPositions},a.getHistoricalMultichainAggregatedBalance=void 0,a.getHistoricalPrices=w,a.selectBalancePercentChangeByAccountGroup=a.selectBalanceForAllWallets=a.selectBalanceChangeForAllWallets=a.selectBalanceChangeBySelectedAccountGroup=a.selectBalanceChangeByAccountGroup=a.selectBalanceByWallet=a.selectBalanceBySelectedAccountGroup=a.selectBalanceByAccountGroup=a.getTokenByAccountAndAddressAndChainId=a.getTokenBalancesEvm=a.getMultichainNativeTokenBalance=a.getMultichainNativeAssetType=a.getMultichainAggregatedBalance=a.getMultiChainAssets=void 0;var n=e("@metamask/assets-controllers"),s=e("@metamask/utils"),r=e("bignumber.js"),o=e("lodash"),i=e("reselect"),l=e("../../shared/constants/network"),c=e("../../shared/modules/selectors/util"),u=e("../components/app/assets/util/calculateTokenBalance"),d=e("../components/app/assets/util/calculateTokenFiatAmount"),p=e("../ducks/metamask/metamask"),m=e("../pages/asset/util"),f=e("../../shared/lib/asset-utils"),g=e("./accounts"),h=e("./multichain"),_=e("./selectors"),y=e("./multichain/networks"),E=e("./multichain-accounts/account-tree");function v(e){return e.metamask.accountsAssets}function b(e){return e.metamask.assetsMetadata}function C(e){return e.metamask.conversionRates}function w(e){return e.metamask.historicalPrices}a.getTokenBalancesEvm=(0,c.createDeepEqualSelector)(_.getTokensAcrossChainsByAccountAddressSelector,_.getNativeTokenCachedBalanceByChainIdSelector,p.getTokenBalances,(e,t)=>t,_.getMarketData,_.getCurrencyRates,_.getPreferences,_.getIsTokenNetworkFilterEqualCurrentNetwork,_.getCurrentNetwork,(e,t,a,n,s,r,o,i,c)=>{const{hideZeroBalanceTokens:p}=o,m=a[n],f=l.TEST_CHAINS.includes(c.chainId),g=Object.fromEntries(Object.entries(e).filter(([e])=>f?l.TEST_CHAINS.includes(e):!l.TEST_CHAINS.includes(e))),h=[];return Object.entries(g).forEach(([e,a])=>{const n=e;a.forEach(e=>{const{isNative:a,address:o,decimals:l}=e,c=(0,u.calculateTokenBalance)({isNative:a,chainId:n,address:o,decimals:l,nativeBalances:t,selectedAccountTokenBalancesAcrossChains:m})||"0",f=(0,d.calculateTokenFiatAmount)({token:e,chainId:n,balance:c,marketData:s,currencyRates:r});if(!p||"0"!==c||e.isNative&&i){let t;t=e.isNative?"ETH"===e.symbol?"Ethereum":e.symbol:e.name||e.symbol,h.push({...e,address:e.address,balance:c,tokenFiatAmount:f,chainId:n,string:String(c),secondary:0,title:t})}})}),h});const T=a.getMultiChainAssets=(0,c.createDeepEqualSelector)((e,t)=>t,h.getMultichainBalances,v,b,C,_.getPreferences,(e,t,a,n,o,i)=>{const{hideZeroBalanceTokens:l}=i,c=(null==a?void 0:a[e.id])||[],u=null==t?void 0:t[e.id],d=[];return c.forEach(e=>{var t,a;const{chainId:i,assetNamespace:c}=(0,s.parseCaipAssetType)(e),p="slip44"===c,m=(null==u?void 0:u[e])||{amount:"0",unit:""},f=null==o||null===(t=o[e])||void 0===t?void 0:t.rate,g=f?new r.BigNumber(m.amount).times(f).toNumber():null,h={name:m.unit,symbol:m.unit||"",fungible:!0,units:[{name:e,symbol:m.unit||"",decimals:0}]},_=n[e]||h,y=(null===(a=_.units[0])||void 0===a?void 0:a.decimals)||0;l&&"0"===m.amount&&!p||d.push({title:_.name,address:e,symbol:_.symbol,image:_.iconUrl,decimals:y,chainId:i,isNative:p,balance:m.amount,secondary:g,string:"",tokenFiatAmount:g,isStakeable:!1})}),d}),x=(a.getTokenByAccountAndAddressAndChainId=(0,c.createDeepEqualSelector)(e=>e,(e,t)=>t,(e,t,a)=>a,(e,t,a,n)=>n,(e,t,a,n)=>{const s=(0,f.isEvmChainId)(n);if(!a&&!s)return null;const r=t??(s?(0,g.getSelectedInternalAccount)(e):(0,E.getInternalAccountBySelectedAccountGroupAndCaip)(e,n)),i=s?(0,_.getSelectedAccountTokensAcrossChains)(e):(0,o.groupBy)(T(e,r),"chainId");return(0,m.findAssetByAddress)(i,a,n)}),{amount:0,unit:""}),k=(a.getMultichainAggregatedBalance=(0,c.createDeepEqualSelector)((e,t)=>t,h.getMultichainBalances,v,C,(e,t,a,n)=>{const{id:s}=e??{},o=s&&(null==a?void 0:a[s])||[],i=s?null==t?void 0:t[s]:{};let l=new r.BigNumber(0);return o.forEach(e=>{var t;const a=(null==i?void 0:i[e])||x,s=(null==n||null===(t=n[e])||void 0===t?void 0:t.rate)||"0",o=new r.BigNumber(a.amount).times(s);l=l.plus(o)}),l.toNumber()}),a.getHistoricalMultichainAggregatedBalance=(0,c.createDeepEqualSelector)((e,t)=>t,h.getMultichainBalances,v,C,(e,t,a,n)=>{const s=(null==a?void 0:a[e.id])||[],o=null==t?void 0:t[e.id],i={PT1H:{balance:0,percentChange:0,amountChange:0},P1D:{balance:0,percentChange:0,amountChange:0},P7D:{balance:0,percentChange:0,amountChange:0},P14D:{balance:0,percentChange:0,amountChange:0},P30D:{balance:0,percentChange:0,amountChange:0},P200D:{balance:0,percentChange:0,amountChange:0},P1Y:{balance:0,percentChange:0,amountChange:0}};let l=new r.BigNumber(0);s.forEach(e=>{var t;const a=(null==o?void 0:o[e])||x,s=null==n?void 0:n[e];if(null!=s&&null!==(t=s.marketData)&&void 0!==t&&t.pricePercentChange&&s.rate){const{pricePercentChange:e}=s.marketData,t=new r.BigNumber(a.amount).times(s.rate||"0");l=l.plus(t),Object.entries(e).forEach(([e,a])=>{if(e in i){const n=t.div(Number((1+a/100).toFixed(8))).toNumber();i[e].balance+=n}})}});const c=l.toNumber();return Object.entries(i).forEach(([e,t])=>{if(0!==c){const e=c-t.balance,a=e/t.balance*100;t.amountChange=Number(e.toFixed(8)),t.percentChange=Number(a.toFixed(8))}}),i}),a.getMultichainNativeAssetType=(0,c.createDeepEqualSelector)(g.getSelectedInternalAccount,v,y.getSelectedMultichainNetworkConfiguration,(e,t,a)=>((null==t?void 0:t[e.id])||[]).find(e=>{const{chainId:t,assetNamespace:n}=(0,s.parseCaipAssetType)(e);return t===a.chainId&&"slip44"===n}))),S=(a.getMultichainNativeTokenBalance=(0,c.createDeepEqualSelector)((e,t)=>t,h.getMultichainBalances,k,(e,t,a)=>{const n=null==t?void 0:t[e.id];return a&&null!=n&&n[a]?n[a]:x}),e=>e.metamask??{}),M=Object.freeze({}),N=Object.freeze({wallets:{},selectedAccountGroup:""}),I=(0,i.createSelector)([e=>S(e).accountTree,e=>S(e).accountGroupsMetadata,e=>S(e).accountWalletsMetadata],(e,t,a)=>({accountTree:e??N,accountGroupsMetadata:t??M,accountWalletsMetadata:a??M})),P=(0,i.createSelector)([e=>S(e).internalAccounts],e=>({internalAccounts:e??{accounts:{},selectedAccount:""}})),D=(0,i.createSelector)([p.getTokenBalances],e=>({tokenBalances:e})),O=(0,i.createSelector)([_.getMarketData],e=>({marketData:e})),R=(0,i.createSelector)([C,w],(e,t)=>({conversionRates:e??M,historicalPrices:t??M})),A=(0,i.createSelector)([h.getMultichainBalances],e=>({balances:e})),B=(0,i.createSelector)([e=>S(e).allTokens],e=>({allTokens:e??M,allIgnoredTokens:M,allDetectedTokens:M})),F=(0,i.createSelector)([p.getCurrentCurrency,_.getCurrencyRates],(e,t)=>({currentCurrency:e??"usd",currencyRates:t??{}})),L=(0,i.createSelector)([_.getEnabledNetworks],e=>e),j=a.selectBalanceForAllWallets=(0,i.createSelector)([I,P,D,O,R,A,B,F,L],(e,t,a,s,r,o,i,l,c)=>(0,n.calculateBalanceForAllWallets)(e,t,a,s,r,o,i,l,c));a.selectBalanceChangeForAllWallets=e=>(0,i.createSelector)([I,P,D,O,R,A,B,F,L],(t,a,s,r,o,i,l,c,u)=>(0,n.calculateBalanceChangeForAllWallets)(t,a,s,r,o,i,l,c,u,e));const U=(e,t)=>(0,i.createSelector)([I,P,D,O,R,A,B,F,L],(a,s,r,o,i,l,c,u,d)=>(0,n.calculateBalanceChangeForAccountGroup)(a,s,r,o,i,l,c,u,d,e,t));a.selectBalanceChangeByAccountGroup=U;a.selectBalancePercentChangeByAccountGroup=(e,t)=>(0,i.createSelector)([U(e,t)],e=>e.percentChange);a.selectBalanceChangeBySelectedAccountGroup=e=>(0,i.createSelector)([I,P,D,O,R,A,B,F,L],(t,a,s,r,o,i,l,c,u)=>{var d;const p=null==t||null===(d=t.accountTree)||void 0===d?void 0:d.selectedAccountGroup;return p?(0,n.calculateBalanceChangeForAccountGroup)(t,a,s,r,o,i,l,c,u,p,e):null});a.selectBalanceBySelectedAccountGroup=(0,i.createSelector)([I,j],(e,t)=>{var a;const n=null==e||null===(a=e.accountTree)||void 0===a?void 0:a.selectedAccountGroup;if(!n)return null;const s=n.split("/")[0],r=t.wallets[s]??null,{userCurrency:o}=t;return null!=r&&r.groups[n]?r.groups[n]:{walletId:s,groupId:n,totalBalanceInUserCurrency:0,userCurrency:o}});a.selectBalanceByAccountGroup=e=>(0,i.createSelector)([j],t=>{const a=e.split("/")[0],n=t.wallets[a]??null,{userCurrency:s}=t;return null!=n&&n.groups[e]?n.groups[e]:{walletId:a,groupId:e,totalBalanceInUserCurrency:0,userCurrency:s}});a.selectBalanceByWallet=e=>(0,i.createSelector)([j],t=>{const a=t.wallets[e]??null,{userCurrency:n}=t;return a?{walletId:e,totalBalanceInUserCurrency:a.totalBalanceInUserCurrency,userCurrency:n,groups:a.groups}:{walletId:e,totalBalanceInUserCurrency:0,userCurrency:n,groups:{}}});a.getAssetsBySelectedAccountGroup=(0,c.createDeepEqualSelector)(({metamask:e})=>{const t={accountTree:e.accountTree,internalAccounts:e.internalAccounts,allTokens:e.allTokens,allIgnoredTokens:e.allIgnoredTokens,tokenBalances:e.tokenBalances,marketData:e.marketData,currencyRates:e.currencyRates,currentCurrency:e.currentCurrency,networkConfigurationsByChainId:e.networkConfigurationsByChainId,accountsByChainId:e.accountsByChainId};let a={accountsAssets:{},assetsMetadata:{},balances:{},conversionRates:{}};return a={accountsAssets:e.accountsAssets,assetsMetadata:e.assetsMetadata,balances:e.balances,conversionRates:e.conversionRates},{...t,...a}},e=>(0,n.selectAssetsBySelectedAccountGroup)(e))}}},{package:"$root$",file:"ui/selectors/assets.ts"}],[7534,{"../../shared/modules/selectors/networks":5547,"../../shared/modules/selectors/util":5549,"./multichain":7548,"./selectors":7555,"@metamask/keyring-api":1994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getDappActiveNetwork=void 0;var n=e("@metamask/keyring-api"),s=e("../../shared/modules/selectors/networks"),r=e("../../shared/modules/selectors/util"),o=e("./selectors"),i=e("./multichain");a.getDappActiveNetwork=(0,r.createDeepEqualSelector)(o.getOrderedConnectedAccountsForActiveTab,o.getOriginOfCurrentTab,o.getAllDomains,s.getNetworkConfigurationsByChainId,i.getMultichainNetworkConfigurationsByChainId,(e,t,a,s,r)=>{if(!e||0===e.length)return null;const o=e[0];if((0,n.isEvmAccountType)(o.type)){if(!t||!a)return null;const e=a[t];if(!e)return null;for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)){const a=s[t];if(a.rpcEndpoints.some(t=>t.networkClientId===e))return{...a,isEvm:!0}}}else{const e=o.scopes.find(e=>e.startsWith("solana:"));if(e){const t=r[e];if(t)return{...t,isEvm:!1}}}return null})}}},{package:"$root$",file:"ui/selectors/dapp.ts"}]],[],{});