{"snapId":"npm:@metamask/solana-wallet-snap","manifest":{"version":"2.4.5","description":"Manage Solana using MetaMask","proposedName":"Solana","repository":{"type":"git","url":"https://github.com/MetaMask/snap-solana-wallet.git"},"source":{"shasum":"TTK9syaPsZFKQk016Wz1yNlpXLFYJ/LFiukpGHiXyOE=","location":{"npm":{"filePath":"dist/bundle.js","iconPath":"images/icon.svg","packageName":"@metamask/solana-wallet-snap","registry":"https://registry.npmjs.org/"}},"locales":["locales/en.json"]},"initialConnections":{"https://portfolio.metamask.io":{}},"initialPermissions":{"endowment:rpc":{"dapps":true,"snaps":false},"endowment:keyring":{"allowedOrigins":["https://portfolio.metamask.io"]},"snap_getBip32Entropy":[{"path":["m","44'","501'"],"curve":"ed25519"}],"endowment:lifecycle-hooks":{},"endowment:network-access":{},"endowment:ethereum-provider":{},"endowment:cronjob":{"jobs":[]},"endowment:protocol":{"scopes":{"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":{"methods":["getGenesisHash","getLatestBlockhash","getMinimumBalanceForRentExemption"]},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":{"methods":["getGenesisHash","getLatestBlockhash","getMinimumBalanceForRentExemption"]}}},"endowment:assets":{"scopes":["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"]},"endowment:name-lookup":{"chains":["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"]},"snap_manageAccounts":{},"snap_manageState":{},"snap_dialog":{},"snap_getPreferences":{}},"platformVersion":"9.3.0","manifestVersion":"0.1"},"files":[{"path":"images/icon.svg","value":"<svg width=\"101\" height=\"101\" viewBox=\"0 0 101 101\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M100.48 69.3817L83.8068 86.8015C83.4444 87.1799 83.0058 87.4816 82.5185 87.6878C82.0312 87.894 81.5055 88.0003 80.9743 88H1.93563C1.55849 88 1.18957 87.8926 0.874202 87.6912C0.558829 87.4897 0.31074 87.2029 0.160416 86.8659C0.0100923 86.529 -0.0359181 86.1566 0.0280382 85.7945C0.0919944 85.4324 0.263131 85.0964 0.520422 84.8278L17.2061 67.408C17.5676 67.0306 18.0047 66.7295 18.4904 66.5234C18.9762 66.3172 19.5002 66.2104 20.0301 66.2095H99.0644C99.4415 66.2095 99.8104 66.3169 100.126 66.5183C100.441 66.7198 100.689 67.0067 100.84 67.3436C100.99 67.6806 101.036 68.0529 100.972 68.415C100.908 68.7771 100.737 69.1131 100.48 69.3817ZM83.8068 34.3032C83.4444 33.9248 83.0058 33.6231 82.5185 33.4169C82.0312 33.2108 81.5055 33.1045 80.9743 33.1048H1.93563C1.55849 33.1048 1.18957 33.2121 0.874202 33.4136C0.558829 33.6151 0.31074 33.9019 0.160416 34.2388C0.0100923 34.5758 -0.0359181 34.9482 0.0280382 35.3103C0.0919944 35.6723 0.263131 36.0083 0.520422 36.277L17.2061 53.6968C17.5676 54.0742 18.0047 54.3752 18.4904 54.5814C18.9762 54.7875 19.5002 54.8944 20.0301 54.8952H99.0644C99.4415 54.8952 99.8104 54.7879 100.126 54.5864C100.441 54.3849 100.689 54.0981 100.84 53.7612C100.99 53.4242 101.036 53.0518 100.972 52.6897C100.908 52.3277 100.737 51.9917 100.48 51.723L83.8068 34.3032ZM1.93563 21.7905H80.9743C81.5055 21.7907 82.0312 21.6845 82.5185 21.4783C83.0058 21.2721 83.4444 20.9704 83.8068 20.592L100.48 3.17219C100.737 2.90357 100.908 2.56758 100.972 2.2055C101.036 1.84342 100.99 1.47103 100.84 1.13408C100.689 0.79713 100.441 0.510296 100.126 0.308823C99.8104 0.107349 99.4415 1.24074e-05 99.0644 0L20.0301 0C19.5002 0.000878397 18.9762 0.107699 18.4904 0.313848C18.0047 0.519998 17.5676 0.821087 17.2061 1.19848L0.524723 18.6183C0.267681 18.8866 0.0966198 19.2223 0.0325185 19.5839C-0.0315829 19.9456 0.0140624 20.3177 0.163856 20.6545C0.31365 20.9913 0.561081 21.2781 0.875804 21.4799C1.19053 21.6817 1.55886 21.7896 1.93563 21.7905Z\" fill=\"url(#paint0_linear_174_4403)\"/>\n<defs>\n<linearGradient id=\"paint0_linear_174_4403\" x1=\"8.52558\" y1=\"90.0973\" x2=\"88.9933\" y2=\"-3.01622\" gradientUnits=\"userSpaceOnUse\">\n<stop offset=\"0.08\" stop-color=\"#9945FF\"/>\n<stop offset=\"0.3\" stop-color=\"#8752F3\"/>\n<stop offset=\"0.5\" stop-color=\"#5497D5\"/>\n<stop offset=\"0.6\" stop-color=\"#43B4CA\"/>\n<stop offset=\"0.72\" stop-color=\"#28E0B9\"/>\n<stop offset=\"0.97\" stop-color=\"#19FB9B\"/>\n</linearGradient>\n</defs>\n</svg>\n"},{"path":"dist/bundle.js","value":"(()=>{var e={33:(e,t,n)=>{var r=n(9968),o=n(9756),i=[[\"ary\",128],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",32],[\"partialRight\",64],[\"rearg\",256]];e.exports=function(e,t){return r(i,(function(n){var r=\"_.\"+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},88:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).get(e)}},125:(e,t,n)=>{var r=n(9032),o=n(5288);e.exports=function(e,t){return e&&r(t,o(t),e)}},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},195:(e,t,n)=>{var r=n(4882),o=n(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}},282:e=>{e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var t=\"[...]\",n=\"[Circular]\",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,n,a){var s;void 0===a&&(a=i()),c(e,\"\",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,f(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,n,i){var a=Object.getOwnPropertyDescriptor(i,n);void 0!==a.get?a.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,a])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,a,u,l){var d;if(u+=1,\"object\"==typeof e&&null!==e){for(d=0;d<i.length;d++)if(i[d]===e)return void s(n,e,r,a);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(t,e,r,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,r,a);if(i.push(e),Array.isArray(e))for(d=0;d<e.length;d++)c(e[d],d,d,i,e,u,l);else{var f=Object.keys(e);for(d=0;d<f.length;d++){var h=f[d];c(e[h],h,d,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,a){void 0===a&&(a=i());var s,c=d(e,\"\",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,f(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function d(e,o,i,a,c,l,f){var h;if(l+=1,\"object\"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e)return void s(n,e,o,c);try{if(\"function\"==typeof e.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&l>f.depthLimit)return void s(t,e,o,c);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)d(e[h],h,h,a,e,l,f);else{var p={},g=Object.keys(e).sort(u);for(h=0;h<g.length;h++){var m=g[h];d(e[m],m,h,a,e,l,f),p[m]=e[m]}if(void 0===c)return p;r.push([c,o,e]),c[o]=p}a.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},313:(e,t,n)=>{var r=n(1129),o=n(714);e.exports=function e(t,n,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},353:(e,t,n)=>{var r=n(1340),o=n(3934),i=n(8861),a=n(1182),s=n(8486),c=n(3142),u=n(5853),l=n(8666),d=\"[object Arguments]\",f=\"[object Array]\",h=\"[object Object]\",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=c(e),w=c(t),A=v?f:s(e),b=w?f:s(t),S=(A=A==d?h:A)==h,E=(b=b==d?h:b)==h,k=A==b;if(k&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(k&&!S)return y||(y=new r),v||l(e)?o(e,t,n,g,m,y):i(e,t,A,n,g,m,y);if(!(1&n)){var T=S&&p.call(e,\"__wrapped__\"),I=E&&p.call(t,\"__wrapped__\");if(T||I){var x=T?e.value():e,_=I?t.value():t;return y||(y=new r),m(x,_,n,g,y)}}return!!k&&(y||(y=new r),a(e,t,n,g,m,y))}},358:(e,t,n)=>{var r=n(6137),o=n(3283),i=n(3142),a=n(5853),s=n(9632),c=n(8666),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&c(e),h=n||l||d||f,p=h?r(e.length,String):[],g=p.length;for(var m in e)!t&&!u.call(e,m)||h&&(\"length\"==m||d&&(\"offset\"==m||\"parent\"==m)||f&&(\"buffer\"==m||\"byteLength\"==m||\"byteOffset\"==m)||s(m,g))||p.push(m);return p}},393:(e,t,n)=>{var r=n(8244),o=n(7979),i=n(1211);e.exports=function(e){return r(e,i,o)}},424:(e,t,n)=>{var r=n(8898),o=n(2480),i=n(8340),a=n(8069),s=n(2264);e.exports=function(e,t,n){var c=e.constructor;switch(t){case\"[object ArrayBuffer]\":return r(e);case\"[object Boolean]\":case\"[object Date]\":return new c(+e);case\"[object DataView]\":return o(e,n);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return s(e,n);case\"[object Map]\":case\"[object Set]\":return new c;case\"[object Number]\":case\"[object String]\":return new c(e);case\"[object RegExp]\":return i(e);case\"[object Symbol]\":return a(e)}}},441:(e,t,n)=>{var r=n(7379),o=n(547),i=n(8360);e.exports=function(e){if(!o(e))return!1;var t=r(e);return\"[object Error]\"==t||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!i(e)}},528:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},547:e=>{e.exports=function(e){return null!=e&&\"object\"==typeof e}},674:(e,t,n)=>{var r=n(7379),o=n(5387),i=n(547),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},714:(e,t,n)=>{var r=n(5650),o=n(3283),i=n(3142),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},777:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object Map]\"==r(e)}},796:(e,t,n)=>{var r=n(7403),o=n(3316)(r);e.exports=o},864:(e,t,n)=>{var r=n(8638),o=n(1439),i=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},961:(e,t,n)=>{var r=n(3476),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+\"\",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},1048:(e,t,n)=>{\"use strict\";const r=n(7991),o=n(9318),i=\"function\"==typeof Symbol&&\"function\"==typeof Symbol.for?Symbol.for(\"nodejs.util.inspect.custom\"):null;t.hp=c,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if(\"number\"==typeof e){if(\"string\"==typeof t)throw new TypeError('The \"string\" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if(\"string\"==typeof e)return function(e,t){\"string\"==typeof t&&\"\"!==t||(t=\"utf8\");if(!c.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);const n=0|g(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return h(e,t,n);if(\"undefined\"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return h(e,t,n);if(\"number\"==typeof e)throw new TypeError('The \"value\" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return\"number\"!=typeof e.length||J(e.length)?s(0):f(e);if(\"Buffer\"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(o)return o;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive](\"string\"),t,n);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e)}function l(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be of type number');if(e<0)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}function d(e){return l(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('\"length\" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=a)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+a.toString(16)+\" bytes\");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if(\"string\"!=typeof e)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":return K(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return G(e).length;default:if(o)return r?-1:K(e).length;t=(\"\"+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return R(this,t,n);case\"utf8\":case\"utf-8\":return I(this,t,n);case\"ascii\":return _(this,t,n);case\"latin1\":case\"binary\":return C(this,t,n);case\"base64\":return T(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return P(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if(\"string\"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if(\"number\"==typeof t)return t&=255,\"function\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError(\"val must be string, number or Buffer\")}function w(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function A(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(J(r))return a;e[n+a]=r}return a}function b(e,t,n,r){return H(K(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return H(G(t),e,n,r)}function k(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let n=\"\",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=x));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(c.prototype,\"parent\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,\"offset\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?\"string\"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Z(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('\"list\" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?\"\":0===arguments.length?I(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e=\"\";const n=t.IS;return e=this.toString(\"hex\",0,n).replace(/(.{2})/g,\"$1 \").trim(),this.length>n&&(e+=\" ... \"),\"<Buffer \"+e+\">\"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError(\"out of range index\");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==l[e]){i=u[e],a=l[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");let i=!1;for(;;)switch(r){case\"hex\":return A(this,e,t,n);case\"utf8\":case\"utf-8\":return b(this,e,t,n);case\"ascii\":case\"latin1\":case\"binary\":return S(this,e,t,n);case\"base64\":return E(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return k(this,e,t,n);default:if(i)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function _(e,t,n){let r=\"\";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){let r=\"\";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o=\"\";for(let r=t;r<n;++r)o+=Y[e[r]];return o}function P(e,t,n){const r=e.slice(t,n);let o=\"\";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function B(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function M(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function O(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function z(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function U(e,t,n,r,i){return t=+t,n>>>=0,i||z(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return t=+t,n>>>=0,i||z(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return M(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return O(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return M(this,e,t,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return O(this,e,t,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&\"function\"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if(\"string\"==typeof e){if(\"string\"==typeof t?(r=t,t=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!c.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r);if(1===e.length){const t=e.charCodeAt(0);(\"utf8\"===r&&t<128||\"latin1\"===r)&&(e=t)}}else\"number\"==typeof e?e&=255:\"boolean\"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const D={};function L(e,t,n){D[e]=class extends n{constructor(){super(),Object.defineProperty(this,\"message\",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,\"code\",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t=\"\",n=e.length;const r=\"-\"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,r,o,i){if(e>n||e<t){const r=\"bigint\"==typeof t?\"n\":\"\";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new D.ERR_OUT_OF_RANGE(\"value\",o,e)}!function(e,t,n){q(t,\"offset\"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function q(e,t){if(\"number\"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,\"number\",e)}function W(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new D.ERR_OUT_OF_RANGE(n||\"offset\",\"an integer\",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(n||\"offset\",`>= ${n?1:0} and <= ${t}`,e)}L(\"ERR_BUFFER_OUT_OF_BOUNDS\",(function(e){return e?`${e} is outside of buffer bounds`:\"Attempt to access memory outside buffer bounds\"}),RangeError),L(\"ERR_INVALID_ARG_TYPE\",(function(e,t){return`The \"${e}\" argument must be of type number. Received type ${typeof t}`}),TypeError),L(\"ERR_OUT_OF_RANGE\",(function(e,t,n){let r=`The value of \"${e}\" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=F(String(n)):\"bigint\"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=F(o)),o+=\"n\"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=(e=e.split(\"=\")[0]).trim().replace(V,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const Y=function(){const e=\"0123456789abcdef\",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return\"undefined\"==typeof BigInt?X:e}function X(){throw new Error(\"BigInt not supported\")}},1112:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1129:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},1182:(e,t,n)=>{var r=n(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:o.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<l;){var y=e[f=u[d]],v=t[f];if(i)var w=c?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(!(void 0===w?y===v||a(y,v,n,i,s):w)){g=!1;break}m||(m=\"constructor\"==f)}if(g&&!m){var A=e.constructor,b=t.constructor;A==b||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof A&&A instanceof A&&\"function\"==typeof b&&b instanceof b||(g=!1)}return s.delete(e),s.delete(t),g}},1187:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return\"symbol\"==typeof e||o(e)&&\"[object Symbol]\"==r(e)}},1211:(e,t,n)=>{var r=n(358),o=n(195),i=n(6529);e.exports=function(e){return i(e)?r(e):o(e)}},1340:(e,t,n)=>{var r=n(1386),o=n(4103),i=n(1779),a=n(4162),s=n(7462),c=n(6638);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},1386:(e,t,n)=>{var r=n(2393),o=n(2049),i=n(7144),a=n(7452),s=n(3964);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},1439:(e,t,n)=>{var r=n(5857),o=n(5234),i=n(796);e.exports=function(e){return i(o(e,void 0,r),e+\"\")}},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},1623:(e,t,n)=>{var r=n(8942).Uint8Array;e.exports=r},1779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1877:e=>{e.exports=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this}},1935:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object Set]\"==r(e)}},1942:(e,t,n)=>{var r=n(528),o=n(1439),i=n(5196),a=n(961),s=n(3142),c=n(6648);e.exports=function(e){return o((function(t){var n=t.length,o=n,u=r.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if(\"function\"!=typeof l)throw new TypeError(\"Expected a function\");if(u&&!d&&\"wrapper\"==a(l))var d=new r([],!0)}for(o=d?o:n;++o<n;){l=t[o];var f=a(l),h=\"wrapper\"==f?i(l):void 0;d=h&&c(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?d[a(h[0])].apply(d,h[3]):1==l.length&&c(l)?d[f]():d.thru(l)}return function(){var e=arguments,r=e[0];if(d&&1==e.length&&s(r))return d.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}},1950:(e,t,n)=>{var r=n(8942)[\"__core-js_shared__\"];e.exports=r},2049:(e,t,n)=>{var r=n(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},2053:e=>{e.exports=function(e){return e}},2264:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},2291:(e,t,n)=>{var r=n(5650),o=n(5111),i=n(3142),a=n(1187),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if(\"string\"==typeof t)return t;if(i(t))return o(t,e)+\"\";if(a(t))return c?c.call(t):\"\";var n=t+\"\";return\"0\"==n&&1/t==-Infinity?\"-0\":n}},2306:(e,t,n)=>{e=n.nmd(e);var r=n(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require(\"util\").types;return e||a&&a.binding&&a.binding(\"util\")}catch(e){}}();e.exports=s},2343:(e,t,n)=>{var r=n(4687),o=n(6123),i=n(7276),a=n(5187),s=n(7267),c=n(3904),u=n(6040);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2443:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(3504),a=n(4216),s=n(6850),c=n(8813),u=n(8942);e.exports=function(e,t,n){var l=o(e);return function o(){for(var d=arguments.length,f=Array(d),h=d,p=s(o);h--;)f[h]=arguments[h];var g=d<3&&f[0]!==p&&f[d-1]!==p?[]:c(f,p);return(d-=g.length)<n?a(e,t,i,o.placeholder,void 0,f,g,void 0,void 0,n-d):r(this&&this!==u&&this instanceof o?l:e,this,f)}}},2478:(e,t,n)=>{var r=n(7250),o=n(9454),i=n(7706);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},2480:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},2532:(e,t,n)=>{var r=n(4715),o=function(){try{var e=r(Object,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}();e.exports=o},2590:(e,t,n)=>{var r=n(9334),o=n(3334);e.exports=function(e){return o(\"function\"==typeof e?e:r(e,1))}},2613:(e,t,n)=>{var r=n(5111),o=n(4354),i=n(3142),a=n(1187),s=n(6493),c=n(6040),u=n(5243);e.exports=function(e){return i(e)?r(e,c):a(e)?[e]:o(s(u(e)))}},2619:e=>{e.exports=function(e){return function(){return e}}},2673:(e,t,n)=>{var r=n(3579),o=n(8055);e.exports=function(e,t,n){return r(o,e,t,n)}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2784:(e,t,n)=>{var r=n(1580),o=n(4495),i=n(6131),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,h,p=0,g=!1,m=!1,y=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");function v(t){var n=c,r=u;return c=u=void 0,p=t,d=e.apply(r,n)}function w(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function A(){var e=o();if(w(e))return b(e);f=setTimeout(A,function(e){var n=t-(e-h);return m?s(n,l-(e-p)):n}(e))}function b(e){return f=void 0,y&&c?v(e):(c=u=void 0,d)}function S(){var e=o(),n=w(e);if(c=arguments,u=this,h=e,n){if(void 0===f)return function(e){return p=e,f=setTimeout(A,t),g?v(e):d}(h);if(m)return clearTimeout(f),f=setTimeout(A,t),v(h)}return void 0===f&&(f=setTimeout(A,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(m=\"maxWait\"in n)?a(i(n.maxWait)||0,t):l,y=\"trailing\"in n?!!n.trailing:y),S.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=u=f=void 0},S.flush=function(){return void 0===f?d:b(o())},S}},2846:(e,t,n)=>{var r=n(9334);e.exports=function(e){return r(e,4)}},2879:(e,t,n)=>{var r=n(1942)();e.exports=r},2945:e=>{var t=/\\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2991:e=>{e.exports={}},3092:(e,t,n)=>{var r=n(2673)(\"flow\",n(2879));r.placeholder=n(2991),e.exports=r},3103:(e,t,n)=>{var r=n(4715)(n(8942),\"DataView\");e.exports=r},3142:e=>{var t=Array.isArray;e.exports=t},3212:(e,t,n)=>{var r=n(8250),o=n(1877),i=n(8006);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},3282:(e,t,n)=>{var r=n(2762),o=n(8880),i=n(5187),a=n(6040);e.exports=function(e){return i(e)?r(a(e)):o(e)}},3283:(e,t,n)=>{var r=n(6027),o=n(547),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,\"callee\")&&!s.call(e,\"callee\")};e.exports=c},3301:(e,t,n)=>{var r=n(6131),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},3305:(e,t,n)=>{var r=n(4497);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3316:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},3321:(e,t,n)=>{var r=n(7553),o=n(528),i=n(5962),a=n(3142),s=n(547),c=n(3410),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,\"__wrapped__\"))return c(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l},3334:(e,t,n)=>{var r=n(6526),o=n(2343),i=n(2053),a=n(3142),s=n(3282);e.exports=function(e){return\"function\"==typeof e?e:null==e?i:\"object\"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},3410:(e,t,n)=>{var r=n(7553),o=n(528),i=n(4354);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},3422:(e,t,n)=>{var r=n(7073),o=n(6285),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},3476:e=>{e.exports={}},3504:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(3816),a=n(4364),s=n(4216),c=n(6850),u=n(6591),l=n(8813),d=n(8942);e.exports=function e(t,n,f,h,p,g,m,y,v,w){var A=128&n,b=1&n,S=2&n,E=24&n,k=512&n,T=S?void 0:a(t);return function I(){for(var x=arguments.length,_=Array(x),C=x;C--;)_[C]=arguments[C];if(E)var R=c(I),P=i(_,R);if(h&&(_=r(_,h,p,E)),g&&(_=o(_,g,m,E)),x-=P,E&&x<w){var N=l(_,R);return s(t,n,e,I.placeholder,f,_,N,y,v,w-x)}var B=b?f:this,M=S?B[t]:t;return x=_.length,y?_=u(_,y):k&&x>1&&_.reverse(),A&&v<x&&(_.length=v),this&&this!==d&&this instanceof I&&(M=T||a(M)),M.apply(B,_)}}},3526:(e,t,n)=>{var r=n(3142),o=n(5187),i=n(6493),a=n(5243);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},3546:(e,t,n)=>{var r=n(9032),o=n(7979);e.exports=function(e,t){return r(e,o(e),t)}},3565:(e,t)=>{t.aliasToReal={each:\"forEach\",eachRight:\"forEachRight\",entries:\"toPairs\",entriesIn:\"toPairsIn\",extend:\"assignIn\",extendAll:\"assignInAll\",extendAllWith:\"assignInAllWith\",extendWith:\"assignInWith\",first:\"head\",conforms:\"conformsTo\",matches:\"isMatch\",property:\"get\",__:\"placeholder\",F:\"stubFalse\",T:\"stubTrue\",all:\"every\",allPass:\"overEvery\",always:\"constant\",any:\"some\",anyPass:\"overSome\",apply:\"spread\",assoc:\"set\",assocPath:\"set\",complement:\"negate\",compose:\"flowRight\",contains:\"includes\",dissoc:\"unset\",dissocPath:\"unset\",dropLast:\"dropRight\",dropLastWhile:\"dropRightWhile\",equals:\"isEqual\",identical:\"eq\",indexBy:\"keyBy\",init:\"initial\",invertObj:\"invert\",juxt:\"over\",omitAll:\"omit\",nAry:\"ary\",path:\"get\",pathEq:\"matchesProperty\",pathOr:\"getOr\",paths:\"at\",pickAll:\"pick\",pipe:\"flow\",pluck:\"map\",prop:\"get\",propEq:\"matchesProperty\",propOr:\"getOr\",props:\"at\",symmetricDifference:\"xor\",symmetricDifferenceBy:\"xorBy\",symmetricDifferenceWith:\"xorWith\",takeLast:\"takeRight\",takeLastWhile:\"takeRightWhile\",unapply:\"rest\",unnest:\"flatten\",useWith:\"overArgs\",where:\"conformsTo\",whereEq:\"isMatch\",zipObj:\"zipObject\"},t.aryMethod={1:[\"assignAll\",\"assignInAll\",\"attempt\",\"castArray\",\"ceil\",\"create\",\"curry\",\"curryRight\",\"defaultsAll\",\"defaultsDeepAll\",\"floor\",\"flow\",\"flowRight\",\"fromPairs\",\"invert\",\"iteratee\",\"memoize\",\"method\",\"mergeAll\",\"methodOf\",\"mixin\",\"nthArg\",\"over\",\"overEvery\",\"overSome\",\"rest\",\"reverse\",\"round\",\"runInContext\",\"spread\",\"template\",\"trim\",\"trimEnd\",\"trimStart\",\"uniqueId\",\"words\",\"zipAll\"],2:[\"add\",\"after\",\"ary\",\"assign\",\"assignAllWith\",\"assignIn\",\"assignInAllWith\",\"at\",\"before\",\"bind\",\"bindAll\",\"bindKey\",\"chunk\",\"cloneDeepWith\",\"cloneWith\",\"concat\",\"conformsTo\",\"countBy\",\"curryN\",\"curryRightN\",\"debounce\",\"defaults\",\"defaultsDeep\",\"defaultTo\",\"delay\",\"difference\",\"divide\",\"drop\",\"dropRight\",\"dropRightWhile\",\"dropWhile\",\"endsWith\",\"eq\",\"every\",\"filter\",\"find\",\"findIndex\",\"findKey\",\"findLast\",\"findLastIndex\",\"findLastKey\",\"flatMap\",\"flatMapDeep\",\"flattenDepth\",\"forEach\",\"forEachRight\",\"forIn\",\"forInRight\",\"forOwn\",\"forOwnRight\",\"get\",\"groupBy\",\"gt\",\"gte\",\"has\",\"hasIn\",\"includes\",\"indexOf\",\"intersection\",\"invertBy\",\"invoke\",\"invokeMap\",\"isEqual\",\"isMatch\",\"join\",\"keyBy\",\"lastIndexOf\",\"lt\",\"lte\",\"map\",\"mapKeys\",\"mapValues\",\"matchesProperty\",\"maxBy\",\"meanBy\",\"merge\",\"mergeAllWith\",\"minBy\",\"multiply\",\"nth\",\"omit\",\"omitBy\",\"overArgs\",\"pad\",\"padEnd\",\"padStart\",\"parseInt\",\"partial\",\"partialRight\",\"partition\",\"pick\",\"pickBy\",\"propertyOf\",\"pull\",\"pullAll\",\"pullAt\",\"random\",\"range\",\"rangeRight\",\"rearg\",\"reject\",\"remove\",\"repeat\",\"restFrom\",\"result\",\"sampleSize\",\"some\",\"sortBy\",\"sortedIndex\",\"sortedIndexOf\",\"sortedLastIndex\",\"sortedLastIndexOf\",\"sortedUniqBy\",\"split\",\"spreadFrom\",\"startsWith\",\"subtract\",\"sumBy\",\"take\",\"takeRight\",\"takeRightWhile\",\"takeWhile\",\"tap\",\"throttle\",\"thru\",\"times\",\"trimChars\",\"trimCharsEnd\",\"trimCharsStart\",\"truncate\",\"union\",\"uniqBy\",\"uniqWith\",\"unset\",\"unzipWith\",\"without\",\"wrap\",\"xor\",\"zip\",\"zipObject\",\"zipObjectDeep\"],3:[\"assignInWith\",\"assignWith\",\"clamp\",\"differenceBy\",\"differenceWith\",\"findFrom\",\"findIndexFrom\",\"findLastFrom\",\"findLastIndexFrom\",\"getOr\",\"includesFrom\",\"indexOfFrom\",\"inRange\",\"intersectionBy\",\"intersectionWith\",\"invokeArgs\",\"invokeArgsMap\",\"isEqualWith\",\"isMatchWith\",\"flatMapDepth\",\"lastIndexOfFrom\",\"mergeWith\",\"orderBy\",\"padChars\",\"padCharsEnd\",\"padCharsStart\",\"pullAllBy\",\"pullAllWith\",\"rangeStep\",\"rangeStepRight\",\"reduce\",\"reduceRight\",\"replace\",\"set\",\"slice\",\"sortedIndexBy\",\"sortedLastIndexBy\",\"transform\",\"unionBy\",\"unionWith\",\"update\",\"xorBy\",\"xorWith\",\"zipWith\"],4:[\"fill\",\"setWith\",\"updateWith\"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:\"assign\",assignAllWith:\"assignWith\",assignInAll:\"assignIn\",assignInAllWith:\"assignInWith\",curryN:\"curry\",curryRightN:\"curryRight\",defaultsAll:\"defaults\",defaultsDeepAll:\"defaultsDeep\",findFrom:\"find\",findIndexFrom:\"findIndex\",findLastFrom:\"findLast\",findLastIndexFrom:\"findLastIndex\",getOr:\"get\",includesFrom:\"includes\",indexOfFrom:\"indexOf\",invokeArgs:\"invoke\",invokeArgsMap:\"invokeMap\",lastIndexOfFrom:\"lastIndexOf\",mergeAll:\"merge\",mergeAllWith:\"mergeWith\",padChars:\"pad\",padCharsEnd:\"padEnd\",padCharsStart:\"padStart\",propertyOf:\"get\",rangeStep:\"range\",rangeStepRight:\"rangeRight\",restFrom:\"rest\",spreadFrom:\"spread\",trimChars:\"trim\",trimCharsEnd:\"trimEnd\",trimCharsStart:\"trimStart\",zipAll:\"zip\"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},3579:(e,t,n)=>{var r=n(3565),o=n(2991),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,l){var d=\"function\"==typeof n,f=n===Object(n);if(f&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var h={cap:!(\"cap\"in l)||l.cap,curry:!(\"curry\"in l)||l.curry,fixed:!(\"fixed\"in l)||l.fixed,immutable:!(\"immutable\"in l)||l.immutable,rearg:!(\"rearg\"in l)||l.rearg},p=d?u:o,g=\"curry\"in l&&l.curry,m=\"fixed\"in l&&l.fixed,y=\"rearg\"in l&&l.rearg,v=d?u.runInContext():void 0,w=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},A=w.ary,b=w.assign,S=w.clone,E=w.curry,k=w.forEach,T=w.isArray,I=w.isError,x=w.isFunction,_=w.isWeakMap,C=w.keys,R=w.rearg,P=w.toInteger,N=w.toPath,B=C(r.aryMethod),M={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return h.cap&&\"number\"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!x(n))return e(n,Object(t));var r=[];return k(C(t),(function(e){x(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),k(r,(function(e){var t=e[1];x(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:P(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return E(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function O(e,t){if(h.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return L(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(R(a(e,n),t),n)}))}(t,n);var o=!d&&r.iterateeAry[e];if(o)return function(e,t){return L(e,(function(e){return\"function\"==typeof e?a(e,t):e}))}(t,o)}return t}function z(e,t,n){if(h.fixed&&(m||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?A(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function U(e,t,n){return h.rearg&&n>1&&(y||!r.skipRearg[e])?R(t,r.methodRearg[e]||r.aryRearg[n]):t}function j(e,t){for(var n=-1,r=(t=N(t)).length,o=r-1,i=S(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],c=a[s];null==c||x(c)||I(c)||_(c)||(a[s]=S(n==o?c:Object(c))),a=a[s]}return i}function D(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=l;return function(t){var r=d?v:w,s=d?v[i]:n,c=b(b({},a),t);return e(r,o,s,c)}}function L(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=h.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function F(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,u=M[i];return u?a=u(t):h.immutable&&(r.mutate.array[i]?a=c(t,s):r.mutate.object[i]?a=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=c(t,j))),k(B,(function(e){return k(r.aryMethod[e],(function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?z(i,U(i,a,e),e):U(i,z(i,a,e),e),o=function(e,t,n){return g||h.curry&&n>1?E(t,n):t}(0,o=O(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=g?E(o,1):function(){return t.apply(this,arguments)}),o.convert=D(i,t),o.placeholder=t.placeholder=n,o}if(!f)return F(n,u,p);var $=u,q=[];return k(B,(function(e){k(r.aryMethod[e],(function(e){var t=$[r.remap[e]||e];t&&q.push([e,F(e,t,$)])}))})),k(C($),(function(e){var t=$[e];if(\"function\"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=D(e,t),q.push([e,t])}})),k(q,(function(e){$[e[0]]=e[1]})),$.convert=function(e){return $.runInContext.convert(e)(void 0)},$.placeholder=$,k(C($),(function(e){k(r.realToAlias[e]||[],(function(t){$[t]=$[e]}))})),$}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},3650:(e,t,n)=>{var r=n(8244),o=n(5832),i=n(5288);e.exports=function(e){return r(e,i,o)}},3655:(e,t,n)=>{var r=n(7379),o=n(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}},3766:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3804:(e,t,n)=>{e.exports=n(3092)},3816:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},3904:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},3934:(e,t,n)=>{var r=n(3212),o=n(6465),i=n(5568);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var y=e[p],v=t[p];if(a)var w=u?a(v,y,p,t,e,c):a(y,v,p,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||s(y,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},3943:(e,t,n)=>{var r=n(1935),o=n(9460),i=n(2306),a=i&&i.isSet,s=a?o(a):r;e.exports=s},3964:(e,t,n)=>{var r=n(7034);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},4103:(e,t,n)=>{var r=n(1386);e.exports=function(){this.__data__=new r,this.size=0}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},4216:(e,t,n)=>{var r=n(6648),o=n(5512),i=n(5620);e.exports=function(e,t,n,a,s,c,u,l,d,f){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var p=[e,t,s,h?c:void 0,h?u:void 0,h?void 0:c,h?void 0:u,l,d,f],g=n.apply(void 0,p);return r(e)&&o(g,p),g.placeholder=a,i(g,e,t)}},4255:(e,t,n)=>{var r=n(2673)(\"debounce\",n(2784));r.placeholder=n(2991),e.exports=r},4354:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4364:(e,t,n)=>{var r=n(9747),o=n(1580);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},4367:(e,t,n)=>{var r=n(7267),o=n(1211);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},4495:(e,t,n)=>{var r=n(8942);e.exports=function(){return r.Date.now()}},4497:(e,t,n)=>{var r=n(4715)(Object,\"create\");e.exports=r},4512:(e,t,n)=>{var r=n(4715)(n(8942),\"Set\");e.exports=r},4687:(e,t,n)=>{var r=n(353),o=n(547);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},4700:(e,t,n)=>{var r=n(9067);e.exports=function(e,t){var n=e.__data__;return r(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}},4715:(e,t,n)=>{var r=n(9624),o=n(155);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},4732:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).has(e)}},4733:(e,t,n)=>{var r=n(9032),o=n(5832);e.exports=function(e,t){return r(e,o(e),t)}},4759:(e,t,n)=>{var r,o=n(1950),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+r:\"\";e.exports=function(e){return!!i&&i in e}},4772:e=>{e.exports=function(){return!1}},4784:(e,t,n)=>{var r=n(3766)(Object.getPrototypeOf,Object);e.exports=r},4882:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===(\"function\"==typeof n&&n.prototype||t)}},4943:(e,t,n)=>{var r=n(2053),o=n(6065),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},4967:(e,t,n)=>{var r=\"object\"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4977:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=r.length,c=-1,u=n.length,l=t(a-s,0),d=Array(u+l),f=!o;++c<u;)d[c]=n[c];for(;++i<s;)(f||i<a)&&(d[r[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}},5071:(e,t,n)=>{var r=n(4497);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?\"__lodash_hash_undefined__\":t,this}},5098:(e,t,n)=>{var r=n(3305),o=n(9361),i=n(1112),a=n(5276),s=n(5071);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},5111:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},5187:(e,t,n)=>{var r=n(3142),o=n(1187),i=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},5196:(e,t,n)=>{var r=n(6065),o=n(9071),i=r?function(e){return r.get(e)}:o;e.exports=i},5234:(e,t,n)=>{var r=n(6912),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},5243:(e,t,n)=>{var r=n(2291);e.exports=function(e){return null==e?\"\":r(e)}},5250:function(e,t,n){var r;e=n.nmd(e),function(){var o,i=\"Expected a function\",a=\"__lodash_hash_undefined__\",s=\"__lodash_placeholder__\",c=16,u=32,l=64,d=128,f=256,h=1/0,p=9007199254740991,g=NaN,m=4294967295,y=[[\"ary\",d],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",c],[\"flip\",512],[\"partial\",u],[\"partialRight\",l],[\"rearg\",f]],v=\"[object Arguments]\",w=\"[object Array]\",A=\"[object Boolean]\",b=\"[object Date]\",S=\"[object Error]\",E=\"[object Function]\",k=\"[object GeneratorFunction]\",T=\"[object Map]\",I=\"[object Number]\",x=\"[object Object]\",_=\"[object Promise]\",C=\"[object RegExp]\",R=\"[object Set]\",P=\"[object String]\",N=\"[object Symbol]\",B=\"[object WeakMap]\",M=\"[object ArrayBuffer]\",O=\"[object DataView]\",z=\"[object Float32Array]\",U=\"[object Float64Array]\",j=\"[object Int8Array]\",D=\"[object Int16Array]\",L=\"[object Int32Array]\",F=\"[object Uint8Array]\",$=\"[object Uint8ClampedArray]\",q=\"[object Uint16Array]\",W=\"[object Uint32Array]\",V=/\\b__p \\+= '';/g,K=/\\b(__p \\+=) '' \\+/g,G=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>\"']/g,J=RegExp(H.source),Y=RegExp(Z.source),Q=/<%-([\\s\\S]+?)%>/g,X=/<%([\\s\\S]+?)%>/g,ee=/<%=([\\s\\S]+?)%>/g,te=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,ne=/^\\w*$/,re=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,oe=/[\\\\^$.*+?()[\\]{}|]/g,ie=RegExp(oe.source),ae=/^\\s+/,se=/\\s/,ce=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,ue=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,le=/,? & /,de=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,fe=/[()=,{}\\[\\]\\/\\s]/,he=/\\\\(\\\\)?/g,pe=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,ge=/\\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\\[object .+?Constructor\\]$/,we=/^0o[0-7]+$/i,Ae=/^(?:0|[1-9]\\d*)$/,be=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Se=/($^)/,Ee=/['\\n\\r\\u2028\\u2029\\\\]/g,ke=\"\\\\ud800-\\\\udfff\",Te=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",Ie=\"\\\\u2700-\\\\u27bf\",xe=\"a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff\",_e=\"A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde\",Ce=\"\\\\ufe0e\\\\ufe0f\",Re=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",Pe=\"[']\",Ne=\"[\"+ke+\"]\",Be=\"[\"+Re+\"]\",Me=\"[\"+Te+\"]\",Oe=\"\\\\d+\",ze=\"[\"+Ie+\"]\",Ue=\"[\"+xe+\"]\",je=\"[^\"+ke+Re+Oe+Ie+xe+_e+\"]\",De=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",Le=\"[^\"+ke+\"]\",Fe=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",$e=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",qe=\"[\"+_e+\"]\",We=\"\\\\u200d\",Ve=\"(?:\"+Ue+\"|\"+je+\")\",Ke=\"(?:\"+qe+\"|\"+je+\")\",Ge=\"(?:['](?:d|ll|m|re|s|t|ve))?\",He=\"(?:['](?:D|LL|M|RE|S|T|VE))?\",Ze=\"(?:\"+Me+\"|\"+De+\")\"+\"?\",Je=\"[\"+Ce+\"]?\",Ye=Je+Ze+(\"(?:\"+We+\"(?:\"+[Le,Fe,$e].join(\"|\")+\")\"+Je+Ze+\")*\"),Qe=\"(?:\"+[ze,Fe,$e].join(\"|\")+\")\"+Ye,Xe=\"(?:\"+[Le+Me+\"?\",Me,Fe,$e,Ne].join(\"|\")+\")\",et=RegExp(Pe,\"g\"),tt=RegExp(Me,\"g\"),nt=RegExp(De+\"(?=\"+De+\")|\"+Xe+Ye,\"g\"),rt=RegExp([qe+\"?\"+Ue+\"+\"+Ge+\"(?=\"+[Be,qe,\"$\"].join(\"|\")+\")\",Ke+\"+\"+He+\"(?=\"+[Be,qe+Ve,\"$\"].join(\"|\")+\")\",qe+\"?\"+Ve+\"+\"+Ge,qe+\"+\"+He,\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",Oe,Qe].join(\"|\"),\"g\"),ot=RegExp(\"[\"+We+ke+Te+Ce+\"]\"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],st=-1,ct={};ct[z]=ct[U]=ct[j]=ct[D]=ct[L]=ct[F]=ct[$]=ct[q]=ct[W]=!0,ct[v]=ct[w]=ct[M]=ct[A]=ct[O]=ct[b]=ct[S]=ct[E]=ct[T]=ct[I]=ct[x]=ct[C]=ct[R]=ct[P]=ct[B]=!1;var ut={};ut[v]=ut[w]=ut[M]=ut[O]=ut[A]=ut[b]=ut[z]=ut[U]=ut[j]=ut[D]=ut[L]=ut[T]=ut[I]=ut[x]=ut[C]=ut[R]=ut[P]=ut[N]=ut[F]=ut[$]=ut[q]=ut[W]=!0,ut[S]=ut[E]=ut[B]=!1;var lt={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},dt=parseFloat,ft=parseInt,ht=\"object\"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt=\"object\"==typeof self&&self&&self.Object===Object&&self,gt=ht||pt||Function(\"return this\")(),mt=t&&!t.nodeType&&t,yt=mt&&e&&!e.nodeType&&e,vt=yt&&yt.exports===mt,wt=vt&&ht.process,At=function(){try{var e=yt&&yt.require&&yt.require(\"util\").types;return e||wt&&wt.binding&&wt.binding(\"util\")}catch(e){}}(),bt=At&&At.isArrayBuffer,St=At&&At.isDate,Et=At&&At.isMap,kt=At&&At.isRegExp,Tt=At&&At.isSet,It=At&&At.isTypedArray;function xt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _t(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Bt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function zt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Ut(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function jt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Gt(\"length\");function Ft(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function $t(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):$t(e,Vt,n)}function Wt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Vt(e){return e!=e}function Kt(e,t){var n=null==e?0:e.length;return n?Jt(e,t)/n:g}function Gt(e){return function(t){return null==t?o:t[e]}}function Ht(e){return function(t){return null==e?o:e[t]}}function Zt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Jt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,mn(e)+1).replace(ae,\"\"):e}function Xt(e){return function(t){return e(t)}}function en(e,t){return Ot(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Ht({:\"A\",:\"A\",:\"A\",:\"A\",:\"A\",:\"A\",:\"a\",:\"a\",:\"a\",:\"a\",:\"a\",:\"a\",:\"C\",:\"c\",:\"D\",:\"d\",:\"E\",:\"E\",:\"E\",:\"E\",:\"e\",:\"e\",:\"e\",:\"e\",:\"I\",:\"I\",:\"I\",:\"I\",:\"i\",:\"i\",:\"i\",:\"i\",:\"N\",:\"n\",:\"O\",:\"O\",:\"O\",:\"O\",:\"O\",:\"O\",:\"o\",:\"o\",:\"o\",:\"o\",:\"o\",:\"o\",:\"U\",:\"U\",:\"U\",:\"U\",:\"u\",:\"u\",:\"u\",:\"u\",:\"Y\",:\"y\",:\"y\",:\"Ae\",:\"ae\",:\"Th\",:\"th\",:\"ss\",:\"A\",:\"A\",:\"A\",:\"a\",:\"a\",:\"a\",:\"C\",:\"C\",:\"C\",:\"C\",:\"c\",:\"c\",:\"c\",:\"c\",:\"D\",:\"D\",:\"d\",:\"d\",:\"E\",:\"E\",:\"E\",:\"E\",:\"E\",:\"e\",:\"e\",:\"e\",:\"e\",:\"e\",:\"G\",:\"G\",:\"G\",:\"G\",:\"g\",:\"g\",:\"g\",:\"g\",:\"H\",:\"H\",:\"h\",:\"h\",:\"I\",:\"I\",:\"I\",:\"I\",:\"I\",:\"i\",:\"i\",:\"i\",:\"i\",:\"i\",:\"J\",:\"j\",:\"K\",:\"k\",:\"k\",:\"L\",:\"L\",:\"L\",:\"L\",:\"L\",:\"l\",:\"l\",:\"l\",:\"l\",:\"l\",:\"N\",:\"N\",:\"N\",:\"N\",:\"n\",:\"n\",:\"n\",:\"n\",:\"O\",:\"O\",:\"O\",:\"o\",:\"o\",:\"o\",:\"R\",:\"R\",:\"R\",:\"r\",:\"r\",:\"r\",:\"S\",:\"S\",:\"S\",:\"S\",:\"s\",:\"s\",:\"s\",:\"s\",:\"T\",:\"T\",:\"T\",:\"t\",:\"t\",:\"t\",:\"U\",:\"U\",:\"U\",:\"U\",:\"U\",:\"U\",:\"u\",:\"u\",:\"u\",:\"u\",:\"u\",:\"u\",:\"W\",:\"w\",:\"Y\",:\"y\",:\"Y\",:\"Z\",:\"Z\",:\"Z\",:\"z\",:\"z\",:\"z\",:\"IJ\",:\"ij\",:\"Oe\",:\"oe\",:\"'n\",:\"s\"}),an=Ht({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"});function sn(e){return\"\\\\\"+lt[e]}function cn(e){return ot.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return cn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Lt(e)}function gn(e){return cn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split(\"\")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var yn=Ht({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"});var vn=function e(t){var n,r=(t=null==t?gt:vn.defaults(gt.Object(),t,vn.pick(gt,at))).Array,se=t.Date,ke=t.Error,Te=t.Function,Ie=t.Math,xe=t.Object,_e=t.RegExp,Ce=t.String,Re=t.TypeError,Pe=r.prototype,Ne=Te.prototype,Be=xe.prototype,Me=t[\"__core-js_shared__\"],Oe=Ne.toString,ze=Be.hasOwnProperty,Ue=0,je=(n=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+n:\"\",De=Be.toString,Le=Oe.call(xe),Fe=gt._,$e=_e(\"^\"+Oe.call(ze).replace(oe,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),qe=vt?t.Buffer:o,We=t.Symbol,Ve=t.Uint8Array,Ke=qe?qe.allocUnsafe:o,Ge=ln(xe.getPrototypeOf,xe),He=xe.create,Ze=Be.propertyIsEnumerable,Je=Pe.splice,Ye=We?We.isConcatSpreadable:o,Qe=We?We.iterator:o,Xe=We?We.toStringTag:o,nt=function(){try{var e=hi(xe,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}(),ot=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,lt=se&&se.now!==gt.Date.now&&se.now,ht=t.setTimeout!==gt.setTimeout&&t.setTimeout,pt=Ie.ceil,mt=Ie.floor,yt=xe.getOwnPropertySymbols,wt=qe?qe.isBuffer:o,At=t.isFinite,Lt=Pe.join,Ht=ln(xe.keys,xe),wn=Ie.max,An=Ie.min,bn=se.now,Sn=t.parseInt,En=Ie.random,kn=Pe.reverse,Tn=hi(t,\"DataView\"),In=hi(t,\"Map\"),xn=hi(t,\"Promise\"),_n=hi(t,\"Set\"),Cn=hi(t,\"WeakMap\"),Rn=hi(xe,\"create\"),Pn=Cn&&new Cn,Nn={},Bn=Di(Tn),Mn=Di(In),On=Di(xn),zn=Di(_n),Un=Di(Cn),jn=We?We.prototype:o,Dn=jn?jn.valueOf:o,Ln=jn?jn.toString:o;function Fn(e){if(ns(e)&&!Va(e)&&!(e instanceof Vn)){if(e instanceof Wn)return e;if(ze.call(e,\"__wrapped__\"))return Li(e)}return new Wn(e)}var $n=function(){function e(){}return function(t){if(!ts(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Yn(e,t){var n=Va(e),r=!n&&Wa(e),o=!n&&!r&&Za(e),i=!n&&!r&&!o&&ls(e),a=n||r||o||i,s=a?Yt(e.length,Ce):[],c=s.length;for(var u in e)!t&&!ze.call(e,u)||a&&(\"length\"==u||o&&(\"offset\"==u||\"parent\"==u)||i&&(\"buffer\"==u||\"byteLength\"==u||\"byteOffset\"==u)||Ai(u,c))||s.push(u);return s}function Qn(e){var t=e.length;return t?e[Zr(0,t-1)]:o}function Xn(e,t){return zi(Po(e),cr(t,0,e.length))}function er(e){return zi(Po(e))}function tr(e,t,n){(n!==o&&!Fa(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];ze.call(e,t)&&Fa(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Fa(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&No(t,Ns(t),e)}function ar(e,t,n){\"__proto__\"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:xs(e,t[n]);return a}function cr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var s,c=1&t,u=2&t,l=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!ts(e))return e;var d=Va(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&\"string\"==typeof e[0]&&ze.call(e,\"index\")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Po(e,s)}else{var f=mi(e),h=f==E||f==k;if(Za(e))return To(e,c);if(f==x||f==v||h&&!i){if(s=u||h?{}:vi(e),!c)return u?function(e,t){return No(e,gi(e),t)}(e,function(e,t){return e&&No(t,Bs(t),e)}(s,e)):function(e,t){return No(e,pi(e),t)}(e,ir(s,e))}else{if(!ut[f])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case M:return Io(e);case A:case b:return new r(+e);case O:return function(e,t){var n=t?Io(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case z:case U:case j:case D:case L:case F:case $:case q:case W:return xo(e,n);case T:return new r;case I:case P:return new r(e);case C:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case N:return o=e,Dn?xe(Dn.call(o)):{}}var o}(e,f,c)}}a||(a=new Jn);var p=a.get(e);if(p)return p;a.set(e,s),ss(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,o){s.set(o,ur(r,t,n,o,e,a))}));var g=d?o:(l?u?ai:ii:u?Bs:Ns)(e);return Ct(g||e,(function(r,o){g&&(r=e[o=r]),nr(s,o,ur(r,t,n,o,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=xe(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function dr(e,t,n){if(\"function\"!=typeof e)throw new Re(i);return Ni((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var o=-1,i=Bt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=Ot(t,Xt(n))),r?(i=Mt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Zn(t));e:for(;++o<s;){var l=e[o],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;c.push(l)}else i(t,d,r)||c.push(l)}return c}Fn.templateSettings={escape:Q,evaluate:X,interpolate:ee,variable:\"\",imports:{_:Fn}},Fn.prototype=qn.prototype,Fn.prototype.constructor=Fn,Wn.prototype=$n(qn.prototype),Wn.prototype.constructor=Wn,Vn.prototype=$n(qn.prototype),Vn.prototype.constructor=Vn,Kn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===a?o:n}return ze.call(t,e)?t[e]:o},Kn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==o:ze.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===o?a:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(In||Gn),string:new Kn}},Hn.prototype.delete=function(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return di(this,e).get(e)},Hn.prototype.has=function(e){return di(this,e).has(e)},Hn.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,a),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!In||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var hr=Oo(br),pr=Oo(Sr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(c===o?s==s&&!us(s):n(s,c)))var c=s,u=a}return u}function yr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function vr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=wi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?vr(s,t-1,n,r,o):zt(o,s):r||(o[o.length]=s)}return o}var wr=zo(),Ar=zo(!0);function br(e,t){return e&&wr(e,t,Ns)}function Sr(e,t){return e&&Ar(e,t,Ns)}function Er(e,t){return Nt(t,(function(t){return Qa(e[t])}))}function kr(e,t){for(var n=0,r=(t=bo(t,e)).length;null!=e&&n<r;)e=e[ji(t[n++])];return n&&n==r?e:o}function Tr(e,t,n){var r=t(e);return Va(e)?r:zt(r,n(e))}function Ir(e){return null==e?e===o?\"[object Undefined]\":\"[object Null]\":Xe&&Xe in xe(e)?function(e){var t=ze.call(e,Xe),n=e[Xe];try{e[Xe]=o;var r=!0}catch(e){}var i=De.call(e);r&&(t?e[Xe]=n:delete e[Xe]);return i}(e):function(e){return De.call(e)}(e)}function xr(e,t){return e>t}function _r(e,t){return null!=e&&ze.call(e,t)}function Cr(e,t){return null!=e&&t in xe(e)}function Rr(e,t,n){for(var i=n?Mt:Bt,a=e[0].length,s=e.length,c=s,u=r(s),l=1/0,d=[];c--;){var f=e[c];c&&t&&(f=Ot(f,Xt(t))),l=An(f.length,l),u[c]=!n&&(t||a>=120&&f.length>=120)?new Zn(c&&f):o}f=e[0];var h=-1,p=u[0];e:for(;++h<a&&d.length<l;){var g=f[h],m=t?t(g):g;if(g=n||0!==g?g:0,!(p?tn(p,m):i(d,m,n))){for(c=s;--c;){var y=u[c];if(!(y?tn(y,m):i(e[c],m,n)))continue e}p&&p.push(m),d.push(g)}}return d}function Pr(e,t,n){var r=null==(e=Ci(e,t=bo(t,e)))?e:e[ji(Yi(t))];return null==r?o:xt(r,e,n)}function Nr(e){return ns(e)&&Ir(e)==v}function Br(e,t,n,r,i){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Va(e),c=Va(t),u=s?w:mi(e),l=c?w:mi(t),d=(u=u==v?x:u)==x,f=(l=l==v?x:l)==x,h=u==l;if(h&&Za(e)){if(!Za(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Jn),s||ls(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case A:case b:case I:return Fa(+e,+t);case S:return e.name==t.name&&e.message==t.message;case C:case P:return e==t+\"\";case T:var s=un;case R:var c=1&r;if(s||(s=fn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=ri(s(e),s(t),r,o,i,a);return a.delete(e),l;case N:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var p=d&&ze.call(e,\"__wrapped__\"),g=f&&ze.call(t,\"__wrapped__\");if(p||g){var m=p?e.value():e,y=g?t.value():t;return a||(a=new Jn),i(m,y,n,r,a)}}if(!h)return!1;return a||(a=new Jn),function(e,t,n,r,i,a){var s=1&n,c=ii(e),u=c.length,l=ii(t),d=l.length;if(u!=d&&!s)return!1;var f=u;for(;f--;){var h=c[f];if(!(s?h in t:ze.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var y=s;for(;++f<u;){var v=e[h=c[f]],w=t[h];if(r)var A=s?r(w,v,h,t,e,a):r(v,w,h,e,t,a);if(!(A===o?v===w||i(v,w,n,r,a):A)){m=!1;break}y||(y=\"constructor\"==h)}if(m&&!y){var b=e.constructor,S=t.constructor;b==S||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof b&&b instanceof b&&\"function\"==typeof S&&S instanceof S||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,i,a)}(e,t,n,r,Br,i))}function Mr(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=xe(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var u=(c=n[i])[0],l=e[u],d=c[1];if(s&&c[2]){if(l===o&&!(u in e))return!1}else{var f=new Jn;if(r)var h=r(l,d,u,e,t,f);if(!(h===o?Br(d,l,3,r,f):h))return!1}}return!0}function Or(e){return!(!ts(e)||(t=e,je&&je in t))&&(Qa(e)?$e:ve).test(Di(e));var t}function zr(e){return\"function\"==typeof e?e:null==e?oc:\"object\"==typeof e?Va(e)?$r(e[0],e[1]):Fr(e):hc(e)}function Ur(e){if(!Ti(e))return Ht(e);var t=[];for(var n in xe(e))ze.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}function jr(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in xe(e))t.push(n);return t}(e);var t=Ti(e),n=[];for(var r in e)(\"constructor\"!=r||!t&&ze.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function Lr(e,t){var n=-1,o=Ga(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Fr(e){var t=fi(e);return 1==t.length&&t[0][2]?xi(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function $r(e,t){return Si(e)&&Ii(t)?xi(ji(e),t):function(n){var r=xs(n,e);return r===o&&r===t?_s(n,e):Br(t,r,3)}}function qr(e,t,n,r,i){e!==t&&wr(t,(function(a,s){if(i||(i=new Jn),ts(a))!function(e,t,n,r,i,a,s){var c=Ri(e,n),u=Ri(t,n),l=s.get(u);if(l)return void tr(e,n,l);var d=a?a(c,u,n+\"\",e,t,s):o,f=d===o;if(f){var h=Va(u),p=!h&&Za(u),g=!h&&!p&&ls(u);d=u,h||p||g?Va(c)?d=c:Ha(c)?d=Po(c):p?(f=!1,d=To(u,!0)):g?(f=!1,d=xo(u,!0)):d=[]:is(u)||Wa(u)?(d=c,Wa(c)?d=vs(c):ts(c)&&!Qa(c)||(d=vi(u))):f=!1}f&&(s.set(u,d),i(d,u,r,a,s),s.delete(u));tr(e,n,d)}(e,t,s,n,qr,r,i);else{var c=r?r(Ri(e,s),a,s+\"\",e,t,i):o;c===o&&(c=a),tr(e,s,c)}}),Bs)}function Wr(e,t){var n=e.length;if(n)return Ai(t+=t<0?n:0,n)?e[t]:o}function Vr(e,t,n){t=t.length?Ot(t,(function(e){return Va(e)?function(t){return kr(t,1===e.length?e[0]:e)}:e})):[oc];var r=-1;t=Ot(t,Xt(li()));var o=Lr(e,(function(e,n,o){var i=Ot(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var c=_o(o[r],i[r]);if(c)return r>=s?c:c*(\"desc\"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=kr(e,a);n(s,a)&&eo(i,bo(a,e),s)}return i}function Gr(e,t,n,r){var o=r?Wt:qt,i=-1,a=t.length,s=e;for(e===t&&(t=Po(t)),n&&(s=Ot(e,Xt(n)));++i<a;)for(var c=0,u=t[i],l=n?n(u):u;(c=o(s,l,c,r))>-1;)s!==e&&Je.call(s,c,1),Je.call(e,c,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ai(o)?Je.call(e,o,1):ho(e,o)}}return e}function Zr(e,t){return e+mt(En()*(t-e+1))}function Jr(e,t){var n=\"\";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Bi(_i(e,t,oc),e+\"\")}function Qr(e){return Qn(Fs(e))}function Xr(e,t){var n=Fs(e);return zi(n,cr(t,0,n.length))}function eo(e,t,n,r){if(!ts(e))return e;for(var i=-1,a=(t=bo(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var u=ji(t[i]),l=n;if(\"__proto__\"===u||\"constructor\"===u||\"prototype\"===u)return e;if(i!=s){var d=c[u];(l=r?r(d,u,c):o)===o&&(l=ts(d)?d:Ai(t[i+1])?[]:{})}nr(c,u,l),c=c[u]}return e}var to=Pn?function(e,t){return Pn.set(e,t),e}:oc,no=nt?function(e,t){return nt(e,\"toString\",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:oc;function ro(e){return zi(Fs(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if(\"number\"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!us(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,oc,n)}function so(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,u=us(t),l=t===o;i<a;){var d=mt((i+a)/2),f=n(e[d]),h=f!==o,p=null===f,g=f==f,m=us(f);if(s)var y=r||g;else y=l?g&&(r||h):c?g&&h&&(r||!p):u?g&&h&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);y?i=d+1:a=d}return An(a,4294967294)}function co(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Fa(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function uo(e){return\"number\"==typeof e?e:us(e)?g:+e}function lo(e){if(\"string\"==typeof e)return e;if(Va(e))return Ot(e,lo)+\"\";if(us(e))return Ln?Ln.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function fo(e,t,n){var r=-1,o=Bt,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=Mt;else if(i>=200){var u=t?null:Yo(e);if(u)return fn(u);a=!1,o=tn,c=new Zn}else c=t?[]:s;e:for(;++r<i;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(l)}else o(c,d,n)||(c!==s&&c.push(d),s.push(l))}return s}function ho(e,t){return null==(e=Ci(e,t=bo(t,e)))||delete e[ji(Yi(t))]}function po(e,t,n,r){return eo(e,t,n(kr(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function mo(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Ut(t,(function(e,t){return t.func.apply(t.thisArg,zt([e],t.args))}),n)}function yo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],c=-1;++c<o;)c!=i&&(a[i]=fr(a[i]||s,e[c],t,n));return fo(vr(a,1),t,n)}function vo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function wo(e){return Ha(e)?e:[]}function Ao(e){return\"function\"==typeof e?e:oc}function bo(e,t){return Va(e)?e:Si(e,t)?[e]:Ui(ws(e))}var So=Yr;function Eo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var ko=ot||function(e){return gt.clearTimeout(e)};function To(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function Io(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function xo(e,t){var n=t?Io(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _o(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=us(e),s=t!==o,c=null===t,u=t==t,l=us(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function Co(e,t,n,o){for(var i=-1,a=e.length,s=n.length,c=-1,u=t.length,l=wn(a-s,0),d=r(u+l),f=!o;++c<u;)d[c]=t[c];for(;++i<s;)(f||i<a)&&(d[n[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}function Ro(e,t,n,o){for(var i=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,d=wn(a-c,0),f=r(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=t[u];for(;++s<c;)(h||i<a)&&(f[p+n[s]]=e[i++]);return f}function Po(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function No(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),i?ar(n,c,u):nr(n,c,u)}return n}function Bo(e,t){return function(n,r){var o=Va(n)?_t:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Mo(e){return Yr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&\"function\"==typeof a?(i--,a):o,s&&bi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=xe(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function Oo(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=xe(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function zo(e){return function(t,n,r){for(var o=-1,i=xe(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function Uo(e){return function(t){var n=cn(t=ws(t))?gn(t):o,r=n?n[0]:t.charAt(0),i=n?Eo(n,1).join(\"\"):t.slice(1);return r[e]()+i}}function jo(e){return function(t){return Ut(Qs(Ws(t).replace(et,\"\")),e,\"\")}}function Do(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=$n(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Lo(e){return function(t,n,r){var i=xe(t);if(!Ga(t)){var a=li(n,3);t=Ns(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function Fo(e){return oi((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if(\"function\"!=typeof s)throw new Re(i);if(a&&!c&&\"wrapper\"==ci(s))var c=new Wn([],!0)}for(r=c?r:n;++r<n;){var u=ci(s=t[r]),l=\"wrapper\"==u?si(s):o;c=l&&Ei(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ci(l[0])].apply(c,l[3]):1==s.length&&Ei(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Va(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function $o(e,t,n,i,a,s,c,u,l,f){var h=t&d,p=1&t,g=2&t,m=24&t,y=512&t,v=g?o:Do(e);return function d(){for(var w=arguments.length,A=r(w),b=w;b--;)A[b]=arguments[b];if(m)var S=ui(d),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(A,S);if(i&&(A=Co(A,i,a,m)),s&&(A=Ro(A,s,c,m)),w-=E,m&&w<f){var k=dn(A,S);return Zo(e,t,$o,d.placeholder,n,A,k,u,l,f-w)}var T=p?n:this,I=g?T[e]:e;return w=A.length,u?A=function(e,t){var n=e.length,r=An(t.length,n),i=Po(e);for(;r--;){var a=t[r];e[r]=Ai(a,n)?i[a]:o}return e}(A,u):y&&w>1&&A.reverse(),h&&l<w&&(A.length=l),this&&this!==gt&&this instanceof d&&(I=v||Do(I)),I.apply(T,A)}}function qo(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;\"string\"==typeof n||\"string\"==typeof r?(n=lo(n),r=lo(r)):(n=uo(n),r=uo(r)),i=e(n,r)}return i}}function Vo(e){return oi((function(t){return t=Ot(t,Xt(li())),Yr((function(n){var r=this;return e(t,(function(e){return xt(e,r,n)}))}))}))}function Ko(e,t){var n=(t=t===o?\" \":lo(t)).length;if(n<2)return n?Jr(t,e):t;var r=Jr(t,pt(e/pn(t)));return cn(t)?Eo(gn(r),0,e).join(\"\"):r.slice(0,e)}function Go(e){return function(t,n,i){return i&&\"number\"!=typeof i&&bi(t,n,i)&&(n=i=o),t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n,o){for(var i=-1,a=wn(pt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:ps(i),e)}}function Ho(e){return function(t,n){return\"string\"==typeof t&&\"string\"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Zo(e,t,n,r,i,a,s,c,d,f){var h=8&t;t|=h?u:l,4&(t&=~(h?l:u))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,c,d,f],g=n.apply(o,p);return Ei(e)&&Pi(g,p),g.placeholder=r,Mi(g,e,t)}function Jo(e){var t=Ie[e];return function(e,n){if(e=ys(e),(n=null==n?0:An(gs(n),292))&&At(e)){var r=(ws(e)+\"e\").split(\"e\");return+((r=(ws(t(r[0]+\"e\"+(+r[1]+n)))+\"e\").split(\"e\"))[0]+\"e\"+(+r[1]-n))}return t(e)}}var Yo=_n&&1/fn(new _n([,-0]))[1]==h?function(e){return new _n(e)}:uc;function Qo(e){return function(t){var n=mi(t);return n==T?un(t):n==R?hn(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xo(e,t,n,a,h,p,g,m){var y=2&t;if(!y&&\"function\"!=typeof e)throw new Re(i);var v=a?a.length:0;if(v||(t&=-97,a=h=o),g=g===o?g:wn(gs(g),0),m=m===o?m:gs(m),v-=h?h.length:0,t&l){var w=a,A=h;a=h=o}var b=y?o:si(e),S=[e,t,n,a,h,w,A,p,g,m];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Co(u,c,t[4]):c,e[4]=u?dn(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ro(u,c,t[6]):c,e[6]=u?dn(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&d&&(e[8]=null==e[8]?t[8]:An(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(S,b),e=S[0],t=S[1],n=S[2],a=S[3],h=S[4],!(m=S[9]=S[9]===o?y?0:e.length:wn(S[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==c?function(e,t,n){var i=Do(e);return function a(){for(var s=arguments.length,c=r(s),u=s,l=ui(a);u--;)c[u]=arguments[u];var d=s<3&&c[0]!==l&&c[s-1]!==l?[]:dn(c,l);return(s-=d.length)<n?Zo(e,t,$o,a.placeholder,o,c,d,o,o,n-s):xt(this&&this!==gt&&this instanceof a?i:e,this,c)}}(e,t,m):t!=u&&33!=t||h.length?$o.apply(o,S):function(e,t,n,o){var i=1&t,a=Do(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=o.length,d=r(l+c),f=this&&this!==gt&&this instanceof t?a:e;++u<l;)d[u]=o[u];for(;c--;)d[u++]=arguments[++s];return xt(f,i?n:this,d)}}(e,t,n,a);else var E=function(e,t,n){var r=1&t,o=Do(e);return function t(){return(this&&this!==gt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Mi((b?to:Pi)(E,S),e,t)}function ei(e,t,n,r){return e===o||Fa(e,Be[n])&&!ze.call(r,n)?t:e}function ti(e,t,n,r,i,a){return ts(e)&&ts(t)&&(a.set(t,e),qr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return is(e)?o:e}function ri(e,t,n,r,i,a){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,h=!0,p=2&n?new Zn:o;for(a.set(e,t),a.set(t,e);++f<c;){var g=e[f],m=t[f];if(r)var y=s?r(m,g,f,t,e,a):r(g,m,f,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!Dt(t,(function(e,t){if(!tn(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==m&&!i(g,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function oi(e){return Bi(_i(e,o,Ki),e+\"\")}function ii(e){return Tr(e,Ns,pi)}function ai(e){return Tr(e,Bs,gi)}var si=Pn?function(e){return Pn.get(e)}:uc;function ci(e){for(var t=e.name+\"\",n=Nn[t],r=ze.call(Nn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(ze.call(Fn,\"placeholder\")?Fn:e).placeholder}function li(){var e=Fn.iteratee||ic;return e=e===ic?zr:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n=e.__data__;return function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}function fi(e){for(var t=Ns(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ii(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Or(n)?n:o}var pi=yt?function(e){return null==e?[]:(e=xe(e),Nt(yt(e),(function(t){return Ze.call(e,t)})))}:mc,gi=yt?function(e){for(var t=[];e;)zt(t,pi(e)),e=Ge(e);return t}:mc,mi=Ir;function yi(e,t,n){for(var r=-1,o=(t=bo(t,e)).length,i=!1;++r<o;){var a=ji(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&es(o)&&Ai(a,o)&&(Va(e)||Wa(e))}function vi(e){return\"function\"!=typeof e.constructor||Ti(e)?{}:$n(Ge(e))}function wi(e){return Va(e)||Wa(e)||!!(Ye&&e&&e[Ye])}function Ai(e,t){var n=typeof e;return!!(t=null==t?p:t)&&(\"number\"==n||\"symbol\"!=n&&Ae.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!(\"number\"==r?Ga(n)&&Ai(t,n.length):\"string\"==r&&t in n)&&Fa(n[t],e)}function Si(e,t){if(Va(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in xe(t))}function Ei(e){var t=ci(e),n=Fn[t];if(\"function\"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(Tn&&mi(new Tn(new ArrayBuffer(1)))!=O||In&&mi(new In)!=T||xn&&mi(xn.resolve())!=_||_n&&mi(new _n)!=R||Cn&&mi(new Cn)!=B)&&(mi=function(e){var t=Ir(e),n=t==x?e.constructor:o,r=n?Di(n):\"\";if(r)switch(r){case Bn:return O;case Mn:return T;case On:return _;case zn:return R;case Un:return B}return t});var ki=Me?Qa:yc;function Ti(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||Be)}function Ii(e){return e==e&&!ts(e)}function xi(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in xe(n)))}}function _i(e,t,n){return t=wn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=wn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(s),xt(e,this,c)}}function Ci(e,t){return t.length<2?e:kr(e,oo(t,0,-1))}function Ri(e,t){if((\"constructor\"!==t||\"function\"!=typeof e[t])&&\"__proto__\"!=t)return e[t]}var Pi=Oi(to),Ni=ht||function(e,t){return gt.setTimeout(e,t)},Bi=Oi(no);function Mi(e,t,n){var r=t+\"\";return Bi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?\"& \":\"\")+t[r],t=t.join(n>2?\", \":\" \"),e.replace(ce,\"{\\n/* [wrapped with \"+t+\"] */\\n\")}(r,function(e,t){return Ct(y,(function(n){var r=\"_.\"+n[0];t&n[1]&&!Bt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(le):[]}(r),n)))}function Oi(e){var t=0,n=0;return function(){var r=bn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function zi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Zr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Ui=function(e){var t=Oa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(he,\"$1\"):n||e)})),t}));function ji(e){if(\"string\"==typeof e||us(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function Di(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function Li(e){if(e instanceof Vn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fi=Yr((function(e,t){return Ha(e)?fr(e,vr(t,1,Ha,!0)):[]})),$i=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),li(n,2)):[]})),qi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),o,n):[]}));function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),$t(e,li(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?wn(r+i,0):An(i,r-1)),$t(e,li(t,3),i,!0)}function Ki(e){return(null==e?0:e.length)?vr(e,1):[]}function Gi(e){return e&&e.length?e[0]:o}var Hi=Yr((function(e){var t=Ot(e,wo);return t.length&&t[0]===e[0]?Rr(t):[]})),Zi=Yr((function(e){var t=Yi(e),n=Ot(e,wo);return t===Yi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Rr(n,li(t,2)):[]})),Ji=Yr((function(e){var t=Yi(e),n=Ot(e,wo);return(t=\"function\"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,o,t):[]}));function Yi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Qi=Yr(Xi);function Xi(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Hr(e,Ot(t,(function(e){return Ai(e,n)?+e:e})).sort(_o)),r}));function ta(e){return null==e?e:kn.call(e)}var na=Yr((function(e){return fo(vr(e,1,Ha,!0))})),ra=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),fo(vr(e,1,Ha,!0),li(t,2))})),oa=Yr((function(e){var t=Yi(e);return t=\"function\"==typeof t?t:o,fo(vr(e,1,Ha,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Ha(e))return t=wn(e.length,t),!0})),Yt(t,(function(t){return Ot(e,Gt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:Ot(n,(function(e){return xt(t,o,e)}))}var sa=Yr((function(e,t){return Ha(e)?fr(e,t):[]})),ca=Yr((function(e){return yo(Nt(e,Ha))})),ua=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),yo(Nt(e,Ha),li(t,2))})),la=Yr((function(e){var t=Yi(e);return t=\"function\"==typeof t?t:o,yo(Nt(e,Ha),o,t)})),da=Yr(ia);var fa=Yr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n=\"function\"==typeof n?(e.pop(),n):o,aa(e,n)}));function ha(e){var t=Fn(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ga=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&Ai(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ma=Bo((function(e,t,n){ze.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Lo(Wi),va=Lo(Vi);function wa(e,t){return(Va(e)?Ct:hr)(e,li(t,3))}function Aa(e,t){return(Va(e)?Rt:pr)(e,li(t,3))}var ba=Bo((function(e,t,n){ze.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Yr((function(e,t,n){var o=-1,i=\"function\"==typeof t,a=Ga(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?xt(t,e,n):Pr(e,t,n)})),a})),Ea=Bo((function(e,t,n){ar(e,n,t)}));function ka(e,t){return(Va(e)?Ot:Lr)(e,li(t,3))}var Ta=Bo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ia=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bi(e,t[0],t[1])?t=[]:n>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,vr(t,1),[])})),xa=lt||function(){return gt.Date.now()};function _a(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Xo(e,d,o,o,o,o,t)}function Ca(e,t){var n;if(\"function\"!=typeof t)throw new Re(i);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ra=Yr((function(e,t,n){var r=1;if(n.length){var o=dn(n,ui(Ra));r|=u}return Xo(e,r,t,n,o)})),Pa=Yr((function(e,t,n){var r=3;if(n.length){var o=dn(n,ui(Pa));r|=u}return Xo(t,r,e,n,o)}));function Na(e,t,n){var r,a,s,c,u,l,d=0,f=!1,h=!1,p=!0;if(\"function\"!=typeof e)throw new Re(i);function g(t){var n=r,i=a;return r=a=o,d=t,c=e.apply(i,n)}function m(e){var n=e-l;return l===o||n>=t||n<0||h&&e-d>=s}function y(){var e=xa();if(m(e))return v(e);u=Ni(y,function(e){var n=t-(e-l);return h?An(n,s-(e-d)):n}(e))}function v(e){return u=o,p&&r?g(e):(r=a=o,c)}function w(){var e=xa(),n=m(e);if(r=arguments,a=this,l=e,n){if(u===o)return function(e){return d=e,u=Ni(y,t),f?g(e):c}(l);if(h)return ko(u),u=Ni(y,t),g(l)}return u===o&&(u=Ni(y,t)),c}return t=ys(t)||0,ts(n)&&(f=!!n.leading,s=(h=\"maxWait\"in n)?wn(ys(n.maxWait)||0,t):s,p=\"trailing\"in n?!!n.trailing:p),w.cancel=function(){u!==o&&ko(u),d=0,r=l=a=u=o},w.flush=function(){return u===o?c:v(xa())},w}var Ba=Yr((function(e,t){return dr(e,1,t)})),Ma=Yr((function(e,t,n){return dr(e,ys(t)||0,n)}));function Oa(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new Re(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Oa.Cache||Hn),n}function za(e){if(\"function\"!=typeof e)throw new Re(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Oa.Cache=Hn;var Ua=So((function(e,t){var n=(t=1==t.length&&Va(t[0])?Ot(t[0],Xt(li())):Ot(vr(t,1),Xt(li()))).length;return Yr((function(r){for(var o=-1,i=An(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return xt(e,this,r)}))})),ja=Yr((function(e,t){var n=dn(t,ui(ja));return Xo(e,u,o,t,n)})),Da=Yr((function(e,t){var n=dn(t,ui(Da));return Xo(e,l,o,t,n)})),La=oi((function(e,t){return Xo(e,f,o,o,o,t)}));function Fa(e,t){return e===t||e!=e&&t!=t}var $a=Ho(xr),qa=Ho((function(e,t){return e>=t})),Wa=Nr(function(){return arguments}())?Nr:function(e){return ns(e)&&ze.call(e,\"callee\")&&!Ze.call(e,\"callee\")},Va=r.isArray,Ka=bt?Xt(bt):function(e){return ns(e)&&Ir(e)==M};function Ga(e){return null!=e&&es(e.length)&&!Qa(e)}function Ha(e){return ns(e)&&Ga(e)}var Za=wt||yc,Ja=St?Xt(St):function(e){return ns(e)&&Ir(e)==b};function Ya(e){if(!ns(e))return!1;var t=Ir(e);return t==S||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!is(e)}function Qa(e){if(!ts(e))return!1;var t=Ir(e);return t==E||t==k||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}function Xa(e){return\"number\"==typeof e&&e==gs(e)}function es(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=p}function ts(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}function ns(e){return null!=e&&\"object\"==typeof e}var rs=Et?Xt(Et):function(e){return ns(e)&&mi(e)==T};function os(e){return\"number\"==typeof e||ns(e)&&Ir(e)==I}function is(e){if(!ns(e)||Ir(e)!=x)return!1;var t=Ge(e);if(null===t)return!0;var n=ze.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&Oe.call(n)==Le}var as=kt?Xt(kt):function(e){return ns(e)&&Ir(e)==C};var ss=Tt?Xt(Tt):function(e){return ns(e)&&mi(e)==R};function cs(e){return\"string\"==typeof e||!Va(e)&&ns(e)&&Ir(e)==P}function us(e){return\"symbol\"==typeof e||ns(e)&&Ir(e)==N}var ls=It?Xt(It):function(e){return ns(e)&&es(e.length)&&!!ct[Ir(e)]};var ds=Ho(Dr),fs=Ho((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Ga(e))return cs(e)?gn(e):Po(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=mi(e);return(t==T?un:t==R?fn:Fs)(e)}function ps(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=ps(e),n=t%1;return t==t?n?t-n:t:0}function ms(e){return e?cr(gs(e),0,m):0}function ys(e){if(\"number\"==typeof e)return e;if(us(e))return g;if(ts(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ye.test(e);return n||we.test(e)?ft(e.slice(2),n?2:8):me.test(e)?g:+e}function vs(e){return No(e,Bs(e))}function ws(e){return null==e?\"\":lo(e)}var As=Mo((function(e,t){if(Ti(t)||Ga(t))No(t,Ns(t),e);else for(var n in t)ze.call(t,n)&&nr(e,n,t[n])})),bs=Mo((function(e,t){No(t,Bs(t),e)})),Ss=Mo((function(e,t,n,r){No(t,Bs(t),e,r)})),Es=Mo((function(e,t,n,r){No(t,Ns(t),e,r)})),ks=oi(sr);var Ts=Yr((function(e,t){e=xe(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&bi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Bs(a),c=-1,u=s.length;++c<u;){var l=s[c],d=e[l];(d===o||Fa(d,Be[l])&&!ze.call(e,l))&&(e[l]=a[l])}return e})),Is=Yr((function(e){return e.push(o,ti),xt(Os,o,e)}));function xs(e,t,n){var r=null==e?o:kr(e,t);return r===o?n:r}function _s(e,t){return null!=e&&yi(e,t,Cr)}var Cs=qo((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),tc(oc)),Rs=qo((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=De.call(t)),ze.call(e,t)?e[t].push(n):e[t]=[n]}),li),Ps=Yr(Pr);function Ns(e){return Ga(e)?Yn(e):Ur(e)}function Bs(e){return Ga(e)?Yn(e,!0):jr(e)}var Ms=Mo((function(e,t,n){qr(e,t,n)})),Os=Mo((function(e,t,n,r){qr(e,t,n,r)})),zs=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,(function(t){return t=bo(t,e),r||(r=t.length>1),t})),No(e,ai(e),n),r&&(n=ur(n,7,ni));for(var o=t.length;o--;)ho(n,t[o]);return n}));var Us=oi((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return _s(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=Ot(ai(e),(function(e){return[e]}));return t=li(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Ds=Qo(Ns),Ls=Qo(Bs);function Fs(e){return null==e?[]:en(e,Ns(e))}var $s=jo((function(e,t,n){return t=t.toLowerCase(),e+(n?qs(t):t)}));function qs(e){return Ys(ws(e).toLowerCase())}function Ws(e){return(e=ws(e))&&e.replace(be,on).replace(tt,\"\")}var Vs=jo((function(e,t,n){return e+(n?\"-\":\"\")+t.toLowerCase()})),Ks=jo((function(e,t,n){return e+(n?\" \":\"\")+t.toLowerCase()})),Gs=Uo(\"toLowerCase\");var Hs=jo((function(e,t,n){return e+(n?\"_\":\"\")+t.toLowerCase()}));var Zs=jo((function(e,t,n){return e+(n?\" \":\"\")+Ys(t)}));var Js=jo((function(e,t,n){return e+(n?\" \":\"\")+t.toUpperCase()})),Ys=Uo(\"toUpperCase\");function Qs(e,t,n){return e=ws(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Xs=Yr((function(e,t){try{return xt(e,o,t)}catch(e){return Ya(e)?e:new ke(e)}})),ec=oi((function(e,t){return Ct(t,(function(t){t=ji(t),ar(e,t,Ra(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=Fo(),rc=Fo(!0);function oc(e){return e}function ic(e){return zr(\"function\"==typeof e?e:ur(e,1))}var ac=Yr((function(e,t){return function(n){return Pr(n,e,t)}})),sc=Yr((function(e,t){return function(n){return Pr(e,n,t)}}));function cc(e,t,n){var r=Ns(t),o=Er(t,r);null!=n||ts(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Er(t,Ns(t)));var i=!(ts(n)&&\"chain\"in n&&!n.chain),a=Qa(e);return Ct(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Po(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,zt([this.value()],arguments))})})),e}function uc(){}var lc=Vo(Ot),dc=Vo(Pt),fc=Vo(Dt);function hc(e){return Si(e)?Gt(ji(e)):function(e){return function(t){return kr(t,e)}}(e)}var pc=Go(),gc=Go(!0);function mc(){return[]}function yc(){return!1}var vc=Wo((function(e,t){return e+t}),0),wc=Jo(\"ceil\"),Ac=Wo((function(e,t){return e/t}),1),bc=Jo(\"floor\");var Sc,Ec=Wo((function(e,t){return e*t}),1),kc=Jo(\"round\"),Tc=Wo((function(e,t){return e-t}),0);return Fn.after=function(e,t){if(\"function\"!=typeof t)throw new Re(i);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Fn.ary=_a,Fn.assign=As,Fn.assignIn=bs,Fn.assignInWith=Ss,Fn.assignWith=Es,Fn.at=ks,Fn.before=Ca,Fn.bind=Ra,Fn.bindAll=ec,Fn.bindKey=Pa,Fn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Fn.chain=ha,Fn.chunk=function(e,t,n){t=(n?bi(e,t,n):t===o)?1:wn(gs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,c=r(pt(i/t));a<i;)c[s++]=oo(e,a,a+=t);return c},Fn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Fn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return zt(Va(n)?Po(n):[n],vr(t,1))},Fn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Ot(e,(function(e){if(\"function\"!=typeof e[1])throw new Re(i);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var o=e[r];if(xt(o[0],this,n))return xt(o[1],this,n)}}))},Fn.conforms=function(e){return function(e){var t=Ns(e);return function(n){return lr(n,e,t)}}(ur(e,1))},Fn.constant=tc,Fn.countBy=ma,Fn.create=function(e,t){var n=$n(e);return null==t?n:ir(n,t)},Fn.curry=function e(t,n,r){var i=Xo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Fn.curryRight=function e(t,n,r){var i=Xo(t,c,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Fn.debounce=Na,Fn.defaults=Ts,Fn.defaultsDeep=Is,Fn.defer=Ba,Fn.delay=Ma,Fn.difference=Fi,Fn.differenceBy=$i,Fn.differenceWith=qi,Fn.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:gs(t))<0?0:t,r):[]},Fn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:gs(t)))<0?0:t):[]},Fn.dropRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0,!0):[]},Fn.dropWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0):[]},Fn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&\"number\"!=typeof n&&bi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Fn.filter=function(e,t){return(Va(e)?Nt:yr)(e,li(t,3))},Fn.flatMap=function(e,t){return vr(ka(e,t),1)},Fn.flatMapDeep=function(e,t){return vr(ka(e,t),h)},Fn.flatMapDepth=function(e,t,n){return n=n===o?1:gs(n),vr(ka(e,t),n)},Fn.flatten=Ki,Fn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,h):[]},Fn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===o?1:gs(t)):[]},Fn.flip=function(e){return Xo(e,512)},Fn.flow=nc,Fn.flowRight=rc,Fn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Fn.functions=function(e){return null==e?[]:Er(e,Ns(e))},Fn.functionsIn=function(e){return null==e?[]:Er(e,Bs(e))},Fn.groupBy=ba,Fn.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},Fn.intersection=Hi,Fn.intersectionBy=Zi,Fn.intersectionWith=Ji,Fn.invert=Cs,Fn.invertBy=Rs,Fn.invokeMap=Sa,Fn.iteratee=ic,Fn.keyBy=Ea,Fn.keys=Ns,Fn.keysIn=Bs,Fn.map=ka,Fn.mapKeys=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},Fn.mapValues=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},Fn.matches=function(e){return Fr(ur(e,1))},Fn.matchesProperty=function(e,t){return $r(e,ur(t,1))},Fn.memoize=Oa,Fn.merge=Ms,Fn.mergeWith=Os,Fn.method=ac,Fn.methodOf=sc,Fn.mixin=cc,Fn.negate=za,Fn.nthArg=function(e){return e=gs(e),Yr((function(t){return Wr(t,e)}))},Fn.omit=zs,Fn.omitBy=function(e,t){return js(e,za(li(t)))},Fn.once=function(e){return Ca(2,e)},Fn.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?o:n)||(n=null==n?[]:[n]),Vr(e,t,n))},Fn.over=lc,Fn.overArgs=Ua,Fn.overEvery=dc,Fn.overSome=fc,Fn.partial=ja,Fn.partialRight=Da,Fn.partition=Ta,Fn.pick=Us,Fn.pickBy=js,Fn.property=hc,Fn.propertyOf=function(e){return function(t){return null==e?o:kr(e,t)}},Fn.pull=Qi,Fn.pullAll=Xi,Fn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,li(n,2)):e},Fn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,o,n):e},Fn.pullAt=ea,Fn.range=pc,Fn.rangeRight=gc,Fn.rearg=La,Fn.reject=function(e,t){return(Va(e)?Nt:yr)(e,za(li(t,3)))},Fn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Hr(e,o),n},Fn.rest=function(e,t){if(\"function\"!=typeof e)throw new Re(i);return Yr(e,t=t===o?t:gs(t))},Fn.reverse=ta,Fn.sampleSize=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),(Va(e)?Xn:Xr)(e,t)},Fn.set=function(e,t,n){return null==e?e:eo(e,t,n)},Fn.setWith=function(e,t,n,r){return r=\"function\"==typeof r?r:o,null==e?e:eo(e,t,n,r)},Fn.shuffle=function(e){return(Va(e)?er:ro)(e)},Fn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&\"number\"!=typeof n&&bi(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===o?r:gs(n)),oo(e,t,n)):[]},Fn.sortBy=Ia,Fn.sortedUniq=function(e){return e&&e.length?co(e):[]},Fn.sortedUniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},Fn.split=function(e,t,n){return n&&\"number\"!=typeof n&&bi(e,t,n)&&(t=n=o),(n=n===o?m:n>>>0)?(e=ws(e))&&(\"string\"==typeof t||null!=t&&!as(t))&&!(t=lo(t))&&cn(e)?Eo(gn(e),0,n):e.split(t,n):[]},Fn.spread=function(e,t){if(\"function\"!=typeof e)throw new Re(i);return t=null==t?0:wn(gs(t),0),Yr((function(n){var r=n[t],o=Eo(n,0,t);return r&&zt(o,r),xt(e,this,o)}))},Fn.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Fn.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:gs(t))<0?0:t):[]},Fn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:gs(t)))<0?0:t,r):[]},Fn.takeRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!1,!0):[]},Fn.takeWhile=function(e,t){return e&&e.length?go(e,li(t,3)):[]},Fn.tap=function(e,t){return t(e),e},Fn.throttle=function(e,t,n){var r=!0,o=!0;if(\"function\"!=typeof e)throw new Re(i);return ts(n)&&(r=\"leading\"in n?!!n.leading:r,o=\"trailing\"in n?!!n.trailing:o),Na(e,t,{leading:r,maxWait:t,trailing:o})},Fn.thru=pa,Fn.toArray=hs,Fn.toPairs=Ds,Fn.toPairsIn=Ls,Fn.toPath=function(e){return Va(e)?Ot(e,ji):us(e)?[e]:Po(Ui(ws(e)))},Fn.toPlainObject=vs,Fn.transform=function(e,t,n){var r=Va(e),o=r||Za(e)||ls(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ts(e)&&Qa(i)?$n(Ge(e)):{}}return(o?Ct:br)(e,(function(e,r,o){return t(n,e,r,o)})),n},Fn.unary=function(e){return _a(e,1)},Fn.union=na,Fn.unionBy=ra,Fn.unionWith=oa,Fn.uniq=function(e){return e&&e.length?fo(e):[]},Fn.uniqBy=function(e,t){return e&&e.length?fo(e,li(t,2)):[]},Fn.uniqWith=function(e,t){return t=\"function\"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},Fn.unset=function(e,t){return null==e||ho(e,t)},Fn.unzip=ia,Fn.unzipWith=aa,Fn.update=function(e,t,n){return null==e?e:po(e,t,Ao(n))},Fn.updateWith=function(e,t,n,r){return r=\"function\"==typeof r?r:o,null==e?e:po(e,t,Ao(n),r)},Fn.values=Fs,Fn.valuesIn=function(e){return null==e?[]:en(e,Bs(e))},Fn.without=sa,Fn.words=Qs,Fn.wrap=function(e,t){return ja(Ao(t),e)},Fn.xor=ca,Fn.xorBy=ua,Fn.xorWith=la,Fn.zip=da,Fn.zipObject=function(e,t){return vo(e||[],t||[],nr)},Fn.zipObjectDeep=function(e,t){return vo(e||[],t||[],eo)},Fn.zipWith=fa,Fn.entries=Ds,Fn.entriesIn=Ls,Fn.extend=bs,Fn.extendWith=Ss,cc(Fn,Fn),Fn.add=vc,Fn.attempt=Xs,Fn.camelCase=$s,Fn.capitalize=qs,Fn.ceil=wc,Fn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ys(n))==n?n:0),t!==o&&(t=(t=ys(t))==t?t:0),cr(ys(e),t,n)},Fn.clone=function(e){return ur(e,4)},Fn.cloneDeep=function(e){return ur(e,5)},Fn.cloneDeepWith=function(e,t){return ur(e,5,t=\"function\"==typeof t?t:o)},Fn.cloneWith=function(e,t){return ur(e,4,t=\"function\"==typeof t?t:o)},Fn.conformsTo=function(e,t){return null==t||lr(e,t,Ns(t))},Fn.deburr=Ws,Fn.defaultTo=function(e,t){return null==e||e!=e?t:e},Fn.divide=Ac,Fn.endsWith=function(e,t,n){e=ws(e),t=lo(t);var r=e.length,i=n=n===o?r:cr(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Fn.eq=Fa,Fn.escape=function(e){return(e=ws(e))&&Y.test(e)?e.replace(Z,an):e},Fn.escapeRegExp=function(e){return(e=ws(e))&&ie.test(e)?e.replace(oe,\"\\\\$&\"):e},Fn.every=function(e,t,n){var r=Va(e)?Pt:gr;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},Fn.find=ya,Fn.findIndex=Wi,Fn.findKey=function(e,t){return Ft(e,li(t,3),br)},Fn.findLast=va,Fn.findLastIndex=Vi,Fn.findLastKey=function(e,t){return Ft(e,li(t,3),Sr)},Fn.floor=bc,Fn.forEach=wa,Fn.forEachRight=Aa,Fn.forIn=function(e,t){return null==e?e:wr(e,li(t,3),Bs)},Fn.forInRight=function(e,t){return null==e?e:Ar(e,li(t,3),Bs)},Fn.forOwn=function(e,t){return e&&br(e,li(t,3))},Fn.forOwnRight=function(e,t){return e&&Sr(e,li(t,3))},Fn.get=xs,Fn.gt=$a,Fn.gte=qa,Fn.has=function(e,t){return null!=e&&yi(e,t,_r)},Fn.hasIn=_s,Fn.head=Gi,Fn.identity=oc,Fn.includes=function(e,t,n,r){e=Ga(e)?e:Fs(e),n=n&&!r?gs(n):0;var o=e.length;return n<0&&(n=wn(o+n,0)),cs(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qt(e,t,n)>-1},Fn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),qt(e,t,o)},Fn.inRange=function(e,t,n){return t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n){return e>=An(t,n)&&e<wn(t,n)}(e=ys(e),t,n)},Fn.invoke=Ps,Fn.isArguments=Wa,Fn.isArray=Va,Fn.isArrayBuffer=Ka,Fn.isArrayLike=Ga,Fn.isArrayLikeObject=Ha,Fn.isBoolean=function(e){return!0===e||!1===e||ns(e)&&Ir(e)==A},Fn.isBuffer=Za,Fn.isDate=Ja,Fn.isElement=function(e){return ns(e)&&1===e.nodeType&&!is(e)},Fn.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Va(e)||\"string\"==typeof e||\"function\"==typeof e.splice||Za(e)||ls(e)||Wa(e)))return!e.length;var t=mi(e);if(t==T||t==R)return!e.size;if(Ti(e))return!Ur(e).length;for(var n in e)if(ze.call(e,n))return!1;return!0},Fn.isEqual=function(e,t){return Br(e,t)},Fn.isEqualWith=function(e,t,n){var r=(n=\"function\"==typeof n?n:o)?n(e,t):o;return r===o?Br(e,t,o,n):!!r},Fn.isError=Ya,Fn.isFinite=function(e){return\"number\"==typeof e&&At(e)},Fn.isFunction=Qa,Fn.isInteger=Xa,Fn.isLength=es,Fn.isMap=rs,Fn.isMatch=function(e,t){return e===t||Mr(e,t,fi(t))},Fn.isMatchWith=function(e,t,n){return n=\"function\"==typeof n?n:o,Mr(e,t,fi(t),n)},Fn.isNaN=function(e){return os(e)&&e!=+e},Fn.isNative=function(e){if(ki(e))throw new ke(\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\");return Or(e)},Fn.isNil=function(e){return null==e},Fn.isNull=function(e){return null===e},Fn.isNumber=os,Fn.isObject=ts,Fn.isObjectLike=ns,Fn.isPlainObject=is,Fn.isRegExp=as,Fn.isSafeInteger=function(e){return Xa(e)&&e>=-9007199254740991&&e<=p},Fn.isSet=ss,Fn.isString=cs,Fn.isSymbol=us,Fn.isTypedArray=ls,Fn.isUndefined=function(e){return e===o},Fn.isWeakMap=function(e){return ns(e)&&mi(e)==B},Fn.isWeakSet=function(e){return ns(e)&&\"[object WeakSet]\"==Ir(e)},Fn.join=function(e,t){return null==e?\"\":Lt.call(e,t)},Fn.kebabCase=Vs,Fn.last=Yi,Fn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?wn(r+i,0):An(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):$t(e,Vt,i,!0)},Fn.lowerCase=Ks,Fn.lowerFirst=Gs,Fn.lt=ds,Fn.lte=fs,Fn.max=function(e){return e&&e.length?mr(e,oc,xr):o},Fn.maxBy=function(e,t){return e&&e.length?mr(e,li(t,2),xr):o},Fn.mean=function(e){return Kt(e,oc)},Fn.meanBy=function(e,t){return Kt(e,li(t,2))},Fn.min=function(e){return e&&e.length?mr(e,oc,Dr):o},Fn.minBy=function(e,t){return e&&e.length?mr(e,li(t,2),Dr):o},Fn.stubArray=mc,Fn.stubFalse=yc,Fn.stubObject=function(){return{}},Fn.stubString=function(){return\"\"},Fn.stubTrue=function(){return!0},Fn.multiply=Ec,Fn.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):o},Fn.noConflict=function(){return gt._===this&&(gt._=Fe),this},Fn.noop=uc,Fn.now=xa,Fn.pad=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ko(mt(o),n)+e+Ko(pt(o),n)},Fn.padEnd=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?e+Ko(t-r,n):e},Fn.padStart=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?Ko(t-r,n)+e:e},Fn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(ws(e).replace(ae,\"\"),t||0)},Fn.random=function(e,t,n){if(n&&\"boolean\"!=typeof n&&bi(e,t,n)&&(t=n=o),n===o&&(\"boolean\"==typeof t?(n=t,t=o):\"boolean\"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ps(e),t===o?(t=e,e=0):t=ps(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=En();return An(e+i*(t-e+dt(\"1e-\"+((i+\"\").length-1))),t)}return Zr(e,t)},Fn.reduce=function(e,t,n){var r=Va(e)?Ut:Zt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},Fn.reduceRight=function(e,t,n){var r=Va(e)?jt:Zt,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},Fn.repeat=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),Jr(ws(e),t)},Fn.replace=function(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fn.result=function(e,t,n){var r=-1,i=(t=bo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[ji(t[r])];a===o&&(r=i,a=n),e=Qa(a)?a.call(e):a}return e},Fn.round=kc,Fn.runInContext=e,Fn.sample=function(e){return(Va(e)?Qn:Qr)(e)},Fn.size=function(e){if(null==e)return 0;if(Ga(e))return cs(e)?pn(e):e.length;var t=mi(e);return t==T||t==R?e.size:Ur(e).length},Fn.snakeCase=Hs,Fn.some=function(e,t,n){var r=Va(e)?Dt:io;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},Fn.sortedIndex=function(e,t){return ao(e,t)},Fn.sortedIndexBy=function(e,t,n){return so(e,t,li(n,2))},Fn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&Fa(e[r],t))return r}return-1},Fn.sortedLastIndex=function(e,t){return ao(e,t,!0)},Fn.sortedLastIndexBy=function(e,t,n){return so(e,t,li(n,2),!0)},Fn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if(Fa(e[n],t))return n}return-1},Fn.startCase=Zs,Fn.startsWith=function(e,t,n){return e=ws(e),n=null==n?0:cr(gs(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Fn.subtract=Tc,Fn.sum=function(e){return e&&e.length?Jt(e,oc):0},Fn.sumBy=function(e,t){return e&&e.length?Jt(e,li(t,2)):0},Fn.template=function(e,t,n){var r=Fn.templateSettings;n&&bi(e,t,n)&&(t=o),e=ws(e),t=Ss({},t,r,ei);var i,a,s=Ss({},t.imports,r.imports,ei),c=Ns(s),u=en(s,c),l=0,d=t.interpolate||Se,f=\"__p += '\",h=_e((t.escape||Se).source+\"|\"+d.source+\"|\"+(d===ee?pe:Se).source+\"|\"+(t.evaluate||Se).source+\"|$\",\"g\"),p=\"//# sourceURL=\"+(ze.call(t,\"sourceURL\")?(t.sourceURL+\"\").replace(/\\s/g,\" \"):\"lodash.templateSources[\"+ ++st+\"]\")+\"\\n\";e.replace(h,(function(t,n,r,o,s,c){return r||(r=o),f+=e.slice(l,c).replace(Ee,sn),n&&(i=!0,f+=\"' +\\n__e(\"+n+\") +\\n'\"),s&&(a=!0,f+=\"';\\n\"+s+\";\\n__p += '\"),r&&(f+=\"' +\\n((__t = (\"+r+\")) == null ? '' : __t) +\\n'\"),l=c+t.length,t})),f+=\"';\\n\";var g=ze.call(t,\"variable\")&&t.variable;if(g){if(fe.test(g))throw new ke(\"Invalid `variable` option passed into `_.template`\")}else f=\"with (obj) {\\n\"+f+\"\\n}\\n\";f=(a?f.replace(V,\"\"):f).replace(K,\"$1\").replace(G,\"$1;\"),f=\"function(\"+(g||\"obj\")+\") {\\n\"+(g?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(i?\", __e = _.escape\":\"\")+(a?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+f+\"return __p\\n}\";var m=Xs((function(){return Te(c,p+\"return \"+f).apply(o,u)}));if(m.source=f,Ya(m))throw m;return m},Fn.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=m,r=An(e,m);t=li(t),e-=m;for(var o=Yt(r,t);++n<e;)t(n);return o},Fn.toFinite=ps,Fn.toInteger=gs,Fn.toLength=ms,Fn.toLower=function(e){return ws(e).toLowerCase()},Fn.toNumber=ys,Fn.toSafeInteger=function(e){return e?cr(gs(e),-9007199254740991,p):0===e?e:0},Fn.toString=ws,Fn.toUpper=function(e){return ws(e).toUpperCase()},Fn.trim=function(e,t,n){if((e=ws(e))&&(n||t===o))return Qt(e);if(!e||!(t=lo(t)))return e;var r=gn(e),i=gn(t);return Eo(r,nn(r,i),rn(r,i)+1).join(\"\")},Fn.trimEnd=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.slice(0,mn(e)+1);if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,0,rn(r,gn(t))+1).join(\"\")},Fn.trimStart=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.replace(ae,\"\");if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,nn(r,gn(t))).join(\"\")},Fn.truncate=function(e,t){var n=30,r=\"...\";if(ts(t)){var i=\"separator\"in t?t.separator:i;n=\"length\"in t?gs(t.length):n,r=\"omission\"in t?lo(t.omission):r}var a=(e=ws(e)).length;if(cn(e)){var s=gn(e);a=s.length}if(n>=a)return e;var c=n-pn(r);if(c<1)return r;var u=s?Eo(s,0,c).join(\"\"):e.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),as(i)){if(e.slice(c).search(i)){var l,d=u;for(i.global||(i=_e(i.source,ws(ge.exec(i))+\"g\")),i.lastIndex=0;l=i.exec(d);)var f=l.index;u=u.slice(0,f===o?c:f)}}else if(e.indexOf(lo(i),c)!=c){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},Fn.unescape=function(e){return(e=ws(e))&&J.test(e)?e.replace(H,yn):e},Fn.uniqueId=function(e){var t=++Ue;return ws(e)+t},Fn.upperCase=Js,Fn.upperFirst=Ys,Fn.each=wa,Fn.eachRight=Aa,Fn.first=Gi,cc(Fn,(Sc={},br(Fn,(function(e,t){ze.call(Fn.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),Fn.VERSION=\"4.17.21\",Ct([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],(function(e){Fn[e].placeholder=Fn})),Ct([\"drop\",\"take\"],(function(e,t){Vn.prototype[e]=function(n){n=n===o?1:wn(gs(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=An(n,r.__takeCount__):r.__views__.push({size:An(n,m),type:e+(r.__dir__<0?\"Right\":\"\")}),r},Vn.prototype[e+\"Right\"]=function(t){return this.reverse()[e](t).reverse()}})),Ct([\"filter\",\"map\",\"takeWhile\"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct([\"head\",\"last\"],(function(e,t){var n=\"take\"+(t?\"Right\":\"\");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct([\"initial\",\"tail\"],(function(e,t){var n=\"drop\"+(t?\"\":\"Right\");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(oc)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Yr((function(e,t){return\"function\"==typeof e?new Vn(this):this.map((function(n){return Pr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(za(li(e)))},Vn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(m)},br(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Fn[r?\"take\"+(\"last\"==t?\"Right\":\"\"):t],a=r||/^find/.test(t);i&&(Fn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Vn,u=s[0],l=c||Va(t),d=function(e){var t=i.apply(Fn,zt([e],s));return r&&f?t[0]:t};l&&n&&\"function\"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,g=c&&!h;if(!a&&l){t=g?t:new Vn(this);var m=e.apply(t,s);return m.__actions__.push({func:pa,args:[d],thisArg:o}),new Wn(m,f)}return p&&g?e.apply(this,s):(m=this.thru(d),p?r?m.value()[0]:m.value():m)})})),Ct([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?\"tap\":\"thru\",r=/^(?:pop|shift)$/.test(e);Fn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),br(Vn.prototype,(function(e,t){var n=Fn[t];if(n){var r=n.name+\"\";ze.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[$o(o,2).name]=[{name:\"wrapper\",func:o}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case\"drop\":e+=a;break;case\"dropRight\":t-=a;break;case\"take\":t=An(t,e+a);break;case\"takeRight\":e=wn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,h=An(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return mo(e,this.__actions__);var p=[];e:for(;c--&&f<h;){for(var g=-1,m=e[u+=t];++g<d;){var y=l[g],v=y.iteratee,w=y.type,A=v(m);if(2==w)m=A;else if(!A){if(1==w)continue e;break e}}p[f++]=m}return p},Fn.prototype.at=ga,Fn.prototype.chain=function(){return ha(this)},Fn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Fn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Li(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Fn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(ta)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,Qe&&(Fn.prototype[Qe]=function(){return this}),Fn}();gt._=vn,(r=function(){return vn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5276:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},5288:(e,t,n)=>{var r=n(358),o=n(7200),i=n(6529);e.exports=function(e){return i(e)?r(e,!0):o(e)}},5353:(e,t,n)=>{var r=n(8638);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},5387:e=>{e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5512:(e,t,n)=>{var r=n(4943),o=n(3316)(r);e.exports=o},5568:e=>{e.exports=function(e,t){return e.has(t)}},5620:(e,t,n)=>{var r=n(8788),o=n(9141),i=n(796),a=n(33);e.exports=function(e,t,n){var s=t+\"\";return i(e,o(s,a(r(s),n)))}},5650:(e,t,n)=>{var r=n(8942).Symbol;e.exports=r},5681:(e,t,n)=>{var r=n(4700);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},5755:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=-1,c=r.length,u=-1,l=n.length,d=t(a-c,0),f=Array(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=n[u];for(;++s<c;)(h||i<a)&&(f[p+r[s]]=e[i++]);return f}},5832:(e,t,n)=>{var r=n(1129),o=n(4784),i=n(7979),a=n(9306),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},5853:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=n(4772),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},5857:(e,t,n)=>{var r=n(313);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},5894:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},5899:(e,t,n)=>{var r=n(3526),o=n(3283),i=n(3142),a=n(9632),s=n(5387),c=n(6040);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,d=!1;++u<l;){var f=c(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(i(e)||o(e))}},5962:e=>{e.exports=function(){}},5964:(e,t,n)=>{var r=n(9747),o=n(4784),i=n(4882);e.exports=function(e){return\"function\"!=typeof e.constructor||i(e)?{}:r(o(e))}},6027:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return o(e)&&\"[object Arguments]\"==r(e)}},6040:(e,t,n)=>{var r=n(1187);e.exports=function(e){if(\"string\"==typeof e||r(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-Infinity?\"-0\":t}},6065:(e,t,n)=>{var r=n(9270),o=r&&new r;e.exports=o},6123:(e,t,n)=>{var r=n(7923);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},6131:(e,t,n)=>{var r=n(6403),o=n(1580),i=n(1187),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if(\"number\"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},6137:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6341:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(8942);e.exports=function(e,t,n,a){var s=1&t,c=o(e);return function t(){for(var o=-1,u=arguments.length,l=-1,d=a.length,f=Array(d+u),h=this&&this!==i&&this instanceof t?c:e;++l<d;)f[l]=a[l];for(;u--;)f[l++]=arguments[++o];return r(h,s?n:this,f)}}},6403:(e,t,n)=>{var r=n(2945),o=/^\\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,\"\"):e}},6465:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6493:(e,t,n)=>{var r=n(6853),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,\"$1\"):n||e)})),t}));e.exports=a},6526:(e,t,n)=>{var r=n(8330),o=n(4367),i=n(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},6529:(e,t,n)=>{var r=n(3655),o=n(5387);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6591:(e,t,n)=>{var r=n(4354),o=n(9632),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var c=t[a];e[a]=o(c,n)?s[c]:void 0}return e}},6638:(e,t,n)=>{var r=n(1386),o=n(9770),i=n(8250);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},6648:(e,t,n)=>{var r=n(7553),o=n(5196),i=n(961),a=n(3321);e.exports=function(e){var t=i(e),n=a[t];if(\"function\"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},6713:(e,t,n)=>{var r=n(4364),o=n(8942);e.exports=function(e,t,n){var i=1&t,a=r(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?n:this,arguments)}}},6850:e=>{e.exports=function(e){return e.placeholder}},6853:(e,t,n)=>{var r=n(9011);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},6912:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7028:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(8813),a=\"__lodash_placeholder__\",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],l=n|u,d=l<131,f=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!d&&!f)return e;1&u&&(e[2]=t[2],l|=1&n?0:4);var h=t[3];if(h){var p=e[3];e[3]=p?r(p,h,t[4]):h,e[4]=p?i(e[3],a):t[4]}return(h=t[5])&&(p=e[5],e[5]=p?o(p,h,t[6]):h,e[6]=p?i(e[5],a):t[6]),(h=t[7])&&(e[7]=h),u&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},7034:(e,t,n)=>{var r=n(6285);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7073:(e,t,n)=>{var r=n(2532);e.exports=function(e,t,n){\"__proto__\"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7099:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},7144:(e,t,n)=>{var r=n(7034);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7200:(e,t,n)=>{var r=n(1580),o=n(4882),i=n(8546),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)(\"constructor\"!=s||!t&&a.call(e,s))&&n.push(s);return n}},7250:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},7267:(e,t,n)=>{var r=n(1580);e.exports=function(e){return e==e&&!r(e)}},7276:(e,t,n)=>{var r=n(3636),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},7336:(e,t,n)=>{var r=n(8638);function o(e,t,n){var i=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},7350:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&\"string\"==typeof e[0]&&t.call(e,\"index\")&&(r.index=e.index,r.input=e.input),r}},7379:(e,t,n)=>{var r=n(5650),o=n(8870),i=n(9005),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":a&&a in Object(e)?o(e):i(e)}},7403:(e,t,n)=>{var r=n(2619),o=n(2532),i=n(2053),a=o?function(e,t){return o(e,\"toString\",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},7452:(e,t,n)=>{var r=n(7034);e.exports=function(e){return r(this.__data__,e)>-1}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},7553:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},7642:(e,t,n)=>{var r=n(3301);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7681:(e,t,n)=>{var r=n(777),o=n(9460),i=n(2306),a=i&&i.isMap,s=a?o(a):r;e.exports=s},7706:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},7769:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object WeakMap]\"==r(e)}},7923:(e,t,n)=>{var r=n(3526),o=n(6040);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},7930:(e,t,n)=>{var r=n(9032),o=n(1211);e.exports=function(e,t){return e&&r(t,o(t),e)}},7979:(e,t,n)=>{var r=n(9847),o=n(9306),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},7991:(e,t)=>{\"use strict\";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+\"==\")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+\"=\"));return i.join(\"\")};for(var n=[],r=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join(\"\")}r[\"-\".charCodeAt(0)]=62,r[\"_\".charCodeAt(0)]=63},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},8055:(e,t,n)=>{e.exports={ary:n(5353),assign:n(7930),clone:n(2846),curry:n(7336),forEach:n(9968),isArray:n(3142),isError:n(441),isFunction:n(3655),isWeakMap:n(7769),iteratee:n(2590),keys:n(195),rearg:n(864),toInteger:n(7642),toPath:n(2613)}},8069:(e,t,n)=>{var r=n(5650),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},8121:(e,t,n)=>{var r=n(3766)(Object.keys,Object);e.exports=r},8244:(e,t,n)=>{var r=n(1129),o=n(3142);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},8250:(e,t,n)=>{var r=n(9753),o=n(5681),i=n(88),a=n(4732),s=n(9068);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},8330:(e,t,n)=>{var r=n(1340),o=n(4687);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var h=new r;if(i)var p=i(d,f,l,e,t,h);if(!(void 0===p?o(f,d,3,i,h):p))return!1}}return!0}},8340:e=>{var t=/\\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8360:(e,t,n)=>{var r=n(7379),o=n(4784),i=n(547),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||\"[object Object]\"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&c.call(n)==l}},8486:(e,t,n)=>{var r=n(3103),o=n(9770),i=n(9413),a=n(4512),s=n(9270),c=n(7379),u=n(4066),l=\"[object Map]\",d=\"[object Promise]\",f=\"[object Set]\",h=\"[object WeakMap]\",p=\"[object DataView]\",g=u(r),m=u(o),y=u(i),v=u(a),w=u(s),A=c;(r&&A(new r(new ArrayBuffer(1)))!=p||o&&A(new o)!=l||i&&A(i.resolve())!=d||a&&A(new a)!=f||s&&A(new s)!=h)&&(A=function(e){var t=c(e),n=\"[object Object]\"==t?e.constructor:void 0,r=n?u(n):\"\";if(r)switch(r){case g:return p;case m:return l;case y:return d;case v:return f;case w:return h}return t}),e.exports=A},8546:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},8638:(e,t,n)=>{var r=n(4943),o=n(6713),i=n(2443),a=n(3504),s=n(6341),c=n(5196),u=n(7028),l=n(5512),d=n(5620),f=n(7642),h=Math.max;e.exports=function(e,t,n,p,g,m,y,v){var w=2&t;if(!w&&\"function\"!=typeof e)throw new TypeError(\"Expected a function\");var A=p?p.length:0;if(A||(t&=-97,p=g=void 0),y=void 0===y?y:h(f(y),0),v=void 0===v?v:f(v),A-=g?g.length:0,64&t){var b=p,S=g;p=g=void 0}var E=w?void 0:c(e),k=[e,t,n,p,g,b,S,m,y,v];if(E&&u(k,E),e=k[0],t=k[1],n=k[2],p=k[3],g=k[4],!(v=k[9]=void 0===k[9]?w?0:e.length:h(k[9]-A,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?i(e,t,v):32!=t&&33!=t||g.length?a.apply(void 0,k):s(e,t,n,p);else var T=o(e,t,n);return d((E?r:l)(T,k),e,t)}},8666:(e,t,n)=>{var r=n(674),o=n(9460),i=n(2306),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},8788:e=>{var t=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},8813:e=>{var t=\"__lodash_placeholder__\";e.exports=function(e,n){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[i++]=r)}return a}},8861:(e,t,n)=>{var r=n(5650),o=n(1623),i=n(6285),a=n(3934),s=n(5894),c=n(9828),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return i(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case\"[object Map]\":var h=s;case\"[object Set]\":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(h(e),h(t),r,u,d,f);return f.delete(e),m;case\"[object Symbol]\":if(l)return l.call(e)==l.call(t)}return!1}},8870:(e,t,n)=>{var r=n(5650),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},8880:(e,t,n)=>{var r=n(7923);e.exports=function(e){return function(t){return r(t,e)}}},8898:(e,t,n)=>{var r=n(1623);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},8942:(e,t,n)=>{var r=n(4967),o=\"object\"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function(\"return this\")();e.exports=i},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9011:(e,t,n)=>{var r=n(8250);function o(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},9032:(e,t,n)=>{var r=n(3422),o=n(7073);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},9067:e=>{e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},9068:(e,t,n)=>{var r=n(4700);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},9071:e=>{e.exports=function(){}},9141:e=>{var t=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var o=r-1;return n[o]=(r>1?\"& \":\"\")+n[o],n=n.join(r>2?\", \":\" \"),e.replace(t,\"{\\n/* [wrapped with \"+n+\"] */\\n\")}},9270:(e,t,n)=>{var r=n(4715)(n(8942),\"WeakMap\");e.exports=r},9306:e=>{e.exports=function(){return[]}},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},9334:(e,t,n)=>{var r=n(1340),o=n(9968),i=n(3422),a=n(7930),s=n(125),c=n(7099),u=n(4354),l=n(3546),d=n(4733),f=n(393),h=n(3650),p=n(8486),g=n(7350),m=n(424),y=n(5964),v=n(3142),w=n(5853),A=n(7681),b=n(1580),S=n(3943),E=n(1211),k=n(5288),T=\"[object Arguments]\",I=\"[object Function]\",x=\"[object Object]\",_={};_[T]=_[\"[object Array]\"]=_[\"[object ArrayBuffer]\"]=_[\"[object DataView]\"]=_[\"[object Boolean]\"]=_[\"[object Date]\"]=_[\"[object Float32Array]\"]=_[\"[object Float64Array]\"]=_[\"[object Int8Array]\"]=_[\"[object Int16Array]\"]=_[\"[object Int32Array]\"]=_[\"[object Map]\"]=_[\"[object Number]\"]=_[x]=_[\"[object RegExp]\"]=_[\"[object Set]\"]=_[\"[object String]\"]=_[\"[object Symbol]\"]=_[\"[object Uint8Array]\"]=_[\"[object Uint8ClampedArray]\"]=_[\"[object Uint16Array]\"]=_[\"[object Uint32Array]\"]=!0,_[\"[object Error]\"]=_[I]=_[\"[object WeakMap]\"]=!1,e.exports=function e(t,n,C,R,P,N){var B,M=1&n,O=2&n,z=4&n;if(C&&(B=P?C(t,R,P,N):C(t)),void 0!==B)return B;if(!b(t))return t;var U=v(t);if(U){if(B=g(t),!M)return u(t,B)}else{var j=p(t),D=j==I||\"[object GeneratorFunction]\"==j;if(w(t))return c(t,M);if(j==x||j==T||D&&!P){if(B=O||D?{}:y(t),!M)return O?d(t,s(B,t)):l(t,a(B,t))}else{if(!_[j])return P?t:{};B=m(t,j,M)}}N||(N=new r);var L=N.get(t);if(L)return L;N.set(t,B),S(t)?t.forEach((function(r){B.add(e(r,n,C,r,t,N))})):A(t)&&t.forEach((function(r,o){B.set(o,e(r,n,C,o,t,N))}));var F=U?void 0:(z?O?h:f:O?k:E)(t);return o(F||t,(function(r,o){F&&(r=t[o=r]),i(B,o,e(r,n,C,o,t,N))})),B}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},9413:(e,t,n)=>{var r=n(4715)(n(8942),\"Promise\");e.exports=r},9454:e=>{e.exports=function(e){return e!=e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},9624:(e,t,n)=>{var r=n(3655),o=n(4759),i=n(1580),a=n(4066),s=/^\\[object .+?Constructor\\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp(\"^\"+l.call(d).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},9632:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&(\"number\"==r||\"symbol\"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9747:(e,t,n)=>{var r=n(1580),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},9753:(e,t,n)=>{var r=n(5098),o=n(1386),i=n(9770);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},9756:(e,t,n)=>{var r=n(2478);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},9770:(e,t,n)=>{var r=n(4715)(n(8942),\"Map\");e.exports=r},9828:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9847:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9968:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{\"use strict\";n.r(r),n.d(r,{onActive:()=>TI,onAssetHistoricalPrice:()=>wI,onAssetsConversion:()=>yI,onAssetsLookup:()=>mI,onAssetsMarketData:()=>_I,onClientRequest:()=>AI,onCronjob:()=>gI,onInactive:()=>II,onInstall:()=>kI,onKeyringRequest:()=>hI,onNameLookup:()=>xI,onProtocolRequest:()=>vI,onRpcRequest:()=>fI,onStart:()=>SI,onUpdate:()=>EI,onUserInput:()=>pI,onWebSocketEvent:()=>bI});var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)},t=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";(()=>{const e=Array(256).fill(-1);for(let n=0;n<58;++n)e[t.charCodeAt(n)]=n})();var o,i,a=e=>{if(!e||\"string\"!=typeof e)throw new Error(`Expected base58 string but got ${e}`);if(e.match(/[IOl0]/gmu))throw new Error(`Invalid base58 character ${e.match(/[IOl0]/gmu)}`);const n=e.match(/^1+/gmu),r=n?n[0].length:0,o=(e.length-r)*(Math.log(58)/Math.log(256))+1>>>0;return new Uint8Array([...new Uint8Array(r),...e.match(/.{1}/gmu).map((e=>t.indexOf(e))).reduce(((e,t)=>e.map((e=>{const n=58*e+t;return t=n>>8,n}))),new Uint8Array(o)).reverse().filter((i=!1,e=>i=i||e))]);var i},s=(function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.bech32m=t.bech32=void 0;const n=\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return\"Invalid prefix (\"+e+\")\";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return\"Excess padding\";if(o<<n-i&a)return\"Non-zero padding\"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+\" too short\";if(e.length>n)return\"Exceeds length limit\";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return\"Mixed-case string \"+e;const c=(e=a).lastIndexOf(\"1\");if(-1===c)return\"No separator character for \"+e;if(0===c)return\"Missing prefix for \"+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return\"Data too short\";let d=i(u);if(\"string\"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return\"Unknown character \"+t;d=o(d)^n,e+6>=l.length||f.push(n)}return d!==t?\"Invalid checksum for \"+e:{prefix:u,words:f}}return t=\"bech32\"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if(\"object\"==typeof n)return n},decode:function(e,t){const n=a(e,t);if(\"object\"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError(\"Exceeds length limit\");let s=i(e=e.toLowerCase());if(\"string\"==typeof s)throw new Error(s);let c=e+\"1\";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error(\"Non 5-bit word\");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e)c+=n.charAt(s>>5*(5-e)&31);return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l(\"bech32\"),t.bech32m=l(\"bech32m\")}(o={exports:{}},o.exports),o.exports);(i=s)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,\"default\")&&i.default;var c=s.bech32m,u=s.bech32;const l=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class d{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!h||p>=8e3)&&(h=new ArrayBuffer(8e3),p=0),this._byte=new Uint8Array(h,p,80),this._word=new Int32Array(h,p,20),p+=80}update(e){if(\"string\"==typeof e)return this._utf8(e);if(null==e)throw new TypeError(\"Invalid type: \"+typeof e);const t=e.byteOffset,n=e.byteLength;let r=n/64|0,o=0;if(r&&!(3&t)&&!(this._size%64)){const n=new Int32Array(e.buffer,t,16*r);for(;r--;)this._int32(n,o>>2),o+=64;this._size+=o}if(1!==e.BYTES_PER_ELEMENT&&e.buffer){const r=new Uint8Array(e.buffer,t+o,n-o);return this._uint8(r)}return o===n?this:this._uint8(e,o)}_uint8(e,t){const{_byte:n,_word:r}=this,o=e.length;for(t|=0;t<o;){const i=this._size%64;let a=i;for(;t<o&&a<64;)n[a++]=e[t++];a>=64&&this._int32(r),this._size+=a-i}return this}_utf8(e){const{_byte:t,_word:n}=this,r=e.length;let o=this._sp;for(let i=0;i<r;){const a=this._size%64;let s=a;for(;i<r&&s<64;){let n=0|e.charCodeAt(i++);n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<55296||n>57343?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):o?(n=((1023&o)<<10)+(1023&n)+65536,t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n,o=0):o=n}s>=64&&(this._int32(n),n[0]=n[16]),this._size+=s-a}return this._sp=o,this}_int32(e,t){let{A:n,B:r,C:o,D:i,E:a,F:s,G:c,H:u}=this,d=0;for(t|=0;d<16;)f[d++]=m(e[t++]);for(d=16;d<64;d++)f[d]=S(f[d-2])+f[d-7]+b(f[d-15])+f[d-16]|0;for(d=0;d<64;d++){const e=u+A(a)+y(a,s,c)+l[d]+f[d]|0,t=w(n)+v(n,r,o)|0;u=c,c=s,s=a,a=i+e|0,i=o,o=r,r=n,n=e+t|0}this.A=n+this.A|0,this.B=r+this.B|0,this.C=o+this.C|0,this.D=i+this.D|0,this.E=a+this.E|0,this.F=s+this.F|0,this.G=c+this.G|0,this.H=u+this.H|0}digest(e){const{_byte:t,_word:n}=this;let r=this._size%64|0;for(t[r++]=128;3&r;)t[r++]=0;if(r>>=2,r>14){for(;r<16;)n[r++]=0;r=0,this._int32(n)}for(;r<16;)n[r++]=0;const o=8*this._size,i=(4294967295&o)>>>0,a=(o-i)/4294967296;return a&&(n[14]=m(a)),i&&(n[15]=m(i)),this._int32(n),\"hex\"===e?this._hex():this._bin()}_hex(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s}=this;return g(e)+g(t)+g(n)+g(r)+g(o)+g(i)+g(a)+g(s)}_bin(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s,_byte:c,_word:u}=this;return u[0]=m(e),u[1]=m(t),u[2]=m(n),u[3]=m(r),u[4]=m(o),u[5]=m(i),u[6]=m(a),u[7]=m(s),c.slice(0,32)}}const f=new Int32Array(64);let h,p=0;const g=e=>(e+4294967296).toString(16).substr(-8),m=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,y=(e,t,n)=>n^e&(t^n),v=(e,t,n)=>e&t|n&(e|t),w=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),A=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),b=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,S=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;var E,k,T=function(e){return(new d).update(e).digest()};!function(e){e.mainnet=\"mainnet\",e.testnet=\"testnet\",e.regtest=\"regtest\"}(E||(E={})),function(e){e.p2pkh=\"p2pkh\",e.p2sh=\"p2sh\",e.p2wpkh=\"p2wpkh\",e.p2wsh=\"p2wsh\",e.p2tr=\"p2tr\"}(k||(k={}));var I={0:{type:k.p2pkh,network:E.mainnet},111:{type:k.p2pkh,network:E.testnet},5:{type:k.p2sh,network:E.mainnet},196:{type:k.p2sh,network:E.testnet}},x=function(t){var n,r=t.substr(0,2).toLowerCase();if(\"bc\"===r||\"tb\"===r)return function(e){var t;try{t=e.startsWith(\"bc1p\")||e.startsWith(\"tb1p\")||e.startsWith(\"bcrt1p\")?c.decode(e):u.decode(e)}catch(e){throw new Error(\"Invalid address\")}var n={bc:E.mainnet,tb:E.testnet,bcrt:E.regtest}[t.prefix];if(void 0===n)throw new Error(\"Invalid address\");var r=t.words[0];if(r<0||r>16)throw new Error(\"Invalid address\");return{bech32:!0,network:n,address:e,type:20===u.fromWords(t.words.slice(1)).length?k.p2wpkh:1===r?k.p2tr:k.p2wsh}}(t);try{n=a(t)}catch(e){throw new Error(\"Invalid address\")}var o=n.length;if(25!==o)throw new Error(\"Invalid address\");var i=n[0],s=n.slice(o-4,o),l=n.slice(0,o-4),d=T(T(l)).slice(0,4);if(s.some((function(e,t){return e!==d[t]})))throw new Error(\"Invalid address\");if(!Object.keys(I).map(Number).includes(i))throw new Error(\"Invalid address\");return e(e({},I[i]),{address:t,bech32:!1})};class _ extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function C(e){return\"object\"==typeof e&&null!==e}function R(e){if(\"[object Object]\"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function P(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function N(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${P(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*B(e,t,n,r){(function(e){return C(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=N(o,t,n,r);e&&(yield e)}}function*M(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&C(t.schema)&&C(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=M(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):C(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class O{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>B(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>B(o(e,t),t,this,e):()=>[]}assert(e,t){return z(e,this,t)}create(e,t){return U(e,this,t)}is(e){return j(e,this)}mask(e,t){return function(e,t,n){const r=D(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return D(e,this,t)}}function z(e,t,n){const r=D(e,t,{message:n});if(r[0])throw r[0]}function U(e,t,n){const r=D(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function j(e,t){return!D(e,t)[0]}function D(e,t,n={}){const r=M(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new _(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function L(e,t){return new O({type:e,schema:null,validator:t})}function F(e,t){return L(e,(e=>\"string\"==typeof e&&t.test(e)))}const $=F(\"UuidV4\",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),q=$,W=L(\"Url\",(e=>{try{const t=new URL(e);return\"http:\"===t.protocol||\"https:\"===t.protocol}catch{return!1}})),V=F(\"StringNumber\",/^\\d+(\\.\\d+)?$/u);function K(){return L(\"any\",(()=>!0))}function G(e){return new O({type:\"array\",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${P(e)}`})}function H(){return L(\"boolean\",(e=>\"boolean\"==typeof e))}function Z(e){const t={},n=e.map((e=>P(e))).join();for(const n of e)t[n]=n;return new O({type:\"enums\",schema:t,validator:t=>e.includes(t)||`Expected one of \\`${n}\\`, but received: ${P(t)}`})}function J(){return L(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${P(e)}`))}function Y(e){const t=P(e),n=typeof e;return new O({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${P(n)}`})}function Q(){return L(\"never\",(()=>!1))}function X(e){return new O({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function ee(){return L(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${P(e)}`))}function te(e){const t=e?Object.keys(e):[],n=Q();return new O({type:\"object\",schema:e??null,*entries(r){if(e&&C(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>C(e)||`Expected an object, but received: ${P(e)}`,coercer:e=>C(e)?{...e}:e})}function ne(e){return new O({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function re(e,t){return new O({type:\"record\",schema:null,*entries(n){if(C(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>C(e)||`Expected an object, but received: ${P(e)}`})}function oe(){return L(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${P(e)}`))}function ie(e){const t=Q();return new O({type:\"tuple\",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],e[o]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${P(e)}`})}function ae(e){const t=Object.keys(e);return new O({type:\"type\",schema:e,*entries(n){if(C(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>C(e)||`Expected an object, but received: ${P(e)}`,coercer:e=>C(e)?{...e}:e})}function se(e){const t=e.map((e=>e.type)).join(\" | \");return new O({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=M(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${P(n)}`,...o]}})}function ce(){return L(\"unknown\",(()=>!0))}function ue(e){return te(e)}function le(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}function de(e){return new O({...e,validator:(t,n)=>!le(n)||e.validator(t,n),refiner:(t,n)=>!le(n)||e.refiner(t,n)})}function fe(e){return new O({type:\"union\",schema:null,*entries(t,n){yield*e(t).entries(t,n)},*refiner(t,n){yield*e(t).refiner(t,n)},coercer:(t,n)=>e(t).coercer(t,n),validator:(t,n)=>e(t).validator(t,n)})}function he(e,t,n){return new O({...e,coercer:(r,o)=>j(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function pe(e){return e instanceof Map||e instanceof Set?e.size:e.length}function ge(e,t,n={}){const{exclusive:r}=n;return ve(e,\"min\",(n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?\"\":\"or equal to \"}${t} but received \\`${n}\\``))}function me(e){return ve(e,\"nonempty\",(t=>pe(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function ye(e,t){return ve(e,\"pattern\",(n=>t.test(n)||`Expected a ${e.type} matching \\`/${t.source}/\\` but received \"${n}\"`))}function ve(e,t,n){return new O({...e,*refiner(r,o){yield*e.refiner(r,o);const i=B(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const we=(e,t)=>Object.hasOwnProperty.call(e,t);var Ae;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(Ae=Ae||(Ae={}));const be=e=>te(e);function Se({path:e,branch:t}){const n=e[e.length-1];return we(t[t.length-2],n)}function Ee(e){return new O({...e,type:`optional ${e.type}`,validator:(t,n)=>!Se(n)||e.validator(t,n),refiner:(t,n)=>!Se(n)||e.refiner(t,n)})}function ke(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!ke(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!ke(n[e][1])){t=!1;break}return t}return!1}const Te=L(\"JSON\",(e=>ke(e))),Ie=he(Te,ve(K(),\"JSON\",(e=>j(e,Te))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const xe=Y(\"2.0\"),_e=X(se([ee(),oe()])),Ce=be({code:J(),message:oe(),data:Ee(Ie),stack:Ee(oe())}),Re=se([re(oe(),Ie),G(Ie)]);be({id:_e,jsonrpc:xe,method:oe(),params:Ee(Re)}),be({jsonrpc:xe,method:oe(),params:Ee(Re)});te({id:_e,jsonrpc:xe,result:ne(ce()),error:ne(Ce)});const Pe=be({id:_e,jsonrpc:xe,result:Ie}),Ne=be({id:_e,jsonrpc:xe,error:Ce});se([Pe,Ne]);const Be=ue({jsonrpc:Y(\"2.0\"),id:se([oe(),ee(),Y(null)]),method:oe(),params:de(se([G(Ie),re(oe(),Ie)]))});const Me=(e,t)=>Object.hasOwnProperty.call(e,t);var Oe;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(Oe=Oe||(Oe={}));function ze(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}const Ue=e=>te(e);function je({path:e,branch:t}){const n=e[e.length-1];return Me(t[t.length-2],n)}function De(e){return new O({...e,type:`optional ${e.type}`,validator:(t,n)=>!je(n)||e.validator(t,n),refiner:(t,n)=>!je(n)||e.refiner(t,n)})}function Le(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Le(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!Le(n[e][1])){t=!1;break}return t}return!1}const Fe=L(\"JSON\",(e=>Le(e))),$e=he(Fe,ve(K(),\"JSON\",(e=>j(e,Fe))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const qe=Y(\"2.0\"),We=X(se([ee(),oe()])),Ve=Ue({code:J(),message:oe(),data:De($e),stack:De(oe())}),Ke=se([re(oe(),$e),G($e)]);Ue({id:We,jsonrpc:qe,method:oe(),params:De(Ke)}),Ue({jsonrpc:qe,method:oe(),params:De(Ke)});te({id:We,jsonrpc:qe,result:ne(ce()),error:ne(Ve)});const Ge=Ue({id:We,jsonrpc:qe,result:$e}),He=Ue({id:We,jsonrpc:qe,error:Ve});se([Ge,He]);var Ze;!function(e){e.Mnemonic=\"mnemonic\",e.PrivateKey=\"private-key\"}(Ze||(Ze={}));const Je=te({type:Y(`${Ze.Mnemonic}`),id:oe(),derivationPath:oe(),groupIndex:ee()}),Ye=te({type:Y(`${Ze.PrivateKey}`)}),Qe=fe((e=>ze(e)&&e.type===Ze.PrivateKey?Ye:Je)),Xe=(et=[re(oe(),$e),(tt={entropy:de(Qe),exportable:de(H())},ae(tt))],new O({type:\"intersection\",schema:null,*entries(e,t){for(const{entries:n}of et)yield*n(e,t)},*validator(e,t){for(const{validator:n}of et)yield*n(e,t)},*refiner(e,t){for(const{refiner:n}of et)yield*n(e,t)}}));var et,tt;function nt(e,t){return L(e,(e=>\"string\"==typeof e&&t.test(e)))}const rt=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,ot=/^[-a-z0-9]{3,8}$/u,it=/^[-_a-zA-Z0-9]{1,32}$/u,at=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,st=/^[-.%a-zA-Z0-9]{1,128}$/u,ct=/^[-a-z0-9]{3,8}$/u,ut=/^[-.%a-zA-Z0-9]{1,128}$/u,lt=/^[-.%a-zA-Z0-9]{1,78}$/u,dt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,ft=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,ht=nt(\"CaipChainId\",rt),pt=(nt(\"CaipNamespace\",ot),nt(\"CaipReference\",it),nt(\"CaipAccountId\",at)),gt=(nt(\"CaipAccountAddress\",st),nt(\"CaipAssetNamespace\",ct),nt(\"CaipAssetReference\",ut),nt(\"CaipTokenId\",lt),nt(\"CaipAssetType\",dt)),mt=nt(\"CaipAssetId\",ft),yt=nt(\"CaipAssetTypeOrId\",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var vt,wt,At,bt,St,Et;!function(e){e.Bip122=\"bip122\",e.Solana=\"solana\",e.Eip155=\"eip155\",e.Wallet=\"wallet\"}(vt=vt||(vt={})),function(e){e.Eoa=\"eip155:eoa\",e.Erc4337=\"eip155:erc4337\"}(wt||(wt={})),function(e){e.P2pkh=\"bip122:p2pkh\",e.P2sh=\"bip122:p2sh\",e.P2wpkh=\"bip122:p2wpkh\",e.P2tr=\"bip122:p2tr\"}(At||(At={})),function(e){e.DataAccount=\"solana:data-account\"}(bt||(bt={})),function(e){e.Eoa=\"tron:eoa\"}(St||(St={})),function(e){e.Account=\"any:account\"}(Et||(Et={}));const kt=ue({id:q,type:Z([`${wt.Eoa}`,`${wt.Erc4337}`,`${At.P2pkh}`,`${At.P2sh}`,`${At.P2wpkh}`,`${At.P2tr}`,`${bt.DataAccount}`,`${St.Eoa}`,`${Et.Account}`]),address:oe(),scopes:me(G(ht)),options:Xe,methods:G(oe())}),Tt=(te({address:pt}),ue({unit:oe(),amount:V})),It=ue({fungible:Y(!0),type:gt,...Tt.schema}),xt=ue({fungible:Y(!1),id:mt}),_t=fe((e=>ze(e)&&!e.fungible?xt:It)),Ct=ue({amount:V,unit:oe()}),Rt=nt(\"DerivationPath\",/^m(?:\\/\\d+'?)+$/u);var Pt;!function(e){e.Bip44=\"bip44\"}(Pt||(Pt={}));const Nt=te({type:Y(`${Pt.Bip44}`),scopes:G(ht),derivationPath:Rt}),Bt=(re(oe(),$e),ue({id:$,scope:oe(),account:$,origin:oe(),request:ue({method:oe(),params:de(se([G($e),re(oe(),$e)]))})})),Mt=(se([ue({pending:Y(!0),redirect:de(ue({message:de(oe()),url:de(oe())}))}),ue({pending:Y(!1),result:$e})]),ue({address:oe(),asset:X(_t)}));var Ot;!function(e){e.Base=\"base\",e.Priority=\"priority\"}(Ot||(Ot={}));const zt=ue({type:Z([`${Ot.Base}`,`${Ot.Priority}`]),asset:_t});var Ut,jt;!function(e){e.Submitted=\"submitted\",e.Unconfirmed=\"unconfirmed\",e.Confirmed=\"confirmed\",e.Failed=\"failed\"}(Ut||(Ut={})),function(e){e.Send=\"send\",e.Receive=\"receive\",e.Swap=\"swap\",e.BridgeSend=\"bridge:send\",e.BridgeReceive=\"bridge:receive\",e.Unknown=\"unknown\"}(jt||(jt={}));const Dt=ue({status:Z([`${Ut.Submitted}`,`${Ut.Unconfirmed}`,`${Ut.Confirmed}`,`${Ut.Failed}`]),timestamp:X(ee())}),Lt=ue({id:oe(),chain:ht,account:$,status:Z([`${Ut.Submitted}`,`${Ut.Unconfirmed}`,`${Ut.Confirmed}`,`${Ut.Failed}`]),timestamp:X(ee()),type:Z([`${jt.Send}`,`${jt.Receive}`,`${jt.Swap}`,`${jt.BridgeSend}`,`${jt.BridgeReceive}`,`${jt.Unknown}`]),from:G(Mt),to:G(Mt),fees:G(zt),events:G(Dt)}),Ft=(ue({data:G(Lt),next:X(oe())}),ue({limit:ee(),next:de(X(oe()))})),$t=ue({metamask:de(ue({correlationId:$}))});var qt;!function(e){e.Mainnet=\"bip122:000000000019d6689c085ae165831e93\",e.Testnet=\"bip122:000000000933ea01ad0ee984209779ba\",e.Testnet4=\"bip122:00000000da84f2bafbbc53dee25a72ae\",e.Signet=\"bip122:00000008819873e925422c1ff0f99f7c\",e.Regtest=\"bip122:regtest\"}(qt||(qt={}));const Wt=(e,t)=>{try{return x(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}},Vt=ve(oe(),\"BtcP2pkhAddressStruct\",(e=>Wt(e,k.p2pkh))),Kt=ve(oe(),\"BtcP2shAddressStruct\",(e=>Wt(e,k.p2sh))),Gt=ve(oe(),\"BtcP2wpkhAddressStruct\",(e=>Wt(e,k.p2wpkh))),Ht=ve(oe(),\"BtcP2trAddressStruct\",(e=>Wt(e,k.p2tr)));var Zt;!function(e){e.SignPsbt=\"signPsbt\",e.ComputeFee=\"computeFee\",e.FillPsbt=\"fillPsbt\",e.BroadcastPsbt=\"broadcastPsbt\",e.SendTransfer=\"sendTransfer\",e.GetUtxo=\"getUtxo\",e.ListUtxos=\"listUtxos\",e.PublicDescriptor=\"publicDescriptor\",e.SignMessage=\"signMessage\"}(Zt||(Zt={}));const Jt=ue({...kt.schema,scopes:me(G(ht)),methods:G(Z(Object.values(Zt)))});ue({...Jt.schema,address:Vt,type:Y(`${At.P2pkh}`)}),ue({...Jt.schema,address:Kt,type:Y(`${At.P2sh}`)}),ue({...Jt.schema,address:Gt,type:Y(`${At.P2wpkh}`)}),ue({...Jt.schema,address:Ht,type:Y(`${At.P2tr}`)});var Yt;!function(e){e.Devnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",e.Mainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",e.Testnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\"}(Yt||(Yt={}));const Qt=nt(\"SolAddress\",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu);var Xt;!function(e){e.SendAndConfirmTransaction=\"sendAndConfirmTransaction\",e.SignAndSendTransaction=\"signAndSendTransaction\",e.SignTransaction=\"signTransaction\",e.SignMessage=\"signMessage\",e.SignIn=\"signIn\"}(Xt||(Xt={}));ue({...kt.schema,address:Qt,type:Y(`${bt.DataAccount}`),scopes:me(G(ht)),methods:G(Z(Object.values(Xt)))});var en;!function(e){e.Eoa=\"eip155:0\",e.Mainnet=\"eip155:1\",e.Testnet=\"eip155:11155111\"}(en||(en={}));const tn=nt(\"EthBytes\",/^0x[0-9a-f]*$/iu),nn=nt(\"EthAddress\",/^0x[0-9a-f]{40}$/iu),rn=nt(\"EthUint256\",/^0x([1-9a-f][0-9a-f]*|0)$/iu);var on;!function(e){e.PersonalSign=\"personal_sign\",e.Sign=\"eth_sign\",e.SignTransaction=\"eth_signTransaction\",e.SignTypedDataV1=\"eth_signTypedData_v1\",e.SignTypedDataV3=\"eth_signTypedData_v3\",e.SignTypedDataV4=\"eth_signTypedData_v4\",e.PrepareUserOperation=\"eth_prepareUserOperation\",e.PatchUserOperation=\"eth_patchUserOperation\",e.SignUserOperation=\"eth_signUserOperation\"}(on||(on={}));ue({...kt.schema,address:nn,type:Y(`${wt.Eoa}`),scopes:me(G(Y(en.Eoa))),methods:G(Z([`${on.PersonalSign}`,`${on.Sign}`,`${on.SignTransaction}`,`${on.SignTypedDataV1}`,`${on.SignTypedDataV3}`,`${on.SignTypedDataV4}`]))}),ue({...kt.schema,address:nn,type:Y(`${wt.Erc4337}`),scopes:me(G(ht)),methods:G(Z([`${on.PersonalSign}`,`${on.Sign}`,`${on.SignTypedDataV1}`,`${on.SignTypedDataV3}`,`${on.SignTypedDataV4}`,`${on.PrepareUserOperation}`,`${on.PatchUserOperation}`,`${on.SignUserOperation}`]))}),ue({sender:nn,nonce:rn,initCode:tn,callData:tn,callGasLimit:rn,verificationGasLimit:rn,preVerificationGas:rn,maxFeePerGas:rn,maxPriorityFeePerGas:rn,paymasterAndData:tn,signature:tn}),ue({to:nn,value:rn,data:tn}),ue({nonce:rn,initCode:tn,callData:tn,gasLimits:de(ue({callGasLimit:rn,verificationGasLimit:rn,preVerificationGas:rn})),dummyPaymasterAndData:tn,dummySignature:tn,bundlerUrl:W}),ue({paymasterAndData:tn,callGasLimit:de(rn),verificationGasLimit:de(rn),preVerificationGas:de(rn)});var an;!function(e){e.Mainnet=\"tron:728126428\",e.Nile=\"tron:3448148188\",e.Shasta=\"tron:2494104990\"}(an||(an={}));const sn=nt(\"TrxAddress\",/^T[1-9A-HJ-NP-Za-km-z]{33}$/iu);var cn;!function(e){e.SignMessageV2=\"signMessageV2\",e.VerifyMessageV2=\"verifyMessageV2\"}(cn||(cn={}));ue({...kt.schema,address:sn,type:Y(`${St.Eoa}`),scopes:me(G(ht)),methods:G(Z(Object.values(cn)))});var un;!function(e){e.ListAccounts=\"keyring_listAccounts\",e.GetAccount=\"keyring_getAccount\",e.CreateAccount=\"keyring_createAccount\",e.DiscoverAccounts=\"keyring_discoverAccounts\",e.ListAccountAssets=\"keyring_listAccountAssets\",e.ListAccountTransactions=\"keyring_listAccountTransactions\",e.GetAccountBalances=\"keyring_getAccountBalances\",e.ResolveAccountAddress=\"keyring_resolveAccountAddress\",e.FilterAccountChains=\"keyring_filterAccountChains\",e.UpdateAccount=\"keyring_updateAccount\",e.DeleteAccount=\"keyring_deleteAccount\",e.ExportAccount=\"keyring_exportAccount\",e.ListRequests=\"keyring_listRequests\",e.GetRequest=\"keyring_getRequest\",e.SubmitRequest=\"keyring_submitRequest\",e.ApproveRequest=\"keyring_approveRequest\",e.RejectRequest=\"keyring_rejectRequest\",e.SetSelectedAccounts=\"keyring_setSelectedAccounts\"}(un||(un={}));const ln={jsonrpc:Y(\"2.0\"),id:se([oe(),ee(),Y(null)])},dn=ue({...ln,method:Y(\"keyring_listAccounts\")}),fn=(G(kt),ue({...ln,method:Y(\"keyring_getAccount\"),params:ue({id:$})})),hn=ue({...ln,method:Y(\"keyring_createAccount\"),params:ue({options:re(oe(),$e)})}),pn=ue({...ln,method:Y(\"keyring_setSelectedAccounts\"),params:ue({accounts:G(oe())})}),gn=(Y(null),ue({...ln,method:Y(\"keyring_discoverAccounts\"),params:ue({scopes:G(ht),entropySource:oe(),groupIndex:ee()})})),mn=(G(Nt),ue({...ln,method:Y(\"keyring_listAccountTransactions\"),params:ue({id:$,pagination:Ft})})),yn=ue({...ln,method:Y(\"keyring_listAccountAssets\"),params:ue({id:$})}),vn=G(yt),wn=ue({...ln,method:Y(`${un.GetAccountBalances}`),params:ue({id:$,assets:G(gt)})}),An=(re(gt,Ct),ue({...ln,method:Y(\"keyring_resolveAccountAddress\"),params:ue({scope:ht,request:Be})})),bn=(X(ue({address:pt})),ue({...ln,method:Y(\"keyring_filterAccountChains\"),params:ue({id:$,chains:G(oe())})})),Sn=(G(oe()),ue({...ln,method:Y(\"keyring_updateAccount\"),params:ue({account:kt})})),En=(Y(null),ue({...ln,method:Y(\"keyring_deleteAccount\"),params:ue({id:$})})),kn=(Y(null),ue({...ln,method:Y(\"keyring_exportAccount\"),params:ue({id:$})})),Tn=ue({...ln,method:Y(\"keyring_listRequests\")}),In=(G(Bt),ue({...ln,method:Y(\"keyring_getRequest\"),params:ue({id:$})})),xn=ue({...ln,method:Y(\"keyring_submitRequest\"),params:Bt}),_n=ue({...ln,method:Y(\"keyring_approveRequest\"),params:ue({id:$,data:re(oe(),$e)})}),Cn=(Y(null),ue({...ln,method:Y(\"keyring_rejectRequest\"),params:ue({id:$})}));Y(null);var Rn;!function(e){e.AccountCreated=\"notify:accountCreated\",e.AccountUpdated=\"notify:accountUpdated\",e.AccountDeleted=\"notify:accountDeleted\",e.RequestApproved=\"notify:requestApproved\",e.RequestRejected=\"notify:requestRejected\",e.AccountBalancesUpdated=\"notify:accountBalancesUpdated\",e.AccountAssetListUpdated=\"notify:accountAssetListUpdated\",e.AccountTransactionsUpdated=\"notify:accountTransactionsUpdated\"}(Rn||(Rn={}));ue({method:Y(`${Rn.AccountCreated}`),params:ue({account:kt,accountNameSuggestion:de(oe()),displayConfirmation:de(H()),displayAccountNameSuggestion:de(H()),...$t.schema})}),ue({method:Y(`${Rn.AccountUpdated}`),params:ue({account:kt})}),ue({method:Y(`${Rn.AccountDeleted}`),params:ue({id:$})}),ue({method:Y(`${Rn.RequestApproved}`),params:ue({id:$,result:$e})}),ue({method:Y(`${Rn.RequestRejected}`),params:ue({id:$})}),ue({method:Y(`${Rn.AccountBalancesUpdated}`),params:ue({balances:re(q,re(gt,Tt))})}),ue({method:Y(`${Rn.AccountTransactionsUpdated}`),params:ue({transactions:re(q,G(Lt))})}),ue({method:Y(`${Rn.AccountAssetListUpdated}`),params:ue({assets:re(q,ue({added:G(yt),removed:G(yt)}))})});class Pn extends Error{constructor(e){super(`Method not supported: ${e}`)}}async function Nn(e,t){try{return await async function(e,t){switch(z(t,Be),t.method){case`${un.ListAccounts}`:return z(t,dn),e.listAccounts();case`${un.GetAccount}`:return z(t,fn),e.getAccount(t.params.id);case`${un.CreateAccount}`:return z(t,hn),e.createAccount(t.params.options);case`${un.DiscoverAccounts}`:if(void 0===e.discoverAccounts)throw new Pn(t.method);return z(t,gn),e.discoverAccounts(t.params.scopes,t.params.entropySource,t.params.groupIndex);case`${un.ListAccountTransactions}`:if(void 0===e.listAccountTransactions)throw new Pn(t.method);return z(t,mn),e.listAccountTransactions(t.params.id,t.params.pagination);case`${un.ListAccountAssets}`:if(void 0===e.listAccountAssets)throw new Pn(t.method);return z(t,yn),e.listAccountAssets(t.params.id);case`${un.GetAccountBalances}`:if(void 0===e.getAccountBalances)throw new Pn(t.method);return z(t,wn),e.getAccountBalances(t.params.id,t.params.assets);case`${un.ResolveAccountAddress}`:if(void 0===e.resolveAccountAddress)throw new Pn(t.method);return z(t,An),e.resolveAccountAddress(t.params.scope,t.params.request);case`${un.SetSelectedAccounts}`:if(void 0===e.setSelectedAccounts)throw new Pn(t.method);return z(t,pn),e.setSelectedAccounts(t.params.accounts);case`${un.FilterAccountChains}`:return z(t,bn),e.filterAccountChains(t.params.id,t.params.chains);case`${un.UpdateAccount}`:return z(t,Sn),e.updateAccount(t.params.account);case`${un.DeleteAccount}`:return z(t,En),e.deleteAccount(t.params.id);case`${un.ExportAccount}`:if(void 0===e.exportAccount)throw new Pn(t.method);return z(t,kn),e.exportAccount(t.params.id);case`${un.ListRequests}`:if(void 0===e.listRequests)throw new Pn(t.method);return z(t,Tn),e.listRequests();case`${un.GetRequest}`:if(void 0===e.getRequest)throw new Pn(t.method);return z(t,In),e.getRequest(t.params.id);case`${un.SubmitRequest}`:return z(t,xn),e.submitRequest(t.params);case`${un.ApproveRequest}`:if(void 0===e.approveRequest)throw new Pn(t.method);return z(t,_n),e.approveRequest(t.params.id,t.params.data);case`${un.RejectRequest}`:if(void 0===e.rejectRequest)throw new Pn(t.method);return z(t,Cn),e.rejectRequest(t.params.id);default:throw new Pn(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&\"string\"==typeof e.message?e.message:\"An unknown error occurred while handling the keyring request\";throw new Error(t)}}var Bn;!function(e){e.GetSelectedAccounts=\"getSelectedAccounts\"}(Bn||(Bn={}));te({method:Y(Bn.GetSelectedAccounts)});const Mn=G(oe());async function On(e,t,n){await e.request({method:\"snap_manageAccounts\",params:{method:t,params:{...n}}})}async function zn(e){const t=await e.request({method:\"snap_manageAccounts\",params:{method:Bn.GetSelectedAccounts}});return z(t,Mn),t}function Un(e){return Boolean(e)&&\"object\"==typeof e&&!Array.isArray(e)}const jn=(e,t)=>Object.hasOwnProperty.call(e,t);var Dn;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(Dn=Dn||(Dn={}));function Ln(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}var Fn=n(282);class $n extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function qn(e){return\"object\"==typeof e&&null!==e}function Wn(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function Vn(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${Wn(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Kn(e,t,n,r){(function(e){return qn(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=Vn(o,t,n,r);e&&(yield e)}}function*Gn(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&qn(t.schema)&&qn(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=Gn(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):qn(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class Hn{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Kn(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Kn(o(e,t),t,this,e):()=>[]}assert(e,t){return Zn(e,this,t)}create(e,t){return Jn(e,this,t)}is(e){return Yn(e,this)}mask(e,t){return function(e,t,n){const r=Qn(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return Qn(e,this,t)}}function Zn(e,t,n){const r=Qn(e,t,{message:n});if(r[0])throw r[0]}function Jn(e,t,n){const r=Qn(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Yn(e,t){return!Qn(e,t)[0]}function Qn(e,t,n={}){const r=Gn(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new $n(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function Xn(e,t){return new Hn({type:e,schema:null,validator:t})}function er(){return Xn(\"never\",(()=>!1))}function tr(e){const t=e?Object.keys(e):[],n=er();return new Hn({type:\"object\",schema:e??null,*entries(r){if(e&&qn(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>qn(e)||`Expected an object, but received: ${Wn(e)}`,coercer:e=>qn(e)?{...e}:e})}function nr(e){return new Hn({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function rr(){return Xn(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${Wn(e)}`))}function or(e){const t=e.map((e=>e.type)).join(\" | \");return new Hn({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=Gn(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${Wn(n)}`,...o]}})}function ir(e,t,n){return new Hn({...e,coercer:(r,o)=>Yn(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function ar(e,t,n){return new Hn({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Kn(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const sr=e=>tr(e);function cr({path:e,branch:t}){const n=e[e.length-1];return jn(t[t.length-2],n)}function ur(e){return new Hn({...e,type:`optional ${e.type}`,validator:(t,n)=>!cr(n)||e.validator(t,n),refiner:(t,n)=>!cr(n)||e.refiner(t,n)})}function lr(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!lr(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!lr(n[e][1])){t=!1;break}return t}return!1}const dr=Xn(\"JSON\",(e=>lr(e))),fr=ir(dr,ar(Xn(\"any\",(()=>!0)),\"JSON\",(e=>Yn(e,dr))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));function hr(e){try{return function(e){Jn(e,fr)}(e),!0}catch{return!1}}const pr=function(e){const t=Wn(e),n=typeof e;return new Hn({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${Wn(n)}`})}(\"2.0\"),gr=(mr=or([Xn(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${Wn(e)}`)),rr()]),new Hn({...mr,validator:(e,t)=>null===e||mr.validator(e,t),refiner:(e,t)=>null===e||mr.refiner(e,t)}));var mr;const yr=sr({code:Xn(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Wn(e)}`)),message:rr(),data:ur(fr),stack:ur(rr())}),vr=or([function(e,t){return new Hn({type:\"record\",schema:null,*entries(n){if(qn(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>qn(e)||`Expected an object, but received: ${Wn(e)}`})}(rr(),fr),(wr=fr,new Hn({type:\"array\",schema:wr,*entries(e){if(wr&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,wr]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Wn(e)}`}))]);var wr;sr({id:gr,jsonrpc:pr,method:rr(),params:ur(vr)}),sr({jsonrpc:pr,method:rr(),params:ur(vr)});tr({id:gr,jsonrpc:pr,result:nr(Xn(\"unknown\",(()=>!0))),error:nr(yr)});const Ar=sr({id:gr,jsonrpc:pr,result:fr}),br=sr({id:gr,jsonrpc:pr,error:yr});or([Ar,br]);const Sr={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},Er={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},kr={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}},Tr=Sr.internal,Ir=\"Unspecified error message. This is a bug, please report it.\",xr=(_r(Tr),\"Unspecified server error.\");function _r(e,t=Ir){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(jn(kr,t))return kr[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return xr}return t}function Cr(e){return Array.isArray(e)?e.map((e=>hr(e)?e:Un(e)?Rr(e):null)):Un(e)?Rr(e):hr(e)?e:null}function Rr(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return hr(r)&&(t[n]=r),t}),{})}const Pr=function(e){return e?.__esModule?e.default:e}(Fn);class Nr extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!t||\"string\"!=typeof t)throw new Error('\"message\" must be a non-empty string.');!function(e){return Un(e)&&jn(e,\"cause\")&&Un(e.cause)}(n)?super(t):(super(t,{cause:n.cause}),jn(this,\"cause\")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,Ln(this.data)&&(e.data.cause=Cr(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return Pr(this.serialize(),Mr,2)}}class Br extends Nr{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}function Mr(e,t){if(\"[Circular]\"!==t)return t}const Or=e=>Yr(Sr.parse,e),zr=e=>Yr(Sr.invalidRequest,e),Ur=e=>Yr(Sr.invalidParams,e),jr=e=>Yr(Sr.methodNotFound,e),Dr=e=>Yr(Sr.internal,e),Lr=e=>Yr(Sr.invalidInput,e),Fr=e=>Yr(Sr.resourceNotFound,e),$r=e=>Yr(Sr.resourceUnavailable,e),qr=e=>Yr(Sr.transactionRejected,e),Wr=e=>Yr(Sr.methodNotSupported,e),Vr=e=>Yr(Sr.limitExceeded,e),Kr=e=>Qr(Er.userRejectedRequest,e),Gr=e=>Qr(Er.unauthorized,e),Hr=e=>Qr(Er.unsupportedMethod,e),Zr=e=>Qr(Er.disconnected,e),Jr=e=>Qr(Er.chainDisconnected,e);function Yr(e,t){const[n,r]=Xr(t);return new Nr(e,n??_r(e),r)}function Qr(e,t){const[n,r]=Xr(t);return new Br(e,n??_r(e),r)}function Xr(e){if(e){if(\"string\"==typeof e)return[e];if(\"object\"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&\"string\"!=typeof t)throw new Error(\"Must specify string message.\");return[t??void 0,n]}}return[]}function eo(e,t,n=null){return Un(e)&&jn(e,t)?e[t]:n}function to(e,t,n=String(e)){const r=eo(e,t);return\"string\"==typeof r?r:n}function no(e){return to(e,\"message\")}function ro(e){return to(e,\"stack\",null)}function oo(e){return to(e,\"name\",e instanceof Error?e.name:\"Error\")}function io(e){const t=eo(e,\"data\");return null!==t&&hr(t)&&!Array.isArray(t)?t:{}}class ao extends Error{#e;#t;#n;#r;constructor(e,t={}){const n=no(e);super(n),this.#t=n,this.#e=function(e){const t=eo(e,\"code\");return\"number\"==typeof t&&Number.isInteger(t)?t:-32603}(e);const r={...io(e),...t};Object.keys(r).length>0&&(this.#n=r),this.#r=super.stack}get name(){return\"SnapError\"}get code(){return this.#e}get message(){return this.#t}get data(){return this.#n}get stack(){return this.#r}toJSON(){return{code:-31002,message:\"Snap Error\",data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}function so(e){if(\"string\"==typeof e)return{name:\"Error\",message:e,stack:null,cause:null};if(Yn(e,yr))return{name:\"JsonRpcError\",message:no(e),stack:ro(e)??ro(e.data)??null,cause:null};const t=function(e){return eo(e,\"cause\")}(e);return{name:oo(e),message:no(e),stack:ro(e)??null,cause:null===t?null:so(t)}}function co(e){return class extends ao{constructor(t,n){if(\"object\"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}const uo=co(Dr),lo=co(Lr),fo=co(Ur),ho=co(zr),po=co(Vr),go=co(jr),mo=co(Wr),yo=co(Or),vo=co(Fr),wo=co($r),Ao=co(qr),bo=co(Jr),So=co(Zr),Eo=co(Gr),ko=co(Hr),To=co(Kr);var Io=/^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,xo=Math.ceil,_o=Math.floor,Co=\"[BigNumber Error] \",Ro=Co+\"Number primitive has more than 15 significant digits: \",Po=1e14,No=14,Bo=9007199254740991,Mo=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Oo=1e7,zo=1e9;function Uo(e){var t=0|e;return e>0||e===t?t:t-1}function jo(e){for(var t,n,r=1,o=e.length,i=e[0]+\"\";r<o;){for(t=e[r++]+\"\",n=No-t.length;n--;t=\"0\"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function Do(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,c=e.e,u=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=c==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function Lo(e,t,n,r){if(e<t||e>n||e!==_o(e))throw Error(Co+(r||\"Argument\")+(\"number\"==typeof e?e<t||e>n?\" out of range: \":\" not an integer: \":\" not a primitive number: \")+String(e))}function Fo(e){var t=e.c.length-1;return Uo(e.e/No)==t&&e.c[t]%2!=0}function $o(e,t){return(e.length>1?e.charAt(0)+\".\"+e.slice(1):e)+(t<0?\"e\":\"e+\")+t}function qo(e,t,n){var r,o;if(t<0){for(o=n+\".\";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+\".\"+e.slice(t));return e}var Wo=function e(t){var n,r,o,i,a,s,c,u,l,d,f=I.prototype={constructor:I,toString:null,valueOf:null},h=new I(1),p=20,g=4,m=-7,y=21,v=-1e7,w=1e7,A=!1,b=1,S=0,E={prefix:\"\",groupSize:3,secondaryGroupSize:0,groupSeparator:\",\",decimalSeparator:\".\",fractionGroupSize:0,fractionGroupSeparator:\"\",suffix:\"\"},k=\"0123456789abcdefghijklmnopqrstuvwxyz\",T=!0;function I(e,t){var n,i,a,s,c,u,l,d,f=this;if(!(f instanceof I))return new I(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>w?f.c=f.e=null:e.e<v?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((u=\"number\"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>w?f.c=f.e=null:(f.e=s,f.c=[e]))}d=String(e)}else{if(!Io.test(d=String(e)))return o(f,d,u);f.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf(\".\"))>-1&&(d=d.replace(\".\",\"\")),(c=d.search(/e/i))>0?(s<0&&(s=c),s+=+d.slice(c+1),d=d.substring(0,c)):s<0&&(s=d.length)}else{if(Lo(t,2,k.length,\"Base\"),10==t&&T)return R(f=new I(e),p+f.e+1,g);if(d=String(e),u=\"number\"==typeof e){if(0*e!=0)return o(f,d,u,t);if(f.s=1/e<0?(d=d.slice(1),-1):1,I.DEBUG&&d.replace(/^0\\.0*|\\./,\"\").length>15)throw Error(Ro+e)}else f.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=k.slice(0,t),s=c=0,l=d.length;c<l;c++)if(n.indexOf(i=d.charAt(c))<0){if(\".\"==i){if(c>s){s=l;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,c=-1,s=0;continue}return o(f,String(e),u,t)}u=!1,(s=(d=r(d,t,10,f.s)).indexOf(\".\"))>-1?d=d.replace(\".\",\"\"):s=d.length}for(c=0;48===d.charCodeAt(c);c++);for(l=d.length;48===d.charCodeAt(--l););if(d=d.slice(c,++l)){if(l-=c,u&&I.DEBUG&&l>15&&(e>Bo||e!==_o(e)))throw Error(Ro+f.s*e);if((s=s-c-1)>w)f.c=f.e=null;else if(s<v)f.c=[f.e=0];else{if(f.e=s,f.c=[],c=(s+1)%No,s<0&&(c+=No),c<l){for(c&&f.c.push(+d.slice(0,c)),l-=No;c<l;)f.c.push(+d.slice(c,c+=No));c=No-(d=d.slice(c)).length}else c-=l;for(;c--;d+=\"0\");f.c.push(+d)}}else f.c=[f.e=0]}function x(e,t,n,r){var o,i,a,s,c;if(null==n?n=g:Lo(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)c=jo(e.c),c=1==r||2==r&&(a<=m||a>=y)?$o(c,a):qo(c,a,\"0\");else if(i=(e=R(new I(e),t,n)).e,s=(c=jo(e.c)).length,1==r||2==r&&(t<=i||i<=m)){for(;s<t;c+=\"0\",s++);c=$o(c,i)}else if(t-=a,c=qo(c,i,\"0\"),i+1>s){if(--t>0)for(c+=\".\";t--;c+=\"0\");}else if((t+=i-s)>0)for(i+1==s&&(c+=\".\");t--;c+=\"0\");return e.s<0&&o?\"-\"+c:c}function _(e,t){for(var n,r,o=1,i=new I(e[0]);o<e.length;o++)(!(r=new I(e[o])).s||(n=Do(i,r))===t||0===n&&i.s===t)&&(i=r);return i}function C(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*No-1)>w?e.c=e.e=null:n<v?e.c=[e.e=0]:(e.e=n,e.c=t),e}function R(e,t,n,r){var o,i,a,s,c,u,l,d=e.c,f=Mo;if(d){e:{for(o=1,s=d[0];s>=10;s/=10,o++);if((i=t-o)<0)i+=No,a=t,c=d[u=0],l=_o(c/f[o-a-1]%10);else if((u=xo((i+1)/No))>=d.length){if(!r)break e;for(;d.length<=u;d.push(0));c=l=0,o=1,a=(i%=No)-No+1}else{for(c=s=d[u],o=1;s>=10;s/=10,o++);l=(a=(i%=No)-No+o)<0?0:_o(c/f[o-a-1]%10)}if(r=r||t<0||null!=d[u+1]||(a<0?c:c%f[o-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?a>0?c/f[o-a]:0:d[u-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=f[(No-t%No)%No],e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=u,s=1,u--):(d.length=u+1,s=f[No-i],d[u]=a>0?_o(c/f[o-a]%f[a])*s:0),r)for(;;){if(0==u){for(i=1,a=d[0];a>=10;a/=10,i++);for(a=d[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(e.e++,d[0]==Po&&(d[0]=1));break}if(d[u]+=s,d[u]!=Po)break;d[u--]=0,s=1}for(i=d.length;0===d[--i];d.pop());}e.e>w?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function P(e){var t,n=e.e;return null===n?e.toString():(t=jo(e.c),t=n<=m||n>=y?$o(t,n):qo(t,n,\"0\"),e.s<0?\"-\"+t:t)}return I.clone=e,I.ROUND_UP=0,I.ROUND_DOWN=1,I.ROUND_CEIL=2,I.ROUND_FLOOR=3,I.ROUND_HALF_UP=4,I.ROUND_HALF_DOWN=5,I.ROUND_HALF_EVEN=6,I.ROUND_HALF_CEIL=7,I.ROUND_HALF_FLOOR=8,I.EUCLID=9,I.config=I.set=function(e){var t,n;if(null!=e){if(\"object\"!=typeof e)throw Error(Co+\"Object expected: \"+e);if(e.hasOwnProperty(t=\"DECIMAL_PLACES\")&&(Lo(n=e[t],0,zo,t),p=n),e.hasOwnProperty(t=\"ROUNDING_MODE\")&&(Lo(n=e[t],0,8,t),g=n),e.hasOwnProperty(t=\"EXPONENTIAL_AT\")&&((n=e[t])&&n.pop?(Lo(n[0],-zo,0,t),Lo(n[1],0,zo,t),m=n[0],y=n[1]):(Lo(n,-zo,zo,t),m=-(y=n<0?-n:n))),e.hasOwnProperty(t=\"RANGE\"))if((n=e[t])&&n.pop)Lo(n[0],-zo,-1,t),Lo(n[1],1,zo,t),v=n[0],w=n[1];else{if(Lo(n,-zo,zo,t),!n)throw Error(Co+t+\" cannot be zero: \"+n);v=-(w=n<0?-n:n)}if(e.hasOwnProperty(t=\"CRYPTO\")){if((n=e[t])!==!!n)throw Error(Co+t+\" not true or false: \"+n);if(n){if(\"undefined\"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw A=!n,Error(Co+\"crypto unavailable\");A=n}else A=n}if(e.hasOwnProperty(t=\"MODULO_MODE\")&&(Lo(n=e[t],0,9,t),b=n),e.hasOwnProperty(t=\"POW_PRECISION\")&&(Lo(n=e[t],0,zo,t),S=n),e.hasOwnProperty(t=\"FORMAT\")){if(\"object\"!=typeof(n=e[t]))throw Error(Co+t+\" not an object: \"+n);E=n}if(e.hasOwnProperty(t=\"ALPHABET\")){if(\"string\"!=typeof(n=e[t])||/^.?$|[+\\-.\\s]|(.).*\\1/.test(n))throw Error(Co+t+\" invalid: \"+n);T=\"0123456789\"==n.slice(0,10),k=n}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,y],RANGE:[v,w],CRYPTO:A,MODULO_MODE:b,POW_PRECISION:S,FORMAT:E,ALPHABET:k}},I.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!I.DEBUG)return!0;var t,n,r=e.c,o=e.e,i=e.s;e:if(\"[object Array]\"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-zo&&o<=zo&&o===_o(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%No)<1&&(t+=No),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=Po||n!==_o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(Co+\"Invalid BigNumber: \"+e)},I.maximum=I.max=function(){return _(arguments,-1)},I.minimum=I.min=function(){return _(arguments,1)},I.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return _o(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,s=0,c=[],u=new I(h);if(null==e?e=p:Lo(e,0,zo),o=xo(e/No),A)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(i=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw A=!1,Error(Co+\"crypto unavailable\");for(t=crypto.randomBytes(o*=7);s<o;)(i=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(i%1e14),s+=7);s=o/7}if(!A)for(;s<o;)(i=a())<9e15&&(c[s++]=i%1e14);for(o=c[--s],e%=No,o&&e&&(i=Mo[No-e],c[s]=_o(o/i)*i);0===c[s];c.pop(),s--);if(s<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=No);for(s=1,i=c[0];i>=10;i/=10,s++);s<No&&(r-=No-s)}return u.e=r,u.c=c,u}),I.sum=function(){for(var e=1,t=arguments,n=new I(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e=\"0123456789\";function t(e,t,n,r){for(var o,i,a=[0],s=0,c=e.length;s<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,d,f,h,m,y,v=r.indexOf(\".\"),w=p,A=g;for(v>=0&&(d=S,S=0,r=r.replace(\".\",\"\"),h=(y=new I(o)).pow(r.length-v),S=d,y.c=t(qo(jo(h.c),h.e,\"0\"),10,i,e),y.e=y.c.length),l=d=(m=t(r,o,i,s?(c=k,e):(c=e,k))).length;0==m[--d];m.pop());if(!m[0])return c.charAt(0);if(v<0?--l:(h.c=m,h.e=l,h.s=a,m=(h=n(h,y,w,A,i)).c,f=h.r,l=h.e),v=m[u=l+w+1],d=i/2,f=f||u<0||null!=m[u+1],f=A<4?(null!=v||f)&&(0==A||A==(h.s<0?3:2)):v>d||v==d&&(4==A||f||6==A&&1&m[u-1]||A==(h.s<0?8:7)),u<1||!m[0])r=f?qo(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,f)for(--i;++m[--u]>i;)m[u]=0,u||(++l,m=[1].concat(m));for(d=m.length;!m[--d];);for(v=0,r=\"\";v<=d;r+=c.charAt(m[v++]));r=qo(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,c=e.length,u=t%Oo,l=t/Oo|0;for(e=e.slice();c--;)s=((o=u*(i=e[c]%Oo)+(r=l*i+(a=e[c]/Oo|0)*u)%Oo*Oo+s)/n|0)+(r/Oo|0)+l*a,e[c]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,s){var c,u,l,d,f,h,p,g,m,y,v,w,A,b,S,E,k,T=r.s==o.s?1:-1,x=r.c,_=o.c;if(!(x&&x[0]&&_&&_[0]))return new I(r.s&&o.s&&(x?!_||x[0]!=_[0]:_)?x&&0==x[0]||!_?0*T:T/0:NaN);for(m=(g=new I(T)).c=[],T=i+(u=r.e-o.e)+1,s||(s=Po,u=Uo(r.e/No)-Uo(o.e/No),T=T/No|0),l=0;_[l]==(x[l]||0);l++);if(_[l]>(x[l]||0)&&u--,T<0)m.push(1),d=!0;else{for(b=x.length,E=_.length,l=0,T+=2,(f=_o(s/(_[0]+1)))>1&&(_=e(_,f,s),x=e(x,f,s),E=_.length,b=x.length),A=E,v=(y=x.slice(0,E)).length;v<E;y[v++]=0);k=_.slice(),k=[0].concat(k),S=_[0],_[1]>=s/2&&S++;do{if(f=0,(c=t(_,y,E,v))<0){if(w=y[0],E!=v&&(w=w*s+(y[1]||0)),(f=_o(w/S))>1)for(f>=s&&(f=s-1),p=(h=e(_,f,s)).length,v=y.length;1==t(h,y,p,v);)f--,n(h,E<p?k:_,p,s),p=h.length,c=1;else 0==f&&(c=f=1),p=(h=_.slice()).length;if(p<v&&(h=[0].concat(h)),n(y,h,v,s),v=y.length,-1==c)for(;t(_,y,E,v)<1;)f++,n(y,E<v?k:_,v,s),v=y.length}else 0===c&&(f++,y=[0]);m[l++]=f,y[0]?y[v++]=x[A]||0:(y=[x[A]],v=1)}while((A++<b||null!=y[0])&&T--);d=null!=y[0],m[0]||m.splice(0,1)}if(s==Po){for(l=1,T=m[0];T>=10;T/=10,l++);R(g,i+(g.e=l+u*No-1)+1,a,d)}else g.e=u,g.r=+d;return g}}(),s=/^(-?)0([xbo])(?=\\w[\\w.]*$)/i,c=/^([^.]+)\\.$/,u=/^\\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,d=/^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g,o=function(e,t,n,r){var o,i=n?t:t.replace(d,\"\");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(s,(function(e,t,n){return o=\"x\"==(n=n.toLowerCase())?16:\"b\"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(c,\"$1\").replace(u,\"0.$1\")),t!=i))return new I(i,o);if(I.DEBUG)throw Error(Co+\"Not a\"+(r?\" base \"+r:\"\")+\" number: \"+t);e.s=null}e.c=e.e=null},f.absoluteValue=f.abs=function(){var e=new I(this);return e.s<0&&(e.s=1),e},f.comparedTo=function(e,t){return Do(this,new I(e,t))},f.decimalPlaces=f.dp=function(e,t){var n,r,o,i=this;if(null!=e)return Lo(e,0,zo),null==t?t=g:Lo(t,0,8),R(new I(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-Uo(this.e/No))*No,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},f.dividedBy=f.div=function(e,t){return n(this,new I(e,t),p,g)},f.dividedToIntegerBy=f.idiv=function(e,t){return n(this,new I(e,t),0,1)},f.exponentiatedBy=f.pow=function(e,t){var n,r,o,i,a,s,c,u,l=this;if((e=new I(e)).c&&!e.isInteger())throw Error(Co+\"Exponent not an integer: \"+P(e));if(null!=t&&(t=new I(t)),a=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return u=new I(Math.pow(+P(l),a?e.s*(2-Fo(e)):+P(e))),t?u.mod(t):u;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new I(NaN);(r=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return i=l.s<0&&Fo(e)?-0:0,l.e>-1&&(i=1/i),new I(s?1/i:i);S&&(i=xo(S/No+2))}for(a?(n=new I(.5),s&&(e.s=1),c=Fo(e)):c=(o=Math.abs(+P(e)))%2,u=new I(h);;){if(c){if(!(u=u.times(l)).c)break;i?u.c.length>i&&(u.c.length=i):r&&(u=u.mod(t))}if(o){if(0===(o=_o(o/2)))break;c=o%2}else if(R(e=e.times(n),e.e+1,1),e.e>14)c=Fo(e);else{if(0===(o=+P(e)))break;c=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):r&&(l=l.mod(t))}return r?u:(s&&(u=h.div(u)),t?u.mod(t):i?R(u,S,g,undefined):u)},f.integerValue=function(e){var t=new I(this);return null==e?e=g:Lo(e,0,8),R(t,t.e+1,e)},f.isEqualTo=f.eq=function(e,t){return 0===Do(this,new I(e,t))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(e,t){return Do(this,new I(e,t))>0},f.isGreaterThanOrEqualTo=f.gte=function(e,t){return 1===(t=Do(this,new I(e,t)))||0===t},f.isInteger=function(){return!!this.c&&Uo(this.e/No)>this.c.length-2},f.isLessThan=f.lt=function(e,t){return Do(this,new I(e,t))<0},f.isLessThanOrEqualTo=f.lte=function(e,t){return-1===(t=Do(this,new I(e,t)))||0===t},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new I(e,t)).s,!s||!t)return new I(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/No,u=e.e/No,l=a.c,d=e.c;if(!c||!u){if(!l||!d)return l?(e.s=-t,e):new I(d?a:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new I(l[0]?a:3==g?-0:0)}if(c=Uo(c),u=Uo(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=d),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(t=d.length))?s:t,s=t=0;t<r;t++)if(l[t]!=d[t]){i=l[t]<d[t];break}if(i&&(o=l,l=d,d=o,e.s=-e.s),(t=(r=d.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=Po-1;r>s;){if(l[--r]<d[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=Po}l[r]-=d[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?C(e,l,u):(e.s=3==g?-1:1,e.c=[e.e=0],e)},f.modulo=f.mod=function(e,t){var r,o,i=this;return e=new I(e,t),!i.c||!e.s||e.c&&!e.c[0]?new I(NaN):!e.c||i.c&&!i.c[0]?new I(i):(9==b?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,b),(e=i.minus(r.times(e))).c[0]||1!=b||(e.s=i.s),e)},f.multipliedBy=f.times=function(e,t){var n,r,o,i,a,s,c,u,l,d,f,h,p,g,m,y=this,v=y.c,w=(e=new I(e,t)).c;if(!(v&&w&&v[0]&&w[0]))return!y.s||!e.s||v&&!v[0]&&!w||w&&!w[0]&&!v?e.c=e.e=e.s=null:(e.s*=y.s,v&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=Uo(y.e/No)+Uo(e.e/No),e.s*=y.s,(c=v.length)<(d=w.length)&&(p=v,v=w,w=p,o=c,c=d,d=o),o=c+d,p=[];o--;p.push(0));for(g=Po,m=Oo,o=d;--o>=0;){for(n=0,f=w[o]%m,h=w[o]/m|0,i=o+(a=c);i>o;)n=((u=f*(u=v[--a]%m)+(s=h*u+(l=v[a]/m|0)*f)%m*m+p[i]+n)/g|0)+(s/m|0)+h*l,p[i--]=u%g;p[i]=n}return n?++r:p.splice(0,1),C(e,p,r)},f.negated=function(){var e=new I(this);return e.s=-e.s||null,e},f.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new I(e,t)).s,!o||!t)return new I(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/No,a=e.e/No,s=r.c,c=e.c;if(!i||!a){if(!s||!c)return new I(o/0);if(!s[0]||!c[0])return c[0]?e:new I(s[0]?r:0*o)}if(i=Uo(i),a=Uo(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=c):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+c[t]+o)/Po|0,s[t]=Po===s[t]?0:s[t]%Po;return o&&(s=[o].concat(s),++a),C(e,s,a)},f.precision=f.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return Lo(e,1,zo),null==t?t=g:Lo(t,0,8),R(new I(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*No+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},f.shiftedBy=function(e){return Lo(e,-9007199254740991,Bo),this.times(\"1e\"+e)},f.squareRoot=f.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=p+4,d=new I(\"0.5\");if(1!==c||!s||!s[0])return new I(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+P(a)))||c==1/0?(((t=jo(s)).length+u)%2==0&&(t+=\"0\"),c=Math.sqrt(+t),u=Uo((u+1)/2)-(u<0||u%2),r=new I(t=c==1/0?\"5e\"+u:(t=c.toExponential()).slice(0,t.indexOf(\"e\")+1)+u)):r=new I(c+\"\"),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=d.times(i.plus(n(a,i,l,1))),jo(i.c).slice(0,c)===(t=jo(r.c)).slice(0,c)){if(r.e<u&&--c,\"9999\"!=(t=t.slice(c-3,c+1))&&(o||\"4999\"!=t)){+t&&(+t.slice(1)||\"5\"!=t.charAt(0))||(R(r,r.e+p+2,1),e=!r.times(r).eq(a));break}if(!o&&(R(i,i.e+p+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return R(r,r.e+p+1,g,e)},f.toExponential=function(e,t){return null!=e&&(Lo(e,0,zo),e++),x(this,e,t,1)},f.toFixed=function(e,t){return null!=e&&(Lo(e,0,zo),e=e+this.e+1),x(this,e,t)},f.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&\"object\"==typeof t?(n=t,t=null):e&&\"object\"==typeof e?(n=e,e=t=null):n=E;else if(\"object\"!=typeof n)throw Error(Co+\"Argument not an object: \"+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split(\".\"),s=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||\"\",l=a[0],d=a[1],f=o.s<0,h=f?l.slice(1):l,p=h.length;if(c&&(i=s,s=c,c=i,p-=i),s>0&&p>0){for(i=p%s||s,l=h.substr(0,i);i<p;i+=s)l+=u+h.substr(i,s);c>0&&(l+=u+h.slice(i)),f&&(l=\"-\"+l)}r=d?l+(n.decimalSeparator||\"\")+((c=+n.fractionGroupSize)?d.replace(new RegExp(\"\\\\d{\"+c+\"}\\\\B\",\"g\"),\"$&\"+(n.fractionGroupSeparator||\"\")):d):l}return(n.prefix||\"\")+r+(n.suffix||\"\")},f.toFraction=function(e){var t,r,o,i,a,s,c,u,l,d,f,p,m=this,y=m.c;if(null!=e&&(!(c=new I(e)).isInteger()&&(c.c||1!==c.s)||c.lt(h)))throw Error(Co+\"Argument \"+(c.isInteger()?\"out of range: \":\"not an integer: \")+P(c));if(!y)return new I(m);for(t=new I(h),l=r=new I(h),o=u=new I(h),p=jo(y),a=t.e=p.length-m.e-1,t.c[0]=Mo[(s=a%No)<0?No+s:s],e=!e||c.comparedTo(t)>0?a>0?t:l:c,s=w,w=1/0,c=new I(p),u.c[0]=0;d=n(c,t,0,1),1!=(i=r.plus(d.times(o))).comparedTo(e);)r=o,o=i,l=u.plus(d.times(i=l)),u=i,t=c.minus(d.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),u=u.plus(i.times(l)),r=r.plus(i.times(o)),u.s=l.s=m.s,f=n(l,o,a*=2,g).minus(m).abs().comparedTo(n(u,r,a,g).minus(m).abs())<1?[l,o]:[u,r],w=s,f},f.toNumber=function(){return+P(this)},f.toPrecision=function(e,t){return null!=e&&Lo(e,1,zo),x(this,e,t,2)},f.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t=\"Infinity\",o<0&&(t=\"-\"+t)):t=\"NaN\":(null==e?t=i<=m||i>=y?$o(jo(n.c),i):qo(jo(n.c),i,\"0\"):10===e&&T?t=qo(jo((n=R(new I(n),p+i+1,g)).c),n.e,\"0\"):(Lo(e,2,k.length,\"Base\"),t=r(qo(jo(n.c),i,\"0\"),10,e,o,!0)),o<0&&n.c[0]&&(t=\"-\"+t)),t},f.valueOf=f.toJSON=function(){return P(this)},f._isBigNumber=!0,f[Symbol.toStringTag]=\"BigNumber\",f[Symbol.for(\"nodejs.util.inspect.custom\")]=f.valueOf,null!=t&&I.set(t),I}();const Vo=Wo;function Ko(e,t){return L(e,(e=>\"string\"==typeof e&&t.test(e)))}const Go=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Ho=/^[-a-z0-9]{3,8}$/u,Zo=/^[-_a-zA-Z0-9]{1,32}$/u,Jo=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,Yo=/^[-.%a-zA-Z0-9]{1,128}$/u,Qo=/^[-a-z0-9]{3,8}$/u,Xo=/^[-.%a-zA-Z0-9]{1,128}$/u,ei=/^[-.%a-zA-Z0-9]{1,78}$/u,ti=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,ni=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,ri=(Ko(\"CaipChainId\",Go),Ko(\"CaipNamespace\",Ho),Ko(\"CaipReference\",Zo),Ko(\"CaipAccountId\",Jo),Ko(\"CaipAccountAddress\",Yo),Ko(\"CaipAssetNamespace\",Qo),Ko(\"CaipAssetReference\",Xo),Ko(\"CaipTokenId\",ei),Ko(\"CaipAssetType\",ti));Ko(\"CaipAssetId\",ni),Ko(\"CaipAssetTypeOrId\",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var oi;function ii(e){const t=ti.exec(e);if(!t?.groups)throw new Error(\"Invalid CAIP asset type.\");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function ai(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}!function(e){e.Bip122=\"bip122\",e.Solana=\"solana\",e.Eip155=\"eip155\",e.Wallet=\"wallet\"}(oi=oi||(oi={}));class si extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}}function ci(e,t=\"Assertion failed.\",n=si){if(!e){if(t instanceof Error)throw t;throw ai(n,t)}}var ui=4,li=5,di=6,fi=10,hi=-32700,pi=-32603,gi=-32602,mi=-32601,yi=-32600,vi=-32015,wi=-32014,Ai=-32012,bi=-32010,Si=-32009,Ei=-32007,ki=-32006,Ti=-32004,Ii=-32002,xi=-32001,_i=28e5,Ci=2800001,Ri=2800003,Pi=2800006,Ni=2800007,Bi=2800008,Mi=2800009,Oi=323e4,zi=32300001,Ui=3230002,ji=3230004,Di=361e4,Li=3610001,Fi=3610003,$i=3610005,qi=3610006,Wi=3610007,Vi=3704001,Ki=3704002,Gi=3704003,Hi=4615e3,Zi=4615026,Ji=4615045,Yi=5508e3,Qi=5663e3,Xi=5663001,ea=5663004,ta=5663005,na=5663006,ra=5663007,oa=5663008,ia=5663009,aa=5663012,sa=5663015,ca=5663016,ua=5663017,la=5663018,da=5663019,fa=705e4,ha=7050030,pa=7050031,ga=7050035,ma=8078e3,ya=8078001,va=8078002,wa=8078004,Aa=8078005,ba=8078006,Sa=8078007,Ea=8078008,ka=8078010,Ta=8078011,Ia=8078012,xa=8078013,_a=8078014,Ca=8078017,Ra=8078018,Pa=8078022,Na=81e5,Ba=8100002,Ma=8100003,Oa=9900003;function za(e){if(Array.isArray(e)){return\"%5B\"+e.map(za).join(\"%2C%20\")+\"%5D\"}return\"bigint\"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Ua([e,t]){return`${e}=${za(t)}`}function ja(e,t={}){{let n=`Solana error #${e}; Decode this error by running \\`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(Ua).join(\"&\");return btoa(t)}(t)}'`),`${n}\\``}}function Da(e,t){return!!(e instanceof Error&&\"SolanaError\"===e.name)&&(void 0===t||e.context.__code===t)}var La=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...o}=t;e&&(r={cause:e}),Object.keys(o).length>0&&(n=o)}super(ja(e,n),r),this.context={__code:e,...n},this.name=\"SolanaError\"}};function Fa(...e){\"captureStackTrace\"in Error&&\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function $a({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},o){let i,a;\"string\"==typeof r?i=r:(i=Object.keys(r)[0],a=r[i]);const s=e+n.indexOf(i),c=t(s,i,a),u=new La(s,c);return Fa(u,o),u}var qa=[\"GenericError\",\"InvalidArgument\",\"InvalidInstructionData\",\"InvalidAccountData\",\"AccountDataTooSmall\",\"InsufficientFunds\",\"IncorrectProgramId\",\"MissingRequiredSignature\",\"AccountAlreadyInitialized\",\"UninitializedAccount\",\"UnbalancedInstruction\",\"ModifiedProgramId\",\"ExternalAccountLamportSpend\",\"ExternalAccountDataModified\",\"ReadonlyLamportChange\",\"ReadonlyDataModified\",\"DuplicateAccountIndex\",\"ExecutableModified\",\"RentEpochModified\",\"NotEnoughAccountKeys\",\"AccountDataSizeChanged\",\"AccountNotExecutable\",\"AccountBorrowFailed\",\"AccountBorrowOutstanding\",\"DuplicateAccountOutOfSync\",\"Custom\",\"InvalidError\",\"ExecutableDataModified\",\"ExecutableLamportChange\",\"ExecutableAccountNotRentExempt\",\"UnsupportedProgramId\",\"CallDepth\",\"MissingAccount\",\"ReentrancyNotAllowed\",\"MaxSeedLengthExceeded\",\"InvalidSeeds\",\"InvalidRealloc\",\"ComputationalBudgetExceeded\",\"PrivilegeEscalation\",\"ProgramEnvironmentSetupFailure\",\"ProgramFailedToComplete\",\"ProgramFailedToCompile\",\"Immutable\",\"IncorrectAuthority\",\"BorshIoError\",\"AccountNotRentExempt\",\"InvalidAccountOwner\",\"ArithmeticOverflow\",\"UnsupportedSysvar\",\"IllegalOwner\",\"MaxAccountsDataAllocationsExceeded\",\"MaxAccountsExceeded\",\"MaxInstructionTraceLengthExceeded\",\"BuiltinProgramsMustConsumeComputeUnits\"];function Wa(e,t){const n=Number(e);return $a({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===Hi?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===Zi?{code:Number(r),index:n}:e===Ji?{encodedData:r,index:n}:{index:n},orderedErrorNames:qa,rpcEnumError:t},Wa)}var Va=[\"AccountInUse\",\"AccountLoadedTwice\",\"AccountNotFound\",\"ProgramAccountNotFound\",\"InsufficientFundsForFee\",\"InvalidAccountForFee\",\"AlreadyProcessed\",\"BlockhashNotFound\",\"CallChainTooDeep\",\"MissingSignatureForFee\",\"InvalidAccountIndex\",\"SignatureFailure\",\"InvalidProgramForExecution\",\"SanitizeFailure\",\"ClusterMaintenance\",\"AccountBorrowOutstanding\",\"WouldExceedMaxBlockCostLimit\",\"UnsupportedVersion\",\"InvalidWritableAccount\",\"WouldExceedMaxAccountCostLimit\",\"WouldExceedAccountDataBlockLimit\",\"TooManyAccountLocks\",\"AddressLookupTableNotFound\",\"InvalidAddressLookupTableOwner\",\"InvalidAddressLookupTableData\",\"InvalidAddressLookupTableIndex\",\"InvalidRentPayingAccount\",\"WouldExceedMaxVoteCostLimit\",\"WouldExceedAccountDataTotalLimit\",\"DuplicateInstruction\",\"InsufficientFundsForRent\",\"MaxLoadedAccountsDataSizeExceeded\",\"InvalidLoadedAccountsDataSizeLimit\",\"ResanitizationNeeded\",\"ProgramExecutionTemporarilyRestricted\",\"UnbalancedTransaction\"];function Ka(e){return\"object\"==typeof e&&\"InstructionError\"in e?Wa(...e.InstructionError):$a({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===fa?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===ha?{index:Number(n)}:e===pa||e===ga?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:Va,rpcEnumError:e},Ka)}function Ga(e){let t;if(\"object\"==typeof(n=e)&&null!==n&&\"code\"in n&&\"message\"in n&&(\"number\"==typeof n.code||\"bigint\"==typeof n.code)&&\"string\"==typeof n.message){const{code:n,data:r,message:o}=e,i=Number(n);if(i===Ii){const{err:e,...n}=r,o=e?{cause:Ka(e)}:null;t=new La(Ii,{...n,...o})}else{let e;switch(i){case pi:case gi:case yi:case mi:case hi:case Ai:case xi:case Ti:case wi:case bi:case Si:case Ei:case ki:case vi:e={__serverMessage:o};break;default:\"object\"!=typeof r||Array.isArray(r)||(e=r)}t=new La(i,e)}}else{const n=\"object\"==typeof e&&null!==e&&\"message\"in e&&\"string\"==typeof e.message?e.message:\"Malformed JSON-RPC error with no message attribute\";t=new La(fi,{error:e,message:n})}var n;return Fa(t,Ga),t}var Ha=(e,t)=>((e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n})(e.length<=t?e:e.slice(0,t),t);function Za(e,t,n){const r=0===n&&e.length===t.length?e:e.slice(n,n+t.length);return r.length===t.length&&t.every(((e,t)=>e===r[t]))}function Ja(e,t){return\"fixedSize\"in t?t.fixedSize:t.getSizeFromValue(e)}function Ya(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Ja(t,e));return e.write(t,n,0),n}})}function Qa(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Xa(e){return\"fixedSize\"in e&&\"number\"==typeof e.fixedSize}function es(e){if(!Xa(e))throw new La(va)}function ts(e){return!Xa(e)}function ns(e,t){if(Xa(e)!==Xa(t))throw new La(wa);if(Xa(e)&&Xa(t)&&e.fixedSize!==t.fixedSize)throw new La(Aa,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Xa(e)&&!Xa(t)&&e.maxSize!==t.maxSize)throw new La(ba,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function rs(e,t,n,r=0){const o=n.length-r;if(o<t)throw new La(ya,{bytesLength:o,codecDescription:e,expected:t})}function os(e,t,n){if(t<0||t>n)throw new La(_a,{bytesLength:n,codecDescription:e,offset:t})}function is(e,t){const n=(n,r,o)=>{const i=e.encode(n);return o=t.write(i.length,r,o),r.set(i,o),o+i.length};if(Xa(t)&&Xa(e))return Ya({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=Xa(t)?t.fixedSize:t.maxSize??null,o=Xa(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Ya({...e,...null!==i?{maxSize:i}:{},getSizeFromValue:n=>{const r=Ja(n,e);return Ja(r,t)+r},write:n})}function as(e,t){const n=(n,r)=>{const[o,i]=t.read(n,r),a=Number(o);return((r=i)>0||n.length>a)&&(n=n.slice(r,r+a)),rs(\"addDecoderSizePrefix\",a,n),[e.decode(n),r+a]};if(Xa(t)&&Xa(e))return Qa({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=Xa(t)?t.fixedSize:t.maxSize??null,o=Xa(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Qa({...e,...null!==i?{maxSize:i}:{},read:n})}function ss(e,t){return Ya({fixedSize:t,write:(n,r,o)=>{const i=e.encode(n),a=i.length>t?i.slice(0,t):i;return r.set(a,o),o+t}})}function cs(e,t){return Qa({fixedSize:t,read:(n,r)=>{rs(\"fixCodecSize\",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),Xa(e)&&(n=Ha(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function us(e,t){return Ya({...e,write:(n,r,o)=>{const i=e=>ds(e,r.length),a=t.preOffset?t.preOffset({bytes:r,preOffset:o,wrapBytes:i}):o;os(\"offsetEncoder\",a,r.length);const s=e.write(n,r,a),c=t.postOffset?t.postOffset({bytes:r,newPreOffset:a,postOffset:s,preOffset:o,wrapBytes:i}):s;return os(\"offsetEncoder\",c,r.length),c}})}function ls(e,t){return Qa({...e,read:(n,r)=>{const o=e=>ds(e,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;os(\"offsetDecoder\",i,n.length);const[a,s]=e.read(n,i),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:s,preOffset:r,wrapBytes:o}):s;return os(\"offsetDecoder\",c,n.length),[a,c]}})}function ds(e,t){return 0===t?0:(e%t+t)%t}function fs(e,t){if(Xa(e)){const n=t(e.fixedSize);if(n<0)throw new La(xa,{bytesLength:n,codecDescription:\"resizeEncoder\"});return Ya({...e,fixedSize:n})}return Ya({...e,getSizeFromValue:n=>{const r=t(e.getSizeFromValue(n));if(r<0)throw new La(xa,{bytesLength:r,codecDescription:\"resizeEncoder\"});return r}})}function hs(e,t){if(Xa(e)){const n=t(e.fixedSize);if(n<0)throw new La(xa,{bytesLength:n,codecDescription:\"resizeDecoder\"});return Qa({...e,fixedSize:n})}return e}function ps(e,t){return us(fs(e,(e=>e+t)),{preOffset:({preOffset:e})=>e+t})}function gs(e,t){return ls(hs(e,(e=>e+t)),{postOffset:({postOffset:e})=>e+t})}function ms(e,t){return Ya({...ts(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function ys(e,t){return Qa({...e,read:(n,r)=>{const[o,i]=e.read(n,r);return[t(o,n,r),i]}})}function vs(e,t,n,r){if(r<t||r>n)throw new La(Ta,{codecDescription:e,max:n,min:t,value:r})}var ws,As=((ws=As||{})[ws.Little=0]=\"Little\",ws[ws.Big=1]=\"Big\",ws);function bs(e){return 1!==e?.endian}function Ss(e){return Ya({fixedSize:e.size,write(t,n,r){e.range&&vs(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,bs(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function Es(e){return Qa({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new La(ma,{codecDescription:e})}(e.name,t,n),rs(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}(t,n,e.size));return[e.get(r,bs(e.config)),n+e.size]}})}var ks=(e={})=>Es({config:e,get:(e,t)=>e.getFloat64(0,t),name:\"f64\",size:8}),Ts=(e={})=>Es({config:e,get:(e,t)=>e.getInt16(0,t),name:\"i16\",size:2}),Is=(e={})=>Es({config:e,get:(e,t)=>e.getBigInt64(0,t),name:\"i64\",size:8}),xs=()=>Es({get:e=>e.getInt8(0),name:\"i8\",size:1}),_s=()=>Ya({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{vs(\"shortU16\",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const o=127&n;r[t]=o,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),Cs=()=>Qa({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const o=r-1,i=e[t+o];if(n|=(127&i)<<7*o,0==(128&i))break}return[n,t+r]}}),Rs=(e={})=>Es({config:e,get:(e,t)=>e.getUint16(0,t),name:\"u16\",size:2}),Ps=(e={})=>Ss({config:e,name:\"u32\",range:[0,Number(\"0xffffffff\")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}),Ns=(e={})=>Es({config:e,get:(e,t)=>e.getUint32(0,t),name:\"u32\",size:4}),Bs=(e={})=>Ss({config:e,name:\"u64\",range:[0n,BigInt(\"0xffffffffffffffff\")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),Ms=(e={})=>Es({config:e,get:(e,t)=>e.getBigUint64(0,t),name:\"u64\",size:8}),Os=()=>Ss({name:\"u8\",range:[0,Number(\"0xff\")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),zs=()=>Es({get:e=>e.getUint8(0),name:\"u8\",size:1});var Us,js=((Us=js||{})[Us.WRITABLE_SIGNER=3]=\"WRITABLE_SIGNER\",Us[Us.READONLY_SIGNER=2]=\"READONLY_SIGNER\",Us[Us.WRITABLE=1]=\"WRITABLE\",Us[Us.READONLY=0]=\"READONLY\",Us),Ds=2,Ls=1;function Fs(e){return e>=2}function $s(e){return 0!=(e&Ls)}function qs(e,t){return e|t}function Ws(e){return e|Ds}function Vs(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new La(Ia,{alphabet:e,base:e.length,value:n})}var Ks=e=>Ya({getSizeFromValue:t=>{const[n,r]=Zs(t,e[0]);if(!r)return t.length;const o=Js(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(Vs(e,t),\"\"===t)return r;const[o,i]=Zs(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=Js(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),Gs=e=>Qa({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return[\"\",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join(\"\")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}}),Hs=e=>ns(Ks(e),Gs(e));function Zs(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Js(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Ys=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\",Qs=()=>Ks(Ys),Xs=()=>Gs(Ys),ec=()=>Hs(Ys);var tc,nc,rc=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",oc=()=>Ya({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new La(Ia,{alphabet:rc,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split(\"\").map((e=>e.charCodeAt(0)));return t.set(r,n),r.length+n}catch{throw new La(Ia,{alphabet:rc,base:64,value:e})}}}),ic=()=>Qa({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),ac=()=>ns(oc(),ic()),sc=e=>e.replace(/\\u0000/g,\"\"),cc=globalThis.TextDecoder,uc=globalThis.TextEncoder,lc=()=>{let e;return Qa({read(t,n){const r=(e||=new cc).decode(t.slice(n));return[sc(r),t.length]}})},dc=()=>ns((()=>{let e;return Ya({getSizeFromValue:t=>(e||=new uc).encode(t).length,write:(t,n,r)=>{const o=(e||=new uc).encode(t);return n.set(o,r),r+o.length}})})(),lc());function fc(){if(!globalThis.isSecureContext)throw new La(Di)}function hc(){if(fc(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.exportKey)throw new La(Fi)}function pc(){return tc||(tc=Qs()),tc}function gc(e){if(e.length<32||e.length>44)return!1;const t=pc();try{return 32===t.encode(e).byteLength}catch{return!1}}function mc(e){if(e.length<32||e.length>44)throw new La(Ci,{actualLength:e.length});const t=pc().encode(e).byteLength;if(32!==t)throw new La(_i,{actualLength:t})}function yc(e){return mc(e),e}function vc(){return ms(ss(pc(),32),(e=>yc(e)))}function wc(){return cs((nc||(nc=Xs()),nc),32)}function Ac(){return ns(vc(),wc())}function bc(){return new Intl.Collator(\"en\",{caseFirst:\"lower\",ignorePunctuation:!1,localeMatcher:\"best fit\",numeric:!1,sensitivity:\"variant\",usage:\"sort\"}).compare}var Sc=37095705934669439343138083508754565189542113879843219016388785533085940283555n,Ec=57896044618658097711785492504343953926634992332820282019728792003956564819949n,kc=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function Tc(e){const t=e%Ec;return t>=0n?t:Ec+t}function Ic(e,t){let n=e;for(;t-- >0n;)n*=n,n%=Ec;return n}function xc(e,t){const n=Tc(t*t*t),r=function(e){const t=e*e%Ec*e%Ec,n=Ic(t,2n)*t%Ec,r=Ic(n,1n)*e%Ec,o=Ic(r,5n)*r%Ec,i=Ic(o,10n)*o%Ec,a=Ic(i,20n)*i%Ec,s=Ic(a,40n)*a%Ec,c=Ic(s,80n)*s%Ec,u=Ic(c,80n)*s%Ec,l=Ic(u,10n)*o%Ec;return Ic(l,2n)*e%Ec}(e*Tc(n*n*t));let o=Tc(e*n*r);const i=Tc(t*o*o),a=o,s=Tc(o*kc),c=i===e,u=i===Tc(-e),l=i===Tc(-e*kc);return c&&(o=a),(u||l)&&(o=s),1n===(1n&Tc(o))&&(o=Tc(-o)),c||u?o:null}function _c(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),\"\");return BigInt(`0x${t}`)}(e);return function(e,t){const n=Tc(e*e),r=xc(Tc(n-1n),Tc(Sc*n+1n));return null!==r&&(0n!==r||!(0!=(128&t)))}(t,e[31])}var Cc=32,Rc=16,Pc=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function Nc({programAddress:e,seeds:t}){if(function(){if(fc(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.digest)throw new La(Li)}(),t.length>Rc)throw new La(Pi,{actual:t.length,maxSeeds:Rc});let n;const r=t.reduce(((e,t,r)=>{const o=\"string\"==typeof t?(n||=new TextEncoder).encode(t):t;if(o.byteLength>Cc)throw new La(Ni,{actual:o.byteLength,index:r,maxSeedLength:Cc});return e.push(...o),e}),[]),o=Ac(),i=o.encode(e),a=await crypto.subtle.digest(\"SHA-256\",new Uint8Array([...r,...i,...Pc])),s=new Uint8Array(a);if(_c(s))throw new La(Bi);return o.decode(s)}async function Bc({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await Nc({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!Da(e,Bi))throw e;n--}throw new La(Mi)}async function Mc(e){if(hc(),\"public\"!==e.type||\"Ed25519\"!==e.algorithm.name)throw new La(Ri);const t=await crypto.subtle.exportKey(\"raw\",e);return wc().decode(new Uint8Array(t))}var Oc,zc=Object.freeze({name:\"Ed25519\"});async function Uc(e,t){const n=e.byteLength;if(32!==n)throw new La(Vi,{actualLength:n});const r=function(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}(e);return await crypto.subtle.importKey(\"pkcs8\",r,zc,t??!1,[\"sign\"])}async function jc(e,t){!function(){if(fc(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.sign)throw new La($i)}();const n=await crypto.subtle.sign(zc,e,t);return new Uint8Array(n)}function Dc(e){return function(e){if(Oc||(Oc=Qs()),e.length<64||e.length>88)throw new La(Gi,{actualLength:e.length});const t=Oc.encode(e).byteLength;if(64!==t)throw new La(Ki,{actualLength:t})}(e),e}async function Lc(e,t,n){return function(){if(fc(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.verify)throw new La(qi)}(),await crypto.subtle.verify(zc,e,t,n)}async function Fc(e,t=!1){const n=Uc(e,t),[r,o]=await Promise.all([(t?n:Uc(e,!0)).then((async e=>await async function(e,t=!1){if(hc(),!1===e.extractable)throw new La(Wi,{key:e});const n=await crypto.subtle.exportKey(\"jwk\",e);return await crypto.subtle.importKey(\"jwk\",{crv:\"Ed25519\",ext:t,key_ops:[\"verify\"],kty:\"OKP\",x:n.x},\"Ed25519\",t,[\"verify\"])}(e,!0))),n]);return{privateKey:o,publicKey:r}}function $c(e,t,n){if(t!==n)throw new La(Sa,{actual:n,codecDescription:e,expected:t})}function qc(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function Wc(e){return Xa(e)?e.fixedSize:null}function Vc(e){return Xa(e)?e.fixedSize:e.maxSize??null}function Kc(e,t={}){const n=t.size??Ps(),r=Hc(n,Wc(e)),o=Hc(n,Vc(e))??void 0;return Ya({...null!==r?{fixedSize:r}:{getSizeFromValue:t=>(\"object\"==typeof n?Ja(t.length,n):0)+[...t].reduce(((t,n)=>t+Ja(n,e)),0),maxSize:o},write:(t,r,o)=>(\"number\"==typeof n&&$c(\"array\",n,t.length),\"object\"==typeof n&&(o=n.write(t.length,r,o)),t.forEach((t=>{o=e.write(t,r,o)})),o)})}function Gc(e,t={}){const n=t.size??Ns(),r=Wc(e),o=Hc(n,r),i=Hc(n,Vc(e))??void 0;return Qa({...null!==o?{fixedSize:o}:{maxSize:i},read:(t,r)=>{const o=[];if(\"object\"==typeof n&&0===t.slice(r).length)return[o,r];if(\"remainder\"===n){for(;r<t.length;){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}const[i,a]=\"number\"==typeof n?[n,r]:n.read(t,r);r=a;for(let n=0;n<i;n+=1){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}})}function Hc(e,t){return\"number\"!=typeof e?null:0===e?0:null===t?null:t*e}function Zc(e={}){return ms(e.size??Os(),(e=>e?1:0))}function Jc(e={}){return ys(e.size??zs(),(e=>1===Number(e)))}function Yc(){return Ya({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function Qc(){return Qa({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}var Xc=()=>Qa({read(e,t){const n=e.slice(t).reduce(((e,t)=>e+t.toString(16).padStart(2,\"0\")),\"\");return[n,e.length]}});function eu(e){return Ya({fixedSize:e.length,write:(t,n,r)=>(n.set(e,r),r+e.length)})}function tu(e){return Qa({fixedSize:e.length,read:(t,n)=>{const r=Xc();if(!Za(t,e,n))throw new La(Ra,{constant:e,data:t,hexConstant:r.decode(e),hexData:r.decode(t),offset:n});return[void 0,n+e.length]}})}function nu(e){const t=qc(e.map(Wc)),n=qc(e.map(Vc))??void 0;return Ya({...null===t?{getSizeFromValue:t=>e.map(((e,n)=>Ja(t[n],e))).reduce(((e,t)=>e+t),0),maxSize:n}:{fixedSize:t},write:(t,n,r)=>($c(\"tuple\",e.length,t.length),e.forEach(((e,o)=>{r=e.write(t[o],n,r)})),r)})}function ru(e){const t=qc(e.map(Wc)),n=qc(e.map(Vc))??void 0;return Qa({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach((e=>{const[o,i]=e.read(t,n);r.push(o),n=i})),[r,n]}})}function ou(e,t){const n=su(e),r=(n,r,o)=>{const i=t(n);return au(e,i),e[i].write(n,r,o)};if(null!==n)return Ya({fixedSize:n,write:r});const o=cu(e);return Ya({...null!==o?{maxSize:o}:{},getSizeFromValue:n=>{const r=t(n);return au(e,r),Ja(n,e[r])},write:r})}function iu(e,t){const n=su(e),r=(n,r)=>{const o=t(n,r);return au(e,o),e[o].read(n,r)};if(null!==n)return Qa({fixedSize:n,read:r});const o=cu(e);return Qa({...null!==o?{maxSize:o}:{},read:r})}function au(e,t){if(void 0===e[t])throw new La(Ca,{maxRange:e.length-1,minRange:0,variant:t})}function su(e){if(0===e.length)return 0;if(!Xa(e[0]))return null;const t=e[0].fixedSize;return e.every((e=>Xa(e)&&e.fixedSize===t))?t:null}function cu(e){return e.map((e=>Vc(e))).reduce(((e,t)=>null===e||null===t?null:Math.max(e,t)),0)}function uu(e,t={}){const n=t.discriminator??\"__kind\",r=t.size??zs();return iu(e.map((([e,t])=>ys(ru([r,t]),(([,t])=>({[n]:e,...t}))))),((e,t)=>Number(r.read(e,t)[0])))}function lu(e){const t=[...new Set(Object.values(e).filter((e=>\"number\"==typeof e)))].sort(),n=Object.fromEntries(Object.entries(e).slice(t.length)),r=Object.keys(n),o=Object.values(n),i=[...new Set([...r,...o.filter((e=>\"string\"==typeof e))])];return{enumKeys:r,enumRecord:n,enumValues:o,numericalValues:t,stringValues:i}}function du(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function fu(e){if(0===e.length)return\"\";let t=[e[0],e[0]];const n=[];for(let r=1;r<e.length;r++){const o=e[r];t[1]+1===o?t[1]=o:(n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),t=[o,o])}return n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),n.join(\", \")}function hu(e,t={}){const n=t.size??Os(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a,stringValues:s}=lu(e);if(r&&i.some((e=>\"string\"==typeof e)))throw new La(Pa,{stringValues:i.filter((e=>\"string\"==typeof e))});return ms(n,(e=>{const t=function({enumKeys:e,enumValues:t,variant:n}){const r=du(t,(e=>e===n));return r>=0?r:e.findIndex((e=>e===n))}({enumKeys:o,enumValues:i,variant:e});if(t<0)throw new La(ka,{formattedNumericalValues:fu(a),numericalValues:a,stringValues:s,variant:e});return r?i[t]:t}))}function pu(e,t={}){const n=t.size??zs(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a}=lu(e);if(r&&i.some((e=>\"string\"==typeof e)))throw new La(Pa,{stringValues:i.filter((e=>\"string\"==typeof e))});return ys(n,(e=>{const t=Number(e),n=function({discriminator:e,enumKeys:t,enumValues:n,useValuesAsDiscriminators:r}){return r?du(n,(t=>t===e)):e>=0&&e<t.length?e:-1}({discriminator:t,enumKeys:o,enumValues:i,useValuesAsDiscriminators:r});if(n<0){const e=r?a:[...Array(o.length).keys()];throw new La(Ea,{discriminator:t,formattedValidDiscriminators:fu(e),validDiscriminators:e})}return i[n]}))}var gu;function mu(e,t){return ys(ru([...t,e]),(e=>e[e.length-1]))}function yu(e,t,n={}){return ys(Gc(ru([e,t]),n),(e=>new Map(e)))}function vu(){return Ya({fixedSize:0,write:(e,t,n)=>n})}function wu(){return Qa({fixedSize:0,read:(e,t)=>[void 0,t]})}function Au(e){const t=e.map((([,e])=>e)),n=qc(t.map(Wc)),r=qc(t.map(Vc))??void 0;return Ya({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>Ja(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:r}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,o])=>{r=o.write(t[e],n,r)})),r)})}function bu(e){const t=e.map((([,e])=>e)),n=qc(t.map(Wc)),r=qc(t.map(Vc))??void 0;return Qa({...null===n?{maxSize:r}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach((([e,o])=>{const[i,a]=o.read(t,n);n=a,r[e]=i})),[r,n]}})}function Su(){return gu||(gu=Qs()),gu}function Eu(e){if(e.length<32||e.length>44)throw new La(ui,{actualLength:e.length});const t=Su().encode(e).byteLength;if(32!==t)throw new La(li,{actualLength:t})}function ku(e){switch(e){case\"finalized\":return 2;case\"confirmed\":return 1;case\"processed\":return 0;default:throw new La(Oa,{unexpectedValue:e})}}var Tu=18446744073709551615n;function Iu(e){return function(e){if(e<0||e>Tu)throw new La(di)}(e),e}function xu(e,...t){return t.reduce(((e,t)=>t(e)),e)}function _u(e){if(!(\"lifetimeConstraint\"in e&&\"string\"==typeof e.lifetimeConstraint.blockhash&&\"bigint\"==typeof e.lifetimeConstraint.lastValidBlockHeight))return!1;try{return Eu(e.lifetimeConstraint.blockhash),!0}catch{return!1}}function Cu(e,t){if(\"lifetimeConstraint\"in t&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight)return t;const n={...t,lifetimeConstraint:Object.freeze(e)};return Object.freeze(n),n}var Ru=e=>Ya({getSizeFromValue:t=>{const[n,r]=Nu(t,e[0]);if(!r)return t.length;const o=Bu(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new La(Ia,{alphabet:e,base:e.length,value:n})}(e,t),\"\"===t)return r;const[o,i]=Nu(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=Bu(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),Pu=e=>Qa({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return[\"\",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join(\"\")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}});function Nu(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Bu(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Mu,Ou,zu,Uu,ju,Du,Lu=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\",Fu=()=>Ru(Lu),$u=()=>Pu(Lu);function qu(){return zu||(zu=Os()),zu}function Wu(){return Uu||(Uu=zs()),Uu}var Vu=128;function Ku(){return Ya({getSizeFromValue:e=>\"legacy\"===e?0:1,maxSize:1,write:(e,t,n)=>{if(\"legacy\"===e)return n;if(e<0||e>127)throw new La(ea,{actualVersion:e});return t.set([e|Vu],n),n+1}})}function Gu(){return Qa({maxSize:1,read:(e,t)=>{const n=e[t];if(0==(n&Vu))return[\"legacy\",t];return[n^Vu,t+1]}})}function Hu(){return Au(Ju())}function Zu(){return ms(Au([...Ju(),[\"addressTableLookups\",Kc((Mu||(Mu=Au([[\"lookupTableAddress\",vc()],[\"writableIndices\",Kc(Os(),{size:_s()})],[\"readableIndices\",Kc(Os(),{size:_s()})]])),Mu),{size:_s()})]]),(e=>\"legacy\"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]}))}function Ju(){return[[\"version\",Ku()],[\"header\",Au([[\"numSignerAccounts\",qu()],[\"numReadonlySignerAccounts\",qu()],[\"numReadonlyNonSignerAccounts\",qu()]])],[\"staticAccounts\",Kc(vc(),{size:_s()})],[\"lifetimeToken\",ss(Fu(),32)],[\"instructions\",Kc((ju||(ju=ms(Au([[\"programAddressIndex\",Os()],[\"accountIndices\",Kc(Os(),{size:_s()})],[\"data\",is(Yc(),_s())]]),(e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)}))),ju),{size:_s()})]]}function Yu(){return Ya({getSizeFromValue:e=>\"legacy\"===e.version?Hu().getSizeFromValue(e):Zu().getSizeFromValue(e),write:(e,t,n)=>\"legacy\"===e.version?Hu().write(e,t,n):Zu().write(e,t,n)})}function Qu(){return ys(bu([[\"version\",Gu()],[\"header\",bu([[\"numSignerAccounts\",Wu()],[\"numReadonlySignerAccounts\",Wu()],[\"numReadonlyNonSignerAccounts\",Wu()]])],[\"staticAccounts\",Gc(wc(),{size:Cs()})],[\"lifetimeToken\",cs($u(),32)],[\"instructions\",Gc((Du||(Du=ys(bu([[\"programAddressIndex\",zs()],[\"accountIndices\",Gc(zs(),{size:Cs()})],[\"data\",as(Qc(),Cs())]]),(e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}}))),Du),{size:Cs()})],[\"addressTableLookups\",Gc((Ou||(Ou=bu([[\"lookupTableAddress\",wc()],[\"writableIndices\",Gc(zs(),{size:Cs()})],[\"readableIndices\",Gc(zs(),{size:Cs()})]])),Ou),{size:Cs()})]]),(({addressTableLookups:e,...t})=>\"legacy\"!==t.version&&e?.length?{...t,addressTableLookups:e}:t))}function Xu(e,t,n){e[t]=n(e[t]??{role:js.READONLY})}var el=Symbol(\"AddressMapTypeProperty\");function tl(e){const t={};for(const n of e){if(!(\"lookupTableAddress\"in n))continue;const e=t[n.lookupTableAddress]||={readableIndices:[],writableIndices:[]};n.role===js.WRITABLE?e.writableIndices.push(n.addressIndex):e.readableIndices.push(n.addressIndex)}return Object.keys(t).sort(bc()).map((e=>({lookupTableAddress:e,...t[e]})))}function nl(e){let t=0,n=0,r=0;for(const o of e){if(\"lookupTableAddress\"in o)break;const e=$s(o.role);Fs(o.role)?(r++,e||n++):e||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function rl(e,t){const n=function(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}(t);return e.map((({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map((({address:e})=>n[e]))}:null,...t?{data:t}:null})))}function ol(e){const t=e.findIndex((e=>\"lookupTableAddress\"in e));return(-1===t?e:e.slice(0,t)).map((({address:e})=>e))}function il(e){const t=function(e){let t;const n=Object.entries(e).sort((([e,n],[r,o])=>{if(n[el]!==o[el]){if(0===n[el])return-1;if(0===o[el])return 1;if(2===n[el])return-1;if(2===o[el])return 1}const i=Fs(n.role);if(i!==Fs(o.role))return i?-1:1;const a=$s(n.role);return a!==$s(o.role)?a?-1:1:(t||=bc(),1===n[el]&&1===o[el]&&n.lookupTableAddress!==o.lookupTableAddress?t(n.lookupTableAddress,o.lookupTableAddress):t(e,r))})).map((([e,t])=>({address:e,...t})));return n}(function(e,t){const n={[e]:{[el]:0,role:js.WRITABLE_SIGNER}},r=new Set;for(const e of t){let t;if(Xu(n,e.programAddress,(t=>{if(r.add(e.programAddress),el in t){if($s(t.role)){if(0===t[el])throw new La(Qi,{programAddress:e.programAddress});throw new La(Xi,{programAddress:e.programAddress})}if(2===t[el])return t}return{[el]:2,role:js.READONLY}})),e.accounts)for(const o of e.accounts)Xu(n,o.address,(e=>{const{address:n,...i}=o;if(el in e)switch(e[el]){case 0:return e;case 1:{const n=qs(e.role,i.role);if(\"lookupTableAddress\"in i){if(e.lookupTableAddress!==i.lookupTableAddress&&(t||=bc())(i.lookupTableAddress,e.lookupTableAddress)<0)return{[el]:1,...i,role:n}}else if(Fs(i.role))return{[el]:2,role:n};return e.role!==n?{...e,role:n}:e}case 2:{const t=qs(e.role,i.role);if(r.has(o.address)){if($s(i.role))throw new La(Xi,{programAddress:o.address});return e.role!==t?{...e,role:t}:e}return\"lookupTableAddress\"in i&&!Fs(e.role)?{...i,[el]:1,role:t}:e.role!==t?{...e,role:t}:e}}return\"lookupTableAddress\"in i?{...i,[el]:1}:{...i,[el]:2}}))}return n}(e.feePayer.address,e.instructions));return{...\"legacy\"!==e.version?{addressTableLookups:tl(t)}:null,header:nl(t),instructions:rl(e.instructions,t),lifetimeToken:(n=e.lifetimeConstraint,\"nonce\"in n?n.nonce:n.blockhash),staticAccounts:ol(t),version:e.version};var n}function al({version:e}){return Object.freeze({instructions:Object.freeze([]),version:e})}var sl,cl=\"SysvarRecentB1ockHashes11111111111111111111\",ul=\"11111111111111111111111111111111\";function ll(e,t){return{accounts:[{address:e,role:js.WRITABLE},{address:cl,role:js.READONLY},{address:t,role:js.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:ul}}function dl(e){return e.programAddress===ul&&null!=e.data&&(4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3])&&3===e.accounts?.length&&null!=e.accounts[0].address&&e.accounts[0].role===js.WRITABLE&&e.accounts[1].address===cl&&e.accounts[1].role===js.READONLY&&null!=e.accounts[2].address&&Fs(e.accounts[2].role);var t}function fl(e){return\"lifetimeConstraint\"in e&&\"string\"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&dl(e.instructions[0])}function hl(e,t){if(\"feePayer\"in t&&e===t.feePayer?.address&&function(e){return!!e&&\"address\"in e&&\"string\"==typeof e.address&&1===Object.keys(e).length}(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function pl(e,t){return gl([e],t)}function gl(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function ml(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}function yl(e,t){const n=e.staticAccounts[0];if(!n)throw new La(oa);const r=[...function(e){const{header:t}=e,n=t.numSignerAccounts-t.numReadonlySignerAccounts,r=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,o=[];let i=0;for(let t=0;t<n;t++)o.push({address:e.staticAccounts[i],role:js.WRITABLE_SIGNER}),i++;for(let n=0;n<t.numReadonlySignerAccounts;n++)o.push({address:e.staticAccounts[i],role:js.READONLY_SIGNER}),i++;for(let t=0;t<r;t++)o.push({address:e.staticAccounts[i],role:js.WRITABLE}),i++;for(let n=0;n<t.numReadonlyNonSignerAccounts;n++)o.push({address:e.staticAccounts[i],role:js.READONLY}),i++;return o}(e),...\"addressTableLookups\"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){const n=e.map((e=>e.lookupTableAddress)).filter((e=>void 0===t[e]));if(n.length>0)throw new La(ta,{lookupTableAddresses:n});const r=[],o=[];for(const n of e){const e=t[n.lookupTableAddress],i=Math.max(...n.readableIndices,...n.writableIndices);if(i>=e.length)throw new La(na,{highestKnownIndex:e.length-1,highestRequestedIndex:i,lookupTableAddress:n.lookupTableAddress});const a=n.readableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:js.READONLY})));r.push(...a);const s=n.writableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:js.WRITABLE})));o.push(...s)}return[...o,...r]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[]],o=e.instructions.map((e=>function(e,t){const n=t[e.programAddressIndex]?.address;if(!n)throw new La(ra,{index:e.programAddressIndex});const r=e.accountIndices?.map((e=>t[e])),{data:o}=e;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...o&&o.length?{data:o}:{}})}(e,r))),i=o[0],a=function(e,t,n){if(t&&dl(t)){const n=t.accounts[0].address;mc(n);const r=t.accounts[2].address;return mc(r),{nonce:e,nonceAccountAddress:n,nonceAuthorityAddress:r}}return{blockhash:e,lastValidBlockHeight:n??2n**64n-1n}}(e.lifetimeToken,i,t?.lastValidBlockHeight);return xu(al({version:e.version}),(e=>hl(n,e)),(e=>o.reduce(((e,t)=>pl(t,e)),e)),(e=>\"blockhash\"in a?Cu(a,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:n},r){let o;const i=r.instructions[0];if(i&&dl(i))if(function(e,t,n){return e.accounts[0].address===t&&e.accounts[2].address===n}(i,t,n)){if(fl(r)&&r.lifetimeConstraint.nonce===e)return r;o=[i,...r.instructions.slice(1)]}else o=[Object.freeze(ll(t,n)),...r.instructions.slice(1)];else o=[Object.freeze(ll(t,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(o),lifetimeConstraint:Object.freeze({nonce:e})})}(a,e)))}function vl(e){const t=Object.values(e);if(0===t.length)throw new La(ca);return t.map((e=>e||new Uint8Array(64).fill(0)))}function wl(){return Au([[\"signatures\",ms(Kc(ss(Yc(),64),{size:_s()}),vl)],[\"messageBytes\",Yc()]])}function Al(){return ys(bu([[\"signatures\",Gc(cs(Qc(),64),{size:Cs()})],[\"messageBytes\",Qc()]]),bl)}function bl(e){const{messageBytes:t,signatures:n}=e,r=ru([Gu(),gs(zs(),2),Gc(wc(),{size:Cs()})]),[o,i,a]=r.decode(t),s=a.slice(0,i);if(s.length!==n.length)throw new La(ua,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:s});const c={};return s.forEach(((e,t)=>{const r=n[t];r.every((e=>0===e))?c[e]=null:c[e]=r})),{messageBytes:t,signatures:Object.freeze(c)}}function Sl(e){const t=il(e),n=Yu().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),o={};for(const e of r)o[e]=null;let i;i=_u(e)?{blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:{nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address};const a={lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(o)};return Object.freeze(a)}function El(e){sl||(sl=Xs());const t=Object.values(e.signatures)[0];if(!t)throw new La(aa);return sl.decode(t)}async function kl(e,t){let n,r;if(await Promise.all(e.map((async e=>{const o=await Mc(e.publicKey),i=t.signatures[o];if(void 0===i)return r||=new Set,void r.add(o);if(r)return;const a=await jc(e.privateKey,t.messageBytes);var s,c;null!==i&&(c=i,(s=a).length===c.length&&s.every(((e,t)=>e===c[t])))||(n||={},n[o]=a)}))),r&&r.size>0){const e=Object.keys(t.signatures);throw new La(sa,{expectedAddresses:e,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function Tl(e){const t=[];if(Object.entries(e.signatures).forEach((([e,n])=>{n||t.push(e)})),t.length>0)throw new La(ia,{addresses:t})}function Il(e){const t=wl().encode(e);return ic().decode(t)}function xl(e){const t={};return e.forEach((e=>{if(t[e.address]){if(t[e.address]!==e)throw new La(Yi,{address:e.address})}else t[e.address]=e})),Object.values(t)}function _l(e){return\"modifyAndSignTransactions\"in e&&\"function\"==typeof e.modifyAndSignTransactions}function Cl(e){return\"signTransactions\"in e&&\"function\"==typeof e.signTransactions}function Rl(e){return\"signAndSendTransactions\"in e&&\"function\"==typeof e.signAndSendTransactions}function Pl(e){return Cl(e)||_l(e)||Rl(e)}function Nl(e){return xl((e.accounts??[]).flatMap((e=>\"signer\"in e?e.signer:[])))}function Bl(e){return xl([...e.feePayer&&Pl(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(Nl)])}function Ml(e,t){const n=(r=t)&&\"feePayer\"in r&&r.feePayer&&\"string\"==typeof r.feePayer.address&&!Pl(r.feePayer)?e.find((e=>e.address===t.feePayer.address)):void 0;var r;return n||0!==t.instructions.length?Object.freeze({...t,...n?{feePayer:n}:null,instructions:t.instructions.map((t=>function(e,t){if(!t.accounts||0===t.accounts.length)return t;const n=new Map(xl(e).map((e=>[e.address,e])));return Object.freeze({...t,accounts:t.accounts.map((e=>{const t=n.get(e.address);return Fs(e.role)&&!(\"signer\"in e)&&t?Object.freeze({...e,signer:t}):e}))})}(e,t)))}):t}async function Ol(e){const t=await Mc(e.publicKey),n={address:t,keyPair:e,signMessages:n=>Promise.all(n.map((async n=>Object.freeze({[t]:await jc(e.privateKey,n.content)})))),signTransactions:n=>Promise.all(n.map((async n=>{const r=await kl([e],n);return Object.freeze({[t]:r.signatures[t]})})))};return Object.freeze(n)}async function zl(e,t){return await Ol(await Fc(e,t))}function Ul(e){const t={address:e,signMessages:e=>Promise.resolve(e.map((()=>Object.freeze({})))),signTransactions:e=>Promise.resolve(e.map((()=>Object.freeze({}))))};return Object.freeze(t)}async function jl(e,t){const{partialSigners:n,modifyingSigners:r}=Dl(xl(Bl(e).filter(Pl)),{identifySendingSigner:!1});return await Ll(e,r,n,t)}function Dl(e,t={}){const n=t.identifySendingSigner??!0?function(e){const t=e.filter(Rl);if(0===t.length)return null;const n=t.filter((e=>!_l(e)&&!Cl(e)));if(n.length>0)return n[0];return t[0]}(e):null,r=e.filter((e=>e!==n&&(_l(e)||Cl(e)))),o=function(e){const t=e.filter(_l);if(0===t.length)return[];const n=t.filter((e=>!Cl(e)));return n.length>0?n:[t[0]]}(r),i=r.filter(Cl).filter((e=>!o.includes(e)));return Object.freeze({modifyingSigners:o,partialSigners:i,sendingSigner:n})}async function Ll(e,t=[],n=[],r){const o=Sl(e),i=await t.reduce((async(e,t)=>{r?.abortSignal?.throwIfAborted();const[n]=await t.modifyAndSignTransactions([await e],r);return Object.freeze(n)}),Promise.resolve(o));r?.abortSignal?.throwIfAborted();const a=await Promise.all(n.map((async e=>{const[t]=await e.signTransactions([i],r);return t}))),s={...i,signatures:Object.freeze(a.reduce(((e,t)=>({...e,...t})),i.signatures??{}))};return Object.freeze(s)}var Fl=globalThis.TextEncoder;var $l,ql=(($l=ql||{})[$l.Uninitialized=0]=\"Uninitialized\",$l[$l.Initialized=1]=\"Initialized\",$l);var Wl,Vl=((Wl=Vl||{})[Wl.Legacy=0]=\"Legacy\",Wl[Wl.Current=1]=\"Current\",Wl);var Kl,Gl,Hl=\"11111111111111111111111111111111\",Zl=((Kl=Zl||{})[Kl.Nonce=0]=\"Nonce\",Kl),Jl=((Gl=Jl||{})[Gl.CreateAccount=0]=\"CreateAccount\",Gl[Gl.Assign=1]=\"Assign\",Gl[Gl.TransferSol=2]=\"TransferSol\",Gl[Gl.CreateAccountWithSeed=3]=\"CreateAccountWithSeed\",Gl[Gl.AdvanceNonceAccount=4]=\"AdvanceNonceAccount\",Gl[Gl.WithdrawNonceAccount=5]=\"WithdrawNonceAccount\",Gl[Gl.InitializeNonceAccount=6]=\"InitializeNonceAccount\",Gl[Gl.AuthorizeNonceAccount=7]=\"AuthorizeNonceAccount\",Gl[Gl.Allocate=8]=\"Allocate\",Gl[Gl.AllocateWithSeed=9]=\"AllocateWithSeed\",Gl[Gl.AssignWithSeed=10]=\"AssignWithSeed\",Gl[Gl.TransferSolWithSeed=11]=\"TransferSolWithSeed\",Gl[Gl.UpgradeNonceAccount=12]=\"UpgradeNonceAccount\",Gl);function Yl(e){if(!e)throw new Error(\"Expected a Address.\");return\"object\"==typeof e&&\"address\"in e?e.address:Array.isArray(e)?e[0]:e}function Ql(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:js.READONLY});const n=t.isWritable?js.WRITABLE:js.READONLY;return Object.freeze({address:Yl(t.value),role:Xl(t.value)?Ws(n):n,...Xl(t.value)?{signer:t.value}:{}})}}function Xl(e){return!!e&&\"object\"==typeof e&&\"address\"in e&&Pl(e)}function ed(){return bu([[\"discriminator\",Ns()]])}function td(){return bu([[\"discriminator\",Ns()],[\"space\",Ms()]])}function nd(){return bu([[\"discriminator\",Ns()],[\"base\",wc()],[\"seed\",as(lc(),Ms())],[\"space\",Ms()],[\"programAddress\",wc()]])}function rd(){return bu([[\"discriminator\",Ns()],[\"programAddress\",wc()]])}function od(){return bu([[\"discriminator\",Ns()],[\"base\",wc()],[\"seed\",as(lc(),Ms())],[\"programAddress\",wc()]])}function id(){return bu([[\"discriminator\",Ns()],[\"newNonceAuthority\",wc()]])}function ad(){return bu([[\"discriminator\",Ns()],[\"lamports\",Ms()],[\"space\",Ms()],[\"programAddress\",wc()]])}function sd(){return bu([[\"discriminator\",Ns()],[\"base\",wc()],[\"seed\",as(lc(),Ms())],[\"amount\",Ms()],[\"space\",Ms()],[\"programAddress\",wc()]])}function cd(){return bu([[\"discriminator\",Ns()],[\"nonceAuthority\",wc()]])}var ud=2;function ld(){return ms(Au([[\"discriminator\",Ps()],[\"amount\",Bs()]]),(e=>({...e,discriminator:ud})))}function dd(){return bu([[\"discriminator\",Ns()],[\"amount\",Ms()]])}function fd(){return bu([[\"discriminator\",Ns()],[\"amount\",Ms()],[\"fromSeed\",as(lc(),Ms())],[\"fromOwner\",wc()]])}function hd(){return bu([[\"discriminator\",Ns()]])}function pd(){return bu([[\"discriminator\",Ns()],[\"withdrawAmount\",Ms()]])}const gd={log:(console.log,(...e)=>{}),info:(console.info,(...e)=>{}),warn:(console.warn,(...e)=>{}),debug:(console.debug,(...e)=>{}),error:(console.error,(...e)=>{})};const md={log:()=>{},info:()=>{},warn:()=>{},debug:()=>{},error:()=>{}},yd=(e,t)=>new Proxy(e,{get(e,n){const r=e[n];return\"function\"==typeof r?(n,...o)=>r.call(e,t,n,...o):r}}),vd=gd;const wd=(e,t)=>`${e}:${t.map((e=>JSON.stringify(e))).join(\":\")}`,Ad=(e,t,{ttlMilliseconds:n,functionName:r,generateCacheKey:o})=>{const i=o??wd,a=r??e.name??\"anonymousFunction\";return async(...r)=>{const o=i(a,r);try{const e=await t.get(o);if(void 0!==e)return e}catch(e){vd.error(`Cache get error for key \"${o}\":`,e)}const s=await e(...r);return t.set(o,s,n).catch((e=>{vd.error(`Cache set error for key \"${o}\":`,e)})),s}},bd=1000000n,Sd=1e9,Ed=\"metamask\";var kd=function(e){return e.Mainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",e.Devnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",e.Testnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",e.Localnet=\"solana:123456789abcdef\",e}({}),Td=function(e){return e.SolMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\",e.SolDevnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\",e.SolTestnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\",e.SolLocalnet=\"solana:123456789abcdef/slip44:501\",e.UsdcMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",e.UsdcDevnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",e.UsdcLocalnet=\"solana:123456789abcdef/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",e.EurcMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr\",e.EurcDevnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr\",e.EurcLocalnet=\"solana:123456789abcdef/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr\",e.Ai16zMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:HeLp6NuQkmYB4pYWo2zYs22mESHXPQYzXbB8n4V98jwC\",e}({});ye(oe(),/^solana:[a-zA-Z0-9]+\\/slip44:501$/u);const Id=ye(oe(),/^solana:[a-zA-Z0-9]+\\/token:[a-zA-Z0-9]+$/u),xd=(ye(oe(),/^solana:[a-zA-Z0-9]+\\/nft:[a-zA-Z0-9]+$/u),L(\"TokenCaipAssetTypeFromString\",(e=>{if(\"string\"!=typeof e)return\"Expected a string, but received: \"+typeof e;const[t]=Id.validate(e);return t||!0})));var _d=function(e){return e.SOL=\"slip44:501\",e}({});const Cd={\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:123456789abcdef/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:123456789abcdef/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\":{symbol:\"USDC\",caip19Id:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",address:\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",decimals:6},\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\":{symbol:\"USDC\",caip19Id:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",address:\"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",decimals:6},\"solana:123456789abcdef/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\":{symbol:\"USDC\",caip19Id:\"solana:123456789abcdef/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",address:\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",decimals:6}},Rd={\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\":{caip2Id:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",cluster:\"mainnet\",name:\"Solana Mainnet\",nativeToken:Cd[\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\"]},\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\":{caip2Id:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",cluster:\"devnet\",name:\"Solana Devnet\",nativeToken:Cd[\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\"]},\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\":{caip2Id:\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",cluster:\"testnet\",name:\"Solana Testnet\",nativeToken:Cd[\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\"]},\"solana:123456789abcdef\":{caip2Id:\"solana:123456789abcdef\",cluster:\"local\",name:\"Solana Localnet\",nativeToken:Cd[\"solana:123456789abcdef/slip44:501\"]}},Pd=ye(oe(),/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/u),Nd=ye(oe(),/^(?!0\\d)(\\d+(\\.\\d+)?)$/u),Bd=ve(oe(),\"safe-url\",(e=>{try{const t=new URL(e),n=[\"http:\",\"https:\",\"wss:\"];if(!n.includes(t.protocol))return`URL must use one of the following protocols: ${n}`;if(!e.match(/^(https?|wss):\\/\\/[^/]+\\/?/u))return\"Malformed URL - incorrect protocol format\";const r=t.hostname.toLowerCase();if(!(\"localhost\"===r||r.includes(\".\")&&/^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/u.test(r)))return\"Invalid hostname format\";const o=decodeURIComponent(e.toLowerCase());if(e.includes(\"\\\\\")||e.includes(\"@\")||o.includes(\"\\\\\")||o.includes(\"@\")||e.toLowerCase().includes(\"%2f@\")||e.toLowerCase().includes(\"%5c@\"))return\"URL contains protocol pollution attempts\";const i=decodeURIComponent(r);if(r.includes(\"\\\\\")||r.includes(\"@\")||i.includes(\"/\")||r.toLowerCase().includes(\"%2f\"))return\"Invalid hostname characters detected\";if(e.includes(\"../\")||e.includes(\"..%2f\")||e.includes(\"..%2F\"))return\"Directory traversal attempts are not allowed\";const a=[/<[^>]*>/u,/javascript:/u,/data:/u,/\\\\[@\\\\]/u,/%2f@/u,/[^\\x20-\\x7E]/u,/\\$\\{.*?\\}/u,/#\\{.*?\\}/u,/[|;]/u,/%0[acd]|%0[acd]/u,/\\/\\/\\w+@/u,/(?:[^a-z]|^)(?:union\\s+(?:all\\s+)?select|select\\s+(?:.*\\s+)?from|insert\\s+into|update\\s+.*\\s+set|delete\\s+from|drop\\s+table|alter\\s+table|create\\s+table|exec(?:ute)?|union|where\\s+[\\d\\w]\\s*=\\s*[\\d\\w]|\\bor\\b\\s*[\\d\\w]\\s*=\\s*[\\d\\w])/iu,/'.*?(?:OR|UNION|SELECT|FROM|WHERE).*?'/iu,/%27.*?(?:OR|UNION|SELECT|FROM|WHERE).*?(?:%27|')/iu,/%20(?:OR|UNION|SELECT|FROM|WHERE)%20/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=(?:[^&]*\\/\\/|https?:)/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=%(?:[^&]*\\/\\/|https?:)/iu];for(const e of a)if(e.test(o))return\"URL contains potentially malicious patterns\";return!(t.port&&!/^\\d+$/u.test(t.port))||\"Invalid port number\"}catch(e){return\"Invalid URL format\"}})),Md=te({accountId:Pd}),Od=te({accountId:Pd}),zd=te({accountId:Pd}),Ud=te({accountId:Pd,assets:G(gt)}),jd=te({accountId:Pd,pagination:te({limit:J(),next:ne(X(oe()))})}),Dd=re(gt,te({amount:Nd,unit:oe()})),Ld=(G(gt),Z(Object.values(Xt)),Z(Object.values(kd))),Fd=(Z([\"btc\",\"eth\",\"ltc\",\"bch\",\"bnb\",\"eos\",\"xrp\",\"xlm\",\"link\",\"dot\",\"yfi\",\"usd\",\"aed\",\"ars\",\"aud\",\"bdt\",\"bhd\",\"bmd\",\"brl\",\"cad\",\"chf\",\"clp\",\"cny\",\"czk\",\"dkk\",\"eur\",\"gbp\",\"gel\",\"hkd\",\"huf\",\"idr\",\"ils\",\"inr\",\"jpy\",\"krw\",\"kwd\",\"lkr\",\"mmk\",\"mxn\",\"myr\",\"ngn\",\"nok\",\"nzd\",\"php\",\"pkr\",\"pln\",\"rub\",\"sar\",\"sek\",\"sgd\",\"thb\",\"try\",\"twd\",\"uah\",\"vef\",\"vnd\",\"zar\",\"xdr\",\"xag\",\"xau\",\"bits\",\"sats\"]),te({transaction:oe(),scope:Z(Object.values(kd))})),$d=te({value:X(Nd)}),qd=L(\"Base58\",(e=>\"string\"!=typeof e?\"Expected a string, but received: \"+typeof e:!!/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/u.test(e)||\"Expected a Base58 encoded string, but received a string with invalid characters\")),Wd=ye(oe(),/^(?:[A-Za-z0-9+/]{4})+(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/u),Vd=ye(oe(),/^m\\/44'\\/501'/u),Kd=(ye(oe(),/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d{3})?Z$/u),L(\"SolanaAddress\",(e=>{if(\"string\"!=typeof e)return\"Expected a string, but received: \"+typeof e;try{return yc(e),!0}catch(e){return\"Invalid Solana address\"}})));function Gd(e){return e&&\"string\"==typeof e?e.replace(/[\\u0000-\\u0008\\u000A-\\u001F\\u007F]/gu,\"\"):\"\"}function Hd(e,t=1e3){if(!e||\"string\"!=typeof e)return\"\";let n=Gd(e);return n.length>t&&(n=n.substring(0,t)),n=n.trim(),n}function Zd(e){if(!e||\"string\"!=typeof e)return\"\";const t=Gd(e);return/^[1-9A-HJ-NP-Za-km-z]+$/u.test(t)?t.length<32||t.length>44?\"\":t:\"\"}function Jd(e){if(!e||\"string\"!=typeof e)return\"\";const t=Gd(e);try{const e=new URL(t);return[\"http:\",\"https:\",\"wss:\",\"ipfs:\"].includes(e.protocol)?t.length>2048?\"\":t:\"\"}catch{return\"\"}}function Yd(e){const{baseUrl:t,path:n,pathParams:r,queryParams:o,encodePathParams:i=!0}=e,a=Jd(t);if(\"\"===a)throw new Error(\"Invalid URL format\");z(a,Bd);const s=n.replace(/\\{(\\w+)\\}/gu,((e,t)=>{const n=r?.[t];if(void 0===n)throw new Error(`Path parameter ${t} is undefined`);const o=Gd(n);return i?encodeURIComponent(o):o})).replace(/^\\/+/u,\"\").replace(/\\/+/gu,\"/\").replace(/\\/+$/u,\"\"),c=new URL(s,a);Object.entries(o??{}).filter((([e,t])=>void 0!==t)).filter((([e,t])=>null!==t)).forEach((([e,t])=>{if(t){const n=Gd(t);c.searchParams.append(e,n)}}));const u=c.toString();return z(u,Bd),u}var Qd=n(5250);const Xd=se([Z([\"btc\",\"eth\",\"ltc\",\"bch\",\"bnb\",\"eos\",\"xrp\",\"xlm\",\"link\",\"dot\",\"yfi\",\"bits\",\"sats\",\"sol\",\"sei\",\"sonic\"]),Z([\"usd\",\"aed\",\"amd\",\"ars\",\"aud\",\"bam\",\"bdt\",\"bhd\",\"bmd\",\"brl\",\"cad\",\"chf\",\"clp\",\"cny\",\"cop\",\"crc\",\"czk\",\"dkk\",\"dop\",\"eur\",\"gbp\",\"gel\",\"gtq\",\"hkd\",\"hnl\",\"huf\",\"idr\",\"ils\",\"inr\",\"jpy\",\"kes\",\"krw\",\"kwd\",\"lbp\",\"lkr\",\"mmk\",\"mxn\",\"myr\",\"ngn\",\"nok\",\"nzd\",\"pen\",\"php\",\"pkr\",\"pln\",\"ron\",\"rub\",\"sar\",\"sek\",\"sgd\",\"svc\",\"thb\",\"try\",\"twd\",\"uah\",\"vef\",\"vnd\",\"xdr\",\"zar\",\"zmw\"]),Z([\"xag\",\"xau\"])]),ef=te({id:oe(),price:ge(ee(),0),marketCap:ne(X(ge(ee(),0))),allTimeHigh:ne(X(ge(ee(),0))),allTimeLow:ne(X(ge(ee(),0))),totalVolume:ne(X(ge(ee(),0))),high1d:ne(X(ge(ee(),0))),low1d:ne(X(ge(ee(),0))),circulatingSupply:ne(X(ge(ee(),0))),dilutedMarketCap:ne(X(ge(ee(),0))),marketCapPercentChange1d:ne(X(ee())),priceChange1d:ne(X(ee())),pricePercentChange1h:ne(X(ee())),pricePercentChange1d:ne(X(ee())),pricePercentChange7d:ne(X(ee())),pricePercentChange14d:ne(X(ee())),pricePercentChange30d:ne(X(ee())),pricePercentChange200d:ne(X(ee())),pricePercentChange1y:ne(X(ee())),bondingCurveProgressPercent:ne(X(ee())),liquidity:ne(X(ee())),totalSupply:ne(X(ee())),holderCount:ne(X(ee())),isMutable:ne(X(H()))}),tf=re(ri,X(ef)),nf=Xd,rf=te({assetType:ri,timePeriod:ne(ye(oe(),/^[1-9][0-9]*[dmy]$/u)),from:ne(ge(ee(),0)),to:ne(ge(ee(),0)),vsCurrency:ne(nf)}),of=te({prices:G(ie([ee(),ee()])),marketCaps:G(ie([ee(),ee()])),totalVolumes:G(ie([ee(),ee()]))}),af={prices:[],marketCaps:[],totalVolumes:[]};const sf=function(e){if(e.length>=255)throw new TypeError(\"Alphabet too long\");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+\" is ambiguous\");t[o]=n}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(e){if(\"string\"!=typeof e)throw new TypeError(\"Expected String\");if(0===e.length)return new Uint8Array;let i=0,a=0,s=0;for(;e[i]===r;)a++,i++;const c=(e.length-i)*o+1>>>0,u=new Uint8Array(c);for(;e[i];){let r=t[e.charCodeAt(i)];if(255===r)return;let o=0;for(let e=c-1;(0!==r||o<s)&&-1!==e;e--,o++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error(\"Non-zero carry\");s=o,i++}let l=c-s;for(;l!==c&&0===u[l];)l++;const d=new Uint8Array(a+(c-l));let f=a;for(;l!==c;)d[f++]=u[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(0===t.length)return\"\";let o=0,a=0,s=0;const c=t.length;for(;s!==c&&0===t[s];)s++,o++;const u=(c-s)*i+1>>>0,l=new Uint8Array(u);for(;s!==c;){let e=t[s],r=0;for(let t=u-1;(0!==e||r<a)&&-1!==t;t--,r++)e+=256*l[t]>>>0,l[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error(\"Non-zero carry\");a=r,s++}let d=u-a;for(;d!==u&&0===l[d];)d++;let f=r.repeat(o);for(;d<u;++d)f+=e.charAt(l[d]);return f},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error(\"Non-base\"+n+\" character\")}}};const cf=sf(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\");var uf=n(1048).hp;const lf={[kd.Mainnet]:\"mainnet\",[kd.Devnet]:\"devnet\",[kd.Testnet]:\"testnet\",[kd.Localnet]:\"localnet\"};const df=G(te({decimals:J(),assetId:xd,name:ne(oe()),symbol:ne(oe()),iconUrl:ne(Bd)})),ff={name:\"UNKNOWN\",symbol:\"UNKNOWN\",fungible:!0,iconUrl:\"\",units:[{name:\"UNKNOWN\",symbol:\"UNKNOWN\",decimals:9}]};class hf{#o;#i;#a;#s;#c;static supportedNetworks=[kd.Mainnet,kd.Devnet];constructor(e,t=globalThis.fetch,n=vd){this.#o=t,this.#i=n;const{tokenApi:r,staticApi:o}=e.get(),{baseUrl:i,chunkSize:a}=r;z(i,Bd),this.#a=i,this.#s=a,this.#c=o.baseUrl}async#u(e){z(e,G(Id));const t=Yd({baseUrl:this.#a,path:\"/v3/assets\",queryParams:{assetIds:e.join(\",\")}}),n=await this.#o(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return z(r,df),r}async getTokensMetadata(e){try{z(e,G(ri));const t=e.filter((e=>{const{chainId:t}=ii(e);return hf.supportedNetworks.includes(t)}));t.length!==e.length&&this.#i.warn(`[TokenApiClient] Received some asset types on networks that the Token API doesn't support. They will be ignored. Supported networks: ${hf.supportedNetworks.join(\", \")}`);const n=[];for(let e=0;e<t.length;e+=this.#s)n.push(t.slice(e,e+this.#s));const r=(await Promise.all(n.map((async e=>this.#u(e))))).flat(),o=new Map(r.map((e=>[e.assetId,e]))),i=new Map;return e.forEach((e=>{const t=o.get(e),n=this.#l(t,e);i.set(e,n)})),Object.fromEntries(i)}catch(e){throw this.#i.error(e,\"Error fetching token metadata\"),e}}#d(e){return Yd({baseUrl:this.#c,path:\"/api/v2/tokenIcons/assets/{assetType}.png\",pathParams:{assetType:e.replace(/:/gu,\"/\")},encodePathParams:!1})}#l(e,t){const n=this.#d(t);if(!e)return this.#i.warn(`No metadata for ${t}. Returning default values.`),{...ff,iconUrl:n};const r=e.name??ff.name,o=e.symbol??ff.symbol,i=e.decimals??9;return{name:r,symbol:o,fungible:!0,iconUrl:e.iconUrl??n,units:[{name:r,symbol:o,decimals:i}]}}}var pf,gf=\"ComputeBudget111111111111111111111111111111\",mf=((pf=mf||{})[pf.RequestUnits=0]=\"RequestUnits\",pf[pf.RequestHeapFrame=1]=\"RequestHeapFrame\",pf[pf.SetComputeUnitLimit=2]=\"SetComputeUnitLimit\",pf[pf.SetComputeUnitPrice=3]=\"SetComputeUnitPrice\",pf[pf.SetLoadedAccountsDataSizeLimit=4]=\"SetLoadedAccountsDataSizeLimit\",pf);function yf(e){const t=\"data\"in e?e.data:e;if(Za(t,Os().encode(0),0))return 0;if(Za(t,Os().encode(1),0))return 1;if(Za(t,Os().encode(2),0))return 2;if(Za(t,Os().encode(3),0))return 3;if(Za(t,Os().encode(4),0))return 4;throw new Error(\"The provided instruction could not be identified as a computeBudget instruction.\")}function vf(){return bu([[\"discriminator\",zs()],[\"bytes\",Ns()]])}function wf(){return bu([[\"discriminator\",zs()],[\"units\",Ns()],[\"additionalFee\",Ns()]])}var Af=2;function bf(){return ms(Au([[\"discriminator\",Os()],[\"units\",Ps()]]),(e=>({...e,discriminator:Af})))}function Sf(){return bu([[\"discriminator\",zs()],[\"units\",Ns()]])}function Ef(e,t){const n={...e};return{programAddress:t?.programAddress??gf,data:bf().encode(n)}}function kf(e){return{programAddress:e.programAddress,data:Sf().decode(e.data)}}var Tf=3;function If(){return ms(Au([[\"discriminator\",Os()],[\"microLamports\",Bs()]]),(e=>({...e,discriminator:Tf})))}function xf(){return bu([[\"discriminator\",zs()],[\"microLamports\",Ms()]])}function _f(e,t){const n={...e};return{programAddress:t?.programAddress??gf,data:If().encode(n)}}function Cf(e){return{programAddress:e.programAddress,data:xf().decode(e.data)}}function Rf(){return bu([[\"discriminator\",zs()],[\"accountDataSizeLimit\",Ns()]])}var Pf=e=>({__option:\"Some\",value:e}),Nf=()=>({__option:\"None\"}),Bf=e=>!!(e&&\"object\"==typeof e&&\"__option\"in e&&(\"Some\"===e.__option&&\"value\"in e||\"None\"===e.__option)),Mf=e=>\"Some\"===e.__option;var Of=e=>null!==e?Pf(e):Nf();function zf(e,t={}){const n=null===t.prefix?ms(vu(),(e=>{})):Zc({size:t.prefix??Os()});return ou([ms(nu([n,\"zeroes\"===t.noneValue?(es(e),ss(vu(),e.fixedSize)):t.noneValue?eu(t.noneValue):vu()]),(e=>[!1,void 0])),ms(nu([n,e]),(e=>[!0,Bf(e)&&Mf(e)?e.value:e]))],(e=>{const t=Bf(e)?e:Of(e);return Number(Mf(t))}))}function Uf(e,t={}){const n=null===t.prefix?ys(wu(),(()=>!1)):Jc({size:t.prefix??zs()}),r=\"zeroes\"===t.noneValue?(es(e),cs(wu(),e.fixedSize)):t.noneValue?tu(t.noneValue):wu();return iu([ys(ru([n,r]),(()=>Nf())),ys(ru([n,e]),(([,e])=>Pf(e)))],((e,o)=>{if(null===t.prefix&&!t.noneValue)return Number(o<e.length);if(null===t.prefix&&null!=t.noneValue){return Za(e,\"zeroes\"===t.noneValue?new Uint8Array(r.fixedSize).fill(0):t.noneValue,o)?0:1}return Number(n.read(e,o)[0])}))}var jf,Df=((jf=Df||{})[jf.Uninitialized=0]=\"Uninitialized\",jf[jf.Initialized=1]=\"Initialized\",jf[jf.Frozen=2]=\"Frozen\",jf);var Lf,Ff=((Lf=Ff||{})[Lf.MintTokens=0]=\"MintTokens\",Lf[Lf.FreezeAccount=1]=\"FreezeAccount\",Lf[Lf.AccountOwner=2]=\"AccountOwner\",Lf[Lf.CloseAccount=3]=\"CloseAccount\",Lf);function $f(){return pu(Ff)}var qf,Wf=\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\",Vf=((qf=Vf||{})[qf.CreateAssociatedToken=0]=\"CreateAssociatedToken\",qf[qf.CreateAssociatedTokenIdempotent=1]=\"CreateAssociatedTokenIdempotent\",qf[qf.RecoverNestedAssociatedToken=2]=\"RecoverNestedAssociatedToken\",qf);var Kf,Gf=\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\",Hf=((Kf=Hf||{})[Kf.Mint=0]=\"Mint\",Kf[Kf.Token=1]=\"Token\",Kf[Kf.Multisig=2]=\"Multisig\",Kf);var Zf,Jf=((Zf=Jf||{})[Zf.InitializeMint=0]=\"InitializeMint\",Zf[Zf.InitializeAccount=1]=\"InitializeAccount\",Zf[Zf.InitializeMultisig=2]=\"InitializeMultisig\",Zf[Zf.Transfer=3]=\"Transfer\",Zf[Zf.Approve=4]=\"Approve\",Zf[Zf.Revoke=5]=\"Revoke\",Zf[Zf.SetAuthority=6]=\"SetAuthority\",Zf[Zf.MintTo=7]=\"MintTo\",Zf[Zf.Burn=8]=\"Burn\",Zf[Zf.CloseAccount=9]=\"CloseAccount\",Zf[Zf.FreezeAccount=10]=\"FreezeAccount\",Zf[Zf.ThawAccount=11]=\"ThawAccount\",Zf[Zf.TransferChecked=12]=\"TransferChecked\",Zf[Zf.ApproveChecked=13]=\"ApproveChecked\",Zf[Zf.MintToChecked=14]=\"MintToChecked\",Zf[Zf.BurnChecked=15]=\"BurnChecked\",Zf[Zf.InitializeAccount2=16]=\"InitializeAccount2\",Zf[Zf.SyncNative=17]=\"SyncNative\",Zf[Zf.InitializeAccount3=18]=\"InitializeAccount3\",Zf[Zf.InitializeMultisig2=19]=\"InitializeMultisig2\",Zf[Zf.InitializeMint2=20]=\"InitializeMint2\",Zf[Zf.GetAccountDataSize=21]=\"GetAccountDataSize\",Zf[Zf.InitializeImmutableOwner=22]=\"InitializeImmutableOwner\",Zf[Zf.AmountToUiAmount=23]=\"AmountToUiAmount\",Zf[Zf.UiAmountToAmount=24]=\"UiAmountToAmount\",Zf);function Yf(e){if(!e)throw new Error(\"Expected a Address.\");return\"object\"==typeof e&&\"address\"in e?e.address:Array.isArray(e)?e[0]:e}function Qf(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:js.READONLY});const n=t.isWritable?js.WRITABLE:js.READONLY;return Object.freeze({address:Yf(t.value),role:Xf(t.value)?Ws(n):n,...Xf(t.value)?{signer:t.value}:{}})}}function Xf(e){return!!e&&\"object\"==typeof e&&\"address\"in e&&Pl(e)}function eh(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}function th(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}function nh(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()]])}function rh(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}function oh(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()]])}function ih(){return bu([[\"discriminator\",zs()]])}async function ah(e,t={}){const{programAddress:n=\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"}=t;return await Bc({programAddress:n,seeds:[vc().encode(e.owner),vc().encode(e.tokenProgram),vc().encode(e.mint)]})}var sh=1;function ch(){return ms(Au([[\"discriminator\",Os()]]),(e=>({...e,discriminator:sh})))}function uh(){return bu([[\"discriminator\",zs()]])}function lh(){return bu([[\"discriminator\",zs()]])}function dh(){return bu([[\"discriminator\",zs()]])}function fh(){return bu([[\"discriminator\",zs()],[\"owner\",wc()]])}function hh(){return bu([[\"discriminator\",zs()],[\"owner\",wc()]])}function ph(){return bu([[\"discriminator\",zs()]])}function gh(){return bu([[\"discriminator\",zs()],[\"decimals\",zs()],[\"mintAuthority\",wc()],[\"freezeAuthority\",Uf(wc())]])}function mh(){return bu([[\"discriminator\",zs()],[\"decimals\",zs()],[\"mintAuthority\",wc()],[\"freezeAuthority\",Uf(wc())]])}function yh(){return bu([[\"discriminator\",zs()],[\"m\",zs()]])}function vh(){return bu([[\"discriminator\",zs()],[\"m\",zs()]])}function wh(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}function Ah(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()]])}function bh(){return bu([[\"discriminator\",zs()]])}function Sh(){return bu([[\"discriminator\",zs()],[\"authorityType\",$f()],[\"newAuthority\",Uf(wc())]])}function Eh(){return bu([[\"discriminator\",zs()]])}function kh(){return bu([[\"discriminator\",zs()]])}function Th(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}var Ih=12;function xh(){return ms(Au([[\"discriminator\",Os()],[\"amount\",Bs()],[\"decimals\",Os()]]),(e=>({...e,discriminator:Ih})))}function _h(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()]])}function Ch(e,t){const n=t?.programAddress??Gf,r={source:{value:e.source??null,isWritable:!0},mint:{value:e.mint??null,isWritable:!1},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},o={...e},i=(o.multiSigners??[]).map((e=>({address:e.address,role:js.READONLY_SIGNER,signer:e}))),a=Qf(n);return{accounts:[a(r.source),a(r.mint),a(r.destination),a(r.authority),...i],programAddress:n,data:xh().encode(o)}}function Rh(){return bu([[\"discriminator\",zs()],[\"uiAmount\",lc()]])}function Ph(e){return!(\"exists\"in e)||\"exists\"in e&&e.exists}function Nh(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=oc().encode(t.data[0]);return Object.freeze({...Mh(t),address:e,data:n,exists:!0})}function Bh(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=t.data.parsed.info;return Object.freeze({...Mh(t),address:e,data:n,exists:!0})}function Mh(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function Oh(e,t,n={}){const{abortSignal:r,...o}=n;return Nh(t,(await e.getAccountInfo(t,{...o,encoding:\"base64\"}).send({abortSignal:r})).value)}async function zh(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:\"base64\"}).send({abortSignal:r})).value.map(((e,n)=>Nh(t[n],e)))}function Uh(e){if(!e.exists)throw new La(Oi,{address:e.address})}var jh=(e=>(e[e.Uninitialized=0]=\"Uninitialized\",e[e.Initialized=1]=\"Initialized\",e[e.Frozen=2]=\"Frozen\",e))(jh||{});function Dh(){return pu(jh)}var Lh=(e=>(e[e.MintTokens=0]=\"MintTokens\",e[e.FreezeAccount=1]=\"FreezeAccount\",e[e.AccountOwner=2]=\"AccountOwner\",e[e.CloseAccount=3]=\"CloseAccount\",e[e.TransferFeeConfig=4]=\"TransferFeeConfig\",e[e.WithheldWithdraw=5]=\"WithheldWithdraw\",e[e.CloseMint=6]=\"CloseMint\",e[e.InterestRate=7]=\"InterestRate\",e[e.PermanentDelegate=8]=\"PermanentDelegate\",e[e.ConfidentialTransferMint=9]=\"ConfidentialTransferMint\",e[e.TransferHookProgramId=10]=\"TransferHookProgramId\",e[e.ConfidentialTransferFeeConfig=11]=\"ConfidentialTransferFeeConfig\",e[e.MetadataPointer=12]=\"MetadataPointer\",e[e.GroupPointer=13]=\"GroupPointer\",e[e.GroupMemberPointer=14]=\"GroupMemberPointer\",e[e.ScaledUiAmount=15]=\"ScaledUiAmount\",e[e.Pause=16]=\"Pause\",e))(Lh||{});function Fh(){return pu(Lh)}function $h(){return cs(Qc(),36)}function qh(){return cs(Qc(),64)}function Wh(){return uu([[\"Uninitialized\",wu()],[\"TransferFeeConfig\",as(bu([[\"transferFeeConfigAuthority\",wc()],[\"withdrawWithheldAuthority\",wc()],[\"withheldAmount\",Ms()],[\"olderTransferFee\",Zh()],[\"newerTransferFee\",Zh()]]),Rs())],[\"TransferFeeAmount\",as(bu([[\"withheldAmount\",Ms()]]),Rs())],[\"MintCloseAuthority\",as(bu([[\"closeAuthority\",wc()]]),Rs())],[\"ConfidentialTransferMint\",as(bu([[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"autoApproveNewAccounts\",Jc()],[\"auditorElgamalPubkey\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]]),Rs())],[\"ConfidentialTransferAccount\",as(bu([[\"approved\",Jc()],[\"elgamalPubkey\",wc()],[\"pendingBalanceLow\",qh()],[\"pendingBalanceHigh\",qh()],[\"availableBalance\",qh()],[\"decryptableAvailableBalance\",$h()],[\"allowConfidentialCredits\",Jc()],[\"allowNonConfidentialCredits\",Jc()],[\"pendingBalanceCreditCounter\",Ms()],[\"maximumPendingBalanceCreditCounter\",Ms()],[\"expectedPendingBalanceCreditCounter\",Ms()],[\"actualPendingBalanceCreditCounter\",Ms()]]),Rs())],[\"DefaultAccountState\",as(bu([[\"state\",Dh()]]),Rs())],[\"ImmutableOwner\",as(bu([]),Rs())],[\"MemoTransfer\",as(bu([[\"requireIncomingTransferMemos\",Jc()]]),Rs())],[\"NonTransferable\",as(bu([]),Rs())],[\"InterestBearingConfig\",as(bu([[\"rateAuthority\",wc()],[\"initializationTimestamp\",Ms()],[\"preUpdateAverageRate\",Ts()],[\"lastUpdateTimestamp\",Ms()],[\"currentRate\",Ts()]]),Rs())],[\"CpiGuard\",as(bu([[\"lockCpi\",Jc()]]),Rs())],[\"PermanentDelegate\",as(bu([[\"delegate\",wc()]]),Rs())],[\"NonTransferableAccount\",as(bu([]),Rs())],[\"TransferHook\",as(bu([[\"authority\",wc()],[\"programId\",wc()]]),Rs())],[\"TransferHookAccount\",as(bu([[\"transferring\",Jc()]]),Rs())],[\"ConfidentialTransferFee\",as(bu([[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"elgamalPubkey\",wc()],[\"harvestToMintEnabled\",Jc()],[\"withheldAmount\",qh()]]),Rs())],[\"ConfidentialTransferFeeAmount\",as(bu([[\"withheldAmount\",qh()]]),Rs())],[\"MetadataPointer\",as(bu([[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"metadataAddress\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]]),Rs())],[\"TokenMetadata\",as(bu([[\"updateAuthority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"mint\",wc()],[\"name\",as(lc(),Ns())],[\"symbol\",as(lc(),Ns())],[\"uri\",as(lc(),Ns())],[\"additionalMetadata\",yu(as(lc(),Ns()),as(lc(),Ns()))]]),Rs())],[\"GroupPointer\",as(bu([[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"groupAddress\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]]),Rs())],[\"TokenGroup\",as(bu([[\"updateAuthority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"mint\",wc()],[\"size\",Ms()],[\"maxSize\",Ms()]]),Rs())],[\"GroupMemberPointer\",as(bu([[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"memberAddress\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]]),Rs())],[\"TokenGroupMember\",as(bu([[\"mint\",wc()],[\"group\",wc()],[\"memberNumber\",Ms()]]),Rs())],[\"ConfidentialMintBurn\",wu()],[\"ScaledUiAmountConfig\",as(bu([[\"authority\",wc()],[\"multiplier\",ks()],[\"newMultiplierEffectiveTimestamp\",Ms()],[\"newMultiplier\",ks()]]),Rs())],[\"PausableConfig\",as(bu([[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"paused\",Jc()]]),Rs())],[\"PausableAccount\",wu()]],{size:Rs()})}var Vh,Kh=((Vh=Kh||{})[Vh.Uninitialized=0]=\"Uninitialized\",Vh[Vh.TransferFeeConfig=1]=\"TransferFeeConfig\",Vh[Vh.TransferFeeAmount=2]=\"TransferFeeAmount\",Vh[Vh.MintCloseAuthority=3]=\"MintCloseAuthority\",Vh[Vh.ConfidentialTransferMint=4]=\"ConfidentialTransferMint\",Vh[Vh.ConfidentialTransferAccount=5]=\"ConfidentialTransferAccount\",Vh[Vh.DefaultAccountState=6]=\"DefaultAccountState\",Vh[Vh.ImmutableOwner=7]=\"ImmutableOwner\",Vh[Vh.MemoTransfer=8]=\"MemoTransfer\",Vh[Vh.NonTransferable=9]=\"NonTransferable\",Vh[Vh.InterestBearingConfig=10]=\"InterestBearingConfig\",Vh[Vh.CpiGuard=11]=\"CpiGuard\",Vh[Vh.PermanentDelegate=12]=\"PermanentDelegate\",Vh[Vh.NonTransferableAccount=13]=\"NonTransferableAccount\",Vh[Vh.TransferHook=14]=\"TransferHook\",Vh[Vh.TransferHookAccount=15]=\"TransferHookAccount\",Vh[Vh.ConfidentialTransferFee=16]=\"ConfidentialTransferFee\",Vh[Vh.ConfidentialTransferFeeAmount=17]=\"ConfidentialTransferFeeAmount\",Vh[Vh.ScaledUiAmountConfig=18]=\"ScaledUiAmountConfig\",Vh[Vh.PausableConfig=19]=\"PausableConfig\",Vh[Vh.PausableAccount=20]=\"PausableAccount\",Vh[Vh.MetadataPointer=21]=\"MetadataPointer\",Vh[Vh.TokenMetadata=22]=\"TokenMetadata\",Vh[Vh.GroupPointer=23]=\"GroupPointer\",Vh[Vh.TokenGroup=24]=\"TokenGroup\",Vh[Vh.GroupMemberPointer=25]=\"GroupMemberPointer\",Vh[Vh.TokenGroupMember=26]=\"TokenGroupMember\",Vh);function Gh(){return pu(Kh,{size:Rs()})}function Hh(){return uu([[\"Name\",wu()],[\"Symbol\",wu()],[\"Uri\",wu()],[\"Key\",bu([[\"fields\",ru([as(lc(),Ns())])]])]])}function Zh(){return bu([[\"epoch\",Ms()],[\"maximumFee\",Ms()],[\"transferFeeBasisPoints\",Rs()]])}function Jh(){return bu([[\"mintAuthority\",Uf(wc(),{prefix:Ns(),noneValue:\"zeroes\"})],[\"supply\",Ms()],[\"decimals\",zs()],[\"isInitialized\",Jc()],[\"freezeAuthority\",Uf(wc(),{prefix:Ns(),noneValue:\"zeroes\"})],[\"extensions\",Uf(mu(Gc(Wh(),{size:\"remainder\"}),[tu(ps(Os(),83).encode(1))]),{prefix:null})]])}function Yh(e){return function(e,t){try{return\"exists\"in e&&!e.exists?e:Object.freeze({...e,data:t.decode(e.data)})}catch{throw new La(Ui,{address:e.address})}}(e,Jh())}async function Qh(e,t,n){const r=await async function(e,t,n){const r=await Oh(e,t,n);return Yh(r)}(e,t,n);return Uh(r),r}var Xh=(e=>(e[e.CreateAssociatedToken=0]=\"CreateAssociatedToken\",e[e.CreateAssociatedTokenIdempotent=1]=\"CreateAssociatedTokenIdempotent\",e[e.RecoverNestedAssociatedToken=2]=\"RecoverNestedAssociatedToken\",e))(Xh||{});var ep,tp=\"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\",np=((ep=np||{})[ep.Mint=0]=\"Mint\",ep[ep.Token=1]=\"Token\",ep[ep.Multisig=2]=\"Multisig\",ep);var rp,op=((rp=op||{})[rp.InitializeMint=0]=\"InitializeMint\",rp[rp.InitializeAccount=1]=\"InitializeAccount\",rp[rp.InitializeMultisig=2]=\"InitializeMultisig\",rp[rp.Transfer=3]=\"Transfer\",rp[rp.Approve=4]=\"Approve\",rp[rp.Revoke=5]=\"Revoke\",rp[rp.SetAuthority=6]=\"SetAuthority\",rp[rp.MintTo=7]=\"MintTo\",rp[rp.Burn=8]=\"Burn\",rp[rp.CloseAccount=9]=\"CloseAccount\",rp[rp.FreezeAccount=10]=\"FreezeAccount\",rp[rp.ThawAccount=11]=\"ThawAccount\",rp[rp.TransferChecked=12]=\"TransferChecked\",rp[rp.ApproveChecked=13]=\"ApproveChecked\",rp[rp.MintToChecked=14]=\"MintToChecked\",rp[rp.BurnChecked=15]=\"BurnChecked\",rp[rp.InitializeAccount2=16]=\"InitializeAccount2\",rp[rp.SyncNative=17]=\"SyncNative\",rp[rp.InitializeAccount3=18]=\"InitializeAccount3\",rp[rp.InitializeMultisig2=19]=\"InitializeMultisig2\",rp[rp.InitializeMint2=20]=\"InitializeMint2\",rp[rp.GetAccountDataSize=21]=\"GetAccountDataSize\",rp[rp.InitializeImmutableOwner=22]=\"InitializeImmutableOwner\",rp[rp.AmountToUiAmount=23]=\"AmountToUiAmount\",rp[rp.UiAmountToAmount=24]=\"UiAmountToAmount\",rp[rp.InitializeMintCloseAuthority=25]=\"InitializeMintCloseAuthority\",rp[rp.InitializeTransferFeeConfig=26]=\"InitializeTransferFeeConfig\",rp[rp.TransferCheckedWithFee=27]=\"TransferCheckedWithFee\",rp[rp.WithdrawWithheldTokensFromMint=28]=\"WithdrawWithheldTokensFromMint\",rp[rp.WithdrawWithheldTokensFromAccounts=29]=\"WithdrawWithheldTokensFromAccounts\",rp[rp.HarvestWithheldTokensToMint=30]=\"HarvestWithheldTokensToMint\",rp[rp.SetTransferFee=31]=\"SetTransferFee\",rp[rp.InitializeConfidentialTransferMint=32]=\"InitializeConfidentialTransferMint\",rp[rp.UpdateConfidentialTransferMint=33]=\"UpdateConfidentialTransferMint\",rp[rp.ConfigureConfidentialTransferAccount=34]=\"ConfigureConfidentialTransferAccount\",rp[rp.ApproveConfidentialTransferAccount=35]=\"ApproveConfidentialTransferAccount\",rp[rp.EmptyConfidentialTransferAccount=36]=\"EmptyConfidentialTransferAccount\",rp[rp.ConfidentialDeposit=37]=\"ConfidentialDeposit\",rp[rp.ConfidentialWithdraw=38]=\"ConfidentialWithdraw\",rp[rp.ConfidentialTransfer=39]=\"ConfidentialTransfer\",rp[rp.ApplyConfidentialPendingBalance=40]=\"ApplyConfidentialPendingBalance\",rp[rp.EnableConfidentialCredits=41]=\"EnableConfidentialCredits\",rp[rp.DisableConfidentialCredits=42]=\"DisableConfidentialCredits\",rp[rp.EnableNonConfidentialCredits=43]=\"EnableNonConfidentialCredits\",rp[rp.DisableNonConfidentialCredits=44]=\"DisableNonConfidentialCredits\",rp[rp.ConfidentialTransferWithFee=45]=\"ConfidentialTransferWithFee\",rp[rp.InitializeDefaultAccountState=46]=\"InitializeDefaultAccountState\",rp[rp.UpdateDefaultAccountState=47]=\"UpdateDefaultAccountState\",rp[rp.Reallocate=48]=\"Reallocate\",rp[rp.EnableMemoTransfers=49]=\"EnableMemoTransfers\",rp[rp.DisableMemoTransfers=50]=\"DisableMemoTransfers\",rp[rp.CreateNativeMint=51]=\"CreateNativeMint\",rp[rp.InitializeNonTransferableMint=52]=\"InitializeNonTransferableMint\",rp[rp.InitializeInterestBearingMint=53]=\"InitializeInterestBearingMint\",rp[rp.UpdateRateInterestBearingMint=54]=\"UpdateRateInterestBearingMint\",rp[rp.EnableCpiGuard=55]=\"EnableCpiGuard\",rp[rp.DisableCpiGuard=56]=\"DisableCpiGuard\",rp[rp.InitializePermanentDelegate=57]=\"InitializePermanentDelegate\",rp[rp.InitializeTransferHook=58]=\"InitializeTransferHook\",rp[rp.UpdateTransferHook=59]=\"UpdateTransferHook\",rp[rp.InitializeConfidentialTransferFee=60]=\"InitializeConfidentialTransferFee\",rp[rp.WithdrawWithheldTokensFromMintForConfidentialTransferFee=61]=\"WithdrawWithheldTokensFromMintForConfidentialTransferFee\",rp[rp.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee=62]=\"WithdrawWithheldTokensFromAccountsForConfidentialTransferFee\",rp[rp.HarvestWithheldTokensToMintForConfidentialTransferFee=63]=\"HarvestWithheldTokensToMintForConfidentialTransferFee\",rp[rp.EnableHarvestToMint=64]=\"EnableHarvestToMint\",rp[rp.DisableHarvestToMint=65]=\"DisableHarvestToMint\",rp[rp.WithdrawExcessLamports=66]=\"WithdrawExcessLamports\",rp[rp.InitializeMetadataPointer=67]=\"InitializeMetadataPointer\",rp[rp.UpdateMetadataPointer=68]=\"UpdateMetadataPointer\",rp[rp.InitializeGroupPointer=69]=\"InitializeGroupPointer\",rp[rp.UpdateGroupPointer=70]=\"UpdateGroupPointer\",rp[rp.InitializeGroupMemberPointer=71]=\"InitializeGroupMemberPointer\",rp[rp.UpdateGroupMemberPointer=72]=\"UpdateGroupMemberPointer\",rp[rp.InitializeScaledUiAmountMint=73]=\"InitializeScaledUiAmountMint\",rp[rp.UpdateMultiplierScaledUiMint=74]=\"UpdateMultiplierScaledUiMint\",rp[rp.InitializePausableConfig=75]=\"InitializePausableConfig\",rp[rp.Pause=76]=\"Pause\",rp[rp.Resume=77]=\"Resume\",rp[rp.InitializeTokenMetadata=78]=\"InitializeTokenMetadata\",rp[rp.UpdateTokenMetadataField=79]=\"UpdateTokenMetadataField\",rp[rp.RemoveTokenMetadataKey=80]=\"RemoveTokenMetadataKey\",rp[rp.UpdateTokenMetadataUpdateAuthority=81]=\"UpdateTokenMetadataUpdateAuthority\",rp[rp.EmitTokenMetadata=82]=\"EmitTokenMetadata\",rp[rp.InitializeTokenGroup=83]=\"InitializeTokenGroup\",rp[rp.UpdateTokenGroupMaxSize=84]=\"UpdateTokenGroupMaxSize\",rp[rp.UpdateTokenGroupUpdateAuthority=85]=\"UpdateTokenGroupUpdateAuthority\",rp[rp.InitializeTokenGroupMember=86]=\"InitializeTokenGroupMember\",rp);function ip(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}function ap(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()],[\"expectedPendingBalanceCreditCounter\",Ms()],[\"newDecryptableAvailableBalance\",$h()]])}function sp(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}function cp(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()]])}function up(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()]])}function lp(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}function dp(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()]])}function fp(){return bu([[\"discriminator\",zs()]])}function hp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()]])}function pp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()],[\"newSourceDecryptableAvailableBalance\",$h()],[\"equalityProofInstructionOffset\",xs()],[\"ciphertextValidityProofInstructionOffset\",xs()],[\"rangeProofInstructionOffset\",xs()]])}function gp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()],[\"newSourceDecryptableAvailableBalance\",$h()],[\"equalityProofInstructionOffset\",xs()],[\"transferAmountCiphertextValidityProofInstructionOffset\",xs()],[\"feeSigmaProofInstructionOffset\",xs()],[\"feeCiphertextValidityProofInstructionOffset\",xs()],[\"rangeProofInstructionOffset\",xs()]])}function mp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()],[\"newDecryptableAvailableBalance\",$h()],[\"equalityProofInstructionOffset\",xs()],[\"rangeProofInstructionOffset\",xs()]])}function yp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()],[\"decryptableZeroBalance\",$h()],[\"maximumPendingBalanceCreditCounter\",Ms()],[\"proofInstructionOffset\",xs()]])}function vp(){return bu([[\"discriminator\",zs()]])}function wp(){return bu([[\"discriminator\",zs()]])}function Ap(){return bu([[\"discriminator\",zs()]])}function bp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()]])}function Sp(){return bu([[\"discriminator\",zs()],[\"cpiGuardDiscriminator\",zs()]])}function Ep(){return bu([[\"discriminator\",zs()],[\"confidentialTransferFeeDiscriminator\",zs()]])}function kp(){return bu([[\"discriminator\",zs()],[\"memoTransfersDiscriminator\",zs()]])}function Tp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()]])}new Uint8Array([250,166,180,250,13,12,184,70]);function Ip(){return bu([[\"discriminator\",Qc()],[\"start\",Uf(Ms())],[\"end\",Uf(Ms())]])}function xp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()],[\"proofInstructionOffset\",xs()]])}function _p(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()]])}function Cp(){return bu([[\"discriminator\",zs()],[\"cpiGuardDiscriminator\",zs()]])}function Rp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferFeeDiscriminator\",zs()]])}function Pp(){return bu([[\"discriminator\",zs()],[\"memoTransfersDiscriminator\",zs()]])}function Np(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()]])}function Bp(){return bu([[\"discriminator\",zs()]])}function Mp(){return bu([[\"discriminator\",zs()]])}function Op(){return bu([[\"discriminator\",zs()],[\"transferFeeDiscriminator\",zs()]])}function zp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferFeeDiscriminator\",zs()]])}function Up(){return bu([[\"discriminator\",zs()]])}function jp(){return bu([[\"discriminator\",zs()],[\"owner\",wc()]])}function Dp(){return bu([[\"discriminator\",zs()],[\"owner\",wc()]])}function Lp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferFeeDiscriminator\",zs()],[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"withdrawWithheldAuthorityElGamalPubkey\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function Fp(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()],[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"autoApproveNewAccounts\",Jc()],[\"auditorElgamalPubkey\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function $p(){return bu([[\"discriminator\",zs()],[\"defaultAccountStateDiscriminator\",zs()],[\"state\",Dh()]])}function qp(){return bu([[\"discriminator\",zs()],[\"groupMemberPointerDiscriminator\",zs()],[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"memberAddress\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function Wp(){return bu([[\"discriminator\",zs()],[\"groupPointerDiscriminator\",zs()],[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"groupAddress\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function Vp(){return bu([[\"discriminator\",zs()]])}function Kp(){return bu([[\"discriminator\",zs()],[\"interestBearingMintDiscriminator\",zs()],[\"rateAuthority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"rate\",Ts()]])}function Gp(){return bu([[\"discriminator\",zs()],[\"metadataPointerDiscriminator\",zs()],[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"metadataAddress\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function Hp(){return bu([[\"discriminator\",zs()],[\"decimals\",zs()],[\"mintAuthority\",wc()],[\"freezeAuthority\",Uf(wc())]])}function Zp(){return bu([[\"discriminator\",zs()],[\"decimals\",zs()],[\"mintAuthority\",wc()],[\"freezeAuthority\",Uf(wc())]])}function Jp(){return bu([[\"discriminator\",zs()],[\"closeAuthority\",Uf(wc())]])}function Yp(){return bu([[\"discriminator\",zs()],[\"m\",zs()]])}function Qp(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:Yp().decode(e.data)}}function Xp(){return bu([[\"discriminator\",zs()]])}function eg(){return bu([[\"discriminator\",zs()],[\"pausableDiscriminator\",zs()],[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function tg(){return bu([[\"discriminator\",zs()],[\"delegate\",wc()]])}function ng(){return bu([[\"discriminator\",zs()],[\"scaledUiAmountMintDiscriminator\",zs()],[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"multiplier\",ks()]])}new Uint8Array([121,113,108,39,54,51,0,4]);function rg(){return bu([[\"discriminator\",Qc()],[\"updateAuthority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"maxSize\",Ms()]])}new Uint8Array([152,32,222,176,223,237,116,134]);function og(){return bu([[\"discriminator\",Qc()]])}new Uint8Array([210,225,30,162,88,184,77,141]);function ig(){return bu([[\"discriminator\",Qc()],[\"name\",as(lc(),Ns())],[\"symbol\",as(lc(),Ns())],[\"uri\",as(lc(),Ns())]])}function ag(){return bu([[\"discriminator\",zs()],[\"transferFeeDiscriminator\",zs()],[\"transferFeeConfigAuthority\",Uf(wc())],[\"withdrawWithheldAuthority\",Uf(wc())],[\"transferFeeBasisPoints\",Rs()],[\"maximumFee\",Ms()]])}function sg(){return bu([[\"discriminator\",zs()],[\"transferHookDiscriminator\",zs()],[\"authority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})],[\"programId\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function cg(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}function ug(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()]])}function lg(){return bu([[\"discriminator\",zs()],[\"pausableDiscriminator\",zs()]])}function dg(){return bu([[\"discriminator\",zs()],[\"newExtensionTypes\",Gc(Gh(),{size:\"remainder\"})]])}function fg(){return bu([[\"discriminator\",zs()]])}new Uint8Array([234,18,32,56,89,141,37,181]);function hg(){return bu([[\"discriminator\",Qc()],[\"idempotent\",Jc()],[\"key\",as(lc(),Ns())]])}function pg(){return bu([[\"discriminator\",zs()],[\"pausableDiscriminator\",zs()]])}function gg(){return bu([[\"discriminator\",zs()]])}function mg(){return bu([[\"discriminator\",zs()],[\"authorityType\",Fh()],[\"newAuthority\",Uf(wc())]])}function yg(){return bu([[\"discriminator\",zs()],[\"transferFeeDiscriminator\",zs()],[\"transferFeeBasisPoints\",Rs()],[\"maximumFee\",Ms()]])}function vg(){return bu([[\"discriminator\",zs()]])}function wg(){return bu([[\"discriminator\",zs()]])}function Ag(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()]])}function bg(){return bu([[\"discriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()]])}function Sg(){return bu([[\"discriminator\",zs()],[\"transferFeeDiscriminator\",zs()],[\"amount\",Ms()],[\"decimals\",zs()],[\"fee\",Ms()]])}function Eg(){return bu([[\"discriminator\",zs()],[\"uiAmount\",lc()]])}function kg(){return bu([[\"discriminator\",zs()],[\"confidentialTransferDiscriminator\",zs()],[\"autoApproveNewAccounts\",Jc()],[\"auditorElgamalPubkey\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function Tg(){return bu([[\"discriminator\",zs()],[\"defaultAccountStateDiscriminator\",zs()],[\"state\",Dh()]])}function Ig(){return bu([[\"discriminator\",zs()],[\"groupMemberPointerDiscriminator\",zs()],[\"memberAddress\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function xg(){return bu([[\"discriminator\",zs()],[\"groupPointerDiscriminator\",zs()],[\"groupAddress\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function _g(){return bu([[\"discriminator\",zs()],[\"metadataPointerDiscriminator\",zs()],[\"metadataAddress\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function Cg(){return bu([[\"discriminator\",zs()],[\"scaledUiAmountMintDiscriminator\",zs()],[\"multiplier\",ks()],[\"effectiveTimestamp\",Is()]])}function Rg(){return bu([[\"discriminator\",zs()],[\"interestBearingMintDiscriminator\",zs()],[\"rate\",Ts()]])}new Uint8Array([108,37,171,143,248,30,18,110]);function Pg(){return bu([[\"discriminator\",Qc()],[\"maxSize\",Ms()]])}new Uint8Array([161,105,88,1,237,221,216,203]);function Ng(){return bu([[\"discriminator\",Qc()],[\"newUpdateAuthority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}new Uint8Array([221,233,49,45,181,202,220,200]);function Bg(){return bu([[\"discriminator\",Qc()],[\"field\",Hh()],[\"value\",as(lc(),Ns())]])}new Uint8Array([215,228,166,228,84,100,86,123]);function Mg(){return bu([[\"discriminator\",Qc()],[\"newUpdateAuthority\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function Og(){return bu([[\"discriminator\",zs()],[\"transferHookDiscriminator\",zs()],[\"programId\",Uf(wc(),{prefix:null,noneValue:\"zeroes\"})]])}function zg(){return bu([[\"discriminator\",zs()]])}function Ug(){return bu([[\"discriminator\",zs()],[\"transferFeeDiscriminator\",zs()],[\"numTokenAccounts\",zs()]])}function jg(){return bu([[\"discriminator\",zs()],[\"confidentialTransferFeeDiscriminator\",zs()],[\"numTokenAccounts\",zs()],[\"proofInstructionOffset\",xs()],[\"newDecryptableAvailableBalance\",$h()]])}function Dg(){return bu([[\"discriminator\",zs()],[\"transferFeeDiscriminator\",zs()]])}function Lg(){return bu([[\"discriminator\",zs()],[\"confidentialTransferFeeDiscriminator\",zs()],[\"proofInstructionOffset\",xs()],[\"newDecryptableAvailableBalance\",$h()]])}var Fg=1e4,$g=31556736;function qg(e,t,n){const r=t-e;if(r<0)throw new Error(\"Invalid timespan: end time before start time\");const o=n*r/($g*Fg);return Math.exp(o)}function Wg({currentTimestamp:e,lastUpdateTimestamp:t,initializationTimestamp:n,preUpdateAverageRate:r,currentRate:o}){return qg(n,t,r)*qg(t,e,o)}function Vg(e){return Math.pow(10,e)}function Kg(e,t,n,r,o,i,a){const s=parseFloat(e)*Vg(t)/Wg({currentTimestamp:n,lastUpdateTimestamp:r,initializationTimestamp:o,preUpdateAverageRate:i,currentRate:a});return BigInt(Math.trunc(s))}function Gg(e,t,n){const r=parseFloat(e)*Vg(t)/n;return BigInt(Math.trunc(r))}var Hg=\"ComputeBudget111111111111111111111111111111\",Zg={blockhash:\"11111111111111111111111111111111\",lastValidBlockHeight:0n},Jg=2;function Yg(e){return function(e,t){return e.programAddress===t}(e,Hg)&&function(e){return void 0!==e.data}(e)&&e.data[0]===Jg}async function Qg({abortSignal:e,rpc:t,transactionMessage:n,...r}){const o=fl(n);let i;i=o||_u(n)?n:Cu(Zg,n);const a=n.instructions.findIndex(Yg),s=function(e){const t=new Uint8Array(5);return t[0]=Jg,Ps().write(e,t,1),Object.freeze({data:t,programAddress:Hg})}(14e5);if(-1===a)i=pl(s,i);else{const e=[...i.instructions];e.splice(a,1,s),i=Object.freeze({...i,instructions:e})}const c=Il(Sl(i));try{const{value:{err:n,unitsConsumed:i}}=await t.simulateTransaction(c,{...r,encoding:\"base64\",replaceRecentBlockhash:!o,sigVerify:!1}).send({abortSignal:e});if(null==i)throw new La(la);const a=i>4294967295n?4294967295:Number(i);if(n)throw new La(da,{cause:n,unitsConsumed:a});return a}catch(e){if(Da(e,da))throw e;throw new La(la,{cause:e})}}async function Xg(e,t,n){if(0===e.length)return{};const r=await async function(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:\"jsonParsed\"}).send({abortSignal:r})).value.map(((e,n)=>e&&\"object\"==typeof e&&\"parsed\"in e.data?Bh(t[n],e):Nh(t[n],e)))}(t,e,n);return function(e){const t=e.filter((e=>Ph(e)&&e.data instanceof Uint8Array));if(t.length>0){const e=t.map((e=>e.address));throw new La(ji,{addresses:e})}}(r),function(e){const t=e.filter((e=>!e.exists));if(t.length>0){const e=t.map((e=>e.address));throw new La(zi,{addresses:e})}}(r),r.reduce(((e,t)=>({...e,[t.address]:t.data.addresses})),{})}async function em(e,t,n){const r=(\"addressTableLookups\"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?e.addressTableLookups:[]).map((e=>e.lookupTableAddress)),{lastValidBlockHeight:o,...i}=n??{};return yl(e,{addressesByLookupTableAddress:r.length>0?await Xg(r,t,i):{},lastValidBlockHeight:o})}function tm(e,t){return!t?.preflightCommitment&&function(e,t){return e===t?0:ku(e)<ku(t)?-1:1}(e,\"finalized\")<0?{...t,preflightCommitment:e}:t}async function nm({abortSignal:e,commitment:t,rpc:n,transaction:r,...o}){const i=Il(r);return await n.sendTransaction(i,{...tm(t,o),encoding:\"base64\"}).send({abortSignal:e})}const rm=async(e,t,n)=>xu(e,oc().encode,Qu().decode,(async e=>em(e,t,n))),om=async(e,t,n)=>xu(e,Qu().decode,(async e=>em(e,t,n))),im=e=>xu(e,wl().encode,ic().decode),am=async e=>xu(e,oc().encode,Al().decode),sm=async(e,t,n)=>(async e=>new Promise(((t,n)=>{if(0===e.length)return void n(new AggregateError([],\"No promises to resolve\"));let r=0;const o=[];e.forEach(((i,a)=>{Promise.resolve(i).then((e=>t(e)),(t=>{o[a]=t,r+=1,r===e.length&&n(new AggregateError(o,\"All promises rejected\"))}))}))})))([am(e),rm(e,t,n)]),cm=yc(\"KeccakSecp256k11111111111111111111111111111\"),um=yc(\"Secp256r1SigVerify1111111111111111111111111\");var lm=function(e){return e[e.Verify=0]=\"Verify\",e}({});const dm=e=>0,fm=e=>e.programAddress===cm,hm=e=>e.programAddress===um,pm=()=>{return e=[[\"numSignatures\",ns(Os(),zs())]],ns(Au(e),bu(e));var e},gm=e=>({programAddress:e.programAddress,data:pm().decode(e.data??new Uint8Array)});const mm={[Hl]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(Za(t,Ps().encode(0),0))return 0;if(Za(t,Ps().encode(1),0))return 1;if(Za(t,Ps().encode(2),0))return 2;if(Za(t,Ps().encode(3),0))return 3;if(Za(t,Ps().encode(4),0))return 4;if(Za(t,Ps().encode(5),0))return 5;if(Za(t,Ps().encode(6),0))return 6;if(Za(t,Ps().encode(7),0))return 7;if(Za(t,Ps().encode(8),0))return 8;if(Za(t,Ps().encode(9),0))return 9;if(Za(t,Ps().encode(10),0))return 10;if(Za(t,Ps().encode(11),0))return 11;if(Za(t,Ps().encode(12),0))return 12;throw new Error(\"The provided instruction could not be identified as a system instruction.\")},instructionEnum:Jl,typeToParserMap:{[Jl.Assign]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:rd().decode(e.data)}},[Jl.TransferSol]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n()},data:dd().decode(e.data)}},[Jl.CreateAccount]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n()},data:ad().decode(e.data)}},[Jl.CreateAccountWithSeed]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n(),baseAccount:n()},data:sd().decode(e.data)}},[Jl.AdvanceNonceAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),nonceAuthority:n()},data:ed().decode(e.data)}},[Jl.WithdrawNonceAccount]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recipientAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n(),nonceAuthority:n()},data:pd().decode(e.data)}},[Jl.InitializeNonceAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n()},data:cd().decode(e.data)}},[Jl.AuthorizeNonceAccount]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),nonceAuthority:n()},data:id().decode(e.data)}},[Jl.Allocate]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{newAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:td().decode(e.data)}},[Jl.AllocateWithSeed]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{newAccount:n(),baseAccount:n()},data:nd().decode(e.data)}},[Jl.AssignWithSeed]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),baseAccount:n()},data:od().decode(e.data)}},[Jl.TransferSolWithSeed]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),baseAccount:n(),destination:n()},data:fd().decode(e.data)}},[Jl.UpgradeNonceAccount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{nonceAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:hd().decode(e.data)}}}},[gf]:{identifier:yf,instructionEnum:mf,typeToParserMap:{[mf.RequestUnits]:function(e){return{programAddress:e.programAddress,data:wf().decode(e.data)}},[mf.RequestHeapFrame]:function(e){return{programAddress:e.programAddress,data:vf().decode(e.data)}},[mf.SetComputeUnitPrice]:Cf,[mf.SetComputeUnitLimit]:kf,[mf.SetLoadedAccountsDataSizeLimit]:function(e){return{programAddress:e.programAddress,data:Rf().decode(e.data)}}}},[Gf]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(Za(t,Os().encode(0),0))return 0;if(Za(t,Os().encode(1),0))return 1;if(Za(t,Os().encode(2),0))return 2;if(Za(t,Os().encode(3),0))return 3;if(Za(t,Os().encode(4),0))return 4;if(Za(t,Os().encode(5),0))return 5;if(Za(t,Os().encode(6),0))return 6;if(Za(t,Os().encode(7),0))return 7;if(Za(t,Os().encode(8),0))return 8;if(Za(t,Os().encode(9),0))return 9;if(Za(t,Os().encode(10),0))return 10;if(Za(t,Os().encode(11),0))return 11;if(Za(t,Os().encode(12),0))return 12;if(Za(t,Os().encode(13),0))return 13;if(Za(t,Os().encode(14),0))return 14;if(Za(t,Os().encode(15),0))return 15;if(Za(t,Os().encode(16),0))return 16;if(Za(t,Os().encode(17),0))return 17;if(Za(t,Os().encode(18),0))return 18;if(Za(t,Os().encode(19),0))return 19;if(Za(t,Os().encode(20),0))return 20;if(Za(t,Os().encode(21),0))return 21;if(Za(t,Os().encode(22),0))return 22;if(Za(t,Os().encode(23),0))return 23;if(Za(t,Os().encode(24),0))return 24;throw new Error(\"The provided instruction could not be identified as a token instruction.\")},instructionEnum:Jf,typeToParserMap:{[Jf.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:gh().decode(e.data)}},[Jf.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:dh().decode(e.data)}},[Jf.InitializeMultisig]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:yh().decode(e.data)}},[Jf.Transfer]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:Th().decode(e.data)}},[Jf.Approve]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:th().decode(e.data)}},[Jf.Revoke]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:bh().decode(e.data)}},[Jf.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:Sh().decode(e.data)}},[Jf.MintTo]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:wh().decode(e.data)}},[Jf.Burn]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:rh().decode(e.data)}},[Jf.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:ih().decode(e.data)}},[Jf.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:uh().decode(e.data)}},[Jf.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:kh().decode(e.data)}},[Jf.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:_h().decode(e.data)}},[Jf.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:nh().decode(e.data)}},[Jf.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Ah().decode(e.data)}},[Jf.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:oh().decode(e.data)}},[Jf.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:fh().decode(e.data)}},[Jf.SyncNative]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Eh().decode(e.data)}},[Jf.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:hh().decode(e.data)}},[Jf.InitializeMultisig2]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{multisig:(()=>{const n=e.accounts[t];return t+=1,n})()},data:vh().decode(e.data)}},[Jf.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:mh().decode(e.data)}},[Jf.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:lh().decode(e.data)}},[Jf.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ph().decode(e.data)}},[Jf.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:eh().decode(e.data)}},[Jf.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Rh().decode(e.data)}}}},[tp]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(Za(t,Os().encode(0),0))return 0;if(Za(t,Os().encode(1),0))return 1;if(Za(t,Os().encode(2),0))return 2;if(Za(t,Os().encode(3),0))return 3;if(Za(t,Os().encode(4),0))return 4;if(Za(t,Os().encode(5),0))return 5;if(Za(t,Os().encode(6),0))return 6;if(Za(t,Os().encode(7),0))return 7;if(Za(t,Os().encode(8),0))return 8;if(Za(t,Os().encode(9),0))return 9;if(Za(t,Os().encode(10),0))return 10;if(Za(t,Os().encode(11),0))return 11;if(Za(t,Os().encode(12),0))return 12;if(Za(t,Os().encode(13),0))return 13;if(Za(t,Os().encode(14),0))return 14;if(Za(t,Os().encode(15),0))return 15;if(Za(t,Os().encode(16),0))return 16;if(Za(t,Os().encode(17),0))return 17;if(Za(t,Os().encode(18),0))return 18;if(Za(t,Os().encode(19),0))return 19;if(Za(t,Os().encode(20),0))return 20;if(Za(t,Os().encode(21),0))return 21;if(Za(t,Os().encode(22),0))return 22;if(Za(t,Os().encode(23),0))return 23;if(Za(t,Os().encode(24),0))return 24;if(Za(t,Os().encode(25),0))return 25;if(Za(t,Os().encode(26),0)&&Za(t,Os().encode(0),1))return 26;if(Za(t,Os().encode(26),0)&&Za(t,Os().encode(1),1))return 27;if(Za(t,Os().encode(26),0)&&Za(t,Os().encode(2),1))return 28;if(Za(t,Os().encode(26),0)&&Za(t,Os().encode(3),1))return 29;if(Za(t,Os().encode(26),0)&&Za(t,Os().encode(4),1))return 30;if(Za(t,Os().encode(26),0)&&Za(t,Os().encode(5),1))return 31;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(0),1))return 32;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(1),1))return 33;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(2),1))return 34;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(3),1))return 35;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(4),1))return 36;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(5),1))return 37;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(6),1))return 38;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(7),1))return 39;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(8),1))return 40;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(9),1))return 41;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(10),1))return 42;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(11),1))return 43;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(12),1))return 44;if(Za(t,Os().encode(27),0)&&Za(t,Os().encode(13),1))return 45;if(Za(t,Os().encode(28),0)&&Za(t,Os().encode(0),1))return 46;if(Za(t,Os().encode(28),0)&&Za(t,Os().encode(1),1))return 47;if(Za(t,Os().encode(29),0))return 48;if(Za(t,Os().encode(30),0)&&Za(t,Os().encode(0),1))return 49;if(Za(t,Os().encode(30),0)&&Za(t,Os().encode(1),1))return 50;if(Za(t,Os().encode(31),0))return 51;if(Za(t,Os().encode(32),0))return 52;if(Za(t,Os().encode(33),0)&&Za(t,Os().encode(0),1))return 53;if(Za(t,Os().encode(33),0)&&Za(t,Os().encode(1),1))return 54;if(Za(t,Os().encode(34),0)&&Za(t,Os().encode(0),1))return 55;if(Za(t,Os().encode(34),0)&&Za(t,Os().encode(1),1))return 56;if(Za(t,Os().encode(35),0))return 57;if(Za(t,Os().encode(36),0)&&Za(t,Os().encode(0),1))return 58;if(Za(t,Os().encode(36),0)&&Za(t,Os().encode(1),1))return 59;if(Za(t,Os().encode(37),0)&&Za(t,Os().encode(0),1))return 60;if(Za(t,Os().encode(37),0)&&Za(t,Os().encode(1),1))return 61;if(Za(t,Os().encode(37),0)&&Za(t,Os().encode(2),1))return 62;if(Za(t,Os().encode(37),0)&&Za(t,Os().encode(3),1))return 63;if(Za(t,Os().encode(37),0)&&Za(t,Os().encode(4),1))return 64;if(Za(t,Os().encode(37),0)&&Za(t,Os().encode(5),1))return 65;if(Za(t,Os().encode(38),0))return 66;if(Za(t,Os().encode(39),0)&&Za(t,Os().encode(0),1))return 67;if(Za(t,Os().encode(39),0)&&Za(t,Os().encode(1),1))return 68;if(Za(t,Os().encode(40),0)&&Za(t,Os().encode(0),1))return 69;if(Za(t,Os().encode(40),0)&&Za(t,Os().encode(1),1))return 70;if(Za(t,Os().encode(41),0)&&Za(t,Os().encode(0),1))return 71;if(Za(t,Os().encode(41),0)&&Za(t,Os().encode(1),1))return 72;if(Za(t,Os().encode(43),0)&&Za(t,Os().encode(0),1))return 73;if(Za(t,Os().encode(43),0)&&Za(t,Os().encode(1),1))return 74;if(Za(t,Os().encode(44),0)&&Za(t,Os().encode(0),1))return 75;if(Za(t,Os().encode(44),0)&&Za(t,Os().encode(1),1))return 76;if(Za(t,Os().encode(44),0)&&Za(t,Os().encode(2),1))return 77;if(Za(t,new Uint8Array([210,225,30,162,88,184,77,141]),0))return 78;if(Za(t,new Uint8Array([221,233,49,45,181,202,220,200]),0))return 79;if(Za(t,new Uint8Array([234,18,32,56,89,141,37,181]),0))return 80;if(Za(t,new Uint8Array([215,228,166,228,84,100,86,123]),0))return 81;if(Za(t,new Uint8Array([250,166,180,250,13,12,184,70]),0))return 82;if(Za(t,new Uint8Array([121,113,108,39,54,51,0,4]),0))return 83;if(Za(t,new Uint8Array([108,37,171,143,248,30,18,110]),0))return 84;if(Za(t,new Uint8Array([161,105,88,1,237,221,216,203]),0))return 85;if(Za(t,new Uint8Array([152,32,222,176,223,237,116,134]),0))return 86;throw new Error(\"The provided instruction could not be identified as a token-2022 instruction.\")},instructionEnum:op,typeToParserMap:{[op.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:Hp().decode(e.data)}},[op.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:Up().decode(e.data)}},[op.InitializeMultisig]:Qp,[op.Transfer]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:Ag().decode(e.data)}},[op.Approve]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:sp().decode(e.data)}},[op.Revoke]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:gg().decode(e.data)}},[op.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:mg().decode(e.data)}},[op.MintTo]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:cg().decode(e.data)}},[op.Burn]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:lp().decode(e.data)}},[op.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:fp().decode(e.data)}},[op.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Bp().decode(e.data)}},[op.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:wg().decode(e.data)}},[op.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:bg().decode(e.data)}},[op.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:cp().decode(e.data)}},[op.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:ug().decode(e.data)}},[op.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:dp().decode(e.data)}},[op.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:jp().decode(e.data)}},[op.SyncNative]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:vg().decode(e.data)}},[op.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:Dp().decode(e.data)}},[op.InitializeMultisig2]:Qp,[op.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Zp().decode(e.data)}},[op.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Mp().decode(e.data)}},[op.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Vp().decode(e.data)}},[op.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ip().decode(e.data)}},[op.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Eg().decode(e.data)}},[op.InitializeMintCloseAuthority]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Jp().decode(e.data)}},[op.InitializeTransferFeeConfig]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ag().decode(e.data)}},[op.TransferCheckedWithFee]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:Sg().decode(e.data)}},[op.WithdrawWithheldTokensFromMint]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:Dg().decode(e.data)}},[op.WithdrawWithheldTokensFromAccounts]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:Ug().decode(e.data)}},[op.HarvestWithheldTokensToMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Op().decode(e.data)}},[op.SetTransferFee]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),transferFeeConfigAuthority:n()},data:yg().decode(e.data)}},[op.InitializeConfidentialTransferMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Fp().decode(e.data)}},[op.UpdateConfidentialTransferMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:kg().decode(e.data)}},[op.ConfigureConfidentialTransferAccount]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===tp?void 0:e})(),authority:n()},data:yp().decode(e.data)}},[op.ApproveConfidentialTransferAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:up().decode(e.data)}},[op.EmptyConfidentialTransferAccount]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===tp?void 0:e})(),authority:n()},data:xp().decode(e.data)}},[op.ConfidentialDeposit]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:hp().decode(e.data)}},[op.ConfidentialWithdraw]:function(e){if(e.accounts.length<6)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===tp?void 0:e};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvar:r(),equalityRecord:r(),rangeRecord:r(),authority:n()},data:mp().decode(e.data)}},[op.ConfidentialTransfer]:function(e){if(e.accounts.length<8)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===tp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),ciphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:pp().decode(e.data)}},[op.ApplyConfidentialPendingBalance]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:ap().decode(e.data)}},[op.EnableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:_p().decode(e.data)}},[op.DisableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:bp().decode(e.data)}},[op.EnableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Np().decode(e.data)}},[op.DisableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Tp().decode(e.data)}},[op.ConfidentialTransferWithFee]:function(e){if(e.accounts.length<10)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===tp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),transferAmountCiphertextValidityRecord:r(),feeSigmaRecord:r(),feeCiphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:gp().decode(e.data)}},[op.InitializeDefaultAccountState]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:$p().decode(e.data)}},[op.UpdateDefaultAccountState]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),freezeAuthority:n()},data:Tg().decode(e.data)}},[op.Reallocate]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),payer:n(),systemProgram:n(),owner:n()},data:dg().decode(e.data)}},[op.EnableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Pp().decode(e.data)}},[op.DisableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:kp().decode(e.data)}},[op.CreateNativeMint]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),nativeMint:n(),systemProgram:n()},data:Ap().decode(e.data)}},[op.InitializeNonTransferableMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Xp().decode(e.data)}},[op.InitializeInterestBearingMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Kp().decode(e.data)}},[op.UpdateRateInterestBearingMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rateAuthority:n()},data:Rg().decode(e.data)}},[op.EnableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Cp().decode(e.data)}},[op.DisableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Sp().decode(e.data)}},[op.InitializePermanentDelegate]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:tg().decode(e.data)}},[op.InitializeTransferHook]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:sg().decode(e.data)}},[op.UpdateTransferHook]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Og().decode(e.data)}},[op.InitializeConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Lp().decode(e.data)}},[op.WithdrawWithheldTokensFromMintForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===tp?void 0:e})(),authority:n()},data:Lg().decode(e.data)}},[op.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===tp?void 0:e})(),authority:n()},data:jg().decode(e.data)}},[op.HarvestWithheldTokensToMintForConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:zp().decode(e.data)}},[op.EnableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Rp().decode(e.data)}},[op.DisableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Ep().decode(e.data)}},[op.WithdrawExcessLamports]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{sourceAccount:n(),destinationAccount:n(),authority:n()},data:zg().decode(e.data)}},[op.InitializeMetadataPointer]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Gp().decode(e.data)}},[op.UpdateMetadataPointer]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),metadataPointerAuthority:n()},data:_g().decode(e.data)}},[op.InitializeGroupPointer]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Wp().decode(e.data)}},[op.UpdateGroupPointer]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupPointerAuthority:n()},data:xg().decode(e.data)}},[op.InitializeGroupMemberPointer]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:qp().decode(e.data)}},[op.UpdateGroupMemberPointer]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupMemberPointerAuthority:n()},data:Ig().decode(e.data)}},[op.InitializeScaledUiAmountMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ng().decode(e.data)}},[op.UpdateMultiplierScaledUiMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Cg().decode(e.data)}},[op.InitializePausableConfig]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:eg().decode(e.data)}},[op.Pause]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:lg().decode(e.data)}},[op.Resume]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:pg().decode(e.data)}},[op.InitializeTokenMetadata]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n(),mint:n(),mintAuthority:n()},data:ig().decode(e.data)}},[op.UpdateTokenMetadataField]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Bg().decode(e.data)}},[op.RemoveTokenMetadataKey]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:hg().decode(e.data)}},[op.UpdateTokenMetadataUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Mg().decode(e.data)}},[op.EmitTokenMetadata]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{metadata:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Ip().decode(e.data)}},[op.InitializeTokenGroup]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),mint:n(),mintAuthority:n()},data:rg().decode(e.data)}},[op.UpdateTokenGroupMaxSize]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Pg().decode(e.data)}},[op.UpdateTokenGroupUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Ng().decode(e.data)}},[op.InitializeTokenGroupMember]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{member:n(),memberMint:n(),memberMintAuthority:n(),group:n(),groupUpdateAuthority:n()},data:og().decode(e.data)}}}},[Wf]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(Za(t,Os().encode(0),0))return 0;if(Za(t,Os().encode(1),0))return 1;if(Za(t,Os().encode(2),0))return 2;throw new Error(\"The provided instruction could not be identified as a associatedToken instruction.\")},instructionEnum:Xh,typeToParserMap:{[Xh.CreateAssociatedToken]:function(e){if(e.accounts.length<6)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:vp().decode(e.data)}},[Xh.CreateAssociatedTokenIdempotent]:function(e){if(e.accounts.length<6)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:wp().decode(e.data)}},[Xh.RecoverNestedAssociatedToken]:function(e){if(e.accounts.length<7)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nestedAssociatedAccountAddress:n(),nestedTokenMintAddress:n(),destinationAssociatedAccountAddress:n(),ownerAssociatedAccountAddress:n(),ownerTokenMintAddress:n(),walletAddress:n(),tokenProgram:n()},data:fg().decode(e.data)}}}},[cm]:{identifier:dm,instructionEnum:lm,typeToParserMap:{[lm.Verify]:gm}},[um]:{identifier:dm,instructionEnum:lm,typeToParserMap:{[lm.Verify]:gm}}},ym=e=>{const{programAddress:t}=e,n={...e,dataBase58:ec().decode(e.data??new Uint8Array)};try{const r=mm[t];if(!r)throw new Error(\"Unsupported program address\");const{identifier:o,typeToParserMap:i,instructionEnum:a}=r,s=o(e),c=a[s],u=i[s];if(!u)throw new Error(\"Unsupported instruction type\");return{type:c,encoded:n,parsed:u(e)}}catch(e){return{type:\"Unknown\",encoded:n,parsed:null}}},vm=(e,t)=>{const n=e.accounts.filter((e=>e<t.transaction.message.accountKeys.length)).map((e=>({address:t.transaction.message.accountKeys[e],role:0}))),r=t.transaction.message.accountKeys[e.programIdIndex];if(!r)throw new Error(\"Program address not found\");return{accounts:n,data:ec().encode(e.data),programAddress:r}};function wm(e){const{type:t,id:n,address:r,options:o,methods:i,scopes:a}=e;return{type:t,id:n,address:r,options:o,methods:i,scopes:a}}const Am={accountSubscribe:\"accountUnsubscribe\",programSubscribe:\"programUnsubscribe\",signatureSubscribe:\"signatureUnsubscribe\"},bm=Z([\"processed\",\"confirmed\",\"finalized\"]),Sm=(e,t)=>(e=>Boolean(e.feePayer))(t)?t:hl(e,t),Em=e=>e.programAddress===gf&&yf({data:new Uint8Array,...e})===mf.SetComputeUnitPrice,km=e=>e.instructions.filter(Boolean).some(Em),Tm=e=>e.programAddress===gf&&yf({data:new Uint8Array,...e})===mf.SetComputeUnitLimit,Im=e=>e.instructions.filter(Boolean).some(Tm),xm=async(e,t,n)=>{try{const r=e.instructions.filter(Boolean),o=function({rpc:e}){return async function(t,n){return await Qg({...n,rpc:e,transactionMessage:t})}}({rpc:t}),i=await o(e,n?.getComputeUnitEstimateConfig).catch((e=>{if(Da(e,da))return e.context.unitsConsumed;throw e}));return{...(0,Qd.cloneDeep)(e),instructions:[...r.filter((e=>!Tm(e))),Ef({units:i},n?.getSetComputeUnitLimitInstructionConfig)]}}catch(t){return e}};class _m extends Error{constructor(e){super(e),this.name=\"FeeCalculatorError\"}}class Cm extends _m{constructor(e){super(e),this.name=\"FeeCalculatorUnsupportedInputTypeError\"}}const Rm=e=>({ed25519Signatures:[\"signature\"],instructions:e.instructions.map((t=>({accounts:[],data:t.data??new Uint8Array,programAddress:e.staticAccounts[t.programAddressIndex]})))}),Pm=e=>({...xu(e.messageBytes,Qu().decode,Rm),ed25519Signatures:Object.values(e.signatures)}),Nm=e=>xu(e,oc().encode,Al().decode,Pm),Bm=e=>xu(e,oc().encode,Qu().decode,Rm),Mm=5000n;class Om{static calculateFee(e){const t=this.#f(e),{ed25519SignaturesCount:n,secp256k1SignaturesCount:r,secp256r1SignaturesCount:o,totalSignaturesCount:i}=this.#h(t),a=this.#p(i),s=this.#g(t),c=this.#m(t),u=this.#y(s,c);return{ed25519SignaturesCount:n,secp256k1SignaturesCount:r,secp256r1SignaturesCount:o,totalSignaturesCount:i,baseFee:a,computeUnitLimit:s,computeUnitPriceMicroLamportsPerComputeUnit:c,priorityFee:u,totalFee:Iu(a+u)}}static#p(e){return Iu(Mm*BigInt(e))}static#g(e){const{instructions:t}=e,n=t.find(Tm);return n?kf(n).data.units:0}static#m(e){const{instructions:t}=e,n=t.find(Em);return n?Cf(n).data.microLamports:0n}static#y(e,t){return xu(e,(e=>Vo(e)),(e=>e.multipliedBy(t.toString())),(e=>e.dividedToIntegerBy(bd.toString())),(e=>e.toString()),BigInt,Iu)}static#h(e){const{ed25519Signatures:t,instructions:n}=e,r=t.length,o=n.filter(fm).map(ym).reduce(((e,t)=>e+(t.parsed?.data.numSignatures??0)),0),i=n.filter(hm).map(ym).reduce(((e,t)=>e+(t.parsed?.data.numSignatures??0)),0);return{ed25519SignaturesCount:r,secp256k1SignaturesCount:o,secp256r1SignaturesCount:i,totalSignaturesCount:r+o+i}}static#f(e){if(this.#v(e))return Nm(e);if(this.#w(e))return Bm(e);if(this.#A(e))return Rm(e);if(this.#b(e))return Pm(e);if(this.#S(e))return(e=>({ed25519Signatures:e.transaction.signatures,instructions:e.transaction.message.instructions.map((t=>vm(t,e)))}))(e);throw new Cm(\"The fee calculator could not recognize the input type. It supports SolanaTransactions, kit Transactions, and base64 strings.\")}static#v(e){try{return\"string\"==typeof e&&(Nm(e),!0)}catch(e){return!1}}static#w(e){try{return\"string\"==typeof e&&(Bm(e),!0)}catch(e){return!1}}static#A(e){return\"object\"==typeof e&&\"instructions\"in e&&\"staticAccounts\"in e}static#S(e){return\"object\"==typeof e&&\"transaction\"in e&&\"object\"==typeof e.transaction&&\"message\"in e.transaction&&\"object\"==typeof e.transaction.message&&\"accountKeys\"in e.transaction.message&&\"object\"==typeof e.transaction.message.accountKeys&&\"instructions\"in e.transaction.message&&\"object\"==typeof e.transaction.message.instructions&&\"signatures\"in e.transaction&&\"object\"==typeof e.transaction.signatures}static#b(e){return\"object\"==typeof e&&\"messageBytes\"in e&&\"object\"==typeof e.messageBytes&&\"signatures\"in e}}const zm=e=>Vo(e.toString()).dividedBy(Sd),Um=e=>Vo(e.toString()).multipliedBy(Sd).integerValue(Vo.ROUND_DOWN);var jm=function(e){return e.SignAndSendTransactionWithoutConfirmation=\"signAndSendTransactionWithoutConfirmation\",e.ConfirmSend=\"confirmSend\",e.SignAndSendTransaction=\"signAndSendTransaction\",e.ComputeFee=\"computeFee\",e.OnAddressInput=\"onAddressInput\",e.OnAmountInput=\"onAmountInput\",e.SignRewardsMessage=\"signRewardsMessage\",e}({});class Dm extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function Lm(e){return\"object\"==typeof e&&null!==e}function Fm(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function $m(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${Fm(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*qm(e,t,n,r){(function(e){return Lm(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=$m(o,t,n,r);e&&(yield e)}}function*Wm(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&Lm(t.schema)&&Lm(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=Wm(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Lm(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class Vm{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>qm(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>qm(o(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=Hm(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return function(e,t,n){const r=Hm(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}is(e){return function(e,t){const n=Hm(e,t);return!n[0]}(e,this)}mask(e,t){return function(e,t,n){const r=Hm(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return Hm(e,this,t)}}const Km=\"EXACT_OPTIONAL\";class Gm extends Vm{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=Km}static isExactOptional(e){return Lm(e)&&\"brand\"in e&&e.brand===Km}}function Hm(e,t,n={}){const r=Wm(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new Dm(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function Zm(){return Xm(\"never\",(()=>!1))}function Jm(e){const t=e?Object.keys(e):[],n=Zm();return new Vm({type:\"object\",schema:e??null,*entries(r){if(e&&Lm(r)){const o=new Set(Object.keys(r));for(const n of t){o.delete(n);const t=e[n];Gm.isExactOptional(t)&&!Object.prototype.hasOwnProperty.call(r,n)||(yield[n,r[n],e[n]])}for(const e of o)yield[e,r[e],n]}},validator:e=>Lm(e)||`Expected an object, but received: ${Fm(e)}`,coercer:e=>Lm(e)?{...e}:e})}function Ym(){return Xm(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${Fm(e)}`))}function Qm(...e){const t=\"type\"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?function(e){const t=Object.keys(e);return new Vm({type:\"type\",schema:e,*entries(n){if(Lm(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Lm(e)||`Expected an object, but received: ${Fm(e)}`,coercer:e=>Lm(e)?{...e}:e})}(r):Jm(r)}function Xm(e,t){return new Vm({type:e,schema:null,validator:t})}function ey(e){return Xm(JSON.stringify(e),function(e){const t=Fm(e),n=typeof e;return new Vm({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${Fm(n)}`})}(e).validator)}function ty(e){return null==e}const ny=(e,t)=>Object.hasOwnProperty.call(e,t);var ry;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(ry=ry||(ry={}));const oy=e=>te(e);function iy({path:e,branch:t}){const n=e[e.length-1];return ny(t[t.length-2],n)}function ay(e){return new O({...e,type:`optional ${e.type}`,validator:(t,n)=>!iy(n)||e.validator(t,n),refiner:(t,n)=>!iy(n)||e.refiner(t,n)})}function sy(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!sy(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!sy(n[e][1])){t=!1;break}return t}return!1}const cy=L(\"JSON\",(e=>sy(e))),uy=he(cy,ve(K(),\"JSON\",(e=>j(e,cy))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const ly=Y(\"2.0\"),dy=X(se([ee(),oe()])),fy=oy({code:J(),message:oe(),data:ay(uy),stack:ay(oe())}),hy=se([re(oe(),uy),G(uy)]);oy({id:dy,jsonrpc:ly,method:oe(),params:ay(hy)}),oy({jsonrpc:ly,method:oe(),params:ay(hy)});te({id:dy,jsonrpc:ly,result:ne(ce()),error:ne(fy)});const py=oy({id:dy,jsonrpc:ly,result:uy}),gy=oy({id:dy,jsonrpc:ly,error:fy});se([py,gy]);function my(e){return j(e,gy)}var yy=function(e){return e.Required=\"Required\",e.Invalid=\"Invalid\",e.InsufficientBalanceToCoverFee=\"InsufficientBalanceToCoverFee\",e.InsufficientBalance=\"InsufficientBalance\",e}({});const vy=Z(Object.values(kd)),wy=ae({address:he(oe(),oe(),(e=>{if(!e||\"\"===e)throw new Error(\"Account address is required\");const t=Zd(e);if(\"\"===t)throw new Error(\"Invalid Solana address format\");return t}))}),Ay=Y(\"ed25519\"),by=he(oe(),oe(),(e=>{const t=function(e){if(!e||\"string\"!=typeof e)return\"\";let t=Gd(e);const n=t.match(/^([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)+)/u);return n?.[1]&&(t=n[1]),/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)+$/u.test(t)?t.length>253?\"\":t.toLowerCase():\"\"}(e);if(\"\"===t)throw new Error(\"Invalid domain format\");return t})),Sy=he(oe(),oe(),(e=>{const t=Zd(e);if(\"\"===t)throw new Error(\"Invalid Solana address format\");return t})),Ey=he(oe(),oe(),(e=>{const t=Hd(e,1e3);if(\"\"===t)throw new Error(\"Statement cannot be empty. Control characters and excessive whitespace are removed for security. Please use plain text only.\");return t})),ky=he(oe(),oe(),(e=>Jd(e))),Ty=he(oe(),oe(),(e=>Hd(e,10))),Iy=he(oe(),oe(),(e=>Hd(e,50))),xy=he(oe(),oe(),(e=>Hd(e,100))),_y=he(oe(),oe(),(e=>function(e){if(!e||\"string\"!=typeof e)return\"\";const t=Gd(e);if(!/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d{3})?Z?$/u.test(t))return\"\";const n=new Date(t);return isNaN(n.getTime())?\"\":t}(e))),Cy=he(oe(),oe(),(e=>Hd(e,100))),Ry=he(G(oe()),G(oe()),(e=>{var t;return t=e,Array.isArray(t)?t.filter((e=>\"string\"==typeof e)).map((e=>Jd(e))).filter((e=>\"\"!==e)):[]})),Py=ae({domain:ne(by),address:ne(Sy),statement:ne(Ey),uri:ne(ky),version:ne(Ty),chainId:ne(Iy),nonce:ne(xy),issuedAt:ne(_y),expirationTime:ne(_y),notBefore:ne(_y),requestId:ne(Cy),resources:ne(Ry)}),Ny=ae({account:wy,message:Wd}),By=Z([\"processed\",\"confirmed\",\"finalized\"]),My=ae({preflightCommitment:ne(By),minContextSlot:ne(ee())}),Oy=ae({account:wy,transaction:Wd,scope:vy,options:ne(My)}),zy=ae({...My.schema,commitment:ne(By),skipPreflight:ne(H()),maxRetries:ne(ee())}),Uy=ae({...Oy.schema,scope:vy,options:ne(zy)}),jy=te({method:Z([Xt.SignAndSendTransaction]),params:Uy}),Dy=te({method:Z([Xt.SignIn]),params:Py}),Ly=te({method:Z([Xt.SignMessage]),params:Ny}),Fy=te({method:Z([Xt.SignTransaction]),params:Oy}),$y=te({signature:qd}),qy=te({signedTransaction:Wd}),Wy=te({signature:qd,signedMessage:Wd,signatureType:Ay}),Vy=te({account:wy,...Wy.schema}),Ky=se([jy,Dy,Ly,Fy]),Gy=te({jsonrpc:ly,id:dy,method:ey(jm.SignAndSendTransactionWithoutConfirmation),params:Uy}),Hy=te({transaction:Wd,accountId:Pd,scope:vy,options:ne(zy)}),Zy=te({jsonrpc:ly,id:dy,method:ey(jm.SignAndSendTransaction),params:Hy}),Jy=te({transactionId:qd}),Yy=te({fromAccountId:Pd,toAddress:Kd,amount:Nd,assetId:ri}),Qy=te({jsonrpc:ly,id:dy,method:ey(jm.ConfirmSend),params:Yy}),Xy=te({value:oe(),scope:function(e,t,n={}){return he(e,ce(),(e=>{const r=\"function\"==typeof t?t():t;if(void 0===e)return r;if(!n.strict&&R(e)&&R(r)){const t={...e};let n=!1;for(const e in r)void 0===t[e]&&(t[e]=r[e],n=!0);if(n)return t}return e}))}(vy,kd.Mainnet)}),ev=te({jsonrpc:ly,id:dy,method:ey(jm.OnAddressInput),params:Xy}),tv=te({value:Nd,accountId:Pd,assetId:ri}),nv=te({jsonrpc:ly,id:dy,method:ey(jm.OnAmountInput),params:tv});function rv(e){const t=xu(e,ac().encode,dc().decode);if(!t.startsWith(\"rewards,\"))throw new Error('Message must start with \"rewards,\"');const n=t.split(\",\");if(3!==n.length)throw new Error(\"Message must have exactly 3 parts: rewards,{address},{timestamp}\");const[r,o,i]=n;if(\"rewards\"!==r)throw new Error('Message must start with \"rewards\"');if(!j(o,Kd))throw new Error(\"Invalid Solana address\");if(!j(i,Nd))throw new Error(\"Invalid timestamp format\");if(i.includes(\".\"))throw new Error(\"Invalid timestamp\");const a=parseInt(i,10);if(a<=0)throw new Error(\"Invalid timestamp\");return{address:o,timestamp:a}}const ov=ve(Wd,\"RewardsMessage\",(e=>{try{return rv(e),!0}catch(e){return e instanceof Error?e.message:\"Invalid rewards message\"}})),iv=te({account:te({address:Kd}),message:ov}),av=te({jsonrpc:ly,id:dy,method:ey(jm.SignRewardsMessage),params:iv}),sv=te({valid:H(),errors:G(te({code:Z(Object.values(yy))}))}),cv=te({transaction:Wd,accountId:Pd,scope:vy}),uv=te({jsonrpc:ly,id:dy,method:ey(jm.ComputeFee),params:cv}),lv=G(te({type:Z(Object.values(Ot)),asset:_t}));const dv=ye(oe(),/^(?:0x)?[0-9a-f]+$/iu);ye(oe(),/^0x[0-9a-f]+$/iu),ye(oe(),/^0x[0-9a-f]{40}$/u),ye(oe(),/^0x[0-9a-fA-F]{40}$/u);function fv(e){ci(function(e){return j(e,dv)}(e),\"Value must be a hexadecimal string.\")}function hv(e){return e.startsWith(\"0x\")||e.startsWith(\"0X\")?e.substring(2):e}n(1048).hp;const pv=48,gv=58,mv=87;!function(){const e=[]}();function yv(e){if(\"0x\"===e?.toLowerCase?.())return new Uint8Array;fv(e);const t=hv(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),o=n.charCodeAt(2*e+1),i=t-(t<gv?pv:mv),a=o-(o<gv?pv:mv);r[e]=16*i+a}return r}async function vv({entropySource:e,derivationPath:t}){vd.log({derivationPath:t},\"Generating solana wallet\"),z(t,Vd);const n=t.split(\"/\");try{const t=await async function({entropySource:e,path:t,curve:n}){return await snap.request({method:\"snap_getBip32Entropy\",params:{path:t,curve:n,...e?{source:e}:{}}})}({entropySource:e,path:n,curve:\"ed25519\"});if(!t.privateKey||!t.publicKey)throw new Error(\"Unable to derive private key\");return{privateKeyBytes:yv(t.privateKey),publicKeyBytes:yv(t.publicKey)}}catch(e){throw vd.error({error:e},\"Error deriving keypair\"),new Error(e)}}const wv=e=>JSON.parse(JSON.stringify(e),((e,t)=>t?\"undefined\"!==t.__type?\"BigNumber\"===t.__type?new Vo(t.value):\"bigint\"===t.__type?BigInt(t.value):\"Uint8Array\"===t.__type?ac().encode(t.value):t:void 0:t)),Av=e=>(0,Qd.cloneDeepWith)(e,(e=>void 0===e?{__type:\"undefined\"}:e instanceof Vo?{__type:\"BigNumber\",value:e.toString()}:\"bigint\"==typeof e?{__type:\"bigint\",value:e.toString()}:e instanceof Uint8Array?{__type:\"Uint8Array\",value:ac().decode(e)}:void 0)),bv=\"send-form\",Sv=\"confirm-sign-and-send-transaction\";async function Ev(e,t){const n=Av(t);return snap.request({method:\"snap_createInterface\",params:{ui:e,context:n}})}async function kv(e,t,n){const r=Av(n);return snap.request({method:\"snap_updateInterface\",params:{id:e,ui:t,context:r}})}async function Tv(e,t){return snap.request({method:\"snap_resolveInterface\",params:{id:e,value:t}})}async function Iv(e){return snap.request({method:\"snap_dialog\",params:{id:e}})}async function xv(){return snap.request({method:\"snap_getPreferences\"})}async function _v(e){const t=await async function(e){const t=await snap.request({method:\"snap_getInterfaceContext\",params:{id:e}});return t?wv(t):null}(e);if(!t)throw new Error(\"Interface context not found\");return t}var Cv=function(e){return e.GetGenesisHash=\"getGenesisHash\",e.GetLatestBlockhash=\"getLatestBlockhash\",e.GetMinimumBalanceForRentExemption=\"getMinimumBalanceForRentExemption\",e}({});const Rv=te({jsonrpc:ly,id:dy,method:Y(\"getGenesisHash\"),params:ne(G())}),Pv=te({jsonrpc:ly,id:dy,method:Y(\"getLatestBlockhash\")}),Nv=te({jsonrpc:ly,id:dy,method:Y(\"getMinimumBalanceForRentExemption\"),params:ie([ee(),ne(te())])});var Bv,Mv=function(e){return e.StartSendTransactionFlow=\"startSendTransactionFlow\",e.GetFeeForTransaction=\"getFeeForTransaction\",e}({}),Ov=function(e){return e.ListWebSockets=\"listWebSockets\",e.ListSubscriptions=\"listSubscriptions\",e.TestOnStart=\"testOnStart\",e.TestOnInstall=\"testOnInstall\",e.TestOnUpdate=\"testOnUpdate\",e.SynchronizeAccounts=\"synchronizeAccounts\",e.SetAccountSelected=\"setAccountSelected\",e.ConfirmSend=\"confirmSend\",e}({});!function(e){e[e.Millisecond=1]=\"Millisecond\",e[e.Second=1e3]=\"Second\",e[e.Minute=6e4]=\"Minute\",e[e.Hour=36e5]=\"Hour\",e[e.Day=864e5]=\"Day\",e[e.Week=6048e5]=\"Week\",e[e.Year=31536e6]=\"Year\"}(Bv=Bv||(Bv={}));const zv=[kd.Mainnet,kd.Devnet],Uv={production:[kd.Mainnet],local:[kd.Mainnet],test:[kd.Localnet]},jv=he(G(Bd),oe(),(e=>e.split(\",\"))),Dv=he(G(oe()),oe(),(e=>e.split(\",\"))),Lv=te({ENVIRONMENT:Z([\"local\",\"test\",\"production\"]),RPC_URL_MAINNET_LIST:jv,RPC_URL_DEVNET_LIST:jv,RPC_URL_TESTNET_LIST:jv,RPC_URL_LOCALNET_LIST:Dv,RPC_WEB_SOCKET_URL_MAINNET:Bd,RPC_WEB_SOCKET_URL_DEVNET:Bd,RPC_WEB_SOCKET_URL_TESTNET:Bd,RPC_WEB_SOCKET_URL_LOCALNET:Bd,EXPLORER_BASE_URL:Bd,PRICE_API_BASE_URL:Bd,TOKEN_API_BASE_URL:Bd,STATIC_API_BASE_URL:Bd,SECURITY_ALERTS_API_BASE_URL:Bd,NFT_API_BASE_URL:Bd,LOCAL_API_BASE_URL:oe()});class Fv{#E;#k;constructor(){const e=this.#T();this.#E=this.#I(e),this.#k=[]}#T(){return U({ENVIRONMENT:\"production\",RPC_URL_MAINNET_LIST:\"https://solana-mainnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_URL_DEVNET_LIST:\"https://solana-devnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_URL_TESTNET_LIST:\"https://api.testnet.solana.com\",RPC_URL_LOCALNET_LIST:\"http://localhost:8899\",RPC_WEB_SOCKET_URL_MAINNET:\"wss://solana-mainnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_WEB_SOCKET_URL_DEVNET:\"wss://solana-devnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_WEB_SOCKET_URL_TESTNET:\"wss://api.testnet.solana.com\",RPC_WEB_SOCKET_URL_LOCALNET:\"wss://localhost:8899\",EXPLORER_BASE_URL:\"https://solscan.io\",PRICE_API_BASE_URL:\"https://price.api.cx.metamask.io\",TOKEN_API_BASE_URL:\"https://tokens.api.cx.metamask.io\",STATIC_API_BASE_URL:\"https://static.cx.metamask.io\",SECURITY_ALERTS_API_BASE_URL:\"https://security-alerts.api.cx.metamask.io\",LOCAL_API_BASE_URL:\"http://localhost:8899\",NFT_API_BASE_URL:\"https://nft.api.cx.metamask.io\"},Lv)}#I(e){return{environment:e.ENVIRONMENT,networks:[{...Rd[kd.Mainnet],rpcUrls:e.RPC_URL_MAINNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_MAINNET},{...Rd[kd.Devnet],rpcUrls:e.RPC_URL_DEVNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_DEVNET},{...Rd[kd.Testnet],rpcUrls:e.RPC_URL_TESTNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_TESTNET},{...Rd[kd.Localnet],rpcUrls:e.RPC_URL_LOCALNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_LOCALNET}],explorerBaseUrl:e.EXPLORER_BASE_URL,priceApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.PRICE_API_BASE_URL,chunkSize:50,cacheTtlsMilliseconds:{fiatExchangeRates:Bv.Minute,spotPrices:Bv.Minute,historicalPrices:Bv.Minute}},tokenApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.TOKEN_API_BASE_URL,chunkSize:50},staticApi:{baseUrl:e.STATIC_API_BASE_URL},transactions:{storageLimit:10},securityAlertsApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.SECURITY_ALERTS_API_BASE_URL},nftApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.NFT_API_BASE_URL,cacheTtlsMilliseconds:{listAddressSolanaNfts:Bv.Minute,getNftMetadata:Bv.Minute}},subscriptions:{maxReconnectAttempts:5,reconnectDelayMilliseconds:Bv.Second,closeConnectionsGracePeriodMilliseconds:5*Bv.Minute}}}get(){return this.#E}getNetworkBy(e,t){const n=this.get().networks.find((n=>n[e]===t));if(!n)throw new Error(`Network ${e} not found`);return n}async getActiveNetworks(){if(this.#k.length>0)return this.#k;const e=(0,Qd.uniq)([kd.Mainnet,...Uv[this.#E.environment]??[]]);try{const t=await ethereum.request({method:\"web3_clientVersion\"}),n=t?.includes(\"flask\"),r=n?[kd.Devnet]:[],o=(0,Qd.uniq)([...e,...r]);return this.#k=o,this.#k}catch(t){return e}}}const $v=(new Fv).get(),qv=[\"local\",\"test\"].includes($v.environment),Wv=qv?[\"http://localhost:3000\"]:[\"https://portfolio.metamask.io\"],Vv=qv?new Set([un.ListAccounts,un.GetAccount,un.CreateAccount,un.FilterAccountChains,un.DeleteAccount,un.DiscoverAccounts,un.GetAccountBalances,un.SubmitRequest,un.ListAccountTransactions,un.ListAccountAssets,un.SetSelectedAccounts,Mv.StartSendTransactionFlow,Mv.GetFeeForTransaction,Cv.GetGenesisHash,Cv.GetLatestBlockhash,jm.SignAndSendTransactionWithoutConfirmation,Ov.ListWebSockets,Ov.ListSubscriptions,Ov.TestOnStart,Ov.TestOnInstall,Ov.TestOnUpdate,Ov.SynchronizeAccounts,Ov.SetAccountSelected,Ov.ConfirmSend]):new Set([]),Kv=new Set([un.ListAccounts,un.GetAccount,un.CreateAccount,un.DeleteAccount,un.DiscoverAccounts,un.GetAccountBalances,un.SubmitRequest,un.ListAccountTransactions,un.ListAccountAssets,un.ResolveAccountAddress,un.SetSelectedAccounts,Mv.StartSendTransactionFlow,Mv.GetFeeForTransaction,jm.SignAndSendTransactionWithoutConfirmation]),Gv=new Map([]);for(const e of Wv)Gv.set(e,Vv);Gv.set(\"metamask\",Kv);const Hv=(e,t)=>{if(!e)throw new Eo(\"Origin not found\");if(!Gv.get(e)?.has(t))throw new Eo(\"Permission denied\")};function Zv(e,t){try{z(e,t)}catch(e){throw new fo(e.message)}}function Jv(e,t){try{z(e,t)}catch(e){throw new ao(\"Invalid Response\")}}const Yv=te({...Bt.schema,scope:Ld,request:Ky}),Qv=te({scopes:me(G(Ld)),entropySource:oe(),groupIndex:ge(ee(),0)});Error;function Xv(e){return function(e){return function(e){return\"object\"==typeof e&&null!==e&&\"message\"in e}(e)&&\"string\"==typeof e.message?e.message:null==e?\"\":String(e)}(e).replace(/\\.$/u,\"\")}function ew(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class tw extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}}function nw(e,t=\"Assertion failed.\",n=tw){if(!e){if(t instanceof Error)throw t;throw ew(n,t)}}function rw(e,t,n=\"Assertion failed\",r=tw){try{Zn(e,t)}catch(e){throw ew(r,`${n}: ${Xv(e)}.`)}}function ow(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function iw(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function aw(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"alphabet.encode input should be an array of numbers\");return t.map((t=>{if(ow(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"alphabet.decode input should be array of strings\");return t.map((t=>{if(\"string\"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return n}))}}}function sw(e=\"\"){if(\"string\"!=typeof e)throw new Error(\"join separator should be string\");return{encode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"join.encode input should be array of strings\");for(let e of t)if(\"string\"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if(\"string\"!=typeof t)throw new Error(\"join.decode input should be string\");return t.split(e)}}}function cw(e,t=\"=\"){if(ow(e),\"string\"!=typeof t)throw new Error(\"padding chr should be string\");return{encode(n){if(!Array.isArray(n)||n.length&&\"string\"!=typeof n[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of n)if(\"string\"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&\"string\"!=typeof n[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of n)if(\"string\"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error(\"Invalid padding: string should have whole number of bytes\");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error(\"Invalid padding: string has too much padding\");return n.slice(0,r)}}}function uw(e){if(\"function\"!=typeof e)throw new Error(\"normalize fn should be function\");return{encode:e=>e,decode:t=>e(t)}}function lw(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error(\"convertRadix: data should be array\");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(ow(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let o=r;o<i.length;o++){const s=i[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error(\"convertRadix: carry overflow\");e=c%n;const u=Math.floor(c/n);if(i[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error(\"convertRadix: carry overflow\");a&&(u?a=!1:r=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const dw=(e,t)=>t?dw(t,e%t):e,fw=(e,t)=>e+(t-dw(e,t));function hw(e,t,n,r){if(!Array.isArray(e))throw new Error(\"convertRadix2: data should be array\");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(fw(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${fw(t,n)}`);let o=0,i=0;const a=2**n-1,s=[];for(const r of e){if(ow(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)s.push((o>>i-n&a)>>>0);o&=2**i-1}if(o=o<<n-i&a,!r&&i>=t)throw new Error(\"Excess padding\");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&s.push(o>>>0),s}function pw(e){return ow(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error(\"radix.encode input should be Uint8Array\");return lw(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"radix.decode input should be array of strings\");return Uint8Array.from(lw(t,e,256))}}}function gw(e,t=!1){if(ow(e),e<=0||e>32)throw new Error(\"radix2: bits should be in (0..32]\");if(fw(8,e)>32||fw(e,8)>32)throw new Error(\"radix2: carry overflow\");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error(\"radix2.encode input should be Uint8Array\");return hw(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&\"number\"!=typeof n[0])throw new Error(\"radix2.decode input should be array of strings\");return Uint8Array.from(hw(n,e,8,t))}}}const mw=iw(gw(4),aw(\"0123456789ABCDEF\"),sw(\"\")),yw=iw(gw(5),aw(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\"),cw(5),sw(\"\")),vw=(iw(gw(5),aw(\"0123456789ABCDEFGHIJKLMNOPQRSTUV\"),cw(5),sw(\"\")),iw(gw(5),aw(\"0123456789ABCDEFGHJKMNPQRSTVWXYZ\"),sw(\"\"),uw((e=>e.toUpperCase().replace(/O/g,\"0\").replace(/[IL]/g,\"1\")))),iw(gw(6),aw(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"),cw(6),sw(\"\"))),ww=iw(gw(6),aw(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),cw(6),sw(\"\")),Aw=(iw(gw(6),aw(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),sw(\"\")),e=>iw(pw(58),aw(e),sw(\"\"))),bw=Aw(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"),Sw=[0,2,3,5,6,7,9,10,11],Ew={encode(e){let t=\"\";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=bw.encode(r).padStart(Sw[r.length],\"1\")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=Sw.indexOf(r.length),i=bw.decode(r);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error(\"base58xmr: wrong padding\");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}};iw(aw(\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\"),sw(\"\"));const kw={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};iw(gw(4),aw(\"0123456789abcdef\"),sw(\"\"),uw((e=>{if(\"string\"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));n(1048).hp;!function(){const e=[]}();function Tw(e){return e instanceof Uint8Array}function Iw(e){nw(Tw(e),\"Value must be a Uint8Array.\")}function xw(e,t,n){return new Vm({...e,*refiner(r,o){yield*e.refiner(r,o);const i=qm(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}var _w;!function(e){e.Copyable=\"copyable\",e.Divider=\"divider\",e.Heading=\"heading\",e.Panel=\"panel\",e.Spinner=\"spinner\",e.Text=\"text\",e.Image=\"image\",e.Row=\"row\",e.Address=\"address\",e.Button=\"button\",e.Input=\"input\",e.Form=\"form\"}(_w||(_w={}));const Cw=Jm({type:Ym()}),Rw=(Qm(Cw,Jm({value:Xm(\"unknown\",(()=>!0))})),Qm(Cw,Jm({type:ey(_w.Image),value:xw(Ym(),\"SVG\",(e=>!!e.includes(\"<svg\")||\"Value is not a valid SVG.\"))}))),Pw=function(e,t,n=[]){return(...r)=>{if(1===r.length&&Ln(r[0])){const n={...r[0],type:e};return rw(n,t,`Invalid ${e} component`),n}const o=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return rw(o,t,`Invalid ${e} component`),o}}(_w.Image,Rw,[\"value\"]);async function Nw(e,t){const n=await async function(e,t){if(\"function\"!=typeof fetch)throw new Error(`Failed to fetch image data from \"${e}\": Using this function requires the \"endowment:network-access\" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from \"${e}\": ${t.status} ${t.statusText}`);const n=await t.blob();return nw(\"image/jpeg\"===n.type||\"image/png\"===n.type,\"Expected image data to be a JPEG or PNG image.\"),n}))}(e,t),r=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${function(e){return Iw(e),vw.encode(e)}(r)}`}const Bw='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" width=\"48\" height=\"48\">\\n  <path fill=\"#999999\" d=\"M42.75 24c0 10.59375-8.53125 19.21875-19.125 19.21875-10.6875 0-19.21875-8.625-19.21875-19.21875 0-10.59375 8.53125-19.21875 19.21875-19.21875 10.59375 0 19.125 8.625 19.125 19.21875zM23.625 14.0625c-3.09375 0-5.90625 2.25-5.90625 5.4375 0 0.84375 0.75 1.59375 1.59375 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375 0-1.125 1.03125-2.25 2.71875-2.25 1.59375 0 2.625 1.125 2.625 2.25 0 0.5625-0.375 1.03125-1.3125 1.59375l0 0c-1.125 0.75-3 1.96875-3 4.5l0 0.46875c0 0.84375 0.75 1.59375 1.6875 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375l0-0.46875c0-0.65625 0.28125-1.125 1.40625-1.78125 1.03125-0.65625 2.8125-1.875 2.8125-4.3125 0-3.1875-2.8125-5.4375-5.8125-5.4375zM23.53125 31.875c-0.84375 0-1.59375 0.65625-1.59375 1.59375 0 0.84375 0.75 1.59375 1.59375 1.59375l0.09375 0c0.84375 0 1.59375-0.75 1.59375-1.59375 0-0.9375-0.75-1.59375-1.59375-1.59375z\"/>\\n</svg>';function Mw(e,t){return new Vo(e.toString()).div(10**t).toFixed()}function Ow(e){return e.split(\"/\")[0]}function zw(e,t){return`${e}/token:${t}`}class Uw{#i;#x;#_;#C;#R;#P;#N;#B;static cacheTtlsMilliseconds={tokenAccountsByOwner:5*Bv.Second};constructor({connection:e,logger:t,configProvider:n,assetsRepository:r,tokenApiClient:o,tokenPricesService:i,cache:a,nftApiClient:s}){this.#i=yd(t,\"[ AssetsService]\"),this.#x=e,this.#_=n,this.#C=r,this.#P=o,this.#R=i,this.#N=a,this.#B=s}#M(e){return{nativeAssetTypes:e.filter((e=>e.endsWith(_d.SOL))),tokenAssetTypes:e.filter((e=>e.includes(\"/token:\"))),nftAssetTypes:e.filter((e=>e.includes(\"/nft:\")))}}#O(e){const t={};for(const n of e){const{chain:{namespace:e,reference:r},assetNamespace:o,assetReference:i}=ii(n);t[n]={name:\"Solana\",symbol:\"SOL\",fungible:!0,iconUrl:`${this.#_.get().staticApi.baseUrl}/api/v2/tokenIcons/assets/${e}/${r}/${o}/${i}.png`,units:[{name:\"Solana\",symbol:\"SOL\",decimals:9}]}}return t}async#z(e){const t=await this.#B.getNftsMetadata(e.map((e=>{const{assetReference:t}=ii(e);return t}))),n={};return e.forEach(((e,r)=>{const o=t[r];if(!o)return;const i={name:o.name,symbol:o.name,imageUrl:o.imageUrl,description:o.description,fungible:!1,isPossibleSpam:!1,attributes:Object.fromEntries(o.attributes.map((e=>[e.key,e.value]))),collection:{name:o.collectionName,address:o.onchainCollectionAddress,symbol:o.collectionSymbol,tokenCount:o.collectionCount,creator:\"\",imageUrl:o.collectionImageUrl??\"\"}};n[e]=i})),n}async getAssetsMetadata(e){this.#i.log(\"Fetching metadata for assets\",e);const{nativeAssetTypes:t,tokenAssetTypes:n,nftAssetTypes:r}=this.#M(e),[o,i]=await Promise.all([this.#O(t),this.#P.getTokensMetadata(n)]);return{...o,...i}}async#U(e,t=[Gf,tp],n=[kd.Mainnet]){if(0===t.length||0===n.length)return[];const r=e.flatMap((e=>t.flatMap((t=>n.map((n=>({account:e,programId:t,scope:n}))))))),o=Ad(this.#j.bind(this),this.#N,{functionName:\"AssetsService:fetchTokenAccounts\",ttlMilliseconds:Uw.cacheTtlsMilliseconds.tokenAccountsByOwner,generateCacheKey:(e,t)=>{const[n,r,o]=t;return`${e}:${n.id}:${r}:${o}`}});return(await Promise.allSettled(r.map((async({account:e,programId:t,scope:n})=>await o(e,t,n))))).flatMap((e=>\"fulfilled\"===e.status?e.value:[]))}async#j(e,t=Gf,n=kd.Mainnet){return(await this.#x.getRpc(n).getTokenAccountsByOwner(yc(e.address),{programId:t},{encoding:\"jsonParsed\"}).send()).value.map((t=>({token:t,scope:n,assetType:zw(n,t.account.data.parsed.info.mint),keyringAccount:e})))}async fetch(e){const[t,n]=await Promise.all([this.#D(e),this.#U([e],[Gf,tp],await this.#_.getActiveNetworks())]),r=n.map((e=>e.assetType)),o=await this.#P.getTokensMetadata(r);return[...t,...n.filter((e=>e.assetType.includes(\"/token:\"))).map((e=>{const{assetType:t}=e,{decimals:n,amount:r,uiAmountString:i}=e.token.account.data.parsed.info.tokenAmount;return{assetType:t,keyringAccountId:e.keyringAccount.id,network:e.scope,mint:e.token.account.data.parsed.info.mint,pubkey:e.token.pubkey,symbol:o[t]?.symbol??\"UNKNOWN\",decimals:n,rawAmount:r,uiAmount:i??Mw(r,n)}}))]}async getNativeAssetTypes(){return(await this.#_.getActiveNetworks()).map((e=>`${e}/${_d.SOL}`))}async#D(e){const t=await this.getNativeAssetTypes(),n=yc(e.address),r=t.map((async t=>{const r=await this.#x.getRpc(Ow(t)).getBalance(n).send();return{assetType:t,keyringAccountId:e.id,network:Ow(t),address:n,symbol:\"SOL\",decimals:9,rawAmount:r.value.toString(),uiAmount:Mw(r.value,9)}}));return(await Promise.allSettled(r)).flatMap((e=>\"fulfilled\"===e.status?e.value:[]))}async#L(e,t){const n=yc(e.address),r=await this.#B.listAddressSolanaNfts(n),o={};for(const e of t){const{assetReference:t}=ii(e),n=r.find((e=>e.tokenAddress===t));n&&(o[e]={unit:n.nftToken.name,amount:n.balance.toString()})}return o}async fetchAssetsMarketData(e){this.#i.info(\"Fetching market data for assets\",e);return await this.#R.getMultipleTokensMarketData(e)}async save(e){await this.saveMany([e])}async saveMany(e){this.#i.info(\"Saving assets\",e);const t=e=>\"0\"===e.rawAmount||\"0\"===e.uiAmount;await this.getAll();await this.#C.saveMany(e);const n=e=>t(e)&&!(e=>e.assetType.includes(_d.SOL))(e),r=e=>!n(e)&&!0,o=e.reduce(((e,t)=>({...e,[t.keyringAccountId]:{added:[...e[t.keyringAccountId]?.added??[],...r(t)?[t.assetType]:[]],removed:[...e[t.keyringAccountId]?.removed??[],...n(t)?[t.assetType]:[]]}})),{});Object.values(o).map((e=>e.added.length+e.removed.length)).every((e=>0===e))||await On(snap,Rn.AccountAssetListUpdated,{assets:o});const i=e.filter((()=>!0)).reduce(((e,t)=>({...e,[t.keyringAccountId]:{...e[t.keyringAccountId]??{},[t.assetType]:{unit:t.symbol,amount:t.uiAmount}}})),{});Object.values(i).map((e=>Object.keys(e).length)).some((e=>e>0))&&await On(snap,Rn.AccountBalancesUpdated,{balances:i})}static hasChanged(e,t){const n=t.find((t=>t.keyringAccountId===e.keyringAccountId&&t.assetType===e.assetType));if(!n)return!0;const r=n.rawAmount!==e.rawAmount,o=n.uiAmount!==e.uiAmount;return r||o}async getAll(){return this.#C.getAll()}async findByAccount(e){const{id:t,address:n}=e,r=await this.#C.findByKeyringAccountId(t),o=await this.getNativeAssetTypes(),i=[];for(const t of o){if(!r.some((e=>e.assetType===t))){const r=Ow(t);i.push({assetType:t,keyringAccountId:e.id,network:r,address:n,symbol:\"SOL\",decimals:9,rawAmount:\"0\",uiAmount:\"0\"})}}return[...r,...i]}static generateImageComponent=async(e,t=48,n=48)=>e?async function(e,{width:t,height:n=t,request:r}){nw(\"number\"==typeof t&&t>0,\"Expected width to be a number greater than 0.\"),nw(\"number\"==typeof n&&n>0,\"Expected height to be a number greater than 0.\");const o=await Nw(e,r),i=`width=\"${t}\" height=\"${n}\"`;return Pw(`<svg ${i.trim()} xmlns=\"http://www.w3.org/2000/svg\"><image ${i.trim()} href=\"${o}\" /></svg>`)}(e,{width:t,height:n}).then((e=>e.value)).catch((()=>Bw)):Bw}const jw=Iu(5000n);class Dw{#F;constructor(e){this.#F=e}#$(){const e=this.#F.getComputeUnitLimit(),t=this.#F.getComputeUnitPriceMicroLamportsPerComputeUnit();return xu(e,(e=>Vo(e)),(e=>e.multipliedBy(t.toString())),(e=>e.dividedToIntegerBy(bd.toString())),(e=>e.toString()),BigInt,Iu)}getFee(){const e=this.#$();return Iu(jw+e)}}const Lw=\"Sending to this address may result in permanent loss of funds.\";class Fw extends Error{constructor(e,t){super(e,t),this.name=\"RecipientClassificationError\"}}class $w extends Fw{constructor(){super(`Cannot send to this address. This appears to be a mint account, program data account, metadata account, or PDA. ${Lw} Only wallet addresses and token accounts are supported.`),this.name=\"RecipientUnsupportedError\"}}class qw extends Fw{constructor(){super(`Cannot send to this address. This is a token account for a different token than the one you're trying to send. ${Lw}`),this.name=\"RecipientTokenAccountMintMismatchError\"}}class Ww{#q;#W;#x;#i;#V=4e4;#K=10000n;constructor(e,t,n,r){this.#q=e,this.#W=t,this.#x=n,this.#i=yd(r,\"[ SendSplTokenBuilder]\")}async buildTransactionMessage(e){this.#i.log(\"Build transfer SPL token transaction message\");const{from:{entropySource:t,derivationPath:n},to:r,mint:o,amount:i,network:a}=e;ci(o,\"Mint is required\");const s=await this.#W.classify(r,a);if(\"UNSUPPORTED\"===s.type)throw new $w;const[c,u,{privateKeyBytes:l},d]=await Promise.all([this.#x.fetchMint(o,a),this.#q.uiAmountToAmountForMint(o,a,i.toString()),vv({entropySource:t,derivationPath:n}),this.#x.getLatestBlockhash(a)]),{programAddress:f,data:{decimals:h}}=c,p=await zl(l),g=await Ww.deriveAssociatedTokenAccountAddress({mint:o,owner:p.address,tokenProgram:f}),m=[];switch(s.type){case\"SYSTEM\":{const e=await Ww.deriveAssociatedTokenAccountAddress({mint:o,owner:r,tokenProgram:f});m.push(function(e,t){const n=t?.programAddress??Wf,r={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};r.tokenProgram.value||(r.tokenProgram.value=\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"),r.systemProgram.value||(r.systemProgram.value=\"11111111111111111111111111111111\");const o=Qf(n);return{accounts:[o(r.payer),o(r.ata),o(r.owner),o(r.mint),o(r.systemProgram),o(r.tokenProgram)],programAddress:n,data:ch().encode({})}}({mint:o,payer:p,tokenProgram:f,owner:r,ata:e})),m.push(Ch({source:g,mint:o,destination:e,authority:p,amount:u,decimals:h}));break}case\"TOKEN_ACCOUNT\":if(s.mint!==o)throw new qw;m.push(Ch({source:g,mint:o,destination:r,authority:p,amount:u,decimals:h}));break;default:throw new $w}const y=xu(al({version:0}),(e=>hl(p.address,e)),(e=>Cu(d,e)),(e=>gl(m,e)));return ml([Ef({units:this.#V}),_f({microLamports:this.#K})],y)}static async deriveAssociatedTokenAccountAddress({mint:e,owner:t,tokenProgram:n}){return(await ah({mint:e,owner:t,tokenProgram:n}))[0]}getComputeUnitLimit(){return this.#V}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#K}}class Vw{#x;#i;static defaultComputeUnitPriceInMicroLamportsPerComputeUnit=10000n;constructor(e,t){this.#x=e,this.#i=yd(t,\"[ Signer]\")}async partiallySignBase64String(e,t,n,r){this.#i.log(\"Partially sign base64 string\",{base64String:e,account:t,network:n,config:r});const o=this.#x.getRpc(n),i=await sm(e,o,r);if(\"instructions\"in i)return this.#G(i,t,n);if(Object.values(i.signatures).every((e=>!e))){const{messageBytes:e}=i,a=await om(e,o,r);return this.#G(a,t,n)}return this.#H(i,t)}async#G(e,t,n){const r=_u(e)?e.lifetimeConstraint:await this.#x.getLatestBlockhash(n),o=km(e),i=Vw.defaultComputeUnitPriceInMicroLamportsPerComputeUnit,a=!Im(e)||!o,{privateKeyBytes:s}=await vv({entropySource:t.entropySource,derivationPath:t.derivationPath}),c=await zl(s),u=await xu(e,(e=>Sm(c.address,e)),(e=>{return t=r,_u(n=e)?n:Cu(t,n);var t,n}),(e=>((e,t,n)=>km(e)?e:ml([_f(t,n)],e))(e,{microLamports:i})),(async e=>a?xm(e,this.#x.getRpc(n)):e)),l=Ml([c],u);return await jl(l)}async#H(e,t){const{privateKeyBytes:n}=await vv({entropySource:t.entropySource,derivationPath:t.derivationPath});return kl([await Fc(n)],e)}}const Kw=(e,t)=>{const{to:n,type:r,status:o}=e,{address:i}=t;if(!(r===jt.Receive||o===Ut.Failed))return!1;const{hasReceivedSOL:a,receivedSOLAmount:s}=n.reduce(((e,t)=>t.address!==i||!t.asset?.fungible||t.asset.type!==Td.SolMainnet&&t.asset.type!==Td.SolDevnet?e:{hasReceivedSOL:!0,receivedSOLAmount:e.receivedSOLAmount.plus(t.asset.amount)}),{hasReceivedSOL:!1,receivedSOLAmount:new Vo(0)});return a&&s.isLessThan(.001)};function Gw(e,t){return[Kw].some((n=>n(e,t)))}class Hw{#Z;#J;#Y;#Q;#X;#q;#_;#i;#ee=[Gf,tp];constructor(e,t,n,r,o,i,a,s){this.#Z=e,this.#J=t,this.#Y=n,this.#Q=r,this.#X=o,this.#q=i,this.#_=a,this.#i=yd(s,\"[ KeyringAccountMonitor]\"),this.#te()}#te(){this.#i.info(\"Binding handlers\"),zv.forEach((e=>{this.#Z.registerNotificationHandler(\"accountSubscribe\",e,this.#ne.bind(this)),this.#Z.registerNotificationHandler(\"programSubscribe\",e,this.#re.bind(this))})),zv.forEach((e=>{this.#Z.registerConnectionRecoveryHandler(e,this.#oe.bind(this))}))}async setMonitoredAccounts(e){this.#i.info(\"Setting monitored accounts\",e);const[t,n,r]=await Promise.all([this.#J.getAll(),this.#Z.getAll(),this.#_.getActiveNetworks()]),o=t.filter((e=>n.some((t=>e.address===(0,Qd.get)(t,\"params[0]\")||e.address===(0,Qd.get)(t,\"params[1].filters[0].memcmp.bytes\"))))),i=o.filter((t=>!e.includes(t.id))),a=t.filter((t=>e.includes(t.id))).filter((e=>!o.includes(e)));await Promise.allSettled([this.#ie(i,n),this.#ae(a,r)])}async#ae(e,t){try{this.#i.log(\"Monitoring keyring accounts\",e);const n=this.#X.synchronize(e),r=e.flatMap((e=>{const n=t=>e.scopes.includes(t);return[...t.filter(n).map((async t=>this.#se(e,t))),...t.filter(n).map((async t=>{await Promise.all(this.#ee.map((async n=>this.#ce(e,n,t))))}))]}));await Promise.allSettled([...r,n])}catch(e){throw this.#i.error(\"Error monitoring keyring account\",e),e}}async#ie(e,t){this.#i.log(\"Stopping to monitor accounts\",e);const n=e.map((e=>e.address)),r=t.filter((e=>Hw.#ue(e)||Hw.#le(e))).filter((e=>n.includes(Hw.#de(e))));await Promise.allSettled(r.map((async e=>this.#Z.unsubscribe(e.id))))}async#se(e,t){this.#i.log(\"Monitoring native asset balance\",{account:e,network:t});const{address:n}=e;await this.#Z.subscribe({method:\"accountSubscribe\",network:t,params:[n,{commitment:\"confirmed\",encoding:\"jsonParsed\"}]})}async#ce(e,t,n){this.#i.log(\"Monitoring token program by owner\",{account:e,tokenProgramAddress:t,network:n});const{address:r}=e;await this.#Z.subscribe({method:\"programSubscribe\",network:n,params:[t,{commitment:\"confirmed\",encoding:\"jsonParsed\",filters:[{memcmp:{offset:32,bytes:r,encoding:\"base58\"}}]}]})}async#ne(e,t){this.#i.info(\"Account notification received\",{notification:e,subscription:t});const{network:n}=t,r=(0,Qd.get)(t,\"params[0]\");z(r,oe());const o=await this.#J.findByAddress(r);if(!o)throw new Error(`No keyring account found for address: ${r}`);const{lamports:i}=e.params.result.value;z(i,ee());await Promise.all([this.#Y.save({assetType:`${n}/${_d.SOL}`,keyringAccountId:o.id,network:n,address:r,symbol:\"SOL\",decimals:9,rawAmount:i.toString(),uiAmount:Mw(i,9)}),this.#fe(o,n,r)])}async#re(e,t){this.#i.info(\"Handling program notification\",{notification:e,subscription:t});const{network:n}=t,r=(0,Qd.get)(t,\"params[0]\");if(z(r,oe()),r!==Gf&&r!==tp)throw new Error(`Program not supported: ${r}`);const{owner:o}=e.params.result.value.account.data.parsed.info;z(o,oe());const{mint:i}=e.params.result.value.account.data.parsed.info;z(i,oe());const{amount:a,decimals:s,uiAmountString:c}=e.params.result.value.account.data.parsed.info.tokenAmount;z(a,oe()),z(s,ee()),z(c,oe());const{pubkey:u}=e.params.result.value;z(u,oe());const l=zw(n,i),d=await this.#J.findByAddress(o);if(!d)throw new Error(`No keyring account found with address: ${o}`);const f=await this.#q.amountToUiAmountForMint(i,n,Iu(BigInt(a))).catch((e=>(this.#i.error(\"Error converting amount to uiAmount\",e),c))),h=(await this.#Y.getAssetsMetadata([l]))[l];await Promise.all([this.#Y.save({assetType:l,keyringAccountId:d.id,network:n,mint:i,pubkey:u,symbol:h?.symbol??\"UNKNOWN\",decimals:s,rawAmount:a,uiAmount:f}),this.#fe(d,n,u)])}async#fe(e,t,n){const r=(await this.#Q.fetchLatestSignatures(t,yc(n),{limit:1}))?.[0];if(!r)throw new Error(\"No signature found\");const o=await this.#Q.fetchBySignature(r,e,t);if(!o)throw new Error(\"No transaction found\");Gw(o,e)?this.#i.info(`Transaction ${r} is spam. Skipping.`):await this.#Q.save(o)}async#oe(e){this.#i.info(\"Handling connection recovery\",{network:e});const[t,n]=await Promise.all([this.#J.getAll(),this.#Z.getAll()]),r=n.filter((e=>Hw.#ue(e)||Hw.#le(e))),o=(0,Qd.uniq)(r.map((e=>Hw.#de(e)))),i=t.filter((e=>o.includes(e.address)));i.length?await this.#X.synchronize(i):this.#i.info(\"No monitored accounts found. Skipping connection recovery.\")}static#ue(e){return\"accountSubscribe\"===e.method}static#le(e){return\"programSubscribe\"===e.method}static#de(e){if(this.#ue(e))return(0,Qd.get)(e,\"params[0]\");if(this.#le(e))return(0,Qd.get)(e,\"params[1].filters[0].memcmp.bytes\");throw new Error(\"Invalid subscription\")}}class Zw{#he;#pe;#ge;#i;#me=new Map;constructor(e,t,n,r){this.#he=e,this.#pe=t,this.#ge=n,this.#i=yd(r,\"[ SubscriptionService]\"),this.#te()}#te(){this.#ge.on(\"onInactive\",this.#ye.bind(this)),this.#ge.on(\"onWebSocketEvent\",this.#ve.bind(this)),this.#ge.on(\"onListSubscriptions\",this.#we.bind(this)),zv.forEach((e=>{this.#he.onConnectionRecovery(e,this.#Ae.bind(this))}))}registerNotificationHandler(e,t,n){this.#i.info(\"Registering notification handler\",{network:t,method:e,handler:n});const r=`${e}:${t}`;this.#me.has(r)||this.#me.set(r,new Set),this.#me.get(r).add(n)}registerConnectionRecoveryHandler(e,t){this.#he.onConnectionRecovery(e,t)}async subscribe(e){this.#i.info(\"New subscription request\",e);const{method:t,params:n,network:r,expiryMilliseconds:o}=e,i=await this.#be(e),a=await this.#pe.getById(i);if(a){if(\"confirmed\"===a.status)return i;await this.#pe.delete(i)}const s={...e,id:i,status:\"pending\",requestId:i,createdAt:(new Date).toISOString(),...o?{expiresAt:new Date(Date.now()+o).toISOString()}:{}};await this.#pe.save(s);const c=await this.#he.findByNetwork(r),u=async e=>{const r={jsonrpc:\"2.0\",id:i,method:t,params:n};e&&await this.#Se(e,r)};return c&&await u(c.id),s.id}async unsubscribe(e){this.#i.info(\"Unsubscribing from\",e);const t=await this.#pe.getById(e);if(!t)return void this.#i.warn(`Subscription not found: ${e}`);const{id:n,network:r,method:o}=t,i=Am[o];if(await this.#pe.delete(n),\"confirmed\"===t.status){const e=await this.#he.findByNetwork(r);e&&await this.#Se(e.id,{jsonrpc:\"2.0\",id:globalThis.crypto.randomUUID(),method:i,params:[t.rpcSubscriptionId]})}}async getAll(){return this.#pe.getAll()}async#ve(e){if(\"message\"!==e.type)return;const t=(e=>{const{data:t}=e;let n;if(t&&\"object\"==typeof t&&\"type\"in t)if(\"text\"===t.type)n=\"string\"==typeof t.message?JSON.parse(t.message):t.message;else{if(\"binary\"!==t.type)throw new Error(\"Unknown message data\");{const e=t.message,r=String.fromCharCode(...e);n=JSON.parse(r)}}else n=\"string\"==typeof t?JSON.parse(t):t;return n})(e),n=await this.#he.findById(e.id);if(n)switch(this.#i.info(\"Received message\",e),t.method){case\"accountNotification\":case\"programNotification\":case\"signatureNotification\":await this.#Ee(t,n.network);break;default:this.#ke(t)?await this.#Te(t):this.#Ie(t)?await this.#xe(t):my(t)?await this.#_e(t):this.#i.warn(\"Received unknown message\",t)}}async#Ee(e,t){const{subscription:n}=e.params,r=await this.#pe.findBy(\"rpcSubscriptionId\",n);if(!r)return void this.#i.warn(\"No subscription found for RPC ID:\",n);const o=`${r.method}:${t}`,i=this.#me.get(o);if(i&&i.size>0){(await Promise.allSettled(Array.from(i).map((async t=>t(e,r))))).forEach((e=>{\"rejected\"===e.status&&this.#i.error(`Handler failed for ${r.method}:`,e.reason)}))}}async#Se(e,t){this.#i.info(`Sending message to connection ${e}`,t),await snap.request({method:\"snap_sendWebSocketMessage\",params:{id:e,message:JSON.stringify(t)}})}#ke(e){return\"jsonrpc\"in e&&\"2.0\"===e.jsonrpc&&\"id\"in e&&\"result\"in e&&\"number\"==typeof e.result}#Ie(e){return\"jsonrpc\"in e&&\"id\"in e&&\"result\"in e&&!0===e.result}async#Te(e){const{id:t,result:n}=e,r=await this.#pe.getById(String(t));r?(await this.#pe.update({...r,status:\"confirmed\",rpcSubscriptionId:n,confirmedAt:(new Date).toISOString()}),this.#i.info(`Subscription confirmed: request ID: ${t} -> RPC ID: ${n}`)):this.#i.warn(`Received subscription confirmation, but no matching pending subscription found for subscription ID: ${t}.`)}async#xe(e){this.#i.info(\"Received unsubscription confirmation\",e)}async#_e(e){if(\"id\"in e&&void 0!==e.id){const t=await this.#pe.getById(String(e.id));\"pending\"===t?.status?(await this.#pe.delete(t.id),this.#i.error(`Subscription establishment failed for ${t.id}:`,e.error)):this.#i.error(`Received error for request ID: ${e.id}`,e.error)}else this.#i.error(\"Connection-level error:\",e.error)}async#be(e){const t={method:e.method,params:e.params,network:e.network,metadata:e.metadata??null},n=this.#Ce(t),r=(new TextEncoder).encode(n),o=await globalThis.crypto.subtle.digest(\"SHA-256\",r),i=Array.from(new Uint8Array(o)).map((e=>e.toString(16).padStart(2,\"0\"))).join(\"\");return i}#Ce(e){if(null==e)return JSON.stringify(e);if(\"object\"!=typeof e)return JSON.stringify(e);if(Array.isArray(e))return`[${e.map((e=>this.#Ce(e))).join(\",\")}]`;const t=Object.keys(e).sort(((e,t)=>e.localeCompare(t)));return`{${t.map((t=>`\"${t}\":${this.#Ce(e[t])}`)).join(\",\")}}`}async#we(){const e=await this.#pe.getAll();this.#i.info(\"Subscriptions\",{subscriptions:e,notificationHandlers:this.#me})}#Re(e){return{method:e.method,params:e.params,network:e.network,...e.expiryMilliseconds?{expiryMilliseconds:e.expiryMilliseconds}:{},...e.metadata?{metadata:e.metadata}:{}}}async#Ae(e){this.#i.info(`Re-subscribing to all subscriptions for network ${e}`);const t=(await this.#pe.getAll()).filter((t=>t.network===e)).filter(Zw.#Pe),n=t.map((e=>e.id));await this.#pe.deleteMany(n),await Promise.allSettled(t.map((async e=>{await this.subscribe(this.#Re(e))})))}async#ye(){this.#i.info(\"Client became inactive\"),await this.#Ne()}async#Ne(){this.#i.info(\"Removing expired subscriptions\");const e=(await this.#pe.getAll()).filter(Zw.#Be);await Promise.allSettled(e.map((async e=>{await this.unsubscribe(e.id)})))}static#Be(e){const t=new Date;return Boolean(e.expiresAt&&new Date(e.expiresAt)<t)}static#Pe(e){return!Zw.#Be(e)}}function Jw(e,t,n){if(\"string\"==typeof e)throw new Error(`An HTML element (\"${String(e)}\") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error(\"A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.\");return e({...t,key:n})}function Yw(e,t,n){return Jw(e,t,n)}const Qw='<svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><image width=\"16\" height=\"16\" href=\"data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX0BBQUFBQUFBQYGBQgIBwgICwoJCQoLEQwNDA0MERoQExAQExAaFxsWFRYbFykgHBwgKS8nJScvOTMzOUdER11dff/CABEIAPoA+gMBIgACEQEDEQH/xAA1AAEAAwEBAQEBAAAAAAAAAAAAAQIHBggEBQMBAQADAQEBAQAAAAAAAAAAAAACAwQBBQYH/9oADAMBAAIQAxAAAADxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx204cU3mdnnYLG+IQwNvsxhgLfrRh5/egLRh59egkYefXoRCPn6mv5BH2ajuwAAAACZdFZz6/SvzfofWfLWtS2jw7WpNGO01mjJaas+P+k0tRjtNbUY38Leccnq/DxFq5f2ao7cAAAAB+36W8/9p7+DZZxp6nl7LOM3qzbLOMqs2zzjF6suyzjNqqNlnGrU5NkY7zlHP75Wjzv0mg5pAAAAAAs6jqdsMuajacMsam5HLGqORytqkxjlTVbc5lLVpjDKGsfhQlwdb1p3QAAAAAADofSXk7q/cp9MT8n0/cebe1Jpx2tS2fJNqTRkvNLUY7TWaMdqXZ8vnHPvZHmrw/u+JTGL6EAAAAABMDuvQvkLQfo6PQU55P0WLRJztTl0Sc7U5tFnOppzaOzmacujTnSrLo3x8NNFOM8zsuM+H99Aq2AAAAAATMfpWPznbNXOJdqjHi47Wec4l2jnOLdo5zi57JFxrsp5HjadRy9d0CMgAAAAJPqm+j0X8fW/oV82rPvUWRNGObUmjHe1LUZLIUY7TDPk/opk2CP5uPy+U+1qKrwAAAAPo3zPdc+23fu2/BfYXdA/AmjL+/bn1GToZ55Tl6KedmjJ0c87anL0LnuZyUTgH9fm+Q9+Bk0AAAAAAWVdWVFlRZUWVFpo4uoLxV0HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EAEEQAAECAwQHBAgDBgcBAAAAAAECBAADBgURF1UQMUFRkpPSEiFSohYgIjBAYaPiBzLBEyRUYnCRFBVDRYGhstH/2gAIAQEAAT8A/qXdF0XRd8ou9a4R3aOz8AO+KUo95Uc1SyoyGcs+3OIvvPhQDrMYUWPmbzhRGFFj5m74URhRY2Zu+FEYT2NmbvhRGE1jZm84URhNY2ZvOFEYTWNmjzhRGEti5o84URhLYuaPP7IjCWxc0ecKIwksXM3nCiMJLFzN5wojCSxczd/2RGEliZm8/siKt/DthYNkTLRbWlNUqWtIKJwA7Xa8JHwFK0w6qN6EJvQ1lkGfO2AeEb1HZDRq2YNpLVrJTLkyk9lCAO4D9TtJ2nQIv0C/QDAOgGL9Lp22Yt5rl1NTLky03rWrUB+p+W2KyqubUr72SpDOSSJEonzKHiPv6dsB7UT1LduLkJuM2afyy0bzvO4RZdmtbIZSGTRHZlS069qlbVK3k6AYGkQDA0DQDonTpTaVMnTpqUSkJKlrUbkhI1kmK3rJdQuRIaKUiz5BPYB7jMV41CD3++sWx3ltv5LNqm9au9Sj+VCRrUo7hFg2IzsBhLZthftmzCO+Yvao7vkNA0AxfA0A6RAMCCpKUqJUAALySbgBFeVsLXUuzbPWQxQr25m2coH/AMiFa/f0rVK6ZmO1hkiemehIIKuwoFBvFyrjGLByIc89MYsnIxz/ALIxZORjn/ZGLJyMc89MYspyP6/2xi0nIvr/AGxi2nI/r/bGLYyL6/2xi5LyM8/7Yxbl5Gef9sYuSsjPPHTGLkrI1c8dMYuSMjXzh0xi63yRfOHTFR/iO9tpktk1bBpJWLpp7fbWtPh1CCTBJPwN3udfqk6vgKcph7Ui3KW02VKEhIK1zL9atQFwJjCu1szZ+fpjCy18zZ+fpjCu1syZefpjCu1syZefpjCq18yZ+fpjCq18yZ+fpjCm18zZ+fpjCi1s0Z+fpjCe1szZ+fpjCe1s0Z+fpjCa180Z+fpjCa1szZ+fpjCa1szZefpjCW1s0Zefpi36Etan2gdrVKcSAblqlX+wTvBAMKB7ou9/T9vPKffJctriki6bLP5Vo3H9DFl2m1tdlIetV9qXMGralW1KtxGgGAYvgQDoBi+L9A0TZUtxKmSp0tK5cwFK0K7wUnWCIrWjlU+4DltethOPsE95lK8CjB+ApipnVPPAtN62yyBPk7FDeNyhsMNHbZ+2kum04TJMxPaSobR+hG0bIEXwDpB0AwIHqO2rZ+2nNXMlM2TMR2VoVqI/Q7jsisKWn049ISVTGc4kyJvy1lCvmII9+DdFH1VNsB0JThalMJyh+1RrKD40jeIkzpLiVLnSZqZkqYkKQtJvSUnUQdAOi+BF+gHQNA0WjZzO1Wc5m8lCZKmC4jaDsUk7FDYYqWnHtOv1t56SqUq8yJwHctH/ANG2B78G4xR1ZKsLttXiVzGSzeAk3mUraUg6wdojEum9zzkp64xMprc85KeuMTKa8Lzkp64xMprwvOSnrjE2mvC85KeuMTaa8LzlJ64xNprwveSnrjE6mvC95KeuMT6Z3POSnrjE+mdzzlJ6oxOpnc85Q6oxPpjc85SeqMT6YOx5yU9cYn0xue8lPXFY1tYFuWKtk1kT1zzNQpCpqAkIuPeoHtHX8APWv9S+L4vGjVo/4+Bs6zHtquA3ZN1TphBNydgG0k9wEYfVR/Ao5qIw9qj+BRzURh/VWXDmojD6qsuHNRGH1VZcOaiMPqqy4c1EYf1Xlf1ZfVGH9WZX9VHVGH1WZX9WX1Rh9VeWfVl9UYf1blJ5qOqMP6tyo81HVGH1W5T9VHVGH1XZSeajqi0qSt+yGxdPrPXLkhQSV9pKgCd/ZJ+As6z3dpu5LVrKMybMNwA/7JOwDaYpun29PMBIRcufMuLib41bh/KNnq3iL4ECO6Bd6m0d0fiBWMp6ldj2esKkBX7xOGpage5Cd6RtPvhDRrPeOJTeRKVMnTFBKEDWSYpSmJNPNSVkLezUj9rM2Aa+wn5DadI9QQDovgQNAivK2S2TPsezZl80jsOZwP5AdaE/PeYJJ99KlrmrQhAJWSAABeSdwikaTRYklLp0Ap/MRcdolJOwfPeY1QDov0iBoBi+AdNb1l/k6FWcwX+/LR7ax/oAjZ/OYUpSiSSSSbyT3kn39BubFZv5860ZqJc5KB/h1zPyJO0/JW6PSanh/vTXjj0mp7OmvHAqens6a8celFO501449Kacztrxx6U05nbXjj0ppzPGnHHpTTeeNOOPSqnM8accelVN54044FVU3njTjj0rprPWnHAqums8accelVNZ4044qav7PYNDLsp0hy7mC4LR3oljxE7VbhE+dNcTVzpswrmLUVKUokqJOsknWfgAbovMXnfF/wAzHai+L4vMdo747R3x2jvgKO+O18zHa+cXnfBJ/rX/AP/EADQRAAEDAQUFBAkFAAAAAAAAAAIAAQQDBRIUU5IREzBCVBUjMkMGICExM0RQUqIQImFyof/aAAgBAgEBPwD6pTpnVK6A3iT2fJ+z/U8GQ3InhyG5FhqzcqehUbkW7qfYnE25eBTA6piADeIlCgNFD2/ELxIhRCiFEKIUQqq93gWXXs+NT3lQu+/qitWC/m/i6e04b+annxcxFOi5iKZGfmRSo78yORS2ftJETk+1+BRgTK4bylQMhT2XO6U12ZOb5c12dMyDTwJWQawUnKNYORlIo9YG2vS4NkWoUM92fwS/H+UziY3hRCiFEKIUQog2+9S4z0ivD4eDY9rYd9xXLu+UvtRWlA6oEVowepBFPhZ4IpsPPBFMiZ4IpUbNBHXjG2x6oKsICbsBXh4AAVQhAAvES7Om9Kel1gJnSnpdYGY3y56Vg5TeQelYSVkHpWGkZJ6Vh6+UaISF9hD64iREIj73Vh2Jg6bSKw98X4ohRCiFEKIUQqVWCPTvEq1YqxuRev6Nw4Aji5MgN5yARN7EU6D1YamRTYXVBqZFMh9QGpkUqJ1AamRSonUBqZFJi54amVaXGpgRb0FKlHKqXn8PLwNqvOrzra6vP+u36t//xAA2EQABBAEBAwkECwEAAAAAAAACAAEDBAWiEjFDBhETFDAyQkRSICFBkhYjM1BTVGBhcrHB0f/aAAgBAwEBPwD70llCGMpJC2RT5jHtxtLp85jm42l0/KDFtvsaXT8pMS3mdLp+U+HbzOl0/KvCN5vS6+l+Cbfb0uqOQq5KBp6x7Ufd7rt/ftkTA3O+5ZC0dk9lvsxRgjBGCMEYI41hMBLl7PpgDvn/AIq1aGpBHBCGzGDcw+3binmbZDuosbYfwo8VbfhosNdfhamR4PIPwtTIsBkX4GpkfJzKPug1MoOSuSmmAZI+jDxntMqVOvQrhBCGyI6v3fsHkAX95J7ELeNPbr/GVddqNxl1+m3HBPk6Db7QJ8tjvjaBRZOhNIMYWgci7GWPbZHGjBGCMFJGjBOxCTEKwmYG4HQTF9cOrsZYtv3sjryP4UdSV+EjpWH4SPH2X3QGjxlx+AaPE338qaHFZSIwOOuYkKoS2ZawPZi6OT4/97F3ZOYN4l0sbeNl08P4oJ7EDcUF1mv+YD5l1uq3mA+ZkMkcjc4GxD2DROze9GCMFICMEYIwVelJbl2B3KtWjqxDFHub260cXNtmYI3i9aNg9aMWRx86OE/Qjry+hdSnM+ZgVatHWjYQb+X6F//Z\" /></svg>';function Xw(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function eA(e){return t=>{const{key:n=null,...r}=t;return{type:e,props:Xw(r),key:n}}}const tA=eA(\"Container\"),nA=eA(\"Box\"),rA=eA(\"Heading\"),oA=eA(\"Text\"),iA=eA(\"Section\"),aA=eA(\"Row\"),sA=eA(\"Address\"),cA=eA(\"Image\"),uA=eA(\"Footer\"),lA=eA(\"Button\"),dA=eA(\"Link\");function fA(e,t,n){const{cluster:r}=Rd[e];return Yd({baseUrl:\"https://solscan.io\",path:`/${t}/${n}`,queryParams:r?{cluster:r}:void 0})}const hA=({domain:e,scope:t,address:n})=>Jw(nA,{direction:\"horizontal\",alignment:\"center\",children:Jw(dA,{href:fA(t,\"address\",n),children:e})});function pA(e,t){return`${e}:${t}`}const gA=JSON.parse('{\"D\":{\"send.title\":{\"message\":\"Send\"},\"send.balance\":{\"message\":\"Balance\"},\"send.maxButton\":{\"message\":\"Max\"},\"send.cancelButton\":{\"message\":\"Cancel\"},\"send.continueButton\":{\"message\":\"Continue\"},\"send.fromField\":{\"message\":\"From\"},\"send.toField\":{\"message\":\"To\"},\"send.amountField\":{\"message\":\"Amount\"},\"send.assetField\":{\"message\":\"Token\"},\"send.toPlaceholder\":{\"message\":\"Enter public address or domain name\"},\"send.fromRequiredError\":{\"message\":\"Account is required\"},\"send.amountRequiredError\":{\"message\":\"Amount is required\"},\"send.amountGreatherThanMinimumBalanceForRentExemptionError\":{\"message\":\"Amount must be greater than {minimumValue}\"},\"send.insuffientSolToCoverFee\":{\"message\":\"Insufficient SOL balance to cover the transaction fee\"},\"send.toRequiredError\":{\"message\":\"To address is required\"},\"send.toInvalidError\":{\"message\":\"Invalid Solana address or domain name\"},\"send.toInvalidErrorDomain\":{\"message\":\"Unable to resolve domain name\"},\"send.toDomainResolutionStatus.initial\":{\"message\":\"Domain\"},\"send.toDomainResolutionStatus.fetching\":{\"message\":\"Resolving domain name...\"},\"send.toDomainResolutionStatus.fetched\":{\"message\":\"Domain name resolved.\"},\"send.toDomainResolutionStatus.error\":{\"message\":\"Unable to resolve domain name.\"},\"send.insufficientBalance\":{\"message\":\"Insufficient balance\"},\"send.simulationTitleAPIError\":{\"message\":\"Because of an error, we couldn\\'t check for security alerts.\"},\"send.simulationMessageAPIError\":{\"message\":\"Only continue if you trust every address involved.\"},\"send.simulationTitleError\":{\"message\":\"Transaction simulation failed\"},\"send.simulationMessageError\":{\"message\":\"This transaction was reverted during simulation.\"},\"send.selectedTokenPriceNotAvailable\":{\"message\":\"Prices for tokens in {currency} are currently not available. You are still able to send tokens.\"},\"send.confirmation.title\":{\"message\":\"Review\"},\"send.confirmation.from\":{\"message\":\"From\"},\"send.confirmation.recipient\":{\"message\":\"Recipient\"},\"send.confirmation.network\":{\"message\":\"Network\"},\"send.confirmation.transactionSpeed\":{\"message\":\"Transaction speed\"},\"send.confirmation.fee\":{\"message\":\"Network fee\"},\"send.confirmation.sendButton\":{\"message\":\"Send\"},\"send.confirmation.cancelButton\":{\"message\":\"Cancel\"},\"send.confirmation.viewTransaction\":{\"message\":\"View transaction\"},\"send.send-pending.title\":{\"message\":\"Sending...\"},\"send.send-pending.subtitle\":{\"message\":\"Your transaction was submitted.\"},\"send.transaction-success.title\":{\"message\":\"Sent\"},\"send.transaction-success.subtitle\":{\"message\":\"{amount} {tokenSymbol} was successfully sent\"},\"send.transaction-failure.title\":{\"message\":\"Transaction failed\"},\"send.transaction-failure.subtitle\":{\"message\":\"Unable to send {amount} {tokenSymbol}\"},\"confirmation.account\":{\"message\":\"Account\"},\"confirmation.network\":{\"message\":\"Network\"},\"confirmation.estimatedChanges\":{\"message\":\"Estimated changes\"},\"confirmation.estimatedChanges.send\":{\"message\":\"You send\"},\"confirmation.estimatedChanges.receive\":{\"message\":\"You receive\"},\"confirmation.estimatedChanges.notAvailable\":{\"message\":\"Not available\"},\"confirmation.estimatedChanges.noChanges\":{\"message\":\"No changes\"},\"confirmation.estimatedChanges.tooltip\":{\"message\":\"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee.\"},\"confirmation.advanced.show\":{\"message\":\"Show advanced\"},\"confirmation.advanced.hide\":{\"message\":\"Hide advanced\"},\"confirmation.cancelButton\":{\"message\":\"Cancel\"},\"confirmation.confirmButton\":{\"message\":\"Confirm\"},\"confirmation.signAndSendTransaction.title\":{\"message\":\"Transaction request\"},\"confirmation.signTransaction.title\":{\"message\":\"Signing request\"},\"confirmation.sendAndConfirmTransaction.title\":{\"message\":\"Sending and confirming transaction\"},\"confirmation.advanced.unknownInstruction\":{\"message\":\"Unknown\"},\"confirmation.advanced.programId\":{\"message\":\"Program ID\"},\"confirmation.advanced.data\":{\"message\":\"Data\"},\"confirmation.fee\":{\"message\":\"Network fee\"},\"confirmation.feeError\":{\"message\":\"Unable to estimate fee\"},\"confirmation.origin\":{\"message\":\"Request from\"},\"confirmation.origin.tooltip\":{\"message\":\"This is the site asking for your confirmation.\"},\"confirmation.simulationErrorTitle\":{\"message\":\"This transaction was reverted during simulation.\"},\"confirmation.simulationErrorSubtitle\":{\"message\":\"{reason}\"},\"confirmation.validationErrorTitle\":{\"message\":\"This is a deceptive request\"},\"confirmation.validationErrorSubtitle\":{\"message\":\"If you approve this request, a third party known for scams will take all your assets.\"},\"confirmation.validationErrorLearnMore\":{\"message\":\"Learn more\"},\"confirmation.validationErrorSecurityAdviced\":{\"message\":\"Security advice by\"},\"confirmation.signMessage.title\":{\"message\":\"Sign message\"},\"confirmation.signMessage.message\":{\"message\":\"Message\"},\"confirmation.signIn.title\":{\"message\":\"Sign-in request\"},\"confirmation.signIn.description\":{\"message\":\"A site wants you to sign in to prove you own this account.\"},\"confirmation.signIn.domain\":{\"message\":\"Domain\"},\"confirmation.signIn.unknownDomain\":{\"message\":\"Unknown domain\"},\"confirmation.signIn.signingInWith\":{\"message\":\"Signing in with\"},\"confirmation.signIn.badAccount\":{\"message\":\"This site is asking you to sign in using the wrong account.\"},\"confirmation.signIn.message\":{\"message\":\"Message\"},\"confirmation.signIn.statement\":{\"message\":\"Statement\"},\"confirmation.signIn.version\":{\"message\":\"Version\"},\"confirmation.signIn.chainId\":{\"message\":\"Chain ID\"},\"confirmation.signIn.nonce\":{\"message\":\"Nonce\"},\"confirmation.signIn.issuedAt\":{\"message\":\"Issued at\"},\"confirmation.signIn.expirationTime\":{\"message\":\"Expiration time\"},\"confirmation.signIn.notBefore\":{\"message\":\"Not before\"},\"confirmation.signIn.requestId\":{\"message\":\"Request ID\"},\"confirmation.signIn.resources\":{\"message\":\"Resources\"},\"confirmation.signIn.badDomain\":{\"message\":\"This site is asking you to sign in using the wrong domain.\"},\"transactionScan.errors.accountAlreadyInUse\":{\"message\":\"An account with the same address already exists.\"},\"transactionScan.errors.insufficientSol\":{\"message\":\"Account does not have enough SOL to perform the operation.\"},\"transactionScan.errors.slippageToleranceExceeded\":{\"message\":\"The transaction was reverted because the slippage tolerance was exceeded.\"},\"transactionScan.errors.unknownError\":{\"message\":\"An unknown error occurred.\"}}}'),mA=JSON.parse('{\"D\":{\"send.title\":{\"message\":\"Enviar\"},\"send.balance\":{\"message\":\"Saldo\"},\"send.maxButton\":{\"message\":\"Mx.\"},\"send.cancelButton\":{\"message\":\"Cancelar\"},\"send.continueButton\":{\"message\":\"Continuar\"},\"send.fromField\":{\"message\":\"De\"},\"send.toField\":{\"message\":\"Para\"},\"send.amountField\":{\"message\":\"Monto\"},\"send.assetField\":{\"message\":\"Token\"},\"send.toPlaceholder\":{\"message\":\"Introduzca la direccin pblica\"},\"send.fromRequiredError\":{\"message\":\"La cuenta es obligatoria\"},\"send.amountRequiredError\":{\"message\":\"El monto es obligatorio\"},\"send.amountGreatherThanMinimumBalanceForRentExemptionError\":{\"message\":\"El valor debe ser superior a {minimumValue}\"},\"send.insuffientSolToCoverFee\":{\"message\":\"Saldo de SOL insuficiente para cubrir la tarifa de transaccin\"},\"send.toRequiredError\":{\"message\":\"La direccin del destinatario es obligatoria\"},\"send.toInvalidError\":{\"message\":\"Direccin de Solana no vlida\"},\"send.insufficientBalance\":{\"message\":\"Saldo insuficiente\"},\"send.simulationTitleAPIError\":{\"message\":\"Debido a un error, no pudimos verificar las alertas de seguridad.\"},\"send.simulationMessageAPIError\":{\"message\":\"Contina solo si confas en todas las direcciones involucradas.\"},\"send.simulationTitleError\":{\"message\":\"Simulacin de transaccin fallida\"},\"send.simulationMessageError\":{\"message\":\"Esta transaccin se revirti durante la simulacin.\"},\"send.selectedTokenPriceNotAvailable\":{\"message\":\"Los precios de los tokens en {currency} no estn disponibles actualmente. An puede enviar tokens.\"},\"send.confirmation.title\":{\"message\":\"Revisar\"},\"send.confirmation.from\":{\"message\":\"De\"},\"send.confirmation.recipient\":{\"message\":\"Destinatario\"},\"send.confirmation.network\":{\"message\":\"Red\"},\"send.confirmation.transactionSpeed\":{\"message\":\"Velocidad de la transaccin\"},\"send.confirmation.fee\":{\"message\":\"Tarifa de red\"},\"send.confirmation.sendButton\":{\"message\":\"Enviar\"},\"send.confirmation.cancelButton\":{\"message\":\"Cancelar\"},\"send.confirmation.viewTransaction\":{\"message\":\"Ver transaccin\"},\"send.send-pending.title\":{\"message\":\"Enviando...\"},\"send.send-pending.subtitle\":{\"message\":\"Se envi su transaccin.\"},\"send.transaction-success.title\":{\"message\":\"Enviado\"},\"send.transaction-success.subtitle\":{\"message\":\"El envo de {amount} {tokenSymbol} se realiz correctamente\"},\"send.transaction-failure.title\":{\"message\":\"Transaccin fallida\"},\"send.transaction-failure.subtitle\":{\"message\":\"Error al enviar {amount} {tokenSymbol}\"},\"confirmation.account\":{\"message\":\"Cuenta\"},\"confirmation.network\":{\"message\":\"Red\"},\"confirmation.estimatedChanges\":{\"message\":\"Cambios estimados\"},\"confirmation.estimatedChanges.send\":{\"message\":\"Usted enva\"},\"confirmation.estimatedChanges.receive\":{\"message\":\"Usted recibe\"},\"confirmation.estimatedChanges.notAvailable\":{\"message\":\"No disponible\"},\"confirmation.estimatedChanges.noChanges\":{\"message\":\"Sin cambios\"},\"confirmation.estimatedChanges.tooltip\":{\"message\":\"Los cambios estimados son los que podran producirse si sigue adelante con esta transaccin. Esto es solo una prediccin, no una garanta.\"},\"confirmation.advanced.show\":{\"message\":\"Mostrar avanzadas\"},\"confirmation.advanced.hide\":{\"message\":\"Ocultar avanzadas\"},\"confirmation.cancelButton\":{\"message\":\"Cancelar\"},\"confirmation.confirmButton\":{\"message\":\"Confirmar\"},\"confirmation.signAndSendTransaction.title\":{\"message\":\"Solicitud de transaccin\"},\"confirmation.signTransaction.title\":{\"message\":\"Signing request\"},\"confirmation.sendAndConfirmTransaction.title\":{\"message\":\"Sending and confirming transaction\"},\"confirmation.advanced.unknownInstruction\":{\"message\":\"Desconocida\"},\"confirmation.advanced.programId\":{\"message\":\"ID del programa\"},\"confirmation.advanced.data\":{\"message\":\"Datos\"},\"confirmation.fee\":{\"message\":\"Tarifa de red\"},\"confirmation.feeError\":{\"message\":\"No se puede calcular la tarifa\"},\"confirmation.origin\":{\"message\":\"Solicitud de\"},\"confirmation.origin.tooltip\":{\"message\":\"This is the site asking for your confirmation.\"},\"confirmation.simulationErrorTitle\":{\"message\":\"Esta transaccin se revirti durante la simulacin.\"},\"confirmation.simulationErrorSubtitle\":{\"message\":\"Motivo: {reason}\"},\"confirmation.validationErrorTitle\":{\"message\":\"Esta es una solicitud engaosa\"},\"confirmation.validationErrorSubtitle\":{\"message\":\"Si aprueba esta solicitud, un tercero conocido por sus estafas se quedar con todos sus activos.\"},\"confirmation.validationErrorLearnMore\":{\"message\":\"Conozca ms\"},\"confirmation.validationErrorSecurityAdviced\":{\"message\":\"Asesoramiento de seguridad por\"},\"confirmation.signMessage.title\":{\"message\":\"Firmar mensaje\"},\"confirmation.signMessage.message\":{\"message\":\"Mensaje\"},\"confirmation.signIn.title\":{\"message\":\"Solicitud de inicio de sesin\"},\"confirmation.signIn.description\":{\"message\":\"Un sitio quiere que inicie sesin para demostrar que usted es el titular de esta cuenta.\"},\"confirmation.signIn.domain\":{\"message\":\"Domain\"},\"confirmation.signIn.unknownDomain\":{\"message\":\"Dominio desconocido\"},\"confirmation.signIn.signingInWith\":{\"message\":\"Iniciar sesin con\"},\"confirmation.signIn.badAccount\":{\"message\":\"Este sitio le pide que inicie sesin con la cuenta incorrecta.\"},\"confirmation.signIn.message\":{\"message\":\"Mensaje\"},\"confirmation.signIn.statement\":{\"message\":\"Declaracin\"},\"confirmation.signIn.version\":{\"message\":\"Versin\"},\"confirmation.signIn.chainId\":{\"message\":\"ID de cadena\"},\"confirmation.signIn.nonce\":{\"message\":\"Nonce\"},\"confirmation.signIn.issuedAt\":{\"message\":\"Emitido a las\"},\"confirmation.signIn.expirationTime\":{\"message\":\"Hora de caducidad\"},\"confirmation.signIn.notBefore\":{\"message\":\"No antes de\"},\"confirmation.signIn.requestId\":{\"message\":\"ID de solicitud\"},\"confirmation.signIn.resources\":{\"message\":\"Recursos\"},\"confirmation.signIn.badDomain\":{\"message\":\"This site is asking you to sign in using the wrong domain.\"},\"transactionScan.errors.accountAlreadyInUse\":{\"message\":\"Ya existe una cuenta con la misma direccin.\"},\"transactionScan.errors.insufficientSol\":{\"message\":\"La cuenta no tiene suficiente SOL para realizar la operacin.\"},\"transactionScan.errors.slippageToleranceExceeded\":{\"message\":\"La transaccin se revirti porque se super la tolerancia de deslizamiento.\"},\"transactionScan.errors.unknownError\":{\"message\":\"An unknown error occurred.\"}}}'),yA={en:gA.D,es:mA.D},vA=\"en\";function wA(e){const t=yA[e]??yA[vA];return(e,n)=>{let r=t?.[e]?.message??e;return n&&r&&Object.keys(n).forEach((e=>{const t=new RegExp(`\\\\{${e}\\\\}`,\"gu\");r=r.replace(t,n[e]??\"\")})),r}}function AA(e){if(e===Ed)return\"MetaMask\";try{return new URL(e).hostname}catch(e){throw new Error(\"Invalid URL\")}}const bA=({label:e,value:t})=>null!=t?Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:e}),Jw(oA,{children:t})]}):null,SA=1e-6,EA=3,kA=\"0\",TA=new Vo(SA).decimalPlaces();function IA(e,t){const[n]=t.split(\"_\");try{const r=new Vo(e);if(r.isNaN())return kA;if(r.isZero())return kA;if(r.abs().lt(SA))return`<${function(e,t){const n=new Vo(t),r=n.decimalPlaces(),o=n.toFixed(r??0),[i]=e.split(\"_\"),[a,s]=o.split(\".\"),c=new Intl.NumberFormat(i).format(a);return s?`${c}.${s}`:c}(t,SA)}`;if(r.abs().lt(1))return new Intl.NumberFormat(n,{maximumSignificantDigits:EA}).format(Number(r.toFixed(TA??0)));const o=r.abs().integerValue().toString().length,i=Math.max(0,EA-o+1);return new Intl.NumberFormat(t,{maximumFractionDigits:i}).format(r.toFixed(i))}catch(e){return vd.error(e),kA}}function xA(e,t,n){const r=new Vo(e).toNumber(),[o]=n.split(\"_\");return r.toLocaleString(o,{style:\"currency\",currency:t,maximumFractionDigits:2,minimumFractionDigits:2})}const _A=({asset:e,preferences:t})=>{const n=e.type;return Yw(nA,{direction:\"vertical\",crossAlignment:\"end\",children:[Yw(nA,{direction:\"horizontal\",alignment:\"center\",children:[Yw(oA,{color:\"in\"===n?\"success\":\"error\",children:[\"in\"===n?\"+\":\"-\",IA(e.value??0,t.locale)]}),e.imageSvg?Jw(nA,{alignment:\"center\",center:!0,children:Jw(cA,{borderRadius:\"full\",src:e.imageSvg})}):null,Jw(oA,{children:e.symbol??\"\"})]}),e.price?Jw(oA,{color:\"muted\",children:xA(e.price.toString(),t.currency,t.locale)}):null]})},CA=eA(\"Tooltip\");var RA;!function(e){e.AddSquare=\"add-square\",e.Add=\"add\",e.Arrow2Down=\"arrow-2-down\",e.Arrow2Left=\"arrow-2-left\",e.Arrow2Right=\"arrow-2-right\",e.Arrow2Up=\"arrow-2-up\",e.Arrow2UpRight=\"arrow-2-up-right\",e.ArrowDoubleLeft=\"arrow-double-left\",e.ArrowDoubleRight=\"arrow-double-right\",e.ArrowDown=\"arrow-down\",e.ArrowLeft=\"arrow-left\",e.ArrowRight=\"arrow-right\",e.ArrowUp=\"arrow-up\",e.BankToken=\"bank-token\",e.Bank=\"bank\",e.Book=\"book\",e.Bookmark=\"bookmark\",e.Bridge=\"bridge\",e.Calculator=\"calculator\",e.CardPos=\"card-pos\",e.CardToken=\"card-token\",e.Card=\"card\",e.Category=\"category\",e.Chart=\"chart\",e.CheckBold=\"check-bold\",e.Check=\"check\",e.Clock=\"clock\",e.Close=\"close\",e.CodeCircle=\"code-circle\",e.Coin=\"coin\",e.Confirmation=\"confirmation\",e.Connect=\"connect\",e.CopySuccess=\"copy-success\",e.Copy=\"copy\",e.Customize=\"customize\",e.Danger=\"danger\",e.Dark=\"dark\",e.Data=\"data\",e.Diagram=\"diagram\",e.DocumentCode=\"document-code\",e.DragDrop=\"drag-drop\",e.DraggingAnimation=\"dragging-animation\",e.PinningAnimation=\"pinning-animation\",e.Edit=\"edit\",e.Eraser=\"eraser\",e.Ethereum=\"ethereum\",e.Expand=\"expand\",e.Explore=\"explore\",e.Export=\"export\",e.EyeSlash=\"eye-slash\",e.Eye=\"eye\",e.Filter=\"filter\",e.Flag=\"flag\",e.FlashSlash=\"flash-slash\",e.Flash=\"flash\",e.FullCircle=\"full-circle\",e.Gas=\"gas\",e.GlobalSearch=\"global-search\",e.Global=\"global\",e.Graph=\"graph\",e.Hardware=\"hardware\",e.Heart=\"heart\",e.Hierarchy=\"hierarchy\",e.Home=\"home\",e.Import=\"import\",e.Info=\"info\",e.Key=\"key\",e.Light=\"light\",e.Link=\"link\",e.Loading=\"loading\",e.LockCircle=\"lock-circle\",e.LockSlash=\"lock-slash\",e.Lock=\"lock\",e.Login=\"login\",e.Logout=\"logout\",e.Menu=\"menu\",e.MessageQuestion=\"message-question\",e.Messages=\"messages\",e.MinusBold=\"minus-bold\",e.MinusSquare=\"minus-square\",e.Minus=\"minus\",e.Mobile=\"mobile\",e.Money=\"money\",e.Monitor=\"monitor\",e.MoreHorizontal=\"more-horizontal\",e.MoreVertical=\"more-vertical\",e.NotificationCircle=\"notification-circle\",e.Notification=\"notification\",e.PasswordCheck=\"password-check\",e.People=\"people\",e.Pin=\"pin\",e.ProgrammingArrows=\"programming-arrows\",e.Custody=\"custody\",e.Question=\"question\",e.Received=\"received\",e.Refresh=\"refresh\",e.Save=\"save\",e.ScanBarcode=\"scan-barcode\",e.ScanFocus=\"scan-focus\",e.Scan=\"scan\",e.Scroll=\"scroll\",e.Search=\"search\",e.SecurityCard=\"security-card\",e.SecurityCross=\"security-cross\",e.SecurityKey=\"security-key\",e.SecuritySearch=\"security-search\",e.SecuritySlash=\"security-slash\",e.SecurityTick=\"security-tick\",e.SecurityTime=\"security-time\",e.SecurityUser=\"security-user\",e.Security=\"security\",e.Send1=\"send-1\",e.Send2=\"send-2\",e.Setting=\"setting\",e.Slash=\"slash\",e.SnapsMobile=\"snaps-mobile\",e.SnapsPlus=\"snaps-plus\",e.Snaps=\"snaps\",e.Speedometer=\"speedometer\",e.Star=\"star\",e.Stake=\"stake\",e.Student=\"student\",e.SwapHorizontal=\"swap-horizontal\",e.SwapVertical=\"swap-vertical\",e.Tag=\"tag\",e.Tilde=\"tilde\",e.Timer=\"timer\",e.Trash=\"trash\",e.TrendDown=\"trend-down\",e.TrendUp=\"trend-up\",e.UserCircleAdd=\"user-circle-add\",e.UserCircleLink=\"user-circle-link\",e.UserCircleRemove=\"user-circle-remove\",e.UserCircle=\"user-circle\",e.User=\"user\",e.WalletCard=\"wallet-card\",e.WalletMoney=\"wallet-money\",e.Wallet=\"wallet\",e.Warning=\"warning\",e.Twitter=\"twitter\",e.QrCode=\"qr-code\",e.UserCheck=\"user-check\",e.Unpin=\"unpin\",e.Ban=\"ban\",e.Bold=\"bold\",e.CircleX=\"circle-x\",e.Download=\"download\",e.FileIcon=\"file\",e.Flask=\"flask\",e.Plug=\"plug\",e.Share=\"share\",e.Square=\"square\",e.Tint=\"tint\",e.Upload=\"upload\",e.Usb=\"usb\",e.Wifi=\"wifi\",e.PlusMinus=\"plus-minus\"}(RA||(RA={}));const PA=eA(\"Icon\"),NA=({preferences:e})=>{const t=wA(e.locale);return Yw(nA,{direction:\"horizontal\",center:!0,children:[Jw(oA,{fontWeight:\"medium\",children:t(\"confirmation.estimatedChanges\")}),Jw(CA,{content:t(\"confirmation.estimatedChanges.tooltip\"),children:Jw(PA,{name:\"info\"})})]})},BA=eA(\"Skeleton\"),MA=({preferences:e})=>{const t=wA(e.locale);return Yw(iA,{direction:\"vertical\",children:[Jw(NA,{preferences:e}),Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:t(\"confirmation.estimatedChanges.send\")}),Jw(nA,{children:Yw(nA,{direction:\"vertical\",crossAlignment:\"end\",children:[Jw(BA,{width:100,height:20}),Jw(BA,{width:40,height:20})]})})]}),Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:t(\"confirmation.estimatedChanges.receive\")}),Jw(nA,{children:Yw(nA,{direction:\"vertical\",crossAlignment:\"end\",children:[Jw(BA,{width:100,height:20}),Jw(BA,{width:40,height:20})]})})]})]})},OA=({changes:e,preferences:t,scanFetchStatus:n,scanStatus:r})=>{const o=wA(t.locale),i=\"fetched\"===n,a=\"error\"===n;if(\"fetching\"===n)return Jw(MA,{preferences:t});if(a||i&&\"ERROR\"===r)return Yw(iA,{direction:\"vertical\",children:[Jw(NA,{preferences:t}),Jw(oA,{color:\"alternative\",children:o(\"confirmation.estimatedChanges.notAvailable\")})]});const s=e?.assets.filter((e=>\"out\"===e.type))??[],c=e?.assets.filter((e=>\"in\"===e.type))??[],u=s.length>0||c.length>0;return Yw(iA,i&&!u?{direction:\"vertical\",children:[Jw(NA,{preferences:t}),Jw(oA,{color:\"alternative\",children:o(\"confirmation.estimatedChanges.noChanges\")})]}:{children:[Jw(NA,{preferences:t}),s?.length>0?Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:o(\"confirmation.estimatedChanges.send\")}),Jw(nA,{children:Jw(nA,{children:s?.map((e=>Jw(_A,{asset:e,preferences:t})))})})]}):null,Jw(nA,{children:null}),c?.length>0?Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:o(\"confirmation.estimatedChanges.receive\")}),Jw(nA,{children:Jw(nA,{children:c?.map((e=>Jw(_A,{asset:e,preferences:t})))})})]}):null]})};var zA=function(e){return e.Cancel=\"confirm-sign-in-cancel\",e.Confirm=\"confirm-sign-in-confirm\",e}({});const UA={\"confirm-sign-in-cancel\":async function({id:e}){await Tv(e,!1)},\"confirm-sign-in-confirm\":async function({id:e}){await Tv(e,!0)}},jA=({params:e,origin:t,account:n,accountDomain:r,scope:o,preferences:i,networkImage:a})=>{const s=wA(i.locale),c=t?AA(t):null,{domain:u,statement:l,uri:d,version:f,chainId:h,nonce:p,issuedAt:g,expirationTime:m,notBefore:y,requestId:v,resources:w,address:A}=e,b=pA(o,n.address),S=A?pA(o,A):null,E=S!==b,k=u!==c;return Yw(tA,{children:[Yw(nA,{children:[Yw(nA,{alignment:\"center\",center:!0,children:[Jw(nA,{children:null}),Jw(rA,{size:\"lg\",children:s(\"confirmation.signIn.title\")}),Jw(oA,{color:\"muted\",alignment:\"center\",children:s(\"confirmation.signIn.description\")})]}),i.simulateOnChainActions?Jw(OA,{changes:null,scanStatus:null,preferences:i,scanFetchStatus:\"fetched\"}):null,Yw(iA,{children:[c?Jw(aA,{label:s(\"confirmation.origin\"),tooltip:s(\"confirmation.origin.tooltip\"),children:Jw(oA,{children:c})}):null,Jw(aA,{variant:k?\"critical\":\"default\",label:s(\"confirmation.signIn.domain\"),tooltip:k?s(\"confirmation.signIn.badDomain\"):void 0,children:Jw(oA,{children:u??s(\"confirmation.signIn.unknownDomain\")})}),Jw(aA,{label:s(\"confirmation.signIn.signingInWith\"),tooltip:E?s(\"confirmation.signIn.badAccount\"):void 0,variant:E?\"warning\":\"default\",children:r?Jw(hA,{domain:r,scope:o,address:n.address}):Jw(sA,{address:b,truncate:!0,displayName:!0,avatar:!0})})]}),Yw(iA,{children:[Jw(oA,{fontWeight:\"medium\",children:s(\"confirmation.signIn.message\")}),Jw(oA,{children:l??\"\"}),Jw(bA,{label:\"URL\",value:d??\"\"}),Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:s(\"confirmation.network\")}),Yw(nA,{direction:\"horizontal\",alignment:\"center\",children:[Jw(nA,{alignment:\"center\",center:!0,children:Jw(cA,{borderRadius:\"medium\",src:a??Qw})}),Jw(oA,{children:Rd[o].name})]})]}),S?Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:s(\"confirmation.account\")}),Jw(sA,{address:S,truncate:!0,displayName:!0,avatar:!0})]}):null,Jw(bA,{label:s(\"confirmation.signIn.version\"),value:f??\"\"}),Jw(bA,{label:s(\"confirmation.signIn.chainId\"),value:h??\"\"}),Jw(bA,{label:s(\"confirmation.signIn.nonce\"),value:p??\"\"}),Jw(bA,{label:s(\"confirmation.signIn.issuedAt\"),value:g??\"\"}),Jw(bA,{label:s(\"confirmation.signIn.expirationTime\"),value:m??\"\"}),Jw(bA,{label:s(\"confirmation.signIn.notBefore\"),value:y??\"\"}),Jw(bA,{label:s(\"confirmation.signIn.requestId\"),value:v??\"\"}),w&&w.length>0?Yw(nA,{alignment:\"space-between\",direction:\"vertical\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:s(\"confirmation.signIn.resources\")}),Jw(nA,{direction:\"vertical\",children:w.map((e=>Jw(oA,{children:e},e)))})]}):null]})]}),Yw(uA,{children:[Jw(lA,{name:zA.Cancel,children:s(\"confirmation.cancelButton\")}),Jw(lA,{name:zA.Confirm,variant:k?\"destructive\":\"primary\",children:s(\"confirmation.confirmButton\")})]})]})};var DA=function(e){return e.Cancel=\"confirm-sign-message-cancel\",e.Confirm=\"confirm-sign-message-confirm\",e}({});const LA={\"confirm-sign-message-cancel\":async function({id:e}){await Tv(e,!1)},\"confirm-sign-message-confirm\":async function({id:e}){await Tv(e,!0)}},FA=({message:e,account:t,accountDomain:n,scope:r,locale:o,networkImage:i,origin:a})=>{const s=wA(o),{address:c}=t,u=a?AA(a):null,l=pA(r,c);return Yw(tA,{children:[Yw(nA,{children:[Yw(nA,{alignment:\"center\",center:!0,children:[Jw(nA,{children:null}),Jw(rA,{size:\"lg\",children:s(\"confirmation.signMessage.title\")})]}),Yw(iA,{children:[Jw(nA,{direction:\"horizontal\",center:!0,children:Jw(oA,{fontWeight:\"medium\",children:s(\"confirmation.signMessage.message\")})}),Jw(nA,{alignment:\"space-between\",children:Jw(oA,{children:e})})]}),Yw(iA,{children:[u?Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",center:!0,children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:s(\"confirmation.origin\")}),Jw(CA,{content:s(\"confirmation.origin.tooltip\"),children:Jw(PA,{name:\"question\",color:\"muted\"})})]}),Jw(oA,{children:u})]}):null,Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:s(\"confirmation.account\")}),n?Jw(hA,{domain:n,scope:r,address:c}):Jw(sA,{address:l,truncate:!0,displayName:!0,avatar:!0})]}),Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:s(\"confirmation.network\")}),Yw(nA,{direction:\"horizontal\",alignment:\"center\",children:[Jw(nA,{alignment:\"center\",center:!0,children:Jw(cA,{borderRadius:\"medium\",src:i??Qw})}),Jw(oA,{children:Rd[r].name})]})]})]})]}),Yw(uA,{children:[Jw(lA,{name:DA.Cancel,children:s(\"confirmation.cancelButton\")}),Jw(lA,{name:DA.Confirm,children:s(\"confirmation.confirmButton\")})]})]})};var $A=function(e){return e.ShowAdvanced=\"confirm-sign-and-send-transaction-show-advanced\",e.Cancel=\"confirm-sign-and-send-transaction-cancel\",e.Confirm=\"confirm-sign-and-send-transaction-confirm\",e}({});const qA={\"confirm-sign-and-send-transaction-show-advanced\":async function({id:e,context:t}){const n={...t,advanced:{...t.advanced,shown:!t.advanced.shown}};await kv(e,Jw(nb,{context:n}),n)},\"confirm-sign-and-send-transaction-cancel\":async function({id:e}){await Tv(e,!1)},\"confirm-sign-and-send-transaction-confirm\":async function({id:e}){await Tv(e,!0)}},WA=e=>e.replace(/([A-Z])/gu,\" $1\").trim().replace(/^./u,(e=>e.toUpperCase())),VA=({address:e,scope:t})=>Jw(dA,{href:fA(t,\"address\",e),children:Jw(sA,{avatar:!1,address:pA(t,e),truncate:!0})}),KA=({instruction:e,scope:t,locale:n})=>{const r=wA(n),{type:o,encoded:i,parsed:a}=e,{programAddress:s,dataBase58:c}=i,u=null!==a,l=WA(o);return Yw(iA,{alignment:\"start\",children:[Jw(oA,{color:\"alternative\",fontWeight:\"bold\",children:l}),Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{color:\"alternative\",alignment:\"start\",children:r(\"confirmation.advanced.programId\")}),Jw(VA,{address:s,scope:t})]}),u&&Object.entries(a.accounts??{}).map((([e,n])=>Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{color:\"alternative\",children:WA(e)}),gc(n.address)?Jw(VA,{address:n.address,scope:t}):Jw(oA,{children:wv(n.address)?.toString()??\"\"})]}))),u&&Object.entries(a.data).map((([e,n])=>Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{color:\"alternative\",children:WA(e)}),gc(n)?Jw(VA,{address:n,scope:t}):Jw(oA,{children:wv(n)?.toString()??\"\"})]}))),!u&&Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{color:\"alternative\",children:r(\"confirmation.advanced.data\")}),Jw(oA,{children:(d=c,d.length>12?`${d.slice(0,5)}...${d.slice(-5)}`:d)})]})]});var d},GA=({instructions:e,showInstructions:t,locale:n,scope:r})=>{const o=wA(n),i=t?\"hide\":\"show\",a=t?\"arrow-up\":\"arrow-down\";return Yw(nA,{alignment:\"start\",children:[Yw(lA,{name:$A.ShowAdvanced,children:[o(`confirmation.advanced.${i}`),\"&nbsp;\",Jw(PA,{name:a,color:\"primary\"})]}),t&&Jw(nA,{children:e.map((e=>Jw(KA,{locale:n,scope:r,instruction:e})))})]})},HA=eA(\"Banner\"),ZA={AccountAlreadyInUse:\"transactionScan.errors.accountAlreadyInUse\",ResultWithNegativeLamports:\"transactionScan.errors.insufficientSol\",SlippageToleranceExceeded:\"transactionScan.errors.slippageToleranceExceeded\",ExceededDesiredSlippageLimit:\"transactionScan.errors.slippageToleranceExceeded\"};function JA(e,t){const n=wA(t.locale),{code:r}=e;return n((r&&ZA[r])??\"transactionScan.errors.unknownError\")}const YA={Malicious:\"danger\",Warning:\"warning\"},QA=({preferences:e,validation:t,error:n,scanFetchStatus:r})=>{const o=wA(e.locale);if(\"error\"===r)return Jw(HA,{title:o(\"send.simulationTitleAPIError\"),severity:\"danger\",children:Jw(oA,{children:o(\"send.simulationMessageAPIError\")})});if(!n&&!t)return Jw(nA,{children:null});if(n)return Jw(HA,{title:o(\"confirmation.simulationErrorTitle\"),severity:\"warning\",children:Jw(oA,{children:o(\"confirmation.simulationErrorSubtitle\",{reason:JA(n,e)})})});if(!t)return Jw(nA,{children:null});const i=t?.type?YA[t.type]:void 0;return i?Yw(HA,{title:o(\"confirmation.validationErrorTitle\"),severity:i,children:[Jw(oA,{children:o(\"confirmation.validationErrorSubtitle\")}),Jw(oA,{size:\"sm\",children:Jw(dA,{href:\"https://support.metamask.io/configure/wallet/how-to-turn-on-security-alerts/\",children:o(\"confirmation.validationErrorLearnMore\")})}),Yw(oA,{size:\"sm\",children:[Jw(PA,{color:\"primary\",name:\"security-tick\"}),\" \",o(\"confirmation.validationErrorSecurityAdviced\"),\" \",Jw(dA,{href:\"https://www.blockaid.io\",children:\"Blockaid\"})]})]}):Jw(nA,{children:null})};function XA(e,t,n){return`${IA(e,n)} ${t}`}function eb(e,t){return new Vo(e).multipliedBy(t).toString()}const tb=({origin:e,accountAddress:t,accountDomain:n,scope:r,feeInSol:o,nativePrice:i,fetchingPricesStatus:a,preferences:s,networkImage:c})=>{const{currency:u,locale:l}=s,d=wA(l),f=e?AA(e):null,h=\"fetching\"===a,p=o&&i&&!(\"error\"===a)?xA(eb(o,i),u,l):\"\";return Yw(iA,{children:[f?Yw(nA,{children:[Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",center:!0,children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:d(\"confirmation.origin\")}),Jw(CA,{content:d(\"confirmation.origin.tooltip\"),children:Jw(PA,{name:\"question\",color:\"muted\"})})]}),Jw(oA,{children:f})]}),Jw(nA,{children:null})]}):null,Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:d(\"confirmation.account\")}),n&&t?Jw(hA,{domain:n,scope:r,address:t}):null,!n&&t?Jw(sA,{address:pA(r,t),truncate:!0,displayName:!0,avatar:!0}):null]}),Jw(nA,{children:null}),Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:d(\"confirmation.network\")}),Yw(nA,{direction:\"horizontal\",alignment:\"center\",children:[Jw(nA,{alignment:\"center\",center:!0,children:Jw(cA,{borderRadius:\"medium\",src:c??\"\"})}),Jw(oA,{children:Rd[r].name})]})]}),Jw(nA,{children:null}),Yw(nA,{alignment:\"space-between\",direction:\"horizontal\",children:[Jw(oA,{fontWeight:\"medium\",color:\"alternative\",children:d(\"confirmation.fee\")}),o?Yw(nA,{direction:\"horizontal\",alignment:\"center\",children:[h?Jw(BA,{width:80}):Jw(oA,{color:\"muted\",children:p}),Jw(oA,{children:XA(o,Rd[r].nativeToken.symbol,l)})]}):Jw(CA,{content:d(\"confirmation.feeError\"),children:Jw(PA,{name:\"warning\"})})]})]})},nb=({context:e})=>{const t=wA(e.preferences.locale),n=e.feeEstimatedInSol,{nativeToken:r}=Rd[e.scope],o=e.tokenPrices[r.caip19Id]?.price??null,i=\"fetching\"===e.scanFetchStatus||\"ERROR\"===e.scan?.status;return Yw(tA,{children:[Yw(nA,{children:[e.preferences.useSecurityAlerts?Jw(QA,{scanFetchStatus:e.scanFetchStatus,validation:e.scan?.validation??null,error:e.scan?.error??null,preferences:e.preferences}):null,Yw(nA,{alignment:\"center\",center:!0,children:[Jw(nA,{children:null}),Jw(rA,{size:\"lg\",children:t(`confirmation.${e.method}.title`)}),Jw(nA,{children:null})]}),e.preferences.simulateOnChainActions?Jw(OA,{scanStatus:e.scan?.status??null,scanFetchStatus:e.scanFetchStatus,changes:e.scan?.estimatedChanges??null,preferences:e.preferences}):null,Jw(tb,{accountAddress:e.account?.address??null,accountDomain:e.accountDomain??null,scope:e.scope,feeInSol:n,nativePrice:o,fetchingPricesStatus:e.tokenPricesFetchStatus,preferences:e.preferences,networkImage:e.networkImage,origin:e.origin}),Jw(GA,{instructions:e.advanced.instructions,showInstructions:e.advanced.shown,locale:e.preferences.locale,scope:e.scope})]}),Yw(uA,{children:[Jw(lA,{name:$A.Cancel,children:t(\"confirmation.cancelButton\")}),Jw(lA,{name:$A.Confirm,disabled:i,children:t(\"confirmation.confirmButton\")})]})]})},rb={method:Xt.SignAndSendTransaction,scope:kd.Mainnet,networkImage:Qw,account:null,accountDomain:null,transaction:\"\",scan:null,scanFetchStatus:\"fetching\",feeEstimatedInSol:\"0\",tokenPrices:{},tokenPricesFetchStatus:\"fetching\",origin:\"\",preferences:{locale:\"en\",currency:\"usd\",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},advanced:{shown:!1,instructions:[]}};async function ob(e){const t={...rb,...e},n=xv().then((e=>{t.preferences=e})).catch((()=>{t.preferences=rb.preferences})),r=(async(e,t)=>{const n=await sm(t,e),r=\"instructions\"in n?n:await om(n.messageBytes,e),{instructions:o}=r;return o.map(ym)})(UE.getRpc(t.scope),t.transaction).then((e=>{t.advanced.instructions=e})).catch((e=>{vd.error(e),t.advanced.instructions=[]})),o=t.account?.address?YE.resolveAddress(t.scope,t.account.address).then((e=>{t.accountDomain=e})):Promise.resolve().then((()=>{t.accountDomain=null}));await Promise.all([n,r,o]);const{currency:i,useExternalPricingData:a,useSecurityAlerts:s,simulateOnChainActions:c}=t.preferences,u=await Ev(Jw(nb,{context:t}),t),l=Iv(u),d={...t},f=[Rd[t.scope].nativeToken.caip19Id];a?await GE.getMultipleSpotPrices(f,i).then((e=>{d.tokenPrices=e,d.tokenPricesFetchStatus=\"fetched\"})).catch((()=>{d.tokenPricesFetchStatus=\"error\"})):(d.tokenPricesFetchStatus=\"fetched\",d.tokenPrices={});let h=null;try{const{totalFee:e}=Om.calculateFee(t.transaction);h=zm(e).toString()}catch{h=null}d.feeEstimatedInSol=h,await kv(u,Jw(nb,{context:d}),d);const p={...d},g=[];if(c&&g.push(\"simulation\"),s&&g.push(\"validation\"),c||s){const e=ak.scanTransaction({method:p.method,accountAddress:p.account?.address??\"\",transaction:p.transaction,scope:p.scope,origin:p.origin,options:g}).then((async e=>{p.scan=e,p.scanFetchStatus=e?\"fetched\":\"error\"})).catch((()=>{p.scan=null,p.scanFetchStatus=\"error\"}));await Promise.all([e])}else p.scanFetchStatus=\"fetched\",p.scan=null;return await kv(u,Jw(nb,{context:p}),p),await BE.setKey(`mapInterfaceNameToId.${Sv}`,u),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT20S\",request:{method:\"refreshConfirmationEstimation\"}}}),l}var ib=function(e){return e.OnTransactionAdded=\"onTransactionAdded\",e.OnTransactionApproved=\"onTransactionApproved\",e.OnTransactionRejected=\"onTransactionRejected\",e.RefreshSend=\"refreshSend\",e.RefreshConfirmationEstimation=\"refreshConfirmationEstimation\",e.CloseWebSocketConnections=\"closeWebSocketConnections\",e}({});function ab(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let o=!1;if(\"\\\\\"===e[r]&&(t.push(e[r++]),o=!o),'\"'!==e[r]){if(!n){const n=sb(e,r);if(n?.length){r+=n.length-1,n.match(/\\.|[eE]-/)?t.push(n):t.push(cb(n));continue}}t.push(e[r])}else t.push(e[r]),o||(n=!n)}return t.join(\"\")}(e),((e,t)=>function(e){return!!e&&\"object\"==typeof e&&\"$n\"in e&&\"string\"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t))}function sb(e,t){if(!e[t]?.match(/[-\\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/);return n?n[0]:null}function cb(e){return`{\"$n\":\"${e}\"}`}var ub=0n;function lb(){const e=ub;return ub++,e.toString()}function db(e){return function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get:(t,n,r)=>function(...o){const i=n.toString(),a=Reflect.get(t,i,r);if(!a)throw new La(Ma,{method:i,params:o});const s=a(...o);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,s)}})}(e)}function fb(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,o=r.toString();return function(...t){const n=Object.freeze({methodName:o,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const o=function(e){return{id:lb(),jsonrpc:\"2.0\",method:e.methodName,params:e.params}}(r),i=await n({payload:o,signal:t});return e?.responseTransformer?e.responseTransformer(i,r):i}})}}})}function hb(e){return null!=e&&\"object\"==typeof e&&!Array.isArray(e)&&(\"jsonrpc\"in e&&\"2.0\"===e.jsonrpc&&\"method\"in e&&\"string\"==typeof e.method&&\"params\"in e)}var pb={};function gb(e){return function t(n,r){if(Array.isArray(n))return n.map(((e,n)=>{const o={...r,keyPath:[...r.keyPath,n]};return t(e,o)}));if(\"object\"==typeof n&&null!==n){const e={};for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i={...r,keyPath:[...r.keyPath,o]};e[o]=t(n[o],i)}return e}return e.reduce(((e,t)=>t(e,r)),n)}}function mb(e,t){return n=>{const r=gb(e);return Object.freeze({...n,params:r(n.params,t)})}}function yb(e){return\"bigint\"==typeof e?Number(e):e}function vb({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const o=t[n];if(void 0===o||o&&\"object\"==typeof o&&!Array.isArray(o))if(o&&e in o){if(!o[e]||\"finalized\"===o[e]){const r=[...t],{[e]:i,...a}=o;return Object.keys(a).length>0?r[n]=a:n===r.length-1?r.length--:r[n]=void 0,r}}else if(\"finalized\"!==r){const i=[...t];return i[n]={...o,[e]:r},i}return t}function wb(e){return(t,{keyPath:n})=>(\"bigint\"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var Ab={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function bb(e){const t=e?.onIntegerOverflow;return n=>{return xu(n,t?(r=t,e=>mb([wb(((...t)=>r(e,...t)))],{keyPath:[]})(e)):e=>e,mb([yb],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:o}=n;if(!Array.isArray(r))return n;const i=t[o];return null==i?n:Object.freeze({methodName:o,params:vb({commitmentPropertyName:\"sendTransaction\"===o?\"preflightCommitment\":\"commitment\",optionsObjectPositionInParams:i,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:Ab}));var r}}function Sb(e){return t=[Eb(e)],n={keyPath:[]},e=>gb(t)(e,n);var t,n}function Eb(e){return function(t,{keyPath:n}){return\"number\"==typeof t&&Number.isInteger(t)||\"bigint\"==typeof t?function(e,t){return t.some((t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],o=t[n];if(o!==r&&(o!==pb||\"number\"!=typeof r))return!1}return!0}))}(n,e)?Number(t):BigInt(t):t}}function kb(e){return(t,n)=>{const r=n.methodName,o=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return xu(t,(e=>(e=>{const t=e;if(\"error\"in t)throw Ga(t.error);return t})(e)),(e=>e.result),(e=>Sb(o??[])(e,n)))}}var Tb,Ib=[[\"data\",\"parsed\",\"info\",\"tokenAmount\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"tokenAmount\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"rentExemptReserve\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"rentExemptReserve\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"delegatedAmount\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"delegatedAmount\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"extensions\",pb,\"state\",\"olderTransferFee\",\"transferFeeBasisPoints\"],[\"data\",\"parsed\",\"info\",\"extensions\",pb,\"state\",\"newerTransferFee\",\"transferFeeBasisPoints\"],[\"data\",\"parsed\",\"info\",\"extensions\",pb,\"state\",\"preUpdateAverageRate\"],[\"data\",\"parsed\",\"info\",\"extensions\",pb,\"state\",\"currentRate\"]],xb=[...Ib,[\"data\",\"parsed\",\"info\",\"lastExtendedSlotStartIndex\"],[\"data\",\"parsed\",\"info\",\"slashPenalty\"],[\"data\",\"parsed\",\"info\",\"warmupCooldownRate\"],[\"data\",\"parsed\",\"info\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"numRequiredSigners\"],[\"data\",\"parsed\",\"info\",\"numValidSigners\"],[\"data\",\"parsed\",\"info\",\"stake\",\"delegation\",\"warmupCooldownRate\"],[\"data\",\"parsed\",\"info\",\"exemptionThreshold\"],[\"data\",\"parsed\",\"info\",\"burnPercent\"],[\"data\",\"parsed\",\"info\",\"commission\"],[\"data\",\"parsed\",\"info\",\"votes\",pb,\"confirmationCount\"]],_b=[[\"index\"],[\"instructions\",pb,\"accounts\",pb],[\"instructions\",pb,\"programIdIndex\"],[\"instructions\",pb,\"stackHeight\"]],Cb=[[\"addressTableLookups\",pb,\"writableIndexes\",pb],[\"addressTableLookups\",pb,\"readonlyIndexes\",pb],[\"header\",\"numReadonlySignedAccounts\"],[\"header\",\"numReadonlyUnsignedAccounts\"],[\"header\",\"numRequiredSignatures\"],[\"instructions\",pb,\"accounts\",pb],[\"instructions\",pb,\"programIdIndex\"],[\"instructions\",pb,\"stackHeight\"]];function Rb(e){return fb({requestTransformer:bb(e),responseTransformer:kb({allowedNumericKeyPaths:Pb()})})}function Pb(){return Tb||(Tb={getAccountInfo:xb.map((e=>[\"value\",...e])),getBlock:[[\"transactions\",pb,\"meta\",\"preTokenBalances\",pb,\"accountIndex\"],[\"transactions\",pb,\"meta\",\"preTokenBalances\",pb,\"uiTokenAmount\",\"decimals\"],[\"transactions\",pb,\"meta\",\"postTokenBalances\",pb,\"accountIndex\"],[\"transactions\",pb,\"meta\",\"postTokenBalances\",pb,\"uiTokenAmount\",\"decimals\"],[\"transactions\",pb,\"meta\",\"rewards\",pb,\"commission\"],..._b.map((e=>[\"transactions\",pb,\"meta\",\"innerInstructions\",pb,...e])),...Cb.map((e=>[\"transactions\",pb,\"transaction\",\"message\",...e])),[\"rewards\",pb,\"commission\"]],getClusterNodes:[[pb,\"featureSet\"],[pb,\"shredVersion\"]],getInflationGovernor:[[\"initial\"],[\"foundation\"],[\"foundationTerm\"],[\"taper\"],[\"terminal\"]],getInflationRate:[[\"foundation\"],[\"total\"],[\"validator\"]],getInflationReward:[[pb,\"commission\"]],getMultipleAccounts:xb.map((e=>[\"value\",pb,...e])),getProgramAccounts:xb.flatMap((e=>[[\"value\",pb,\"account\",...e],[pb,\"account\",...e]])),getRecentPerformanceSamples:[[pb,\"samplePeriodSecs\"]],getTokenAccountBalance:[[\"value\",\"decimals\"],[\"value\",\"uiAmount\"]],getTokenAccountsByDelegate:Ib.map((e=>[\"value\",pb,\"account\",...e])),getTokenAccountsByOwner:Ib.map((e=>[\"value\",pb,\"account\",...e])),getTokenLargestAccounts:[[\"value\",pb,\"decimals\"],[\"value\",pb,\"uiAmount\"]],getTokenSupply:[[\"value\",\"decimals\"],[\"value\",\"uiAmount\"]],getTransaction:[[\"meta\",\"preTokenBalances\",pb,\"accountIndex\"],[\"meta\",\"preTokenBalances\",pb,\"uiTokenAmount\",\"decimals\"],[\"meta\",\"postTokenBalances\",pb,\"accountIndex\"],[\"meta\",\"postTokenBalances\",pb,\"uiTokenAmount\",\"decimals\"],[\"meta\",\"rewards\",pb,\"commission\"],..._b.map((e=>[\"meta\",\"innerInstructions\",pb,...e])),...Cb.map((e=>[\"transaction\",\"message\",...e]))],getVersion:[[\"feature-set\"]],getVoteAccounts:[[\"current\",pb,\"commission\"],[\"delinquent\",pb,\"commission\"]],simulateTransaction:[...xb.map((e=>[\"value\",\"accounts\",pb,...e])),..._b.map((e=>[\"value\",\"innerInstructions\",pb,...e]))]}),Tb}Object.assign({\"accept-charset\":!0,\"access-control-request-headers\":!0,\"access-control-request-method\":!0,connection:!0,\"content-length\":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,\"keep-alive\":!0,origin:!0,\"permissions-policy\":!0,referer:!0,te:!0,trailer:!0,\"transfer-encoding\":!0,upgrade:!0,via:!0},{\"accept-encoding\":!0});var Nb=[\"getAccountInfo\",\"getBalance\",\"getBlock\",\"getBlockCommitment\",\"getBlockHeight\",\"getBlockProduction\",\"getBlocks\",\"getBlocksWithLimit\",\"getBlockTime\",\"getClusterNodes\",\"getEpochInfo\",\"getEpochSchedule\",\"getFeeForMessage\",\"getFirstAvailableBlock\",\"getGenesisHash\",\"getHealth\",\"getHighestSnapshotSlot\",\"getIdentity\",\"getInflationGovernor\",\"getInflationRate\",\"getInflationReward\",\"getLargestAccounts\",\"getLatestBlockhash\",\"getLeaderSchedule\",\"getMaxRetransmitSlot\",\"getMaxShredInsertSlot\",\"getMinimumBalanceForRentExemption\",\"getMultipleAccounts\",\"getProgramAccounts\",\"getRecentPerformanceSamples\",\"getRecentPrioritizationFees\",\"getSignaturesForAddress\",\"getSignatureStatuses\",\"getSlot\",\"getSlotLeader\",\"getSlotLeaders\",\"getStakeMinimumDelegation\",\"getSupply\",\"getTokenAccountBalance\",\"getTokenAccountsByDelegate\",\"getTokenAccountsByOwner\",\"getTokenLargestAccounts\",\"getTokenSupply\",\"getTransaction\",\"getTransactionCount\",\"getVersion\",\"getVoteAccounts\",\"index\",\"isBlockhashValid\",\"minimumLedgerSlot\",\"requestAirdrop\",\"sendTransaction\",\"simulateTransaction\"];function Bb(e){return hb(e)&&Nb.includes(e.method)}function Mb(e){return function(e){const{fromJson:t,headers:n,toJson:r,url:o}=e,i=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const a=r?r(e):JSON.stringify(e),s={body:a,headers:{...i,accept:\"application/json\",\"content-length\":a.length.toString(),\"content-type\":\"application/json; charset=utf-8\"},method:\"POST\",signal:n},c=await fetch(o,s);if(!c.ok)throw new La(Ba,{headers:c.headers,message:c.statusText,statusCode:c.status});return t?t(await c.text(),e):await c.json()}}({...e,fromJson:(e,t)=>Bb(t)?ab(e):JSON.parse(e),toJson:e=>{return Bb(e)?(t=e,function(e){return e.replace(/\\{\\s*\"\\$n\"\\s*:\\s*\"(-?\\d+)\"\\s*\\}/g,\"$1\")}(JSON.stringify(t,((e,t)=>\"bigint\"==typeof t?function(e){return{$n:`${e}`}}(t):t),n))):JSON.stringify(e);var t,n}})}var Ob=Object.prototype.toString,zb=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function Ub(e,t){let n,r,o,i,a,s,c;if(!0===e)return\"true\";if(!1===e)return\"false\";switch(typeof e){case\"object\":if(null===e)return null;if(\"toJSON\"in e&&\"function\"==typeof e.toJSON)return Ub(e.toJSON(),t);if(c=Ob.call(e),\"[object Array]\"===c){for(o=\"[\",r=e.length-1,n=0;n<r;n++)o+=Ub(e[n],!0)+\",\";return r>-1&&(o+=Ub(e[n],!0)),o+\"]\"}if(\"[object Object]\"===c){for(i=zb(e).sort(),r=i.length,o=\"\",n=0;n<r;)a=i[n],s=Ub(e[a],!1),void 0!==s&&(o&&(o+=\",\"),o+=JSON.stringify(a)+\":\"+s),n++;return\"{\"+o+\"}\"}return JSON.stringify(e);case\"function\":case\"undefined\":return t?null:void 0;case\"bigint\":return`${e.toString()}n`;case\"string\":return JSON.stringify(e);default:return isFinite(e)?e:null}}function jb(e){const t=Ub(e,!1);if(void 0!==t)return\"\"+t}function Db(e,t,n){let r=\"\";if(\"number\"==typeof t[0]){const e=t[0]+1,n=e%10,o=e%100;r=1==n&&11!=o?e+\"st\":2==n&&12!=o?e+\"nd\":3==n&&13!=o?e+\"rd\":e+\"th\"}else r=`\\`${t[0].toString()}\\``;const o=t.length>1?t.slice(1).map((e=>\"number\"==typeof e?`[${e}]`:e)).join(\".\"):void 0,i=new La(Na,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:o?` at path \\`${o}\\``:\"\",value:n,...void 0!==o?{path:o}:void 0});return Fa(i,Db),i}var Lb,Fb={defaultCommitment:\"confirmed\",onIntegerOverflow(e,t,n){throw Db(e.methodName,t,n)}},$b=globalThis.AbortController;function qb(e){return hb(e)?jb([e.method,e.params]):void 0}function Wb(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function Vb(e){return xu(Mb({...e,headers:{...!1,...e.headers?Wb(e.headers):void 0,\"solana-client\":\"js/2.1.0\"}}),(e=>function(e,t){let n;return async function(r){const{payload:o,signal:i}=r,a=t(o);if(void 0===a)return await e(r);if(n||(queueMicrotask((()=>{n=void 0})),n={}),null==n[a]){const t=new $b,o=(async()=>{try{return await e({...r,signal:t.signal})}catch(e){if(e===(Lb||={}))return;throw e}})();n[a]={abortController:t,numConsumers:0,responsePromise:o}}const s=n[a];if(s.numConsumers++,i){const e=s.responsePromise;return await new Promise(((t,n)=>{const r=e=>{i.removeEventListener(\"abort\",r),s.numConsumers-=1,queueMicrotask((()=>{0===s.numConsumers&&s.abortController.abort(Lb||={})})),n(e.target.reason)};i.addEventListener(\"abort\",r),e.then(t).catch(n).finally((()=>{i.removeEventListener(\"abort\",r)}))}))}return await s.responsePromise}}(e,qb)))}function Kb(e){return db({api:Rb(Fb),transport:e})}const Gb=md,Hb=[\"getTransaction\",\"getSignaturesForAddress\"],Zb=e=>{const t=Vb({url:e}),n=Vb({url:e,headers:{\"x-bigtable\":\"disabled\"}});return async(...e)=>{const{payload:r}=e[0],{method:o}=r,i=Hb.includes(o);return Gb.info(`[ ToggleInfuraBigtableLookupsTransport] RPC method is ${o}. ${i?\"Enabling\":\"Disabling\"} BigTable lookups.`),i?t(...e):n(...e)}},Jb=md;async function Yb(e){try{await snap.request({method:\"snap_trackError\",params:{error:so(new Error(JSON.stringify(e)))}}),Jb.info(`[ ErrorTrackingTransport] Error tracked: ${e.method} - ${e.errorMessage}`)}catch(e){Jb.warn(`[ ErrorTrackingTransport] Failed to track error: ${e}`)}}function Qb(e){return!(!j(e,fy)&&!my(e))||!!Da(e)}const Xb=e=>async(...t)=>{const{payload:n}=t[0],{method:r}=n;try{Jb.info(`[ ErrorTrackingTransport] Making RPC request: ${r}`);const o=await e(...t);if(Qb(o)){const e={method:r,errorMessage:`RPC error in response: ${JSON.stringify(o)}`,responseData:o,requestParams:n};return await Yb(e),o}return o}catch(e){const t=function(e,t){const n={method:t,errorMessage:\"Unknown error\"};return e?.currentUrl&&(n.url=e.currentUrl),e instanceof Error?(n.errorMessage=e.message,n.errorStack=e.stack):\"string\"==typeof e?n.errorMessage=e:e?.message?n.errorMessage=e.message:e?.error&&(n.errorMessage=\"string\"==typeof e.error?e.error:JSON.stringify(e.error)),e?.status?n.statusCode=e.status:e?.statusCode&&(n.statusCode=e.statusCode),e?.response?n.responseData=e.response:e?.data&&(n.responseData=e.data),n}(e,r);throw await Yb(t),e instanceof Error?e:new Error(t.errorMessage)}},eS=md;async function tS(e){return new Promise((t=>setTimeout(t,e)))}const nS=md;const rS=e=>async(...t)=>{const{payload:n}=t[0],{method:r}=n;let o;for(let n=0;n<4;n++)try{return nS.info(`[ RetryingTransport] Attempt \"${r}\" ${n+1} of 4`),await e(...t)}catch(e){if(nS.error(`[ RetryingTransport] Error during attempt \"${r}\" ${n+1} of 4: ${e}`),o=e,n<3){const e=(i=n,Math.min(400*Math.pow(2,i),1500));nS.info(`[ RetryingTransport] Sleeping for ${e}ms`),await tS(e)}}var i;throw o},oS=e=>{return xu(e,(t=Zb,e=>e.map(t)),(t=>((e,t)=>async(...n)=>{let r;const o=e.length;for(const[i,a]of e.entries())try{const e=t[i];return eS.info(`[ FailoverTransport] Attempting to use transport ${i+1} of ${o} (URL: ${e})`),await a(...n)}catch(e){const n=t[i];r=e;const a=i===o-1;eS.error(`[ FailoverTransport] Transport failed (URL: ${n}): ${e}. ${a?\"No more transports to try.\":\"Trying next transport...\"}`),e instanceof Error&&(e.currentUrl=n)}throw r})(t,e)),rS,(e=>Xb(e)));var t};var iS,aS=[\"u8\",\"u16\",\"u32\",\"u64\",\"u128\",\"i8\",\"i16\",\"i32\",\"i64\",\"i128\",\"f32\",\"f64\"],sS=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+e);var t=new ArrayBuffer(this.buffer_size);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(e,t){var n=t.substring(1),r=parseInt(n)/8;this.resize_if_necessary(r);var o=\"f\"===t[0]?\"setFloat\".concat(n):\"i\"===t[0]?\"setInt\".concat(n):\"setUint\".concat(n);this.view[o](this.offset,e,!0),this.offset+=r},e.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},e}(),cS=function(){function e(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error(\"Error in schema, the buffer is smaller than expected\")},e.prototype.consume_value=function(e){var t=e.substring(1),n=parseInt(t)/8;this.assert_enough_buffer(n);var r=\"f\"===e[0]?\"getFloat\".concat(t):\"i\"===e[0]?\"getInt\".concat(t):\"getUint\".concat(t),o=this.view[r](this.offset,!0);return this.offset+=n,o},e.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},e}(),uS=(iS=function(e,t){return iS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},iS(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}iS(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function lS(e,t,n){if(typeof e!==t)throw new Error(\"Expected \".concat(t,\" not \").concat(typeof e,\"(\").concat(e,\") at \").concat(n.join(\".\")))}function dS(e,t,n){if(e!==t)throw new Error(\"Array length \".concat(e,\" does not match schema length \").concat(t,\" at \").concat(n.join(\".\")))}var fS=aS.concat([\"bool\",\"string\"]),hS=[\"option\",\"enum\",\"array\",\"set\",\"map\",\"struct\"],pS=function(e){function t(t,n){var r=\"Invalid schema: \".concat(JSON.stringify(t),\" expected \").concat(n);return e.call(this,r)||this}return uS(t,e),t}(Error);function gS(e){if(\"string\"!=typeof e||!fS.includes(e)){if(e&&\"object\"==typeof e){var t=Object.keys(e);if(1===t.length&&hS.includes(t[0])){var n=t[0];if(\"option\"===n)return gS(e[n]);if(\"enum\"===n)return function(e){if(!Array.isArray(e))throw new pS(e,\"Array\");for(var t=0,n=e;t<n.length;t++){var r=n[t];if(\"object\"!=typeof r||!(\"struct\"in r))throw new Error('Missing \"struct\" key in enum schema');if(\"object\"!=typeof r.struct||1!==Object.keys(r.struct).length)throw new Error('The \"struct\" in each enum must have a single key');gS({struct:r.struct})}}(e[n]);if(\"array\"===n)return function(e){if(\"object\"!=typeof e)throw new pS(e,\"{ type, len? }\");if(e.len&&\"number\"!=typeof e.len)throw new Error(\"Invalid schema: \".concat(e));if(\"type\"in e)return gS(e.type);throw new pS(e,\"{ type, len? }\")}(e[n]);if(\"set\"===n)return gS(e[n]);if(\"map\"===n)return function(e){if(\"object\"!=typeof e||!(\"key\"in e)||!(\"value\"in e))throw new pS(e,\"{ key, value }\");gS(e.key),gS(e.value)}(e[n]);if(\"struct\"===n)return function(e){if(\"object\"!=typeof e)throw new pS(e,\"object\");for(var t in e)gS(e[t])}(e[n])}}throw new pS(e,hS.join(\", \")+\" or \"+fS.join(\", \"))}}!function(){function e(e){this.encoded=new sS,this.fieldPath=[\"value\"],this.checkTypes=e}e.prototype.encode=function(e,t){return this.encode_value(e,t),this.encoded.get_used_buffer()},e.prototype.encode_value=function(e,t){if(\"string\"==typeof t){if(aS.includes(t))return this.encode_integer(e,t);if(\"string\"===t)return this.encode_string(e);if(\"bool\"===t)return this.encode_boolean(e)}if(\"object\"==typeof t){if(\"option\"in t)return this.encode_option(e,t);if(\"enum\"in t)return this.encode_enum(e,t);if(\"array\"in t)return this.encode_array(e,t);if(\"set\"in t)return this.encode_set(e,t);if(\"map\"in t)return this.encode_map(e,t);if(\"struct\"in t)return this.encode_struct(e,t)}},e.prototype.encode_integer=function(e,t){var n=parseInt(t.substring(1));n<=32||\"f64\"==t?(this.checkTypes&&lS(e,\"number\",this.fieldPath),this.encoded.store_value(e,t)):(this.checkTypes&&function(e,t){if(!([\"number\",\"string\",\"bigint\",\"boolean\"].includes(typeof e)||\"object\"==typeof e&&null!==e&&\"toString\"in e))throw new Error(\"Expected bigint, number, boolean or string not \".concat(typeof e,\"(\").concat(e,\") at \").concat(t.join(\".\")))}(e,this.fieldPath),this.encode_bigint(BigInt(e),n))},e.prototype.encode_bigint=function(e,t){for(var n=t/8,r=new Uint8Array(n),o=0;o<n;o++)r[o]=Number(e&BigInt(255)),e>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(r))},e.prototype.encode_string=function(e){this.checkTypes&&lS(e,\"string\",this.fieldPath);for(var t=e,n=[],r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?n.push(o):o<2048?n.push(192|o>>6,128|63&o):o<55296||o>=57344?n.push(224|o>>12,128|o>>6&63,128|63&o):(r++,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}this.encoded.store_value(n.length,\"u32\"),this.encoded.store_bytes(new Uint8Array(n))},e.prototype.encode_boolean=function(e){this.checkTypes&&lS(e,\"boolean\",this.fieldPath),this.encoded.store_value(e?1:0,\"u8\")},e.prototype.encode_option=function(e,t){null==e?this.encoded.store_value(0,\"u8\"):(this.encoded.store_value(1,\"u8\"),this.encode_value(e,t.option))},e.prototype.encode_enum=function(e,t){this.checkTypes&&function(e,t){if(\"object\"!=typeof e||null===e)throw new Error(\"Expected object not \".concat(typeof e,\"(\").concat(e,\") at \").concat(t.join(\".\")))}(e,this.fieldPath);for(var n=Object.keys(e)[0],r=0;r<t.enum.length;r++){var o=t.enum[r];if(n===Object.keys(o.struct)[0])return this.encoded.store_value(r,\"u8\"),this.encode_struct(e,o)}throw new Error(\"Enum key (\".concat(n,\") not found in enum schema: \").concat(JSON.stringify(t),\" at \").concat(this.fieldPath.join(\".\")))},e.prototype.encode_array=function(e,t){if(function(e){return Array.isArray(e)||!!e&&\"object\"==typeof e&&\"length\"in e&&\"number\"==typeof e.length&&(0===e.length||e.length>0&&e.length-1 in e)}(e))return this.encode_arraylike(e,t);if(e instanceof ArrayBuffer)return this.encode_buffer(e,t);throw new Error(\"Expected Array-like not \".concat(typeof e,\"(\").concat(e,\") at \").concat(this.fieldPath.join(\".\")))},e.prototype.encode_arraylike=function(e,t){t.array.len?dS(e.length,t.array.len,this.fieldPath):this.encoded.store_value(e.length,\"u32\");for(var n=0;n<e.length;n++)this.encode_value(e[n],t.array.type)},e.prototype.encode_buffer=function(e,t){t.array.len?dS(e.byteLength,t.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,\"u32\"),this.encoded.store_bytes(new Uint8Array(e))},e.prototype.encode_set=function(e,t){this.checkTypes&&lS(e,\"object\",this.fieldPath);var n=e instanceof Set?Array.from(e.values()):Object.values(e);this.encoded.store_value(n.length,\"u32\");for(var r=0,o=n;r<o.length;r++){var i=o[r];this.encode_value(i,t.set)}},e.prototype.encode_map=function(e,t){this.checkTypes&&lS(e,\"object\",this.fieldPath);var n=e instanceof Map,r=n?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(r.length,\"u32\");for(var o=0,i=r;o<i.length;o++){var a=i[o];this.encode_value(a,t.map.key),this.encode_value(n?e.get(a):e[a],t.map.value)}},e.prototype.encode_struct=function(e,t){this.checkTypes&&lS(e,\"object\",this.fieldPath);for(var n=0,r=Object.keys(t.struct);n<r.length;n++){var o=r[n];this.fieldPath.push(o),this.encode_value(e[o],t.struct[o]),this.fieldPath.pop()}}}();var mS=function(){function e(e){this.buffer=new cS(e)}return e.prototype.decode=function(e){return this.decode_value(e)},e.prototype.decode_value=function(e){if(\"string\"==typeof e){if(aS.includes(e))return this.decode_integer(e);if(\"string\"===e)return this.decode_string();if(\"bool\"===e)return this.decode_boolean()}if(\"object\"==typeof e){if(\"option\"in e)return this.decode_option(e);if(\"enum\"in e)return this.decode_enum(e);if(\"array\"in e)return this.decode_array(e);if(\"set\"in e)return this.decode_set(e);if(\"map\"in e)return this.decode_map(e);if(\"struct\"in e)return this.decode_struct(e)}throw new Error(\"Unsupported type: \".concat(e))},e.prototype.decode_integer=function(e){var t=parseInt(e.substring(1));return t<=32||\"f64\"==e?this.buffer.consume_value(e):this.decode_bigint(t,e.startsWith(\"i\"))},e.prototype.decode_bigint=function(e,t){void 0===t&&(t=!1);var n=e/8,r=new Uint8Array(this.buffer.consume_bytes(n)),o=r.reduceRight((function(e,t){return e+t.toString(16).padStart(2,\"0\")}),\"\");return t&&r[n-1]?BigInt.asIntN(e,BigInt(\"0x\".concat(o))):BigInt(\"0x\".concat(o))},e.prototype.decode_string=function(){for(var e=this.decode_integer(\"u32\"),t=new Uint8Array(this.buffer.consume_bytes(e)),n=[],r=0;r<e;++r){var o=t[r];if(o<128)n.push(o);else if(o<224)n.push((31&o)<<6|63&t[++r]);else if(o<240)n.push((15&o)<<12|(63&t[++r])<<6|63&t[++r]);else{var i=(7&o)<<18|(63&t[++r])<<12|(63&t[++r])<<6|63&t[++r];n.push(i)}}return String.fromCodePoint.apply(String,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value(\"u8\")>0},e.prototype.decode_option=function(e){var t=this.buffer.consume_value(\"u8\");if(1===t)return this.decode_value(e.option);if(0!==t)throw new Error(\"Invalid option \".concat(t));return null},e.prototype.decode_enum=function(e){var t,n=this.buffer.consume_value(\"u8\");if(n>e.enum.length)throw new Error(\"Enum option \".concat(n,\" is not available\"));var r=e.enum[n].struct,o=Object.keys(r)[0];return(t={})[o]=this.decode_value(r[o]),t},e.prototype.decode_array=function(e){for(var t=[],n=e.array.len?e.array.len:this.decode_integer(\"u32\"),r=0;r<n;++r)t.push(this.decode_value(e.array.type));return t},e.prototype.decode_set=function(e){for(var t=this.decode_integer(\"u32\"),n=new Set,r=0;r<t;++r)n.add(this.decode_value(e.set));return n},e.prototype.decode_map=function(e){for(var t=this.decode_integer(\"u32\"),n=new Map,r=0;r<t;++r){var o=this.decode_value(e.map.key),i=this.decode_value(e.map.value);n.set(o,i)}return n},e.prototype.decode_struct=function(e){var t={};for(var n in e.struct)t[n]=this.decode_value(e.struct[n]);return t},e}();function yS(e,t,n){return void 0===n&&(n=!0),n&&gS(e),new mS(t).decode(e)}var vS=(e=>(e[e.Uninitialized=0]=\"Uninitialized\",e[e.Initialized=1]=\"Initialized\",e[e.Frozen=2]=\"Frozen\",e))(vS||{});const wS=Ac(),AS=(ec(),ac()),bS=dc(),SS=ns(Au([[\"mint\",vc()],[\"owner\",vc()],[\"amount\",Bs()],[\"delegate\",zf(vc(),{prefix:Ps(),noneValue:\"zeroes\"})],[\"state\",hu(vS)],[\"isNative\",zf(Bs(),{prefix:Ps(),noneValue:\"zeroes\"})],[\"delegatedAmount\",Bs()],[\"closeAuthority\",zf(vc(),{prefix:Ps(),noneValue:\"zeroes\"})]]),bu([[\"mint\",wc()],[\"owner\",wc()],[\"amount\",Ms()],[\"delegate\",Uf(wc(),{prefix:Ns(),noneValue:\"zeroes\"})],[\"state\",pu(vS)],[\"isNative\",Uf(Ms(),{prefix:Ns(),noneValue:\"zeroes\"})],[\"delegatedAmount\",Ms()],[\"closeAuthority\",Uf(wc(),{prefix:Ns(),noneValue:\"zeroes\"})]]));var ES;!function(e){e.SymbolNotFound=\"SymbolNotFound\",e.InvalidSubdomain=\"InvalidSubdomain\",e.PrimaryDomainNotFound=\"PrimaryDomainNotFound\",e.MissingParentOwner=\"MissingParentOwner\",e.U32Overflow=\"U32Overflow\",e.InvalidBufferLength=\"InvalidBufferLength\",e.U64Overflow=\"U64Overflow\",e.NoRecordData=\"NoRecordData\",e.InvalidRecordData=\"InvalidRecordData\",e.UnsupportedRecord=\"UnsupportedRecord\",e.InvalidEvmAddress=\"InvalidEvmAddress\",e.InvalidInjectiveAddress=\"InvalidInjectiveAddress\",e.InvalidARecord=\"InvalidARecord\",e.InvalidAAAARecord=\"InvalidAAAARecord\",e.InvalidRecordInput=\"InvalidRecordInput\",e.InvalidSignature=\"InvalidSignature\",e.AccountDoesNotExist=\"AccountDoesNotExist\",e.MultipleRegistries=\"MultipleRegistries\",e.InvalidReverseTwitter=\"InvalidReverseTwitter\",e.NoAccountData=\"NoAccountData\",e.InvalidInput=\"InvalidInput\",e.InvalidDomain=\"InvalidDomain\",e.InvalidCustomBg=\"InvalidCustomBackground\",e.UnsupportedSignature=\"UnsupportedSignature\",e.RecordDoestNotSupportGuardianSig=\"RecordDoestNotSupportGuardianSig\",e.RecordIsNotSigned=\"RecordIsNotSigned\",e.UnsupportedSignatureType=\"UnsupportedSignatureType\",e.InvalidSolRecordV2=\"InvalidSolRecordV2\",e.MissingVerifier=\"MissingVerifier\",e.PythFeedNotFound=\"PythFeedNotFound\",e.InvalidRoA=\"InvalidRoA\",e.InvalidPda=\"InvalidPda\",e.InvalidParent=\"InvalidParent\",e.NftAccountNotFound=\"NftRecordNotFound\",e.PdaOwnerNotAllowed=\"PdaOwnerNotAllowed\",e.DomainDoesNotExist=\"DomainDoesNotExist\",e.RecordMalformed=\"RecordMalformed\",e.CouldNotFindNftOwner=\"CouldNotFindNftOwner\",e.InvalidValidation=\"InvalidValidation\",e.InvalidSerializedData=\"InvalidSerializedData\"}(ES||(ES={}));class kS extends Error{type;constructor(e,t){super(t),this.name=\"SNSError\",this.type=e,Error.captureStackTrace&&Error.captureStackTrace(this,kS)}}class TS extends kS{constructor(e){super(ES.PrimaryDomainNotFound,e)}}class IS extends kS{constructor(e){super(ES.NoRecordData,e)}}class xS extends kS{constructor(e){super(ES.AccountDoesNotExist,e)}}class _S extends kS{constructor(e){super(ES.NoAccountData,e)}}class CS extends kS{constructor(e){super(ES.InvalidInput,e)}}class RS extends kS{constructor(e){super(ES.InvalidRoA,e)}}class PS extends kS{constructor(e){super(ES.NftAccountNotFound,e)}}class NS extends kS{constructor(e){super(ES.PdaOwnerNotAllowed,e)}}class BS extends kS{constructor(e){super(ES.DomainDoesNotExist,e)}}class MS extends kS{constructor(e){super(ES.RecordMalformed,e)}}class OS extends kS{constructor(e){super(ES.CouldNotFindNftOwner,e)}}class zS extends kS{constructor(e){super(ES.InvalidValidation,e)}}class US extends kS{constructor(e){super(ES.InvalidSerializedData,e)}}class jS{static HEADER_LEN=96;parentName;owner;class;data;static schema={struct:{parentName:{array:{type:\"u8\",len:32}},owner:{array:{type:\"u8\",len:32}},class:{array:{type:\"u8\",len:32}}}};constructor(e){this.parentName=wS.decode(e.parentName),this.owner=wS.decode(e.owner),this.class=wS.decode(e.class)}static deserialize(e){try{const t=new jS(yS(this.schema,e));return t.data=e?.slice(this.HEADER_LEN),t}catch{throw new Error(\"Failed to deserialize RegistryState data\")}}static async retrieve(e,t){const n=await Oh(e,t);if(!n.exists)throw new xS(\"The domain account does not exist\");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await zh(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}}const DS=\"58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx\",LS=\"nftD3vbNkNqfj2Sd3HZwbpw4BxxKWr4AjGb9X38JeZk\",FS=\"33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z\",$S=\"2pMnqHvei2N5oDcVGCRdZx48gqti199wr5CsyTTafsbo\",qS=async(e,t,n)=>{const r=await(async e=>{const t=bS.encode(\"SPL Name Service\"+e),n=await crypto.subtle.digest(\"SHA-256\",t);return new Uint8Array(n)})(e);return await(async(e,t,n)=>{const r=[e];r.push(n?wS.encode(n):new Uint8Array(32)),r.push(t?wS.encode(t):new Uint8Array(32));const[o]=await Bc({programAddress:\"namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX\",seeds:r});return o})(r,t,n)};var WS;!function(e){e[e.Uninitialized=0]=\"Uninitialized\",e[e.CentralState=1]=\"CentralState\",e[e.ActiveRecord=2]=\"ActiveRecord\",e[e.InactiveRecord=3]=\"InactiveRecord\"}(WS||(WS={}));class VS{tag;nonce;nameAccount;owner;nftMint;static LEN=98;static schema={struct:{tag:\"u8\",nonce:\"u8\",nameAccount:{array:{type:\"u8\",len:32}},owner:{array:{type:\"u8\",len:32}},nftMint:{array:{type:\"u8\",len:32}}}};constructor(e){this.tag=e.tag,this.nonce=e.nonce,this.nameAccount=wS.decode(e.nameAccount),this.owner=wS.decode(e.owner),this.nftMint=wS.decode(e.nftMint)}static deserialize(e){try{return new VS(yS(this.schema,e))}catch{throw new US(\"Failed to deserialize NftState data\")}}static async retrieve(e,t){const n=await Oh(e,t);if(!n.exists)throw new PS(`NFT not found: ${t}`);return this.deserialize(n.data)}static async retrieveFromMint(e,t){const n=await e.getProgramAccounts(LS,{encoding:\"base64\",filters:[{dataSize:BigInt(VS.LEN)},{memcmp:{offset:BigInt(0),bytes:\"3\",encoding:\"base58\"}},{memcmp:{offset:BigInt(66),bytes:t,encoding:\"base58\"}}]}).send();if(1!==n.length)throw new PS(`NFT not found: ${t}`);return this.deserialize(AS.encode(n[0].account.data[0]))}static async getAddress(e){const[t]=await Bc({programAddress:LS,seeds:[bS.encode(\"nft_record\"),wS.encode(e)]});return t}}const KS=bS.encode(\"tokenized_name\"),GS=async(e,t)=>{try{const n=await(async e=>{const[t]=await Bc({programAddress:LS,seeds:[KS,wS.encode(e)]});return t})(t),r=await e.getTokenLargestAccounts(n).send();if(0===r.value.length)return null;const o=await Oh(e,r.value[0].address);if(!o.exists)return null;const i=SS.decode(o.data);return\"1\"===i.amount.toString()?i.owner:null}catch(e){if(Da(e,gi))return null;throw e}};class HS{tag;nameAccount;static schema={struct:{tag:\"u8\",nameAccount:{array:{type:\"u8\",len:32}}}};constructor(e){this.tag=e.tag,this.nameAccount=wS.decode(e.nameAccount)}static deserialize(e){try{return new HS(yS(this.schema,e))}catch{throw new US(\"Failed to deserialize PrimaryDomainState data\")}}static async retrieve(e,t){const n=await Oh(e,t);if(!n.exists)throw new TS(\"The favourite account does not exist\");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await zh(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}static async getAddress(e,t){const[n]=await Bc({programAddress:e,seeds:[bS.encode(\"favourite_domain\"),wS.encode(t)]});return n}}async function ZS(e,t,n){const r=await(async(e,t)=>await qS(e,t,FS))(t,n),o=await jS.retrieve(e,r);if(!o.data)throw new _S(\"The registry data is empty\");return function(e,t=!1){if(!e)return;const n=new DataView(e.buffer).getUint32(0,!0);return bS.decode(e.subarray(4,4+n)).replace(/^\\0/,t?\"\":\"\\0\")}(o.data,!!n)}var JS;!function(e){e.IPFS=\"IPFS\",e.ARWV=\"ARWV\",e.SOL=\"SOL\",e.ETH=\"ETH\",e.BTC=\"BTC\",e.LTC=\"LTC\",e.DOGE=\"DOGE\",e.Email=\"email\",e.Url=\"url\",e.Discord=\"discord\",e.Github=\"github\",e.Reddit=\"reddit\",e.Twitter=\"twitter\",e.Telegram=\"telegram\",e.Pic=\"pic\",e.SHDW=\"SHDW\",e.POINT=\"POINT\",e.BSC=\"BSC\",e.Injective=\"INJ\",e.Backpack=\"backpack\",e.A=\"A\",e.AAAA=\"AAAA\",e.CNAME=\"CNAME\",e.TXT=\"TXT\",e.Background=\"background\",e.BASE=\"BASE\",e.IPNS=\"IPNS\"}(JS||(JS={}));new Map([[JS.SOL,96],[JS.ETH,20],[JS.BSC,20],[JS.Injective,20],[JS.A,4],[JS.AAAA,16],[JS.Background,32]]);var YS;!function(e){e[e.V1=1]=\"V1\",e[e.V2=2]=\"V2\"}(YS||(YS={}));const QS=async(e,t)=>{e.endsWith(\".sol\")&&(e=e.slice(0,-4));const n=t===YS.V2?$S:void 0,r={[YS.V2]:\"\u0002\",[YS.V1]:\"\u0001\"}[t]||\"\\0\",o=e.split(\".\");if(2===o.length){const e=await qS(o[1],DS);return{address:await qS(r+o[0],e,n),parentAddress:e,isSub:!0}}if(3===o.length&&t){const e=await qS(o[2],DS),t=await qS(\"\\0\"+o[1],e);return{address:await qS(r+o[0],t,n),parentAddress:e,isSub:!0,isSubRecord:!0}}if(o.length>=3)throw new CS(\"The domain is malformed\");return{address:await qS(e,DS),isSub:!1}};function XS(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&\"Uint8Array\"===e.constructor.name}function eE(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>\"string\"==typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function tE(e,t){if(\"string\"!=typeof t)throw new Error(`${e}: string expected`);return!0}function nE(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function rE(e){if(!Array.isArray(e))throw new Error(\"array expected\")}function oE(e,t){if(!eE(!0,t))throw new Error(`${e}: array of strings expected`)}function iE(e,t){if(!eE(!1,t))throw new Error(`${e}: array of numbers expected`)}const aE=(e,t)=>0===t?e:aE(t,e%t),sE=(e,t)=>e+(t-aE(e,t)),cE=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function uE(e,t,n,r){if(rE(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(sE(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${sE(t,n)}`);let o=0,i=0;const a=cE[t],s=cE[n]-1,c=[];for(const r of e){if(nE(r),r>=a)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((o>>i-n&s)>>>0);const e=cE[i];if(void 0===e)throw new Error(\"invalid carry\");o&=e-1}if(o=o<<n-i&s,!r&&i>=t)throw new Error(\"Excess padding\");if(!r&&o>0)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&c.push(o>>>0),c}function lE(e){return function(e){if(\"function\"!=typeof e)throw new Error(\"function expected\")}(e),function(...t){try{return e.apply(null,t)}catch(e){}}}const dE=function(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map((e=>e.encode)).reduceRight(n,t),decode:e.map((e=>e.decode)).reduce(n,t)}}(function(e){const t=e.split(\"\"),n=t.length;oE(\"alphabet\",t);const r=new Map(t.map(((e,t)=>[e,t])));return{encode:r=>(rE(r),r.map((r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet \"${r}\". Allowed: ${e}`);return t[r]}))),decode:t=>(rE(t),t.map((t=>{tE(\"alphabet.decode\",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return n})))}}(\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\"),function(e=\"\"){return tE(\"join\",e),{encode:t=>(oE(\"join.decode\",t),t.join(e)),decode:t=>(tE(\"join.decode\",t),t.split(e))}}(\"\")),fE=[996825010,642813549,513874426,1027748829,705979059];function hE(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<fE.length;e++)1==(t>>e&1)&&(n^=fE[e]);return n}function pE(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=hE(o)^n>>5}o=hE(o);for(let t=0;t<r;t++)o=hE(o)^31&e.charCodeAt(t);for(let e of t)o=hE(o)^e;for(let e=0;e<6;e++)o=hE(o);return o^=n,dE.encode(uE([o%cE[30]],30,5,!1))}!function(e){const t=function(e,t=!1){if(nE(e),e<=0||e>32)throw new Error(\"radix2: bits should be in (0..32]\");if(sE(8,e)>32||sE(e,8)>32)throw new Error(\"radix2: carry overflow\");return{encode:n=>{if(!XS(n))throw new Error(\"radix2.encode input should be Uint8Array\");return uE(Array.from(n),8,e,!t)},decode:n=>(iE(\"radix2.decode\",n),Uint8Array.from(uE(n,e,8,t)))}}(5),n=t.decode,r=t.encode,o=lE(n);function i(e,t,n=90){tE(\"bech32.encode prefix\",e),XS(t)&&Array.from(t),iE(\"bech32.encode\",t);const r=e.length;if(0===r)throw new TypeError(`Invalid prefix length ${r}`);const o=r+7+t.length;if(!1!==n&&o>n)throw new TypeError(`Length ${o} exceeds limit ${n}`);const i=e.toLowerCase(),a=pE(i,t,1);return`${i}1${dE.encode(t)}${a}`}function a(e,t=90){tE(\"bech32.decode input\",e);const n=e.length;if(n<8||!1!==t&&n>t)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${t})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error(\"String must be lowercase or uppercase\");const o=r.lastIndexOf(\"1\");if(0===o||-1===o)throw new Error('Letter \"1\" must be present between prefix and data only');const i=r.slice(0,o),a=r.slice(o+1);if(a.length<6)throw new Error(\"Data must be at least 6 characters long\");const s=dE.decode(a).slice(0,-6),c=pE(i,s,1);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected \"${c}\"`);return{prefix:i,words:s}}lE(a)}();var gE,mE={exports:{}},yE=mE.exports;!function(){return gE||(gE=1,e=mE,function(t){const n=\"(0?\\\\d+|0x[a-f0-9]+)\",r={fourOctet:new RegExp(`^${n}\\\\.${n}\\\\.${n}\\\\.${n}$`,\"i\"),threeOctet:new RegExp(`^${n}\\\\.${n}\\\\.${n}$`,\"i\"),twoOctet:new RegExp(`^${n}\\\\.${n}$`,\"i\"),longValue:new RegExp(`^${n}$`,\"i\")},o=new RegExp(\"^0[0-7]+$\",\"i\"),i=new RegExp(\"^0x[a-f0-9]+$\",\"i\"),a=\"%[0-9a-z]{1,}\",s=\"(?:[0-9a-f]+::?)+\",c={zoneIndex:new RegExp(a,\"i\"),native:new RegExp(`^(::)?(${s})?([0-9a-f]+)?(::)?(${a})?$`,\"i\"),deprecatedTransitional:new RegExp(`^(?:::)(${n}\\\\.${n}\\\\.${n}\\\\.${n}(${a})?)$`,\"i\"),transitional:new RegExp(`^((?:${s})|(?:::)(?:${s})?)${n}\\\\.${n}\\\\.${n}\\\\.${n}(${a})?$`,\"i\")};function u(e,t){if(e.indexOf(\"::\")!==e.lastIndexOf(\"::\"))return null;let n,r,o=0,i=-1,a=(e.match(c.zoneIndex)||[])[0];for(a&&(a=a.substring(1),e=e.replace(/%.+$/,\"\"));(i=e.indexOf(\":\",i+1))>=0;)o++;if(\"::\"===e.substr(0,2)&&o--,\"::\"===e.substr(-2,2)&&o--,o>t)return null;for(r=t-o,n=\":\";r--;)n+=\"0:\";return\":\"===(e=e.replace(\"::\",n))[0]&&(e=e.slice(1)),\":\"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){const t=e.split(\":\"),n=[];for(let e=0;e<t.length;e++)n.push(parseInt(t[e],16));return n}(),zoneId:a}}function l(e,t,n,r){if(e.length!==t.length)throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");let o,i=0;for(;r>0;){if(o=n-r,o<0&&(o=0),e[i]>>o!=t[i]>>o)return!1;r-=n,i+=1}return!0}function d(e){if(i.test(e))return parseInt(e,16);if(\"0\"===e[0]&&!isNaN(parseInt(e[1],10))){if(o.test(e))return parseInt(e,8);throw new Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function f(e,t){for(;e.length<t;)e=`0${e}`;return e}const h={};h.IPv4=function(){function e(e){if(4!==e.length)throw new Error(\"ipaddr: ipv4 octet count should be 4\");let t,n;for(t=0;t<e.length;t++)if(n=e[t],!(0<=n&&n<=255))throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,18,0,0]),15],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]],as112:[[new e([192,175,48,0]),24],[new e([192,31,196,0]),24]],amt:[[new e([192,52,193,0]),24]]},e.prototype.kind=function(){return\"ipv4\"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),\"ipv4\"!==e.kind())throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");return l(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let r,o,i;for(r=3;r>=0;r-=1){if(o=this.octets[r],!(o in n))return null;if(i=n[o],t&&0!==i)return null;8!==i&&(t=!0),e+=i}return 32-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return h.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(\".\")},e}(),h.IPv4.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<4;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},h.IPv4.isIPv4=function(e){return null!==this.parser(e)},h.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},h.IPv4.isValidCIDR=function(e){try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv4.isValidFourPartDecimal=function(e){return!(!h.IPv4.isValid(e)||!e.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/))},h.IPv4.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<4;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},h.IPv4.parse=function(e){const t=this.parser(e);if(null===t)throw new Error(\"ipaddr: string is not formatted like an IPv4 Address\");return new this(t)},h.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\\/(\\d+)$/)){const e=parseInt(t[2]);if(e>=0&&e<=32){const n=[this.parse(t[1]),e];return Object.defineProperty(n,\"toString\",{value:function(){return this.join(\"/\")}}),n}}throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\")},h.IPv4.parser=function(e){let t,n,o;if(t=e.match(r.fourOctet))return function(){const e=t.slice(1,6),r=[];for(let t=0;t<e.length;t++)n=e[t],r.push(d(n));return r}();if(t=e.match(r.longValue)){if(o=d(t[1]),o>4294967295||o<0)throw new Error(\"ipaddr: address outside defined range\");return function(){const e=[];let t;for(t=0;t<=24;t+=8)e.push(o>>t&255);return e}().reverse()}return(t=e.match(r.twoOctet))?function(){const e=t.slice(1,4),n=[];if(o=d(e[1]),o>16777215||o<0)throw new Error(\"ipaddr: address outside defined range\");return n.push(d(e[0])),n.push(o>>16&255),n.push(o>>8&255),n.push(255&o),n}():(t=e.match(r.threeOctet))?function(){const e=t.slice(1,5),n=[];if(o=d(e[2]),o>65535||o<0)throw new Error(\"ipaddr: address outside defined range\");return n.push(d(e[0])),n.push(d(e[1])),n.push(o>>8&255),n.push(255&o),n}():null},h.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw new Error(\"ipaddr: invalid IPv4 prefix length\");const t=[0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<4&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.IPv6=function(){function e(e,t){let n,r;if(16===e.length)for(this.parts=[],n=0;n<=14;n+=2)this.parts.push(e[n]<<8|e[n+1]);else{if(8!==e.length)throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");this.parts=e}for(n=0;n<this.parts.length;n++)if(r=this.parts[n],!(0<=r&&r<=65535))throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],discard:[new e([256,0,0,0,0,0,0,0]),64],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],\"6to4\":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],benchmarking:[new e([8193,2,0,0,0,0,0,0]),48],amt:[new e([8193,3,0,0,0,0,0,0]),32],as112v6:[[new e([8193,4,274,0,0,0,0,0]),48],[new e([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new e([8193,16,0,0,0,0,0,0]),28],orchid2:[new e([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new e([8193,48,0,0,0,0,0,0]),28],reserved:[[new e([8193,0,0,0,0,0,0,0]),23],[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.isIPv4MappedAddress=function(){return\"ipv4Mapped\"===this.range()},e.prototype.kind=function(){return\"ipv6\"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),\"ipv6\"!==e.kind())throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");return l(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let r,o;for(let i=7;i>=0;i-=1){if(r=this.parts[i],!(r in n))return null;if(o=n[r],t&&0!==o)return null;16!==o&&(t=!0),e+=o}return 128-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;const t=[],n=this.parts;for(let r=0;r<n.length;r++)e=n[r],t.push(e>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(f(this.parts[t].toString(16),4));return e}.call(this).join(\":\");let t=\"\";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");const e=this.parts.slice(-2),t=e[0],n=e[1];return new h.IPv4([t>>8,255&t,n>>8,255&n])},e.prototype.toNormalizedString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}.call(this).join(\":\");let t=\"\";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g,t=this.toNormalizedString();let n,r=0,o=-1;for(;n=e.exec(t);)n[0].length>o&&(r=n.index,o=n[0].length);return o<0?t:`${t.substring(0,r)}::${t.substring(r+o)}`},e.prototype.toString=function(){return this.toRFC5952String()},e}(),h.IPv6.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<16;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.isIPv6=function(e){return null!==this.parser(e)},h.IPv6.isValid=function(e){if(\"string\"==typeof e&&-1===e.indexOf(\":\"))return!1;try{const t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},h.IPv6.isValidCIDR=function(e){if(\"string\"==typeof e&&-1===e.indexOf(\":\"))return!1;try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv6.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<16;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.parse=function(e){const t=this.parser(e);if(null===t.parts)throw new Error(\"ipaddr: string is not formatted like an IPv6 Address\");return new this(t.parts,t.zoneId)},h.IPv6.parseCIDR=function(e){let t,n,r;if((n=e.match(/^(.+)\\/(\\d+)$/))&&(t=parseInt(n[2]),t>=0&&t<=128))return r=[this.parse(n[1]),t],Object.defineProperty(r,\"toString\",{value:function(){return this.join(\"/\")}}),r;throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\")},h.IPv6.parser=function(e){let t,n,r,o,i,a;if(r=e.match(c.deprecatedTransitional))return this.parser(`::ffff:${r[1]}`);if(c.native.test(e))return u(e,8);if((r=e.match(c.transitional))&&(a=r[6]||\"\",t=r[1],r[1].endsWith(\"::\")||(t=t.slice(0,-1)),t=u(t+a,6),t.parts)){for(i=[parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5])],n=0;n<i.length;n++)if(o=i[n],!(0<=o&&o<=255))return null;return t.parts.push(i[0]<<8|i[1]),t.parts.push(i[2]<<8|i[3]),{parts:t.parts,zoneId:t.zoneId}}return null},h.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw new Error(\"ipaddr: invalid IPv6 prefix length\");const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<16&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.fromByteArray=function(e){const t=e.length;if(4===t)return new h.IPv4(e);if(16===t)return new h.IPv6(e);throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\")},h.isValid=function(e){return h.IPv6.isValid(e)||h.IPv4.isValid(e)},h.isValidCIDR=function(e){return h.IPv6.isValidCIDR(e)||h.IPv4.isValidCIDR(e)},h.parse=function(e){if(h.IPv6.isValid(e))return h.IPv6.parse(e);if(h.IPv4.isValid(e))return h.IPv4.parse(e);throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\")},h.parseCIDR=function(e){try{return h.IPv6.parseCIDR(e)}catch(t){try{return h.IPv4.parseCIDR(e)}catch(e){throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\")}}},h.process=function(e){const t=this.parse(e);return\"ipv6\"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},h.subnetMatch=function(e,t,n){let r,o,i,a;for(o in null==n&&(n=\"unicast\"),t)if(Object.prototype.hasOwnProperty.call(t,o))for(i=t[o],!i[0]||i[0]instanceof Array||(i=[i]),r=0;r<i.length;r++)if(a=i[r],e.kind()===a[0].kind()&&e.match.apply(e,a))return o;return n},e.exports?e.exports=h:t.ipaddr=h}(yE)),mE.exports;var e}();Math.floor,String.fromCharCode;new Map([[JS.CNAME,\"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3\"],[JS.Url,\"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3\"]]),new Set([JS.BASE,JS.BSC,JS.ETH,JS.Injective]),new Set([JS.BASE,JS.BSC,JS.ETH]),new Set([JS.ARWV,JS.Backpack,JS.BTC,JS.CNAME,JS.Discord,JS.DOGE,JS.Email,JS.Github,JS.IPFS,JS.IPNS,JS.LTC,JS.Pic,JS.POINT,JS.Reddit,JS.SHDW,JS.Telegram,JS.Twitter,JS.TXT,JS.Url]),new Set([JS.BASE,JS.BSC,JS.ETH,JS.Injective,JS.SOL]);new Map([[\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",[234,160,32,198,28,196,121,113,40,19,70,28,225,83,137,74,150,166,192,11,33,237,12,252,39,152,209,249,169,233,201,74]],[\"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB\",[43,137,185,220,143,223,159,52,112,154,91,16,107,71,47,15,57,187,108,169,206,4,176,253,127,46,151,22,136,226,229,59]],[\"So11111111111111111111111111111111111111112\",[239,13,139,111,218,44,235,164,29,161,93,64,149,209,218,57,42,13,47,142,208,198,199,188,15,76,250,200,194,128,181,109]],[\"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp\",[200,6,87,183,246,243,234,194,114,24,208,157,90,78,84,228,123,37,118,141,159,94,16,172,21,254,44,249,0,136,20,0]],[\"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So\",[194,40,154,106,67,210,206,145,198,245,92,174,195,112,244,172,195,138,46,212,119,245,136,19,51,76,109,3,116,159,242,164]],[\"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263\",[114,176,33,33,124,163,254,104,146,42,25,170,249,144,16,156,185,216,78,154,208,4,180,210,2,90,214,245,41,49,68,25]],[\"EPeUFDgHRxs9xxEPVaL6kfGQvCon7jmAWKVUHuux1Tpz\",[142,134,15,183,78,96,229,115,107,69,93,130,246,11,55,40,4,156,52,142,148,150,26,221,95,150,27,2,253,238,37,53]],[\"HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3\",[11,191,40,233,168,65,161,204,120,143,106,54,27,23,202,7,45,14,163,9,138,30,93,241,195,146,45,6,113,149,121,255]],[\"bSo13r4TkiE4KumL71LsHTPpL2euBYLFx6h9HP3piy1\",[137,135,83,121,231,15,143,186,220,23,174,243,21,173,243,168,213,209,96,184,17,67,85,55,224,60,151,232,170,201,125,156]],[\"6McPRfPV6bY1e9hLxWyG54W9i9Epq75QBvXg2oetBVTB\",[122,91,193,210,181,106,208,41,4,140,214,57,100,179,173,39,118,234,223,129,46,220,26,67,163,20,6,203,84,191,245,146]],[\"6p6xgHyF7AeE6TZkSmFsko444wqoP15icUSqi2jfGiPN\",[135,149,81,2,24,83,238,199,167,220,130,117,120,232,230,157,167,228,250,129,72,51,154,160,211,213,41,100,5,190,75,26]]]);var vE;!function(e){e[e.None=0]=\"None\",e[e.Solana=1]=\"Solana\",e[e.Ethereum=2]=\"Ethereum\",e[e.UnverifiedSolana=3]=\"UnverifiedSolana\"}(vE||(vE={}));const wE=e=>{switch(e){case vE.None:return 0;case vE.Ethereum:return 20;case vE.Solana:case vE.UnverifiedSolana:return 32;default:throw new Error(\"Invalid validation enum\")}};class AE{stalenessValidation;rightOfAssociationValidation;contentLength;static LEN=8;static schema={struct:{stalenessValidation:\"u16\",rightOfAssociationValidation:\"u16\",contentLength:\"u32\"}};constructor(e){this.stalenessValidation=e.stalenessValidation,this.rightOfAssociationValidation=e.rightOfAssociationValidation,this.contentLength=e.contentLength}static deserialize(e){return new AE(yS(this.schema,e,!0))}static async retrieve(e,t){const n=await Oh(e,t);if(!n.exists)throw new Error(\"Record header account not found\");return this.deserialize(n.data.slice(96,96+this.LEN))}}class bE{header;data;constructor(e,t){this.data=t,this.header=e}static deserialize(e){const t=AE.deserialize(e.slice(96,96+AE.LEN));return new bE(t,e.slice(96+AE.LEN))}static async retrieve(e,t){const n=await Oh(e,t);if(!n.exists)throw new IS(\"Record account not found\");return this.deserialize(n.data)}static async retrieveBatch(e,t){return(await zh(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}getContent(){const e=wE(this.header.stalenessValidation)+wE(this.header.rightOfAssociationValidation);return this.data.slice(e)}getStalenessId(){const e=wE(this.header.stalenessValidation);return this.data.slice(0,e)}getRoAId(){const e=wE(this.header.stalenessValidation),t=e+wE(this.header.rightOfAssociationValidation);return this.data.slice(e,t)}}const SE=57896044618658097711785492504343953926634992332820282019728792003956564819949n,EE=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function kE(e){const t=e%SE;return t>=0n?t:SE+t}function TE(e,t){let n=e;for(;t-- >0n;)n*=n,n%=SE;return n}function IE(e,t){const n=kE(e*e),r=function(e,t){const n=kE(t*t*t),r=function(e){const t=e*e%SE*e%SE,n=TE(t,2n)*t%SE,r=TE(n,1n)*e%SE,o=TE(r,5n)*r%SE,i=TE(o,10n)*o%SE,a=TE(i,20n)*i%SE,s=TE(a,40n)*a%SE,c=TE(s,80n)*s%SE,u=TE(c,80n)*s%SE,l=TE(u,10n)*o%SE;return TE(l,2n)*e%SE}(e*kE(n*n*t));let o=kE(e*n*r);const i=kE(t*o*o),a=o,s=kE(o*EE),c=i===e,u=i===kE(-e),l=i===kE(-e*EE);return c&&(o=a),(u||l)&&(o=s),1n===(1n&kE(o))&&(o=kE(-o)),c||u?o:null}(kE(n-1n),kE(37095705934669439343138083508754565189542113879843219016388785533085940283555n*n+1n));return null!==r&&(0n!==r||!(128&t))}const xE=async(e,t,n={allowPda:!1})=>{const{address:r}=await QS(t),o=await VS.getAddress(r),i=await(async(e,t)=>{const{address:n}=await QS(t+\".\"+e,YS.V1);return n})(t,JS.SOL),a=await(async(e,t)=>{const{address:n}=await QS(e);return await qS(`\u0002${t}`,n,$S)})(t,JS.SOL),[s,c,u,l]=await zh(e,[r,o,i,a]);if(!s.exists)throw new BS(`Domain ${t} does not exist`);const d=jS.deserialize(s.data);if(c.exists&&VS.deserialize(c.data).tag===WS.ActiveRecord){const t=await GS(e,r);if(!t)throw new OS;return t}e:if(l.exists){const e=bE.deserialize(l.data),t=e.getStalenessId(),n=e.getRoAId(),r=e.getContent();if(32!==r.length)throw new MS(\"Record is malformed\");if(e.header.rightOfAssociationValidation!==vE.Solana||e.header.stalenessValidation!==vE.Solana)throw new zS;if(d.owner!==wS.decode(t))break e;if(((e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])))(n,r))return wS.decode(r);throw new RS(`The RoA ID shoudl be ${wS.decode(r)} but is ${wS.decode(n)} `)}if(u.exists){const e=new Uint8Array([...u.data.slice(jS.HEADER_LEN,jS.HEADER_LEN+32),...wS.encode(i)]),t=u.data.slice(jS.HEADER_LEN+32,jS.HEADER_LEN+32+64),n=await(async({data:e,signature:t,address:n})=>{const r=await async function(e){const t=vc().encode(e);return await crypto.subtle.importKey(\"raw\",t,{name:\"Ed25519\"},!0,[\"verify\"])}(n),o=bS.encode((e=>Array.from(e).map((e=>e.toString(16).padStart(2,\"0\"))).join(\"\"))(e));return await crypto.subtle.verify({name:\"Ed25519\"},r,t,o)})({data:e,signature:t,address:d.owner});if(n)return wS.decode(u.data.slice(jS.HEADER_LEN,jS.HEADER_LEN+32))}if(!function(e){const t=wS.encode(e);if(32!==t.byteLength)return!1;return IE(function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),\"\");return BigInt(`0x${t}`)}(t),t[31])}(d.owner)){if(\"any\"===n.allowPda)return d.owner;if(n.allowPda){const t=await Oh(e,d.owner);if(!t.exists)throw new NS(\"Invalid domain owner account\");const r=n.programIds?.some((e=>t.programAddress===e));if(r)return d.owner;throw new NS(`The program ${t.programAddress} is not allowed`)}throw new NS}return d.owner};function _E(e){return e.includes(\"swift:0/iso4217:\")}var CE=function(e){return e.Benign=\"Benign\",e.Warning=\"Warning\",e.Malicious=\"Malicious\",e}({}),RE=function(e){return e.SUCCESS=\"SUCCESS\",e.ERROR=\"ERROR\",e}({});const PE=new Fv,NE=new class{#i;#Me=new Map;constructor(e){this.#i=yd(e,\"[ EventEmitter]\")}on(e,t){this.#i.info(`Adding listener for event ${e}`),this.#Me.has(e)||this.#Me.set(e,new Set),this.#Me.get(e)?.add(t)}off(e,t){this.#i.info(`Removing listener for event ${e}`);const n=this.#Me.get(e);n&&(n.delete(t),0===n.size&&this.#Me.delete(e))}async emitSync(e,t){this.#i.info(`Emitting event ${e}`);const n=this.#Me.get(e);if(n){const e=Array.from(n).map((async e=>await e(t)));await Promise.allSettled(e)}}removeAllListeners(e){e?(this.#i.info(`Removing all listeners for event ${e}`),this.#Me.delete(e)):(this.#i.info(\"Removing all listeners for all events\"),this.#Me.clear())}listenerCount(e){const t=this.#Me.get(e);return t?t.size:0}eventNames(){return Array.from(this.#Me.keys())}}(vd),BE=new class{#E;constructor(e,t){this.#E=t,e.on(\"onStart\",this.#Oe.bind(this)),e.on(\"onUpdate\",this.#Oe.bind(this)),e.on(\"onInstall\",this.#Oe.bind(this))}async#Oe(){await this.update((e=>(0,Qd.omit)(e,[\"assets\"])))}async get(){const e=await snap.request({method:\"snap_getState\",params:{encrypted:this.#E.encrypted}}),t=wv(e??{});var n,r;return n=this.#E.defaultState,r=t,{...n,...Object.fromEntries(Object.entries(r).filter((([e,t])=>null!=t&&(!t||\"object\"!=typeof t||Object.keys(t).length>0))))}}async getKey(e){const t=await snap.request({method:\"snap_getState\",params:{key:e,encrypted:this.#E.encrypted}});if(null!==t)return wv(t)}async setKey(e,t){await snap.request({method:\"snap_setState\",params:{key:e,value:Av(t),encrypted:this.#E.encrypted}})}async update(e){return this.get().then((async t=>{const n=e(t);return await snap.request({method:\"snap_manageState\",params:{operation:\"update\",newState:Av(n),encrypted:this.#E.encrypted}}),n}))}async deleteKey(e){return this.setKey(e,void 0)}async deleteKeys(e){await this.update((t=>(e.forEach((e=>{(0,Qd.unset)(t,e)})),t)))}}(NE,{encrypted:!1,defaultState:{keyringAccounts:{},mapInterfaceNameToId:{},transactions:{},signatures:{},assetEntities:{},tokenPrices:{},subscriptions:{},webSocketConnections:{closeWebSocketConnectionsBackgroundEventId:null}}}),ME=new class{#ze;prefix;logger;constructor(e,t=console,n=\"__cache__default\"){this.#ze=e,this.logger=t,this.prefix=n}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#Ue(n),await this.#ze.setKey(`${this.prefix}.${e}`,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}#Ue(e){if(void 0!==e){if(\"number\"!=typeof e)throw new Error(\"TTL must be a number\");if(e<0)throw new Error(\"TTL must be positive\");if(e>Number.MAX_SAFE_INTEGER)throw new Error(\"TTL must be less than 2^53 - 1\")}}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){await this.#ze.setKey(this.prefix,{})}async has(e){return void 0!==await this.get(e)}async keys(){const e=await this.#ze.getKey(this.prefix);return Object.keys(e??{})}async size(){const e=await this.#ze.getKey(this.prefix);return Object.keys(e??{}).length}async peek(e){const t=await this.#ze.getKey(this.prefix),n=t?.[e];return n?.value}async mget(e){const t=await this.#ze.getKey(this.prefix),n=Object.entries(t??{}).filter((([t])=>e.includes(t))),r=n.filter((([e,t])=>t&&t.expiresAt<Date.now()));return await this.mdelete(r.map((([e])=>e))),n.reduce(((e,[t,n])=>void 0===n?(this.logger.info(`[StateCache]  Cache miss for key \"${t}\"`),e):(n.expiresAt<Date.now()?(this.logger.info(`[StateCache]  Cache expired for key \"${t}\"`),e[t]=void 0):(this.logger.info(`[StateCache]  Cache hit for key \"${t}\"`),e[t]=n.value),e)),{})}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#Ue(e)})),await this.#ze.update((t=>{const n=t[this.prefix]??{};return e.forEach((({key:e,value:t,ttlMilliseconds:r})=>{void 0!==t&&(n[e]={value:t,expiresAt:Math.min(Date.now()+(r??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})})),t[this.prefix]=n,t}));else{ci(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){const t={};return await this.#ze.update((n=>{const r=n[this.prefix]??{};return e.forEach((e=>{void 0===r[e]?t[e]=!1:(delete r[e],t[e]=!0)})),n[this.prefix]=r,n})),t}}(BE,vd),OE=new class{#N=new Map;logger;constructor(e){this.logger=yd(e,\"[ InMemoryCache]\")}#Ue(e){if(void 0!==e){if(\"number\"!=typeof e)throw new Error(\"TTL must be a number\");if(e<0)throw new Error(\"TTL must be positive\");if(e>Number.MAX_SAFE_INTEGER)throw new Error(\"TTL must be less than 2^53 - 1\")}}#Be(e){return e.expiresAt<Date.now()}async#je(){const e=[];for(const[t,n]of this.#N.entries())this.#Be(n)&&e.push(t);await this.mdelete(e)}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#Ue(n),this.#N.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){this.#N.clear()}async has(e){const t=this.#N.get(e);return!!t&&(!this.#Be(t)||(this.#N.delete(e),!1))}async keys(){return await this.#je(),Array.from(this.#N.keys())}async size(){return await this.#je(),this.#N.size}async peek(e){const t=this.#N.get(e);if(t){if(!this.#Be(t))return t.value;this.#N.delete(e)}}async mget(e){await this.#je();const t={};for(const n of e){const e=this.#N.get(n);e?(this.logger.info(` Cache hit for key \"${n}\"`),t[n]=e.value):(this.logger.info(` Cache miss for key \"${n}\"`),t[n]=void 0)}return t}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#Ue(e)})),e.forEach((({key:e,value:t,ttlMilliseconds:n})=>{void 0!==t&&this.#N.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}));else{ci(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){return Object.fromEntries(e.map((e=>[e,this.#N.delete(e)])))}}(md),zE=new class{#i;constructor(e=vd){this.#i=yd(e,\"[ AnalyticsService]\")}async#De(e,t){try{this.#i.log(`Tracking event ${e}`),await snap.request({method:\"snap_trackEvent\",params:{event:{event:e,properties:t}}})}catch(n){this.#i.warn(\"Error tracking event\",{error:n,event:e,properties:t})}}async trackEventTransactionAdded(e,t){await this.#De(\"Transaction Added\",{message:\"Snap transaction added\",origin:t.origin,account_type:e.type,chain_id_caip:t.scope})}async trackEventTransactionApproved(e,t){await this.#De(\"Transaction Approved\",{message:\"Snap transaction approved\",origin:t.origin,account_type:e.type,chain_id_caip:t.scope})}async trackEventTransactionSubmitted(e,t,n){await this.#De(\"Transaction Submitted\",{message:\"Snap transaction submitted\",origin:n.origin,account_type:e.type,chain_id_caip:n.scope})}async trackEventTransactionFinalized(e,t,n){await this.#De(\"Transaction Finalized\",{message:\"Snap transaction finalized\",origin:n.origin,account_type:e.type,chain_id_caip:t.chain,transaction_status:t.status,transaction_type:t.type})}async trackEventTransactionRejected(e,t){await this.#De(\"Transaction Rejected\",{message:\"Snap transaction rejected\",origin:t.origin,account_type:e.type,chain_id_caip:t.scope})}async trackEventSecurityAlertDetected(e,t,n,r,o,i){await this.#De(\"Security Alert Detected\",{message:\"Snap security alert detected\",origin:t,account_type:e.type,chain_id_caip:n,security_alert_response:r,security_alert_reason:o,security_alert_description:i})}async trackEventSecurityScanCompleted(e,t,n,r,o){await this.#De(\"Security Scan Completed\",{message:\"Snap security scan completed\",origin:t,account_type:e.type,chain_id_caip:n,scan_status:r,has_security_alerts:o})}async trackEventWebSocketConnectionClosedNotCleanly(e,t,n){await this.#De(\"WebSocket Connection Closed Not Cleanly\",{message:\"Snap WebSocket connection closed not cleanly\",origin:e,code:t,reason:n})}}(vd),UE=new class{#_;#N;#Le={fetchMint:Bv.Minute,fetchJsonParsedAccount:Bv.Minute};#Fe=new Map;constructor(e,t){this.#_=e,this.#N=t}#$e(e){const t=this.#_.getNetworkBy(\"caip2Id\",e),n=Kb(oS(t.rpcUrls));return this.#Fe.set(e,n),n}getRpc(e){return z(e,Ld),this.#Fe.get(e)??this.#$e(e)}async fetchJsonParsedAccount(e,t,n){const r=Ad((async(e,t,n)=>async function(e,t,n={}){const{abortSignal:r,...o}=n,{value:i}=await e.getAccountInfo(t,{...o,encoding:\"jsonParsed\"}).send({abortSignal:r});return i&&\"object\"==typeof i&&\"parsed\"in i.data?Bh(t,i):Nh(t,i)}(this.getRpc(t),yc(e),n)),this.#N,{ttlMilliseconds:this.#Le.fetchJsonParsedAccount,functionName:\"SolanaConnection::fetchJsonParsedAccount\"});return r(e,t,n)}async fetchMint(e,t,n){return Ad((async(r,o,i)=>Qh(this.getRpc(t),yc(e),n)),this.#N,{ttlMilliseconds:this.#Le.fetchMint,functionName:\"SolanaConnection::fetchMint\"})(yc(e),t,n)}async getLatestBlockhash(e){return(await this.getRpc(e).getLatestBlockhash().send()).value}}(PE,OE),jE=new class{#_;constructor(e){this.#_=e}async getAll(){return(await snap.request({method:\"snap_getWebSockets\"})).map((e=>({...e,network:this.#qe(e.url)})))}async getById(e){return(await this.getAll()).find((t=>t.id===e))??null}async findByNetwork(e){return(await this.getAll()).find((t=>t.network===e))??null}async save(e){const{url:t,protocols:n}=e,r=await snap.request({method:\"snap_openWebSocket\",params:{url:t,...n?{protocols:n}:{}}});return{...e,id:r}}async delete(e){await snap.request({method:\"snap_closeWebSocket\",params:{id:e}})}#qe(e){const t=this.#_.getNetworkBy(\"webSocketUrl\",e);if(!t)throw new Error(`No network found for WebSocket URL: ${e}`);return t.caip2Id}}(PE),DE=new class{#We;#Ve;#_;#ze;#ge;#i;#Ke;#Ge;#He=new Map;#Ze=new Map;#Je;#Ye=\"webSocketConnections\";constructor(e,t,n,r,o,i){const{maxReconnectAttempts:a,reconnectDelayMilliseconds:s,closeConnectionsGracePeriodMilliseconds:c}=n.get().subscriptions;this.#We=e,this.#Ve=t,this.#_=n,this.#ze=r,this.#ge=o,this.#i=yd(i,\"[ WebSocketConnectionService]\"),this.#Ke=a,this.#Ge=s,this.#Je=c,this.#te()}#te(){const e=this.#Qe.bind(this),t=this.#Xe.bind(this),n=this.#ye.bind(this),r=this.#et.bind(this),o=this.#ve.bind(this);this.#ge.on(\"onStart\",e),this.#ge.on(\"onUpdate\",e),this.#ge.on(\"onInstall\",e),this.#ge.on(\"onActive\",t),this.#ge.on(\"onInactive\",n),this.#ge.on(\"onWebSocketEvent\",o),this.#ge.on(\"onListWebSockets\",r)}async#Qe(){this.#i.log(\"Setting up connections\");const{active:e}=await async function(){return await snap.request({method:\"snap_getClientStatus\"})}();e?await this.#tt():await this.closeAllConnections()}async#tt(){this.#i.log(\"Opening connections for active networks\");const e=await this.#_.getActiveNetworks();this.#Ze.clear(),await Promise.allSettled(e.map((async e=>{await this.openConnection(e)})))}async openConnection(e){this.#i.log(`Opening connection for network ${e}`);const t=this.#_.getNetworkBy(\"caip2Id\",e),{webSocketUrl:n}=t;await this.#We.findByNetwork(e)?this.#i.log(` Connection for network ${e} already exists`):await this.#We.save({network:e,url:n,protocols:[]})}async closeAllConnections(){this.#i.log(\"Closing all connections\");const e=await this.#We.getAll();await Promise.allSettled(e.map(this.#nt.bind(this))),await this.#ze.setKey(`${this.#Ye}.closeWebSocketConnectionsBackgroundEventId`,null)}async#nt(e){this.#i.log(`Closing connection for network ${e.network}`),await this.#We.delete(e.id)}onConnectionRecovery(e,t){const n=this.#He.get(e)??[];this.#He.set(e,[...n,t])}async findByNetwork(e){return await this.#We.findByNetwork(e)??null}async findById(e){return this.#We.getById(e)}async#ve(e){if(\"open\"!==e.type&&\"close\"!==e.type)return;const{id:t,type:n}=e;switch(this.#i.log(`Handling connection event \"${n}\" for ${t}`,e),n){case\"open\":await this.#rt(e);break;case\"close\":await this.#ot(e);break;default:this.#i.warn(`Unknown connection event type: ${n}`)}}async#rt(e){const{id:t}=e,n=await this.#We.getById(t);if(!n)return void this.#i.warn(`No connection found with id: ${t}`);this.#i.log(` Connected to ${t}`,e);const{network:r}=n;this.#Ze.delete(r);const o=this.#He.get(r)??[];this.#i.log(`Triggering ${o.length} connection recovery handlers`,r);const i=o.map((async e=>{try{await e(r)}catch(e){this.#i.error(\"Error in connection recovery handler\",e)}}))??[];await Promise.allSettled(i)}async#ot(e){const{wasClean:t,origin:n,code:r,reason:o}=e;if(t)return void this.#i.log(\" Connection closed cleanly\",e);const{networks:i}=this.#_.get(),a=i.find((e=>e.webSocketUrl.startsWith(n)));a?(await this.#Ve.trackEventWebSocketConnectionClosedNotCleanly(n,r,o),await this.#it(a.caip2Id)):this.#i.warn(\"No network found for origin\",n)}async#it(e){const t=this.#Ze.get(e)??0,n=t+1;if(this.#Ze.set(e,n),n>this.#Ke)return void this.#i.error(` Failed to reconnect to ${e} after ${this.#Ke}/${this.#Ke} attempts. Giving up.`);const r=this.#Ge*Math.pow(2,t);this.#i.warn(` Disconnected from ${e}. Will try reconnecting in ${r}ms (attempt ${n}/${this.#Ke})`),await new Promise((t=>{setTimeout((()=>{this.openConnection(e).catch((t=>{this.#i.info(`Error opening connection for ${e}`,t)})).finally((()=>t()))}),r)}))}async#et(){const e=await this.#We.getAll();this.#i.log(\"All connections\",{connections:e,connectionRecoveryHandlers:this.#He})}async#Xe(){this.#i.log(\"Client became active\"),await this.#at(),await this.#tt()}async#ye(){this.#i.log(\"Client became inactive\"),await this.#at();const e=Math.floor(this.#Je/1e3),t=await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:`PT${e}S`,request:{method:\"closeWebSocketConnections\"}}});await this.#ze.setKey(`${this.#Ye}.closeWebSocketConnectionsBackgroundEventId`,t),this.#i.log(`Scheduled background event to close connections after ${e}s`,t)}async#at(){try{const e=await this.#ze.getKey(`${this.#Ye}.closeWebSocketConnectionsBackgroundEventId`);if(!e)return;await snap.request({method:\"snap_cancelBackgroundEvent\",params:{id:e}}),this.#i.log(\" Cancelled background event to close connections\",e)}catch(e){this.#i.warn(\"Failed to cancel background event\",e)}finally{await this.#ze.setKey(`${this.#Ye}.closeWebSocketConnectionsBackgroundEventId`,null)}}}(jE,zE,PE,BE,NE,vd),LE=new class{#ze;#Ye=\"subscriptions\";constructor(e){this.#ze=e}async getAll(){const e=await this.#ze.getKey(`${this.#Ye}`);return Object.values(e??{})}async getById(e){return await this.#ze.getKey(`${this.#Ye}.${e}`)}async save(e){await this.#ze.setKey(`${this.#Ye}.${e.id}`,e)}async delete(e){await this.#ze.deleteKey(`${this.#Ye}.${e}`)}async deleteMany(e){const t=e.map((e=>`${this.#Ye}.${e}`));await this.#ze.deleteKeys(t)}async update(e){await this.#ze.setKey(`${this.#Ye}.${e.id}`,e)}async findBy(e,t){const n=await this.getAll();if(0!==n.length)return n.find((n=>e in n&&n[e]===t))}async clear(){await this.#ze.deleteKey(`${this.#Ye}`)}}(BE),FE=new Zw(DE,LE,NE,vd),$E=new class{#x;constructor(e){this.#x=e}async uiAmountToAmountForMint(e,t,n){const r=await this.#x.fetchMint(e,t);return this.#st(r,n)}async amountToUiAmountForMint(e,t,n){const r=await this.#x.fetchMint(e,t);return this.#ct(r,n)}#st(e,t){try{const o=(n=e.data?.extensions,Mf(n)?n.value:r?r():null),{decimals:i}=e.data??{},a=o?.find((e=>\"InterestBearingConfig\"===e.__kind)),s=o?.find((e=>\"ScaledUiAmountConfig\"===e.__kind));if(!a&&!s)return Iu(BigInt(Vo(t).multipliedBy(10**i).toString()));const c=Date.now()/1e3;if(a){return Iu(Kg(t,i,Number(c),Number(a.lastUpdateTimestamp),Number(a.initializationTimestamp),a.preUpdateAverageRate,a.currentRate))}if(s){let{multiplier:e}=s;c>=s.newMultiplierEffectiveTimestamp&&(e=s.newMultiplier);return Iu(Gg(t,i,e))}throw new Error(\"Unknown mint extension type\")}catch(n){const r=e?.data?.decimals??9;return Iu(BigInt(Vo(t).multipliedBy(10**r).toString()))}var n,r}#ct(e,t){try{const n=1000000000n,r=Vo(this.#st(e,n.toString()).toString()).dividedBy(n.toString());return Vo(t.toString()).dividedBy(r).toString()}catch(n){const r=e.data?.decimals??9;return Vo(t.toString()).dividedBy(10**r).toString()}}}(UE),qE=new Vw(UE,vd),WE=new class{#x;#i;#V=450;#K=10000n;constructor(e,t){this.#x=e,this.#i=t}async buildTransactionMessage(e){try{const{from:t,to:n,amount:r,network:o}=e,i=yc(t.address),a=BigInt(Um(r).toString()),s=await this.#x.getLatestBlockhash(o),c=xu(al({version:0}),(e=>hl(i,e)),(e=>Cu(s,e)),(e=>pl(function(e,t){const n=t?.programAddress??Hl,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},o={...e},i=Ql(n);return{accounts:[i(r.source),i(r.destination)],programAddress:n,data:ld().encode(o)}}({amount:a,destination:n,source:Ul(i)}),e)));return ml([Ef({units:this.#V}),_f({microLamports:this.#K})],c)}catch(e){throw this.#i.error({error:e},\"Error building transaction message\"),e}}getComputeUnitLimit(){return this.#V}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#K}}(UE,vd),VE=new class{#x;#i;constructor(e,t){this.#x=e,this.#i=yd(t,\"[ RecipientClassifier]\")}async classify(e,t){this.#i.info(\"Classifying recipient\",{recipientAddress:e,network:t});const n=await this.#x.fetchJsonParsedAccount(e,t);try{Uh(n)}catch(e){return{type:\"SYSTEM\"}}const{programAddress:r}=n;if(r===Hl)return{type:\"SYSTEM\"};const o=(0,Qd.get)(n,\"data.mint\"),i=(0,Qd.get)(n,\"data.owner\");return(r===Gf||r===tp)&&o&&i?{type:\"TOKEN_ACCOUNT\",mint:o}:{type:\"UNSUPPORTED\"}}}(UE,vd),KE=new Ww($E,VE,UE,vd),GE=new class{#o;#i;#a;#s;#N;cacheTtlsMilliseconds;constructor(e,t,n=globalThis.fetch,r=vd){const{baseUrl:o,chunkSize:i,cacheTtlsMilliseconds:a}=e.get().priceApi;z(o,Bd),this.#o=n,this.#i=r,this.#a=o,this.#s=i,this.cacheTtlsMilliseconds=a,this.#N=t}async getFiatExchangeRates(){return Ad(this.#ut.bind(this),this.#N,{functionName:\"PriceApiClient:getFiatExchangeRates\",ttlMilliseconds:this.cacheTtlsMilliseconds.fiatExchangeRates})()}async#ut(){try{const e=await this.#o(`${this.#a}/v1/exchange-rates/fiat`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw this.#i.error(e,\"Error fetching fiat exchange rates\"),e}}async#lt(e,t=\"usd\"){try{if(z(e,G(ri)),z(t,nf),0===e.length)return{};const n=[...new Set(e)],r=[];for(let e=0;e<n.length;e+=this.#s)r.push(n.slice(e,e+this.#s));const o=await Promise.all(r.map((async e=>{const n=Yd({baseUrl:this.#a,path:\"/v3/spot-prices\",queryParams:{vsCurrency:t,assetIds:e.join(\",\"),includeMarketData:\"true\"}}),r=await this.#o(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();return z(o,tf),o}))),i=o.reduce(((e,t)=>({...e,...t})),{});return await this.#N.mset(e.map((e=>({key:`PriceApiClient:getMultipleSpotPrices:${e}:${t}`,value:i[e],ttlMilliseconds:this.cacheTtlsMilliseconds.spotPrices})))),i}catch(e){throw this.#i.error(e,\"Error fetching spot prices\"),e}}async#dt(e,t=\"usd\"){const n=[...new Set(e)],r=\"PriceApiClient:getMultipleSpotPrices\",o=e=>`${r}:${e}:${t}`,i=await this.#N.mget(n.map(o)),a=(0,Qd.mapKeys)(i,((e,t)=>(e=>{const t=new RegExp(`^${r}:(.+):(.+)$`,\"u\"),n=e.match(t);if(!n)throw new Error(\"Invalid cache key\");return n})(t)[1])),s=n.filter((e=>void 0===a[e]));if(0===s.length)return a;const c=await this.#lt(s,t);return await this.#N.mset(Object.entries(c).map((([e,t])=>({key:o(e),value:t,ttlMilliseconds:this.cacheTtlsMilliseconds.spotPrices})))),{...a,...c}}async getMultipleSpotPrices(e,t=\"usd\"){return this.#dt(e,t)}async#ft(e){z(e,rf);const t=Yd({baseUrl:this.#a,path:\"/v3/historical-prices/{assetType}\",pathParams:{assetType:e.assetType},encodePathParams:!1,queryParams:{...e.timePeriod&&{timePeriod:e.timePeriod},...e.from&&{from:e.from.toString()},...e.to&&{to:e.to.toString()},...e.vsCurrency&&{vsCurrency:e.vsCurrency}}}),n=await this.#o(t),r=await n.json();return z(r,of),r}async getHistoricalPrices(e){return Ad(this.#ft.bind(this),this.#N,{functionName:\"PriceApiClient:getHistoricalPrices\",ttlMilliseconds:this.cacheTtlsMilliseconds.historicalPrices})(e)}}(PE,OE),HE=new hf(PE),ZE=new class{#o;#i;#a;#N;#Le;constructor(e,t,n=globalThis.fetch,r=vd){const{baseUrl:o,cacheTtlsMilliseconds:i}=e.get().nftApi;z(o,Bd),this.#o=n,this.#i=r,this.#a=o,this.#Le=i,this.#N=t}#ht(e){return{cursor:e.cursor,error:e.error,items:e.items.map((e=>({chain:e.chain,address:e.address,tokenAddress:e.token_address,tokenId:e.token_id,balance:e.balance,acquiredAt:e.acquired_at,isSpam:e.isSpam,nftToken:this.#pt(e.nft_token)})))}}async#gt(e){let t,n=[];do{const r=Yd({baseUrl:this.#a,path:`/users/${e}/solana-tokens`,queryParams:t?{cursor:t}:void 0}),o=await this.#o(r,{headers:{\"Content-Type\":\"application/json\",accept:\"application/json\",version:\"1\"}}),i=await o.json(),a=this.#ht(i);n=[...n,...a.items],t=a.cursor??void 0}while(t);return n}async listAddressSolanaNfts(e){return Ad(this.#gt.bind(this),this.#N,{functionName:\"NftApiClient:listAddressSolanaNfts\",ttlMilliseconds:this.#Le.listAddressSolanaNfts})(e)}#pt(e){return{address:e.address,tokenId:e.token_id,tokenStandard:e.token_standard,name:e.name,description:e.description,metadata:e.metadata,imageUrl:e.image_url,mediaUrl:e.media_url,externalUrl:e.external_url,attributes:e.attributes.map((e=>({key:e.key,value:e.value}))),tokenAccountAddress:e.token_account_address,creators:e.creators.map((e=>({address:e.address,share:e.share,verified:e.verified}))),collectionName:e.collection_name,collectionSymbol:e.collection_symbol,collectionCount:e.collection_count,collectionImageUrl:e.collection_image_url,onchainCollectionAddress:e.onchain_collection_address,floorPrice:e.floor_price?{asset:{type:e.floor_price.asset.type,name:e.floor_price.asset.name,symbol:e.floor_price.asset.symbol,decimals:e.floor_price.asset.decimals,tokenId:e.floor_price.asset.token_id},amount:{rawAmount:e.floor_price.amount.raw_amount,amount:e.floor_price.amount.amount}}:null,lastSalePrice:e.last_sale_price?{asset:{type:e.last_sale_price.asset.type,name:e.last_sale_price.asset.name,symbol:e.last_sale_price.asset.symbol,decimals:e.last_sale_price.asset.decimals,tokenId:e.last_sale_price.asset.token_id},amount:{rawAmount:e.last_sale_price.amount.raw_amount,amount:e.last_sale_price.amount.amount}}:null,rarity:e.rarity?{ranking:{source:e.rarity.ranking.source,value:e.rarity.ranking.value},metadata:{howrare:{rank:e.rarity.metadata.howrare.rank},moonrank:{rank:e.rarity.metadata.moonrank.rank}}}:null}}async#mt(e){try{const t=Yd({baseUrl:this.#a,path:`/nfts/contracts/solana/${e}/1`}),n=await this.#o(t,{headers:{\"Content-Type\":\"application/json\",accept:\"application/json\",version:\"1\"}}),r=await n.json();return this.#pt(r)}catch(e){return null}}async getNftMetadata(e){return Ad(this.#mt.bind(this),this.#N,{functionName:\"NftApiClient:getNftMetadata\",ttlMilliseconds:this.#Le.getNftMetadata})(e)}async getNftsMetadata(e){return await Promise.all(e.map((async e=>this.getNftMetadata(e))))}}(PE,OE),JE=new class{#yt;#i;cacheTtlsMilliseconds;constructor({configProvider:e,priceApiClient:t,logger:n}){this.#yt=t,this.#i=n;const{cacheTtlsMilliseconds:r}=e.get().priceApi;this.cacheTtlsMilliseconds=r}#vt(e){if(!_E(e))throw new Error(\"Passed caipAssetType is not a fiat asset\");return ii(e).assetReference.toLowerCase()}async#wt(e){const t=e.filter((e=>!_E(e))),[n,r]=await Promise.all([this.#yt.getFiatExchangeRates(),this.#yt.getMultipleSpotPrices(t,\"usd\")]);return{fiatExchangeRates:n,cryptoPrices:r}}async getMultipleTokenConversions(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.from,e.to])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#wt(t),o={};return e.forEach((e=>{const{from:t,to:i}=e;let a,s;if(o[t]||(o[t]={}),_E(t)){const e=n[this.#vt(t)]?.value;if(!e)return void(o[t][i]=null);a=new Vo(1).dividedBy(e)}else a=new Vo(r[t]?.price??0);if(_E(i)){const e=n[this.#vt(i)]?.value;if(!e)return void(o[t][i]=null);s=new Vo(1).dividedBy(e)}else s=new Vo(r[i]?.price??0);if(a.isZero()||s.isZero())return void(o[t][i]=null);const c=a.dividedBy(s).toString(),u=Date.now();o[t][i]={rate:c,conversionTime:u,expirationTime:u+this.cacheTtlsMilliseconds.historicalPrices}})),o}#At(e,t){const n=(0,Qd.pick)(e,[\"marketCap\",\"totalVolume\",\"circulatingSupply\",\"allTimeHigh\",\"allTimeLow\",\"pricePercentChange1h\",\"pricePercentChange1d\",\"pricePercentChange7d\",\"pricePercentChange14d\",\"pricePercentChange30d\",\"pricePercentChange200d\",\"pricePercentChange1y\"]),r=e=>null==e?\"\":new Vo(e).dividedBy(t).toString(),o=(e,t)=>null==t?{}:{[e]:t},i={...o(\"PT1H\",n.pricePercentChange1h),...o(\"P1D\",n.pricePercentChange1d),...o(\"P7D\",n.pricePercentChange7d),...o(\"P14D\",n.pricePercentChange14d),...o(\"P30D\",n.pricePercentChange30d),...o(\"P200D\",n.pricePercentChange200d),...o(\"P1Y\",n.pricePercentChange1y)};return{fungible:!0,marketCap:r(n.marketCap),totalVolume:r(n.totalVolume),circulatingSupply:(n.circulatingSupply??0).toString(),allTimeHigh:r(n.allTimeHigh),allTimeLow:r(n.allTimeLow),...Object.keys(i).length>0?{pricePercentChange:i}:{}}}async getMultipleTokensMarketData(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.asset,e.unit])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#wt(t),o={};return e.forEach((e=>{const{asset:t,unit:i}=e;if(!r[t])return;let a;if(_E(i)){const e=n[this.#vt(i)]?.value;if(!e)return;a=new Vo(1).dividedBy(e)}else a=new Vo(r[i]?.price??0);a.isZero()||(o[t]||(o[t]={}),o[t][i]=this.#At(r[t],a))})),o}async getHistoricalPrice(e,t){z(e,gt),z(t,gt);const n=ii(t).assetReference.toLowerCase();z(n,nf);const r=[\"1d\",\"7d\",\"1m\",\"3m\",\"1y\",\"1000y\"].map((async r=>this.#yt.getHistoricalPrices({assetType:e,timePeriod:r,vsCurrency:n}).then((e=>({timePeriod:r,response:e}))).catch((n=>(this.#i.warn(`Error fetching historical prices for ${e} to ${t} with time period ${r}. Returning null object.`,n),{timePeriod:r,response:af}))))),o=(await Promise.all(r)).reduce(((e,{timePeriod:t,response:n})=>(e[`P${t.toUpperCase()}`]=n.prices.map((e=>[e[0],e[1].toString()])),e)),{}),i=Date.now();return{intervals:o,updateTime:i,expirationTime:i+this.cacheTtlsMilliseconds.historicalPrices}}}({configProvider:PE,priceApiClient:GE,logger:vd}),YE=new class{#x;#i;tld=\".sol\";constructor(e,t){this.#x=e,this.#i=t}async resolveDomain(e,t){const n=this.#x.getRpc(e);return xE(n,t)}async resolveAddress(e,t){try{const n=this.#x.getRpc(e);return`${(await(async(e,t)=>{const n=await HS.getAddress(\"85iDfUvr3HJyLM2zcq5BXSiDvUWfw6cSE1FfNBo8Ap29\",t),r=await HS.retrieve(e,n),[o,i]=await Promise.all([jS.retrieve(e,r.nameAccount),GS(e,r.nameAccount)]),a=i||o.owner,s=o.parentName!==DS,c=[ZS(e,r.nameAccount,s?o.parentName:void 0)];s&&c.push(ZS(e,o.parentName));const u=(await Promise.all(c)).join(\".\");return{domainAddress:r.nameAccount,domainName:u,stale:t!==a}})(n,yc(t))).domainName}.sol`}catch(e){return this.#i.error(\"Error resolving address\",e),null}}}(UE,vd),QE=new class{#ze;constructor(e){this.#ze=e}async findByKeyringAccountId(e){return await this.#ze.getKey(`assetEntities.${e}`)??[]}async getAll(){const e=await this.#ze.getKey(\"assetEntities\")??{};return Object.values(e).flat()}async saveMany(e){await this.#ze.update((t=>{const n=(0,Qd.cloneDeep)(t);for(const t of e){const{keyringAccountId:e}=t,r=(0,Qd.cloneDeep)(n.assetEntities[e]??[]),o=r.findIndex((e=>e.assetType===t.assetType&&e.keyringAccountId===t.keyringAccountId));-1===o?r.push(t):r[o]=t,n.assetEntities[e]=r}return n}))}}(BE),XE=new Uw({connection:UE,logger:vd,configProvider:PE,assetsRepository:QE,tokenApiClient:HE,cache:OE,tokenPricesService:JE,nftApiClient:ZE}),ek=new class{#ze;constructor(e){this.#ze=e}async getAll(){const e=await this.#ze.getKey(\"keyringAccounts\");return Object.values(e??{})}async findById(e){return await this.#ze.getKey(`keyringAccounts.${e}`)??null}async findByAddress(e){return(await this.getAll()).find((t=>t.address===e))??null}async save(e){await this.#ze.setKey(`keyringAccounts.${e.id}`,e)}async delete(e){await this.#ze.deleteKey(`keyringAccounts.${e}`)}}(BE),tk=new class{#bt;constructor(e){this.#bt=e}async getAll(){return this.#bt.getAll()}async getAllSelected(){const[e,t]=await Promise.all([this.#bt.getAll(),zn(snap)]);return e.filter((e=>t.includes(e.id)))}async findById(e){return this.#bt.findById(e)}async findByAddress(e){return this.#bt.findByAddress(e)}async save(e){return this.#bt.save(e)}async delete(e){return this.#bt.delete(e)}}(ek),nk=new class{#ze;#Ye=\"transactions\";constructor(e){this.#ze=e}async getAll(){const e=await this.#ze.getKey(this.#Ye);return Object.values(e??{}).flat()}async findByAccountId(e){return await this.#ze.getKey(`${this.#Ye}.${e}`)??[]}async save(e){await this.saveMany([e])}async saveMany(e){await this.#ze.update((t=>{const n=t[this.#Ye];return e.forEach((e=>{const r=e.id,o=e.account,i=n[o]??[],a=i.findIndex((e=>e.id===r));-1!==a&&(i[a]=e);const s=(0,Qd.chain)([...i,e]).uniqBy(\"id\").sortBy((e=>-(e.timestamp??0))).value();t[this.#Ye][o]=s})),t}))}}(BE),rk=new class{#q;#Y;#i;constructor(e,t,n){this.#q=e,this.#Y=t,this.#i=n}async mapRpcTransaction(e,t,n,r){try{const{blockTime:o}=e,{id:i,address:a}=t,s=e.transaction.signatures[0];if(!s)throw new Error(\"Transaction ID is required\");const c=Number(o),u=this.#St(e);let l=[],d=[],f=[];const h=(u===Ut.Failed?this.#Et.bind(this):this.#kt.bind(this))({scope:n,transactionData:e});l=h.fees,d=h.from,f=h.to;const{from:p,to:g}=await this.#Tt({scope:n,transactionData:e});let m=[...p,...d],y=[...g,...f];const v=this.#It({address:yc(a),status:u,from:m,to:y});v===jt.Swap&&(m=m.filter((e=>e.address===a)),y=y.filter((e=>e.address===a))),v===jt.Receive&&(y=y.filter((e=>e.address===a)),l=[]);const w=[...new Set([...m,...y].filter((e=>e.asset?.fungible)).map((e=>e.asset.type)))],A=r??await this.#Y.getAssetsMetadata(w);return m.forEach((e=>{e.asset?.fungible&&A[e.asset.type]&&(e.asset.unit=A[e.asset.type]?.symbol??\"UNKNOWN\")})),y.forEach((e=>{e.asset?.fungible&&A[e.asset.type]&&(e.asset.unit=A[e.asset.type]?.symbol??\"UNKNOWN\")})),{id:s,account:i,timestamp:c,chain:n,status:u,type:v,from:m,to:y,fees:l,events:[{status:u,timestamp:c}]}}catch(e){return this.#i.warn(e,\"Error mapping transaction\"),null}}#St(e){return e.meta?.err||e.meta?.status&&\"Err\"in e.meta.status?Ut.Failed:Ut.Confirmed}#It({address:e,status:t,from:n,to:r}){if(0===n.length||0===r.length||t===Ut.Failed)return jt.Unknown;const o=n.filter((t=>t.address===e)),i=r.filter((t=>t.address===e)),a=o.length>0,s=i.length>0,c=n.every((t=>r.some((n=>n.address===e&&!0===t.asset?.fungible&&!0===n.asset?.fungible&&t.asset.type===n.asset.type)))),u=r.every((t=>n.some((n=>n.address===e&&!0===n.asset?.fungible&&!0===t.asset?.fungible&&n.asset.type===t.asset.type))));return c&&u?jt.Send:a&&s?jt.Swap:a?jt.Send:jt.Receive}#kt({scope:e,transactionData:t}){const n=this.#xt({scope:e,transactionData:t}),r=[],o=[],i=new Map(t.meta?.preBalances?.map(((e,t)=>[t,new Vo(e.toString())]))??[]),a=new Map(t.meta?.postBalances?.map(((e,t)=>[t,new Vo(e.toString())]))??[]),s=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],c=new Set([...Array.from(i.keys()),...Array.from(a.keys())]);for(const n of c){const c=s[n]?.toString();if(!c)continue;const u=i.get(n)??new Vo(0),l=a.get(n)??new Vo(0),d=0===n?zm(t.meta?.fee??0):new Vo(0),f=u.minus(l).dividedBy(new Vo(Sd)).minus(d);if(f.isZero())continue;const h=f.absoluteValue().toString();u.isGreaterThan(l)&&r.push({address:c,asset:{fungible:!0,type:Rd[e].nativeToken.caip19Id,unit:Rd[e].nativeToken.symbol,amount:h}}),u.isLessThan(l)&&o.push({address:c,asset:{fungible:!0,type:Rd[e].nativeToken.caip19Id,unit:Rd[e].nativeToken.symbol,amount:h}})}const u=this.#_t({scope:e,transactionData:t});return u.from.length>0&&r.push(...u.from),u.to.length>0&&o.push(...u.to),{fees:n,from:r,to:o}}#Et({scope:e,transactionData:t}){const n=this.#xt({scope:e,transactionData:t}),r=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],o=[],i=[],{instructions:a}=t.transaction.message;a.forEach((t=>{const{accounts:n,data:a,programIdIndex:s}=t;if(r[s]!==Hl)return;const[c,u]=n;if(void 0===c||void 0===u)return;const l=r[c],d=r[u];if(!l||!d)return;const f=cf.decode(a);if(2!==this.#Ct(f))return;const h=this.#Rt(f);o.push({address:l,asset:{amount:h.toString(),fungible:!0,type:Rd[e].nativeToken.caip19Id,unit:Rd[e].nativeToken.symbol}}),i.push({address:d,asset:{amount:h.toString(),fungible:!0,type:Rd[e].nativeToken.caip19Id,unit:Rd[e].nativeToken.symbol}})}));return{fees:n,from:this.#Pt(o),to:this.#Pt(i)}}#_t({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===Hl));return-1===i||n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;const[u,l]=a;if(void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const h=this.#Rt(cf.decode(s));r.push({address:d,asset:{amount:h.toString(),fungible:!0,type:Rd[e].nativeToken.caip19Id,unit:Rd[e].nativeToken.symbol}}),o.push({address:f,asset:{amount:h.toString(),fungible:!0,type:Rd[e].nativeToken.caip19Id,unit:Rd[e].nativeToken.symbol}})})),{from:r,to:o}}async#Tt({scope:e,transactionData:t}){const n=[],r=[],o=new Map(t.meta?.preTokenBalances?.map((e=>[e.accountIndex,new Vo(e.uiTokenAmount.amount)]))??[]),i=new Map(t.meta?.postTokenBalances?.map((e=>[e.accountIndex,new Vo(e.uiTokenAmount.amount)]))??[]),a=new Set([...t.meta?.preTokenBalances?.map((e=>e.accountIndex))??[],...t.meta?.postTokenBalances?.map((e=>e.accountIndex))??[]]);for(const s of a){const a=o.get(s)??new Vo(0),c=(i.get(s)??new Vo(0)).minus(a);if(c.isZero())continue;const u=t.meta?.preTokenBalances?.find((e=>e.accountIndex===s))??t.meta?.postTokenBalances?.find((e=>e.accountIndex===s));if(!u)continue;const{mint:l,owner:d}=u;if(!d)continue;const f=zw(e,l),h=c.absoluteValue().toString(),p=(await this.#q.amountToUiAmountForMint(l,e,Iu(BigInt(h)))).toString();c.isNegative()&&n.push({address:d,asset:{fungible:!0,type:f,unit:\"\",amount:p}}),c.isPositive()&&r.push({address:d,asset:{fungible:!0,type:f,unit:\"\",amount:p}})}const s=this.#Nt({scope:e,transactionData:t});return s.from.length>0&&n.push(...s.from),s.to.length>0&&r.push(...s.to),{from:n,to:r}}#Nt({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[];return n.map((e=>vm(e,t))).map(ym).filter(this.#Bt.bind(this)).forEach((n=>{const i=(0,Qd.get)(n,\"parsed.accounts.authority.address\"),a=(0,Qd.get)(n,\"parsed.accounts.source.address\");if(!i||!a)return;const s=t.transaction.message.accountKeys.indexOf(yc(a)),{mint:c,uiTokenAmount:{decimals:u}={}}=t.meta?.preTokenBalances?.find((e=>e.accountIndex===s))??{};if(!c||void 0===u)return;const l=n.parsed?.data.amount,d=Vo(l).dividedBy(new Vo(10).pow(u)).toString(),f=zw(e,c);r.push({address:i,asset:{amount:d,fungible:!0,type:f,unit:\"\"}}),o.push({address:i,asset:{amount:d,fungible:!0,type:f,unit:\"\"}})})),{from:r,to:o}}#xt({scope:e,transactionData:t}){const n=this.#Mt(t),r=this.#Ot(t),o=n.minus(r),i=[{type:\"base\",asset:{fungible:!0,type:Rd[e].nativeToken.caip19Id,unit:Rd[e].nativeToken.symbol,amount:r.toString()}}];return o?.isGreaterThan(0)&&i.push({type:\"priority\",asset:{fungible:!0,type:Rd[e].nativeToken.caip19Id,unit:Rd[e].nativeToken.symbol,amount:o.toString()}}),i}#Mt(e){return new Vo(e.meta?.fee?.toString()??\"0\").dividedBy(Sd)}#Ot(e){const t=e.transaction.signatures.length;return Vo(5e3).dividedBy(Sd).multipliedBy(t)}#Pt(e){return e.reduce(((e,t)=>{const n=e.find((e=>!0===e?.asset?.fungible&&!0===t.asset?.fungible&&e.asset.type===t.asset.type&&e.address===t.address));if(n&&!0===n.asset?.fungible&&!0===t.asset?.fungible){const e=new Vo(n.asset.amount).plus(t.asset.amount);n.asset.amount=e.toString()}else e.push(t);return e}),[])}#Ct(e){let t=BigInt(0);for(let n=0;n<4;n++)t|=BigInt(e[n]??0)<<BigInt(8*n);return Number(t)}#Rt(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return Vo(t.toString()).dividedBy(Sd)}#Bt(e){if(\"Transfer\"!==e.type&&\"TransferChecked\"!==e.type)return!1;if(!e.parsed)return!1;const{source:t,destination:n,authority:r}=e.parsed.accounts??{};return!!(t&&n&&r)&&t.address===n.address}}($E,XE,vd),ok=new class{#zt;#Ut;#jt;#Y;#x;#i;constructor(e,t,n,r,o,i){this.#zt=e,this.#Ut=t,this.#jt=n,this.#Y=r,this.#x=o,this.#i=yd(i,\"[ TransactionsService]\")}async fetchBySignature(e,t,n){const r=await this.#x.getRpc(n).getTransaction(Dc(e),{maxSupportedTransactionVersion:0}).send();return r?this.#Ut.mapRpcTransaction(r,t,n):null}async fetchAssetsTransactions(e,t){const n=await this.#jt.getAll(),r=e.map((e=>e.assetType)),o=await this.#Y.getAssetsMetadata(r),i=await this.#zt.getAll(),a=(await Promise.all(e.map((async e=>{const{network:t}=e,n=\"pubkey\"in e?e.pubkey:e.address,r=await(async e=>{const{network:t}=e,n=\"mint\"in e?e.mint:e.address,r=i.sort(((e,t)=>(t.timestamp??0)-(e.timestamp??0))).find((e=>e.from.some((e=>zw(t,n)===(0,Qd.get)(e,\"asset.type\")))||e.to.some((e=>zw(t,n)===(0,Qd.get)(e,\"asset.type\")))));return r||null})(e),o=r?Dc(r?.id):void 0;return(await this.#x.getRpc(t).getSignaturesForAddress(yc(n),{limit:5,...o?{until:o}:{}}).send()).map((t=>({signatureResponse:{signature:t.signature,blockTime:Number(t.blockTime??0)},asset:e})))})))).flat(),s=t?.limit?a.sort(((e,t)=>(t.signatureResponse.blockTime??0)-(e.signatureResponse.blockTime??0))).slice(0,t.limit):a,c=(await Promise.all(s.map((async e=>{try{const{signatureResponse:t,asset:n}=e;return{transaction:await this.#x.getRpc(n.network).getTransaction(Dc(t.signature),{maxSupportedTransactionVersion:0}).send(),asset:n}}catch(e){return null}})))).filter((e=>null!==e)),u=e=>n.find((t=>t.id===e));return(await Promise.all(c.map((async e=>{const{transaction:t,asset:n}=e;if(!t)return null;const r=u(n.keyringAccountId);return r?this.#Ut.mapRpcTransaction(t,r,n.network,o):null})))).filter((e=>null!==e)).filter((e=>{const t=u(e.account);return!!t&&!Gw(e,t)}))}async fetchLatestSignatures(e,t,n){return(await this.#x.getRpc(e).getSignaturesForAddress(t,n).send()).map((({signature:e})=>e))}async findByAccounts(e){return(await Promise.all(e.map((async e=>this.#zt.findByAccountId(e.id))))).flat()}async save(e){await this.saveMany([e])}async saveMany(e){await this.#zt.saveMany(e);const t=(0,Qd.groupBy)(e,\"account\");await On(snap,Rn.AccountTransactionsUpdated,{transactions:t})}}(nk,rk,tk,XE,UE,vd),ik=new class{#jt;#Y;#Q;#i;constructor(e,t,n,r){this.#jt=e,this.#Y=t,this.#Q=n,this.#i=yd(r,\"[ AccountsSynchronizer]\")}async synchronize(e){const t=e??await this.#jt.getAll();this.#i.info(\"Synchronizing accounts\",t);const n=(await Promise.allSettled(t.map((async e=>this.#Y.fetch(e))))).map((e=>\"fulfilled\"===e.status?e.value:[])).flat();await this.#Y.saveMany(n);const r=await this.#Q.fetchAssetsTransactions(n,{limit:20});await this.#Q.saveMany(r)}}(tk,XE,ok,vd),ak=new class{#Dt;#i;#Ve;constructor(e,t,n){this.#Dt=e,this.#Ve=t,this.#i=n}async scanTransaction({method:e,accountAddress:t,transaction:n,scope:r,origin:o,options:i=[\"simulation\",\"validation\"],account:a}){try{const s=await this.#Dt.scanTransactions({method:e,accountAddress:t,transactions:[n],scope:r,origin:o===Ed?\"https://metamask.io\":o,options:i}),c=this.#Lt(s);if(!c?.status)return this.#i.warn(\"Invalid scan result received from security alerts API\"),a&&await this.#Ve.trackEventSecurityScanCompleted(a,o,r,RE.ERROR,!1),null;if(a){const e=Object.values(RE).includes(c.status)?c.status:RE.ERROR,t=Boolean(c.validation?.type&&c.validation.type!==CE.Benign),n=[this.#Ve.trackEventSecurityScanCompleted(a,o,r,e,t)];if(t){const e=Object.values(CE).includes(c.validation.type)?c.validation.type:CE.Warning;n.push(this.#Ve.trackEventSecurityAlertDetected(a,o,r,e,c.validation.reason??\"unknown\",this.#Ft(c.validation)))}await Promise.all(n)}if(!c?.estimatedChanges?.assets)return null;const u={...c},l=c.estimatedChanges.assets.map((async(e,t)=>{const{logo:n}=e;if(n)return Uw.generateImageComponent(n,16,16).then((e=>{e&&u?.estimatedChanges?.assets?.[t]&&(u.estimatedChanges.assets[t].imageSvg=e)})).catch((()=>null))}));return await Promise.all(l??[]),u}catch(e){return this.#i.error(e),a&&await this.#Ve.trackEventSecurityScanCompleted(a,o,r,RE.ERROR,!1),null}}#Ft(e){if(!e?.reason)return\"Security alert: Unknown reason\";return{unfair_trade:\"Unfair trade of assets, without adequate compensation to the owner's account\",transfer_farming:\"Substantial transfer of the account's assets to untrusted entities\",writable_accounts_farming:\"Transaction exposes unused writable account, can be utilized in BIT-FLIP attacks patterns\",native_ownership_change:\"The account transferred ownership of its native SOL to untrusted entities\",spl_token_ownership_change:\"The account transferred ownership of its SPL tokens to untrusted entities\",exposure_farming:\"The account delegates ownership, thereby exposing its assets to untrusted spenders\",known_attacker:\"A known attacker's account is involved in the transaction\",invalid_signature:\"One of the transactions provided contains non valid signatures, that can lead misleading simulation results\",honeypot:\"The account invests funds in a token that is part of an orchestrated honeypot scheme\",other:\"The transaction was marked as malicious for other reason, further details would be described in features field\"}[e.reason]??`Security alert: ${e.reason}`}#Lt(e){return e?{status:\"SUCCESS\"===e.status||\"ERROR\"===e.status?e.status:\"ERROR\",estimatedChanges:{assets:e.result?.simulation?.account_summary?.account_assets_diff?.map((e=>({type:e.in?\"in\":\"out\",symbol:\"symbol\"in e.asset?e.asset.symbol:e.asset_type,name:\"name\"in e.asset?e.asset.name:e.asset_type,logo:\"logo\"in e.asset?e.asset.logo:null,value:e.in?.value??e.out?.value??null,price:e.in?.usd_price??e.out?.usd_price??null,imageSvg:null})))??[]},validation:{type:e.result?.validation?.result_type??null,reason:e.result?.validation?.reason??null},error:e?.error_details?{type:\"type\"in e.error_details?e.error_details.type:null,code:\"code\"in e.error_details?e.error_details.code:null}:null}:null}}(new class{#o;#i;#a;constructor(e,t=globalThis.fetch,n=vd){const{baseUrl:r}=e.get().securityAlertsApi;this.#o=t,this.#i=n,this.#a=r}async scanTransactions({method:e,accountAddress:t,transactions:n,scope:r,origin:o,options:i}){const a=uf.from(cf.decode(t)).toString(\"base64\");this.#i.info(\"Scanning transaction\");return(await this.#o(`${this.#a}/solana/message/scan`,{headers:{\"Content-Type\":\"application/json\",accept:\"application/json\"},method:\"POST\",body:JSON.stringify({method:e,encoding:\"base64\",account_address:a,metadata:{url:o},chain:lf[r],transactions:n,options:i})})).json()}}(PE),zE,vd),sk=new class{async handleKeyringRequest(e,t){const{request:{method:n}}=e;switch(n){case Xt.SignAndSendTransaction:case Xt.SignTransaction:return this.#$t(e,t);case Xt.SignMessage:return this.#qt(e,t);case Xt.SignIn:return this.#Wt(e,t);default:throw new Error(`Unsupported method: ${n}`)}}async#$t(e,t){z(e.request,se([jy,Fy]));const{request:{method:n,params:{transaction:r}},scope:o,account:i,origin:a}=e;await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:ib.OnTransactionAdded,params:{accountId:i,metadata:{scope:o,origin:a}}}}});return await ob({...rb,scope:o,method:n,origin:e.origin,transaction:r,account:t})?(await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:ib.OnTransactionApproved,params:{accountId:i,metadata:{scope:o,origin:a}}}}}),!0):(await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:ib.OnTransactionRejected,params:{accountId:i,metadata:{scope:o,origin:a}}}}}),!1)}async#qt(e,t){const n=await async function(e,t){z(e.request,Ly);const{request:{params:{message:n}},scope:r,origin:o}=e,i=ac().encode(n),a=dc().decode(i),[s,c]=await Promise.all([xv().then((e=>e.locale)).catch((()=>vA)),YE.resolveAddress(r,t.address)]);return Iv(await Ev(Jw(FA,{message:a,account:t,accountDomain:c,scope:r,locale:s,networkImage:Qw,origin:o}),{}))}(e,t);return Boolean(n)}async#Wt(e,t){const n=await async function(e,t){z(e.request,Dy);const{request:{params:n},scope:r,origin:o}=e,[i,a]=await Promise.all([xv(),YE.resolveAddress(r,t.address)]);return Iv(await Ev(Jw(jA,{params:n,account:t,accountDomain:a,scope:r,preferences:i,networkImage:Qw,origin:o}),{}))}(e,t);return Boolean(n)}},ck=new class{#Z;#J;#Q;#Ve;#x;#_;#i;#Vt=new Map;#Kt=10*Bv.Minute;constructor(e,t,n,r,o,i,a){this.#Z=e,this.#J=t,this.#Q=n,this.#Ve=r,this.#x=o,this.#_=i,this.#i=yd(a,\"[ SignatureMonitor]\"),this.#te()}#te(){zv.forEach((e=>{this.#Z.registerNotificationHandler(\"signatureSubscribe\",e,this.#Gt.bind(this)),this.#Z.registerConnectionRecoveryHandler(e,this.#oe.bind(this))}))}async monitor(e,t,n,r,o){this.#i.info(\"Monitoring signature\",{signature:e,accountId:t,commitment:n,network:r,origin:o});const i={method:\"signatureSubscribe\",network:r,expiryMilliseconds:this.#Kt,params:[e,{commitment:n,enableReceivedNotification:!1}],metadata:{accountId:t,origin:o}},a=await this.#Z.subscribe(i);this.#Vt.set(a,i)}async#Gt(e,t){try{const{network:e}=t,n=(0,Qd.get)(t,\"params[0]\");z(n,oe());const r=(0,Qd.get)(t,\"params[1].commitment\");z(r,bm);const o=t.metadata?.accountId;z(o,oe());const i=t.metadata?.origin;z(i,oe());const a=await this.#J.findById(o);if(!a)throw new Error(`Account not found: ${o}`);const s=await this.#Q.fetchBySignature(n,a,e);if(!s)throw new Error(`Transaction with signature ${n} not found on network ${e}`);switch(r){case\"processed\":await this.#Q.save(s),await this.#Ve.trackEventTransactionSubmitted(a,n,{scope:e,origin:i});break;case\"confirmed\":case\"finalized\":await this.#Q.save(s),await this.#Ve.trackEventTransactionFinalized(a,s,{scope:e,origin:i});break;default:this.#i.warn(` Commitment ${r} not supported`)}}catch(e){this.#i.error(\"Error handling signature notification\",e)}finally{await this.#Z.unsubscribe(t.id),this.#Vt.delete(t.id)}}async#oe(){this.#i.info(\"Handling connection recovery\"),await Promise.all(Array.from(this.#Vt.entries()).map((async([e,t])=>{await this.#Ht(t,e)})))}async#Ht(e,t){try{const{network:n}=e;z(n,oe());const r=(0,Qd.get)(e,\"params[0]\");z(r,oe());const o=(0,Qd.get)(e,\"params[1].commitment\");z(o,bm);const i=await this.#Zt(r,n);if(!i)throw new Error(`Signature ${r} not found via HTTP fetch during connection recovery`);if(!this.#Jt(i,o))return void this.#i.info(\"Signature did not reach the desired commitment while connection was down. Skipping.\");const a={jsonrpc:\"2.0\",method:\"signatureNotification\",params:{subscription:1,result:{context:{slot:BigInt(0)},value:{err:null}}}},s={...e,id:t};await this.#Gt(a,s),this.#Vt.delete(t)}catch(e){this.#i.error(\"Error handling connection recovery\",e)}}async#Zt(e,t){const n=await this.#x.getRpc(t).getSignatureStatuses([Dc(e)],{searchTransactionHistory:!0}).send(),r=n.value[0]?.confirmationStatus;if(!r)throw new Error(`Signature ${e} not found via HTTP fetch during connection recovery`);return r}#Jt(e,t){return t===e||\"processed\"===t&&(\"confirmed\"===e||\"finalized\"===e)||\"confirmed\"===t&&\"finalized\"===e}}(FE,tk,ok,zE,UE,PE,vd),uk=new Hw(FE,tk,XE,ok,ik,$E,PE,vd),lk=(new class{#jt;#Yt;#ge;#i;constructor(e,t,n,r){this.#jt=e,this.#Yt=t,this.#ge=n,this.#i=yd(r,\"[ MonitoredAccountsInitializer]\"),this.#te()}#te(){this.#ge.on(\"onActive\",this.#Qt.bind(this))}async#Qt(){this.#i.info(\"Starting to monitor the selected accounts\");const e=await this.#jt.getAllSelected();await this.#Yt.setMonitoredAccounts(e.map((e=>e.id)))}}(tk,uk,NE,vd),new class{#x;#Xt;#en;#i;constructor(e,t,n,r=vd){this.#x=e,this.#Xt=t,this.#en=n,this.#i=yd(r,\"[ WalletService]\")}async resolveAccountAddress(e,t,n){this.#i.log(\"Resolving account address\",{keyringAccounts:e,scope:t,request:n});const{method:r,params:o}=n,i=e.filter((e=>e.scopes.includes(t)));if(0===i.length)throw new Error(\"No accounts with this scope\");let a;switch(r){case Xt.SignIn:{const{address:e}=o;if(!e)throw new Error(\"No address\");a=e;break}case Xt.SignAndSendTransaction:case Xt.SignMessage:case Xt.SignTransaction:{const{account:e}=o;a=e.address;break}default:throw this.#i.warn({method:r},\"Unsupported method\"),new Error(\"Unsupported method\")}if(!i.find((e=>e.address===a)))throw new Error(\"Account not found\");return pA(t,a)}async signTransaction(e,t,n,r,o){this.#i.log(\"Signing transaction\",{account:e,transaction:t,scope:n,options:o});const i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#Xt.partiallySignBase64String(t,e,n,i),s={signedTransaction:im(a)};z(s,qy);try{Tl(a);const t=El(a);await this.#en.monitor(t,e.id,\"confirmed\",n,r)}catch(e){this.#i.warn(\"Transaction is not fully signed, skipping monitoring\",{error:e})}return s}async signAndSendTransaction(e,t,n,r,o){this.#i.log(\"Signing and sending transaction\",e);const i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#Xt.partiallySignBase64String(t,e,n,i),s=El(a),c=function({rpc:e}){return async function(t,n){await nm({...n,rpc:e,transaction:t})}}({rpc:this.#x.getRpc(n)}),u=fA(n,\"tx\",s);this.#i.info(`Sending transaction: ${u}`),Tl(a);const l={...o?.preflightCommitment?{preflightCommitment:o.preflightCommitment}:{},...o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:{},...o?.maxRetries?{maxRetries:BigInt(o.maxRetries)}:{},skipPreflight:o?.skipPreflight??!0,commitment:\"confirmed\"};await c(a,l),await this.#en.monitor(s,e.id,o?.commitment??\"confirmed\",n,r);const d={signature:s};return z(d,$y),d}async signMessage(e,t){this.#i.log(\"Signing message\",e,t);const{address:n,entropySource:r,derivationPath:o}=e,i=yc(n),a=ac().encode(t),s=function(e,t={}){return Object.freeze({content:\"string\"==typeof e?(new Fl).encode(e):e,signatures:Object.freeze({...t})})}(dc().decode(a)),{privateKeyBytes:c}=await vv({entropySource:r,derivationPath:o}),u=await zl(c),[l]=await u.signMessages([s]);z(l,te());const d=l[i];var f;z(d,(f=Uint8Array,L(\"instance\",(e=>e instanceof f||`Expected a \\`${f.name}\\` instance, but received: ${P(e)}`))));const h={signature:Xs().decode(d),signedMessage:t,signatureType:\"ed25519\"};return z(h,Wy),h}async signIn(e,t){this.#i.log(\"Signing in\",e,t);const{address:n}=e,r=this.#tn(t),o=dc().encode(r),i=ac().decode(o),a={account:{address:n},...await this.signMessage(e,i)};return z(a,Vy),a}async verifySignature(e,t,n){this.#i.log(\"Verifying signature\",{account:e,signatureBase58:t,messageBase64:n}),z(t,qd),z(n,Wd);const r=ec().encode(t),o=ac().encode(n),{privateKeyBytes:i}=await vv({entropySource:e.entropySource,derivationPath:e.derivationPath}),a=await zl(i);return await Lc(a.keyPair.publicKey,r,o)}#tn(e){const{domain:t,address:n,statement:r,uri:o,version:i,chainId:a,nonce:s,issuedAt:c,expirationTime:u,notBefore:l,requestId:d,resources:f}=e;let h=`${t??\"\"} wants you to sign in with your Solana account:\\n`;h+=`${n??\"\"}`,r&&(h+=`\\n\\n${r}`);const p=[];if(o&&p.push(`URI: ${o}`),i&&p.push(`Version: ${i}`),a&&p.push(`Chain ID: ${a}`),s&&p.push(`Nonce: ${s}`),c&&p.push(`Issued At: ${c}`),u&&p.push(`Expiration Time: ${u}`),l&&p.push(`Not Before: ${l}`),d&&p.push(`Request ID: ${d}`),f&&f.length>0){p.push(\"Resources:\");for(const e of f)p.push(`- ${e}`)}return p.length&&(h+=`\\n\\n${p.join(\"\\n\")}`),h}}(UE,qE,ck,vd)),dk=new class{#ze;#i;#Q;#Y;#nn;#rn;#Yt;#on=\"Create Solana Account\";constructor({state:e,logger:t,transactionsService:n,assetsService:r,walletService:o,confirmationHandler:i,keyringAccountMonitor:a}){this.#ze=e,this.#i=yd(t,\"[ Keyring]\"),this.#Q=n,this.#Y=r,this.#nn=o,this.#rn=i,this.#Yt=a}async listAccounts(){try{const e=await this.#ze.getKey(\"keyringAccounts\")??{};return(0,Qd.sortBy)(Object.values(e),[\"entropySource\",\"index\"])}catch(e){throw this.#i.error({error:e},\"Error listing accounts\"),new Error(\"Error listing accounts\")}}async getAccount(e){try{Zv({accountId:e},Md);return await this.#ze.getKey(`keyringAccounts.${e}`)}catch(e){throw this.#i.error({error:e},\"Error getting account\"),new ao(e)}}async getAccountOrThrow(e){const t=await this.getAccount(e);if(!t)throw new Error(`Account \"${e}\" not found`);return t}#in(e,t){return function(e){if(0===e.length)return 0;const t=e.map((e=>e.index)).sort(((e,t)=>e-t));let n=0;for(const e of t){if(e!==n)break;n+=1}return n}(e.filter((e=>e.entropySource===t)))}#an(e){return`m/44'/501'/${e}'/0'`}#sn(e){const t=e.split(\"/\")[3];if(!t)throw new Error(\"Invalid derivation path\");const n=parseInt(t.replace(\"'\",\"\"),10);return z(n,J()),n}async#cn(){const e=(await async function(){return await snap.request({method:\"snap_listEntropySources\"})}()).find((({primary:e})=>e));if(!e)throw new Error(\"No default entropy source found - this can never happen\");return e.id}async createAccount(e){const t=globalThis.crypto.randomUUID();try{await async function(e){try{return await snap.request({method:\"snap_startTrace\",params:{name:e}})}catch(e){return null}}(this.#on);const n=await this.listAccounts(),r=e?.entropySource??await this.#cn(),o=e?.derivationPath?this.#sn(e.derivationPath):this.#in(n,r),i=e?.derivationPath?e.derivationPath:this.#an(o),a=n.find((e=>e.derivationPath===i&&e.entropySource===r));if(a)return this.#i.warn(\"An account already exists with the same derivation path and entropy source. Skipping account creation.\"),wm(a);const{publicKeyBytes:s}=await vv({entropySource:r,derivationPath:i}),c=wc().decode(s.slice(1)),{importedAccount:u,accountNameSuggestion:l,metamask:d,...f}=e??{},h={id:t,entropySource:r,derivationPath:i,index:o,type:bt.DataAccount,address:c,scopes:[Yt.Mainnet,Yt.Testnet,Yt.Devnet],options:{...f,entropySource:r,derivationPath:i,index:o},methods:[Xt.SignAndSendTransaction,Xt.SignTransaction,Xt.SignMessage,Xt.SignIn]};await this.#ze.setKey(`keyringAccounts.${h.id}`,h);const p=wm(h);return await this.emitEvent(Rn.AccountCreated,{account:p,accountNameSuggestion:l??`Solana Account ${o+1}`,displayAccountNameSuggestion:!l,displayConfirmation:!1,...d?{metamask:d}:{}}),await async function(e){try{return await snap.request({method:\"snap_endTrace\",params:{name:e}})}catch(e){return null}}(this.#on),p}catch(e){throw this.#i.error({error:e},\"Error creating account\"),await this.#un(t),new Error(`Error creating account: ${e.message}`)}}async#un(e){await Promise.all([this.#ze.deleteKey(`keyringAccounts.${e}`),this.#ze.deleteKey(`transactions.${e}`),this.#ze.deleteKey(`assets.${e}`)])}async deleteAccount(e){try{Zv({accountId:e},Od),await this.emitEvent(Rn.AccountDeleted,{id:e}),await this.#un(e)}catch(e){throw this.#i.error({error:e},\"Error deleting account\"),e}}async listAccountAssets(e){try{Zv({accountId:e},zd);const t=await this.getAccountOrThrow(e),n=(await this.#Y.findByAccount(t)).filter((e=>e.assetType.endsWith(_d.SOL)||Number(e.rawAmount)>0)).map((e=>e.assetType));return Jv(n,vn),n}catch(e){throw this.#i.error({error:e},\"Error listing account assets\"),e}}async getAccountBalances(e,t){try{Zv({accountId:e,assets:t},Ud);const n=await this.getAccountOrThrow(e),r=(await this.#Y.findByAccount(n)).filter((e=>t.includes(e.assetType))).filter((e=>e.assetType.endsWith(_d.SOL)||Number(e.rawAmount)>0)).reduce(((e,t)=>(e[t.assetType]={unit:t.symbol,amount:t.uiAmount},e)),{});return Jv(r,Dd),r}catch(e){throw this.#i.error({error:e},\"Error getting account balances\"),e}}async emitEvent(e,t){await On(snap,e,t)}async filterAccountChains(e,t){throw new Error(`Implement me! ${e} ${t.toString()}`)}async updateAccount(e){throw new Error(`Implement me! ${JSON.stringify(e)}`)}async submitRequest(e){return{pending:!1,result:await this.#ln(e)}}async#ln(e){z(e,Yv);const{request:{method:t,params:n},scope:r,account:o,origin:i}=e,a=await this.getAccountOrThrow(o);if(!a.scopes.includes(r))throw new Error(`Scope \"${r}\" is not allowed for this account`);if(!a.methods.includes(t))throw new Error(`Method \"${t}\" is not allowed for this account`);if(\"scope\"in n&&r!==n.scope)throw new Error(`Scope \"${r}\" does not match \"${n.scope}\" in request.params`);z(r,Ld);if(!await this.#rn.handleKeyringRequest(e,a))throw new To;switch(t){case Xt.SignAndSendTransaction:{const{transaction:e,options:t}=n;return this.#nn.signAndSendTransaction(a,e,r,i,t)}case Xt.SignTransaction:{this.#dn(a,e);const{transaction:t,options:o}=n;return this.#nn.signTransaction(a,t,r,i,o)}case Xt.SignMessage:{this.#dn(a,e);const{message:t}=n;return this.#nn.signMessage(a,t)}case Xt.SignIn:return this.#nn.signIn(a,n);default:throw new go(`Unsupported method: ${t}`)}}#dn(e,t){const{address:n}=e,{account:r}=t.request.params;try{yc(r.address)}catch{throw new Error(\"Invalid Solana address format\")}if(r.address!==n)throw new Error(\"The requested account and/or method has not been authorized by the user.\")}async listAccountTransactions(e,t){try{Zv({accountId:e,pagination:t},jd);const{limit:n,next:r}=t,o=await this.getAccount(e);if(!o)throw new Error(\"Account not found\");const i=await this.#Q.findByAccounts([o]),a=r?i.findIndex((e=>e.id===r)):0,s=i.slice(a,a+n),c=a+t.limit<i.length;return{data:s,next:c?i[a+t.limit]?.id??null:null}}catch(e){throw this.#i.error({error:e},\"Error listing account transactions\"),e}}async resolveAccountAddress(e,t){try{z(e,Ld);const{method:n,params:r}=t,o={method:n,params:r};z(o,Ky);const i=await this.listAccounts();return{address:await this.#nn.resolveAccountAddress(i,e,o)}}catch(e){return this.#i.error({error:e},\"Error resolving account address\"),null}}async discoverAccounts(e,t,n){try{z({scopes:e,entropySource:t,groupIndex:n},Qv);const r=this.#an(n),{publicKeyBytes:o}=await vv({entropySource:t,derivationPath:r}),i=wc().decode(o.slice(1)),a=[];for(const t of e)a.push(this.#Q.fetchLatestSignatures(t,i,{limit:1}));const s=await Promise.all(a);return s.some((e=>e.length>0))?[{type:\"bip44\",scopes:e,derivationPath:r}]:[]}catch(e){throw this.#i.error({error:e},\"Error discovering accounts\"),e}}async setSelectedAccounts(e){Zv(e,G(Pd)),await this.#Yt.setMonitoredAccounts(e)}}({state:BE,transactionsService:ok,logger:vd,assetsService:XE,walletService:lk,confirmationHandler:sk,keyringAccountMonitor:uk}),fk=new class{#x;#i;constructor(e,t=vd){this.#x=e,this.#i=t}static isMaybeNonFungible(e){const{tokenAmount:t}=e,{decimals:n}=t;return!1}}(UE,vd),hk=new class{#x;#fn;#i;#N;#W;#hn;#pn;#Y;#Le={minimumBalanceForRentExemption:5*Bv.Minute};constructor(e,t,n,r,o,i,a,s){this.#x=e,this.#fn=t,this.#N=r,this.#i=yd(n,\"[ SendService]\"),this.#W=o,this.#hn=i,this.#pn=a,this.#Y=s}async#gn(e){return Ad((async t=>this.#x.getRpc(e).getMinimumBalanceForRentExemption(BigInt(0)).send().then((e=>Wo(e.toString())))),this.#N,{functionName:\"SendService:getMinimumBalanceForRentExemption\",ttlMilliseconds:this.#Le.minimumBalanceForRentExemption,generateCacheKey:(e,t)=>{const[n]=t;return`${e}:${n}`}})(e)}async confirmSend(e){this.#i.log(\"Confirming send transaction\",e);const{fromAccountId:t,toAddress:n,amount:r,assetId:o}=e.params,i=await this.#fn.getAccountOrThrow(t),{chainId:a,assetReference:s}=ii(o),c=a,u=o===Rd[c].nativeToken.caip19Id,l=u?this.#hn:this.#pn,d={from:i,to:yc(n),amount:r,network:c,...u?{}:{mint:yc(s)}},f=Sl(await l.buildTransactionMessage(d)),h=im(f),p={id:globalThis.crypto.randomUUID(),scope:c,account:t,origin:Ed,request:{method:Xt.SignAndSendTransaction,params:{account:{address:i.address},transaction:h,scope:c}}};return this.#i.log(\"Submitting keyring request\",p),this.#fn.submitRequest(p)}async onAddressInput(e,t){if(\"\"===e)return{valid:!1,errors:[{code:yy.Required}]};try{yc(e);if(\"UNSUPPORTED\"===(await this.#W.classify(e,t)).type)throw new Error(\"Unsupported recipient\");return{valid:!0,errors:[]}}catch(e){return{valid:!1,errors:[{code:yy.Invalid}]}}}async onAmountInput(e){const{params:{value:t,accountId:n,assetId:r}}=e,o=await this.#fn.getAccountOrThrow(n),{chainId:i}=ii(r),a=i,s=Rd[a].nativeToken.caip19Id,c=r===s,u=await this.#Y.findByAccount(o),l=u.find((e=>e.assetType===r)),d=u.find((e=>e.assetType===s));if(!l)throw new Error(`Balance not found for asset ${r} and account ${n}`);if(\"\"===t)return{valid:!1,errors:[{code:yy.Required}]};const f=Um(l.uiAmount??\"0\"),h=Um(d?.uiAmount??\"0\"),p=Um(t),g=await this.#gn(a),m=c?this.#hn:this.#pn,y=new Dw(m).getFee(),v=Wo(y.toString());if(h.isZero())return{valid:!1,errors:[{code:yy.InsufficientBalance}]};if(c){if(p.gt(h))return{valid:!1,errors:[{code:yy.InsufficientBalance}]};if(p.plus(v).plus(g).gt(h))return{valid:!1,errors:[{code:yy.InsufficientBalanceToCoverFee}]}}else{if(p.gt(f))return{valid:!1,errors:[{code:yy.InsufficientBalance}]};if(v.plus(g).gt(h))return{valid:!1,errors:[{code:yy.InsufficientBalanceToCoverFee}]}}return{valid:!0,errors:[]}}}(UE,dk,vd,OE,VE,WE,KE,XE),pk=new class{#jt;#nn;#i;#mn;constructor(e,t,n,r){this.#jt=e,this.#nn=t,this.#i=yd(n,\"[ ClientRequestHandler]\"),this.#mn=r}async handle(e){this.#i.log(\"Handling client request\",e);const{method:t}=e;switch(t){case jm.SignAndSendTransactionWithoutConfirmation:return this.#yn(e);case jm.ConfirmSend:return this.#vn(e);case jm.SignAndSendTransaction:return this.#wn(e);case jm.ComputeFee:return this.#An(e);case jm.OnAddressInput:return this.#bn(e);case jm.OnAmountInput:return this.#Sn(e);case jm.SignRewardsMessage:return this.#En(e);default:throw new go}}async#yn(e){try{z(e,Gy)}catch(e){const t=new fo;throw t.cause=e,t}const{params:{transaction:t,options:n,account:{address:r},scope:o}}=e,i=await this.#jt.findByAddress(r);if(!i)throw new fo(`Account not found: ${r}`);return this.#nn.signAndSendTransaction(i,t,o,Ed,n)}async#wn(e){try{z(e,Zy)}catch(e){const t=new fo;throw t.cause=e,t}const{params:{transaction:t,options:n,accountId:r,scope:o}}=e,i=await this.#jt.findById(r);if(!i)throw new fo(`Account not found: ${r}`);const{signature:a}=await this.#nn.signAndSendTransaction(i,t,o,Ed,n),s={transactionId:a};return z(s,Jy),s}async#vn(e){try{z(e,Qy)}catch(e){const t=new fo;throw t.cause=e,t}return await this.#mn.confirmSend(e)}async#An(e){try{z(e,uv)}catch(e){const t=new fo;throw t.cause=e,t}const{params:{transaction:t,scope:n}}=e,{baseFee:r,priorityFee:o}=Om.calculateFee(t),i=Rd[n].nativeToken.symbol,a=Rd[n].nativeToken.caip19Id,s=[{type:Ot.Base,asset:{unit:i,type:a,amount:zm(r).toString(),fungible:!0}},{type:Ot.Priority,asset:{unit:i,type:a,amount:zm(o).toString(),fungible:!0}}];return z(s,lv),s}async#bn(e){let t;try{t=U(e,ev)}catch(e){const t=new fo;throw t.cause=e,t}const{params:{value:n,scope:r}}=t,o=await this.#mn.onAddressInput(n,r);return z(o,sv),o}async#Sn(e){try{z(e,nv)}catch(e){const t=new fo;throw t.cause=e,t}const t=await this.#mn.onAmountInput(e);return z(t,sv),t}async#En(e){z(e,av);const{params:{account:{address:t},message:n}}=e,r=await this.#jt.findByAddress(t);if(!r)throw new fo(`Account not found: ${t}`);const{address:o}=rv(n);if(o!==t)throw new fo(`Address in rewards message (${o}) does not match signing account address (${t})`);return await this.#nn.signMessage(r,n)}}(tk,lk,vd,hk),gk={configProvider:PE,connection:UE,keyring:dk,priceApiClient:GE,state:BE,cache:ME,assetsService:XE,tokenPricesService:JE,signer:qE,transactionsService:ok,sendSolBuilder:WE,sendSplTokenBuilder:KE,walletService:lk,transactionScanService:ak,analyticsService:zE,confirmationHandler:sk,nftService:fk,clientRequestHandler:pk,webSocketConnectionService:DE,subscriptionService:FE,eventEmitter:NE,nameResolutionService:YE,accountsService:tk,accountsSynchronizer:ik,tokenHelper:$E},mk=te({id:oe(),jsonrpc:Y(\"2.0\"),method:Y(ib.OnTransactionAdded),params:te({accountId:Pd,metadata:te({scope:Ld,origin:oe()})})}),yk=te({id:oe(),jsonrpc:Y(\"2.0\"),method:Y(ib.OnTransactionApproved),params:te({accountId:Pd,metadata:te({scope:Ld,origin:oe()})})}),vk=te({id:oe(),jsonrpc:Y(\"2.0\"),method:Y(ib.OnTransactionRejected),params:te({accountId:Pd,metadata:te({scope:Ld,origin:oe()})})}),wk=eA(\"Form\"),Ak=eA(\"Field\"),bk=eA(\"AccountSelector\"),Sk=eA(\"AssetSelector\"),Ek=({title:e,backButtonName:t})=>Yw(nA,{direction:\"horizontal\",alignment:\"space-between\",center:!0,children:[t?Jw(lA,{name:t,children:Jw(PA,{name:\"arrow-left\",color:\"primary\",size:\"md\"})}):null,Jw(rA,{size:\"sm\",children:e}),Yw(nA,{direction:\"horizontal\",children:[Jw(nA,{children:null}),Jw(nA,{children:null}),Jw(nA,{children:null}),Jw(nA,{children:null})]})]}),kk=eA(\"Input\");var Tk=function(e){return e.Form=\"send-form\",e.DestinationAccountInput=\"send-to\",e.BackButton=\"send-back-button\",e.SourceAccountSelector=\"send-account-selector\",e.AmountInput=\"send-amount-input\",e.AssetSelector=\"send-asset-selector\",e.SwapCurrencyButton=\"send-swap-currency\",e.MaxAmountButton=\"send-amount-input-max\",e.CancelButton=\"send-cancel-button\",e.SendButton=\"send-submit-button\",e.ClearButton=\"send-clear-button\",e.CloseButton=\"send-close-button\",e}({}),Ik=function(e){return e.TOKEN=\"TOKEN\",e.FIAT=\"USD\",e}({});const xk=({name:e,value:t,tokenSymbol:n,currency:r,currencyType:o,locale:i,swapCurrencyButtonDisabled:a=!1})=>{const s=wA(i),c=o===Ik.FIAT?r.toUpperCase():n;return Yw(Ak,{label:s(\"send.amountField\"),children:[Jw(kk,{name:e,type:\"number\",min:0,placeholder:\"0\",step:.01,value:t??void 0}),Yw(nA,{direction:\"horizontal\",center:!0,children:[Jw(nA,{direction:\"vertical\",alignment:\"center\",children:Jw(oA,{size:\"sm\",children:c})}),Jw(lA,{name:Tk.SwapCurrencyButton,disabled:a,children:Jw(PA,{name:\"swap-vertical\",color:a?\"muted\":\"primary\",size:\"md\"})})]})]})},_k={initial:null,fetching:\"default\",fetched:\"success\",error:null},Ck=({name:e,value:t,error:n,locale:r,showClearButton:o,disabled:i,domainResolutionStatus:a})=>{const s=wA(r);return Yw(nA,{children:[Yw(Ak,{label:s(\"send.toField\"),error:n,children:[Jw(kk,{name:e,placeholder:i?\"\":s(\"send.toPlaceholder\"),value:t??void 0,disabled:i}),o?Jw(nA,{children:Jw(lA,{name:Tk.ClearButton,children:Jw(PA,{name:RA.Close,color:\"primary\"})})}):null]}),a&&null!==_k[a]&&Jw(oA,{size:\"sm\",color:_k[a],children:s(`send.toDomainResolutionStatus.${a}`)})]})},Rk=e=>{const{amount:t,tokenPrices:n,tokenCaipId:r,currencyType:o}=e,i=n?.[r]?.price;if(o===Ik.TOKEN)return t;if(void 0===i)throw new Error(\"Token price is undefined, cannot convert to fiat amount.\");return null===t?null:Vo(t).dividedBy(Vo(i)).toString()},Pk=e=>{const{selectedTokenMetadata:t}=e;return{...t??{},tokenSymbol:t?.symbol??\"UNKNOWN\",tokenImage:t?.imageSvg??Bw}},Nk=e=>{const{tokenCaipId:t,tokenPrices:n}=e;return n?.[t]?.price},Bk=e=>{const{balances:t,fromAccountId:n,tokenCaipId:r}=e;return t?.[n]?.[r]?.amount??\"0\"},Mk=e=>{const{tokenCaipId:t,scope:n}=e;return t===Rd[n]?.nativeToken?.caip19Id},Ok=eA(\"Spinner\"),zk=({title:e,subtitle:t,iconSrc:n,isLoading:r})=>Yw(nA,{alignment:\"center\",center:!0,children:[Yw(nA,{direction:\"horizontal\",center:!0,children:[r?Jw(Ok,{}):null,n&&!r?Jw(cA,{borderRadius:\"full\",src:n}):null]}),Jw(rA,{size:\"lg\",children:e}),t?Jw(oA,{color:\"muted\",children:t}):null]}),Uk=eA(\"Value\"),jk=({context:e})=>{const{scope:t,fromAccountId:n,toAddress:r,accounts:o,feeEstimatedInSol:i,preferences:{locale:a,currency:s},transaction:c,feePaidInSol:u,tokenPrices:l,fromDomain:d,toDomain:f}=e,h=wA(a),p=Rd[t],g=o.find((e=>e.id===n))?.address,m=pA(t,g),y=p.name,v=p.nativeToken.symbol,w=l[p.nativeToken.caip19Id]?.price,A=c?u:i,b=A?XA(A,v,a):\"\",S=void 0===w||null===A?\"\":xA(eb(A,w),s,a);return Yw(nA,{children:[Yw(iA,{children:[Jw(aA,{label:h(\"send.confirmation.from\"),children:d?Jw(hA,{domain:d,scope:t,address:g}):Jw(dA,{href:fA(t,\"address\",g),children:Jw(sA,{address:m,displayName:!0})})}),r?Jw(aA,{label:h(\"send.confirmation.recipient\"),children:f?Jw(hA,{domain:f,scope:t,address:r}):Jw(dA,{href:fA(t,\"address\",r),children:Jw(sA,{address:pA(t,r),displayName:!0})})}):null]}),Yw(iA,{children:[Jw(aA,{label:h(\"send.confirmation.network\"),children:Jw(oA,{children:y})}),Jw(aA,{label:h(\"send.confirmation.transactionSpeed\"),children:Jw(oA,{children:\"<1s\"})}),Jw(aA,{label:h(\"send.confirmation.fee\"),children:Jw(Uk,{extra:S,value:b})})]})]})};var Dk=function(e){return e.BackButton=\"transaction-confirmation-back-button\",e.CancelButton=\"transaction-confirmation-cancel-button\",e.ConfirmButton=\"transaction-confirmation-submit-button\",e}({});const Lk={\"send-form\":({context:e,inputToAddress:t,inputAmount:n})=>{const{accounts:r,fromAccountId:o,amount:i,destinationAddressOrDomain:a,domainResolutionStatus:s,validation:c,currencyType:u,tokenCaipId:l,scope:d,balances:f,tokenPricesFetchStatus:h,buildingTransaction:p,error:g,loading:m,transactionMessage:y,preferences:{locale:v,currency:w}}=e,A=wA(v),b=f[o]?.[l],S=b?.amount,E=b?.unit??\"\",k=void 0!==S,T=r.find((e=>e.id===o)),I=T?.address?pA(d,T.address):void 0,x=Nk(e),_=void 0===S||\"0\"===S,C=void 0===x,R=\"error\"===h||\"fetched\"===h&&C,P=(k?{[Ik.FIAT]:xA(eb(S,x??0),w,v),[Ik.TOKEN]:XA(S,E,v)}:{[Ik.FIAT]:\"\",[Ik.TOKEN]:\"\"})[u],N=o.length>0&&!!a&&a.length>0&&ty(c?.[Tk.DestinationAccountInput]),B=!ty(y)&&\"\"!==y,M=Boolean(a&&a.length>0),O=Boolean(c?.[Tk.AmountInput]?.message),z=O?c?.[Tk.AmountInput]?.message??\"\":`${A(\"send.balance\")}: ${P}`,U=o.length>0&&!!i&&i.length>0&&!!a&&a.length>0&&Object.values(c).every(ty)&&k&&!p&&B;return Yw(tA,{backgroundColor:\"alternative\",children:[Yw(nA,{children:[Jw(Ek,{title:A(\"send.title\"),backButtonName:Tk.BackButton}),Yw(wk,{name:Tk.Form,children:[R&&Jw(HA,{title:\"\",severity:\"info\",children:Jw(oA,{children:A(\"send.selectedTokenPriceNotAvailable\",{currency:w})})}),Jw(nA,{children:null}),Jw(nA,{children:null}),Jw(nA,{children:null}),Jw(Ak,{label:A(\"send.fromField\"),error:c?.[Tk.SourceAccountSelector]?.message??\"\",children:Jw(bk,{name:Tk.SourceAccountSelector,chainIds:[d],value:I??void 0,hideExternalAccounts:!0,switchGlobalAccount:!0})}),Jw(nA,{children:null}),Jw(nA,{children:null}),Jw(nA,{children:null}),Jw(Ck,{locale:v,disabled:m,name:Tk.DestinationAccountInput,value:t??null,showClearButton:M,domainResolutionStatus:s,error:c?.[Tk.DestinationAccountInput]?.message??\"\"}),N&&Yw(nA,{children:[Jw(nA,{children:null}),Jw(nA,{children:null}),Jw(nA,{children:null}),Yw(nA,{direction:\"horizontal\",children:[Jw(Ak,{label:A(\"send.assetField\"),children:Jw(Sk,{chainIds:[d],value:l,name:Tk.AssetSelector,addresses:I?[I]:[]})}),Jw(xk,{name:Tk.AmountInput,currencyType:u,tokenSymbol:E,currency:w,value:n??null,locale:v,swapCurrencyButtonDisabled:C||_})]}),Yw(nA,{direction:\"horizontal\",alignment:\"space-between\",crossAlignment:\"start\",children:[Jw(nA,{direction:\"vertical\",alignment:\"start\",children:Jw(oA,{size:\"sm\",color:O?\"error\":\"muted\",children:z})}),Jw(lA,{size:\"sm\",name:Tk.MaxAmountButton,disabled:_,children:A(\"send.maxButton\")})]})]}),g&&Yw(nA,{children:[Jw(nA,{children:null}),Jw(HA,{title:A(g.title),severity:\"warning\",children:Jw(oA,{children:A(g.message)})})]})]})]}),Yw(uA,{children:[Jw(lA,{name:Tk.CancelButton,children:A(\"send.cancelButton\")}),Jw(lA,{name:Tk.SendButton,disabled:!U,loading:p,children:A(\"send.continueButton\")})]})]})},\"transaction-confirmation\":({context:e})=>{const{preferences:{currency:t,locale:n}}=e,r=wA(n),{tokenImage:o,tokenSymbol:i}=Pk(e),a=Rk(e),s=Nk(e),c=void 0===s?\"\":xA(eb(a??\"0\",s),t,n);return Yw(tA,{children:[Yw(nA,{children:[Jw(Ek,{title:r(\"send.confirmation.title\"),backButtonName:\"transaction-confirmation-back-button\"}),Jw(zk,{title:XA(a??\"0\",i,n),subtitle:c,iconSrc:o}),Jw(jk,{context:e})]}),Yw(uA,{children:[Jw(lA,{name:\"transaction-confirmation-cancel-button\",children:r(\"send.confirmation.cancelButton\")}),Jw(lA,{name:\"transaction-confirmation-submit-button\",loading:e.loading,disabled:e.loading,children:r(\"send.confirmation.sendButton\")})]})]})},\"send-pending\":({context:e})=>{const t=wA(e.preferences.locale);return Jw(tA,{children:Yw(nA,{children:[Jw(nA,{children:null}),Jw(zk,{title:t(\"send.send-pending.title\"),subtitle:t(\"send.send-pending.subtitle\"),isLoading:!0}),Jw(jk,{context:e})]})})},\"transaction-success\":({context:e})=>{const{preferences:t,transaction:n,scope:r}=e,o=wA(t.locale),{tokenSymbol:i}=Pk(e),a=Rk(e);return Jw(tA,{children:Yw(nA,{children:[Jw(nA,{children:null}),Jw(zk,{title:o(\"send.transaction-success.title\"),subtitle:o(\"send.transaction-success.subtitle\",{amount:IA(a??\"0\",t.locale),tokenSymbol:i}),iconSrc:'<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<path d=\"M24.0002 3.99902C12.9802 3.99902 4.00024 12.979 4.00024 23.999C4.00024 35.019 12.9802 43.999 24.0002 43.999C35.0202 43.999 44.0002 35.019 44.0002 23.999C44.0002 12.979 35.0202 3.99902 24.0002 3.99902ZM33.5602 19.399L22.2202 30.739C21.9402 31.019 21.5602 31.179 21.1602 31.179C20.7602 31.179 20.3802 31.019 20.1002 30.739L14.4402 25.079C13.8602 24.499 13.8602 23.539 14.4402 22.959C15.0202 22.379 15.9802 22.379 16.5602 22.959L21.1602 27.559L31.4402 17.279C32.0202 16.699 32.9802 16.699 33.5602 17.279C34.1402 17.859 34.1402 18.799 33.5602 19.399Z\" fill=\"#1C8234\"/>\\n</svg>\\n'}),Jw(jk,{context:e}),n?.signature?Jw(nA,{alignment:\"center\",center:!0,children:Jw(dA,{href:fA(r,\"tx\",n?.signature),children:o(\"send.confirmation.viewTransaction\")})}):null]})})},\"transaction-failure\":({context:e})=>{const{preferences:t}=e,n=wA(t.locale),{tokenSymbol:r}=Pk(e),o=Rk(e);return Jw(tA,{children:Yw(nA,{children:[Jw(nA,{children:null}),Jw(zk,{title:n(\"send.transaction-failure.title\"),subtitle:n(\"send.transaction-failure.subtitle\",{amount:o??\"0\",tokenSymbol:r}),iconSrc:'<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<path d=\"M40.8277 29.5283L29.7931 8.40143C28.3104 5.55884 26.2586 4 24 4C21.7414 4 19.6896 5.55884 18.2069 8.40143L7.17228 29.5283C5.77572 32.2241 5.62055 34.81 6.74125 36.8456C7.86194 38.8813 10.0689 40 12.9654 40H35.0346C37.9311 40 40.1381 38.8813 41.2588 36.8456C42.3795 34.81 42.2243 32.2058 40.8277 29.5283ZM22.7069 16.8375C22.7069 16.0856 23.2931 15.462 24 15.462C24.7069 15.462 25.2931 16.0856 25.2931 16.8375V26.0071C25.2931 26.759 24.7069 27.3826 24 27.3826C23.2931 27.3826 22.7069 26.759 22.7069 26.0071V16.8375ZM25.2241 32.811C25.1379 32.8844 25.0517 32.9577 24.9655 33.0311C24.8621 33.1044 24.7586 33.1595 24.6552 33.1961C24.5517 33.2511 24.4483 33.2878 24.3276 33.3062C24.2241 33.3245 24.1034 33.3428 24 33.3428C23.8965 33.3428 23.7759 33.3245 23.6552 33.3062C23.5517 33.2878 23.4483 33.2511 23.3448 33.1961C23.2414 33.1595 23.1379 33.1044 23.0345 33.0311C22.9483 32.9577 22.8621 32.8844 22.7759 32.811C22.4655 32.4626 22.2758 31.9857 22.2758 31.5089C22.2758 31.0321 22.4655 30.5553 22.7759 30.2068C22.8621 30.1335 22.9483 30.0601 23.0345 29.9868C23.1379 29.9134 23.2414 29.8584 23.3448 29.8217C23.4483 29.7667 23.5517 29.73 23.6552 29.7117C23.8793 29.6567 24.1207 29.6567 24.3276 29.7117C24.4483 29.73 24.5517 29.7667 24.6552 29.8217C24.7586 29.8584 24.8621 29.9134 24.9655 29.9868C25.0517 30.0601 25.1379 30.1335 25.2241 30.2068C25.5345 30.5553 25.7241 31.0321 25.7241 31.5089C25.7241 31.9857 25.5345 32.4626 25.2241 32.811Z\" fill=\"#BF5208\"/>\\n</svg>\\n'}),Jw(jk,{context:e})]})})}},Fk=({context:e,inputToAddress:t,inputAmount:n})=>{const r=e.stage??\"send-form\";return Jw(Lk[r],{context:e,inputToAddress:t,inputAmount:n})};function $k(e){if(!e)return!1;return/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*\\.sol$/u.test(e)}function qk(e,t,n){return n[e]?n[e]?.map((e=>e(t))).find((e=>null!==e))??null:null}function Wk(e){const t=Zk(e),n={[Tk.SourceAccountSelector]:e.fromAccountId,[Tk.AmountInput]:e.amount,[Tk.DestinationAccountInput]:e.toAddress};return Object.entries(t).every((([e,t])=>{const r=n[e];return!!r&&t.every((e=>null===e(r)))}))}const Vk=(e,t)=>{const n=wA(t);return t=>{const r=\"\"===t?{message:n(e),value:t}:null;return r?{message:r.message,value:t}:null}},Kk=(e,t)=>{const n=wA(t);return t=>{try{return $k(t)||yc(t),null}catch{return{message:n(e),value:t}}}},Gk=e=>{const{minimumBalanceForRentExemptionSol:t,preferences:{locale:n},feeEstimatedInSol:r,selectedTokenMetadata:o}=e,i=wA(n);return n=>{if(\"\"===n)return{message:\"\",value:n};const a=Rk({...e,amount:n}),s=Um(a??\"0\"),c=Bk(e),u=Um(c),l=Um(r??\"0\"),d=Um(t??\"0\"),f=(e=>Bk({...e,tokenCaipId:Rd[e.scope].nativeToken.caip19Id}))(e),h=Um(f),p=Mk(e);if(s.gt(u))return{message:`${i(\"send.insufficientBalance\")}: ${c} ${o?.symbol??\"\"}`,value:n};if(p){if(s.lt(d))return{message:i(\"send.amountGreatherThanMinimumBalanceForRentExemptionError\",{minimumValue:t}),value:n};if(s.plus(l).plus(d).gt(u))return{message:i(\"send.insuffientSolToCoverFee\"),value:n}}else{if(l.plus(d).gt(h))return{message:i(\"send.insuffientSolToCoverFee\"),value:n}}return s.isZero()?{message:\"\",value:n}:h.isZero()?{message:i(\"send.insuffientSolToCoverFee\"),value:n}:null}},Hk=te({scope:Z([...Object.values(kd)]),account:Pd,assetId:ne(ri)}),Zk=e=>({[Tk.SourceAccountSelector]:[Vk(\"send.fromRequiredError\",e.preferences.locale)],[Tk.AmountInput]:[Gk(e),Vk(\"send.amountRequiredError\",e.preferences.locale)],[Tk.DestinationAccountInput]:[Vk(\"send.toRequiredError\",e.preferences.locale),Kk(\"send.toInvalidError\",e.preferences.locale)]}),Jk={scope:kd.Mainnet,fromAccountId:\"\",fromDomain:null,amount:\"\",destinationAddressOrDomain:null,toDomain:null,toAddress:null,domainResolutionStatus:null,feeEstimatedInSol:\"0\",feePaidInSol:\"0\",tokenCaipId:Td.SolMainnet,accounts:[],currencyType:Ik.TOKEN,validation:{},balances:{},assets:[],tokenPrices:{},selectedTokenMetadata:null,tokenPricesFetchStatus:\"initial\",preferences:{locale:\"en\",currency:\"usd\",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},error:null,buildingTransaction:!1,transactionMessage:null,transaction:null,stage:\"send-form\",minimumBalanceForRentExemptionSol:\"0.002\",loading:!0},Yk={[ib.OnTransactionAdded]:async({request:e})=>{try{vd.info(\"[onTransactionAdded] Cronjob triggered\",e),z(e,mk);const{accountId:t,metadata:n}=e.params,r=await dk.getAccountOrThrow(t);await zE.trackEventTransactionAdded(r,n)}catch(e){throw vd.error(e),new uo(e)}},[ib.OnTransactionApproved]:async({request:e})=>{try{vd.info(\"[onTransactionApproved] Cronjob triggered\",e),z(e,yk);const{accountId:t,metadata:n}=e.params,r=await dk.getAccountOrThrow(t);await zE.trackEventTransactionApproved(r,n)}catch(e){throw vd.error(e),new uo(e)}},[ib.OnTransactionRejected]:async({request:e})=>{try{vd.info(\"[onTransactionRejected] Cronjob triggered\",e),z(e,vk);const{accountId:t,metadata:n}=e.params,r=await dk.getAccountOrThrow(t);await zE.trackEventTransactionRejected(r,n)}catch(e){throw vd.error(e),new uo(e)}},[ib.RefreshSend]:async()=>{const e=yd(vd,\"[refreshSend]\");e.info(\"Background event triggered\");const[t,n,r]=await Promise.all([XE.getAll(),BE.getKey(\"mapInterfaceNameToId\"),xv().catch((()=>Jk.preferences))]),o=t.flatMap((e=>e.assetType)),i=n?.[bv];if(!i)return void e.info(\"No send form interface found\");const a=await _v(i),s=await GE.getMultipleSpotPrices(o,r.currency);await BE.setKey(\"tokenPrices\",s);const c={...a,tokenPrices:{...a.tokenPrices,...s}};await kv(i,Jw(Fk,{context:c}),c),e.info(\" Background event suceeded\"),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT30S\",request:{method:\"refreshSend\"}}})},[ib.RefreshConfirmationEstimation]:async()=>{const e=yd(vd,\"[refreshConfirmationEstimation]\");e.info(\"Background event triggered\");const t=(await BE.getKey(\"mapInterfaceNameToId\")??{})[Sv];if(!t)return void e.info(\"No interface context found\");const n=await _v(t);try{if(!(n.account?.address&&n.transaction&&n.scope&&n.method))return void e.info(\"Context is missing required fields\");if(!n.preferences?.simulateOnChainActions)return void e.info(\"Transaction simulation is disabled in preferences\");const r={...n,scanFetchStatus:\"fetching\"};await kv(t,Jw(nb,{context:Av(r)}),r);const[o,i]=await Promise.all([ak.scanTransaction({method:n.method,accountAddress:n.account.address,transaction:n.transaction,scope:n.scope,origin:n.origin,account:n.account}),_v(t)]),a={...i,scanFetchStatus:\"fetched\",scan:o};e.info(\"New scan fetched\"),await kv(t,Jw(nb,{context:Av(a)}),a),e.info(\"Background event suceeded\"),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT20S\",request:{method:\"refreshConfirmationEstimation\"}}})}catch(n){const r={...await _v(t),scanFetchStatus:\"fetched\"};await kv(t,Jw(nb,{context:Av(r)}),r),e.warn({error:n},\"Could not update the interface. But rolled back status to fetched.\")}},[ib.CloseWebSocketConnections]:async()=>{vd.info(\"Closing all WebSocket connections via background event\"),await DE.closeAllConnections()}},Qk={...Yk};var Xk={};const eT=te({chainId:Ld,domain:ne(oe()),address:ne(oe())}),tT=\"Solana Name Service\",nT={[Mv.GetFeeForTransaction]:async({request:e})=>{z(e.params,Fd);const{transaction:t}=e.params;try{const{totalFee:e}=Om.calculateFee(t),n={value:e.toString()};return z(n,$d),n}catch(e){throw vd.error(e),new uo(e)}},[Mv.StartSendTransactionFlow]:async({request:e})=>{const{params:t}=e;z(t,Hk);const{scope:n,account:r}=t,o=t.assetId??Rd[n].nativeToken.caip19Id,i={...Jk,scope:n,fromAccountId:r,tokenCaipId:o,loading:!0},[a,s,c,u]=await Promise.all([XE.getAll(),tk.getAll(),BE.getKey(\"tokenPrices\"),xv().catch((()=>Jk.preferences))]);i.balances=function(e,t){return t.filter((t=>{const n=t.assetType===Rd[e].nativeToken.caip19Id,r=t.assetType.startsWith(e),o=\"0\"!==t.rawAmount;return n||r&&o})).reduce(((e,t)=>(e[t.keyringAccountId]={...e[t.keyringAccountId],[t.assetType]:{unit:t.symbol,amount:t.uiAmount}},e)),{})}(n,a),i.assets=a.map((e=>e.assetType)),i.accounts=s,i.preferences=u,i.tokenPrices=c??{};const l=await Ev(Jw(Fk,{context:i}),i),d=Iv(l),f=XE.getAssetsMetadata([i.tokenCaipId]).then((e=>{const t=e[i.tokenCaipId];t?.symbol&&t?.name&&(i.selectedTokenMetadata={symbol:t.symbol,name:t.name,asset:i.tokenCaipId,imageSvg:null})})).catch((()=>null));let h;i.preferences.useExternalPricingData?h=GE.getMultipleSpotPrices(i.assets,i.preferences.currency).then((e=>{i.tokenPrices={...i.tokenPrices,...e},i.tokenPricesFetchStatus=\"fetched\"})).catch((()=>{i.tokenPricesFetchStatus=\"error\"})):i.tokenPricesFetchStatus=\"fetched\";const p=UE.getRpc(n).getMinimumBalanceForRentExemption(BigInt(0)).send().then((e=>{i.minimumBalanceForRentExemptionSol=zm(e).toString()})).catch((()=>{}));return i.loading=!0,await kv(l,Jw(Fk,{context:i}),i),i.loading=!1,await Promise.all([h,f,p]),await kv(l,Jw(Fk,{context:i}),i),await BE.setKey(`mapInterfaceNameToId.${bv}`,l),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT30S\",request:{method:\"refreshSend\"}}}),d},[Ov.ListWebSockets]:async()=>(await NE.emitSync(\"onListWebSockets\"),null),[Ov.ListSubscriptions]:async()=>(await NE.emitSync(\"onListSubscriptions\"),null),[Ov.TestOnStart]:async()=>(await NE.emitSync(\"onStart\"),null),[Ov.TestOnInstall]:async()=>(await NE.emitSync(\"onInstall\"),null),[Ov.TestOnUpdate]:async()=>(await NE.emitSync(\"onUpdate\"),null),[Ov.SynchronizeAccounts]:async()=>(await ik.synchronize(),null),[Ov.SetAccountSelected]:async({request:e})=>(await dk.setSelectedAccounts(e.params.accountIds),null),[Ov.ConfirmSend]:async({request:e})=>(await pk.handle(e),null)};const rT=async e=>{try{return await e()}catch(e){const t=function(e){return[ao,go,To,mo,go,yo,vo,wo,Ao,bo,So,Eo,ko,uo,lo,fo,ho,po].some((t=>e instanceof t))}(e)?e:new ao(e);throw vd.error({error:t},`[SnapError] ${JSON.stringify(t.toJSON(),null,2)}`),t}};var oT=n(4255),iT=n.n(oT),aT=n(3804),sT=n.n(aT);class cT extends Error{constructor(e=\"Operation cancelled\"){super(e),this.name=\"CancellationError\"}}const uT=async e=>{const{fromAccountId:t,tokenCaipId:n,scope:r,toAddress:o}=e,i=Rk(e),a=await dk.getAccountOrThrow(t);if(!o||!i)throw new Error(\"Invalid transaction parameters\");const s=n===Rd[r].nativeToken.caip19Id,c=s?WE:KE,u=new Dw(c),l={from:a,to:yc(o),amount:i,network:r,...s?{}:{mint:yc(ii(n).assetReference)}},d=await c.buildTransactionMessage(l),f=await(async e=>xu(e,il,Yu().encode,ic().decode))(d);return{feeInLamports:u.getFee(),base64EncodedTransactionMessage:f}},lT=sT()((async(e,t)=>{try{if(!Wk(t))return;const n={buildingTransaction:!0,transactionMessage:null,feeEstimatedInSol:null};await kv(e,Jw(Fk,{context:{...t,...n}}),{...t,...n});const{feeInLamports:r,base64EncodedTransactionMessage:o}=await uT(t),i={transactionMessage:o,feeEstimatedInSol:r?zm(r).toString():null,buildingTransaction:!1},a=await _v(e);await kv(e,Jw(Fk,{context:{...a,...i}}),{...a,...i})}catch(t){vd.error(\"Could not build the send transaction\",t);const n={error:{title:\"send.simulationTitleError\",message:\"send.simulationMessageError\"},transactionMessage:null,feeEstimatedInSol:null,buildingTransaction:!1},r=await _v(e);await kv(e,Jw(Fk,{context:{...r,...n}}),{...r,...n})}}),(function(e){const t=(e=>(...t)=>{const n=new AbortController,r=[...t];r.some((e=>e instanceof AbortSignal))||r.push(n.signal);const o=Promise.race([e(...r),new Promise(((e,t)=>{n.signal.addEventListener(\"abort\",(()=>{t(new cT)}))}))]);return o.cancel=()=>n.abort(),o})(e);let n=null;return async(...e)=>{if(n&&\"function\"==typeof n.cancel){const e=\"Cancelling previous task\";vd.warn(e),n.cancel()}const r=t(...e);n=r;try{return await r}finally{n===r&&(n=null)}}}),iT()(500));const dT={[Tk.BackButton]:async function({id:e}){await Tv(e,!1),await BE.deleteKey(`mapInterfaceNameToId.${bv}`)},[Tk.SourceAccountSelector]:async function({id:e,event:t,context:n}){const r=t.value;n.fromAccountId=r.accountId,n.error=null,n.validation[Tk.SourceAccountSelector]=qk(Tk.SourceAccountSelector,n.fromAccountId,Zk(n)),n.amount&&(n.validation[Tk.AmountInput]=qk(Tk.AmountInput,n.amount,Zk(n))),await kv(e,Jw(Fk,{context:n}),n),await lT(e,n)},[Tk.AmountInput]:async function({id:e,event:t,context:n}){const r={...n};r.amount=t.value,r.error=null;const o=qk(Tk.AmountInput,r.amount,Zk(r));if(o&&r.validation[Tk.AmountInput]?.message!==o?.message)return r.validation[Tk.AmountInput]=o,void await kv(e,Jw(Fk,{context:r}),r);null===o&&(r.validation[Tk.AmountInput]=null,await kv(e,Jw(Fk,{context:r}),r),await lT(e,r))},[Tk.AssetSelector]:async function({id:e,event:t,context:n}){if(\"object\"!=typeof t.value||!(\"asset\"in t.value))return;const r=t.value.asset;if(n.tokenCaipId===r)return;const o=r===Rd[n.scope].nativeToken.caip19Id?WE:KE,i=new Dw(o).getFee(),a={tokenCaipId:r,feeEstimatedInSol:zm(i).toString(),selectedTokenMetadata:{symbol:t.value.symbol,name:t.value.name,asset:t.value.asset,imageSvg:null},amount:\"\",error:null},s=(0,Qd.merge)(n,a);await kv(e,Jw(Fk,{context:s,inputAmount:\"\"}),s),await lT(e,n)},[Tk.SwapCurrencyButton]:async function({id:e,context:t}){if(t.error=null,t.currencyType=t.currencyType===Ik.TOKEN?Ik.FIAT:Ik.TOKEN,!t.amount)return void await kv(e,Jw(Fk,{context:t}),t);const n=Vo(t.amount??\"0\"),{price:r}=t.tokenPrices[t.tokenCaipId]??{price:0};t.currencyType===Ik.TOKEN&&(t.amount=n.dividedBy(r).toString()),t.currencyType===Ik.FIAT&&(t.amount=n.multipliedBy(r).toString()),await kv(e,Jw(Fk,{context:t,inputAmount:t.amount}),t)},[Tk.MaxAmountButton]:async function({id:e,context:t}){const{currencyType:n,minimumBalanceForRentExemptionSol:r,tokenCaipId:o,tokenPrices:i}=t,a={...t},s=Bk(t);if(Mk(t)){const e=Um(s),t=new Dw(WE).getFee().toString(),n=Um(r),o=e.minus(t).minus(n).minus(1),i=Vo.maximum(o,o.isNegative()?e:Vo(0)),c=zm(i);a.amount=c.toString()}else a.amount=s;if(n===Ik.FIAT){const{price:e}=i[o]??{price:0};a.amount=eb(a.amount,e)}a.error=null,a.validation[Tk.AmountInput]=qk(Tk.AmountInput,a.amount,Zk(a)),await kv(e,Jw(Fk,{context:a,inputAmount:a.amount}),a),await lT(e,a)},[Tk.DestinationAccountInput]:async function({id:e,event:t,context:n}){const r={...n};r.destinationAddressOrDomain=t.value,r.domainResolutionStatus=null,r.error=null;const o=qk(Tk.DestinationAccountInput,r.destinationAddressOrDomain,Zk(r));r.validation[Tk.DestinationAccountInput]=o,$k(r?.destinationAddressOrDomain)?(r.domainResolutionStatus=\"fetching\",await kv(e,Jw(Fk,{context:r}),r),r.toAddress=await YE.resolveDomain(r.scope,r.destinationAddressOrDomain).catch((()=>{const e=wA(r.preferences.locale);return r.validation[Tk.DestinationAccountInput]={message:e(\"send.toInvalidErrorDomain\"),value:r.destinationAddressOrDomain??\"\"},null})),r.domainResolutionStatus=r.toAddress?\"fetched\":\"error\"):r.toAddress=r.destinationAddressOrDomain,await kv(e,Jw(Fk,{context:r}),r),null===o&&await lT(e,r)},[Tk.ClearButton]:async function({id:e,context:t}){t.destinationAddressOrDomain=\"\",t.toAddress=\"\",t.domainResolutionStatus=null,t.error=null,t.validation[Tk.DestinationAccountInput]=null,await kv(e,Jw(Fk,{context:t,inputToAddress:t.toAddress}),t)},[Tk.CancelButton]:async function({id:e}){await Tv(e,!1),await BE.deleteKey(`mapInterfaceNameToId.${bv}`)},[Tk.SendButton]:async function({id:e,context:t}){if(!Wk(t))return;const n={...t};n.stage=\"transaction-confirmation\",n.loading=!0,await kv(e,Jw(Fk,{context:n}),n);const r=t.accounts.find((e=>e.id===t.fromAccountId))?.address,[o,i,a,s]=await Promise.all([r?YE.resolveAddress(t.scope,r):null,t.toAddress?YE.resolveAddress(t.scope,t.toAddress):null,GE.getMultipleSpotPrices(t.assets,t.preferences.currency).then((e=>e)).catch((()=>null)),t.selectedTokenMetadata?Uw.generateImageComponent(Yd({baseUrl:PE.get().staticApi.baseUrl,path:\"/api/v2/tokenIcons/assets/{assetId}.png\",pathParams:{assetId:t.selectedTokenMetadata?.asset.replace(/:/gu,\"/\")},encodePathParams:!1})):null]);n.fromDomain=o,n.toDomain=i,a&&(n.tokenPrices=a),s&&t.selectedTokenMetadata&&(n.selectedTokenMetadata={...t.selectedTokenMetadata,imageSvg:s}),n.loading=!1,await kv(e,Jw(Fk,{context:n}),n),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:ib.OnTransactionAdded,params:{accountId:t.fromAccountId,metadata:{scope:t.scope,origin:Ed}}}}})}};const fT={[Dk.BackButton]:async function({id:e,context:t}){const n={...t,stage:\"send-form\"};await kv(e,Jw(Fk,{context:n,inputAmount:t.amount??\"\",inputToAddress:t.destinationAddressOrDomain??\"\"}),n)},[Dk.CancelButton]:async function({id:e,context:t}){const{fromAccountId:n,transactionMessage:r,scope:o}=t;await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:ib.OnTransactionRejected,params:{accountId:n,metadata:{scope:o,origin:Ed}}}}}),await Tv(e,!1),await BE.deleteKey(`mapInterfaceNameToId.${bv}`)},[Dk.ConfirmButton]:async function({id:e,context:t}){const{scope:n,fromAccountId:r,feeEstimatedInSol:o,transactionMessage:i}=t;if(t.error=null,!i)return t.stage=\"send-form\",void await kv(e,Jw(Fk,{context:t}),t);await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:ib.OnTransactionApproved,params:{accountId:t.fromAccountId,metadata:{scope:t.scope,origin:Ed}}}}});const a={...t,stage:\"send-pending\"};await kv(e,Jw(Fk,{context:a}),a);let s=null;try{const e=await dk.getAccountOrThrow(r);s=(await lk.signAndSendTransaction(e,i,n,Ed)).signature}catch(e){vd.error({error:e},\"Error submitting request\")}const c={...t,stage:s?\"transaction-success\":\"transaction-failure\",feePaidInSol:o,transaction:{result:s?\"success\":\"failure\",signature:s}};await kv(e,Jw(Fk,{context:c}),c),await BE.deleteKey(`mapInterfaceNameToId.${bv}`)}};const hT=2n**255n-19n,pT=2n**252n+27742317777372353535851937790883648493n,gT=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,mT=0x6666666666666666666666666666666666666666666666666666666666666658n,yT={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:hT,n:pT,h:8,Gx:gT,Gy:mT},vT=(e=\"\")=>{throw new Error(e)},wT=e=>\"string\"==typeof e,AT=(e,t)=>!(e=>e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name)(e)||\"number\"==typeof t&&t>0&&e.length!==t?vT(\"Uint8Array of valid length expected\"):e,bT=e=>new Uint8Array(e),ST=(e,t)=>AT(wT(e)?RT(e):bT(AT(e)),t),ET=(e,t=hT)=>{let n=e%t;return n>=0n?n:t+n},kT=e=>e instanceof TT?e:vT(\"Point expected\");class TT{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r}static fromAffine(e){return new TT(e.x,e.y,1n,ET(e.x*e.y))}static fromHex(e,t=!1){const{d:n}=yT,r=(e=ST(e,32)).slice(),o=e[31];r[31]=-129&o;const i=NT(r);!t||0n<=i&&i<2n**256n||vT(\"bad y coord 1\"),t||0n<=i&&i<hT||vT(\"bad y coord 2\");const a=ET(i*i),s=ET(a-1n),c=ET(n*a+1n);let{isValid:u,value:l}=UT(s,c);u||vT(\"bad y coordinate 3\");const d=1n===(1n&l),f=0!=(128&o);return!t&&0n===l&&f&&vT(\"bad y coord 3\"),f!==d&&(l=ET(-l)),new TT(l,i,1n,ET(l*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:a}=kT(e),s=ET(t*a),c=ET(o*r),u=ET(n*a),l=ET(i*r);return s===c&&u===l}is0(){return this.equals(xT)}negate(){return new TT(ET(-this.ex),this.ey,this.ez,ET(-this.et))}double(){const{ex:e,ey:t,ez:n}=this,{a:r}=yT,o=ET(e*e),i=ET(t*t),a=ET(2n*ET(n*n)),s=ET(r*o),c=e+t,u=ET(ET(c*c)-o-i),l=s+i,d=l-a,f=s-i,h=ET(u*d),p=ET(l*f),g=ET(u*f),m=ET(d*l);return new TT(h,p,m,g)}add(e){const{ex:t,ey:n,ez:r,et:o}=this,{ex:i,ey:a,ez:s,et:c}=kT(e),{a:u,d:l}=yT,d=ET(t*i),f=ET(n*a),h=ET(o*l*c),p=ET(r*s),g=ET((t+n)*(i+a)-d-f),m=ET(p-h),y=ET(p+h),v=ET(f-u*d),w=ET(g*m),A=ET(y*v),b=ET(g*v),S=ET(m*y);return new TT(w,A,S,b)}mul(e,t=!0){if(0n===e)return!0===t?vT(\"cannot multiply by 0\"):xT;if(\"bigint\"==typeof e&&0n<e&&e<pT||vT(\"invalid scalar, must be < L\"),!t&&this.is0()||1n===e)return this;if(this.equals(IT))return nI(e).p;let n=xT,r=IT;for(let o=this;e>0n;o=o.double(),e>>=1n)1n&e?n=n.add(o):t&&(r=r.add(o));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(yT.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(pT/2n,!1).double();return pT%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:n}=this;if(this.equals(xT))return{x:0n,y:1n};const r=MT(n);return 1n!==ET(n*r)&&vT(\"invalid inverse\"),{x:ET(e*r),y:ET(t*r)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=PT(t);return n[31]|=1n&e?128:0,n}toHex(){return CT(this.toRawBytes())}}TT.BASE=new TT(gT,mT,1n,ET(gT*mT)),TT.ZERO=new TT(0n,1n,1n,0n);const{BASE:IT,ZERO:xT}=TT,_T=(e,t)=>e.toString(16).padStart(t,\"0\"),CT=e=>Array.from(e).map((e=>_T(e,2))).join(\"\"),RT=e=>{const t=e.length;(!wT(e)||t%2)&&vT(\"hex invalid 1\");const n=bT(t/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);(Number.isNaN(i)||i<0)&&vT(\"hex invalid 2\"),n[t]=i}return n},PT=e=>RT(_T(e,64)).reverse(),NT=e=>BigInt(\"0x\"+CT(bT(AT(e)).reverse())),BT=(...e)=>{const t=bT(e.reduce(((e,t)=>e+AT(t).length),0));let n=0;return e.forEach((e=>{t.set(e,n),n+=e.length})),t},MT=(e,t=hT)=>{(0n===e||t<=0n)&&vT(\"no inverse n=\"+e+\" mod=\"+t);let n=ET(e,t),r=t,o=0n,i=1n,a=1n,s=0n;for(;0n!==n;){const e=r/n,t=r%n,c=o-a*e,u=i-s*e;r=n,n=t,o=a,i=s,a=c,s=u}return 1n===r?ET(o,t):vT(\"no inverse\")},OT=(e,t)=>{let n=e;for(;t-- >0n;)n*=n,n%=hT;return n},zT=19681161376707505956807079304988542015446066515923890162744021073123829784752n,UT=(e,t)=>{const n=ET(t*t*t),r=(e=>{const t=e*e%hT*e%hT,n=OT(t,2n)*t%hT,r=OT(n,1n)*e%hT,o=OT(r,5n)*r%hT,i=OT(o,10n)*o%hT,a=OT(i,20n)*i%hT,s=OT(a,40n)*a%hT,c=OT(s,80n)*s%hT,u=OT(c,80n)*s%hT,l=OT(u,10n)*o%hT;return{pow_p_5_8:OT(l,2n)*e%hT,b2:t}})(e*ET(n*n*t)).pow_p_5_8;let o=ET(e*n*r);const i=ET(t*o*o),a=o,s=ET(o*zT),c=i===e,u=i===ET(-e),l=i===ET(-e*zT);return c&&(o=a),(u||l)&&(o=s),1n===(1n&ET(o))&&(o=ET(-o)),{isValid:c||u,value:o}},jT=e=>ET(NT(e),pT);let DT;const LT=(...e)=>XT.sha512Async(...e),FT=(...e)=>\"function\"==typeof DT?DT(...e):vT(\"etc.sha512Sync not set\"),$T=e=>{const t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=e.slice(32,64),r=jT(t),o=IT.mul(r),i=o.toRawBytes();return{head:t,prefix:n,scalar:r,point:o,pointBytes:i}},qT=e=>LT(ST(e,32)).then($T),WT=e=>$T(FT(ST(e,32))),VT=e=>qT(e).then((e=>e.pointBytes));function KT(e,t){return e?LT(t.hashable).then(t.finish):t.finish(FT(t.hashable))}const GT=(e,t,n)=>{const{pointBytes:r,scalar:o}=e,i=jT(t),a=IT.mul(i).toRawBytes();return{hashable:BT(a,r,n),finish:e=>{const t=ET(i+jT(e)*o,pT);return AT(BT(a,PT(t)),64)}}},HT=async(e,t)=>{const n=ST(e),r=await qT(t),o=await LT(r.prefix,n);return KT(!0,GT(r,o,n))},ZT={zip215:!0},JT=(e,t,n,r=ZT)=>{t=ST(t),e=ST(e,64);const{zip215:o}=r;let i,a,s,c,u=new Uint8Array;try{i=TT.fromHex(n,o),a=TT.fromHex(e.slice(0,32),o),s=NT(e.slice(32,64)),c=IT.mul(s,!1),u=BT(a.toRawBytes(),i.toRawBytes(),t)}catch(e){}return{hashable:u,finish:e=>{if(null==c)return!1;if(!o&&i.isSmallOrder())return!1;const t=jT(e);return a.add(i.mul(t,!1)).add(c.negate()).clearCofactor().is0()}}},YT=async(e,t,n,r=ZT)=>KT(!0,JT(e,t,n,r)),QT=()=>\"object\"==typeof globalThis&&\"crypto\"in globalThis?globalThis.crypto:void 0,XT={bytesToHex:CT,hexToBytes:RT,concatBytes:BT,mod:ET,invert:MT,randomBytes:(e=32)=>{const t=QT();return t&&t.getRandomValues||vT(\"crypto.getRandomValues must be defined\"),t.getRandomValues(bT(e))},sha512Async:async(...e)=>{const t=QT();t&&t.subtle||vT(\"crypto.subtle or etc.sha512Async must be defined\");const n=BT(...e);return bT(await t.subtle.digest(\"SHA-512\",n.buffer))},sha512Sync:void 0};Object.defineProperties(XT,{sha512Sync:{configurable:!1,get:()=>DT,set(e){DT||(DT=e)}}});const eI={getExtendedPublicKeyAsync:qT,getExtendedPublicKey:WT,randomPrivateKey:()=>XT.randomBytes(32),precompute:(e=8,t=IT)=>(t.multiply(3n),t)};let tI;const nI=e=>{const t=tI||(tI=(()=>{const e=[];let t=IT,n=t;for(let r=0;r<33;r++){n=t,e.push(n);for(let r=1;r<128;r++)n=n.add(t),e.push(n);t=n.double()}return e})()),n=(e,t)=>{let n=t.negate();return e?n:t};let r=xT,o=IT;const i=BigInt(255),a=BigInt(8);for(let s=0;s<33;s++){const c=128*s;let u=Number(e&i);e>>=a,u>128&&(u-=256,e+=1n);const l=c,d=c+Math.abs(u)-1,f=s%2!=0,h=u<0;0===u?o=o.add(n(f,t[l])):r=r.add(n(h,t[d]))}return{p:r,f:o}};function rI(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var oI=n(1048).hp;const iI=\"8d9df0f7-1363-4d2c-8152-ce4ed78f27d8\",aI=[48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32];function sI(e){return oI.from(e).toString(\"base64\").replace(/\\+/gu,\"-\").replace(/\\//gu,\"_\").replace(/[=]/gu,\"\")}function cI(e){const t=e.replace(/-/gu,\"+\").replace(/_/gu,\"/\");return new Uint8Array(oI.from(t,\"base64\"))}function uI(e){return\"Ed25519\"===e||\"object\"==typeof e&&\"Ed25519\"===e.name}function lI(){const{subtle:e}=globalThis.crypto;Object.defineProperty(globalThis,\"isSecureContext\",{value:!0,writable:!0,configurable:!0}),Object.defineProperty(e,\"generateKey\",{value:async(...e)=>uI(e[0])?await async function(e,t,n){const r=eI.randomPrivateKey(),o=await VT(r),i=Array.from(n);return{privateKey:{algorithm:{name:\"Ed25519\"},extractable:t,type:\"private\",usages:i,[iI]:r},publicKey:{algorithm:{name:\"Ed25519\"},extractable:!0,type:\"public\",usages:i,[iI]:o}}}(...e):await globalThis.crypto.subtle.generateKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,\"exportKey\",{value:async(...e)=>uI(e[1].algorithm)?await async function(e,t){if(!t.extractable)throw new DOMException(\"key is not extractable\",\"InvalidAccessException\");const n=t[iI];switch(e){case\"raw\":if(\"public\"!==t.type)throw new DOMException(\"Unable to export a raw Ed25519 private key\",\"InvalidAccessError\");return n.buffer;case\"pkcs8\":if(\"private\"!==t.type)throw new DOMException(\"Unable to export a pkcs8 Ed25519 public key\",\"InvalidAccessError\");return new Uint8Array([...aI,...n]).buffer;case\"jwk\":{const e={crv:\"Ed25519\",ext:t.extractable,key_ops:t.usages,kty:\"OKP\"};if(\"private\"===t.type){const t=await VT(n);return Object.freeze({...e,d:sI(n),x:sI(t)})}return Object.freeze({...e,x:sI(n)})}case\"spki\":{if(\"public\"!==t.type)throw new DOMException(\"Only public keys can be exported as SPKI\",\"InvalidAccessError\");const e=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([3,n.length+1,0,...n]);return new Uint8Array([48,e.length+r.length,...e,...r]).buffer}default:throw new Error(`Unsupported export format: ${e}`)}}(...e):await globalThis.crypto.subtle.exportKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,\"sign\",{value:async(...e)=>{const[t,n]=e;return uI(t)&&uI(n.algorithm)?await async function(e,t,n){if(\"private\"!==t.type)throw new DOMException(\"Key is not private\",\"NotAllowedError\");if(!t.usages.includes(\"sign\"))throw new DOMException(\"Key usage not allowed\",\"NotAllowedError\");const r=rI(n),o=t[iI],i=function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteLength)}(await HT(r,o));return i}(...e):await globalThis.crypto.subtle.sign(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,\"verify\",{value:async(...e)=>{const[t,n]=e;return uI(t)&&uI(n.algorithm)?await async function(e,t,n,r){if(\"public\"!==t.type)throw new DOMException(\"Key is not public\",\"NotAllowedError\");if(!t.usages.includes(\"verify\"))throw new DOMException(\"Key usage not allowed\",\"NotAllowedError\");const o=rI(n),i=rI(r),a=t[iI];return await YT(o,i,a)}(...e):await globalThis.crypto.subtle.verify(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,\"importKey\",{value:async(...e)=>uI(e[2])?await async function(e,t,n,r,o){const i=Array.from(o);switch(e){case\"raw\":{const e=rI(t);if(32!==e.length)throw new DOMException(\"Ed25519 raw keys must be exactly 32-bytes\",\"DataError\");return{algorithm:{name:\"Ed25519\"},extractable:r,type:\"public\",usages:i.filter((e=>\"verify\"===e)),[iI]:e}}case\"pkcs8\":{const e=rI(t);if(48!==e.length)throw new DOMException(\"Invalid PKCS8 key data length\",\"DataError\");if(!e.slice(0,16).every(((e,t)=>e===aI[t])))throw new DOMException(\"Invalid PKCS8 header\",\"DataError\");return{algorithm:{name:\"Ed25519\"},extractable:r,type:\"private\",usages:i.filter((e=>\"sign\"===e)),[iI]:e.slice(16)}}case\"jwk\":{const e=t;if(\"OKP\"!==e.kty||\"Ed25519\"!==e.crv)throw new DOMException(\"Invalid Ed25519 JWK\",\"DataError\");const n=\"d\"in e?\"private\":\"public\";if(\"public\"===n&&!e.x)throw new DOMException(\"Ed25519 JWK is missing public key\",\"DataError\");if(!(\"private\"!==n||e.d&&e.x))throw new DOMException(\"Ed25519 JWK is missing key data\",\"DataError\");const o=\"private\"===n?e.d:e.x;return{algorithm:{name:\"Ed25519\"},extractable:r,type:n,usages:i.filter((e=>\"private\"===n?\"sign\"===e:\"verify\"===e)),[iI]:cI(o)}}case\"spki\":{const e=rI(t);if(48!==e[0])throw new DOMException(\"Invalid SPKI format\",\"DataError\");const n=2;if(48!==e[n]||6!==e[n+2]||3!==e[n+3]||43!==e[n+4]||101!==e[n+5]||112!==e[n+6])throw new DOMException(\"Not an Ed25519 key\",\"DataError\");const r=n+7+2;return{algorithm:{name:\"Ed25519\"},extractable:!0,type:\"public\",usages:i.filter((e=>\"verify\"===e)),[iI]:e.slice(r)}}default:throw new Error(`Unsupported import format: ${e}`)}}(...e):await globalThis.crypto.subtle.importKey(...e),writable:!0,configurable:!0})}const dI=async e=>Promise.resolve().then(e);Object.defineProperty(globalThis,\"DOMException\",{value:Error,writable:!0,configurable:!0,enumerable:!0}),lI(),Object.defineProperty(globalThis,\"queueMicrotask\",{value:dI,writable:!0,configurable:!0,enumerable:!0}),Vo.config({EXPONENTIAL_AT:16});const fI=async({origin:e,request:t})=>{vd.log(\"[ onRpcRequest]\",t.method,t);const{method:n}=t;Hv(e,n);const r=nT[n];if(!r)throw new go(`RpcRequest method ${n} not found. Available methods: ${Object.values(Mv).toString()}`);return await rT((async()=>r({origin:e,request:t})))??null},hI=async({origin:e,request:t})=>{vd.log(\"[ onKeyringRequest]\",t.method,t),Hv(e,t.method),t.method===un.SubmitRequest&&t.params&&!(\"origin\"in t.params)&&(t.params.origin=\"https://metamask.io\");return await rT((async()=>Nn(dk,t)))??null},pI=async({id:e,event:t,context:n})=>{if(vd.log(\"[ onUserInput]\",e,t),!t.name)return;const r={...dT,...fT,...qA,...LA,...UA}[t.name];r&&await rT((async()=>r({id:e,event:t,context:n,snapContext:gk})))},gI=async({request:e})=>{const t=yd(vd,\"[ onCronjob]\");t.log(e.method,e);const{method:n}=e;z(n,Z([...Object.values(Xk),...Object.values(ib)]));return await rT((async()=>{t.log(\"Running cronjob\",{method:n});const r=Qk[n];if(!r)throw new go(`Cronjob / ScheduleBackgroundEvent method ${n} not found. Available methods: ${Object.values([...Object.values(Xk),...Object.values(ib)]).toString()}`);return r({request:e})}))??null},mI=async e=>{const t=await rT((async()=>(async e=>{vd.log(\"[ onAssetsLookup]\",e);const{assets:t}=e,n=t.filter((e=>{const{assetNamespace:t}=ii(e);return\"token\"===t||\"slip44\"===t}));return{assets:await XE.getAssetsMetadata(n)}})(e)));return t??null},yI=async e=>{const t=await rT((async()=>(async e=>{vd.log(\"[ onAssetsConversion]\",e);const{conversions:t}=e;return{conversionRates:await JE.getMultipleTokenConversions(t)}})(e)));return t??null},vI=async e=>{const{origin:t,request:n}=e;Hv(t,n.method);const r=await rT((async()=>(async({scope:e,request:t})=>{switch(z(e,Ld),t.method){case Cv.GetGenesisHash:return z(t,Rv),UE.getRpc(e).getGenesisHash().send();case Cv.GetLatestBlockhash:return z(t,Pv),(await UE.getLatestBlockhash(e)).blockhash;case Cv.GetMinimumBalanceForRentExemption:return z(t,Nv),(await UE.getRpc(e).getMinimumBalanceForRentExemption(BigInt(t.params[0]),t.params[1]).send()).toString();default:throw new Error(`Unsupported method: ${t.method}`)}})(e)));return r??null},wI=async e=>{const t=await rT((async()=>(async e=>{vd.log(\"[ onAssetHistoricalPrice]\",e);const{from:t,to:n}=e;return z(t,ri),z(n,ri),{historicalPrice:await JE.getHistoricalPrice(t,n)}})(e)));return t??null},AI=async({request:e})=>await rT((async()=>pk.handle(e)))??null,bI=async({event:e})=>rT((async()=>{await NE.emitSync(\"onWebSocketEvent\",e)})),SI=async()=>rT((async()=>{await NE.emitSync(\"onStart\")})),EI=async()=>rT((async()=>{await NE.emitSync(\"onUpdate\")})),kI=async()=>rT((async()=>{await NE.emitSync(\"onInstall\")})),TI=async()=>rT((async()=>{await NE.emitSync(\"onActive\")})),II=async()=>rT((async()=>{await NE.emitSync(\"onInactive\")})),xI=async e=>{const t=await rT((async()=>(async e=>{z(e,eT);const{chainId:t,domain:n,address:r}=e,o=new RegExp(`^.+\\\\${YE.tld}$`,\"u\");if(n&&o.test(n)){const e=await YE.resolveDomain(t,n);if(e)return{resolvedAddresses:[{resolvedAddress:e,protocol:tT,domainName:n}]}}if(r){const e=await YE.resolveAddress(t,r);if(e)return{resolvedDomains:[{resolvedDomain:e,protocol:tT}]}}return null})(e)));return t??null},_I=async e=>{const t=await rT((async()=>(async e=>{vd.log(\"[ onAssetsMarketData]\",e);const{assets:t}=e;return{marketData:await XE.fetchAssetsMarketData(t)}})(e)));return t??null}})(),module.exports=r})();"},{"path":"locales/en.json","value":"{\n  \"locale\": \"en\",\n  \"messages\": {\n    \"send.title\": {\n      \"message\": \"Send\"\n    },\n    \"send.balance\": {\n      \"message\": \"Balance\"\n    },\n    \"send.maxButton\": {\n      \"message\": \"Max\"\n    },\n    \"send.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"send.continueButton\": {\n      \"message\": \"Continue\"\n    },\n    \"send.fromField\": {\n      \"message\": \"From\"\n    },\n    \"send.toField\": {\n      \"message\": \"To\"\n    },\n    \"send.amountField\": {\n      \"message\": \"Amount\"\n    },\n    \"send.assetField\": {\n      \"message\": \"Token\"\n    },\n    \"send.toPlaceholder\": {\n      \"message\": \"Enter public address or domain name\"\n    },\n    \"send.fromRequiredError\": {\n      \"message\": \"Account is required\"\n    },\n    \"send.amountRequiredError\": {\n      \"message\": \"Amount is required\"\n    },\n    \"send.amountGreatherThanMinimumBalanceForRentExemptionError\": {\n      \"message\": \"Amount must be greater than {minimumValue}\"\n    },\n    \"send.insuffientSolToCoverFee\": {\n      \"message\": \"Insufficient SOL balance to cover the transaction fee\"\n    },\n    \"send.toRequiredError\": {\n      \"message\": \"To address is required\"\n    },\n    \"send.toInvalidError\": {\n      \"message\": \"Invalid Solana address or domain name\"\n    },\n    \"send.toInvalidErrorDomain\": {\n      \"message\": \"Unable to resolve domain name\"\n    },\n    \"send.toDomainResolutionStatus.initial\": {\n      \"message\": \"Domain\"\n    },\n    \"send.toDomainResolutionStatus.fetching\": {\n      \"message\": \"Resolving domain name...\"\n    },\n    \"send.toDomainResolutionStatus.fetched\": {\n      \"message\": \"Domain name resolved.\"\n    },\n    \"send.toDomainResolutionStatus.error\": {\n      \"message\": \"Unable to resolve domain name.\"\n    },\n    \"send.insufficientBalance\": {\n      \"message\": \"Insufficient balance\"\n    },\n    \"send.simulationTitleAPIError\": {\n      \"message\": \"Because of an error, we couldn't check for security alerts.\"\n    },\n    \"send.simulationMessageAPIError\": {\n      \"message\": \"Only continue if you trust every address involved.\"\n    },\n    \"send.simulationTitleError\": {\n      \"message\": \"Transaction simulation failed\"\n    },\n    \"send.simulationMessageError\": {\n      \"message\": \"This transaction was reverted during simulation.\"\n    },\n    \"send.selectedTokenPriceNotAvailable\": {\n      \"message\": \"Prices for tokens in {currency} are currently not available. You are still able to send tokens.\"\n    },\n    \"send.confirmation.title\": {\n      \"message\": \"Review\"\n    },\n    \"send.confirmation.from\": {\n      \"message\": \"From\"\n    },\n    \"send.confirmation.recipient\": {\n      \"message\": \"Recipient\"\n    },\n    \"send.confirmation.network\": {\n      \"message\": \"Network\"\n    },\n    \"send.confirmation.transactionSpeed\": {\n      \"message\": \"Transaction speed\"\n    },\n    \"send.confirmation.fee\": {\n      \"message\": \"Network fee\"\n    },\n    \"send.confirmation.sendButton\": {\n      \"message\": \"Send\"\n    },\n    \"send.confirmation.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"send.confirmation.viewTransaction\": {\n      \"message\": \"View transaction\"\n    },\n    \"send.send-pending.title\": {\n      \"message\": \"Sending...\"\n    },\n    \"send.send-pending.subtitle\": {\n      \"message\": \"Your transaction was submitted.\"\n    },\n    \"send.transaction-success.title\": {\n      \"message\": \"Sent\"\n    },\n    \"send.transaction-success.subtitle\": {\n      \"message\": \"{amount} {tokenSymbol} was successfully sent\"\n    },\n    \"send.transaction-failure.title\": {\n      \"message\": \"Transaction failed\"\n    },\n    \"send.transaction-failure.subtitle\": {\n      \"message\": \"Unable to send {amount} {tokenSymbol}\"\n    },\n    \"confirmation.account\": {\n      \"message\": \"Account\"\n    },\n    \"confirmation.network\": {\n      \"message\": \"Network\"\n    },\n    \"confirmation.estimatedChanges\": {\n      \"message\": \"Estimated changes\"\n    },\n    \"confirmation.estimatedChanges.send\": {\n      \"message\": \"You send\"\n    },\n    \"confirmation.estimatedChanges.receive\": {\n      \"message\": \"You receive\"\n    },\n    \"confirmation.estimatedChanges.notAvailable\": {\n      \"message\": \"Not available\"\n    },\n    \"confirmation.estimatedChanges.noChanges\": {\n      \"message\": \"No changes\"\n    },\n    \"confirmation.estimatedChanges.tooltip\": {\n      \"message\": \"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee.\"\n    },\n    \"confirmation.advanced.show\": {\n      \"message\": \"Show advanced\"\n    },\n    \"confirmation.advanced.hide\": {\n      \"message\": \"Hide advanced\"\n    },\n    \"confirmation.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"confirmation.confirmButton\": {\n      \"message\": \"Confirm\"\n    },\n    \"confirmation.signAndSendTransaction.title\": {\n      \"message\": \"Transaction request\"\n    },\n    \"confirmation.signTransaction.title\": {\n      \"message\": \"Signing request\"\n    },\n    \"confirmation.sendAndConfirmTransaction.title\": {\n      \"message\": \"Sending and confirming transaction\"\n    },\n    \"confirmation.advanced.unknownInstruction\": {\n      \"message\": \"Unknown\"\n    },\n    \"confirmation.advanced.programId\": {\n      \"message\": \"Program ID\"\n    },\n    \"confirmation.advanced.data\": {\n      \"message\": \"Data\"\n    },\n    \"confirmation.fee\": {\n      \"message\": \"Network fee\"\n    },\n    \"confirmation.feeError\": {\n      \"message\": \"Unable to estimate fee\"\n    },\n    \"confirmation.origin\": {\n      \"message\": \"Request from\"\n    },\n    \"confirmation.origin.tooltip\": {\n      \"message\": \"This is the site asking for your confirmation.\"\n    },\n    \"confirmation.simulationErrorTitle\": {\n      \"message\": \"This transaction was reverted during simulation.\"\n    },\n    \"confirmation.simulationErrorSubtitle\": {\n      \"message\": \"{reason}\"\n    },\n    \"confirmation.validationErrorTitle\": {\n      \"message\": \"This is a deceptive request\"\n    },\n    \"confirmation.validationErrorSubtitle\": {\n      \"message\": \"If you approve this request, a third party known for scams will take all your assets.\"\n    },\n    \"confirmation.validationErrorLearnMore\": {\n      \"message\": \"Learn more\"\n    },\n    \"confirmation.validationErrorSecurityAdviced\": {\n      \"message\": \"Security advice by\"\n    },\n    \"confirmation.signMessage.title\": {\n      \"message\": \"Sign message\"\n    },\n    \"confirmation.signMessage.message\": {\n      \"message\": \"Message\"\n    },\n    \"confirmation.signIn.title\": {\n      \"message\": \"Sign-in request\"\n    },\n    \"confirmation.signIn.description\": {\n      \"message\": \"A site wants you to sign in to prove you own this account.\"\n    },\n    \"confirmation.signIn.domain\": {\n      \"message\": \"Domain\"\n    },\n    \"confirmation.signIn.unknownDomain\": {\n      \"message\": \"Unknown domain\"\n    },\n    \"confirmation.signIn.signingInWith\": {\n      \"message\": \"Signing in with\"\n    },\n    \"confirmation.signIn.badAccount\": {\n      \"message\": \"This site is asking you to sign in using the wrong account.\"\n    },\n    \"confirmation.signIn.message\": {\n      \"message\": \"Message\"\n    },\n    \"confirmation.signIn.statement\": {\n      \"message\": \"Statement\"\n    },\n    \"confirmation.signIn.version\": {\n      \"message\": \"Version\"\n    },\n    \"confirmation.signIn.chainId\": {\n      \"message\": \"Chain ID\"\n    },\n    \"confirmation.signIn.nonce\": {\n      \"message\": \"Nonce\"\n    },\n    \"confirmation.signIn.issuedAt\": {\n      \"message\": \"Issued at\"\n    },\n    \"confirmation.signIn.expirationTime\": {\n      \"message\": \"Expiration time\"\n    },\n    \"confirmation.signIn.notBefore\": {\n      \"message\": \"Not before\"\n    },\n    \"confirmation.signIn.requestId\": {\n      \"message\": \"Request ID\"\n    },\n    \"confirmation.signIn.resources\": {\n      \"message\": \"Resources\"\n    },\n    \"confirmation.signIn.badDomain\": {\n      \"message\": \"This site is asking you to sign in using the wrong domain.\"\n    },\n    \"transactionScan.errors.accountAlreadyInUse\": {\n      \"message\": \"An account with the same address already exists.\"\n    },\n    \"transactionScan.errors.insufficientSol\": {\n      \"message\": \"Account does not have enough SOL to perform the operation.\"\n    },\n    \"transactionScan.errors.slippageToleranceExceeded\": {\n      \"message\": \"The transaction was reverted because the slippage tolerance was exceeded.\"\n    },\n    \"transactionScan.errors.unknownError\": {\n      \"message\": \"An unknown error occurred.\"\n    }\n  }\n}"}],"removable":false,"hideSnapBranding":true}