LavaPack.loadBundle([[1826,{"./parse.js":1819,"./stringify.js":1823},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.URL=n.DNS=void 0,n.default=function(e,t,n){function r(e,r,a,o){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,s.default)(r)),16!==(null===(c=r)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(r),u.set(e,r.length),u=n(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){o=o||0;for(let e=0;e<16;++e)a[o+e]=u[e];return a}return(0,i.unsafeStringify)(u)}try{r.name=e}catch(e){}return r.DNS=a,r.URL=o,r};var r,i=e("./stringify.js"),s=(r=e("./parse.js"))&&r.__esModule?r:{default:r};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=a;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=o}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v35.js"}],[1827,{"./native.js":1817,"./rng.js":1821,"./stringify.js":1823},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("./native.js")),i=a(e("./rng.js")),s=e("./stringify.js");function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,s.unsafeStringify)(a)};n.default=o}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v4.js"}],[1828,{"./sha1.js":1822,"./v35.js":1826},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v5",80,i.default);n.default=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v5.js"}],[1829,{"./regex.js":1820},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./regex.js"))&&r.__esModule?r:{default:r};var s=function(e){return"string"==typeof e&&i.default.test(e)};n.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/validate.js"}],[1830,{"./validate.js":1829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};n.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/version.js"}],[1831,{"json-rpc-random-id":4365,xtend:5404},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("json-rpc-random-id")(),i=e("xtend");function s(e){this.currentProvider=e}function a(e){return function(...t){const n=t.pop();this.sendAsync({method:e,params:t},n)}}function o(e,t){return function(...n){const r=n.pop();n.length<e&&n.push("latest"),this.sendAsync({method:t,params:n},r)}}t.exports=s,s.prototype.getBalance=o(2,"eth_getBalance"),s.prototype.getCode=o(2,"eth_getCode"),s.prototype.getTransactionCount=o(2,"eth_getTransactionCount"),s.prototype.getStorageAt=o(3,"eth_getStorageAt"),s.prototype.call=o(2,"eth_call"),s.prototype.protocolVersion=a("eth_protocolVersion"),s.prototype.syncing=a("eth_syncing"),s.prototype.coinbase=a("eth_coinbase"),s.prototype.mining=a("eth_mining"),s.prototype.hashrate=a("eth_hashrate"),s.prototype.gasPrice=a("eth_gasPrice"),s.prototype.accounts=a("eth_accounts"),s.prototype.blockNumber=a("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=a("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=a("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=a("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=a("eth_getUncleCountByBlockNumber"),s.prototype.sign=a("eth_sign"),s.prototype.sendTransaction=a("eth_sendTransaction"),s.prototype.sendRawTransaction=a("eth_sendRawTransaction"),s.prototype.estimateGas=a("eth_estimateGas"),s.prototype.getBlockByHash=a("eth_getBlockByHash"),s.prototype.getBlockByNumber=a("eth_getBlockByNumber"),s.prototype.getTransactionByHash=a("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=a("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=a("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=a("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=a("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=a("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=a("eth_getCompilers"),s.prototype.compileLLL=a("eth_compileLLL"),s.prototype.compileSolidity=a("eth_compileSolidity"),s.prototype.compileSerpent=a("eth_compileSerpent"),s.prototype.newFilter=a("eth_newFilter"),s.prototype.newBlockFilter=a("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=a("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=a("eth_uninstallFilter"),s.prototype.getFilterChanges=a("eth_getFilterChanges"),s.prototype.getFilterLogs=a("eth_getFilterLogs"),s.prototype.getLogs=a("eth_getLogs"),s.prototype.getWork=a("eth_getWork"),s.prototype.submitWork=a("eth_submitWork"),s.prototype.submitHashrate=a("eth_submitHashrate"),s.prototype.sendAsync=function(e,t){var n;this.currentProvider.sendAsync((n=e,i({id:r(),jsonrpc:"2.0",params:[]},n)),function(e,n){let r=e;return!e&&n.error&&(r=new Error(`EthQuery - RPC Error - ${n.error.message}`)),r?t(r):t(null,n.result)})}}}},{package:"@metamask/controller-utils>@metamask/eth-query",file:"node_modules/@metamask/eth-query/index.js"}],[1832,{"./utils":1837,"@scure/base":1854,buffer:3760,tweetnacl:5322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.getEncryptionPublicKey=n.decryptSafely=n.decrypt=n.encryptSafely=n.encrypt=void 0;const a=e("@scure/base"),o=s(e("tweetnacl")),c=e("./utils");function u({publicKey:e,data:t,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===n){if("string"!=typeof t)throw new Error("Message data must be given as a string");const n=o.box.keyPair();let r;try{r=a.base64.decode(e)}catch(e){throw new Error("Bad public key")}const i=a.utf8.decode(t),s=o.randomBytes(o.box.nonceLength),c=o.box(i,s,r,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:a.base64.encode(s),ephemPublicKey:a.base64.encode(n.publicKey),ciphertext:a.base64.encode(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:n}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(n))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const r=t.from(n,"hex"),i=o.box.keyPair.fromSecretKey(r).secretKey,s=a.base64.decode(e.nonce),c=a.base64.decode(e.ciphertext),u=a.base64.decode(e.ephemPublicKey),l=o.box.open(c,s,u,i);try{if(!l)throw new Error;const e=a.utf8.encode(l);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}n.encrypt=u,n.encryptSafely=function({publicKey:e,data:n,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(n))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("object"==typeof n&&n&&"toJSON"in n)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:n,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let a=0;return s>0&&(a=2048-s-16),i.padding="0".repeat(a),u({publicKey:e,data:JSON.stringify(i),version:r})},n.decrypt=l,n.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},n.getEncryptionPublicKey=function(e){const n=t.from(e,"hex"),r=o.box.keyPair.fromSecretKey(n).publicKey;return a.base64.encode(r)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[1833,{"./encryption":1832,"./personal-sign":1834,"./sign-eip7702-authorization":1835,"./sign-typed-data":1836,"./utils":1837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.normalize=n.concatSig=void 0,i(e("./personal-sign"),n),i(e("./sign-typed-data"),n),i(e("./encryption"),n),i(e("./sign-eip7702-authorization"),n);var s=e("./utils");Object.defineProperty(n,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(n,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/index.js"}],[1834,{"./utils":1837,"@ethereumjs/util":1846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractPublicKey=n.recoverPersonalSignature=n.personalSign=void 0;const r=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const n=(0,r.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(n,t)}n.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const n=(0,i.legacyToBuffer)(t),s=(0,r.hashPersonalMessage)(n),a=(0,r.ecsign)(s,e);return(0,i.concatSig)((0,r.toBuffer)(a.v),a.r,a.s)},n.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const n=s(e,t),a=(0,r.publicToAddress)(n);return(0,r.bufferToHex)(a)},n.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1835,{"./utils":1837,"@ethereumjs/rlp":1838,"@ethereumjs/util":1846,"@metamask/utils":2799,buffer:3760,"ethereum-cryptography/keccak":3988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.hashEIP7702Authorization=n.recoverEIP7702Authorization=n.signEIP7702Authorization=void 0;const r=e("@ethereumjs/rlp"),i=e("@ethereumjs/util"),s=e("@metamask/utils"),a=e("ethereum-cryptography/keccak"),o=e("./utils");function c(e){u(e);const n=(0,r.encode)(e),i=t.concat([t.from("05","hex"),n]);return t.from((0,a.keccak256)(i))}function u(e){if((0,o.isNullish)(e))throw new Error("Missing authorization parameter");const[t,n,r]=e;if((0,o.isNullish)(t))throw new Error("Missing chainId parameter");if((0,o.isNullish)(n))throw new Error("Missing contractAddress parameter");if((0,o.isNullish)(r))throw new Error("Missing nonce parameter")}n.signEIP7702Authorization=function({privateKey:e,authorization:t}){if(u(t),(0,o.isNullish)(e))throw new Error("Missing privateKey parameter");const n=c(t),{r:r,s:s,v:a}=(0,i.ecsign)(n,e),l=(0,i.toBuffer)(a);return(0,o.concatSig)(l,r,s)},n.recoverEIP7702Authorization=function({signature:e,authorization:t}){if(u(t),(0,o.isNullish)(e))throw new Error("Missing signature parameter");const n=c(t),r=(0,o.recoverPublicKey)(n,e),a=(0,i.publicToAddress)(r);return(0,s.bytesToHex)(a)},n.hashEIP7702Authorization=c}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-eip7702-authorization.js"}],[1836,{"./utils":1837,"@ethereumjs/util":1846,"@metamask/abi-utils":1055,"@metamask/abi-utils/dist/parsers":1064,"@metamask/abi-utils/dist/utils":1072,"@metamask/utils":2799,"ethereum-cryptography/keccak":3988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.recoverTypedSignature=n.signTypedData=n.typedSignatureHash=n.TypedDataUtils=n.TYPED_MESSAGE_SCHEMA=n.SignTypedDataVersion=void 0;const r=e("@ethereumjs/util"),i=e("@metamask/abi-utils"),s=e("@metamask/abi-utils/dist/parsers"),a=e("@metamask/abi-utils/dist/utils"),o=e("@metamask/utils"),c=e("ethereum-cryptography/keccak"),u=e("./utils");var l;function d(e,t){if(!Object.keys(l).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function h(e,t){(0,o.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const n=BigInt(t),r=(0,s.getLength)(e),i=BigInt(2)**BigInt(r)-BigInt(1);return(0,o.assert)(n>=-i&&n<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),n}function p(e){let t=BigInt(0);for(let n=0;n<e.length;n++){const r=BigInt(e.charCodeAt(n)-48);t*=BigInt(10),t+=r>=49?r-BigInt(49)+BigInt(10):r>=17?r-BigInt(17)+BigInt(10):r}return(0,a.padStart)((0,o.bigIntToBytes)(t),20)}function m(e,t,n,s,u){if(d(u,[l.V3,l.V4]),e[n]!==undefined)return["bytes32",u===l.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,r.arrToBufArr)((0,c.keccak256)(f(n,s,e,u)))];if("function"===n)throw new Error('Unsupported or invalid type: "function"');if(s===undefined)throw new Error(`missing value for field ${t} of type ${n}`);if("address"===n){if("number"==typeof s)return["address",(0,a.padStart)((0,o.numberToBytes)(s),20)];if((0,o.isStrictHexString)(s))return["address",(0,o.add0x)(s)];if("string"==typeof s)return["address",p(s).subarray(0,20)]}if("bool"===n)return["bool",Boolean(s)];if("bytes"===n)return"number"==typeof s?s=(0,o.numberToBytes)(s):(0,o.isStrictHexString)(s)||"0x"===s?s=(0,o.hexToBytes)(s):"string"==typeof s&&(s=(0,o.stringToBytes)(s)),["bytes32",(0,r.arrToBufArr)((0,c.keccak256)(s))];if(n.startsWith("bytes")&&"bytes"!==n&&!n.includes("["))return"number"==typeof s?s<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,o.bigIntToBytes)(BigInt(s))]:(0,o.isStrictHexString)(s)?["bytes32",(0,o.hexToBytes)(s)]:["bytes32",s];if(n.startsWith("int")&&!n.includes("[")){const e=h(n,s);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===n)return s="number"==typeof s?(0,o.numberToBytes)(s):(0,o.stringToBytes)(null!=s?s:""),["bytes32",(0,r.arrToBufArr)((0,c.keccak256)(s))];if(n.endsWith("]")){if(u===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const a=n.slice(0,n.lastIndexOf("[")),o=s.map(n=>m(e,t,a,n,u));return["bytes32",(0,r.arrToBufArr)((0,c.keccak256)((0,i.encode)(o.map(([e])=>e),o.map(([,e])=>e))))]}return[n,s]}function f(e,t,n,s){d(s,[l.V3,l.V4]);const a=["bytes32"],o=[k(e,n)];for(const r of n[e]){if(s===l.V3&&t[r.name]===undefined)continue;const[e,i]=m(n,r.name,r.type,t[r.name],s);a.push(e),o.push(i)}return(0,r.arrToBufArr)((0,i.encode)(a,o))}function g(e,t){let n="";const r=y(e,t);r.delete(e);const i=[e,...Array.from(r).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);n+=`${e}(${t[e].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`}return n}function y(e,t,n=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const r=e.match(/^\w*/u);if([e]=r,n.has(e)||t[e]===undefined)return n;n.add(e);for(const r of t[e])y(r.type,t,n);return n}function w(e,t,n,i){d(i,[l.V3,l.V4]);const s=f(e,t,n,i),a=(0,c.keccak256)(s);return(0,r.arrToBufArr)(a)}function k(e,t){const n=(0,o.stringToBytes)(g(e,t));return(0,r.arrToBufArr)((0,c.keccak256)(n))}function b(e){const t={};for(const r in n.TYPED_MESSAGE_SCHEMA.properties)e[r]&&(t[r]=e[r]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function v(e,t){d(t,[l.V3,l.V4]);const n=b(e),{domain:r}=n;return w("EIP712Domain",r,{EIP712Domain:n.types.EIP712Domain},t)}function _(e,t){if((0,s.isArrayType)(e)&&Array.isArray(t)){const[n]=(0,s.getArrayType)(e);return t.map(e=>_(n,e))}if("address"===e){if((0,o.isStrictHexString)(t))return(0,a.padStart)((0,o.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,a.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const n=(0,s.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,o.numberToBytes)(t).subarray(0,n);if((0,o.isStrictHexString)(t))return(0,o.hexToBytes)(t).subarray(0,n);if(t instanceof Uint8Array)return t.subarray(0,n)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const n=(0,s.getLength)(e);return BigInt.asIntN(n,BigInt(t))}return t}function T(e,t){return t.map(t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const n=h(e,t);if(n>=BigInt(0))return(0,a.padStart)((0,o.bigIntToBytes)(n),32);const r=(0,s.getLength)(e),i=BigInt.asIntN(r,n);return(0,o.signedBigIntToBytes)(i,32)}return t})}function E(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const n=e.map(({name:e,type:t,value:n})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(r=n,r.map(e=>"number"==typeof e?(0,a.padStart)((0,o.numberToBytes)(e),32):(0,o.isStrictHexString)(e)?(0,a.padStart)((0,o.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,a.padStart)(e.subarray(0,32),32):e))};var r;if(t.startsWith("int")&&(0,s.isArrayType)(t)){const[r,i]=(0,s.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:T(r,n)}}return{name:e,type:t,value:_(t,n)}}),l=n.map(e=>"bytes"!==e.type?e.value:(0,u.legacyToBuffer)(e.value)),d=n.map(e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type}),h=e.map(e=>{if(!e.name)throw t;return`${e.type} ${e.name}`});return(0,r.arrToBufArr)((0,c.keccak256)((0,i.encodePacked)(["bytes32","bytes32"],[(0,c.keccak256)((0,i.encodePacked)(["string[]"],[h],!0)),(0,c.keccak256)((0,i.encodePacked)(d,l,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(l=n.SignTypedDataVersion||(n.SignTypedDataVersion={})),n.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},n.TypedDataUtils={encodeData:f,encodeType:g,findTypeDependencies:y,hashStruct:w,hashType:k,sanitizeData:b,eip712Hash:function(e,t){d(t,[l.V3,l.V4]);const n=b(e),i=[(0,o.hexToBytes)("1901")];return i.push(v(e,t)),"EIP712Domain"!==n.primaryType&&i.push(w(n.primaryType,n.message,n.types,t)),(0,r.arrToBufArr)((0,c.keccak256)((0,o.concatBytes)(i)))},eip712DomainHash:v},n.typedSignatureHash=function(e){const t=E(e);return(0,o.bytesToHex)(t)},n.signTypedData=function({privateKey:e,data:t,version:i}){if(d(i),(0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(e))throw new Error("Missing private key parameter");const s=i===l.V1?E(t):n.TypedDataUtils.eip712Hash(t,i),a=(0,r.ecsign)(s,e);return(0,u.concatSig)((0,r.arrToBufArr)((0,o.bigIntToBytes)(a.v)),a.r,a.s)},n.recoverTypedSignature=function({data:e,signature:t,version:i}){if(d(i),(0,u.isNullish)(e))throw new Error("Missing data parameter");if((0,u.isNullish)(t))throw new Error("Missing signature parameter");const s=i===l.V1?E(e):n.TypedDataUtils.eip712Hash(e,i),a=(0,u.recoverPublicKey)(s,t),c=(0,r.publicToAddress)(a);return(0,o.bytesToHex)(c)}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1837,{"@ethereumjs/util":1846,"@metamask/utils":2799,buffer:3760},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.normalize=n.recoverPublicKey=n.concatSig=n.legacyToBuffer=n.isNullish=n.padWithZeroes=void 0;const r=e("@ethereumjs/util"),i=e("@metamask/utils");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function a(e){return null===e||e===undefined}n.padWithZeroes=s,n.isNullish=a,n.legacyToBuffer=function(e){return"string"!=typeof e||(0,r.isHexString)(e)?(0,r.toBuffer)(e):t.from(e)},n.concatSig=function(e,t,n){const a=(0,r.fromSigned)(t),o=(0,r.fromSigned)(n),c=(0,r.bufferToInt)(e),u=s((0,r.toUnsigned)(a).toString("hex"),64),l=s((0,r.toUnsigned)(o).toString("hex"),64),d=(0,i.remove0x)((0,i.numberToHex)(c));return(0,i.add0x)(u.concat(l,d))},n.recoverPublicKey=function(e,t){const n=(0,r.fromRpcSig)(t);return(0,r.ecrecover)(e,n.v,n.r,n.s)},n.normalize=function(e){if(a(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,i.numberToBytes)(e);e=(0,i.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/utils.js"}],[1838,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(Array.isArray(e)){const t=[];let n=0;for(let i=0;i<e.length;i++){const s=r(e[i]);t.push(s),n+=s.length}return p(a(n,192),...t)}const t=y(e);return 1===t.length&&t[0]<128?t:p(a(t.length,128),t)}function i(e,t,n){if(n>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,n)}function s(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return d(l(e))}function a(e,t){if(e<56)return Uint8Array.from([e+t]);const n=f(e),r=f(t+55+n.length/2);return Uint8Array.from(h(r+n))}function o(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);const n=c(y(e));if(t)return n;if(0!==n.remainder.length)throw new Error("invalid RLP: remainder must be zero");return n.data}function c(e){let t,n,r,a,o;const u=[],l=e[0];if(l<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(l<=183){if(t=l-127,r=128===l?Uint8Array.from([]):i(e,1,t),2===t&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:e.slice(t)}}if(l<=191){if(n=l-182,e.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(t=s(i(e,1,n)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=i(e,n,t+n),{data:r,remainder:e.slice(t+n)}}if(l<=247){for(t=l-191,a=i(e,1,t);a.length;)o=c(a),u.push(o.data),a=o.remainder;return{data:u,remainder:e.slice(t)}}{if(n=l-246,t=s(i(e,1,n)),t<56)throw new Error("invalid RLP: encoded list too short");const r=n+t;if(r>e.length)throw new Error("invalid RLP: total length is larger than the data");for(a=i(e,n,r);a.length;)o=c(a),u.push(o.data),a=o.remainder;return{data:u,remainder:e.slice(r)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.RLP=n.utils=n.decode=n.encode=void 0,n.encode=r,n.decode=o;const u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(e){let t="";for(let n=0;n<e.length;n++)t+=u[e[n]];return t}function d(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function h(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n;t[n]=d(e.slice(r,r+2))}return t}function p(...e){if(1===e.length)return e[0];const t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}function m(e){return(new TextEncoder).encode(e)}function f(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function g(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function y(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return g(e)?h((t="string"!=typeof(n=e)?n:g(n)?n.slice(2):n).length%2?`0${t}`:t):m(e);var t,n;if("number"==typeof e||"bigint"==typeof e)return e?h(f(e)):Uint8Array.from([]);if(null===e||e===undefined)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}n.utils={bytesToHex:l,concatBytes:p,hexToBytes:h,utf8ToBytes:m},n.RLP={encode:r,decode:o}}}},{package:"@metamask/eth-sig-util>@ethereumjs/rlp",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/rlp/dist/index.js"}],[1839,{"./bytes":1842,"./constants":1843,"./helpers":1845,"./internal":1847,"@ethereumjs/rlp":1838,buffer:3760,"ethereum-cryptography/keccak":3988,"ethereum-cryptography/secp256k1":4009,"ethereum-cryptography/utils":4011},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.accountBodyToRLP=n.accountBodyToSlim=n.accountBodyFromSlim=n.isZeroAddress=n.zeroAddress=n.importPublic=n.privateToAddress=n.privateToPublic=n.publicToAddress=n.pubToAddress=n.isValidPublic=n.isValidPrivate=n.generateAddress2=n.generateAddress=n.isValidChecksumAddress=n.toChecksumAddress=n.isValidAddress=n.Account=void 0;const r=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),s=e("ethereum-cryptography/secp256k1"),a=e("ethereum-cryptography/utils"),o=e("./bytes"),c=e("./constants"),u=e("./helpers"),l=e("./internal"),d=BigInt(0);class h{constructor(e=d,t=d,n=c.KECCAK256_RLP,r=c.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=n,this.codeHash=r,this._validate()}static fromAccountData(e){const{nonce:t,balance:n,storageRoot:r,codeHash:i}=e;return new h(t!==undefined?(0,o.bufferToBigInt)((0,o.toBuffer)(t)):undefined,n!==undefined?(0,o.bufferToBigInt)((0,o.toBuffer)(n)):undefined,r!==undefined?(0,o.toBuffer)(r):undefined,i!==undefined?(0,o.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,o.arrToBufArr)(r.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,n,r,i]=e;return new h((0,o.bufferToBigInt)(t),(0,o.bufferToBigInt)(n),r,i)}_validate(){if(this.nonce<d)throw new Error("nonce must be greater than zero");if(this.balance<d)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,o.bigIntToUnpaddedBuffer)(this.nonce),(0,o.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(r.RLP.encode((0,o.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(c.KECCAK256_NULL)}isEmpty(){return this.balance===d&&this.nonce===d&&this.codeHash.equals(c.KECCAK256_NULL)}}n.Account=h;n.isValidAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};n.toChecksumAddress=function(e,n){(0,u.assertIsHexString)(e);const r=(0,l.stripHexPrefix)(e).toLowerCase();let s="";if(n!==undefined){s=(0,o.bufferToBigInt)((0,o.toBuffer)(n)).toString()+"0x"}const c=t.from(s+r,"utf8"),d=(0,a.bytesToHex)((0,i.keccak256)(c));let h="0x";for(let e=0;e<r.length;e++)parseInt(d[e],16)>=8?h+=r[e].toUpperCase():h+=r[e];return h};n.isValidChecksumAddress=function(e,t){return(0,n.isValidAddress)(e)&&(0,n.toChecksumAddress)(e,t)===e};n.generateAddress=function(e,n){return(0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(n),(0,o.bufferToBigInt)(n)===BigInt(0)?t.from((0,i.keccak256)(r.RLP.encode((0,o.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(r.RLP.encode((0,o.bufArrToArr)([e,n])))).slice(-20)};n.generateAddress2=function(e,n,r){if((0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(n),(0,u.assertIsBuffer)(r),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==n.length)throw new Error("Expected salt to be of length 32");const s=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,n,(0,i.keccak256)(r)]));return(0,o.toBuffer)(s).slice(-20)};n.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};n.isValidPublic=function(e,n=!1){if((0,u.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!n)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};n.pubToAddress=function(e,n=!1){if((0,u.assertIsBuffer)(e),n&&64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},n.publicToAddress=n.pubToAddress;n.privateToPublic=function(e){return(0,u.assertIsBuffer)(e),t.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};n.privateToAddress=function(e){return(0,n.publicToAddress)((0,n.privateToPublic)(e))};n.importPublic=function(e){return(0,u.assertIsBuffer)(e),64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};n.zeroAddress=function(){const e=(0,o.zeros)(20);return(0,o.bufferToHex)(e)};function p(e){const[t,n,r,i]=e;return[t,n,0===(0,o.arrToBufArr)(r).length?c.KECCAK256_RLP:r,0===(0,o.arrToBufArr)(i).length?c.KECCAK256_NULL:i]}n.isZeroAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return(0,n.zeroAddress)()===e},n.accountBodyFromSlim=p;const m=new Uint8Array(0);n.accountBodyToSlim=function(e){const[t,n,r,i]=e;return[t,n,(0,o.arrToBufArr)(r).equals(c.KECCAK256_RLP)?m:r,(0,o.arrToBufArr)(i).equals(c.KECCAK256_NULL)?m:i]},n.accountBodyToRLP=function(e,t=!0){const n=t?p(e):e;return(0,o.arrToBufArr)(r.RLP.encode(n))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/account.js"}],[1840,{"./account":1839,"./bytes":1842,buffer:3760},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.Address=void 0;const r=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,r.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const n=(0,r.pubToAddress)(e);return new s(n)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const n=(0,r.privateToAddress)(e);return new s(n)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,r.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,n,i){if(!t.isBuffer(n))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,r.generateAddress2)(e.buf,n,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),n=BigInt("0xffff");return e>=t&&e<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}n.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/address.js"}],[1841,{events:4072},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AsyncEventEmitter=void 0;const r=e("events");class i extends r.EventEmitter{emit(e,...t){let[n,r]=t;const i=this;let s=i._events[e]??[];return r===undefined&&"function"==typeof n&&(r=n,n=undefined),"newListener"!==e&&"removeListener"!==e||(n={event:n,fn:r},r=undefined),s=Array.isArray(s)?s:[s],async function(e,t,n){let r;for await(const i of t)try{i.length<2?i.call(e,n):await new Promise((t,r)=>{i.call(e,n,e=>{e?r(e):t()})})}catch(e){r=e}if(r)throw r}(i,s.slice(),n).then(r).catch(r),i.listenerCount(e)>0}once(e,t){const n=this;let r;if("function"!=typeof t)throw new TypeError("listener must be a function");return r=t.length>=2?function(i,s){n.removeListener(e,r),t(i,s)}:function(i){n.removeListener(e,r),t(i,r)},n.on(e,r),n}first(e,t){let n=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[e]=n=[n]),n.unshift(t),this}before(e,t,n){return this.beforeOrAfter(e,t,n)}after(e,t,n){return this.beforeOrAfter(e,t,n,"after")}beforeOrAfter(e,t,n,r){let i,s,a=this._events[e]??[];const o="after"===r?1:0;if("function"!=typeof n)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(a)||(this._events[e]=a=[a]),s=a.length,i=a.length;i--;)if(a[i]===t){s=i+o;break}return a.splice(s,0,n),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}n.AsyncEventEmitter=i}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[1842,{"./helpers":1845,"./internal":1847,buffer:3760},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.intToUnpaddedBuffer=n.bigIntToUnpaddedBuffer=n.bigIntToHex=n.bufArrToArr=n.arrToBufArr=n.validateNoLeadingZeroes=n.baToJSON=n.toUtf8=n.short=n.addHexPrefix=n.toUnsigned=n.fromSigned=n.bufferToInt=n.bigIntToBuffer=n.bufferToBigInt=n.bufferToHex=n.toBuffer=n.unpadHexString=n.unpadArray=n.unpadBuffer=n.setLengthRight=n.setLengthLeft=n.zeros=n.intToBuffer=n.intToHex=void 0;const r=e("./helpers"),i=e("./internal");n.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};n.intToBuffer=function(e){const r=(0,n.intToHex)(e);return t.from((0,i.padToEven)(r.slice(2)),"hex")};n.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,r){const i=(0,n.zeros)(t);return r?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};n.setLengthLeft=function(e,t){return(0,r.assertIsBuffer)(e),s(e,t,!1)};n.setLengthRight=function(e,t){return(0,r.assertIsBuffer)(e),s(e,t,!0)};const a=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};n.unpadBuffer=function(e){return(0,r.assertIsBuffer)(e),a(e)};n.unpadArray=function(e){return(0,r.assertIsArray)(e),a(e)};n.unpadHexString=function(e){return(0,r.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+a(e)};n.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,n.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let n=e.toString(16);return n.length%2&&(n="0"+n),t.from(n,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function o(e){const t=(0,n.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function c(e){return(0,n.toBuffer)("0x"+e.toString(16))}n.bufferToHex=function(e){return"0x"+(e=(0,n.toBuffer)(e)).toString("hex")},n.bufferToBigInt=o,n.bigIntToBuffer=c;n.bufferToInt=function(e){const t=Number(o(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};n.fromSigned=function(e){return BigInt.asIntN(256,o(e))};n.toUnsigned=function(e){return c(BigInt.asUintN(256,e))};n.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},n.short=function(e,n=50){const r=t.isBuffer(e)?e.toString("hex"):e;return r.length<=n?r:r.slice(0,n)+"â€¦"};n.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};n.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let r=0;r<e.length;r++)t.push((0,n.baToJSON)(e[r]));return t}};n.validateNoLeadingZeroes=function(e){for(const[t,n]of Object.entries(e))if(n!==undefined&&n.length>0&&0===n[0])throw new Error(`${t} cannot have leading zeroes, received: ${n.toString("hex")}`)},n.arrToBufArr=function e(n){return Array.isArray(n)?n.map(t=>e(t)):t.from(n)},n.bufArrToArr=function e(t){return Array.isArray(t)?t.map(t=>e(t)):Uint8Array.from(t??[])};n.bigIntToHex=e=>"0x"+e.toString(16),n.bigIntToUnpaddedBuffer=function(e){return(0,n.unpadBuffer)(c(e))},n.intToUnpaddedBuffer=function(e){return(0,n.unpadBuffer)((0,n.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/bytes.js"}],[1843,{buffer:3760,"ethereum-cryptography/secp256k1":4009},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MAX_WITHDRAWALS_PER_PAYLOAD=n.RLP_EMPTY_STRING=n.KECCAK256_RLP=n.KECCAK256_RLP_S=n.KECCAK256_RLP_ARRAY=n.KECCAK256_RLP_ARRAY_S=n.KECCAK256_NULL=n.KECCAK256_NULL_S=n.TWO_POW256=n.SECP256K1_ORDER_DIV_2=n.SECP256K1_ORDER=n.MAX_INTEGER_BIGINT=n.MAX_INTEGER=n.MAX_UINT64=void 0;const r=e("buffer"),i=e("ethereum-cryptography/secp256k1");n.MAX_UINT64=BigInt("0xffffffffffffffff"),n.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),n.SECP256K1_ORDER=i.secp256k1.CURVE.n,n.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),n.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),n.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",n.KECCAK256_NULL=r.Buffer.from(n.KECCAK256_NULL_S,"hex"),n.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",n.KECCAK256_RLP_ARRAY=r.Buffer.from(n.KECCAK256_RLP_ARRAY_S,"hex"),n.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",n.KECCAK256_RLP=r.Buffer.from(n.KECCAK256_RLP_S,"hex"),n.RLP_EMPTY_STRING=r.Buffer.from([128]),n.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/constants.js"}],[1844,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.compactBytesToNibbles=n.bytesToNibbles=n.nibblesToCompactBytes=n.nibblesToBytes=n.hasTerminator=void 0;n.hasTerminator=e=>e.length>0&&16===e[e.length-1];n.nibblesToBytes=(e,t)=>{for(let n=0,r=0;r<e.length;n+=1,r+=2)t[n]=e[r]<<4|e[r+1]};n.nibblesToCompactBytes=e=>{let t=0;(0,n.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const r=new Uint8Array(e.length/2+1);return r[0]=t<<5,1&~e.length||(r[0]|=16,r[0]|=e[0],e=e.subarray(1)),(0,n.nibblesToBytes)(e,r.subarray(1)),r};n.bytesToNibbles=e=>{const t=2*e.length+1,n=new Uint8Array(t);for(let t=0;t<e.length;t++){const r=e[t];n[2*t]=r/16,n[2*t+1]=r%16}return n[t-1]=16,n};n.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,n.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const r=2-(1&t[0]);return t.subarray(r)}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/encoding.js"}],[1845,{"../../../../../../is-buffer/index.js":4335,"./internal":1847},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsString=n.assertIsArray=n.assertIsBuffer=n.assertIsHexString=void 0;const r=e("./internal");n.assertIsHexString=function(e){if(!(0,r.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};n.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};n.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};n.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/helpers.js"}],[1846,{"./account":1839,"./address":1840,"./asyncEventEmitter":1841,"./bytes":1842,"./constants":1843,"./encoding":1844,"./internal":1847,"./lock":1848,"./provider":1849,"./signature":1850,"./types":1851,"./units":1852,"./withdrawal":1853},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.toAscii=n.stripHexPrefix=n.padToEven=n.isHexString=n.isHexPrefixed=n.getKeys=n.getBinarySize=n.fromUtf8=n.fromAscii=n.arrayContainsArray=void 0,i(e("./constants"),n),i(e("./units"),n),i(e("./account"),n),i(e("./address"),n),i(e("./withdrawal"),n),i(e("./signature"),n),i(e("./bytes"),n),i(e("./types"),n),i(e("./encoding"),n),i(e("./asyncEventEmitter"),n);var s=e("./internal");Object.defineProperty(n,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(n,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(n,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(n,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(n,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(n,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(n,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(n,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(n,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(n,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),n),i(e("./provider"),n)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/index.js"}],[1847,{buffer:3760},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(n,"__esModule",{value:!0}),n.isHexString=n.getKeys=n.fromAscii=n.fromUtf8=n.toAscii=n.arrayContainsArray=n.getBinarySize=n.padToEven=n.stripHexPrefix=n.isHexPrefixed=void 0,n.isHexPrefixed=t;function r(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}n.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},n.padToEven=r,n.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},n.arrayContainsArray=function(e,t,n){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===n?"some":"every"](t=>e.indexOf(t)>=0)},n.toAscii=function(e){let t="",n=0;const r=e.length;for("0x"===e.substring(0,2)&&(n=2);n<r;n+=2){const r=parseInt(e.substr(n,2),16);t+=String.fromCharCode(r)}return t},n.fromUtf8=function(t){return`0x${r(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},n.fromAscii=function(e){let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n).toString(16);t+=r.length<2?`0${r}`:r}return`0x${t}`},n.getKeys=function(e,t,n){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const r=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==n||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";r.push(s)}return r},n.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/internal.js"}],[1848,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Lock=void 0;n.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/lock.js"}],[1849,{"micro-ftch":4594},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getProvider=n.fetchFromProvider=void 0;const r=e("micro-ftch");n.fetchFromProvider=async(e,t)=>(await(0,r.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;n.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/provider.js"}],[1850,{"./bytes":1842,"./constants":1843,"./helpers":1845,buffer:3760,"ethereum-cryptography/keccak":3988,"ethereum-cryptography/secp256k1":4009},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.hashPersonalMessage=n.isValidSignature=n.fromRpcSig=n.toCompactSig=n.toRpcSig=n.ecrecover=n.ecsign=void 0;const r=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),a=e("./constants"),o=e("./helpers");function c(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function u(e){return e===BigInt(0)||e===BigInt(1)}n.ecsign=function(e,n,r){const s=i.secp256k1.sign(e,n),a=s.toCompactRawBytes();return{r:t.from(a.slice(0,32)),s:t.from(a.slice(32,64)),v:r===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(r)*BigInt(2)}};n.ecrecover=function(e,n,r,a,o){const l=t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(a,32)],64),d=c(n,o);if(!u(d))throw new Error("Invalid signature v value");const h=i.secp256k1.Signature.fromCompact(l).addRecoveryBit(Number(d)).recoverPublicKey(e);return t.from(h.toRawBytes(!1).slice(1))};n.toRpcSig=function(e,n,r,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(r,32),(0,s.toBuffer)(e)]))};n.toCompactSig=function(e,n,r,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");let a=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(a=t.from(r),a[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(a,32)]))};n.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let n,r,i;if(t.length>=65)n=t.slice(0,32),r=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");n=t.slice(0,32),r=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),r[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:n,s:r}};n.isValidSignature=function(e,t,n,r=!0,i){if(32!==t.length||32!==n.length)return!1;if(!u(c(e,i)))return!1;const o=(0,s.bufferToBigInt)(t),l=(0,s.bufferToBigInt)(n);return!(o===BigInt(0)||o>=a.SECP256K1_ORDER||l===BigInt(0)||l>=a.SECP256K1_ORDER)&&!(r&&l>=a.SECP256K1_ORDER_DIV_2)};n.hashPersonalMessage=function(e){(0,o.assertIsBuffer)(e);const n=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,r.keccak256)(t.concat([n,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/signature.js"}],[1851,{"./bytes":1842,"./internal":1847},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toType=n.TypeOutput=void 0;const r=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=n.TypeOutput||(n.TypeOutput={})),n.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=(0,r.toBuffer)(e);switch(t){case s.Buffer:return n;case s.BigInt:return(0,r.bufferToBigInt)(n);case s.Number:{const e=(0,r.bufferToBigInt)(n);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,r.bufferToHex)(n);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/types.js"}],[1852,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GWEI_TO_WEI=void 0,n.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/units.js"}],[1853,{"./address":1840,"./bytes":1842,"./types":1851,buffer:3760},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.Withdrawal=void 0;const r=e("./address"),i=e("./bytes"),s=e("./types");class a{constructor(e,t,n,r){this.index=e,this.validatorIndex=t,this.address=n,this.amount=r}static fromWithdrawalData(e){const{index:t,validatorIndex:n,address:i,amount:o}=e,c=(0,s.toType)(t,s.TypeOutput.BigInt),u=(0,s.toType)(n,s.TypeOutput.BigInt),l=new r.Address((0,s.toType)(i,s.TypeOutput.Buffer)),d=(0,s.toType)(o,s.TypeOutput.BigInt);return new a(c,u,l,d)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,n,r,i]=e;return a.fromWithdrawalData({index:t,validatorIndex:n,address:r,amount:i})}static toBufferArray(e){const{index:n,validatorIndex:i,address:a,amount:o}=e,c=(0,s.toType)(n,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(n,s.TypeOutput.Buffer),u=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let l;l=a instanceof r.Address?a.buf:(0,s.toType)(a,s.TypeOutput.Buffer);return[c,u,l,(0,s.toType)(o,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(o,s.TypeOutput.Buffer)]}raw(){return a.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}n.Withdrawal=a}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[1854,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map(e=>e.encode).reduceRight(n,t),decode:e.map(e=>e.decode).reduce(n,t)}}function a(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n})}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function c(e,t="="){if(r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function u(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function l(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const s=[],a=Array.from(e);for(a.forEach(e=>{if(r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)});;){let e=0,r=!0;for(let s=i;s<a.length;s++){const o=a[s],c=t*e+o;if(!Number.isSafeInteger(c)||t*e/t!==e||c-o!==t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(a[s]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");r&&(u?r=!1:i=s)}if(s.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)s.push(0);return s.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.bytes=n.stringToBytes=n.str=n.bytesToString=n.hex=n.utf8=n.bech32m=n.bech32=n.base58check=n.createBase58check=n.base58xmr=n.base58xrp=n.base58flickr=n.base58=n.base64urlnopad=n.base64url=n.base64nopad=n.base64=n.base32crockford=n.base32hexnopad=n.base32hex=n.base32nopad=n.base32=n.base16=n.utils=void 0,n.assertNumber=r;const d=(e,t)=>t?d(t,e%t):e,h=(e,t)=>e+(t-d(e,t));function p(e,t,n,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(h(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${h(t,n)}`);let s=0,a=0;const o=2**n-1,c=[];for(const i of e){if(r(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(s=s<<t|i,a+t>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=n;a-=n)c.push((s>>a-n&o)>>>0);s&=2**a-1}if(s=s<<n-a&o,!i&&a>=t)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&a>0&&c.push(s>>>0),c}function m(e){return r(e),{encode:t=>{if(!i(t))throw new Error("radix.encode input should be Uint8Array");return l(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(l(t,e,256))}}}function f(e,t=!1){if(r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(h(8,e)>32||h(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!i(n))throw new Error("radix2.encode input should be Uint8Array");return p(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(p(n,e,8,t))}}}function g(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if(r(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!i(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),s=new Uint8Array(n.length+e);return s.set(n),s.set(r,n.length),s},decode(n){if(!i(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),s=t(r).slice(0,e),a=n.slice(-e);for(let t=0;t<e;t++)if(s[t]!==a[t])throw new Error("Invalid checksum");return r}}}n.utils={alphabet:a,chain:s,checksum:y,convertRadix:l,convertRadix2:p,radix:m,radix2:f,join:o,padding:c},n.base16=s(f(4),a("0123456789ABCDEF"),o("")),n.base32=s(f(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),o("")),n.base32nopad=s(f(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),n.base32hex=s(f(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),o("")),n.base32hexnopad=s(f(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),n.base32crockford=s(f(5),a("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),u(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),n.base64=s(f(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),o("")),n.base64nopad=s(f(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),n.base64url=s(f(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),o("")),n.base64urlnopad=s(f(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const w=e=>s(m(58),a(e),o(""));n.base58=w("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),n.base58flickr=w("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),n.base58xrp=w("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const k=[0,2,3,5,6,7,9,10,11];n.base58xmr={encode(e){let t="";for(let r=0;r<e.length;r+=8){const i=e.subarray(r,r+8);t+=n.base58.encode(i).padStart(k[i.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const i=e.slice(r,r+11),s=k.indexOf(i.length),a=n.base58.decode(i);for(let e=0;e<a.length-s;e++)if(0!==a[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(a.slice(a.length-s)))}return Uint8Array.from(t)}};n.createBase58check=e=>s(y(4,t=>e(e(t))),n.base58),n.base58check=n.createBase58check;const b=s(a("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),v=[996825010,642813549,513874426,1027748829,705979059];function _(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<v.length;e++)1==(t>>e&1)&&(n^=v[e]);return n}function T(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=_(i)^n>>5}i=_(i);for(let t=0;t<r;t++)i=_(i)^31&e.charCodeAt(t);for(let e of t)i=_(i)^e;for(let e=0;e<6;e++)i=_(i);return i^=n,b.encode(p([i%2**30],30,5,!1))}function E(e){const t="bech32"===e?1:734539939,n=f(5),r=n.decode,i=n.encode,s=g(r);function a(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(n instanceof Uint8Array&&(n=Array.from(n)),!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);const s=e.toLowerCase(),a=T(s,n,t);return`${s}1${b.encode(n)}${a}`}function o(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=r.lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const s=r.slice(0,i),a=r.slice(i+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const o=b.decode(a).slice(0,-6),c=T(s,o,t);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:s,words:o}}return{encode:a,decode:o,encodeFromBytes:function(e,t){return a(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:n}=o(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:g(o),fromWords:r,fromWordsUnsafe:s,toWords:i}}n.bech32=E("bech32"),n.bech32m=E("bech32m"),n.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},n.hex=s(f(4),a("0123456789abcdef"),o(""),u(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const S={utf8:n.utf8,hex:n.hex,base16:n.base16,base32:n.base32,base64:n.base64,base64url:n.base64url,base58:n.base58,base58xmr:n.base58xmr},A="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";n.bytesToString=(e,t)=>{if("string"!=typeof e||!S.hasOwnProperty(e))throw new TypeError(A);if(!i(t))throw new TypeError("bytesToString() expects Uint8Array");return S[e].encode(t)},n.str=n.bytesToString;n.stringToBytes=(e,t)=>{if(!S.hasOwnProperty(e))throw new TypeError(A);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return S[e].decode(t)},n.bytes=n.stringToBytes}}},{package:"@metamask/eth-sig-util>@scure/base",file:"node_modules/@metamask/eth-sig-util/node_modules/@scure/base/lib/index.js"}],[1855,{"./simple-keyring.cjs":1856},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("./simple-keyring.cjs");Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r(i).default}})}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/index.cjs"}],[1856,{"@ethereumjs/util":605,"@metamask/eth-sig-util":1833,"@metamask/utils":2799,buffer:3760,"ethereum-cryptography/keccak":3988,randombytes:4848},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r,i,s,a,o=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const l=e("@ethereumjs/util"),d=e("@metamask/eth-sig-util"),h=e("@metamask/utils"),p=e("ethereum-cryptography/keccak"),m=u(e("randombytes")),f="Simple Key Pair";class g{constructor(e=[]){r.add(this),i.set(this,void 0),this.type=f,o(this,i,[],"f"),this.deserialize(e).catch(e=>{throw new Error(`Problem deserializing SimpleKeyring ${e.message}`)})}async serialize(){return c(this,i,"f").map(e=>e.privateKey.toString("hex"))}async deserialize(e){o(this,i,e.map(e=>{const n=(0,l.stripHexPrefix)(e),r=t.from(n,"hex");return{privateKey:r,publicKey:t.from((0,l.privateToPublic)(r))}}),"f")}async addAccounts(e=1){const n=[];for(let r=0;r<e;r++){const e=y(),r=t.from((0,l.privateToPublic)(e));n.push({privateKey:e,publicKey:r})}o(this,i,c(this,i,"f").concat(n),"f");return n.map(({publicKey:e})=>(0,h.add0x)((0,h.bytesToHex)((0,l.publicToAddress)(e))))}async getAccounts(){return c(this,i,"f").map(({publicKey:e})=>(0,h.add0x)((0,h.bytesToHex)((0,l.publicToAddress)(e))))}async signTransaction(e,t,n={}){const i=c(this,r,"m",s).call(this,e,n);return t.sign(i)??t}async signEip7702Authorization(e,t,n={}){const i=c(this,r,"m",s).call(this,e,n);return(0,d.signEIP7702Authorization)({privateKey:i,authorization:t})}async signMessage(e,n,i={withAppKeyOrigin:"",validateMessage:!0}){const a=(0,l.stripHexPrefix)(n);if(i.validateMessage&&(0===a.length||!a.match(/^[a-fA-F0-9]*$/u)))throw new Error("Cannot sign invalid message");const o=c(this,r,"m",s).call(this,e,i),u=(0,l.ecsign)(t.from(a,"hex"),o);return(0,d.concatSig)(t.from((0,h.bigIntToBytes)(u.v)),t.from(u.r),t.from(u.s))}async signPersonalMessage(e,t,n={withAppKeyOrigin:""}){const i=c(this,r,"m",s).call(this,e,n);return(0,d.personalSign)({privateKey:i,data:t})}async decryptMessage(e,t){const n=c(this,r,"m",a).call(this,e).privateKey.toString("hex");return(0,d.decrypt)({privateKey:n,encryptedData:t})}async signTypedData(e,t,n){let{version:i}=n??{version:d.SignTypedDataVersion.V1};i&&function(e){return e in d.SignTypedDataVersion}(i)||(i=d.SignTypedDataVersion.V1);const a=c(this,r,"m",s).call(this,e,n);return(0,d.signTypedData)({privateKey:a,data:t,version:i})}async getEncryptionPublicKey(e,t){const n=c(this,r,"m",s).call(this,e,t);return(0,d.getEncryptionPublicKey)(n.toString("hex"))}async getAppKeyAddress(e,t){if(!t||"string"!=typeof t)throw new Error("'origin' must be a non-empty string");const n=c(this,r,"m",a).call(this,e,{withAppKeyOrigin:t});return(0,h.add0x)((0,h.bytesToHex)((0,l.publicToAddress)(n.publicKey)))}async exportAccount(e,t={withAppKeyOrigin:""}){return c(this,r,"m",a).call(this,e,t).privateKey.toString("hex")}removeAccount(e){if(!c(this,i,"f").map(({publicKey:e})=>(0,h.bytesToHex)((0,l.publicToAddress)(e)).toLowerCase()).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);o(this,i,c(this,i,"f").filter(({publicKey:t})=>(0,h.bytesToHex)((0,l.publicToAddress)(t)).toLowerCase()!==e.toLowerCase()),"f")}}function y(){const e=(0,m.default)(32);if(!(0,l.isValidPrivate)(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");return e}i=new WeakMap,r=new WeakSet,s=function(e,t={withAppKeyOrigin:""}){if(!e)throw new Error("Must specify address.");return c(this,r,"m",a).call(this,e,t).privateKey},a=function(e,n={}){const r=(0,d.normalize)(e);let s=c(this,i,"f").find(({publicKey:e})=>(0,h.bytesToHex)((0,l.publicToAddress)(e))===r);if(!s)throw new Error("Simple Keyring - Unable to find matching address.");if(n.withAppKeyOrigin){const{privateKey:e}=s,r=t.from(n.withAppKeyOrigin,"utf8"),i=t.concat([e,r]),a=(0,p.keccak256)(i),o=(0,l.privateToPublic)(a);s={privateKey:t.from(a),publicKey:t.from(o)}}return s},g.type=f,n.default=g}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/simple-keyring.cjs"}],[1857,{"./util.cjs":1870},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CaseInsensitiveMap=void 0;const r=e("./util.cjs");class i extends Map{static fromObject(e){return new i(Object.entries(e))}toObject(){return Object.fromEntries(this.entries())}get(e){return super.get(e.toLowerCase())}getOrThrow(e,t="Key"){return this.get(e)??(0,r.throwError)(`${t} '${e}' not found`)}has(e){return super.has(e.toLowerCase())}set(e,t){return super.set(e.toLowerCase(),t)}delete(e){return super.delete(e.toLowerCase())}}n.CaseInsensitiveMap=i}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/CaseInsensitiveMap.cjs"}],[1858,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DeferredPromise=void 0;n.DeferredPromise=class{constructor(){if(this.resolve=undefined,this.reject=undefined,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),!this.resolve||!this.reject)throw new Error("Promise constructor failed")}}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/DeferredPromise.cjs"}],[1859,{"./CaseInsensitiveMap.cjs":1857},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SnapIdMap=n.InvalidSnapIdError=void 0;const a=e("./CaseInsensitiveMap.cjs");class o extends Error{constructor(e,t){super(`Snap "${e}" is not allowed to set "${t}"`),this.name="InvalidSnapIdError",this.snapId=e,this.key=t}}n.InvalidSnapIdError=o;class c{constructor(e){r.set(this,void 0),i(this,r,new a.CaseInsensitiveMap(e),"f")}toObject(){return s(this,r,"f").toObject()}static fromObject(e){return new c(Object.entries(e))}get(e,t){const n=s(this,r,"f").get(t);return n?.snapId===e?n:undefined}getSnapId(e){return s(this,r,"f").get(e)?.snapId}pop(e,t){const n=this.get(e,t);return this.delete(e,t),n}has(e,t){return this.get(e,t)!==undefined}hasSnapId(e){return[...s(this,r,"f").values()].some(t=>t.snapId===e)}delete(e,t){return this.has(e,t)&&s(this,r,"f").delete(t)}set(e,t){if(s(this,r,"f").has(e)&&!this.has(t.snapId,e))throw new o(t.snapId,e);return s(this,r,"f").set(e,t),this}values(){return s(this,r,"f").values()}get size(){return s(this,r,"f").size}}n.SnapIdMap=c,r=new WeakMap}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapIdMap.cjs"}],[1860,{"./DeferredPromise.cjs":1858,"./SnapIdMap.cjs":1859,"./SnapKeyringMessenger.cjs":1861,"./account.cjs":1862,"./events.cjs":1863,"./logger.cjs":1865,"./migrations/index.cjs":1866,"./options.cjs":1868,"./types.cjs":1869,"./util.cjs":1870,"./versions.cjs":1871,"@ethereumjs/tx":591,"@metamask/eth-sig-util":1833,"@metamask/keyring-api":1994,"@metamask/keyring-internal-api":2007,"@metamask/keyring-internal-snap-client":2011,"@metamask/keyring-snap-sdk":2032,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799,uuid:1872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h,p,m,f,g,y,w,k,b,v,_,T,E,S,A,P,j,C,I,N,M,O,R,x,B,D,L,K,U,F=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},q=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SnapKeyring=n.SNAP_KEYRING_TYPE=void 0;const H=e("@ethereumjs/tx"),$=e("@metamask/eth-sig-util"),G=e("@metamask/keyring-api"),V=e("@metamask/keyring-internal-api"),W=e("@metamask/keyring-internal-snap-client"),z=e("@metamask/keyring-snap-sdk"),Y=e("@metamask/keyring-utils"),J=e("@metamask/superstruct"),X=e("@metamask/utils"),Z=e("uuid"),Q=e("./account.cjs"),ee=e("./DeferredPromise.cjs"),te=e("./events.cjs"),ne=e("./logger.cjs"),re=e("./migrations/index.cjs"),ie=e("./options.cjs"),se=e("./SnapIdMap.cjs"),ae=e("./SnapKeyringMessenger.cjs"),oe=e("./types.cjs"),ce=e("./util.cjs"),ue=e("./versions.cjs");function le(e){return(0,G.isEvmAccountType)(e.type)?e.address.toLowerCase():e.address}n.SNAP_KEYRING_TYPE="Snap Keyring";class de{constructor({messenger:e,callbacks:t,isAnyAccountTypeAllowed:n=!1}){r.add(this),this.name=ae.SNAP_KEYRING_NAME,this.state=null,i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),this.type=de.type,F(this,i,e,"f"),F(this,s,new W.KeyringInternalSnapClient({messenger:e}),"f"),F(this,c,new se.SnapIdMap,"f"),F(this,a,new se.SnapIdMap,"f"),F(this,u,new se.SnapIdMap,"f"),F(this,l,t,"f"),F(this,d,n,"f"),F(this,o,new Map,"f")}async handleKeyringSnapMessage(e,t){switch((0,J.assert)(t,oe.SnapMessageStruct),t.method){case`${G.KeyringEvent.AccountCreated}`:return q(this,r,"m",m).call(this,e,t);case`${G.KeyringEvent.AccountUpdated}`:return q(this,r,"m",f).call(this,e,t);case`${G.KeyringEvent.AccountDeleted}`:return q(this,r,"m",g).call(this,e,t);case`${G.KeyringEvent.RequestApproved}`:return q(this,r,"m",w).call(this,e,t);case`${G.KeyringEvent.RequestRejected}`:return q(this,r,"m",k).call(this,e,t);case`${G.KeyringEvent.AccountBalancesUpdated}`:return q(this,r,"m",v).call(this,e,t);case`${G.KeyringEvent.AccountAssetListUpdated}`:return q(this,r,"m",_).call(this,e,t);case`${G.KeyringEvent.AccountTransactionsUpdated}`:return q(this,r,"m",T).call(this,e,t);case`${z.SnapManageAccountsMethod.GetSelectedAccounts}`:return q(this,r,"m",y).call(this,e,t);default:throw new Error(`Method not supported: ${t.method}`)}}async serialize(){return{accounts:q(this,a,"f").toObject()}}async deserialize(e){if(e===undefined)return;const t={};for(const[n,r]of Object.entries(e.accounts))(0,re.isAccountV1)(r.account)?(console.info(`SnapKeyring - Found a KeyringAccountV1, migrating to V2: ${r.account.id}`),t[n]={...r,account:(0,re.migrateAccountV1)(r.account)}):t[n]=r;F(this,a,se.SnapIdMap.fromObject(t),"f")}async getAccounts(){return(0,ce.unique)([...q(this,a,"f").values()].map(({account:e})=>le(e)))}async getAccountsBySnapId(e){return(0,ce.unique)([...q(this,a,"f").values()].filter(({snapId:t})=>t===e).map(({account:e})=>le(e)))}async createAccount(e,t,n){const r=new W.KeyringInternalSnapClient({messenger:q(this,i,"f"),snapId:e}),s="metamask";if((0,X.hasProperty)(t,s))throw new Error(`The '${s}' property is reserved for internal use`);if(!n)return await r.createAccount(t);const a=(0,Z.v4)();return q(this,u,"f").set(a,{snapId:e,options:n}),await r.createAccount({...t,metamask:{correlationId:a}})}hasSnapId(e){return q(this,a,"f").hasSnapId(e)}async resolveAccountAddress(e,t,n){if(!this.hasSnapId(e))throw new Error(`Unable to resolve account address: unknown Snap ID: ${e}`);return await q(this,s,"f").withSnapId(e).resolveAccountAddress(t,n)}async submitRequest({origin:e,account:t,method:n,params:i,scope:s}){const{account:a,snapId:o}=q(this,r,"m",E).call(this,t);return await q(this,r,"m",P).call(this,{origin:e,snapId:o,account:a,method:n,params:i,scope:s,noPending:!0})}async signTransaction(e,t,n={}){const i=t.common.chainId(),s=(0,ce.toJson)({...t.toJSON(),from:e,type:`0x${t.type.toString(16)}`,chainId:(0,X.bigIntToHex)(i)}),a=await q(this,r,"m",S).call(this,{origin:"metamask",address:e,method:G.EthMethod.SignTransaction,params:[s],scope:(0,X.toCaipChainId)(X.KnownCaipNamespace.Eip155,`${i}`)}),o=(0,J.mask)(a,(0,J.object)({r:(0,J.string)(),s:(0,J.string)(),v:(0,J.string)()}));return H.TransactionFactory.fromTxData({...s,r:o.r,s:o.s,v:o.v})}async signTypedData(e,t,n={version:$.SignTypedDataVersion.V1}){const i={[$.SignTypedDataVersion.V1]:G.EthMethod.SignTypedDataV1,[$.SignTypedDataVersion.V3]:G.EthMethod.SignTypedDataV3,[$.SignTypedDataVersion.V4]:G.EthMethod.SignTypedDataV4}[n.version]||G.EthMethod.SignTypedDataV1,s=t.domain?.chainId;return(0,Y.strictMask)(await q(this,r,"m",S).call(this,{origin:"metamask",address:e,method:i,params:(0,ce.toJson)([e,t]),...s===undefined?{}:{scope:(0,X.toCaipChainId)(X.KnownCaipNamespace.Eip155,`${s}`)}}),G.EthBytesStruct)}async signMessage(e,t){return(0,Y.strictMask)(await q(this,r,"m",S).call(this,{origin:"metamask",address:e,method:G.EthMethod.Sign,params:(0,ce.toJson)([e,t])}),G.EthBytesStruct)}async signPersonalMessage(e,t){return(0,Y.strictMask)(await q(this,r,"m",S).call(this,{origin:"metamask",address:e,method:G.EthMethod.PersonalSign,params:(0,ce.toJson)([t,e])}),G.EthBytesStruct)}async prepareUserOperation(e,t,n){return(0,Y.strictMask)(await q(this,r,"m",S).call(this,{origin:"metamask",address:e,method:G.EthMethod.PrepareUserOperation,params:(0,ce.toJson)(t),noPending:!0,scope:(0,X.toCaipChainId)(X.KnownCaipNamespace.Eip155,n.chainId)}),G.EthBaseUserOperationStruct)}async patchUserOperation(e,t,n){return(0,Y.strictMask)(await q(this,r,"m",S).call(this,{origin:"metamask",address:e,method:G.EthMethod.PatchUserOperation,params:(0,ce.toJson)([t]),noPending:!0,scope:(0,X.toCaipChainId)(X.KnownCaipNamespace.Eip155,n.chainId)}),G.EthUserOperationPatchStruct)}async signUserOperation(e,t,n){return(0,Y.strictMask)(await q(this,r,"m",S).call(this,{origin:"metamask",address:e,method:G.EthMethod.SignUserOperation,params:(0,ce.toJson)([t]),scope:(0,X.toCaipChainId)(X.KnownCaipNamespace.Eip155,n.chainId)}),G.EthBytesStruct)}exportAccount(e){throw new Error("Exporting accounts from snaps is not supported.")}async removeAccount(e){const{account:t,snapId:n}=q(this,r,"m",B).call(this,e);await q(this,r,"m",x).call(this,n,t)}async setSelectedAccounts(e){q(this,r,"m",D).call(this,e);const t=[...q(this,o,"f").entries()];await Promise.all(t.map(async([e,t])=>{try{await q(this,s,"f").withSnapId(e).setSelectedAccounts(t)}catch(t){console.error(`Failed to set selected accounts for ${e} snap: '${t.message}'`)}}))}getAccountByAddress(e){return this.listAccounts().find(({address:t})=>(0,ce.equalsIgnoreCase)(t,e))}listAccounts(){return[...q(this,a,"f").values()].map(({account:e,snapId:t})=>{const n=q(this,r,"m",K).call(this,t);return{...e,address:le(e),metadata:{name:"",importTime:0,keyring:{type:this.type},...n!==undefined&&{snap:n}}}})}}n.SnapKeyring=de,i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,r=new WeakSet,h=function(e){return(0,ue.getKeyringVersionFromPlatform)(t=>q(this,i,"f").call("SnapController:isMinimumPlatformVersion",e,t))},p=function(e,t){if(t){const n=q(this,u,"f").pop(e,t);if(n)return n.options;console.warn(`SnapKeyring - Received unmapped correlation ID: "${t}"`)}return undefined},m=async function(e,t){(0,J.assert)(t,te.AccountCreatedEventStruct);const{metamask:n,account:i,accountNameSuggestion:s,displayAccountNameSuggestion:o,displayConfirmation:c}=t.params,u=(0,Q.transformAccount)(i);if(!q(this,d,"f")&&u.type===G.AnyAccountType.Account)throw new Error(`Cannot create generic account '${u.id}'`);const h=le(u);if(await q(this,l,"f").addressExists(h))throw new Error(`Account address '${h}' already exists`);if(q(this,a,"f").has(e,u.id))throw new Error(`Account '${u.id}' already exists`);const m=new ee.DeferredPromise;return await q(this,l,"f").addAccount(h,e,async t=>{t&&(q(this,a,"f").set(u.id,{account:u,snapId:e}),q(this,l,"f").saveState().then(()=>{m.resolve(u.id)}).catch(async t=>{await q(this,r,"m",x).call(this,e,u),m.reject(t)}))},m.promise,s,(0,ie.getInternalOptionsOf)([q(this,r,"m",p).call(this,e,n?.correlationId)??{},{displayConfirmation:c,displayAccountNameSuggestion:o}])),null},f=async function(e,t){(0,J.assert)(t,te.AccountUpdatedEventStruct);const{account:n}=t.params,{account:r}=q(this,a,"f").get(e,n.id)??(0,ce.throwError)(`Account '${n.id}' not found`),i=(0,Q.transformAccount)(n),s=i.type===G.AnyAccountType.Account||r.type===G.AnyAccountType.Account;if(!q(this,d,"f")&&s)throw new Error(`Cannot update generic account '${i.id}'`);if(!(0,ce.equalsIgnoreCase)(r.address,i.address))throw new Error(`Cannot change address of account '${i.id}'`);return q(this,a,"f").set(i.id,{account:i,snapId:e}),await q(this,l,"f").saveState(),null},g=async function(e,t){(0,J.assert)(t,te.AccountDeletedEventStruct);const{id:n}=t.params,r=q(this,a,"f").get(e,n);if(r===undefined)return null;const{account:i}=r;return await q(this,l,"f").removeAccount(le(i),e,async e=>{e&&await q(this,l,"f").saveState()}),null},y=async function(e,t){return(0,J.assert)(t,z.GetSelectedAccountsRequestStruct),q(this,o,"f").get(e)??[]},w=async function(e,t){(0,J.assert)(t,te.RequestApprovedEventStruct);const{id:n,result:r}=t.params,{promise:i}=q(this,c,"f").get(e,n)??(0,ce.throwError)(`Request '${n}' not found`);return q(this,c,"f").delete(e,n),i.resolve(r),null},k=async function(e,t){(0,J.assert)(t,te.RequestRejectedEventStruct);const{id:n}=t.params,{promise:r}=q(this,c,"f").get(e,n)??(0,ce.throwError)(`Request '${n}' not found`);return q(this,c,"f").delete(e,n),r.reject(new Error("Request rejected by user or snap.")),null},b=async function(e,t,n){return q(this,i,"f").publish(t,...n(n=>Object.entries(n).reduce((n,[r,i])=>(q(this,a,"f").has(e,r)?n[r]=i:console.warn(`SnapKeyring - ${t} - Found an unknown account ID "${r}" for Snap ID "${e}". Skipping.`),n),{}))),null},v=async function(e,t){(0,J.assert)(t,G.AccountBalancesUpdatedEventStruct);const n=t.params;return q(this,r,"m",b).call(this,e,"SnapKeyring:accountBalancesUpdated",e=>(n.balances=e(n.balances),[n]))},_=async function(e,t){(0,J.assert)(t,G.AccountAssetListUpdatedEventStruct);const n=t.params;return q(this,r,"m",b).call(this,e,"SnapKeyring:accountAssetListUpdated",e=>(n.assets=e(n.assets),[n]))},T=async function(e,t){(0,J.assert)(t,G.AccountTransactionsUpdatedEventStruct);const n=t.params;return q(this,r,"m",b).call(this,e,"SnapKeyring:accountTransactionsUpdated",e=>(n.transactions=e(n.transactions),[n]))},E=function(e){const t=[...q(this,a,"f").values()].find(t=>t.account.id===e);if(!t)throw new Error(`Unable to get account: unknown account ID: '${e}'`);return t},S=async function({origin:e,address:t,method:n,params:i,scope:s="",noPending:a=!1}){const{account:o,snapId:c}=q(this,r,"m",B).call(this,t);return await q(this,r,"m",P).call(this,{origin:e,snapId:c,account:o,method:n,params:i,scope:s,noPending:a})},A=async function({snapId:e,version:t,request:n}){const r=q(this,s,"f").withSnapId(e);return t===V.KeyringVersion.V1?await r.submitRequestV1((0,V.toKeyringRequestV1)(n)):await r.submitRequest(n)},P=async function({origin:e,snapId:t,account:n,method:i,params:s,scope:a,noPending:o}){if(!q(this,r,"m",j).call(this,n,i))throw new Error(`Method '${i}' not supported for account ${n.address}`);if(!e?.trim())throw new Error("An `origin` is required");const c=(0,Z.v4)(),u=q(this,r,"m",C).call(this,c,t);try{const l=q(this,r,"m",h).call(this,t),d={id:c,origin:e,scope:a,account:n.id,request:{method:i,...s!==undefined&&{params:s}}};(0,ne.projectLogger)("Submit Snap request: ",d);const p=await q(this,r,"m",A).call(this,{version:l,snapId:t,request:d});if(o&&p.pending)throw new Error(`Request '${c}' to Snap '${t}' is pending and noPending is true.`);return p.pending?((p.redirect?.message||p.redirect?.url)&&await q(this,r,"m",M).call(this,p.redirect,t),u.promise):q(this,r,"m",N).call(this,p,c,t)}catch(e){throw(0,ne.projectLogger)("Snap Request failed: ",{requestId:c}),q(this,r,"m",I).call(this,c,t),e}},j=function(e,t){return e.methods.includes(t)},C=function(e,t){const n=new ee.DeferredPromise;return q(this,c,"f").set(e,{promise:n,snapId:t}),n},I=function(e,t){q(this,c,"f").delete(t,e)},N=function(e,t,n){return q(this,c,"f").delete(n,t),e.result},M=async function(e,t){const{message:n="",url:i=""}=e,s=q(this,r,"m",O).call(this,i);s&&q(this,r,"m",R).call(this,s,t),await q(this,l,"f").redirectUser(t,s,n)},O=function(e){return e?(0,ce.sanitizeUrl)(e):e},R=function(e,t){const{origin:n}=new URL(e),i=q(this,r,"m",L).call(this,t);if(!i)throw new Error(`Snap '${t}' not found.`);if(!q(this,r,"m",U).call(this,i).includes(n))throw new Error(`Redirect URL domain '${n}' is not an allowed origin by snap '${t}'`)},x=async function(e,t){q(this,a,"f").delete(e,t.id);try{await q(this,s,"f").withSnapId(e).deleteAccount(t.id)}catch(n){console.error(`Account '${t.address}' may not have been removed from snap '${e}':`,n)}},B=function(e){return[...q(this,a,"f").values()].find(({account:t})=>(0,ce.equalsIgnoreCase)(t.address,e))??(0,ce.throwError)(`Account '${e}' not found`)},D=function(e){const t=q(this,o,"f");t.clear();for(const n of e){const e=q(this,a,"f").getSnapId(n);if(!e)continue;const r=t.get(e)??[];r.push(n),t.set(e,r)}},L=function(e){return q(this,i,"f").call("SnapController:get",e)},K=function(e){const t=q(this,r,"m",L).call(this,e);return t?{id:e,name:t.manifest.proposedName,enabled:t.enabled}:undefined},U=function(e){return e.manifest.initialPermissions["endowment:keyring"]?.allowedOrigins??[]},de.type=n.SNAP_KEYRING_TYPE}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapKeyring.cjs"}],[1861,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SNAP_KEYRING_NAME=void 0,n.SNAP_KEYRING_NAME="SnapKeyring"}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapKeyringMessenger.cjs"}],[1862,{"./migrations/index.cjs":1866,"@metamask/keyring-api":1994,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountV1Struct=void 0,n.assertKeyringAccount=a,n.transformAccount=function(e){return a((0,s.isAccountV1)(e)?(0,s.transformAccountV1)(e):e)};const r=e("@metamask/keyring-api"),i=e("@metamask/superstruct"),s=e("./migrations/index.cjs");function a(e){switch(e.type){case r.BtcAccountType.P2pkh:return(0,i.assert)(e,r.BtcP2pkhAccountStruct),e;case r.BtcAccountType.P2sh:return(0,i.assert)(e,r.BtcP2shAccountStruct),e;case r.BtcAccountType.P2wpkh:return(0,i.assert)(e,r.BtcP2wpkhAccountStruct),e;case r.BtcAccountType.P2tr:return(0,i.assert)(e,r.BtcP2trAccountStruct),e;case r.SolAccountType.DataAccount:return(0,i.assert)(e,r.SolDataAccountStruct),e;case r.EthAccountType.Erc4337:return(0,i.assert)(e,r.EthErc4337AccountStruct),e;case r.EthAccountType.Eoa:return(0,i.assert)(e,r.EthEoaAccountStruct),e;case r.TrxAccountType.Eoa:return(0,i.assert)(e,r.TrxEoaAccountStruct),e;case r.AnyAccountType.Account:return(0,i.assert)(e,r.KeyringAccountStruct),e;default:throw new Error(`Unknown account type: '${e.type}'`)}}n.KeyringAccountV1Struct=(0,i.omit)(r.KeyringAccountStruct,["scopes"])}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/account.cjs"}],[1863,{"./account.cjs":1862,"@metamask/keyring-api":1994,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RequestRejectedEventStruct=n.RequestApprovedEventStruct=n.AccountDeletedEventStruct=n.AccountUpdatedEventStruct=n.AccountCreatedEventStruct=void 0;const r=e("@metamask/keyring-api");Object.defineProperty(n,"AccountDeletedEventStruct",{enumerable:!0,get:function(){return r.AccountDeletedEventStruct}}),Object.defineProperty(n,"RequestApprovedEventStruct",{enumerable:!0,get:function(){return r.RequestApprovedEventStruct}}),Object.defineProperty(n,"RequestRejectedEventStruct",{enumerable:!0,get:function(){return r.RequestRejectedEventStruct}});const i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct"),a=e("./account.cjs");n.AccountCreatedEventStruct=(0,i.object)({...r.AccountCreatedEventStruct.schema,params:(0,i.object)({...r.AccountCreatedEventStruct.schema.params.schema,account:(0,s.union)([a.KeyringAccountV1Struct,r.KeyringAccountStruct])})}),n.AccountUpdatedEventStruct=(0,i.object)({...r.AccountUpdatedEventStruct.schema,params:(0,i.object)({...r.AccountUpdatedEventStruct.schema.params.schema,account:(0,s.union)([a.KeyringAccountV1Struct,r.KeyringAccountStruct])})})}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/events.cjs"}],[1864,{"./SnapKeyring.cjs":1860,"./options.cjs":1868,"./types.cjs":1869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./options.cjs"),n),i(e("./types.cjs"),n),i(e("./SnapKeyring.cjs"),n)}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/index.cjs"}],[1865,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("eth-snap-keyring")}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/logger.cjs"}],[1866,{"./v1.cjs":1867},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./v1.cjs"),n)}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/migrations/index.cjs"}],[1867,{"../account.cjs":1862,"@metamask/keyring-api":1994,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isAccountV1=o,n.getScopesForAccountV1=c,n.transformAccountV1=function(e){const{type:t}=e;if(t===r.EthAccountType.Eoa)return{...e,scopes:c(e)};return(0,a.assertKeyringAccount)(e)},n.migrateAccountV1=function(e){if(!o(e))return e;return{...e,scopes:c(e)}};const r=e("@metamask/keyring-api"),i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct"),a=e("../account.cjs");function o(e){return(0,s.is)(e,a.KeyringAccountV1Struct)}function c(e){switch(e.type){case r.EthAccountType.Eoa:return[r.EthScope.Eoa];case r.EthAccountType.Erc4337:return[r.EthScope.Testnet];case r.BtcAccountType.P2pkh:case r.BtcAccountType.P2sh:case r.BtcAccountType.P2wpkh:case r.BtcAccountType.P2tr:return[(0,i.isBtcMainnetAddress)(e.address)?r.BtcScope.Mainnet:r.BtcScope.Testnet];case r.SolAccountType.DataAccount:return[r.SolScope.Mainnet,r.SolScope.Testnet,r.SolScope.Devnet];case r.TrxAccountType.Eoa:return[r.TrxScope.Mainnet,r.TrxScope.Nile,r.TrxScope.Shasta];default:return[r.EthScope.Eoa]}}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/migrations/v1.cjs"}],[1868,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(){return{displayAccountNameSuggestion:!0,displayConfirmation:!0,setSelectedAccount:!0}}Object.defineProperty(n,"__esModule",{value:!0}),n.getDefaultInternalOptions=r,n.getInternalOptionsOf=function(e){const t={},n={displayAccountNameSuggestion:!0,displayConfirmation:!0,setSelectedAccount:!0},r=Object.keys(n);for(const i of r){t[i]=undefined;for(const r of[...e,n])r[i]!==undefined&&t[i]===undefined&&(t[i]=r[i])}return t}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/options.cjs"}],[1869,{"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapMessageStruct=void 0;const r=e("@metamask/superstruct"),i=e("@metamask/utils");n.SnapMessageStruct=(0,r.object)({method:(0,r.string)(),params:(0,r.optional)((0,r.union)([(0,r.array)(i.JsonStruct),(0,r.record)((0,r.string)(),i.JsonStruct)]))})}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/types.cjs"}],[1870,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unique=function(e){return[...new Set(e)]},n.toJson=function(e){return JSON.parse(JSON.stringify(e))},n.ensureDefined=function(e){if(e===undefined)throw new Error("Argument is undefined")},n.throwError=function(e){throw new Error(e)},n.equalsIgnoreCase=function(e,t){return e.toLowerCase()===t.toLowerCase()},n.sanitizeUrl=function(e){return new URL(e).toString()}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/util.cjs"}],[1871,{"@metamask/keyring-internal-api":2007},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PLATFORM_VERSION_TO_KEYRING_VERSION=void 0,n.getKeyringVersionFromPlatform=function(e){for(const[t,r]of n.PLATFORM_VERSION_TO_KEYRING_VERSION)if(e(t))return r;return r.KeyringVersion.V1};const r=e("@metamask/keyring-internal-api");n.PLATFORM_VERSION_TO_KEYRING_VERSION=[["7.0.0",r.KeyringVersion.V2]]}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/versions.cjs"}],[1872,{"./nil.js":1875,"./parse.js":1876,"./stringify.js":1880,"./v1.js":1881,"./v3.js":1882,"./v4.js":1884,"./v5.js":1885,"./validate.js":1886,"./version.js":1887},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return c.default}});var r=h(e("./v1.js")),i=h(e("./v3.js")),s=h(e("./v4.js")),a=h(e("./v5.js")),o=h(e("./nil.js")),c=h(e("./version.js")),u=h(e("./validate.js")),l=h(e("./stringify.js")),d=h(e("./parse.js"));function h(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/index.js"}],[1873,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,s,a){return i((o=i(i(t,e),i(r,a)))<<(c=s)|o>>>32-c,n);var o,c}function a(e,t,n,r,i,a,o){return s(t&n|~t&r,e,t,i,a,o)}function o(e,t,n,r,i,a,o){return s(t&r|n&~r,e,t,i,a,o)}function c(e,t,n,r,i,a,o){return s(t^n^r,e,t,i,a,o)}function u(e,t,n,r,i,a,o){return s(n^(t|~r),e,t,i,a,o)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let i=0;i<n;i+=8){const n=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let n=1732584193,s=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const r=n,h=s,p=l,m=d;n=a(n,s,l,d,e[t],7,-680876936),d=a(d,n,s,l,e[t+1],12,-389564586),l=a(l,d,n,s,e[t+2],17,606105819),s=a(s,l,d,n,e[t+3],22,-1044525330),n=a(n,s,l,d,e[t+4],7,-176418897),d=a(d,n,s,l,e[t+5],12,1200080426),l=a(l,d,n,s,e[t+6],17,-1473231341),s=a(s,l,d,n,e[t+7],22,-45705983),n=a(n,s,l,d,e[t+8],7,1770035416),d=a(d,n,s,l,e[t+9],12,-1958414417),l=a(l,d,n,s,e[t+10],17,-42063),s=a(s,l,d,n,e[t+11],22,-1990404162),n=a(n,s,l,d,e[t+12],7,1804603682),d=a(d,n,s,l,e[t+13],12,-40341101),l=a(l,d,n,s,e[t+14],17,-1502002290),s=a(s,l,d,n,e[t+15],22,1236535329),n=o(n,s,l,d,e[t+1],5,-165796510),d=o(d,n,s,l,e[t+6],9,-1069501632),l=o(l,d,n,s,e[t+11],14,643717713),s=o(s,l,d,n,e[t],20,-373897302),n=o(n,s,l,d,e[t+5],5,-701558691),d=o(d,n,s,l,e[t+10],9,38016083),l=o(l,d,n,s,e[t+15],14,-660478335),s=o(s,l,d,n,e[t+4],20,-405537848),n=o(n,s,l,d,e[t+9],5,568446438),d=o(d,n,s,l,e[t+14],9,-1019803690),l=o(l,d,n,s,e[t+3],14,-187363961),s=o(s,l,d,n,e[t+8],20,1163531501),n=o(n,s,l,d,e[t+13],5,-1444681467),d=o(d,n,s,l,e[t+2],9,-51403784),l=o(l,d,n,s,e[t+7],14,1735328473),s=o(s,l,d,n,e[t+12],20,-1926607734),n=c(n,s,l,d,e[t+5],4,-378558),d=c(d,n,s,l,e[t+8],11,-2022574463),l=c(l,d,n,s,e[t+11],16,1839030562),s=c(s,l,d,n,e[t+14],23,-35309556),n=c(n,s,l,d,e[t+1],4,-1530992060),d=c(d,n,s,l,e[t+4],11,1272893353),l=c(l,d,n,s,e[t+7],16,-155497632),s=c(s,l,d,n,e[t+10],23,-1094730640),n=c(n,s,l,d,e[t+13],4,681279174),d=c(d,n,s,l,e[t],11,-358537222),l=c(l,d,n,s,e[t+3],16,-722521979),s=c(s,l,d,n,e[t+6],23,76029189),n=c(n,s,l,d,e[t+9],4,-640364487),d=c(d,n,s,l,e[t+12],11,-421815835),l=c(l,d,n,s,e[t+15],16,530742520),s=c(s,l,d,n,e[t+2],23,-995338651),n=u(n,s,l,d,e[t],6,-198630844),d=u(d,n,s,l,e[t+7],10,1126891415),l=u(l,d,n,s,e[t+14],15,-1416354905),s=u(s,l,d,n,e[t+5],21,-57434055),n=u(n,s,l,d,e[t+12],6,1700485571),d=u(d,n,s,l,e[t+3],10,-1894986606),l=u(l,d,n,s,e[t+10],15,-1051523),s=u(s,l,d,n,e[t+1],21,-2054922799),n=u(n,s,l,d,e[t+8],6,1873313359),d=u(d,n,s,l,e[t+15],10,-30611744),l=u(l,d,n,s,e[t+6],15,-1560198380),s=u(s,l,d,n,e[t+13],21,1309151649),n=u(n,s,l,d,e[t+4],6,-145523070),d=u(d,n,s,l,e[t+11],10,-1120210379),l=u(l,d,n,s,e[t+2],15,718787259),s=u(s,l,d,n,e[t+9],21,-343485551),n=i(n,r),s=i(s,h),l=i(l,p),d=i(d,m)}return[n,s,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};n.default=l}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/md5-browser.js"}],[1874,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};n.default=r}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/native-browser.js"}],[1875,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/nil.js"}],[1876,{"./validate.js":1886},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};n.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/parse.js"}],[1877,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/regex.js"}],[1878,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){let r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/rng-browser.js"}],[1879,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,a=Math.ceil(s/16),o=new Array(a);for(let t=0;t<a;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];o[t]=n}o[a-1][14]=8*(e.length-1)/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=o[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let a=n[0],c=n[1],u=n[2],l=n[3],d=n[4];for(let e=0;e<80;++e){const n=Math.floor(e/20),o=i(a,5)+r(n,c,u,l)+d+t[n]+s[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=a,a=o}n[0]=n[0]+a>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+u>>>0,n[3]=n[3]+l>>>0,n[4]=n[4]+d>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};n.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/sha1-browser.js"}],[1880,{"./validate.js":1886},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.unsafeStringify=a;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function a(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var o=function(e,t=0){const n=a(e,t);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n};n.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/stringify.js"}],[1881,{"./rng.js":1878,"./stringify.js":1880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./rng.js"))&&r.__esModule?r:{default:r},s=e("./stringify.js");let a,o,c=0,u=0;var l=function(e,t,n){let r=t&&n||0;const l=t||new Array(16);let d=(e=e||{}).node||a,h=e.clockseq!==undefined?e.clockseq:o;if(null==d||null==h){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=o=16383&(t[6]<<8|t[7]))}let p=e.msecs!==undefined?e.msecs:Date.now(),m=e.nsecs!==undefined?e.nsecs:u+1;const f=p-c+(m-u)/1e4;if(f<0&&e.clockseq===undefined&&(h=h+1&16383),(f<0||p>c)&&e.nsecs===undefined&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=m,o=h,p+=122192928e5;const g=(1e4*(268435455&p)+m)%4294967296;l[r++]=g>>>24&255,l[r++]=g>>>16&255,l[r++]=g>>>8&255,l[r++]=255&g;const y=p/4294967296*1e4&268435455;l[r++]=y>>>8&255,l[r++]=255&y,l[r++]=y>>>24&15|16,l[r++]=y>>>16&255,l[r++]=h>>>8|128,l[r++]=255&h;for(let e=0;e<6;++e)l[r+e]=d[e];return t||(0,s.unsafeStringify)(l)};n.default=l}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v1.js"}],[1882,{"./md5.js":1873,"./v35.js":1883},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v3",48,i.default);n.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v3.js"}],[1883,{"./parse.js":1876,"./stringify.js":1880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.URL=n.DNS=void 0,n.default=function(e,t,n){function r(e,r,a,o){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,s.default)(r)),16!==(null===(c=r)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(r),u.set(e,r.length),u=n(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){o=o||0;for(let e=0;e<16;++e)a[o+e]=u[e];return a}return(0,i.unsafeStringify)(u)}try{r.name=e}catch(e){}return r.DNS=a,r.URL=o,r};var r,i=e("./stringify.js"),s=(r=e("./parse.js"))&&r.__esModule?r:{default:r};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=a;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v35.js"}],[1884,{"./native.js":1874,"./rng.js":1878,"./stringify.js":1880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("./native.js")),i=a(e("./rng.js")),s=e("./stringify.js");function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,s.unsafeStringify)(a)};n.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v4.js"}],[1885,{"./sha1.js":1879,"./v35.js":1883},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v5",80,i.default);n.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v5.js"}],[1886,{"./regex.js":1877},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./regex.js"))&&r.__esModule?r:{default:r};var s=function(e){return"string"==typeof e&&i.default.test(e)};n.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/validate.js"}],[1887,{"./validate.js":1886},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};n.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/version.js"}],[1900,{"./helpers":1902,"./prefix-for-chain":1904,"./prefix-for-network":1905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountLink=n.createCustomAccountLink=n.createAccountLinkForChain=n.createAccountLink=void 0;const i=e("./helpers"),s=r(e("./prefix-for-chain")),a=r(e("./prefix-for-network"));function o(e,t){const n=a.default(t);return null===n?"":`https://${n}etherscan.io/address/${e}`}function c(e,t){const n=s.default(t);return null===n?"":`https://${n}etherscan.io/address/${e}`}function u(e,t){return i.addPathToUrl(t,"address",e)}n.createAccountLink=o,n.createAccountLinkForChain=c,n.createCustomAccountLink=u,n.getAccountLink=function(e,t,n={},r=""){return n.blockExplorerUrl?u(e,n.blockExplorerUrl):r?o(e,r):c(e,t)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/account-link.js"}],[1901,{"./helpers":1902,"./prefix-for-chain":1904,"./prefix-for-network":1905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getBlockExplorerLink=n.createExplorerLinkForChain=n.createExplorerLink=n.createCustomExplorerLink=void 0;const i=e("./helpers"),s=r(e("./prefix-for-chain")),a=r(e("./prefix-for-network"));function o(e,t){return i.addPathToUrl(t,"tx",e)}function c(e,t){const n=a.default(t);return null===n?"":`https://${n}etherscan.io/tx/${e}`}function u(e,t){const n=s.default(t);return null===n?"":`https://${n}etherscan.io/tx/${e}`}n.createCustomExplorerLink=o,n.createExplorerLink=c,n.createExplorerLinkForChain=u,n.getBlockExplorerLink=function(e,t={}){return t.blockExplorerUrl?o(e.hash,t.blockExplorerUrl):e.chainId?u(e.hash,e.chainId):c(e.hash,e.metamaskNetworkId)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/explorer-link.js"}],[1902,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addPathToUrl=void 0,n.addPathToUrl=(e,t,n)=>{const{username:r,password:i,protocol:s,host:a,pathname:o,search:c,hash:u}=new URL(e),l=o.endsWith("/")?`${o}${t}/${n}`:`${o}/${t}/${n}`;return new URL(`${s}//${r?`${r}:${i}`:""}${a}${l}${c}${u}`).toString()}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/helpers.js"}],[1903,{"./account-link":1900,"./explorer-link":1901,"./token-tracker-link":1906},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("./account-link"),i=e("./explorer-link"),s=e("./token-tracker-link");t.exports={createExplorerLink:i.createExplorerLink,createCustomExplorerLink:i.createCustomExplorerLink,createExplorerLinkForChain:i.createExplorerLinkForChain,createAccountLink:r.createAccountLink,createCustomAccountLink:r.createCustomAccountLink,createAccountLinkForChain:r.createAccountLinkForChain,createTokenTrackerLink:s.createTokenTrackerLink,createCustomTokenTrackerLink:s.createCustomTokenTrackerLink,createTokenTrackerLinkForChain:s.createTokenTrackerLinkForChain,getBlockExplorerLink:i.getBlockExplorerLink,getAccountLink:r.getAccountLink,getTokenTrackerLink:s.getTokenTrackerLink}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/index.js"}],[1904,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){let t;switch(e){case"0x1":t="";break;case"0x5":t="goerli.";break;case"0xaa36a7":t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js"}],[1905,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){let t;switch(parseInt(e)){case 1:t="";break;case 5:t="goerli.";break;case 11155111:t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-network.js"}],[1906,{"./helpers":1902,"./prefix-for-chain":1904,"./prefix-for-network":1905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenTrackerLink=n.createTokenTrackerLinkForChain=n.createCustomTokenTrackerLink=n.createTokenTrackerLink=void 0;const i=e("./helpers"),s=r(e("./prefix-for-chain")),a=r(e("./prefix-for-network"));function o(e,t,n){const r=a.default(t);return null===r?"":`https://${r}etherscan.io/token/${e}${n?`?a=${n}`:""}`}function c(e,t){return i.addPathToUrl(t,"token",e)}function u(e,t,n){const r=s.default(t);return null===r?"":`https://${r}etherscan.io/token/${e}${n?`?a=${n}`:""}`}n.createTokenTrackerLink=o,n.createCustomTokenTrackerLink=c,n.createTokenTrackerLinkForChain=u,n.getTokenTrackerLink=function(e,t,n,r,i={}){return i.blockExplorerUrl?c(e,i.blockExplorerUrl):n?o(e,n,r):u(e,t,r)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/token-tracker-link.js"}],[1907,{"./has-tx-object":1908,"@babel/runtime/helpers/asyncToGenerator":525,"@babel/runtime/helpers/interopRequireDefault":533,"@babel/runtime/regenerator":551,"@metamask/ethjs-filter":1910,"@metamask/ethjs-util":1915,"ethjs-abi":4069,"js-sha3":4363,"promise-to-callback":4773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@babel/runtime/helpers/interopRequireDefault"),i=r(e("@babel/runtime/regenerator")),s=r(e("@babel/runtime/helpers/asyncToGenerator")),a=e("ethjs-abi"),o=e("@metamask/ethjs-filter"),c=e("@metamask/ethjs-util").getKeys,u=e("js-sha3").keccak_256,l=e("promise-to-callback"),d=e("./has-tx-object");t.exports=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=this;function n(e){return function(){var t,n=[].slice.call(arguments);"function"==typeof n[n.length-1]&&(t=n.pop());var i=function(e){return r.apply(this,arguments)}({methodObject:e,methodArgs:n});return t?l(i)(t):i}}function r(){return(r=(0,s.default)(i.default.mark(function e(n){var r,s,o,c,u,l,h;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.methodObject,s=n.methodArgs,o="call",c={},d(s)&&(c=s.pop()),(u=Object.assign({},t.defaultTxObject,c,{to:t.address})).data=a.encodeMethod(r,s),!1===r.constant&&(o="sendTransaction"),e.next=9,t.query[o](u);case 9:if(l=e.sent,"call"!==o){e.next=20;break}return e.prev=11,h=a.decodeMethod(r,l),e.abrupt("return",h);case 16:throw e.prev=16,e.t0=e.catch(11),new Error("[ethjs-contract] while formatting incoming raw call data "+JSON.stringify(l)+" "+e.t0);case 20:return e.abrupt("return",l);case 21:case"end":return e.stop()}},e,null,[[11,16]])}))).apply(this,arguments)}t.abi=e.contractABI||[],t.query=e.query,t.address=e.address||"0x",t.bytecode=e.contractBytecode||"0x",t.defaultTxObject=e.contractDefaultTxObject||{},t.filters=new o(t.query),(h=t.abi,h.filter(function(e){return("function"===e.type||"event"===e.type)&&e.name.length>0})).forEach(function(e){"function"===e.type?t[e.name]=n(e):"event"===e.type&&(t[e.name]=function(e){return function(){var n=[].slice.call(arguments),r=c(e.inputs,"type",!1),i=["0x"+u(e.name+"("+r.join(",")+")")],s=Object.assign({},n[0])||{},o=Object.assign({},n[0]||{},{to:t.address,topics:i}),l=Object.assign({},s,{decoder:function(t){return a.decodeEvent(e,t,i)},defaultFilterObject:o});return new t.filters.Filter(l)}}(e))});var h}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/contract.js"}],[1908,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=["from","to","data","value","gasPrice","gas"];t.exports=function(e){if(!Array.isArray(e)||0===e.length)return!1;var t=e[e.length-1];if(!t)return!1;if("object"!=typeof t)return!1;if(0===Object.keys(t).length)return!0;var n=Object.keys(t);if(r.some(function(e){return n.includes(e)}))return!0;return!1}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/has-tx-object.js"}],[1909,{"./contract":1907,"./has-tx-object":1908,"@metamask/ethjs-filter":1910,"@metamask/ethjs-util":1915,"ethjs-abi":4069,"js-sha3":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("ethjs-abi"),i=(e("js-sha3").keccak_256,e("@metamask/ethjs-filter"),e("@metamask/ethjs-util").getKeys),s=e("./contract"),a=e("./has-tx-object");t.exports=function(e){return function(t,n,o){if(!Array.isArray(t))throw new Error("[ethjs-contract] Contract ABI must be type Array, got type "+typeof t);if(void 0!==n&&"string"!=typeof n)throw new Error("[ethjs-contract] Contract bytecode must be type String, got type "+typeof n);if(void 0!==o&&"object"!=typeof o)throw new Error("[ethjs-contract] Contract default tx object must be type Object, got type "+typeof t);var c={at:function(r){return new s({address:r,query:e,contractBytecode:n,contractDefaultTxObject:o,contractABI:t})},new:function(){var s={},c=null,u=[].slice.call(arguments);"function"==typeof u[u.length-1]&&(c=u.pop()),a(u)&&(s=u.pop());var l=function(e){return e.filter(function(e){return"constructor"===e.type})[0]}(t),d=Object.assign({},o,s);if(n&&(d.data=n),l){var h=r.encodeParams(i(l.inputs,"type"),u).substring(2);d.data=""+d.data+h}return c?e.sendTransaction(d,c):e.sendTransaction(d)}};return c}}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/index.js"}],[1910,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){function n(e){var n=this;n.filterId=null,n.options=Object.assign({delay:300,decoder:function(e){return e},defaultFilterObject:{}},e||{}),n.watchers={},n.interval=setInterval(function(){null!==n.filterId&&Object.keys(n.watchers).length>0&&t.getFilterChanges(n.filterId,function(e,t){var r=[],i=null;if(!e)try{t.forEach(function(e,i){r[i]=t[i],"object"==typeof t[i]&&(r[i].data=n.options.decoder(r[i].data))})}catch(e){i=new Error("[ethjs-filter] while decoding filter change event data from RPC '"+JSON.stringify(r)+"': "+e)}Object.keys(n.watchers).forEach(function(s){var a=n.watchers[s];!0!==a.stop?i?a.callback(i,null):e?a.callback(e,null):Array.isArray(r)&&t.length>0&&a.callback(e,r):delete n.watchers[s]})})},n.options.delay)}return n.prototype.at=function(e){this.filterId=e},n.prototype.watch=function(e){var t=e||function(){},n=this,r=Math.random().toString(36).substring(7);return n.watchers[r]={callback:t,stop:!1,stopWatching:function(){n.watchers[r].stop=!0}},n.watchers[r]},n.prototype.uninstall=function(e){var n=this,r=e||null;n.watchers=Object.assign({}),clearInterval(n.interval);var i=new Promise(function(e,r){t.uninstallFilter(n.filterId,function(t,n){t?r(t):e(n)})});return r&&i.then(function(e){return r(null,e)}).catch(function(e){return r(e,null)}),r?null:i},n.prototype.new=function(){var n=null,r=this,i=[],s=[].slice.call(arguments);"function"==typeof s[s.length-1]&&(n=s.pop()),"Filter"===e&&i.push(Object.assign(r.options.defaultFilterObject,s[s.length-1]||{}));var a=new Promise(function(n,s){i.push(function(e,t){e?s(e):(r.filterId=t,n(t))}),t["new"+e].apply(t,i)});return n&&a.then(function(e){return n(null,e)}).catch(function(e){return n(e,null)}),n?null:a},n}t.exports=function e(t){var n=this;if(!(n instanceof e))throw new Error("the EthFilter object must be instantiated with `new` flag.. (e.g. `const filters = new EthFilter(query);`)");if("object"!=typeof t)throw new Error("the EthFilter object must be instantiated with an EthQuery instance (e.g. `const filters = new EthFilter(new EthQuery(provider));`). See github.com/ethjs/ethjs-query for more details..");n.Filter=r("Filter",t),n.BlockFilter=r("BlockFilter",t),n.PendingTransactionFilter=r("PendingTransactionFilter",t)}}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-filter",file:"node_modules/@metamask/ethjs-filter/lib/index.js"}],[1911,{"@metamask/ethjs-util":1915,"@metamask/number-to-bn":2245,"ethjs-schema":4071,"strip-hex-prefix":5303},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@metamask/number-to-bn"),i=e("ethjs-schema"),s=e("@metamask/ethjs-util"),a=s.arrayContainsArray,o=s.getBinarySize,c=s.padToEven,u=e("strip-hex-prefix");function l(e,t,n){if(-1===["string","number","object"].indexOf(typeof e)||null===e)return e;var i=r(e),s=n&&i.toString(16).length%2?"0":"";if(r(e).isNeg())throw new Error("[ethjs-format] while formatting quantity '"+i.toString(10)+"', invalid negative number. Number must be positive or zero.");return t?"0x"+s+i.toString(16):i}function d(e,t){var n=e;return-1===i.tags.indexOf(e)&&(n=l(e,t)),n}function h(e,t){var n=e,r=0;if("string"==typeof e&&(n="0x"+c(u(e)),r=o(n)),"0x00"===n&&(n="0x0"),"number"==typeof t&&null!==e&&"0x"!==n&&"0x0"!==n&&(!/^[0-9A-Fa-f]+$/.test(u(n))||r!==2+2*t))throw new Error("[ethjs-format] hex string '"+n+"' must be an alphanumeric "+(2+2*t)+" utf8 byte hex (chars: a-fA-F) string, is "+r+" bytes");return n}function p(e,t,n){var r=Object.assign({},t),s=null;if("string"==typeof e&&(s="Boolean|EthSyncing"===e?Object.assign({},i.objects.EthSyncing):"DATA|Transaction"===e?Object.assign({},i.objects.Transaction):Object.assign({},i.objects[e])),!a(Object.keys(t),s.__required))throw new Error("[ethjs-format] object "+JSON.stringify(t)+" must contain properties: "+s.__required.join(", "));return Object.keys(s).forEach(function(e){"__required"!==e&&void 0!==t[e]&&(r[e]=f(s[e],t[e],n))}),r}function m(e,t,n,r){var i=t.slice(),s=e;if("Array|DATA"===e&&(s=["D"]),"FilterChange"===e&&"string"==typeof t[0]&&(s=["D32"]),!0===n&&"number"==typeof r&&t.length<r)throw new Error("array "+JSON.stringify(t)+" must contain at least "+r+" params, but only contains "+t.length+".");return s=s.slice(),t.forEach(function(e,t){var r=0;s.length>1&&(r=t),i[t]=f(s[r],e,n)}),i}function f(e,t,n,r){var i=t;return"Q"===e?i=l(t,n):"QP"===e?i=l(t,n,!0):"Q|T"===e?i=d(t,n):"D"===e?i=h(t):"D20"===e?i=h(t,20):"D32"===e?i=h(t,32):"object"==typeof t&&null!==t&&!1===Array.isArray(t)?i=p(e,t,n):Array.isArray(t)&&(i=m(e,t,n,r)),i}t.exports={schema:i,formatQuantity:l,formatQuantityOrTag:d,formatObject:p,formatArray:m,format:f,formatInputs:function(e,t){return f(i.methods[e][0],t,!0,i.methods[e][2])},formatOutputs:function(e,t){return f(i.methods[e][1],t,!1)}}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-format",file:"node_modules/@metamask/ethjs-format/lib/index.js"}],[1912,{"@metamask/ethjs-format":1911,"@metamask/ethjs-rpc":1913,"promise-to-callback":4773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@metamask/ethjs-format"),i=e("@metamask/ethjs-rpc"),s=e("promise-to-callback");function a(e,t){var n=this,r=t||{};if(!(this instanceof a))throw new Error('[ethjs-query] the Eth object requires the "new" flag in order to function normally (i.e. `const eth = new Eth(provider);`).');if("object"!=typeof e)throw new Error("[ethjs-query] the Eth object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new Eth(provider);')");n.options=Object.assign({debug:r.debug||!1,logger:r.logger||console,jsonSpace:r.jsonSpace||0}),n.rpc=new i(e),n.setProvider=n.rpc.setProvider}function o(e,t){return function(){var n=null,i=null,a=this,o=[].slice.call(arguments),c=e.replace("eth_","");o.length>0&&"function"==typeof o[o.length-1]&&(n=o.pop());var u=function(){var n=this;return new Promise(function(s,u){if(o.length<t[2])u(new Error("[ethjs-query] method '"+c+"' requires at least "+t[2]+" input (format type "+t[0][0]+"), "+o.length+" provided. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else if(o.length>t[0].length)u(new Error("[ethjs-query] method '"+c+"' requires at most "+t[0].length+" params, "+o.length+" provided '"+JSON.stringify(o,null,a.options.jsonSpace)+"'. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else{t[3]&&o.length<t[3]&&o.push("latest"),n.log("attempting method formatting for '"+c+"' with inputs "+JSON.stringify(o,null,n.options.jsonSpace));try{i=r.formatInputs(e,o),n.log("method formatting success for '"+c+"' with formatted result: "+JSON.stringify(i,null,n.options.jsonSpace))}catch(e){return void u(new Error("[ethjs-query] while formatting inputs '"+JSON.stringify(o,null,n.options.jsonSpace)+"' for method '"+c+"' error: "+e))}n.rpc.sendAsync({method:e,params:i}).then(function(t){n.log("attempting method formatting for '"+c+"' with raw outputs: "+JSON.stringify(t,null,n.options.jsonSpace));var i=r.formatOutputs(e,t);n.log("method formatting success for '"+c+"' formatted result: "+JSON.stringify(i,null,n.options.jsonSpace)),s(i)}).catch(function(e){u(e)})}})}.call(this);return n?s(u)(n):u}}t.exports=a,a.prototype.log=function(e){this.options.debug&&this.options.logger.log("[ethjs-query log] "+e)},Object.keys(r.schema.methods).forEach(function(e){Object.defineProperty(a.prototype,e.replace("eth_",""),{enumerable:!0,value:o(e,r.schema.methods[e])})})}}},{package:"eth-method-registry>@metamask/ethjs-query",file:"node_modules/@metamask/ethjs-query/lib/index.js"}],[1913,{"promise-to-callback":4773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("promise-to-callback");function i(e,t){var n=this,r=t||{};if(!(this instanceof i))throw new Error('[ethjs-rpc] the EthRPC object requires the "new" flag in order to function normally (i.e. `const eth = new EthRPC(provider);`).');n.options=Object.assign({jsonSpace:r.jsonSpace||0,max:r.max||9999999999999}),n.idCounter=Math.floor(Math.random()*n.options.max),n.setProvider=function(e){if("object"!=typeof e)throw new Error("[ethjs-rpc] the EthRPC object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new EthRPC(provider);')");n.currentProvider=e},n.setProvider(e)}t.exports=i,i.prototype.sendAsync=function(e,t){var n=this;n.idCounter=n.idCounter%n.options.max;var i,s,a=(i=e,s=n.idCounter++,Object.assign({},{id:s,jsonrpc:"2.0",params:[]},i)),o=new Promise(function(e,t){n.currentProvider.sendAsync(a,function(r,i){var s=i||{};if(r||s.error){var o="[ethjs-rpc] "+(s.error?"rpc":"")+" error with payload "+JSON.stringify(a,null,n.options.jsonSpace)+" "+(r?String(r):JSON.stringify(s.error,null,n.options.jsonSpace)),c=new Error(o);return c.value=r||s.error,void t(c)}e(s.result)})});return t?r(o)(t):o}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-rpc",file:"node_modules/@metamask/ethjs-rpc/lib/index.js"}],[1914,{"@metamask/number-to-bn":2245,"bn.js":3699},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("bn.js"),i=e("@metamask/number-to-bn"),s=new r(0),a=new r(-1),o={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function c(e){var t=e?e.toLowerCase():"ether",n=o[t];if("string"!=typeof n)throw new Error("[ethjs-unit] the unit provided "+e+" doesn't exists, please use the one of the following units "+JSON.stringify(o,null,2));return new r(n,10)}function u(e){if("string"==typeof e){if(!e.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+e+"', should be a number matching (^-?[0-9.]+).");return e}if("number"==typeof e)return String(e);if("object"==typeof e&&e.toString&&(e.toTwos||e.dividedToIntegerBy))return e.toPrecision?String(e.toPrecision()):e.toString(10);throw new Error("while converting number to string, invalid number value '"+e+"' type "+typeof e+".")}t.exports={unitMap:o,numberToString:u,getValueOfUnit:c,fromWei:function(e,t,n){var r=i(e),u=r.lt(s),l=c(t),d=o[t].length-1||1,h=n||{};u&&(r=r.mul(a));for(var p=r.mod(l).toString(10);p.length<d;)p="0"+p;h.pad||(p=p.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var m=r.div(l).toString(10);h.commify&&(m=m.replace(/\B(?=(\d{3})+(?!\d))/g,","));var f=m+("0"==p?"":"."+p);return u&&(f="-"+f),f},toWei:function(e,t){var n=u(e),i=c(t),s=o[t].length-1||1,l="-"===n.substring(0,1);if(l&&(n=n.substring(1)),"."===n)throw new Error("[ethjs-unit] while converting number "+e+" to wei, invalid value");var d=n.split(".");if(d.length>2)throw new Error("[ethjs-unit] while converting number "+e+" to wei,  too many decimal points");var h=d[0],p=d[1];if(h||(h="0"),p||(p="0"),p.length>s)throw new Error("[ethjs-unit] while converting number "+e+" to wei, too many decimal places");for(;p.length<s;)p+="0";h=new r(h),p=new r(p);var m=h.mul(i).add(p);return l&&(m=m.mul(a)),new r(m.toString(10),10)}}}}},{package:"@metamask/controller-utils>@metamask/ethjs-unit",file:"node_modules/@metamask/ethjs-unit/lib/index.js"}],[1915,{buffer:3760,"is-hex-prefixed":4340,"strip-hex-prefix":5303},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("is-hex-prefixed"),i=e("strip-hex-prefix");function s(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function a(e){return"0x"+e.toString(16)}t.exports={arrayContainsArray:function(e,t,n){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(n)?"some":"every"](function(t){return e.indexOf(t)>=0})},intToBuffer:function(e){var t=a(e);return n.from(s(t.slice(2)),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return n.byteLength(e,"utf8")},isHexPrefixed:r,stripHexPrefix:i,padToEven:s,intToHex:a,fromAscii:function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n).toString(16);t+=r.length<2?"0"+r:r}return"0x"+t},fromUtf8:function(e){return"0x"+s(n.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",n=0,r=e.length;for("0x"===e.substring(0,2)&&(n=2);n<r;n+=2){var i=parseInt(e.substr(n,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return n.from(s(i(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,n){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var r=[],i=0;i<e.length;i++){var s=e[i][t];if(n&&!s)s="";else if("string"!=typeof s)throw new Error("invalid abi");r.push(s)}return r},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-util",file:"node_modules/@metamask/ethjs-util/lib/index.js"}],[1916,{"./determineGasFeeCalculations.cjs":1917,"./gas-util.cjs":1918,"@metamask/controller-utils":1301,"@metamask/eth-query":1831,"@metamask/polling-controller":2280,uuid:5366},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.GasFeeController=n.GAS_ESTIMATE_TYPES=n.LEGACY_GAS_PRICES_API_URL=void 0;const u=e("@metamask/controller-utils"),l=c(e("@metamask/eth-query")),d=e("@metamask/polling-controller"),h=e("uuid"),p=c(e("./determineGasFeeCalculations.cjs")),m=e("./gas-util.cjs");n.LEGACY_GAS_PRICES_API_URL="https://api.metaswap.codefi.network/gasPrices",n.GAS_ESTIMATE_TYPES={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};const f={gasFeeEstimatesByChainId:{persist:!0,anonymous:!1},gasFeeEstimates:{persist:!0,anonymous:!1},estimatedGasFeeTimeBounds:{persist:!0,anonymous:!1},gasEstimateType:{persist:!0,anonymous:!1},nonRPCGasFeeApisDisabled:{persist:!0,anonymous:!1}},g={gasFeeEstimatesByChainId:{},gasFeeEstimates:{},estimatedGasFeeTimeBounds:{},gasEstimateType:n.GAS_ESTIMATE_TYPES.NONE,nonRPCGasFeeApisDisabled:!1};class y extends((0,d.StaticIntervalPollingController)()){constructor({interval:e=15e3,messenger:t,state:c,getCurrentNetworkEIP1559Compatibility:u,getCurrentAccountEIP1559Compatibility:d,getChainId:h,getCurrentNetworkLegacyGasAPICompatibility:p,getProvider:m,onNetworkDidChange:y,legacyAPIEndpoint:w=n.LEGACY_GAS_PRICES_API_URL,EIP1559APIEndpoint:k,clientId:b}){if(super({name:"GasFeeController",metadata:f,messenger:t,state:{...g,...c}}),r.add(this),i.set(this,void 0),this.intervalDelay=e,this.setIntervalLength(e),this.pollTokens=new Set,this.getCurrentNetworkEIP1559Compatibility=u,this.getCurrentNetworkLegacyGasAPICompatibility=p,this.getCurrentAccountEIP1559Compatibility=d,a(this,i,m,"f"),this.EIP1559APIEndpoint=k,this.legacyAPIEndpoint=w,this.clientId=b,this.ethQuery=new l.default(o(this,i,"f").call(this)),y&&h)this.currentChainId=h(),y(async e=>{await o(this,r,"m",s).call(this,e)});else{const{selectedNetworkClientId:e}=this.messagingSystem.call("NetworkController:getState");this.currentChainId=this.messagingSystem.call("NetworkController:getNetworkClientById",e).configuration.chainId,this.messagingSystem.subscribe("NetworkController:networkDidChange",async e=>{await o(this,r,"m",s).call(this,e)})}}async resetPolling(){if(0!==this.pollTokens.size){const e=Array.from(this.pollTokens);this.stopPolling(),await this.getGasFeeEstimatesAndStartPolling(e[0]),e.slice(1).forEach(e=>{this.pollTokens.add(e)})}}async fetchGasFeeEstimates(e){return await this._fetchGasFeeEstimateData(e)}async getGasFeeEstimatesAndStartPolling(e){const t=e||(0,h.v1)();return this.pollTokens.add(t),1===this.pollTokens.size&&(await this._fetchGasFeeEstimateData(),this._poll()),t}async _fetchGasFeeEstimateData(e={}){const{shouldUpdateState:t=!0,networkClientId:n}=e;let r,i,s,a;if(n!==undefined){const e=this.messagingSystem.call("NetworkController:getNetworkClientById",n);s="0x38"===e.configuration.chainId,a=(0,u.convertHexToDecimal)(e.configuration.chainId);try{i=await this.messagingSystem.call("NetworkController:getEIP1559Compatibility",n)||!1}catch{i=!1}r=new l.default(e.provider)}r??(r=this.ethQuery),s??(s=this.getCurrentNetworkLegacyGasAPICompatibility()),a??(a=(0,u.convertHexToDecimal)(this.currentChainId));try{i??(i=await this.getEIP1559Compatibility())}catch(e){console.error(e),i??(i=!1)}const o=await(0,p.default)({isEIP1559Compatible:i,isLegacyGasAPICompatible:s,fetchGasEstimates:m.fetchGasEstimates,fetchGasEstimatesUrl:this.EIP1559APIEndpoint.replace("<chain_id>",`${a}`),fetchLegacyGasPriceEstimates:m.fetchLegacyGasPriceEstimates,fetchLegacyGasPriceEstimatesUrl:this.legacyAPIEndpoint.replace("<chain_id>",`${a}`),fetchEthGasPriceEstimate:m.fetchEthGasPriceEstimate,calculateTimeEstimate:m.calculateTimeEstimate,clientId:this.clientId,ethQuery:r,nonRPCGasFeeApisDisabled:this.state.nonRPCGasFeeApisDisabled});if(t){const e=(0,u.toHex)(a);this.update(t=>{this.currentChainId===e&&(t.gasFeeEstimates=o.gasFeeEstimates,t.estimatedGasFeeTimeBounds=o.estimatedGasFeeTimeBounds,t.gasEstimateType=o.gasEstimateType),t.gasFeeEstimatesByChainId??(t.gasFeeEstimatesByChainId={}),t.gasFeeEstimatesByChainId[e]={gasFeeEstimates:o.gasFeeEstimates,estimatedGasFeeTimeBounds:o.estimatedGasFeeTimeBounds,gasEstimateType:o.gasEstimateType}})}return o}disconnectPoller(e){this.pollTokens.delete(e),0===this.pollTokens.size&&this.stopPolling()}stopPolling(){this.intervalId&&clearInterval(this.intervalId),this.pollTokens.clear(),this.resetState()}destroy(){super.destroy(),this.stopPolling()}_poll(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(async()=>{await(0,u.safelyExecute)(()=>this._fetchGasFeeEstimateData())},this.intervalDelay)}async _executePoll({networkClientId:e}){await this._fetchGasFeeEstimateData({networkClientId:e})}resetState(){this.update(()=>g)}async getEIP1559Compatibility(){const e=await this.getCurrentNetworkEIP1559Compatibility(),t=this.getCurrentAccountEIP1559Compatibility?.()??!0;return e&&t}getTimeEstimate(e,t){return this.state.gasFeeEstimates&&this.state.gasEstimateType===n.GAS_ESTIMATE_TYPES.FEE_MARKET?(0,m.calculateTimeEstimate)(e,t,this.state.gasFeeEstimates):{}}enableNonRPCGasFeeApis(){this.update(e=>{e.nonRPCGasFeeApisDisabled=!1})}disableNonRPCGasFeeApis(){this.update(e=>{e.nonRPCGasFeeApisDisabled=!0})}}n.GasFeeController=y,i=new WeakMap,r=new WeakSet,s=async function({selectedNetworkClientId:e}){const t=this.messagingSystem.call("NetworkController:getNetworkClientById",e).configuration.chainId;t!==this.currentChainId&&(this.ethQuery=new l.default(o(this,i,"f").call(this)),await this.resetPolling(),this.currentChainId=t)},n.default=y}}},{package:"@metamask/gas-fee-controller",file:"node_modules/@metamask/gas-fee-controller/dist/GasFeeController.cjs"}],[1917,{"./GasFeeController.cjs":1916},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./GasFeeController.cjs");n.default=async function(e){try{return await async function(e){const{isEIP1559Compatible:t,isLegacyGasAPICompatible:n,nonRPCGasFeeApisDisabled:i}=e;try{if(t&&!i)return await async function(e){const{fetchGasEstimates:t,fetchGasEstimatesUrl:n,clientId:i,calculateTimeEstimate:s}=e,a=await t(n,i),{suggestedMaxPriorityFeePerGas:o,suggestedMaxFeePerGas:c}=a.medium,u=s(o,c,a);return{gasFeeEstimates:a,estimatedGasFeeTimeBounds:u,gasEstimateType:r.GAS_ESTIMATE_TYPES.FEE_MARKET}}(e);if(n&&!i)return await async function(e){const{fetchLegacyGasPriceEstimates:t,fetchLegacyGasPriceEstimatesUrl:n,clientId:i}=e;return{gasFeeEstimates:await t(n,i),estimatedGasFeeTimeBounds:{},gasEstimateType:r.GAS_ESTIMATE_TYPES.LEGACY}}(e);throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{return await async function(e){const{ethQuery:t,fetchEthGasPriceEstimate:n}=e;return{gasFeeEstimates:await n(t),estimatedGasFeeTimeBounds:{},gasEstimateType:r.GAS_ESTIMATE_TYPES.ETH_GASPRICE}}(e)}}(e)}catch(e){if(e instanceof Error)throw new Error(`Gas fee/price estimation failed. Message: ${e.message}`);throw e}}}}},{package:"@metamask/gas-fee-controller",file:"node_modules/@metamask/gas-fee-controller/dist/determineGasFeeCalculations.cjs"}],[1918,{"@metamask/controller-utils":1301,"bn.js":3699},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.calculateTimeEstimate=n.fetchEthGasPriceEstimate=n.fetchLegacyGasPriceEstimates=n.fetchGasEstimates=n.normalizeGWEIDecimalNumbers=void 0;const i=e("@metamask/controller-utils"),s=r(e("bn.js")),a=e=>({"X-Client-Id":e});function o(e){const t=(0,i.gweiDecToWEIBN)(e).toString(16);return(0,i.weiHexToGweiDec)(t)}n.normalizeGWEIDecimalNumbers=o,n.fetchGasEstimates=async function(e,t){const n=await(0,i.handleFetch)(e,t?{headers:a(t)}:undefined);return{low:{...n.low,suggestedMaxPriorityFeePerGas:o(n.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:o(n.low.suggestedMaxFeePerGas)},medium:{...n.medium,suggestedMaxPriorityFeePerGas:o(n.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:o(n.medium.suggestedMaxFeePerGas)},high:{...n.high,suggestedMaxPriorityFeePerGas:o(n.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:o(n.high.suggestedMaxFeePerGas)},estimatedBaseFee:o(n.estimatedBaseFee),historicalBaseFeeRange:n.historicalBaseFeeRange,baseFeeTrend:n.baseFeeTrend,latestPriorityFeeRange:n.latestPriorityFeeRange,historicalPriorityFeeRange:n.historicalPriorityFeeRange,priorityFeeTrend:n.priorityFeeTrend,networkCongestion:n.networkCongestion}},n.fetchLegacyGasPriceEstimates=async function(e,t){const n=await(0,i.handleFetch)(e,{referrer:e,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors",headers:{"Content-Type":"application/json",...t&&a(t)}});return{low:n.SafeGasPrice,medium:n.ProposeGasPrice,high:n.FastGasPrice}},n.fetchEthGasPriceEstimate=async function(e){const t=await(0,i.query)(e,"gasPrice");return{gasPrice:(0,i.weiHexToGweiDec)(t).toString()}},n.calculateTimeEstimate=function(e,t,n){const{low:r,medium:a,high:o,estimatedBaseFee:c}=n,u=(0,i.gweiDecToWEIBN)(e),l=(0,i.gweiDecToWEIBN)(t),d=(0,i.gweiDecToWEIBN)(c),h=s.default.min(u,l.sub(d)),p=(0,i.gweiDecToWEIBN)(r.suggestedMaxPriorityFeePerGas),m=(0,i.gweiDecToWEIBN)(a.suggestedMaxPriorityFeePerGas),f=(0,i.gweiDecToWEIBN)(o.suggestedMaxPriorityFeePerGas);let g,y;return h.lt(p)?(g=null,y="unknown"):h.gte(p)&&h.lt(m)?(g=r.minWaitTimeEstimate,y=r.maxWaitTimeEstimate):h.gte(m)&&h.lt(f)?(g=a.minWaitTimeEstimate,y=a.maxWaitTimeEstimate):h.eq(f)?(g=o.minWaitTimeEstimate,y=o.maxWaitTimeEstimate):(g=0,y=o.maxWaitTimeEstimate),{lowerTimeBound:g,upperTimeBound:y}}}}},{package:"@metamask/gas-fee-controller",file:"node_modules/@metamask/gas-fee-controller/dist/gas-util.cjs"}],[1919,{"./GasFeeController.cjs":1916},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./GasFeeController.cjs"),n)}}},{package:"@metamask/gas-fee-controller",file:"node_modules/@metamask/gas-fee-controller/dist/index.cjs"}],[1920,{"./decodePermission/index.cjs":1922,"./errors.cjs":1924,"./logger.cjs":1926,"./types.cjs":1927,"./utils.cjs":1928,"@metamask/base-controller":1222,"@metamask/delegation-deployments":1929,"@metamask/snaps-utils":2677},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.getDefaultGatorPermissionsControllerState=n.DELEGATION_FRAMEWORK_VERSION=void 0;const h=e("@metamask/base-controller"),p=e("@metamask/delegation-deployments"),m=e("@metamask/snaps-utils"),f=e("./decodePermission/index.cjs"),g=e("./errors.cjs"),y=e("./logger.cjs"),w=e("./types.cjs"),k=e("./utils.cjs"),b="GatorPermissionsController",v={"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}};n.DELEGATION_FRAMEWORK_VERSION="1.3.0";const _=p.DELEGATOR_CONTRACTS[n.DELEGATION_FRAMEWORK_VERSION],T={isGatorPermissionsEnabled:{includeInStateLogs:!0,persist:!0,anonymous:!1,usedInUi:!1},gatorPermissionsMapSerialized:{includeInStateLogs:!0,persist:!0,anonymous:!1,usedInUi:!0},isFetchingGatorPermissions:{includeInStateLogs:!0,persist:!1,anonymous:!1,usedInUi:!1},gatorPermissionsProviderSnapId:{includeInStateLogs:!0,persist:!1,anonymous:!1,usedInUi:!1}};function E(){return{isGatorPermissionsEnabled:!1,gatorPermissionsMapSerialized:(0,k.serializeGatorPermissionsMap)(v),isFetchingGatorPermissions:!1,gatorPermissionsProviderSnapId:"npm:@metamask/gator-permissions-snap"}}n.getDefaultGatorPermissionsControllerState=E;class S extends h.BaseController{constructor({messenger:e,state:t}){super({name:b,metadata:T,messenger:e,state:{...E(),...t,isFetchingGatorPermissions:!1}}),r.add(this),d(this,r,"m",a).call(this)}get gatorPermissionsMap(){return(0,k.deserializeGatorPermissionsMap)(this.state.gatorPermissionsMapSerialized)}get permissionsProviderSnapId(){return this.state.gatorPermissionsProviderSnapId}async enableGatorPermissions(){d(this,r,"m",s).call(this,!0)}async disableGatorPermissions(){this.update(e=>{e.isGatorPermissionsEnabled=!1,e.gatorPermissionsMapSerialized=(0,k.serializeGatorPermissionsMap)(v)})}async fetchAndUpdateGatorPermissions(){try{d(this,r,"m",i).call(this,!0),d(this,r,"m",o).call(this);const e=await d(this,r,"m",c).call(this,{snapId:this.state.gatorPermissionsProviderSnapId}),t=d(this,r,"m",l).call(this,e);return this.update(e=>{e.gatorPermissionsMapSerialized=(0,k.serializeGatorPermissionsMap)(t)}),t}catch(e){throw(0,y.controllerLog)("Failed to fetch gator permissions",e),new g.GatorPermissionsFetchError({message:"Failed to fetch gator permissions",cause:e})}finally{d(this,r,"m",i).call(this,!1)}}decodePermissionFromPermissionContextForOrigin({origin:e,chainId:t,delegation:{caveats:n,delegator:r,delegate:i,authority:s},metadata:{justification:a,origin:o}}){if(e!==this.permissionsProviderSnapId)throw new g.OriginNotAllowedError({origin:e});const c=_[t];if(!c)throw new Error(`Contracts not found for chainId: ${t}`);try{const e=n.map(e=>e.enforcer),u=(0,f.identifyPermissionByEnforcers)({enforcers:e,contracts:c}),{expiry:l,data:d}=(0,f.getPermissionDataAndExpiry)({contracts:c,caveats:n,permissionType:u});return(0,f.reconstructDecodedPermission)({chainId:t,permissionType:u,delegator:r,delegate:i,authority:s,expiry:l,data:d,justification:a,specifiedOrigin:o})}catch(e){throw new g.PermissionDecodingError({cause:e})}}}r=new WeakSet,i=function(e){this.update(t=>{t.isFetchingGatorPermissions=e})},s=function(e){this.update(t=>{t.isGatorPermissionsEnabled=e})},a=function(){this.messagingSystem.registerActionHandler(`${b}:fetchAndUpdateGatorPermissions`,this.fetchAndUpdateGatorPermissions.bind(this)),this.messagingSystem.registerActionHandler(`${b}:enableGatorPermissions`,this.enableGatorPermissions.bind(this)),this.messagingSystem.registerActionHandler(`${b}:disableGatorPermissions`,this.disableGatorPermissions.bind(this)),this.messagingSystem.registerActionHandler(`${b}:decodePermissionFromPermissionContextForOrigin`,this.decodePermissionFromPermissionContextForOrigin.bind(this))},o=function(){if(!this.state.isGatorPermissionsEnabled)throw new g.GatorPermissionsNotEnabledError},c=async function({snapId:e}){try{return await this.messagingSystem.call("SnapController:handleRequest",{snapId:e,origin:"metamask",handler:m.HandlerType.OnRpcRequest,request:{jsonrpc:"2.0",method:w.GatorPermissionsSnapRpcMethod.PermissionProviderGetGrantedPermissions}})}catch(e){throw(0,y.controllerLog)("Failed to handle snap request to gator permissions provider",e),new g.GatorPermissionsProviderError({method:w.GatorPermissionsSnapRpcMethod.PermissionProviderGetGrantedPermissions,cause:e})}},u=function(e){const{permissionResponse:t}=e,{rules:n,dependencyInfo:r,signer:i,...s}=t;return{...e,permissionResponse:{...s}}},l=function(e){return e?e.reduce((e,t)=>{const{permissionResponse:n}=t,i=n.permission.type,{chainId:s}=n,a=d(this,r,"m",u).call(this,t);switch(i){case"native-token-stream":case"native-token-periodic":case"erc20-token-stream":case"erc20-token-periodic":e[i][s]||(e[i][s]=[]),e[i][s].push(a);break;default:e.other[s]||(e.other[s]=[]),e.other[s].push(a)}return e},{"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}}):v},n.default=S}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/GatorPermissionsController.cjs"}],[1921,{"./utils.cjs":1923,"@metamask/delegation-core":1310,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.reconstructDecodedPermission=n.getPermissionDataAndExpiry=n.identifyPermissionByEnforcers=void 0;const r=e("@metamask/delegation-core"),i=e("@metamask/utils"),s=e("./utils.cjs");n.identifyPermissionByEnforcers=({enforcers:e,contracts:t})=>{const n=new Set(e.map(i.getChecksumAddress)),r=(0,s.createPermissionRulesForChainId)(t);let a=null;for(const{allowedEnforcers:e,requiredEnforcers:t,permissionType:i}of r){const r=(0,s.isSubset)(t,n);let o=!1;for(const r of n)if(!e.has(r)&&!t.has(r)){o=!0;break}if(r&&!o){if(a)throw new Error("Multiple permission types match");a=i}}if(!a)throw new Error("Unable to identify permission type");return a};n.getPermissionDataAndExpiry=({contracts:e,caveats:t,permissionType:n})=>{const r=t.map(e=>({...e,enforcer:(0,i.getChecksumAddress)(e.enforcer)})),{erc20StreamingEnforcer:a,erc20PeriodicEnforcer:o,nativeTokenStreamingEnforcer:c,nativeTokenPeriodicEnforcer:u,timestampEnforcer:l}=(0,s.getChecksumEnforcersByChainId)(e),d=(0,s.getTermsByEnforcer)({caveats:r,enforcer:l,throwIfNotFound:!1});let h,p=null;if(d){const[e,t]=(0,s.splitHex)(d,[16,16]);if(0!==(0,i.hexToNumber)(e))throw new Error("Invalid expiry");p=(0,i.hexToNumber)(t)}switch(n){case"erc20-token-stream":{const e=(0,s.getTermsByEnforcer)({caveats:r,enforcer:a}),[t,n,o,c,u]=(0,s.splitHex)(e,[20,32,32,32,32]);h={tokenAddress:t,initialAmount:n,maxAmount:o,amountPerSecond:c,startTime:(0,i.hexToNumber)(u)};break}case"erc20-token-periodic":{const e=(0,s.getTermsByEnforcer)({caveats:r,enforcer:o}),[t,n,a,c]=(0,s.splitHex)(e,[20,32,32,32]);h={tokenAddress:t,periodAmount:n,periodDuration:(0,i.hexToNumber)(a),startTime:(0,i.hexToNumber)(c)};break}case"native-token-stream":{const e=(0,s.getTermsByEnforcer)({caveats:r,enforcer:c}),[t,n,a,o]=(0,s.splitHex)(e,[32,32,32,32]);h={initialAmount:t,maxAmount:n,amountPerSecond:a,startTime:(0,i.hexToNumber)(o)};break}case"native-token-periodic":{const e=(0,s.getTermsByEnforcer)({caveats:r,enforcer:u}),[t,n,a]=(0,s.splitHex)(e,[32,32,32]);h={periodAmount:t,periodDuration:(0,i.hexToNumber)(n),startTime:(0,i.hexToNumber)(a)};break}default:throw new Error("Invalid permission type")}return{expiry:p,data:h}};n.reconstructDecodedPermission=({chainId:e,permissionType:t,delegator:n,delegate:s,authority:a,expiry:o,data:c,justification:u,specifiedOrigin:l})=>{if(a!==r.ROOT_AUTHORITY)throw new Error("Invalid authority");return{chainId:(0,i.numberToHex)(e),address:n,signer:{type:"account",data:{address:s}},permission:{type:t,data:c,justification:u},expiry:o,origin:l}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/decodePermission.cjs"}],[1922,{"./decodePermission.cjs":1921},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.reconstructDecodedPermission=n.getPermissionDataAndExpiry=n.identifyPermissionByEnforcers=void 0;var r=e("./decodePermission.cjs");Object.defineProperty(n,"identifyPermissionByEnforcers",{enumerable:!0,get:function(){return r.identifyPermissionByEnforcers}}),Object.defineProperty(n,"getPermissionDataAndExpiry",{enumerable:!0,get:function(){return r.getPermissionDataAndExpiry}}),Object.defineProperty(n,"reconstructDecodedPermission",{enumerable:!0,get:function(){return r.reconstructDecodedPermission}})}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/index.cjs"}],[1923,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.splitHex=n.getTermsByEnforcer=n.isSubset=n.createPermissionRulesForChainId=n.getChecksumEnforcersByChainId=void 0;const r=e("@metamask/utils"),i="ERC20PeriodTransferEnforcer",s="ERC20StreamingEnforcer",a="ExactCalldataEnforcer",o="NativeTokenPeriodTransferEnforcer",c="NativeTokenStreamingEnforcer",u="TimestampEnforcer",l="ValueLteEnforcer",d="NonceEnforcer";n.getChecksumEnforcersByChainId=e=>{const t=t=>{const n=e[t];if(!n)throw new Error(`Contract not found: ${t}`);return(0,r.getChecksumAddress)(n)};return{erc20StreamingEnforcer:t(s),erc20PeriodicEnforcer:t(i),nativeTokenStreamingEnforcer:t(c),nativeTokenPeriodicEnforcer:t(o),exactCalldataEnforcer:t(a),valueLteEnforcer:t(l),timestampEnforcer:t(u),nonceEnforcer:t(d)}};n.createPermissionRulesForChainId=e=>{const{erc20StreamingEnforcer:t,erc20PeriodicEnforcer:r,nativeTokenStreamingEnforcer:i,nativeTokenPeriodicEnforcer:s,exactCalldataEnforcer:a,valueLteEnforcer:o,timestampEnforcer:c,nonceEnforcer:u}=(0,n.getChecksumEnforcersByChainId)(e),l=new Set([c]);return[{requiredEnforcers:new Set([i,a,u]),allowedEnforcers:l,permissionType:"native-token-stream"},{requiredEnforcers:new Set([s,a,u]),allowedEnforcers:l,permissionType:"native-token-periodic"},{requiredEnforcers:new Set([t,o,u]),allowedEnforcers:l,permissionType:"erc20-token-stream"},{requiredEnforcers:new Set([r,o,u]),allowedEnforcers:l,permissionType:"erc20-token-periodic"}]};n.isSubset=(e,t)=>{for(const n of e)if(!t.has(n))return!1;return!0},n.getTermsByEnforcer=function({caveats:e,enforcer:t,throwIfNotFound:n}){const r=e.filter(e=>e.enforcer===t);if(0===r.length){if(n??1)throw new Error("Invalid caveats");return null}if(r.length>1)throw new Error("Invalid caveats");return r[0].terms},n.splitHex=function(e,t){let n=2;const r=[];for(const i of t){const t=2*i,s=e.slice(n,n+t);n+=t,r.push(`0x${s}`)}return r}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/utils.cjs"}],[1924,{"./types.cjs":1927},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionDecodingError=n.OriginNotAllowedError=n.GatorPermissionsProviderError=n.GatorPermissionsNotEnabledError=n.GatorPermissionsMapSerializationError=n.GatorPermissionsFetchError=n.GatorPermissionsControllerError=void 0;const r=e("./types.cjs");class i extends Error{constructor({cause:e,message:t,code:n}){super(t),this.cause=e,this.code=n}}n.GatorPermissionsControllerError=i;n.GatorPermissionsFetchError=class extends i{constructor({cause:e,message:t}){super({cause:e,message:t,code:r.GatorPermissionsControllerErrorCode.GatorPermissionsFetchError})}};n.GatorPermissionsMapSerializationError=class extends i{constructor({cause:e,message:t,data:n}){super({cause:e,message:t,code:r.GatorPermissionsControllerErrorCode.GatorPermissionsMapSerializationError}),this.data=n}};n.GatorPermissionsNotEnabledError=class extends i{constructor(){super({cause:new Error("Gator permissions are not enabled"),message:"Gator permissions are not enabled",code:r.GatorPermissionsControllerErrorCode.GatorPermissionsNotEnabled})}};n.GatorPermissionsProviderError=class extends i{constructor({cause:e,method:t}){super({cause:e,message:`Failed to handle snap request to gator permissions provider for method ${t}`,code:r.GatorPermissionsControllerErrorCode.GatorPermissionsProviderError})}};n.OriginNotAllowedError=class extends i{constructor({origin:e}){const t=`Origin ${e} not allowed`;super({cause:new Error(t),message:t,code:r.GatorPermissionsControllerErrorCode.OriginNotAllowedError})}};n.PermissionDecodingError=class extends i{constructor({cause:e}){super({cause:e,message:"Failed to decode permission",code:r.GatorPermissionsControllerErrorCode.PermissionDecodingError})}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/errors.cjs"}],[1925,{"./GatorPermissionsController.cjs":1920,"./utils.cjs":1928},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.deserializeGatorPermissionsMap=n.serializeGatorPermissionsMap=n.GatorPermissionsController=void 0;var i=e("./GatorPermissionsController.cjs");Object.defineProperty(n,"GatorPermissionsController",{enumerable:!0,get:function(){return r(i).default}});var s=e("./utils.cjs");Object.defineProperty(n,"serializeGatorPermissionsMap",{enumerable:!0,get:function(){return s.serializeGatorPermissionsMap}}),Object.defineProperty(n,"deserializeGatorPermissionsMap",{enumerable:!0,get:function(){return s.deserializeGatorPermissionsMap}})}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/index.cjs"}],[1926,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.utilsLog=n.controllerLog=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("gator-permissions-controller"),n.controllerLog=(0,r.createModuleLogger)(n.projectLogger,"GatorPermissionsController"),n.utilsLog=(0,r.createModuleLogger)(n.projectLogger,"utils")}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/logger.cjs"}],[1927,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.GatorPermissionsSnapRpcMethod=n.GatorPermissionsControllerErrorCode=void 0,function(e){e.GatorPermissionsFetchError="gator-permissions-fetch-error",e.GatorPermissionsNotEnabled="gator-permissions-not-enabled",e.GatorPermissionsProviderError="gator-permissions-provider-error",e.GatorPermissionsMapSerializationError="gator-permissions-map-serialization-error",e.PermissionDecodingError="permission-decoding-error",e.OriginNotAllowedError="origin-not-allowed-error"}(r||(n.GatorPermissionsControllerErrorCode=r={})),function(e){e.PermissionProviderGetGrantedPermissions="permissionsProvider_getGrantedPermissions"}(i||(n.GatorPermissionsSnapRpcMethod=i={}))}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/types.cjs"}],[1928,{"./errors.cjs":1924,"./logger.cjs":1926},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deserializeGatorPermissionsMap=n.serializeGatorPermissionsMap=void 0;const r=e("./errors.cjs"),i=e("./logger.cjs");n.serializeGatorPermissionsMap=function(e){try{return JSON.stringify(e)}catch(t){throw(0,i.utilsLog)("Failed to serialize gator permissions map",t),new r.GatorPermissionsMapSerializationError({cause:t,message:"Failed to serialize gator permissions map",data:e})}},n.deserializeGatorPermissionsMap=function(e){try{return JSON.parse(e)}catch(t){throw(0,i.utilsLog)("Failed to deserialize gator permissions map",t),new r.GatorPermissionsMapSerializationError({cause:t,message:"Failed to deserialize gator permissions map",data:e})}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/utils.cjs"}],[1929,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x00e0251aaA263dfE3B3541B758A82D1CBA1c3B6D",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},i={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},s={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},a={mainnet:1,optimism:10,bsc:56,gnosis:100,polygon:137,base:8453,arbitrum:42161,linea:59144,berachain:80094,unichain:130,arbitrumNova:42170,bscTestnet:97,megaEthTestnet:6342,chiado:10200,lineaSepolia:59141,berachainBepolia:80069,baseSepolia:84532,arbitrumSepolia:421614,sepolia:11155111,optimismSepolia:11155420,unichainSepolia:1301,polygonAmoy:80002,monadTestnet:10143,lineaGoerli:59140},o={"1.0.0":{[a.optimism]:s,[a.polygon]:s,[a.base]:s,[a.arbitrum]:s,[a.linea]:s,[a.sepolia]:{...s,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},[a.lineaSepolia]:{...s,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{[a.arbitrum]:i,[a.base]:i,[a.linea]:i,[a.optimism]:i,[a.polygon]:i,[a.sepolia]:i,[a.lineaSepolia]:i,[a.baseSepolia]:{...i,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{[a.mainnet]:r,[a.polygon]:r,[a.bsc]:r,[a.optimism]:r,[a.arbitrum]:r,[a.linea]:r,[a.base]:r,[a.gnosis]:r,[a.berachain]:r,[a.unichain]:r,[a.arbitrumNova]:r,[a.sepolia]:r,[a.lineaSepolia]:r,[a.baseSepolia]:r,[a.megaEthTestnet]:r,[a.chiado]:r,[a.bscTestnet]:r,[a.optimismSepolia]:r,[a.arbitrumSepolia]:r,[a.berachainBepolia]:r,[a.unichainSepolia]:r,[a.polygonAmoy]:r,[a.monadTestnet]:r}};n.CHAIN_ID=a,n.DELEGATOR_CONTRACTS=o}}},{package:"@metamask/gator-permissions-controller>@metamask/delegation-deployments",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/delegation-deployments/dist/index.js"}],[1930,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=["#01888C","#FC7500","#034F5D","#F73F01","#FC1960","#C7144C","#F3C100","#1598F2","#2465E1","#F19E02"]}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/colors.js"}],[1931,{"./colors":1930,"./paper":1937,color:1936,"mersenne-twister":4593},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=e("mersenne-twister"),s=e("./paper"),a=e("color"),o=e("./colors"),c="http://www.w3.org/2000/svg";function u(e,t,n,i,s){var a=t/2,o=document.createElementNS(c,"rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",t),o.setAttributeNS(null,"height",t);var u=r.random(),d=2*Math.PI*u,h=t/i*r.random()+n*t/i,p=Math.cos(d)*h,m=Math.sin(d)*h,f="translate("+p.toFixed(14)+" "+m.toFixed(14)+")"+" "+("rotate("+(360*u+180*r.random()).toFixed(1)+" "+a.toFixed(14)+" "+a.toFixed(14)+")");o.setAttributeNS(null,"transform",f);var g=l(e);o.setAttributeNS(null,"fill",g),s.appendChild(o)}function l(e){r.random();var t=Math.floor(e.length*r.random());return e.splice(t,1)[0]}t.exports=function(e,t){r=new i(t);var n=function(e,t){var n=30*t.random()-d/2;return e.map(function(e){var t=a(e);return t.rotate(n),t.hexString()})}(o.slice(),r),h=s(e,l(n)).container,p=document.createElementNS(c,"svg");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width",e),p.setAttributeNS(null,"height",e),h.appendChild(p);for(var m=0;m<3;m++)u(n,e,m,3,p);return h};var d=30}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/index.js"}],[1932,{"color-name":1935},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("color-name"),i={};for(var s in r)r.hasOwnProperty(s)&&(i[r[s]]=s);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var o in a)if(a.hasOwnProperty(o)){if(!("channels"in a[o]))throw new Error("missing channels property: "+o);if(!("labels"in a[o]))throw new Error("missing channel labels property: "+o);if(a[o].labels.length!==a[o].channels)throw new Error("channel and label counts mismatch: "+o);var c=a[o].channels,u=a[o].labels;delete a[o].channels,delete a[o].labels,Object.defineProperty(a[o],"channels",{value:c}),Object.defineProperty(a[o],"labels",{value:u})}function l(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,a=Math.min(r,i,s),o=Math.max(r,i,s),c=o-a;return o===a?t=0:r===o?t=(i-s)/c:i===o?t=2+(s-r)/c:s===o&&(t=4+(r-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+o)/2,[t,100*(o===a?0:n<=.5?c/(o+a):c/(2-o-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,i,s,a=e[0]/255,o=e[1]/255,c=e[2]/255,u=Math.max(a,o,c),l=u-Math.min(a,o,c),d=function(e){return(u-e)/6/l+.5};return 0===l?i=s=0:(s=l/u,t=d(a),n=d(o),r=d(c),a===u?i=r-n:o===u?i=1/3+t-r:c===u&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*s,100*u]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,s=Infinity;for(var a in r)if(r.hasOwnProperty(a)){var o=l(e,r[a]);o<s&&(s=o,n=a)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,s,a=e[0]/360,o=e[1]/100,c=e[2]/100;if(0===o)return[s=255*c,s,s];t=2*c-(n=c<.5?c*(1+o):c+o-c*o),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,s=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[u]=255*s;return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,s=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=s<=1?s:2-s,[t,100*(0===r?2*i/(s+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),a=255*r*(1-n),o=255*r*(1-n*s),c=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,c,a];case 1:return[o,r,a];case 2:return[a,r,c];case 3:return[a,o,r];case 4:return[c,a,r];case 5:return[r,a,o]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],s=e[1]/100,a=e[2]/100,o=Math.max(a,.01);return r=(2-s)*a,n=s*o,[i,100*(n=(n/=(t=(2-s)*o)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,s,a,o,c=e[0]/360,u=e[1]/100,l=e[2]/100,d=u+l;switch(d>1&&(u/=d,l/=d),r=6*c-(t=Math.floor(6*c)),1&t&&(r=1-r),i=u+r*((n=1-l)-u),t){default:case 6:case 0:s=n,a=i,o=u;break;case 1:s=i,a=n,o=u;break;case 2:s=u,a=n,o=i;break;case 3:s=u,a=i,o=n;break;case 4:s=i,a=u,o=n;break;case 5:s=n,a=u,o=i}return[255*s,255*a,255*o]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,s=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*s+.0415*a,r=.0557*i+-.204*s+1.057*a,t=(t=3.2406*i+-1.5372*s+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var s=Math.pow(n,3),a=Math.pow(t,3),o=Math.pow(r,3);return n=s>.008856?s:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=o>.008856?o:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var s=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(s+=60),s},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,s=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),o=s-a;return t=o<=0?0:s===n?(r-i)/o%6:s===r?2+(i-n)/o:4+(n-r)/o+4,t/=6,[360*(t%=1),100*o,100*(o<1?a/(1-o):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,s=[0,0,0],a=t%1*6,o=a%1,c=1-o;switch(Math.floor(a)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=c,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=c,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=c}return i=(1-n)*r,[255*(n*s[0]+i),255*(n*s[1]+i),255*(n*s[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/conversions.js"}],[1933,{"./conversions":1932,"./route":1934},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./conversions"),i=e("./route"),s={};Object.keys(r).forEach(function(e){s[e]={},Object.defineProperty(s[e],"channels",{value:r[e].channels}),Object.defineProperty(s[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach(function(n){var r=t[n];s[e][n]=function(e){var t=function(t){if(t===undefined||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),s[e][n].raw=function(e){var t=function(t){return t===undefined||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),t.exports=s}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/index.js"}],[1934,{"./conversions":1932},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./conversions");function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),s=Object.keys(r[i]),a=s.length,o=0;o<a;o++){var c=s[o],u=t[c];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,n.unshift(c))}return t}function s(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=s(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}t.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),s=r.length,o=0;o<s;o++){var c=r[o];null!==t[c].parent&&(n[c]=a(c,t))}return n}}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/route.js"}],[1935,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}}},{package:"@metamask/jazzicon>color>color-convert>color-name",file:"node_modules/@metamask/jazzicon/node_modules/color-name/index.js"}],[1936,{clone:3794,"color-convert":1933,"color-string":3826},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("clone"),i=e("color-convert"),s=e("color-string"),a=function(e){if(e instanceof a)return e;if(!(this instanceof a))return new a(e);var t;if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e)if(t=s.getRgba(e))this.setValues("rgb",t);else if(t=s.getHsla(e))this.setValues("hsl",t);else{if(!(t=s.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if((t=e).r!==undefined||t.red!==undefined)this.setValues("rgb",t);else if(t.l!==undefined||t.lightness!==undefined)this.setValues("hsl",t);else if(t.v!==undefined||t.value!==undefined)this.setValues("hsv",t);else if(t.w!==undefined||t.whiteness!==undefined)this.setValues("hwb",t);else{if(t.c===undefined&&t.cyan===undefined)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};a.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){return this.values.rgb.concat([this.values.alpha])},rgbaArrayNormalized:function(){for(var e=this.values.rgb,t=[],n=0;n<3;n++)t[n]=e[n]/255;return t.push(this.values.alpha),t},hslaArray:function(){return this.values.hsl.concat([this.values.alpha])},alpha:function(e){return e===undefined?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return s.hexString(this.values.rgb)},rgbString:function(){return s.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return s.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return s.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return s.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return s.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return s.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return s.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},desaturate:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},whiten:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this},blacken:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this},opaquer:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this},rotate:function(e){var t=this.values.hsl[0];return t=(t=(t+e)%360)<0?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(e,t){var n=this,r=e,i=t===undefined?.5:t,s=2*i-1,a=n.alpha()-r.alpha(),o=((s*a===-1?s:(s+a)/(1+s*a))+1)/2,c=1-o;return this.rgb(o*n.red()+c*r.red(),o*n.green()+c*r.green(),o*n.blue()+c*r.blue()).alpha(n.alpha()*i+r.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e=new a;return e.values=r(this.values),e}},a.prototype.getValues=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=this.values[e][n];return 1!==this.values.alpha&&(t.a=this.values.alpha),t},a.prototype.setValues=function(e,t){var n,r,s={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},a={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o=1;if("alpha"===e)o=t;else if(t.length)this.values[e]=t.slice(0,e.length),o=t[e.length];else if(t[e.charAt(0)]!==undefined){for(n=0;n<e.length;n++)this.values[e][n]=t[e.charAt(n)];o=t.a}else if(t[s[e][0]]!==undefined){var c=s[e];for(n=0;n<e.length;n++)this.values[e][n]=t[c[n]];o=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,o===undefined?this.values.alpha:o)),"alpha"===e)return!1;for(n=0;n<e.length;n++)r=Math.max(0,Math.min(a[e][n],this.values[e][n])),this.values[e][n]=Math.round(r);for(var u in s)for(u!==e&&(this.values[u]=i[e][u](this.values[e])),n=0;n<u.length;n++)r=Math.max(0,Math.min(a[u][n],this.values[u][n])),this.values[u][n]=Math.round(r);return!0},a.prototype.setSpace=function(e,t){var n=t[0];return n===undefined?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},a.prototype.setChannel=function(e,t,n){return n===undefined?this.values[e][t]:(n===this.values[e][t]||(this.values[e][t]=n,this.setValues(e,this.values[e])),this)},t.exports=a}}},{package:"@metamask/jazzicon>color",file:"node_modules/@metamask/jazzicon/node_modules/color/index.js"}],[1937,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){var n=document.createElement("div");return n.style.borderRadius="50px",n.style.overflow="hidden",n.style.padding="0px",n.style.margin="0px",n.style.width=e+"px",n.style.height=e+"px",n.style.display="inline-block",n.style.background=t,{container:n}}}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/paper.js"}],[1938,{"@metamask/rpc-errors":2384,"@metamask/safe-event-emitter":2386,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h,p,m,f,g=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},y=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},w=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.JsonRpcEngine=void 0;const k=e("@metamask/rpc-errors"),b=w(e("@metamask/safe-event-emitter")),v=e("@metamask/utils");class _ extends b.default{constructor({notificationHandler:e}={}){super(),r.add(this),s.set(this,!1),a.set(this,void 0),o.set(this,void 0),g(this,a,[],"f"),g(this,o,e,"f")}destroy(){y(this,a,"f").forEach(e=>{"destroy"in e&&"function"==typeof e.destroy&&e.destroy()}),g(this,a,[],"f"),g(this,s,!0,"f")}push(e){y(this,r,"m",c).call(this),y(this,a,"f").push(e)}handle(e,t){if(y(this,r,"m",c).call(this),t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?y(this,r,"m",u).call(this,e,t):y(this,r,"m",u).call(this,e):t?y(this,r,"m",l).call(this,e,t):this._promiseHandle(e)}asMiddleware(){return y(this,r,"m",c).call(this),async(e,t,n,r)=>{try{const[s,o,c]=await y(i,i,"m",h).call(i,e,t,y(this,a,"f"));return o?(await y(i,i,"m",m).call(i,c),r(s)):n(async e=>{try{await y(i,i,"m",m).call(i,c)}catch(t){return e(t)}return e()})}catch(e){return r(e)}}}async _promiseHandle(e){return new Promise((t,n)=>{y(this,r,"m",l).call(this,e,(e,r)=>{e&&r===undefined?n(e):t(r)}).catch(n)})}}function T(e){return JSON.stringify(e,null,2)}n.JsonRpcEngine=_,i=_,s=new WeakMap,a=new WeakMap,o=new WeakMap,r=new WeakSet,c=function(){if(y(this,s,"f"))throw new Error("This engine is destroyed and can no longer be used.")},u=async function(e,t){try{if(0===e.length){const e=[{id:null,jsonrpc:"2.0",error:new k.JsonRpcError(k.errorCodes.rpc.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return t?t(null,e):e}const n=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter(e=>e!==undefined);return t?t(null,n):n}catch(e){if(t)return t(e);throw e}},l=async function(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const n=new k.JsonRpcError(k.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(n,{id:null,jsonrpc:"2.0",error:n})}if("string"!=typeof e.method){const n=new k.JsonRpcError(k.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return y(this,o,"f")&&!(0,v.isJsonRpcRequest)(e)?t(null):t(n,{id:e.id??null,jsonrpc:"2.0",error:n})}if(y(this,o,"f")&&(0,v.isJsonRpcNotification)(e)&&!(0,v.isJsonRpcRequest)(e)){try{await y(this,o,"f").call(this,e)}catch(n){return t(n)}return t(null)}let n=null;const r={...e},s={id:r.id,jsonrpc:r.jsonrpc};try{await y(i,i,"m",d).call(i,r,s,y(this,a,"f"))}catch(e){n=e}return n&&(delete s.result,s.error||(s.error=(0,k.serializeError)(n))),t(n,s)},d=async function(e,t,n){const[r,s,a]=await y(i,i,"m",h).call(i,e,t,n);if(y(i,i,"m",f).call(i,e,t,s),await y(i,i,"m",m).call(i,a),r)throw r},h=async function(e,t,n){const r=[];let s=null,a=!1;for(const o of n)if([s,a]=await y(i,i,"m",p).call(i,e,t,o,r),a)break;return[s,a,r.reverse()]},p=async function(e,t,n,r){return new Promise(i=>{const s=e=>{const n=e||t.error;n&&(t.error=(0,k.serializeError)(n)),i([n,!0])},a=n=>{t.error?s(t.error):(n&&("function"!=typeof n&&s(new k.JsonRpcError(k.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof n}" for request:\n${T(e)}`,{request:e})),r.push(n)),i([null,!1]))};try{n(e,t,a,s)}catch(e){s(e)}})},m=async function(e){for(const t of e)await new Promise((e,n)=>{t(t=>t?n(t):e())})},f=function(e,t,n){if(!(0,v.hasProperty)(t,"result")&&!(0,v.hasProperty)(t,"error"))throw new k.JsonRpcError(k.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${T(e)}`,{request:e});if(!n)throw new k.JsonRpcError(k.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${T(e)}`,{request:e})}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/JsonRpcEngine.cjs"}],[1939,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createAsyncMiddleware=void 0,n.createAsyncMiddleware=function(e){return async(t,n,r,i)=>{let s;const a=new Promise(e=>{s=e});let o=null,c=!1;const u=async()=>(c=!0,r(e=>{o=e,s()}),a);try{await e(t,n,u),c?(await a,o(null)):i(null)}catch(e){o?o(e):i(e)}}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createAsyncMiddleware.cjs"}],[1940,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createScaffoldMiddleware=void 0,n.createScaffoldMiddleware=function(e){return(t,n,r,i)=>{const s=e[t.method];return s===undefined?r():"function"==typeof s?s(t,n,r,i):(n.result=s,i())}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createScaffoldMiddleware.cjs"}],[1941,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUniqueId=void 0;const r=4294967295;let i=Math.floor(Math.random()*r);n.getUniqueId=function(){return i=(i+1)%r,i}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/getUniqueId.cjs"}],[1942,{"./getUniqueId.cjs":1941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createIdRemapMiddleware=void 0;const r=e("./getUniqueId.cjs");n.createIdRemapMiddleware=function(){return(e,t,n,i)=>{const s=e.id,a=(0,r.getUniqueId)();e.id=a,t.id=a,n(n=>{e.id=s,t.id=s,n()})}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/idRemapMiddleware.cjs"}],[1943,{"./JsonRpcEngine.cjs":1938,"./createAsyncMiddleware.cjs":1939,"./createScaffoldMiddleware.cjs":1940,"./getUniqueId.cjs":1941,"./idRemapMiddleware.cjs":1942,"./mergeMiddleware.cjs":1944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeMiddleware=n.JsonRpcEngine=n.createIdRemapMiddleware=n.getUniqueId=n.createScaffoldMiddleware=n.createAsyncMiddleware=void 0;var r=e("./createAsyncMiddleware.cjs");Object.defineProperty(n,"createAsyncMiddleware",{enumerable:!0,get:function(){return r.createAsyncMiddleware}});var i=e("./createScaffoldMiddleware.cjs");Object.defineProperty(n,"createScaffoldMiddleware",{enumerable:!0,get:function(){return i.createScaffoldMiddleware}});var s=e("./getUniqueId.cjs");Object.defineProperty(n,"getUniqueId",{enumerable:!0,get:function(){return s.getUniqueId}});var a=e("./idRemapMiddleware.cjs");Object.defineProperty(n,"createIdRemapMiddleware",{enumerable:!0,get:function(){return a.createIdRemapMiddleware}});var o=e("./JsonRpcEngine.cjs");Object.defineProperty(n,"JsonRpcEngine",{enumerable:!0,get:function(){return o.JsonRpcEngine}});var c=e("./mergeMiddleware.cjs");Object.defineProperty(n,"mergeMiddleware",{enumerable:!0,get:function(){return c.mergeMiddleware}})}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/index.cjs"}],[1944,{"./JsonRpcEngine.cjs":1938},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeMiddleware=void 0;const r=e("./JsonRpcEngine.cjs");n.mergeMiddleware=function(e){const t=new r.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/mergeMiddleware.cjs"}],[1945,{"readable-stream":4977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("readable-stream");n.default=function(e){if(!e?.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,n=new r.Duplex({objectMode:!0,read:()=>undefined,write:function(e,r,i){t.handle(e,(e,t)=>{n.push(t)}),i()}});return t.on&&t.on("notification",e=>{n.push(e)}),n}}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/createEngineStream.cjs"}],[1946,{"@metamask/safe-event-emitter":2386,"@metamask/utils":2799,"readable-stream":4977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=r(e("@metamask/safe-event-emitter")),s=e("@metamask/utils"),a=e("readable-stream");n.default=function(e={}){const t={},n=new a.Duplex({objectMode:!0,read:()=>undefined,write:function(n,i,a){let c=null;try{!(0,s.hasProperty)(n,"id")?function(n){e?.retryOnMessage&&n.method===e.retryOnMessage&&Object.values(t).forEach(({req:e,retryCount:n=0})=>{if(!e.id)return;if(n>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${e.id}"`);const r=t[e.id];r&&(r.retryCount=n+1),o(e)});r.emit("notification",n)}(n):function(e){const{id:n}=e;if(null===n)return;const r=t[n];if(!r)return void console.warn(`StreamMiddleware - Unknown response id "${n}"`);delete t[n],Object.assign(r.res,e),setTimeout(r.end)}(n)}catch(e){c=e}a(c)}}),r=new i.default;return{events:r,middleware:(e,n,r,i)=>{t[e.id]={req:e,res:n,next:r,end:i},o(e)},stream:n};function o(e){n.push(e)}}}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/createStreamMiddleware.cjs"}],[1947,{"./createEngineStream.cjs":1945,"./createStreamMiddleware.cjs":1946},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createStreamMiddleware=n.createEngineStream=void 0;const i=r(e("./createEngineStream.cjs"));n.createEngineStream=i.default;const s=r(e("./createStreamMiddleware.cjs"));n.createStreamMiddleware=s.default}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/index.cjs"}],[1948,{"./BIP44Node.cjs":1949,"./SLIP10Node.cjs":1950,"./constants.cjs":1951,"./utils.cjs":1968},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.getBIP44AddressKeyDeriver=n.deriveBIP44AddressKey=n.BIP44CoinTypeNode=n.BIP_44_COIN_TYPE_DEPTH=void 0;const a=e("./BIP44Node.cjs"),o=e("./constants.cjs"),c=e("./SLIP10Node.cjs"),u=e("./utils.cjs");n.BIP_44_COIN_TYPE_DEPTH=2;class l{static async fromJSON(e,t,n){h(t),d(e.depth);const r=await a.BIP44Node.fromExtendedKey({depth:e.depth,index:e.index,network:e.network,parentFingerprint:e.parentFingerprint,chainCode:(0,u.hexStringToBytes)(e.chainCode),privateKey:(0,u.nullableHexStringToBytes)(e.privateKey),publicKey:(0,u.hexStringToBytes)(e.publicKey)},n);return new l(r,t)}static async fromDerivationPath(e,t,n){d(e.length-1);const r=await a.BIP44Node.fromDerivationPath({derivationPath:e,network:t},n),i=(0,u.getBIP44CoinType)(e);return new l(r,i)}static async fromSeed({derivationPath:e,network:t},n){d(e.length-1);const r=await a.BIP44Node.fromSeed({derivationPath:e,network:t},n),i=(0,u.getBIP44CoinType)(e);return new l(r,i)}static async fromNode(e,t){if(!(e instanceof a.BIP44Node))throw new Error("Invalid node: Expected an instance of BIP44Node.");return h(t),d(e.depth),Promise.resolve(new l(e,t))}constructor(e,t){r.set(this,void 0),i(this,r,e,"f"),this.coin_type=t,this.path=(0,u.getBIP44CoinTypePathString)(t),Object.freeze(this)}get depth(){return s(this,r,"f").depth}get privateKeyBytes(){return s(this,r,"f").privateKeyBytes}get publicKeyBytes(){return s(this,r,"f").publicKeyBytes}get chainCodeBytes(){return s(this,r,"f").chainCodeBytes}get privateKey(){return s(this,r,"f").privateKey}get publicKey(){return s(this,r,"f").publicKey}get compressedPublicKey(){return s(this,r,"f").compressedPublicKey}get compressedPublicKeyBytes(){return s(this,r,"f").compressedPublicKeyBytes}get chainCode(){return s(this,r,"f").chainCode}get address(){return s(this,r,"f").address}get masterFingerprint(){return s(this,r,"f").masterFingerprint}get parentFingerprint(){return s(this,r,"f").parentFingerprint}get fingerprint(){return s(this,r,"f").fingerprint}get index(){return s(this,r,"f").index}get network(){return s(this,r,"f").network}get curve(){return s(this,r,"f").curve}get extendedKey(){return s(this,r,"f").extendedKey}async deriveBIP44AddressKey({account:e=0,change:t=0,address_index:n}){return await s(this,r,"f").derive((0,u.getBIP44CoinTypeToAddressPathTuple)({account:e,change:t,address_index:n}))}toJSON(){return{...s(this,r,"f").toJSON(),coin_type:this.coin_type,path:this.path}}}function d(e){if(e!==n.BIP_44_COIN_TYPE_DEPTH)throw new Error(`Invalid depth: Coin type nodes must be of depth ${n.BIP_44_COIN_TYPE_DEPTH}. Received: "${e}"`)}function h(e){if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.")}async function p(e,t){if(e instanceof l)return d(e.depth),e;if("string"==typeof e){const n=await a.BIP44Node.fromExtendedKey(e,t),r=await l.fromNode(n,n.index-o.BIP_32_HARDENED_OFFSET);return d(r.depth),r}return l.fromJSON(e,e.coin_type,t)}n.BIP44CoinTypeNode=l,r=new WeakMap,n.deriveBIP44AddressKey=async function(e,{account:t=0,change:n=0,address_index:r},i){const s=(0,u.getBIP44CoinTypeToAddressPathTuple)({account:t,change:n,address_index:r}),o=await p(e,i),l=await(0,c.deriveChildNode)({path:s,node:o},i);return new a.BIP44Node(l)},n.getBIP44AddressKeyDeriver=async function(e,t,n){const{account:r=0,change:i=0}=t??{},s=await p(e,n),o=(0,u.getHardenedBIP32NodeToken)(r),l=(0,u.getBIP32NodeToken)(i),d=async(e,t=!1)=>{const r=await(0,c.deriveChildNode)({path:[o,l,t?(0,u.getHardenedBIP32NodeToken)(e):(0,u.getUnhardenedBIP32NodeToken)(e)],node:s},n);return new a.BIP44Node(r)};return d.coin_type=s.coin_type,d.path=(0,u.getBIP44ChangePathString)(s.path,{account:r,change:i}),Object.freeze(d),d}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/BIP44CoinTypeNode.cjs"}],[1949,{"./SLIP10Node.cjs":1950,"./constants.cjs":1951,"./extended-keys.cjs":1965,"./utils.cjs":1968,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.validateBIP44Depth=n.BIP44Node=void 0;const a=e("@metamask/utils"),o=e("./constants.cjs"),c=e("./extended-keys.cjs"),u=e("./SLIP10Node.cjs"),l=e("./utils.cjs");class d{static async fromJSON(e,t){return d.fromExtendedKey(e,t)}static async fromExtendedKey(e,t){if("string"==typeof e){const n=(0,c.decodeExtendedKey)(e),{type:r,chainCode:i,depth:s,parentFingerprint:a,index:o,network:u}=n;if("private"===r){const{privateKey:e}=n;return d.fromExtendedKey({depth:s,parentFingerprint:a,index:o,network:u,privateKey:e,chainCode:i},t)}const{publicKey:l}=n;return d.fromExtendedKey({depth:s,parentFingerprint:a,index:o,network:u,publicKey:l,chainCode:i},t)}const{privateKey:n,publicKey:r,chainCode:i,depth:s,parentFingerprint:a,index:o,network:l}=e;h(s);const p=await u.SLIP10Node.fromExtendedKey({privateKey:n,publicKey:r,chainCode:i,depth:s,parentFingerprint:a,index:o,network:l,curve:"secp256k1"},t);return new d(p)}static async fromDerivationPath({derivationPath:e,network:t},n){h(e.length-1),p(e,o.MIN_BIP_44_DEPTH);const r=await u.SLIP10Node.fromDerivationPath({derivationPath:e,network:t,curve:"secp256k1"},n);return new d(r)}static async fromSeed({derivationPath:e,network:t},n){h(e.length-1),p(e,o.MIN_BIP_44_DEPTH);const r=await u.SLIP10Node.fromSeed({derivationPath:e,network:t,curve:"secp256k1"},n);return new d(r)}get depth(){return i(this,r,"f").depth}get privateKeyBytes(){return i(this,r,"f").privateKeyBytes}get publicKeyBytes(){return i(this,r,"f").publicKeyBytes}get chainCodeBytes(){return i(this,r,"f").chainCodeBytes}get privateKey(){return i(this,r,"f").privateKey}get publicKey(){return i(this,r,"f").publicKey}get compressedPublicKey(){return i(this,r,"f").compressedPublicKey}get compressedPublicKeyBytes(){return i(this,r,"f").compressedPublicKeyBytes}get chainCode(){return i(this,r,"f").chainCode}get address(){return i(this,r,"f").address}get masterFingerprint(){return i(this,r,"f").masterFingerprint}get parentFingerprint(){return i(this,r,"f").parentFingerprint}get fingerprint(){return i(this,r,"f").fingerprint}get index(){return i(this,r,"f").index}get network(){return i(this,r,"f").network}get extendedKey(){return i(this,r,"f").extendedKey}get curve(){return i(this,r,"f").curve}constructor(e){r.set(this,void 0),s(this,r,e,"f"),Object.freeze(this)}neuter(){const e=i(this,r,"f").neuter();return new d(e)}async derive(e){if(this.depth===o.MAX_BIP_44_DEPTH)throw new Error("Illegal operation: This HD tree node is already a leaf node.");h(this.depth+e.length),p(e,this.depth+1);const t=await i(this,r,"f").derive(e);return new d(t)}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function h(e){if((0,u.validateBIP32Depth)(e),e<o.MIN_BIP_44_DEPTH||e>o.MAX_BIP_44_DEPTH)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${e}"`)}function p(e,t){e.forEach((e,n)=>{const r=t+n;if(r!==o.MIN_BIP_44_DEPTH)switch((0,a.assert)("string"==typeof e),r){case 1:if(e!==o.BIP44PurposeNodeToken)throw new Error(`Invalid derivation path: The "purpose" node (depth 1) must be the string "${o.BIP44PurposeNodeToken}".`);break;case 2:if(!o.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!o.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!o.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "change" node (depth 4) must be a BIP-32 node.');break;case o.MAX_BIP_44_DEPTH:if(!o.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be a BIP-32 node.')}else if(!(e instanceof Uint8Array||o.BIP_39_PATH_REGEX.test(e)))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.')})}n.BIP44Node=d,r=new WeakMap,n.validateBIP44Depth=h}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/BIP44Node.cjs"}],[1950,{"./constants.cjs":1951,"./curves/index.cjs":1956,"./derivation.cjs":1958,"./derivers/bip32.cjs":1959,"./derivers/bip39.cjs":1960,"./extended-keys.cjs":1965,"./guard.cjs":1966,"./utils.cjs":1968,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},c=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildNode=n.validateRootIndex=n.validateMasterParentFingerprint=n.validateParentFingerprint=n.validateBIP32Depth=n.SLIP10Node=void 0;const u=e("@metamask/utils"),l=e("./constants.cjs"),d=e("./curves/index.cjs"),h=e("./derivation.cjs"),p=e("./derivers/bip32.cjs"),m=e("./derivers/bip39.cjs"),f=e("./extended-keys.cjs"),g=e("./guard.cjs"),y=e("./utils.cjs");class w{static async fromJSON(e,t){return r.fromExtendedKey(e,t)}static async fromExtendedKey(e,t){if("string"==typeof e){const n=(0,f.decodeExtendedKey)(e),{chainCode:i,depth:s,parentFingerprint:a,index:o}=n;if("private"===n.type){const{privateKey:e}=n;return r.fromExtendedKey({depth:s,parentFingerprint:a,index:o,privateKey:e,chainCode:i,curve:"secp256k1"},t)}const{publicKey:c}=n;return r.fromExtendedKey({depth:s,parentFingerprint:a,index:o,publicKey:c,chainCode:i,curve:"secp256k1"},t)}const{depth:n,masterFingerprint:s,parentFingerprint:a,index:c,network:h,privateKey:p,publicKey:m,chainCode:w,curve:T,guard:E}=e,S=(0,y.getBytes)(w,l.BYTES_KEY_LENGTH);(0,y.validateCurve)(T),k(n),(0,y.validateBIP32Index)(c),_(c,n),(0,y.validateNetwork)(h),b(a,n),v(s,a,n);const A=(0,d.getCurveByName)(T);if(p){const e=(0,y.getBytesUnsafe)(p,A.privateKeyLength);(0,u.assert)(A.isValidPrivateKey(e),`Invalid private key: Value is not a valid ${T} private key.`);const l=E===g.PUBLIC_KEY_GUARD&&m?(0,y.getBytes)(m,A.publicKeyLength):undefined;return new r({depth:n,masterFingerprint:s,parentFingerprint:a,index:c,network:h,chainCode:S,privateKey:e,publicKey:l,curve:T},t,o(this,r,"f",i))}if(m){const e=(0,y.getBytes)(m,A.publicKeyLength);return new r({depth:n,masterFingerprint:s,parentFingerprint:a,index:c,network:h,chainCode:S,publicKey:e,curve:T},t,o(this,r,"f",i))}throw new Error("Invalid options: Must provide either a private key or a public key.")}static async fromDerivationPath({derivationPath:e,network:t,curve:n},r){if((0,y.validateCurve)(n),!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");const i=await(0,m.getDerivationPathWithSeed)({path:e,curve:n},r);return await(0,h.deriveKeyFromPath)({path:i,depth:e.length-1,network:t,curve:n},r)}static async fromSeed({derivationPath:e,network:t,curve:n},r){if((0,y.validateCurve)(n),"ed25519Bip32"===n)throw new Error('Invalid curve: The curve "ed25519Bip32" is not supported by the `fromSeed` function.');if(!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");return await(0,h.deriveKeyFromPath)({path:e,depth:e.length-1,network:t,curve:n},r)}constructor({depth:e,masterFingerprint:t,parentFingerprint:n,index:l,network:d="mainnet",chainCode:h,privateKey:p,publicKey:m,curve:f},g={},y){s.set(this,void 0),a.set(this,void 0),(0,u.assert)(y===o(r,r,"f",i),"SLIP10Node can only be constructed using `SLIP10Node.fromJSON`, `SLIP10Node.fromExtendedKey`, `SLIP10Node.fromDerivationPath`, or `SLIP10Node.fromSeed`."),(0,u.assert)(p!==undefined||m!==undefined,"SLIP10Node requires either a private key or a public key to be set."),this.depth=e,this.masterFingerprint=t,this.parentFingerprint=n,this.index=l,this.network=d,this.chainCodeBytes=h,this.privateKeyBytes=p,this.curve=f,c(this,s,m,"f"),c(this,a,g,"f"),Object.freeze(this)}get chainCode(){return(0,u.bytesToHex)(this.chainCodeBytes)}get privateKey(){return this.privateKeyBytes?(0,u.bytesToHex)(this.privateKeyBytes):undefined}get publicKey(){return(0,u.bytesToHex)(this.publicKeyBytes)}get publicKeyBytes(){return o(this,s,"f")!==undefined||((0,u.assert)(this.privateKeyBytes,"Either a private key or public key is required."),c(this,s,(0,d.getCurveByName)(this.curve).getPublicKey(this.privateKeyBytes),"f")),o(this,s,"f")}get compressedPublicKeyBytes(){return(0,d.getCurveByName)(this.curve).compressPublicKey(this.publicKeyBytes)}get compressedPublicKey(){return(0,u.bytesToHex)(this.compressedPublicKeyBytes)}get address(){if("secp256k1"!==this.curve)throw new Error("Unable to get address for this node: Only secp256k1 is supported.");return(0,u.bytesToHex)((0,p.publicKeyToEthAddress)(this.publicKeyBytes))}get fingerprint(){return(0,y.getFingerprint)(this.compressedPublicKeyBytes,(0,d.getCurveByName)(this.curve).compressedPublicKeyLength)}get extendedKey(){(0,u.assert)("secp256k1"===this.curve,"Unable to get extended key for this node: Only secp256k1 is supported.");const e={depth:this.depth,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,chainCode:this.chainCodeBytes};return this.privateKeyBytes?(0,f.encodeExtendedKey)({...e,type:"private",privateKey:this.privateKeyBytes}):(0,f.encodeExtendedKey)({...e,type:"public",publicKey:this.publicKeyBytes})}neuter(){return new r({depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes,publicKey:this.publicKeyBytes,curve:this.curve,network:this.network},o(this,a,"f"),o(r,r,"f",i))}async derive(e){return await T({path:e,node:this},o(this,a,"f"))}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,curve:this.curve,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function k(e){if(!(0,y.isValidInteger)(e))throw new Error(`Invalid HD tree path depth: The depth must be a positive integer. Received: "${String(e)}".`)}function b(e,t){if(!(0,y.isValidInteger)(e))throw new Error(`Invalid parent fingerprint: The fingerprint must be a positive integer. Received: "${String(e)}".`);if(0===t&&0!==e)throw new Error(`Invalid parent fingerprint: The fingerprint of the root node must be 0. Received: "${String(e)}".`);if(t>0&&0===e)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node must not be 0. Received: "${String(e)}".`)}function v(e,t,n){if(e&&n>=2&&e===t)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node cannot be equal to the master fingerprint. Received: "${String(t)}".`)}function _(e,t){if(0===t&&0!==e)throw new Error(`Invalid index: The index of the root node must be 0. Received: "${String(e)}".`)}async function T({path:e,node:t},n){if(0===e.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined.");const r=t.depth+e.length;return k(r),await(0,h.deriveKeyFromPath)({path:e,node:t,depth:r},n)}n.SLIP10Node=w,r=w,s=new WeakMap,a=new WeakMap,i={value:Symbol("SLIP10Node.constructor")},n.validateBIP32Depth=k,n.validateParentFingerprint=b,n.validateMasterParentFingerprint=v,n.validateRootIndex=_,n.deriveChildNode=T}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/SLIP10Node.cjs"}],[1951,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BIP_32_HARDENED_OFFSET=n.BIP_39_PATH_REGEX=n.CIP_3_PATH_REGEX=n.SLIP_10_PATH_REGEX=n.BIP_32_PATH_REGEX=n.UNPREFIXED_BIP_32_PATH_REGEX=n.UNPREFIXED_PATH_REGEX=n.BIP44PurposeNodeToken=n.MAX_BIP_32_INDEX=n.MAX_UNHARDENED_BIP_32_INDEX=n.MAX_BIP_44_DEPTH=n.MIN_BIP_44_DEPTH=n.BYTES_KEY_LENGTH=void 0,n.BYTES_KEY_LENGTH=32,n.MIN_BIP_44_DEPTH=0,n.MAX_BIP_44_DEPTH=5,n.MAX_UNHARDENED_BIP_32_INDEX=2147483647,n.MAX_BIP_32_INDEX=4294967295,n.BIP44PurposeNodeToken="bip32:44'",n.UNPREFIXED_PATH_REGEX=/^\d+$/u,n.UNPREFIXED_BIP_32_PATH_REGEX=/^(?<index>\d+)'?$/u,n.BIP_32_PATH_REGEX=/^bip32:\d+'?$/u,n.SLIP_10_PATH_REGEX=/^slip10:\d+'?$/u,n.CIP_3_PATH_REGEX=/^cip3:\d+'?$/u,n.BIP_39_PATH_REGEX=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u,n.BIP_32_HARDENED_OFFSET=2147483648}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/constants.cjs"}],[1952,{"./utils.cjs":1968,"@noble/hashes/hmac":2846,"@noble/hashes/pbkdf2":2848,"@noble/hashes/ripemd160":2849,"@noble/hashes/sha256":2852,"@noble/hashes/sha3":2853,"@noble/hashes/sha512":2854},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha256=n.ripemd160=n.pbkdf2Sha512=n.keccak256=n.hmacSha512=void 0;const r=e("@noble/hashes/hmac"),i=e("@noble/hashes/pbkdf2"),s=e("@noble/hashes/ripemd160"),a=e("@noble/hashes/sha256"),o=e("@noble/hashes/sha3"),c=e("@noble/hashes/sha512"),u=e("./utils.cjs");n.hmacSha512=async function(e,t,n={}){if(n.hmacSha512)return await n.hmacSha512(e,t);if((0,u.isWebCryptoSupported)()){const n=await crypto.subtle.importKey("raw",e,{name:"HMAC",hash:"SHA-512"},!1,["sign"]),r=await crypto.subtle.sign("HMAC",n,t);return new Uint8Array(r)}return(0,r.hmac)(c.sha512,e,t)},n.keccak256=function(e){return(0,o.keccak_256)(e)},n.pbkdf2Sha512=async function(e,t,n,r,s={}){if(s.pbkdf2Sha512)return await s.pbkdf2Sha512(e,t,n,r);if((0,u.isWebCryptoSupported)()){const i=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]),s=await crypto.subtle.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:"SHA-512"}},i,8*r);return new Uint8Array(s)}return await(0,i.pbkdf2Async)(c.sha512,e,t,{c:n,dkLen:r})},n.ripemd160=function(e){return(0,s.ripemd160)(e)},n.sha256=function(e){return(0,a.sha256)(e)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cryptography.cjs"}],[1953,{"./ed25519.cjs":1954,"./ed25519Bip32.cjs":1955,"./secp256k1.cjs":1957,"@noble/curves/abstract/modular":2835},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.mod=n.getCurveByName=n.curves=void 0;const a=s(e("./ed25519.cjs")),o=s(e("./ed25519Bip32.cjs")),c=s(e("./secp256k1.cjs"));n.curves={secp256k1:c,ed25519:a,ed25519Bip32:o},n.getCurveByName=function(e){return n.curves[e]};var u=e("@noble/curves/abstract/modular");Object.defineProperty(n,"mod",{enumerable:!0,get:function(){return u.mod}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/curve.cjs"}],[1954,{"@metamask/utils":2799,"@noble/curves/ed25519":2839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.compressedPublicKeyLength=n.masterNodeGenerationSpec=n.privateKeyLength=n.decompressPublicKey=n.compressPublicKey=n.publicAdd=n.getPublicKey=n.publicKeyLength=n.deriveUnhardenedKeys=n.isValidPrivateKey=n.secret=n.name=n.curve=void 0;const r=e("@metamask/utils"),i=e("@noble/curves/ed25519");n.curve=i.ed25519.CURVE,n.name="ed25519",n.secret=(0,r.stringToBytes)("ed25519 seed");n.isValidPrivateKey=e=>!0,n.deriveUnhardenedKeys=!1,n.publicKeyLength=33;n.getPublicKey=(()=>{let e=!1;return(t,n)=>{e||(i.ed25519.ExtendedPoint.BASE._setWindowSize(4),e=!0);const s=i.ed25519.getPublicKey(t);return(0,r.concatBytes)([new Uint8Array([0]),s])}})();n.publicAdd=(e,t)=>{throw new Error("Ed25519 does not support public key derivation.")};n.compressPublicKey=e=>e;n.decompressPublicKey=e=>e,n.privateKeyLength=32,n.masterNodeGenerationSpec="slip10",n.compressedPublicKeyLength=33}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/ed25519.cjs"}],[1955,{"@metamask/utils":2799,"@noble/curves/abstract/modular":2835,"@noble/curves/ed25519":2839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.compressedPublicKeyLength=n.masterNodeGenerationSpec=n.privateKeyLength=n.decompressPublicKey=n.compressPublicKey=n.publicAdd=n.getPublicKey=n.multiplyWithBase=n.bytesToNumberLE=n.publicKeyLength=n.deriveUnhardenedKeys=n.isValidPrivateKey=n.secret=n.name=n.curve=void 0;const r=e("@metamask/utils"),i=e("@noble/curves/abstract/modular"),s=e("@noble/curves/ed25519");function a(e,t){const n=e[t];return(0,r.assert)(n!==undefined,"Private key is too short."),n}n.curve=s.ed25519.CURVE,n.name="ed25519Bip32",n.secret=(0,r.stringToBytes)("");n.isValidPrivateKey=e=>!(7&a(e,0))&&(!(128&a(e,31))&&!(64&~a(e,31))),n.deriveUnhardenedKeys=!0,n.publicKeyLength=32;n.bytesToNumberLE=e=>(0,r.hexToBigInt)((0,r.bytesToHex)(Uint8Array.from(e).reverse()));n.multiplyWithBase=e=>{const t=(0,i.mod)((0,n.bytesToNumberLE)(e),n.curve.n);return s.ed25519.ExtendedPoint.BASE.multiply(t).toRawBytes()};n.getPublicKey=(e,t)=>(0,n.multiplyWithBase)(e.slice(0,32));n.publicAdd=(e,t)=>s.ed25519.ExtendedPoint.fromHex((0,r.remove0x)((0,r.bytesToHex)(e))).add(s.ed25519.ExtendedPoint.fromHex((0,r.remove0x)((0,r.bytesToHex)(t)))).toRawBytes();n.compressPublicKey=e=>e;n.decompressPublicKey=e=>e,n.privateKeyLength=64,n.masterNodeGenerationSpec="cip3",n.compressedPublicKeyLength=32}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/ed25519Bip32.cjs"}],[1956,{"./curve.cjs":1953,"./ed25519.cjs":1954,"./ed25519Bip32.cjs":1955,"./secp256k1.cjs":1957},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.ed25519Bip32=n.ed25519=n.secp256k1=void 0,s(e("./curve.cjs"),n),n.secp256k1=a(e("./secp256k1.cjs")),n.ed25519=a(e("./ed25519.cjs")),n.ed25519Bip32=a(e("./ed25519Bip32.cjs"))}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/index.cjs"}],[1957,{"../utils.cjs":1968,"@metamask/utils":2799,"@noble/curves/secp256k1":2840},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.compressedPublicKeyLength=n.masterNodeGenerationSpec=n.privateKeyLength=n.decompressPublicKey=n.compressPublicKey=n.publicAdd=n.getPublicKey=n.isValidPrivateKey=n.publicKeyLength=n.deriveUnhardenedKeys=n.secret=n.name=n.curve=void 0;const r=e("@metamask/utils"),i=e("@noble/curves/secp256k1"),s=e("../utils.cjs");n.curve=i.secp256k1.CURVE,n.name="secp256k1",n.secret=(0,r.stringToBytes)("Bitcoin seed"),n.deriveUnhardenedKeys=!0,n.publicKeyLength=65;n.isValidPrivateKey=e=>i.secp256k1.utils.isValidPrivateKey(e);n.getPublicKey=(()=>{let e=!1;return(t,n=!1)=>(e||(i.secp256k1.ProjectivePoint.BASE._setWindowSize(4),e=!0),i.secp256k1.getPublicKey(t,n))})();n.publicAdd=(e,t)=>{(0,r.assert)((0,s.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const n=i.secp256k1.ProjectivePoint.fromHex(e).add(i.secp256k1.ProjectivePoint.fromPrivateKey(t));return n.assertValidity(),n.toRawBytes(!1)};n.compressPublicKey=e=>i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!0);n.decompressPublicKey=e=>i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1),n.privateKeyLength=32,n.masterNodeGenerationSpec="slip10",n.compressedPublicKeyLength=33}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/secp256k1.cjs"}],[1958,{"./BIP44CoinTypeNode.cjs":1948,"./BIP44Node.cjs":1949,"./SLIP10Node.cjs":1950,"./constants.cjs":1951,"./curves/index.cjs":1956,"./derivers/index.cjs":1962,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validatePathSegment=n.deriveKeyFromPath=void 0;const r=e("@metamask/utils"),i=e("./BIP44CoinTypeNode.cjs"),s=e("./BIP44Node.cjs"),a=e("./constants.cjs"),o=e("./curves/index.cjs"),c=e("./derivers/index.cjs"),u=e("./SLIP10Node.cjs");function l(e,t,n){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");let i=!1;if(e.forEach((e,t)=>{if(0===t){if(i=e instanceof Uint8Array||a.BIP_39_PATH_REGEX.test(e),!(e instanceof Uint8Array||i||a.BIP_32_PATH_REGEX.test(e)||a.SLIP_10_PATH_REGEX.test(e)||a.CIP_3_PATH_REGEX.test(e)))throw d()}else if(e instanceof Uint8Array||!a.BIP_32_PATH_REGEX.test(e)&&!a.SLIP_10_PATH_REGEX.test(e)&&!a.CIP_3_PATH_REGEX.test(e))throw d()}),n===a.MIN_BIP_44_DEPTH&&(!i||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${a.MIN_BIP_44_DEPTH}. Received: "${String(e)}".`);if(!t&&!i)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&i)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.");const s=i?e.slice(1):e;if(s.length>0){const e=s[0]?.split(":")[0];(0,r.assert)(e),(0,r.assert)(s.every(t=>t.startsWith(`${e}:`)),"Invalid HD path segment: Cannot mix 'bip32' and 'slip10' path segments.")}}function d(){return new Error("Invalid HD path segment: The path segment is malformed.")}n.deriveKeyFromPath=async function(e,t){const{path:n,depth:a=n.length}=e,h="node"in e?e.node:undefined,p="network"in e?e.network:h?.network,m="curve"in e?e.curve:h?.curve;if(h&&!(h instanceof u.SLIP10Node)&&!(h instanceof s.BIP44Node)&&!(h instanceof i.BIP44CoinTypeNode))throw new Error("Invalid arguments: Node must be a SLIP-10 node or a BIP-44 node when provided.");if(!m)throw new Error("Invalid arguments: Must specify either a parent node or curve.");return l(n,Boolean(h?.privateKey)||Boolean(h?.publicKey),a),await n.reduce(async(e,n,i)=>{const s=await e;if("string"==typeof n){const[e,i]=n.split(":");(0,r.assert)(e),(0,r.assert)(i),(0,r.assert)(function(e){return e in c.derivers}(e),`Unknown derivation type: "${e}".`);const a=c.derivers[e];return await a.deriveChildKey({path:i,node:s,curve:(0,o.getCurveByName)(m),network:p},t)}return(0,r.assert)(0===i,d()),await c.derivers.bip39.deriveChildKey({path:n,node:s,curve:(0,o.getCurveByName)(m),network:p},t)},Promise.resolve(h))},n.validatePathSegment=l}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivation.cjs"}],[1959,{"../constants.cjs":1951,"../cryptography.cjs":1952,"../curves/index.cjs":1956,"../utils.cjs":1968,"./shared.cjs":1963,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildKey=n.publicKeyToEthAddress=n.privateKeyToEthAddress=void 0;const r=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),a=e("../cryptography.cjs"),o=e("../curves/index.cjs"),c=e("../utils.cjs");function u(e){return(0,r.assert)(e instanceof Uint8Array&&(0,c.isValidBytesKey)(e,o.secp256k1.publicKeyLength),"Invalid key: The key must be a 65-byte, non-zero Uint8Array."),(0,a.keccak256)(e.slice(1)).slice(-20)}async function l(e,t,n){const{childIndex:r,privateKey:s,publicKey:a,isHardened:o,chainCode:u,curve:l}=t;if((0,c.validateBIP32Index)(r+1),s){const e=await(0,i.deriveSecretExtension)({privateKey:s,publicKey:l.compressPublicKey(a),childIndex:r+1,isHardened:o,curve:l}),c=await(0,i.generateEntropy)({chainCode:u,extension:e},n);return{...t,childIndex:r+1,entropy:c}}const d=(0,i.derivePublicExtension)({parentPublicKey:a,childIndex:r+1}),h=await(0,i.generateEntropy)({chainCode:u,extension:d});return{...t,childIndex:r+1,entropy:h}}n.privateKeyToEthAddress=function(e){return(0,r.assert)(e instanceof Uint8Array&&(0,c.isValidBytesKey)(e,s.BYTES_KEY_LENGTH),"Invalid key: The key must be a 32-byte, non-zero Uint8Array."),u(o.secp256k1.getPublicKey(e,!1))},n.publicKeyToEthAddress=u,n.deriveChildKey=async function(e,t){return(0,r.assert)("secp256k1"===e.curve.name,"Invalid curve: Only secp256k1 is supported by BIP-32."),(0,i.deriveChildKey)(e,l,t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/bip32.cjs"}],[1960,{"../SLIP10Node.cjs":1950,"../constants.cjs":1951,"../cryptography.cjs":1952,"../curves/index.cjs":1956,"../guard.cjs":1966,"../utils.cjs":1968,"@metamask/scure-bip39":2387,"@metamask/scure-bip39/dist/wordlists/english.js":2388,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.entropyToCip3MasterNode=n.createBip39KeyFromSeed=n.deriveChildKey=n.getDerivationPathWithSeed=n.multipathToBip39Mnemonic=n.bip39MnemonicToMultipath=n.mnemonicToSeed=void 0;const r=e("@metamask/scure-bip39"),i=e("@metamask/scure-bip39/dist/wordlists/english.js"),s=e("@metamask/utils"),a=e("../constants.cjs"),o=e("../cryptography.cjs"),c=e("../curves/index.cjs"),u=e("../guard.cjs"),l=e("../SLIP10Node.cjs"),d=e("../utils.cjs"),h=[12,15,18,21,24];function p(e){const t=e.split(" ");(0,s.assert)(h.includes(t.length),"Invalid mnemonic phrase: The mnemonic phrase must consist of 12, 15, 18, 21, or 24 words."),(0,s.assert)(t.every(e=>i.wordlist.includes(e)),"Invalid mnemonic phrase: The mnemonic phrase contains an unknown word.")}async function m(e,t="",n){const r=`mnemonic${t}`.normalize("NFKD");return await(0,o.pbkdf2Sha512)(function(e,t){if("string"==typeof e)return p(e),(0,s.stringToBytes)(e.normalize("NFKD"));const n=Array.from(new Uint16Array(e.buffer)).map(e=>t[e]).join(" ");return p(n),(0,s.stringToBytes)(n)}(e,i.wordlist),(0,s.stringToBytes)(r),2048,64,n)}function f(e){return e instanceof Uint8Array?e:((0,s.assert)(e.startsWith("bip39:"),'Invalid HD path segment: The BIP-39 path must start with "bip39:".'),e.slice(6))}async function g(e,t,n,r){(0,s.assert)(e.length>=16&&e.length<=64,"Invalid seed: The seed must be between 16 and 64 bytes long.");const i=await(0,o.hmacSha512)(t.secret,e,r),c=i.slice(0,a.BYTES_KEY_LENGTH),h=i.slice(a.BYTES_KEY_LENGTH);(0,s.assert)(t.isValidPrivateKey(c),"Invalid private key: The private key must greater than 0 and less than the curve order.");const p=t.getPublicKey(c,!1),m=(0,d.getFingerprint)(t.compressPublicKey(p),t.compressedPublicKeyLength);return l.SLIP10Node.fromExtendedKey({privateKey:c,publicKey:p,chainCode:h,masterFingerprint:m,network:n,depth:0,parentFingerprint:0,index:0,curve:t.name,guard:u.PUBLIC_KEY_GUARD},r)}async function y(e,t,n,r){(0,s.assert)(e.length>=16&&e.length<=64,"Invalid entropy: The entropy must be between 16 and 64 bytes long.");const i=await(0,o.pbkdf2Sha512)(t.secret,e,4096,96,r);i[0]&=248,i[31]&=31,i[31]|=64;const a=i.slice(0,t.privateKeyLength),c=i.slice(t.privateKeyLength);(0,s.assert)(t.isValidPrivateKey(a),"Invalid private key.");const h=t.getPublicKey(a,!1),p=(0,d.getFingerprint)(t.compressPublicKey(h),t.compressedPublicKeyLength);return l.SLIP10Node.fromExtendedKey({privateKey:a,publicKey:h,chainCode:c,masterFingerprint:p,network:n,depth:0,parentFingerprint:0,index:0,curve:t.name,guard:u.PUBLIC_KEY_GUARD},r)}n.mnemonicToSeed=m,n.bip39MnemonicToMultipath=function(e){return`bip39:${e.toLowerCase().trim()}`},n.multipathToBip39Mnemonic=f,n.getDerivationPathWithSeed=async function({path:e,curve:t},n){const[a,...o]=e,u=f(a),l=(0,c.getCurveByName)(t);switch(l.masterNodeGenerationSpec){case"slip10":return[await m(u,"",n),...o];case"cip3":return[(0,r.mnemonicToEntropy)(u,i.wordlist),...o];default:return(0,s.assertExhaustive)(l)}},n.deriveChildKey=async function({path:e,curve:t,network:n},r){switch((0,s.assert)(e instanceof Uint8Array,"Invalid path: The path must be a Uint8Array."),t.masterNodeGenerationSpec){case"slip10":return g(e,t,n,r);case"cip3":return y(e,t,n,r);default:throw new Error("Unsupported master node generation spec.")}},n.createBip39KeyFromSeed=g,n.entropyToCip3MasterNode=y}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/bip39.cjs"}],[1961,{"../SLIP10Node.cjs":1950,"../constants.cjs":1951,"../curves/index.cjs":1956,"../utils.cjs":1968,"./shared.cjs":1963,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildKey=n.derivePublicKey=n.deriveChainCode=n.derivePrivateKey=n.getKeyExtension=n.add=n.mod2Pow256=n.trunc28Mul8=n.padEnd32Bytes=n.bigIntToBytes=n.bytesToBigInt=n.toReversed=void 0;const r=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),a=e("../curves/index.cjs"),o=e("../SLIP10Node.cjs"),c=e("../utils.cjs");n.toReversed=e=>e.slice().reverse();n.bytesToBigInt=e=>{const t=(0,n.toReversed)(e),i=(0,r.bytesToHex)(t);return BigInt(i)};n.bigIntToBytes=e=>{const t=e.toString(16);return(0,n.toReversed)((0,r.hexToBytes)(t))};n.padEnd32Bytes=e=>(0,r.concatBytes)([e,new Uint8Array(Math.max(32-e.length,0)).fill(0)]);n.trunc28Mul8=e=>{const t=(0,n.bytesToBigInt)(e.slice(0,28))*BigInt(8);return(0,n.padEnd32Bytes)((0,n.bigIntToBytes)(t))};n.mod2Pow256=e=>(0,n.padEnd32Bytes)((0,n.bigIntToBytes)((0,a.mod)((0,n.bytesToBigInt)(e),BigInt(2)**BigInt(256))));n.add=(e,t)=>{const r=(0,n.bytesToBigInt)(e)+(0,n.bytesToBigInt)(t);return(0,n.padEnd32Bytes)((0,n.bigIntToBytes)(r)).slice(0,32)};n.getKeyExtension=(e,t,n)=>(0,r.concatBytes)([new Uint8Array([e]),t,(0,c.numberToUint32)(n,!0)]);const u=2,l=0;n.derivePrivateKey=async({parentNode:e,childIndex:t,isHardened:a},o)=>{const c=a?(0,n.getKeyExtension)(l,e.privateKeyBytes,t+s.BIP_32_HARDENED_OFFSET):(0,n.getKeyExtension)(u,e.publicKeyBytes,t),d=await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:c},o),h=d.subarray(0,32),p=d.subarray(32),m=e.privateKeyBytes.subarray(0,32),f=e.privateKeyBytes.subarray(32),g=(0,n.add)((0,n.trunc28Mul8)(h),m),y=(0,n.add)(p,f);return(0,r.concatBytes)([g,y])};const d=3,h=1;n.deriveChainCode=async({parentNode:e,childIndex:t,isHardened:r},a)=>{const o=r?(0,n.getKeyExtension)(h,e.privateKeyBytes,t+s.BIP_32_HARDENED_OFFSET):(0,n.getKeyExtension)(d,e.publicKeyBytes,t);return(await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:o},a)).subarray(32)};const p=2;n.derivePublicKey=async({parentNode:e,childIndex:t,curve:r},s)=>{const a=(0,n.getKeyExtension)(p,e.publicKeyBytes,t),o=(await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:a},s)).slice(0,32),c=r.getPublicKey((0,n.trunc28Mul8)(o));return r.publicAdd(e.publicKeyBytes,c)},n.deriveChildKey=async function(e,t){const{curve:a,node:c,path:u}=e;(0,i.validateNode)(c);const{childIndex:l,isHardened:d}=(0,i.getValidatedPath)(u,c,a);if("ed25519Bip32"!==a.name||!c)throw new Error("Unsupported curve: Only ed25519Bip32 is supported by CIP3.");const h=l+(d?s.BIP_32_HARDENED_OFFSET:0),{privateKeyBytes:p,chainCodeBytes:m,publicKeyBytes:f,masterFingerprint:g,depth:y,fingerprint:w}=c;if(p){const e={privateKeyBytes:p,chainCodeBytes:m,publicKeyBytes:f},i=await(0,n.derivePrivateKey)({parentNode:e,childIndex:l,isHardened:d},t),s=await(0,n.deriveChainCode)({parentNode:e,childIndex:l,isHardened:d},t);return o.SLIP10Node.fromExtendedKey({privateKey:(0,r.bytesToHex)(i),chainCode:(0,r.bytesToHex)(s),masterFingerprint:g,depth:y+1,parentFingerprint:w,index:h,curve:a.name},t)}(0,r.assert)(!d,"Invalid parameters: Cannot derive hardened child keys without a private key.");const k={chainCodeBytes:m,publicKeyBytes:f},b=await(0,n.derivePublicKey)({parentNode:k,childIndex:l,isHardened:!1,curve:a},t),v=await(0,n.deriveChainCode)({parentNode:k,childIndex:l,isHardened:!1},t);return o.SLIP10Node.fromExtendedKey({publicKey:(0,r.bytesToHex)(b),chainCode:(0,r.bytesToHex)(v),masterFingerprint:g,depth:y+1,parentFingerprint:w,index:h,curve:a.name},t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/cip3.cjs"}],[1962,{"./bip32.cjs":1959,"./bip39.cjs":1960,"./cip3.cjs":1961,"./slip10.cjs":1964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.mnemonicToSeed=n.createBip39KeyFromSeed=n.derivers=void 0;const a=s(e("./bip32.cjs")),o=s(e("./bip39.cjs")),c=s(e("./cip3.cjs")),u=s(e("./slip10.cjs"));n.derivers={bip32:a,bip39:o,slip10:u,cip3:c};var l=e("./bip39.cjs");Object.defineProperty(n,"createBip39KeyFromSeed",{enumerable:!0,get:function(){return l.createBip39KeyFromSeed}}),Object.defineProperty(n,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/index.cjs"}],[1963,{"../SLIP10Node.cjs":1950,"../constants.cjs":1951,"../cryptography.cjs":1952,"../curves/index.cjs":1956,"../guard.cjs":1966,"../utils.cjs":1968,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getValidatedPath=n.validateNode=n.generateEntropy=n.privateAdd=n.derivePublicChildKey=n.derivePublicExtension=n.deriveSecretExtension=n.deriveChildKey=void 0;const r=e("@metamask/utils"),i=e("../constants.cjs"),s=e("../cryptography.cjs"),a=e("../curves/index.cjs"),o=e("../guard.cjs"),c=e("../SLIP10Node.cjs"),u=e("../utils.cjs");async function l(e,t,n){const{privateKey:r,publicKey:s,entropy:a,childIndex:u,isHardened:d,depth:h,parentFingerprint:f,masterFingerprint:g,curve:y,network:w}=e;try{return r?await async function({entropy:e,privateKey:t,depth:n,masterFingerprint:r,parentFingerprint:s,childIndex:a,isHardened:u,curve:l,network:d},h){const p=a+(u?i.BIP_32_HARDENED_OFFSET:0),{privateKey:f,chainCode:g}=function({privateKey:e,entropy:t,curve:n}){const r=t.slice(0,32),i=t.slice(32);if("ed25519"===n.name)return{privateKey:r,chainCode:i};const s=m(e,r,n);return{privateKey:s,chainCode:i}}({privateKey:t,entropy:e,curve:l});return await c.SLIP10Node.fromExtendedKey({privateKey:f,chainCode:g,depth:n+1,masterFingerprint:r,parentFingerprint:s,index:p,curve:l.name,network:d,guard:o.PUBLIC_KEY_GUARD},h)}({entropy:a,privateKey:r,depth:h,masterFingerprint:g,parentFingerprint:f,childIndex:u,isHardened:d,curve:y,network:w},n):await p({entropy:a,publicKey:s,depth:h,masterFingerprint:g,parentFingerprint:f,childIndex:u,curve:y,network:w},n)}catch(r){return await l(await t(r,e,n),t,n)}}async function d({privateKey:e,publicKey:t,childIndex:n,isHardened:s,curve:a}){return s?(0,r.concatBytes)([new Uint8Array([0]),e,(0,u.numberToUint32)(n+i.BIP_32_HARDENED_OFFSET)]):((0,u.validateBytes)(t,a.compressedPublicKeyLength),h({parentPublicKey:t,childIndex:n}))}function h({parentPublicKey:e,childIndex:t}){return(0,r.concatBytes)([e,(0,u.numberToUint32)(t)])}async function p({entropy:e,publicKey:t,depth:n,masterFingerprint:r,parentFingerprint:i,childIndex:s,curve:a,network:o},u){const{publicKey:l,chainCode:d}=function({publicKey:e,entropy:t,curve:n}){const r=t.slice(0,32),i=t.slice(32);return{publicKey:n.publicAdd(e,r),chainCode:i}}({publicKey:t,entropy:e,curve:a});return await c.SLIP10Node.fromExtendedKey({publicKey:l,chainCode:d,depth:n+1,masterFingerprint:r,parentFingerprint:i,index:s,curve:a.name,network:o},u)}function m(e,t,n){(0,r.assert)((0,u.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const i=(0,r.bytesToBigInt)(e),s=(0,r.bytesToBigInt)(t);if(s>=n.curve.n)throw new Error("Invalid tweak: Tweak is larger than the curve order.");const o=(0,a.mod)(i+s,n.curve.n),c=(0,r.hexToBytes)(o.toString(16).padStart(64,"0"));if(!n.isValidPrivateKey(c))throw new Error("Invalid private key or tweak: The resulting private key is invalid.");return c}async function f({chainCode:e,extension:t},n){return await(0,s.hmacSha512)(e,t,n)}function g(e){(0,r.assert)(e,"Invalid parameters: Must specify a node to derive from.")}function y(e,t,n){!function(e,t,n){(0,r.assert)("string"==typeof e,"Invalid path: Must be a string.");const i=e.endsWith("'");(0,r.assert)(!i||t.privateKey,"Invalid parameters: Cannot derive hardened child keys without a private key."),(0,r.assert)(i||n.deriveUnhardenedKeys,`Invalid path: Cannot derive unhardened child keys with ${n.name}.`)}(e,t,n);const s=e.split("'")[0];(0,r.assert)(s);const a=parseInt(s,10);if(!i.UNPREFIXED_PATH_REGEX.test(s)||!Number.isInteger(a)||a<0||a>=i.BIP_32_HARDENED_OFFSET)throw new Error(`Invalid path: The index must be a non-negative decimal integer less than ${i.BIP_32_HARDENED_OFFSET}.`);return{childIndex:a,isHardened:e.includes("'")}}n.deriveChildKey=async function({path:e,node:t,curve:n,network:r},i,s){g(t);const{childIndex:a,isHardened:o}=y(e,t,n),c={chainCode:t.chainCodeBytes,childIndex:a,isHardened:o,depth:t.depth,parentFingerprint:t.fingerprint,masterFingerprint:t.masterFingerprint,curve:n,network:r};if(t.privateKeyBytes){const e=await d({privateKey:t.privateKeyBytes,get publicKey(){return t.compressedPublicKeyBytes},childIndex:a,isHardened:o,curve:n}),r=await f({chainCode:t.chainCodeBytes,extension:e},s);return await l({privateKey:t.privateKeyBytes,get publicKey(){return t.publicKeyBytes},entropy:r,...c},i,s)}const u=h({parentPublicKey:t.compressedPublicKeyBytes,childIndex:a}),p=await f({chainCode:t.chainCodeBytes,extension:u},s);return await l({publicKey:t.compressedPublicKeyBytes,entropy:p,...c},i,s)},n.deriveSecretExtension=d,n.derivePublicExtension=h,n.derivePublicChildKey=p,n.privateAdd=m,n.generateEntropy=f,n.validateNode=g,n.getValidatedPath=y}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/shared.cjs"}],[1964,{"../constants.cjs":1951,"../utils.cjs":1968,"./shared.cjs":1963,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deriveChildKey=void 0;const r=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),a=e("../utils.cjs");async function o(e,t,n){const{curve:o,isHardened:c,childIndex:u,entropy:l,chainCode:d}=t;if("ed25519"===o.name)throw e;const h=c?u+s.BIP_32_HARDENED_OFFSET:u,p=await(0,i.generateEntropy)({chainCode:d,extension:(0,r.concatBytes)([1,l.slice(32,64),(0,a.numberToUint32)(h)])},n);return{...t,entropy:p}}n.deriveChildKey=async function(e,t){return await(0,i.deriveChildKey)(e,o,t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/slip10.cjs"}],[1965,{"./BIP44Node.cjs":1949,"./curves/secp256k1.cjs":1957,"./utils.cjs":1968,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.encodeExtendedKey=n.decodeExtendedKey=void 0;const r=e("@metamask/utils"),i=e("./BIP44Node.cjs"),s=e("./curves/secp256k1.cjs"),a=e("./utils.cjs"),o=76067358,c=76066276,u=70617039,l=70615956;n.decodeExtendedKey=e=>{const t=(0,a.decodeBase58check)(e);if(78!==t.length)throw new Error(`Invalid extended key: Expected a length of 78, got ${t.length}.`);const n=(0,r.createDataView)(t),d=n.getUint32(0,!1),{network:h,type:p}=function(e){switch(e){case o:return{type:"public",network:"mainnet"};case u:return{type:"public",network:"testnet"};case c:return{type:"private",network:"mainnet"};case l:return{type:"private",network:"testnet"};default:throw new Error("Invalid extended key: Expected a public (xpub) or private key (xprv) version.")}}(d),m=n.getUint8(4);(0,i.validateBIP44Depth)(m);const f=n.getUint32(5,!1),g=n.getUint32(9,!1),y=t.slice(13,45);if(!(0,a.isValidBytesKey)(y,32))throw new Error("Invalid extended key: Chain code must be a 32-byte non-zero byte array.");const w=t.slice(45,78);if(!(0,a.isValidBytesKey)(w,33))throw new Error("Invalid extended key: Key must be a 33-byte non-zero byte array.");const k=(0,r.createDataView)(w);if("public"===p){if(2!==k.getUint8(0)&&3!==k.getUint8(0))throw new Error("Invalid extended key: Public key must start with 0x02 or 0x03.");return{type:p,depth:m,parentFingerprint:f,index:g,network:h,chainCode:y,publicKey:(0,s.decompressPublicKey)(w)}}if(0!==k.getUint8(0))throw new Error("Invalid extended key: Private key must start with 0x00.");return{type:p,depth:m,parentFingerprint:f,index:g,network:h,chainCode:y,privateKey:w.slice(1)}};n.encodeExtendedKey=e=>{const{type:t,depth:n,parentFingerprint:i,index:d,network:h,chainCode:p}=e,m=new Uint8Array(78),f=(0,r.createDataView)(m),g=function(e,t){switch(e){case"mainnet":return"public"===t?o:c;case"testnet":return"public"===t?u:l;default:return(0,r.assertExhaustive)(e)}}(h,t);if(f.setUint32(0,g,!1),f.setUint8(4,n),f.setUint32(5,i,!1),f.setUint32(9,d,!1),m.set(p,13),"public"===t){const{publicKey:t}=e,n=(0,s.compressPublicKey)(t);m.set(n,45)}if("private"===t){const{privateKey:t}=e;m.set(t,46)}return(0,a.encodeBase58check)(m)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/extended-keys.cjs"}],[1966,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PUBLIC_KEY_GUARD=void 0,n.PUBLIC_KEY_GUARD=Symbol("Public key guard. Do not export this from the module.")}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/guard.cjs"}],[1967,{"./BIP44CoinTypeNode.cjs":1948,"./BIP44Node.cjs":1949,"./SLIP10Node.cjs":1950,"./constants.cjs":1951,"./curves/index.cjs":1956,"./derivers/index.cjs":1962,"./utils.cjs":1968},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.mnemonicToSeed=n.createBip39KeyFromSeed=n.mnemonicPhraseToBytes=n.isValidBIP32PathSegment=n.getBIP44CoinTypeToAddressPathTuple=n.getBIP44AddressKeyDeriver=n.deriveBIP44AddressKey=n.BIP_44_COIN_TYPE_DEPTH=n.BIP44CoinTypeNode=n.ed25519Bip32=n.ed25519=n.secp256k1=n.SLIP10Node=n.BIP44Node=void 0;var s=e("./BIP44Node.cjs");Object.defineProperty(n,"BIP44Node",{enumerable:!0,get:function(){return s.BIP44Node}});var a=e("./SLIP10Node.cjs");Object.defineProperty(n,"SLIP10Node",{enumerable:!0,get:function(){return a.SLIP10Node}});var o=e("./curves/index.cjs");Object.defineProperty(n,"secp256k1",{enumerable:!0,get:function(){return o.secp256k1}}),Object.defineProperty(n,"ed25519",{enumerable:!0,get:function(){return o.ed25519}}),Object.defineProperty(n,"ed25519Bip32",{enumerable:!0,get:function(){return o.ed25519Bip32}});var c=e("./BIP44CoinTypeNode.cjs");Object.defineProperty(n,"BIP44CoinTypeNode",{enumerable:!0,get:function(){return c.BIP44CoinTypeNode}}),Object.defineProperty(n,"BIP_44_COIN_TYPE_DEPTH",{enumerable:!0,get:function(){return c.BIP_44_COIN_TYPE_DEPTH}}),Object.defineProperty(n,"deriveBIP44AddressKey",{enumerable:!0,get:function(){return c.deriveBIP44AddressKey}}),Object.defineProperty(n,"getBIP44AddressKeyDeriver",{enumerable:!0,get:function(){return c.getBIP44AddressKeyDeriver}}),i(e("./constants.cjs"),n);var u=e("./utils.cjs");Object.defineProperty(n,"getBIP44CoinTypeToAddressPathTuple",{enumerable:!0,get:function(){return u.getBIP44CoinTypeToAddressPathTuple}}),Object.defineProperty(n,"isValidBIP32PathSegment",{enumerable:!0,get:function(){return u.isValidBIP32PathSegment}}),Object.defineProperty(n,"mnemonicPhraseToBytes",{enumerable:!0,get:function(){return u.mnemonicPhraseToBytes}});var l=e("./derivers/index.cjs");Object.defineProperty(n,"createBip39KeyFromSeed",{enumerable:!0,get:function(){return l.createBip39KeyFromSeed}}),Object.defineProperty(n,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/index.cjs"}],[1968,{"./BIP44CoinTypeNode.cjs":1948,"./constants.cjs":1951,"./cryptography.cjs":1952,"./curves/index.cjs":1956,"@metamask/scure-bip39/dist/wordlists/english.js":2388,"@metamask/utils":2799,"@scure/base":2876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBIP44CoinType=n.validateNetwork=n.isWebCryptoSupported=n.numberToUint32=n.validateCurve=n.mnemonicPhraseToBytes=n.getFingerprint=n.encodeBase58check=n.decodeBase58check=n.validateBytes=n.getBytesUnsafe=n.getBytes=n.isValidInteger=n.isValidBytesKey=n.nullableHexStringToBytes=n.hexStringToBytes=n.isHardened=n.isValidBIP32PathSegment=n.isValidBIP32Index=n.validateBIP32Index=n.getBIP32NodeToken=n.getUnhardenedBIP32NodeToken=n.getHardenedBIP32NodeToken=n.getBIP44CoinTypeToAddressPathTuple=n.getBIP44ChangePathString=n.getBIP44CoinTypePathString=void 0;const r=e("@metamask/scure-bip39/dist/wordlists/english.js"),i=e("@metamask/utils"),s=e("@scure/base"),a=e("./BIP44CoinTypeNode.cjs"),o=e("./constants.cjs"),c=e("./cryptography.cjs"),u=e("./curves/index.cjs");function l(e){return p(e),`${d(e)}'`}function d(e){return p(e),`bip32:${e}`}function h(e){if("number"==typeof e)return d(e);if(!e||!Number.isInteger(e.index)||"boolean"!=typeof e.hardened)throw new Error("Invalid BIP-32 index: Must be an object containing the index and whether it is hardened.");return e.hardened?l(e.index):d(e.index)}function p(e){if(!m(e))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.")}function m(e){return y(e)&&e<=o.MAX_BIP_32_INDEX}function f(e){return e instanceof Uint8Array?e:(0,i.hexToBytes)(e)}function g(e,t){if(e.length!==t)return!1;for(const t of e)if(0!==t)return!0;return!1}function y(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function w(e,t){if(!g(e,t))throw new Error(`Invalid value: Must be a non-zero ${t}-byte byte array.`)}n.getBIP44CoinTypePathString=function(e){return`m / ${o.BIP44PurposeNodeToken} / ${l(e)}`},n.getBIP44ChangePathString=function(e,t){return`${e} / ${l(t.account??0)} / ${h(t.change??0)}`},n.getBIP44CoinTypeToAddressPathTuple=function({account:e=0,change:t=0,address_index:n}){return[l(e),h(t),h(n)]},n.getHardenedBIP32NodeToken=l,n.getUnhardenedBIP32NodeToken=d,n.getBIP32NodeToken=h,n.validateBIP32Index=p,n.isValidBIP32Index=m,n.isValidBIP32PathSegment=function(e){if("string"!=typeof e)return!1;const t=e.match(o.UNPREFIXED_BIP_32_PATH_REGEX);if(void 0===t?.groups?.index)return!1;const n=parseInt(t.groups.index,10);return y(n)&&n<=o.MAX_UNHARDENED_BIP_32_INDEX},n.isHardened=function(e){return e.endsWith("'")},n.hexStringToBytes=f,n.nullableHexStringToBytes=function(e){return e!==undefined?f(e):undefined},n.isValidBytesKey=g,n.isValidInteger=y,n.getBytes=function(e,t){if(e instanceof Uint8Array)return w(e,t),e;if("string"==typeof e){const n=(0,i.hexToBytes)(e);return w(n,t),n}throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},n.getBytesUnsafe=function e(t,n){if(t instanceof Uint8Array)return(0,i.assert)(t.length===n,`Invalid value: Must be a ${n}-byte byte array.`),t;if("string"==typeof t)return e((0,i.hexToBytes)(t),n);throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},n.validateBytes=w;n.decodeBase58check=e=>{const t=(0,s.base58check)(c.sha256);try{return t.decode(e)}catch{throw new Error("Invalid extended key: Value is not base58-encoded, or the checksum is invalid.")}};n.encodeBase58check=e=>(0,s.base58check)(c.sha256).encode(e);n.getFingerprint=(e,t)=>{if(!g(e,t))throw new Error(`Invalid public key: The key must be a ${t}-byte, non-zero byte array.`);const n=(0,c.ripemd160)((0,c.sha256)(e));return(0,i.createDataView)(n).getUint32(0,!1)},n.mnemonicPhraseToBytes=function(e){const t=e.split(" ").map(e=>{const t=r.wordlist.indexOf(e);return(0,i.assert)(-1!==t,`Invalid mnemonic phrase: Unknown word "${e}".`),t});return new Uint8Array(new Uint16Array(t).buffer)},n.validateCurve=function(e){if(!e||"string"!=typeof e)throw new Error("Invalid curve: Must specify a curve.");if(!Object.keys(u.curves).includes(e))throw new Error(`Invalid curve: Only the following curves are supported: ${Object.keys(u.curves).join(", ")}.`)},n.numberToUint32=function(e,t=!1){const n=new Uint8Array(4);return(0,i.createDataView)(n).setUint32(0,e,t),n},n.isWebCryptoSupported=function(){return Boolean(globalThis.crypto?.subtle)},n.validateNetwork=function(e){if(e!==undefined){if("string"!=typeof e)throw new Error("Invalid network: Must be a string if specified.");if(!["mainnet","testnet"].includes(e))throw new Error('Invalid network: Must be either "mainnet" or "testnet" if specified.')}},n.getBIP44CoinType=function(e){const t=e[a.BIP_44_COIN_TYPE_DEPTH].split(":")[1]?.replace("'","");(0,i.assert)(t,"Invalid derivation path: Coin type is not specified.");const n=Number.parseInt(t,10);return(0,i.assert)(y(n),"Invalid derivation path: Coin type is not a valid integer."),n}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/utils.cjs"}],[1969,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountOptionsStruct=n.KeyringAccountEntropyOptionsStruct=n.KeyringAccountEntropyPrivateKeyOptionsStruct=n.KeyringAccountEntropyMnemonicOptionsStruct=n.KeyringAccountEntropyTypeOption=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");var a;!function(e){e.Mnemonic="mnemonic",e.PrivateKey="private-key"}(a||(n.KeyringAccountEntropyTypeOption=a={})),n.KeyringAccountEntropyMnemonicOptionsStruct=(0,i.object)({type:(0,i.literal)(`${a.Mnemonic}`),id:(0,i.string)(),derivationPath:(0,i.string)(),groupIndex:(0,i.number)()}),n.KeyringAccountEntropyPrivateKeyOptionsStruct=(0,i.object)({type:(0,i.literal)(`${a.PrivateKey}`)}),n.KeyringAccountEntropyOptionsStruct=(0,r.selectiveUnion)(e=>(0,s.isPlainObject)(e)&&e.type===a.PrivateKey?n.KeyringAccountEntropyPrivateKeyOptionsStruct:n.KeyringAccountEntropyMnemonicOptionsStruct),n.KeyringAccountOptionsStruct=(0,i.intersection)([(0,i.record)((0,i.string)(),s.JsonStruct),(0,r.type)({entropy:(0,r.exactOptional)(n.KeyringAccountEntropyOptionsStruct),exportable:(0,r.exactOptional)((0,i.boolean)())})])}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/account-options.cjs"}],[1970,{"./account-options.cjs":1969,"./caip.cjs":1974,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountStruct=n.AnyAccountType=n.TrxAccountType=n.SolAccountType=n.BtcAccountType=n.EthAccountType=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("./account-options.cjs"),a=e("./caip.cjs");var o,c,u,l,d;!function(e){e.Eoa="eip155:eoa",e.Erc4337="eip155:erc4337"}(o||(n.EthAccountType=o={})),function(e){e.P2pkh="bip122:p2pkh",e.P2sh="bip122:p2sh",e.P2wpkh="bip122:p2wpkh",e.P2tr="bip122:p2tr"}(c||(n.BtcAccountType=c={})),function(e){e.DataAccount="solana:data-account"}(u||(n.SolAccountType=u={})),function(e){e.Eoa="tron:eoa"}(l||(n.TrxAccountType=l={})),function(e){e.Account="any:account"}(d||(n.AnyAccountType=d={})),n.KeyringAccountStruct=(0,r.object)({id:r.AccountIdStruct,type:(0,i.enums)([`${o.Eoa}`,`${o.Erc4337}`,`${c.P2pkh}`,`${c.P2sh}`,`${c.P2wpkh}`,`${c.P2tr}`,`${u.DataAccount}`,`${l.Eoa}`,`${d.Account}`]),address:(0,i.string)(),scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),options:s.KeyringAccountOptionsStruct,methods:(0,i.array)((0,i.string)())})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/account.cjs"}],[1971,{"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ResolvedAccountAddressStruct=void 0;const r=e("@metamask/superstruct"),i=e("@metamask/utils");n.ResolvedAccountAddressStruct=(0,r.object)({address:i.CaipAccountIdStruct})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/address.cjs"}],[1972,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetStruct=n.NonFungibleAssetStruct=n.FungibleAssetStruct=n.FungibleAssetAmountStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");n.FungibleAssetAmountStruct=(0,r.object)({unit:(0,i.string)(),amount:r.StringNumberStruct}),n.FungibleAssetStruct=(0,r.object)({fungible:(0,i.literal)(!0),type:s.CaipAssetTypeStruct,...n.FungibleAssetAmountStruct.schema}),n.NonFungibleAssetStruct=(0,r.object)({fungible:(0,i.literal)(!1),id:s.CaipAssetIdStruct}),n.AssetStruct=(0,r.selectiveUnion)(e=>(0,s.isPlainObject)(e)&&!e.fungible?n.NonFungibleAssetStruct:n.FungibleAssetStruct)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/asset.cjs"}],[1973,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BalanceStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");n.BalanceStruct=(0,r.object)({amount:r.StringNumberStruct,unit:(0,i.string)()})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/balance.cjs"}],[1974,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CaipChainIdStruct=n.CaipAssetTypeOrIdStruct=n.CaipAssetTypeStruct=n.CaipAssetIdStruct=n.CaipAccountIdStruct=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"CaipAccountIdStruct",{enumerable:!0,get:function(){return r.CaipAccountIdStruct}}),Object.defineProperty(n,"CaipAssetIdStruct",{enumerable:!0,get:function(){return r.CaipAssetIdStruct}}),Object.defineProperty(n,"CaipAssetTypeStruct",{enumerable:!0,get:function(){return r.CaipAssetTypeStruct}}),Object.defineProperty(n,"CaipAssetTypeOrIdStruct",{enumerable:!0,get:function(){return r.CaipAssetTypeOrIdStruct}}),Object.defineProperty(n,"CaipChainIdStruct",{enumerable:!0,get:function(){return r.CaipChainIdStruct}})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/caip.cjs"}],[1975,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DerivationPathStruct=void 0;const r=e("@metamask/utils");n.DerivationPathStruct=(0,r.definePattern)("DerivationPath",/^m(?:\/\d+'?)+$/u)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/derivation.cjs"}],[1976,{"./caip.cjs":1974,"./derivation.cjs":1975,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DiscoveredAccountStruct=n.DiscoveredBip44AccountStruct=n.DiscoveredAccountType=void 0;const r=e("@metamask/superstruct"),i=e("./caip.cjs"),s=e("./derivation.cjs");var a;!function(e){e.Bip44="bip44"}(a||(n.DiscoveredAccountType=a={})),n.DiscoveredBip44AccountStruct=(0,r.object)({type:(0,r.literal)(`${a.Bip44}`),scopes:(0,r.array)(i.CaipChainIdStruct),derivationPath:s.DerivationPathStruct}),n.DiscoveredAccountStruct=n.DiscoveredBip44AccountStruct}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/discovery.cjs"}],[1977,{"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountDataStruct=void 0;const r=e("@metamask/superstruct"),i=e("@metamask/utils");n.KeyringAccountDataStruct=(0,r.record)((0,r.string)(),i.JsonStruct)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/export.cjs"}],[1978,{"./account-options.cjs":1969,"./account.cjs":1970,"./address.cjs":1971,"./asset.cjs":1972,"./balance.cjs":1973,"./caip.cjs":1974,"./discovery.cjs":1976,"./export.cjs":1977,"./options.cjs":1979,"./pagination.cjs":1980,"./request.cjs":1981,"./response.cjs":1982,"./transaction.cjs":1983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./account.cjs"),n),i(e("./account-options.cjs"),n),i(e("./address.cjs"),n),i(e("./asset.cjs"),n),i(e("./balance.cjs"),n),i(e("./caip.cjs"),n),i(e("./discovery.cjs"),n),i(e("./export.cjs"),n),i(e("./request.cjs"),n),i(e("./response.cjs"),n),i(e("./transaction.cjs"),n),i(e("./pagination.cjs"),n),i(e("./options.cjs"),n)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/index.cjs"}],[1979,{"@metamask/keyring-utils":2040},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MetaMaskOptionsStruct=void 0;const r=e("@metamask/keyring-utils");n.MetaMaskOptionsStruct=(0,r.object)({metamask:(0,r.exactOptional)((0,r.object)({correlationId:r.UuidStruct}))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/options.cjs"}],[1980,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PaginationStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");n.PaginationStruct=(0,r.object)({limit:(0,i.number)(),next:(0,r.exactOptional)((0,i.nullable)((0,i.string)()))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/pagination.cjs"}],[1981,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringRequestStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");n.KeyringRequestStruct=(0,r.object)({id:r.UuidStruct,scope:(0,i.string)(),account:r.UuidStruct,origin:(0,i.string)(),request:(0,r.object)({method:(0,i.string)(),params:(0,r.exactOptional)((0,i.union)([(0,i.array)(s.JsonStruct),(0,i.record)((0,i.string)(),s.JsonStruct)]))})})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/request.cjs"}],[1982,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringResponseStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");n.KeyringResponseStruct=(0,i.union)([(0,r.object)({pending:(0,i.literal)(!0),redirect:(0,r.exactOptional)((0,r.object)({message:(0,r.exactOptional)((0,i.string)()),url:(0,r.exactOptional)((0,i.string)())}))}),(0,r.object)({pending:(0,i.literal)(!1),result:s.JsonStruct})])}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/response.cjs"}],[1983,{"./asset.cjs":1972,"./caip.cjs":1974,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionsPageStruct=n.TransactionStruct=n.TransactionEventStruct=n.TransactionType=n.TransactionStatus=n.FeeType=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("./asset.cjs"),a=e("./caip.cjs"),o=(0,r.object)({address:(0,i.string)(),asset:(0,i.nullable)(s.AssetStruct)});var c;!function(e){e.Base="base",e.Priority="priority"}(c||(n.FeeType=c={}));const u=(0,r.object)({type:(0,i.enums)([`${c.Base}`,`${c.Priority}`]),asset:s.AssetStruct});var l,d;!function(e){e.Submitted="submitted",e.Unconfirmed="unconfirmed",e.Confirmed="confirmed",e.Failed="failed"}(l||(n.TransactionStatus=l={})),function(e){e.Send="send",e.Receive="receive",e.Swap="swap",e.BridgeSend="bridge:send",e.BridgeReceive="bridge:receive",e.Unknown="unknown"}(d||(n.TransactionType=d={})),n.TransactionEventStruct=(0,r.object)({status:(0,i.enums)([`${l.Submitted}`,`${l.Unconfirmed}`,`${l.Confirmed}`,`${l.Failed}`]),timestamp:(0,i.nullable)((0,i.number)())}),n.TransactionStruct=(0,r.object)({id:(0,i.string)(),chain:a.CaipChainIdStruct,account:r.UuidStruct,status:(0,i.enums)([`${l.Submitted}`,`${l.Unconfirmed}`,`${l.Confirmed}`,`${l.Failed}`]),timestamp:(0,i.nullable)((0,i.number)()),type:(0,i.enums)([`${d.Send}`,`${d.Receive}`,`${d.Swap}`,`${d.BridgeSend}`,`${d.BridgeReceive}`,`${d.Unknown}`]),from:(0,i.array)(o),to:(0,i.array)(o),fees:(0,i.array)(u),events:(0,i.array)(n.TransactionEventStruct)}),n.TransactionsPageStruct=(0,r.object)({data:(0,i.array)(n.TransactionStruct),next:(0,i.nullable)((0,i.string)())})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/transaction.cjs"}],[1984,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.BtcScope=void 0,function(e){e.Mainnet="bip122:000000000019d6689c085ae165831e93",e.Testnet="bip122:000000000933ea01ad0ee984209779ba",e.Testnet4="bip122:00000000da84f2bafbbc53dee25a72ae",e.Signet="bip122:00000008819873e925422c1ff0f99f7c",e.Regtest="bip122:regtest"}(r||(n.BtcScope=r={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/btc/constants.cjs"}],[1985,{"./constants.cjs":1984,"./types.cjs":1986},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constants.cjs"),n),i(e("./types.cjs"),n)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/btc/index.cjs"}],[1986,{"../api/index.cjs":1978,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"bitcoin-address-validation":3649},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BtcP2trAccountStruct=n.BtcP2wpkhAccountStruct=n.BtcP2shAccountStruct=n.BtcP2pkhAccountStruct=n.BtcMethod=n.BtcP2trAddressStruct=n.BtcP2wpkhAddressStruct=n.BtcP2shAddressStruct=n.BtcP2pkhAddressStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("bitcoin-address-validation"),a=e("../api/index.cjs"),o=(e,t)=>{try{return(0,s.getAddressInfo)(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}};var c;n.BtcP2pkhAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2pkhAddressStruct",e=>o(e,s.AddressType.p2pkh)),n.BtcP2shAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2shAddressStruct",e=>o(e,s.AddressType.p2sh)),n.BtcP2wpkhAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2wpkhAddressStruct",e=>o(e,s.AddressType.p2wpkh)),n.BtcP2trAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2trAddressStruct",e=>o(e,s.AddressType.p2tr)),function(e){e.SignPsbt="signPsbt",e.ComputeFee="computeFee",e.FillPsbt="fillPsbt",e.BroadcastPsbt="broadcastPsbt",e.SendTransfer="sendTransfer",e.GetUtxo="getUtxo",e.ListUtxos="listUtxos",e.PublicDescriptor="publicDescriptor",e.SignMessage="signMessage"}(c||(n.BtcMethod=c={}));const u=(0,r.object)({...a.KeyringAccountStruct.schema,scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(c)))});n.BtcP2pkhAccountStruct=(0,r.object)({...u.schema,address:n.BtcP2pkhAddressStruct,type:(0,i.literal)(`${a.BtcAccountType.P2pkh}`)}),n.BtcP2shAccountStruct=(0,r.object)({...u.schema,address:n.BtcP2shAddressStruct,type:(0,i.literal)(`${a.BtcAccountType.P2sh}`)}),n.BtcP2wpkhAccountStruct=(0,r.object)({...u.schema,address:n.BtcP2wpkhAddressStruct,type:(0,i.literal)(`${a.BtcAccountType.P2wpkh}`)}),n.BtcP2trAccountStruct=(0,r.object)({...u.schema,address:n.BtcP2trAddressStruct,type:(0,i.literal)(`${a.BtcAccountType.P2tr}`)})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/btc/types.cjs"}],[1987,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.EthScope=void 0,function(e){e.Eoa="eip155:0",e.Mainnet="eip155:1",e.Testnet="eip155:11155111"}(r||(n.EthScope=r={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/constants.cjs"}],[1988,{"./types.cjs":1989},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./types.cjs"),n)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/erc4337/index.cjs"}],[1989,{"../types.cjs":1991,"@metamask/keyring-utils":2040},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EthUserOperationPatchStruct=n.EthBaseUserOperationStruct=n.EthBaseTransactionStruct=n.EthUserOperationStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("../types.cjs");n.EthUserOperationStruct=(0,r.object)({sender:i.EthAddressStruct,nonce:i.EthUint256Struct,initCode:i.EthBytesStruct,callData:i.EthBytesStruct,callGasLimit:i.EthUint256Struct,verificationGasLimit:i.EthUint256Struct,preVerificationGas:i.EthUint256Struct,maxFeePerGas:i.EthUint256Struct,maxPriorityFeePerGas:i.EthUint256Struct,paymasterAndData:i.EthBytesStruct,signature:i.EthBytesStruct}),n.EthBaseTransactionStruct=(0,r.object)({to:i.EthAddressStruct,value:i.EthUint256Struct,data:i.EthBytesStruct}),n.EthBaseUserOperationStruct=(0,r.object)({nonce:i.EthUint256Struct,initCode:i.EthBytesStruct,callData:i.EthBytesStruct,gasLimits:(0,r.exactOptional)((0,r.object)({callGasLimit:i.EthUint256Struct,verificationGasLimit:i.EthUint256Struct,preVerificationGas:i.EthUint256Struct})),dummyPaymasterAndData:i.EthBytesStruct,dummySignature:i.EthBytesStruct,bundlerUrl:r.UrlStruct}),n.EthUserOperationPatchStruct=(0,r.object)({paymasterAndData:i.EthBytesStruct,callGasLimit:(0,r.exactOptional)(i.EthUint256Struct),verificationGasLimit:(0,r.exactOptional)(i.EthUint256Struct),preVerificationGas:(0,r.exactOptional)(i.EthUint256Struct)})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/erc4337/types.cjs"}],[1990,{"./constants.cjs":1987,"./erc4337/index.cjs":1988,"./types.cjs":1991,"./utils.cjs":1992},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constants.cjs"),n),i(e("./erc4337/index.cjs"),n),i(e("./types.cjs"),n),i(e("./utils.cjs"),n)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/index.cjs"}],[1991,{"../api/index.cjs":1978,"./index.cjs":1990,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EthErc4337AccountStruct=n.EthEoaAccountStruct=n.EthMethod=n.EthUint256Struct=n.EthAddressStruct=n.EthBytesStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("./index.cjs"),o=e("../api/index.cjs");var c;n.EthBytesStruct=(0,s.definePattern)("EthBytes",/^0x[0-9a-f]*$/iu),n.EthAddressStruct=(0,s.definePattern)("EthAddress",/^0x[0-9a-f]{40}$/iu),n.EthUint256Struct=(0,s.definePattern)("EthUint256",/^0x([1-9a-f][0-9a-f]*|0)$/iu),function(e){e.PersonalSign="personal_sign",e.Sign="eth_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4",e.PrepareUserOperation="eth_prepareUserOperation",e.PatchUserOperation="eth_patchUserOperation",e.SignUserOperation="eth_signUserOperation"}(c||(n.EthMethod=c={})),n.EthEoaAccountStruct=(0,r.object)({...o.KeyringAccountStruct.schema,address:n.EthAddressStruct,type:(0,i.literal)(`${o.EthAccountType.Eoa}`),scopes:(0,i.nonempty)((0,i.array)((0,i.literal)(a.EthScope.Eoa))),methods:(0,i.array)((0,i.enums)([`${c.PersonalSign}`,`${c.Sign}`,`${c.SignTransaction}`,`${c.SignTypedDataV1}`,`${c.SignTypedDataV3}`,`${c.SignTypedDataV4}`]))}),n.EthErc4337AccountStruct=(0,r.object)({...o.KeyringAccountStruct.schema,address:n.EthAddressStruct,type:(0,i.literal)(`${o.EthAccountType.Erc4337}`),scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)([`${c.PersonalSign}`,`${c.Sign}`,`${c.SignTypedDataV1}`,`${c.SignTypedDataV3}`,`${c.SignTypedDataV4}`,`${c.PrepareUserOperation}`,`${c.PatchUserOperation}`,`${c.SignUserOperation}`]))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/types.cjs"}],[1992,{"../api/index.cjs":1978},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEvmAccountType=function(e){return e===r.EthAccountType.Eoa||e===r.EthAccountType.Erc4337};const r=e("../api/index.cjs")}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/utils.cjs"}],[1993,{"./api/index.cjs":1978,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountAssetListUpdatedEventStruct=n.AccountTransactionsUpdatedEventStruct=n.AccountBalancesUpdatedEventStruct=n.RequestRejectedEventStruct=n.RequestApprovedEventStruct=n.AccountDeletedEventStruct=n.AccountUpdatedEventStruct=n.AccountCreatedEventStruct=n.KeyringEvent=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("./api/index.cjs");var o;!function(e){e.AccountCreated="notify:accountCreated",e.AccountUpdated="notify:accountUpdated",e.AccountDeleted="notify:accountDeleted",e.RequestApproved="notify:requestApproved",e.RequestRejected="notify:requestRejected",e.AccountBalancesUpdated="notify:accountBalancesUpdated",e.AccountAssetListUpdated="notify:accountAssetListUpdated",e.AccountTransactionsUpdated="notify:accountTransactionsUpdated"}(o||(n.KeyringEvent=o={})),n.AccountCreatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountCreated}`),params:(0,r.object)({account:a.KeyringAccountStruct,accountNameSuggestion:(0,r.exactOptional)((0,i.string)()),displayConfirmation:(0,r.exactOptional)((0,i.boolean)()),displayAccountNameSuggestion:(0,r.exactOptional)((0,i.boolean)()),...a.MetaMaskOptionsStruct.schema})}),n.AccountUpdatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountUpdated}`),params:(0,r.object)({account:a.KeyringAccountStruct})}),n.AccountDeletedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountDeleted}`),params:(0,r.object)({id:r.UuidStruct})}),n.RequestApprovedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.RequestApproved}`),params:(0,r.object)({id:r.UuidStruct,result:s.JsonStruct})}),n.RequestRejectedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.RequestRejected}`),params:(0,r.object)({id:r.UuidStruct})}),n.AccountBalancesUpdatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountBalancesUpdated}`),params:(0,r.object)({balances:(0,i.record)(r.AccountIdStruct,(0,i.record)(s.CaipAssetTypeStruct,a.FungibleAssetAmountStruct))})}),n.AccountTransactionsUpdatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountTransactionsUpdated}`),params:(0,r.object)({transactions:(0,i.record)(r.AccountIdStruct,(0,i.array)(a.TransactionStruct))})}),n.AccountAssetListUpdatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountAssetListUpdated}`),params:(0,r.object)({assets:(0,i.record)(r.AccountIdStruct,(0,r.object)({added:(0,i.array)(s.CaipAssetTypeOrIdStruct),removed:(0,i.array)(s.CaipAssetTypeOrIdStruct)}))})})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/events.cjs"}],[1994,{"./api/index.cjs":1978,"./btc/index.cjs":1985,"./eth/index.cjs":1990,"./events.cjs":1993,"./rpc.cjs":1995,"./sol/index.cjs":1997,"./trx/index.cjs":2e3},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./api/index.cjs"),n),i(e("./btc/index.cjs"),n),i(e("./sol/index.cjs"),n),i(e("./eth/index.cjs"),n),i(e("./trx/index.cjs"),n),i(e("./rpc.cjs"),n),i(e("./events.cjs"),n)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/index.cjs"}],[1995,{"./api/index.cjs":1978,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RejectRequestResponseStruct=n.RejectRequestRequestStruct=n.ApproveRequestResponseStruct=n.ApproveRequestRequestStruct=n.SubmitRequestResponseStruct=n.SubmitRequestRequestStruct=n.GetRequestResponseStruct=n.GetRequestRequestStruct=n.ListRequestsResponseStruct=n.ListRequestsRequestStruct=n.ExportAccountResponseStruct=n.ExportAccountRequestStruct=n.DeleteAccountResponseStruct=n.DeleteAccountRequestStruct=n.UpdateAccountResponseStruct=n.UpdateAccountRequestStruct=n.FilterAccountChainsResponseStruct=n.FilterAccountChainsStruct=n.ResolveAccountAddressResponseStruct=n.ResolveAccountAddressRequestStruct=n.GetAccountBalancesResponseStruct=n.GetAccountBalancesRequestStruct=n.ListAccountAssetsResponseStruct=n.ListAccountAssetsRequestStruct=n.ListAccountTransactionsResponseStruct=n.ListAccountTransactionsRequestStruct=n.DiscoverAccountsResponseStruct=n.DiscoverAccountsRequestStruct=n.SetSelectedAccountsResponseStruct=n.SetSelectedAccountsRequestStruct=n.CreateAccountResponseStruct=n.CreateAccountRequestStruct=n.GetAccountResponseStruct=n.GetAccountRequestStruct=n.ListAccountsResponseStruct=n.ListAccountsRequestStruct=n.KeyringRpcMethod=void 0,n.isKeyringRpcMethod=function(e){return Object.values(o).includes(e)};const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("./api/index.cjs");var o;!function(e){e.ListAccounts="keyring_listAccounts",e.GetAccount="keyring_getAccount",e.CreateAccount="keyring_createAccount",e.DiscoverAccounts="keyring_discoverAccounts",e.ListAccountAssets="keyring_listAccountAssets",e.ListAccountTransactions="keyring_listAccountTransactions",e.GetAccountBalances="keyring_getAccountBalances",e.ResolveAccountAddress="keyring_resolveAccountAddress",e.FilterAccountChains="keyring_filterAccountChains",e.UpdateAccount="keyring_updateAccount",e.DeleteAccount="keyring_deleteAccount",e.ExportAccount="keyring_exportAccount",e.ListRequests="keyring_listRequests",e.GetRequest="keyring_getRequest",e.SubmitRequest="keyring_submitRequest",e.ApproveRequest="keyring_approveRequest",e.RejectRequest="keyring_rejectRequest",e.SetSelectedAccounts="keyring_setSelectedAccounts"}(o||(n.KeyringRpcMethod=o={}));const c={jsonrpc:(0,i.literal)("2.0"),id:(0,i.union)([(0,i.string)(),(0,i.number)(),(0,i.literal)(null)])};n.ListAccountsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_listAccounts")}),n.ListAccountsResponseStruct=(0,i.array)(a.KeyringAccountStruct),n.GetAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_getAccount"),params:(0,r.object)({id:r.UuidStruct})}),n.GetAccountResponseStruct=a.KeyringAccountStruct,n.CreateAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_createAccount"),params:(0,r.object)({options:(0,i.record)((0,i.string)(),s.JsonStruct)})}),n.CreateAccountResponseStruct=a.KeyringAccountStruct,n.SetSelectedAccountsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_setSelectedAccounts"),params:(0,r.object)({accounts:(0,i.array)((0,i.string)())})}),n.SetSelectedAccountsResponseStruct=(0,i.literal)(null),n.DiscoverAccountsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_discoverAccounts"),params:(0,r.object)({scopes:(0,i.array)(a.CaipChainIdStruct),entropySource:(0,i.string)(),groupIndex:(0,i.number)()})}),n.DiscoverAccountsResponseStruct=(0,i.array)(a.DiscoveredAccountStruct),n.ListAccountTransactionsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_listAccountTransactions"),params:(0,r.object)({id:r.UuidStruct,pagination:a.PaginationStruct})}),n.ListAccountTransactionsResponseStruct=a.TransactionsPageStruct,n.ListAccountAssetsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_listAccountAssets"),params:(0,r.object)({id:r.UuidStruct})}),n.ListAccountAssetsResponseStruct=(0,i.array)(a.CaipAssetTypeOrIdStruct),n.GetAccountBalancesRequestStruct=(0,r.object)({...c,method:(0,i.literal)(`${o.GetAccountBalances}`),params:(0,r.object)({id:r.UuidStruct,assets:(0,i.array)(a.CaipAssetTypeStruct)})}),n.GetAccountBalancesResponseStruct=(0,i.record)(a.CaipAssetTypeStruct,a.BalanceStruct),n.ResolveAccountAddressRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_resolveAccountAddress"),params:(0,r.object)({scope:a.CaipChainIdStruct,request:r.JsonRpcRequestStruct})}),n.ResolveAccountAddressResponseStruct=(0,i.nullable)((0,r.object)({address:a.CaipAccountIdStruct})),n.FilterAccountChainsStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_filterAccountChains"),params:(0,r.object)({id:r.UuidStruct,chains:(0,i.array)((0,i.string)())})}),n.FilterAccountChainsResponseStruct=(0,i.array)((0,i.string)()),n.UpdateAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_updateAccount"),params:(0,r.object)({account:a.KeyringAccountStruct})}),n.UpdateAccountResponseStruct=(0,i.literal)(null),n.DeleteAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_deleteAccount"),params:(0,r.object)({id:r.UuidStruct})}),n.DeleteAccountResponseStruct=(0,i.literal)(null),n.ExportAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_exportAccount"),params:(0,r.object)({id:r.UuidStruct})}),n.ExportAccountResponseStruct=a.KeyringAccountDataStruct,n.ListRequestsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_listRequests")}),n.ListRequestsResponseStruct=(0,i.array)(a.KeyringRequestStruct),n.GetRequestRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_getRequest"),params:(0,r.object)({id:r.UuidStruct})}),n.GetRequestResponseStruct=a.KeyringRequestStruct,n.SubmitRequestRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_submitRequest"),params:a.KeyringRequestStruct}),n.SubmitRequestResponseStruct=a.KeyringResponseStruct,n.ApproveRequestRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_approveRequest"),params:(0,r.object)({id:r.UuidStruct,data:(0,i.record)((0,i.string)(),s.JsonStruct)})}),n.ApproveRequestResponseStruct=(0,i.literal)(null),n.RejectRequestRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_rejectRequest"),params:(0,r.object)({id:r.UuidStruct})}),n.RejectRequestResponseStruct=(0,i.literal)(null)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/rpc.cjs"}],[1996,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.SolScope=void 0,function(e){e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}(r||(n.SolScope=r={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/sol/constants.cjs"}],[1997,{"./constants.cjs":1996,"./types.cjs":1998},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constants.cjs"),n),i(e("./types.cjs"),n)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/sol/index.cjs"}],[1998,{"../api/index.cjs":1978,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SolDataAccountStruct=n.SolMethod=n.SolAddressStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../api/index.cjs");var o;n.SolAddressStruct=(0,s.definePattern)("SolAddress",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu),function(e){e.SendAndConfirmTransaction="sendAndConfirmTransaction",e.SignAndSendTransaction="signAndSendTransaction",e.SignTransaction="signTransaction",e.SignMessage="signMessage",e.SignIn="signIn"}(o||(n.SolMethod=o={})),n.SolDataAccountStruct=(0,r.object)({...a.KeyringAccountStruct.schema,address:n.SolAddressStruct,type:(0,i.literal)(`${a.SolAccountType.DataAccount}`),scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(o)))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/sol/types.cjs"}],[1999,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.TrxScope=void 0,function(e){e.Mainnet="tron:728126428",e.Nile="tron:3448148188",e.Shasta="tron:2494104990"}(r||(n.TrxScope=r={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/trx/constants.cjs"}],[2,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=[{code:"am",name:"áŠ áˆ›áˆ­áŠ›"},{code:"ar",name:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"},{code:"bg",name:"Ð±ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸"},{code:"bn",name:"à¦¬à¦¾à¦‚à¦²à¦¾"},{code:"ca",name:"CatalÃ "},{code:"cs",name:"ÄŒeÅ¡tina"},{code:"da",name:"Dansk"},{code:"de",name:"Deutsch"},{code:"el",name:"ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬"},{code:"en",name:"English"},{code:"es",name:"EspaÃ±ol"},{code:"es_419",name:"EspaÃ±ol (Latin America)"},{code:"et",name:"Estonian"},{code:"fa",name:"ÙØ§Ø±Ø³ÛŒ"},{code:"fi",name:"Suomi"},{code:"fil",name:"Filipino"},{code:"fr",name:"FranÃ§ais"},{code:"gu",name:"àª—à«àªœàª°àª¾àª¤"},{code:"he",name:"×¢×‘×¨×™×ª"},{code:"hi",name:"à¤®à¤¾à¤¨à¤• à¤¹à¤¿à¤¨à¥à¤¦à¥€"},{code:"hn",name:"à¤¹à¤¿à¤¨à¥à¤¦à¥€"},{code:"hr",name:"Hrvatski"},{code:"ht",name:"KreyÃ²l ayisyen"},{code:"hu",name:"Magyar"},{code:"id",name:"Bahasa Indonesia"},{code:"it",name:"Italiano"},{code:"ja",name:"æ—¥æœ¬èªž"},{code:"kn",name:"à²•à²¨à³à²¨à²¡"},{code:"ko",name:"í•œêµ­ì–´"},{code:"lt",name:"LietuviÅ¡kai"},{code:"lv",name:"Latvian"},{code:"ml",name:"à´®à´²à´¯à´¾à´³à´‚"},{code:"mr",name:"à¤®à¤°à¤¾à¤ à¥€"},{code:"ms",name:"Malay"},{code:"nl",name:"Nederlands"},{code:"no",name:"Norwegian"},{code:"pl",name:"Polskie"},{code:"pt",name:"PortuguÃªs"},{code:"pt_BR",name:"PortuguÃªs (Brazillian)"},{code:"pt_PT",name:"PortuguÃªs (European)"},{code:"ro",name:"Limba romÃ¢nÄƒ"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹"},{code:"sk",name:"SlovenÄina"},{code:"sl",name:"SlovenÅ¡Äina"},{code:"sr",name:"ÑÑ€Ð¿ÑÐºÐ¸"},{code:"sv",name:"Svenska"},{code:"sw",name:"Swahili"},{code:"ta",name:"à®¤à®®à®¿à®´à¯"},{code:"te",name:"à°¤à±†à°²à±à°—à±"},{code:"th",name:"à¹„à¸—à¸¢"},{code:"tl",name:"Filipino"},{code:"tr",name:"TÃ¼rkÃ§e"},{code:"uk",name:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ° Ð¼Ð¾Ð²Ð°"},{code:"vi",name:"Tiáº¿ng Viá»‡t"},{code:"zh_CN",name:"ä¸­æ–‡(ç®€ä½“)"},{code:"zh_TW",name:"ä¸­æ–‡(ç¹é«”)"}]}}},{package:"$root$",file:"app/_locales/index.json"}],[2e3,{"./constants.cjs":1999,"./types.cjs":2001},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constants.cjs"),n),i(e("./types.cjs"),n)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/trx/index.cjs"}],[2001,{"../api/index.cjs":1978,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrxEoaAccountStruct=n.TrxMethod=n.TrxAddressStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../api/index.cjs");var o;n.TrxAddressStruct=(0,s.definePattern)("TrxAddress",/^T[1-9A-HJ-NP-Za-km-z]{33}$/iu),function(e){e.SignMessageV2="signMessageV2",e.VerifyMessageV2="verifyMessageV2"}(o||(n.TrxMethod=o={})),n.TrxEoaAccountStruct=(0,r.object)({...a.KeyringAccountStruct.schema,address:n.TrxAddressStruct,type:(0,i.literal)(`${a.TrxAccountType.Eoa}`),scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(o)))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/trx/types.cjs"}],[2002,{"./constants.cjs":2003,"@ethereumjs/util":605,"@metamask/base-controller":1222,"@metamask/browser-passworder":1257,"@metamask/eth-hd-keyring":1704,"@metamask/eth-sig-util":1833,"@metamask/eth-simple-keyring":1855,"@metamask/utils":2799,"async-mutex":3582,"ethereumjs-wallet":4029,lodash:4534,ulid:5326},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h,p,m,f,g,y,w,k,b,v,_,T,E,S,A,P,j,C,I,N,M,O,R,x,B,D,L,K,U,F,q=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),H=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&q(t,e,n);return H(t,e),t},G=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},V=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},W=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringController=n.getDefaultKeyringState=n.keyringBuilderFactory=n.SignTypedDataVersion=n.AccountImportStrategy=n.isCustodyKeyring=n.KeyringTypes=void 0;const z=e("@ethereumjs/util"),Y=e("@metamask/base-controller"),J=$(e("@metamask/browser-passworder")),X=e("@metamask/eth-hd-keyring"),Z=e("@metamask/eth-sig-util"),Q=W(e("@metamask/eth-simple-keyring")),ee=e("@metamask/utils"),te=e("async-mutex"),ne=$(e("ethereumjs-wallet")),re=e("lodash"),ie=e("ulid"),se=e("./constants.cjs"),ae="KeyringController";var oe;!function(e){e.simple="Simple Key Pair",e.hd="HD Key Tree",e.qr="QR Hardware Wallet Device",e.trezor="Trezor Hardware",e.oneKey="OneKey Hardware",e.ledger="Ledger Hardware",e.lattice="Lattice Hardware",e.snap="Snap Keyring"}(oe||(n.KeyringTypes=oe={}));var ce,ue;function le(e){const t=()=>new e;return t.type=e.type,t}n.isCustodyKeyring=e=>e.startsWith("Custody"),function(e){e.privateKey="privateKey",e.json="json"}(ce||(n.AccountImportStrategy=ce={})),function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(ue||(n.SignTypedDataVersion=ue={})),n.keyringBuilderFactory=le;const de=[le(Q.default),le(X.HdKeyring)];function he(e){if(!((0,ee.hasProperty)(e,"mnemonic")&&e.mnemonic instanceof Uint8Array))throw new Error("Can't get mnemonic bytes from keyring")}function pe(e){if(!("importKey"in e&&"function"==typeof e.importKey&&"decryptWithKey"in e&&"function"==typeof e.decryptWithKey&&"encryptWithKey"in e&&"function"==typeof e.encryptWithKey))throw new Error(se.KeyringControllerError.UnsupportedEncryptionKeyExport)}function me(e){if("string"!=typeof e)throw new Error(se.KeyringControllerError.WrongPasswordType);if(!e||!e.length)throw new Error(se.KeyringControllerError.InvalidEmptyPassword)}async function fe({keyring:e,metadata:t}){const n=await e.getAccounts();return{type:e.type,accounts:n.map(ge),metadata:t}}function ge(e){return function(e){return(0,ee.isStrictHexString)(e.toLowerCase())&&(0,ee.isValidHexAddress)(e)}(e)?(0,Z.normalize)(e):e}n.getDefaultKeyringState=()=>({isUnlocked:!1,keyrings:[]});class ye extends Y.BaseController{constructor(e){const{encryptor:t=J,keyringBuilders:p,messenger:m,state:f}=e;super({name:ae,metadata:{vault:{includeInStateLogs:!1,persist:!0,anonymous:!1,usedInUi:!1},isUnlocked:{includeInStateLogs:!0,persist:!1,anonymous:!0,usedInUi:!0},keyrings:{includeInStateLogs:!0,persist:!1,anonymous:!1,usedInUi:!0},encryptionKey:{includeInStateLogs:!1,persist:!1,anonymous:!1,usedInUi:!1},encryptionSalt:{includeInStateLogs:!1,persist:!1,anonymous:!1,usedInUi:!1}},messenger:m,state:{...(0,n.getDefaultKeyringState)(),...f}}),r.add(this),i.set(this,new te.Mutex),s.set(this,new te.Mutex),a.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),G(this,a,p?p.concat(de):de,"f"),G(this,o,t,"f"),G(this,u,[],"f"),G(this,l,[],"f"),G(this,c,Boolean(e.cacheEncryptionKey),"f"),V(this,c,"f")&&pe(t),V(this,r,"m",h).call(this)}async addNewAccount(e){return V(this,r,"m",B).call(this),V(this,r,"m",D).call(this,async()=>{const t=this.getKeyringsByType("HD Key Tree")[0];if(!t)throw new Error("No HD keyring found");const n=await t.getAccounts();if(e&&n.length!==e){if(e>n.length)throw new Error("Account out of sequence");const t=n[e];if(!t)throw new Error(`Can't find account at index ${e}`);return t}const[i]=await t.addAccounts(1);return await V(this,r,"m",w).call(this),i})}async addNewAccountForKeyring(e,t){return V(this,r,"m",B).call(this),V(this,r,"m",D).call(this,async()=>{const n=await V(this,r,"m",A).call(this);if(t&&n.length!==t){if(t>n.length)throw new Error("Account out of sequence");const e=n[t];return(0,ee.assertIsStrictHexString)(e),e}await e.addAccounts(1);const i=(await V(this,r,"m",A).call(this)).find(e=>!n.includes(e));return(0,ee.assertIsStrictHexString)(i),i})}async createNewVaultAndRestore(e,t){return V(this,r,"m",D).call(this,async()=>{me(e),await V(this,r,"m",y).call(this,e,{type:oe.hd,opts:{mnemonic:t,numberOfAccounts:1}})})}async createNewVaultAndKeychain(e){return V(this,r,"m",D).call(this,async()=>{(await V(this,r,"m",A).call(this)).length||await V(this,r,"m",y).call(this,e,{type:oe.hd})})}async addNewKeyring(e,t){return V(this,r,"m",B).call(this),V(this,r,"m",f).call(this,await V(this,r,"m",D).call(this,async()=>V(this,r,"m",j).call(this,e,t)))}async verifyPassword(e){if(!this.state.vault)throw new Error(se.KeyringControllerError.VaultError);await V(this,o,"f").decrypt(e,this.state.vault)}isUnlocked(){return this.state.isUnlocked}async exportSeedPhrase(e,t){V(this,r,"m",B).call(this),await this.verifyPassword(e);const n=V(this,r,"m",m).call(this,t);if(!n)throw new Error("Keyring not found");return he(n),n.mnemonic}async exportAccount(e,t){await this.verifyPassword(e);const n=await this.getKeyringForAccount(t);if(!n.exportAccount)throw new Error(se.KeyringControllerError.UnsupportedExportAccount);return await n.exportAccount(ge(t))}async getAccounts(){return V(this,r,"m",B).call(this),this.state.keyrings.reduce((e,t)=>e.concat(t.accounts),[])}async getEncryptionPublicKey(e,t){V(this,r,"m",B).call(this);const n=(0,Z.normalize)(e),i=await this.getKeyringForAccount(e);if(!i.getEncryptionPublicKey)throw new Error(se.KeyringControllerError.UnsupportedGetEncryptionPublicKey);return await i.getEncryptionPublicKey(n,t)}async decryptMessage(e){V(this,r,"m",B).call(this);const t=(0,Z.normalize)(e.from),n=await this.getKeyringForAccount(t);if(!n.decryptMessage)throw new Error(se.KeyringControllerError.UnsupportedDecryptMessage);return n.decryptMessage(t,e.data)}async getKeyringForAccount(e){V(this,r,"m",B).call(this);const t=ge(e),n=await Promise.all(V(this,u,"f").map(async({keyring:e})=>Promise.all([e,e.getAccounts()]))),i=n.filter(e=>e[1].map(ge).includes(t));if(i.length&&i[0]?.length)return i[0][0];let s="";throw n.length?i.length||(s="There are keyrings, but none match the address"):s="There are no keyrings",new Error(`${se.KeyringControllerError.NoKeyring}. Error info: ${s}`)}getKeyringsByType(e){return V(this,r,"m",B).call(this),V(this,u,"f").filter(({keyring:t})=>t.type===e).map(({keyring:e})=>e)}async persistAllKeyrings(){return V(this,r,"m",L).call(this,async()=>(V(this,r,"m",B).call(this),await V(this,r,"m",E).call(this),!0))}async importAccountWithStrategy(e,t){return V(this,r,"m",B).call(this),V(this,r,"m",D).call(this,async()=>{let n;switch(e){case ce.privateKey:const[r]=t;if(!r)throw new Error("Cannot import an empty key.");const i=(0,ee.add0x)(r);let s;try{s=(0,ee.hexToBytes)(i)}catch{throw new Error("Cannot import invalid private key.")}if(!(0,z.isValidPrivate)(s)||66!==(0,z.getBinarySize)(i))throw new Error("Cannot import invalid private key.");n=(0,ee.remove0x)(i);break;case ce.json:let a;const[o,c]=t;try{a=ne.thirdparty.fromEtherWallet(o,c)}catch(e){a=a||await ne.default.fromV3(o,c,!0)}n=(0,ee.bytesToHex)(a.getPrivateKey());break;default:throw new Error(`Unexpected import strategy: '${String(e)}'`)}const i=await V(this,r,"m",j).call(this,oe.simple,[n]);return(await i.getAccounts())[0]})}async removeAccount(e){V(this,r,"m",B).call(this),await V(this,r,"m",D).call(this,async()=>{const t=await this.getKeyringForAccount(e),n=0===this.state.keyrings.findIndex(t=>t.accounts.includes(e)),i=1===(await t.getAccounts()).length;if(n&&i)throw new Error(se.KeyringControllerError.LastAccountInPrimaryKeyring);if(!t.removeAccount)throw new Error(se.KeyringControllerError.UnsupportedRemoveAccount);t.removeAccount(e),i&&await V(this,r,"m",O).call(this)}),this.messagingSystem.publish(`${ae}:accountRemoved`,e)}async setLocked(){return V(this,r,"m",B).call(this),V(this,r,"m",L).call(this,async()=>{G(this,d,undefined,"f"),await V(this,r,"m",I).call(this),this.update(e=>{e.isUnlocked=!1,e.keyrings=[],delete e.encryptionKey,delete e.encryptionSalt}),this.messagingSystem.publish(`${ae}:lock`)})}async signMessage(e){if(V(this,r,"m",B).call(this),!e.data)throw new Error("Can't sign an empty message");const t=(0,Z.normalize)(e.from),n=await this.getKeyringForAccount(t);if(!n.signMessage)throw new Error(se.KeyringControllerError.UnsupportedSignMessage);return await n.signMessage(t,e.data)}async signEip7702Authorization(e){const t=(0,Z.normalize)(e.from),n=await this.getKeyringForAccount(t);if(!n.signEip7702Authorization)throw new Error(se.KeyringControllerError.UnsupportedSignEip7702Authorization);const{chainId:r,nonce:i}=e,s=(0,Z.normalize)(e.contractAddress);if(s===undefined)throw new Error(se.KeyringControllerError.MissingEip7702AuthorizationContractAddress);return await n.signEip7702Authorization(t,[r,s,i])}async signPersonalMessage(e){V(this,r,"m",B).call(this);const t=(0,Z.normalize)(e.from),n=await this.getKeyringForAccount(t);if(!n.signPersonalMessage)throw new Error(se.KeyringControllerError.UnsupportedSignPersonalMessage);const i=ge(e.data);return await n.signPersonalMessage(t,i)}async signTypedMessage(e,t){V(this,r,"m",B).call(this);try{if(![ue.V1,ue.V3,ue.V4].includes(t))throw new Error(`Unexpected signTypedMessage version: '${t}'`);const n=(0,Z.normalize)(e.from),r=await this.getKeyringForAccount(n);if(!r.signTypedData)throw new Error(se.KeyringControllerError.UnsupportedSignTypedMessage);return await r.signTypedData(n,t!==ue.V1&&"string"==typeof e.data?JSON.parse(e.data):e.data,{version:t})}catch(e){throw new Error(`Keyring Controller signTypedMessage: ${e}`)}}async signTransaction(e,t,n){V(this,r,"m",B).call(this);const i=(0,Z.normalize)(t),s=await this.getKeyringForAccount(i);if(!s.signTransaction)throw new Error(se.KeyringControllerError.UnsupportedSignTransaction);return await s.signTransaction(i,e,n)}async prepareUserOperation(e,t,n){V(this,r,"m",B).call(this);const i=(0,Z.normalize)(e),s=await this.getKeyringForAccount(i);if(!s.prepareUserOperation)throw new Error(se.KeyringControllerError.UnsupportedPrepareUserOperation);return await s.prepareUserOperation(i,t,n)}async patchUserOperation(e,t,n){V(this,r,"m",B).call(this);const i=(0,Z.normalize)(e),s=await this.getKeyringForAccount(i);if(!s.patchUserOperation)throw new Error(se.KeyringControllerError.UnsupportedPatchUserOperation);return await s.patchUserOperation(i,t,n)}async signUserOperation(e,t,n){V(this,r,"m",B).call(this);const i=(0,Z.normalize)(e),s=await this.getKeyringForAccount(i);if(!s.signUserOperation)throw new Error(se.KeyringControllerError.UnsupportedSignUserOperation);return await s.signUserOperation(i,t,n)}changePassword(e){return V(this,r,"m",B).call(this),V(this,d,"f")===e?Promise.resolve():V(this,r,"m",D).call(this,async()=>{me(e),G(this,d,e,"f"),V(this,c,"f")&&this.update(e=>{delete e.encryptionKey,delete e.encryptionSalt})})}async submitEncryptionKey(e,t){const{newMetadata:n}=await V(this,r,"m",L).call(this,async()=>{const n=await V(this,r,"m",T).call(this,undefined,e,t);return V(this,r,"m",x).call(this),n});try{await V(this,r,"m",L).call(this,async()=>{n&&await V(this,r,"m",E).call(this)})}catch(e){console.error("Failed to update vault during login:",e)}}async exportEncryptionKey(){return V(this,r,"m",B).call(this),await V(this,r,"m",U).call(this,async()=>{const{encryptionKey:e}=this.state;return function(e){if(!e)throw new Error(se.KeyringControllerError.EncryptionKeyNotSet)}(e),e})}async submitPassword(e){const{newMetadata:t}=await V(this,r,"m",L).call(this,async()=>{const t=await V(this,r,"m",T).call(this,e);return V(this,r,"m",x).call(this),t});try{await V(this,r,"m",L).call(this,async()=>{(t||V(this,r,"m",S).call(this))&&await V(this,r,"m",E).call(this)})}catch(e){console.error("Failed to update vault during login:",e)}}async verifySeedPhrase(e){return V(this,r,"m",B).call(this),V(this,r,"m",U).call(this,async()=>V(this,r,"m",w).call(this,e))}async withKeyring(e,t,n={createIfMissing:!1}){return V(this,r,"m",B).call(this),V(this,r,"m",D).call(this,async()=>{let i;if("address"in e?i=await this.getKeyringForAccount(e.address):"type"in e?(i=this.getKeyringsByType(e.type)[e.index||0],!i&&n.createIfMissing&&(i=await V(this,r,"m",j).call(this,e.type,n.createWithData))):"id"in e&&(i=V(this,r,"m",p).call(this,e.id)),!i)throw new Error(se.KeyringControllerError.KeyringNotFound);const s=await t({keyring:i,metadata:V(this,r,"m",f).call(this,i)});if(Object.is(s,i))throw new Error(se.KeyringControllerError.UnsafeDirectKeyringAccess);return s})}async getAccountKeyringType(e){V(this,r,"m",B).call(this);return(await this.getKeyringForAccount(e)).type}}async function we(e,t){const n=await e.acquire();try{return await t({releaseLock:n})}finally{n()}}function ke(){return{id:(0,ie.ulid)(),name:""}}n.KeyringController=ye,i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,r=new WeakSet,h=function(){this.messagingSystem.registerActionHandler(`${ae}:signMessage`,this.signMessage.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:signEip7702Authorization`,this.signEip7702Authorization.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:signPersonalMessage`,this.signPersonalMessage.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:signTypedMessage`,this.signTypedMessage.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:decryptMessage`,this.decryptMessage.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:getEncryptionPublicKey`,this.getEncryptionPublicKey.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:getAccounts`,this.getAccounts.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:getKeyringsByType`,this.getKeyringsByType.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:getKeyringForAccount`,this.getKeyringForAccount.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:persistAllKeyrings`,this.persistAllKeyrings.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:prepareUserOperation`,this.prepareUserOperation.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:patchUserOperation`,this.patchUserOperation.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:signUserOperation`,this.signUserOperation.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:addNewAccount`,this.addNewAccount.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:withKeyring`,this.withKeyring.bind(this)),this.messagingSystem.registerActionHandler(`${ae}:addNewKeyring`,this.addNewKeyring.bind(this))},p=function(e){return V(this,u,"f").find(({metadata:t})=>t.id===e)?.keyring},m=function(e){return e?V(this,r,"m",p).call(this,e):V(this,u,"f")[0]?.keyring},f=function(e){const t=V(this,u,"f").find(t=>t.keyring===e);if(!t)throw new Error(se.KeyringControllerError.KeyringNotFound);return t.metadata},g=function(e){return V(this,a,"f").find(t=>t.type===e)},y=async function(e,t){if(V(this,r,"m",K).call(this),"string"!=typeof e)throw new TypeError(se.KeyringControllerError.WrongPasswordType);this.update(e=>{delete e.encryptionKey,delete e.encryptionSalt}),G(this,d,e,"f"),await V(this,r,"m",I).call(this),await V(this,r,"m",P).call(this,t.type,t.opts),V(this,r,"m",x).call(this)},w=async function(e){V(this,r,"m",K).call(this);const t=V(this,r,"m",m).call(this,e);if(!t)throw new Error(se.KeyringControllerError.KeyringNotFound);if(t.type!==oe.hd)throw new Error(se.KeyringControllerError.UnsupportedVerifySeedPhrase);he(t);const n=t.mnemonic,i=await t.getAccounts();if(0===i.length)throw new Error("Cannot verify an empty keyring.");const s=V(this,r,"m",g).call(this,oe.hd)();await s.deserialize({mnemonic:n,numberOfAccounts:i.length});const a=await s.getAccounts();if(a.length!==i.length)throw new Error("Seed phrase imported incorrect number of accounts.");return a.forEach((e,t)=>{if(e.toLowerCase()!==i[t].toLowerCase())throw new Error("Seed phrase imported different accounts.")}),n},k=async function(){return Promise.all(V(this,u,"f").map(fe))},b=async function({includeUnsupported:e}={includeUnsupported:!0}){const t=await Promise.all(V(this,u,"f").map(async({keyring:e,metadata:t})=>({type:e.type,data:await e.serialize(),metadata:t})));return e&&t.push(...V(this,l,"f")),t},v=async function(){return{keyrings:await V(this,r,"m",b).call(this),password:V(this,d,"f")}},_=async function(e){await V(this,r,"m",I).call(this);const t=[];let n=!1;for(const i of e){const e=await V(this,r,"m",N).call(this,i);if(e){const{keyring:r,metadata:i}=e;t.push({keyring:r,metadata:i}),e.newMetadata&&(n=!0)}}return{keyrings:t,newMetadata:n}},T=async function(e,t,n){return V(this,r,"m",F).call(this,async()=>{const i=this.state.vault;if(!i)throw new Error(se.KeyringControllerError.VaultError);let s;const a={};if(V(this,c,"f"))if(pe(V(this,o,"f")),e){const t=await V(this,o,"f").decryptWithDetail(e,i);s=t.vault,G(this,d,e,"f"),a.encryptionKey=t.exportedKeyString,a.encryptionSalt=t.salt}else{const e=JSON.parse(i);if(n&&n!==e.salt)throw new Error(se.KeyringControllerError.ExpiredCredentials);if(n=e.salt,"string"!=typeof t)throw new TypeError(se.KeyringControllerError.WrongPasswordType);const r=await V(this,o,"f").importKey(t);s=await V(this,o,"f").decryptWithKey(r,e),a.encryptionKey=t,a.encryptionSalt=n}else{if("string"!=typeof e)throw new TypeError(se.KeyringControllerError.WrongPasswordType);s=await V(this,o,"f").decrypt(e,i),G(this,d,e,"f")}if("object"!=typeof(u=s)||!Array.isArray(u)||!u.every(e=>e.type&&(0,ee.isValidJson)(e.data)))throw new Error(se.KeyringControllerError.VaultDataError);var u;const{keyrings:l,newMetadata:h}=await V(this,r,"m",_).call(this,s),p=await V(this,r,"m",k).call(this);return this.update(e=>{e.keyrings=p,(a.encryptionKey||a.encryptionSalt)&&(e.encryptionKey=a.encryptionKey,e.encryptionSalt=a.encryptionSalt)}),{keyrings:l,newMetadata:h}})},E=function(){return V(this,r,"m",F).call(this,async()=>{await V(this,r,"m",R).call(this);const{encryptionKey:e,encryptionSalt:t,vault:n}=this.state,i=e&&n&&V(this,o,"f").isVaultUpdated?.(n);if(!V(this,d,"f")&&!e)throw new Error(se.KeyringControllerError.MissingCredentials);const s=await V(this,r,"m",b).call(this);if(!s.some(e=>e.type===oe.hd))throw new Error(se.KeyringControllerError.NoHdKeyring);const a={};if(V(this,c,"f")){if(pe(V(this,o,"f")),i){const n=await V(this,o,"f").importKey(e),r=await V(this,o,"f").encryptWithKey(n,s);r.salt=t,a.vault=JSON.stringify(r)}else if(V(this,d,"f")){const{vault:e,exportedKeyString:t}=await V(this,o,"f").encryptWithDetail(V(this,d,"f"),s);a.vault=e,a.encryptionKey=t}}else me(V(this,d,"f")),a.vault=await V(this,o,"f").encrypt(V(this,d,"f"),s);if(!a.vault)throw new Error(se.KeyringControllerError.MissingVaultData);const u=await V(this,r,"m",k).call(this);return this.update(e=>{e.vault=a.vault,e.keyrings=u,a.encryptionKey&&(e.encryptionKey=a.encryptionKey,e.encryptionSalt=JSON.parse(a.vault).salt)}),!0})},S=function(){const{vault:e}=this.state;return!!(e&&V(this,d,"f")&&V(this,o,"f").isVaultUpdated)&&!V(this,o,"f").isVaultUpdated(e)},A=async function(e=[]){const t=V(this,u,"f").map(({keyring:e})=>e);return(await Promise.all([...t,...e].map(async e=>e.getAccounts()))).reduce((e,t)=>e.concat(t),[]).map(ge)},P=async function(e,t){V(this,r,"m",K).call(this);const n=await V(this,r,"m",j).call(this,e,t),[i]=await n.getAccounts();if(!i)throw new Error(se.KeyringControllerError.NoFirstAccount);return i},j=async function(e,t){const n=await V(this,r,"m",C).call(this,e,t);return V(this,u,"f").push({keyring:n,metadata:ke()}),n},C=async function(e,t){V(this,r,"m",K).call(this);const n=V(this,r,"m",g).call(this,e);if(!n)throw new Error(`${se.KeyringControllerError.NoKeyringBuilder}. Keyring type: ${e}`);const i=n();if(t&&await i.deserialize(t),i.init&&await i.init(),!(e!==oe.hd||(0,ee.isObject)(t)&&t.mnemonic)){if(!i.generateRandomMnemonic)throw new Error(se.KeyringControllerError.UnsupportedGenerateRandomMnemonic);await i.generateRandomMnemonic(),await i.addAccounts(1)}return i},I=async function(){V(this,r,"m",K).call(this);for(const{keyring:e}of V(this,u,"f"))await V(this,r,"m",M).call(this,e);G(this,u,[],"f"),G(this,l,[],"f")},N=async function(e){V(this,r,"m",K).call(this);try{const{type:t,data:n,metadata:i}=e;let s=!1,a=i;const o=await V(this,r,"m",C).call(this,t,n);return await V(this,r,"m",R).call(this,[o]),a||(s=!0,a=ke()),V(this,u,"f").push({keyring:o,metadata:a}),{keyring:o,metadata:a,newMetadata:s}}catch(t){return console.error(t),V(this,l,"f").push(e),undefined}},M=async function(e){await(e.destroy?.())},O=async function(){V(this,r,"m",K).call(this);const e=[];await Promise.all(V(this,u,"f").map(async({keyring:t,metadata:n})=>{(await t.getAccounts()).length>0?e.push({keyring:t,metadata:n}):await V(this,r,"m",M).call(this,t)})),G(this,u,e,"f")},R=async function(e=[]){const t=await V(this,r,"m",A).call(this,e);if(new Set(t).size!==t.length)throw new Error(se.KeyringControllerError.DuplicatedAccount)},x=function(){V(this,r,"m",K).call(this),this.update(e=>{e.isUnlocked=!0}),this.messagingSystem.publish(`${ae}:unlock`)},B=function(){if(!this.state.isUnlocked)throw new Error(se.KeyringControllerError.ControllerLocked)},D=async function(e){return V(this,r,"m",L).call(this,async({releaseLock:t})=>{const n=JSON.stringify(await V(this,r,"m",v).call(this)),i=await e({releaseLock:t}),s=JSON.stringify(await V(this,r,"m",v).call(this));return(0,re.isEqual)(n,s)||await V(this,r,"m",E).call(this),i})},L=async function(e){return V(this,r,"m",U).call(this,async({releaseLock:t})=>{const n=await V(this,r,"m",b).call(this),i=V(this,d,"f");try{return await e({releaseLock:t})}catch(e){throw G(this,d,i,"f"),await V(this,r,"m",_).call(this,n),e}})},K=function(){if(!V(this,i,"f").isLocked())throw new Error(se.KeyringControllerError.ControllerLockRequired)},U=async function(e){return we(V(this,i,"f"),e)},F=async function(e){return V(this,r,"m",K).call(this),we(V(this,s,"f"),e)},n.default=ye}}},{package:"@metamask/keyring-controller",file:"node_modules/@metamask/keyring-controller/dist/KeyringController.cjs"}],[2003,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringControllerError=void 0,function(e){e.NoKeyring="KeyringController - No keyring found",e.KeyringNotFound="KeyringController - Keyring not found.",e.UnsafeDirectKeyringAccess="KeyringController - Returning keyring instances is unsafe",e.WrongPasswordType="KeyringController - Password must be of type string.",e.InvalidEmptyPassword="KeyringController - Password cannot be empty.",e.NoFirstAccount="KeyringController - First Account not found.",e.DuplicatedAccount="KeyringController - The account you are trying to import is a duplicate",e.VaultError="KeyringController - Cannot unlock without a previous vault.",e.VaultDataError="KeyringController - The decrypted vault has an unexpected shape.",e.UnsupportedEncryptionKeyExport="KeyringController - The encryptor does not support encryption key export.",e.UnsupportedGenerateRandomMnemonic="KeyringController - The current keyring does not support the method generateRandomMnemonic.",e.UnsupportedExportAccount="`KeyringController - The keyring for the current address does not support the method exportAccount",e.UnsupportedRemoveAccount="`KeyringController - The keyring for the current address does not support the method removeAccount",e.UnsupportedSignTransaction="KeyringController - The keyring for the current address does not support the method signTransaction.",e.UnsupportedSignMessage="KeyringController - The keyring for the current address does not support the method signMessage.",e.UnsupportedSignPersonalMessage="KeyringController - The keyring for the current address does not support the method signPersonalMessage.",e.UnsupportedSignEip7702Authorization="KeyringController - The keyring for the current address does not support the method signEip7702Authorization.",e.UnsupportedGetEncryptionPublicKey="KeyringController - The keyring for the current address does not support the method getEncryptionPublicKey.",e.UnsupportedDecryptMessage="KeyringController - The keyring for the current address does not support the method decryptMessage.",e.UnsupportedSignTypedMessage="KeyringController - The keyring for the current address does not support the method signTypedMessage.",e.UnsupportedGetAppKeyAddress="KeyringController - The keyring for the current address does not support the method getAppKeyAddress.",e.UnsupportedExportAppKeyForAddress="KeyringController - The keyring for the current address does not support the method exportAppKeyForAddress.",e.UnsupportedPrepareUserOperation="KeyringController - The keyring for the current address does not support the method prepareUserOperation.",e.UnsupportedPatchUserOperation="KeyringController - The keyring for the current address does not support the method patchUserOperation.",e.UnsupportedSignUserOperation="KeyringController - The keyring for the current address does not support the method signUserOperation.",e.UnsupportedVerifySeedPhrase="KeyringController - The keyring does not support the method verifySeedPhrase.",e.MissingEip7702AuthorizationContractAddress="KeyringController - The EIP-7702 Authorization is invalid. No contract address provided.",e.NoAccountOnKeychain="KeyringController - The keychain doesn't have accounts.",e.ControllerLocked="KeyringController - The operation cannot be completed while the controller is locked.",e.MissingCredentials="KeyringController - Cannot persist vault without password and encryption key",e.MissingVaultData="KeyringController - Cannot persist vault without vault information",e.ExpiredCredentials="KeyringController - Encryption key and salt provided are expired",e.NoKeyringBuilder="KeyringController - No keyringBuilder found for keyring",e.DataType="KeyringController - Incorrect data type provided",e.NoHdKeyring="KeyringController - No HD Keyring found",e.ControllerLockRequired="KeyringController - attempt to update vault during a non mutually exclusive operation",e.LastAccountInPrimaryKeyring="KeyringController - Last account in primary keyring cannot be removed",e.EncryptionKeyNotSet="KeyringController - Encryption key not set"}(r||(n.KeyringControllerError=r={}))}}},{package:"@metamask/keyring-controller",file:"node_modules/@metamask/keyring-controller/dist/constants.cjs"}],[2004,{"./KeyringController.cjs":2002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./KeyringController.cjs"),n)}}},{package:"@metamask/keyring-controller",file:"node_modules/@metamask/keyring-controller/dist/index.cjs"}],[2005,{"./v1.cjs":2006},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./v1.cjs"),n)}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/compatibility/index.cjs"}],[2006,{"@metamask/keyring-api":1994,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SubmitRequestResponseV1Struct=n.KeyringResponseV1Struct=n.KeyringRequestV1Struct=void 0,n.toKeyringRequestV1=function(e){const{origin:t,...n}=e;return n};const r=e("@metamask/keyring-api"),i=e("@metamask/superstruct");n.KeyringRequestV1Struct=(0,i.omit)(r.KeyringRequestStruct,["origin"]),n.KeyringResponseV1Struct=r.KeyringResponseStruct,n.SubmitRequestResponseV1Struct=n.KeyringResponseV1Struct}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/compatibility/v1.cjs"}],[2007,{"./compatibility/index.cjs":2005,"./types.cjs":2008,"./versions.cjs":2009},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./compatibility/index.cjs"),n),i(e("./types.cjs"),n),i(e("./versions.cjs"),n)}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/index.cjs"}],[2008,{"@metamask/keyring-api":1994,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InternalAccountStruct=n.InternalAccountStructs=n.InternalTrxEoaAccountStruct=n.InternalSolDataAccountStruct=n.InternalBtcP2trAccountStruct=n.InternalBtcP2wpkhAccountStruct=n.InternalBtcP2shAccountStruct=n.InternalBtcP2pkhAccountStruct=n.InternalEthErc4337AccountStruct=n.InternalEthEoaAccountStruct=n.InternalAccountMetadataStruct=void 0;const r=e("@metamask/keyring-api"),i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct");n.InternalAccountMetadataStruct=(0,i.object)({metadata:(0,i.object)({name:(0,s.string)(),nameLastUpdatedAt:(0,i.exactOptional)((0,s.number)()),snap:(0,i.exactOptional)((0,i.object)({id:(0,s.string)(),enabled:(0,s.boolean)(),name:(0,s.string)()})),lastSelected:(0,i.exactOptional)((0,s.number)()),importTime:(0,s.number)(),keyring:(0,i.object)({type:(0,s.string)()})})}),n.InternalEthEoaAccountStruct=(0,i.object)({...r.EthEoaAccountStruct.schema,...n.InternalAccountMetadataStruct.schema}),n.InternalEthErc4337AccountStruct=(0,i.object)({...r.EthErc4337AccountStruct.schema,...n.InternalAccountMetadataStruct.schema}),n.InternalBtcP2pkhAccountStruct=(0,i.object)({...r.BtcP2pkhAccountStruct.schema,...n.InternalAccountMetadataStruct.schema}),n.InternalBtcP2shAccountStruct=(0,i.object)({...r.BtcP2shAccountStruct.schema,...n.InternalAccountMetadataStruct.schema}),n.InternalBtcP2wpkhAccountStruct=(0,i.object)({...r.BtcP2wpkhAccountStruct.schema,...n.InternalAccountMetadataStruct.schema}),n.InternalBtcP2trAccountStruct=(0,i.object)({...r.BtcP2trAccountStruct.schema,...n.InternalAccountMetadataStruct.schema}),n.InternalSolDataAccountStruct=(0,i.object)({...r.SolDataAccountStruct.schema,...n.InternalAccountMetadataStruct.schema}),n.InternalTrxEoaAccountStruct=(0,i.object)({...r.TrxEoaAccountStruct.schema,...n.InternalAccountMetadataStruct.schema}),n.InternalAccountStructs={[`${r.EthAccountType.Eoa}`]:n.InternalEthEoaAccountStruct,[`${r.EthAccountType.Erc4337}`]:n.InternalEthErc4337AccountStruct,[`${r.BtcAccountType.P2pkh}`]:n.InternalBtcP2pkhAccountStruct,[`${r.BtcAccountType.P2sh}`]:n.InternalBtcP2shAccountStruct,[`${r.BtcAccountType.P2wpkh}`]:n.InternalBtcP2wpkhAccountStruct,[`${r.BtcAccountType.P2tr}`]:n.InternalBtcP2trAccountStruct,[`${r.SolAccountType.DataAccount}`]:n.InternalSolDataAccountStruct,[`${r.TrxAccountType.Eoa}`]:n.InternalTrxEoaAccountStruct},n.InternalAccountStruct=(0,i.object)({...r.KeyringAccountStruct.schema,...n.InternalAccountMetadataStruct.schema})}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/types.cjs"}],[2009,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringVersion=void 0,function(e){e.V1="v1",e.V2="v2"}(r||(n.KeyringVersion=r={}))}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/versions.cjs"}],[2010,{"@metamask/keyring-api":1994,"@metamask/keyring-internal-api":2007,"@metamask/keyring-snap-client":2015,"@metamask/keyring-utils":2040},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringInternalSnapClient=void 0;const l=e("@metamask/keyring-api"),d=e("@metamask/keyring-internal-api"),h=e("@metamask/keyring-snap-client"),p=e("@metamask/keyring-utils");class m{constructor(e,t,n,o){r.set(this,void 0),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c(this,s,e,"f"),c(this,r,t,"f"),c(this,i,n,"f"),c(this,a,o,"f")}async send(e){return u(this,s,"f").call("SnapController:handleRequest",{snapId:u(this,r,"f"),origin:u(this,i,"f"),handler:u(this,a,"f"),request:e})}}r=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakMap;class f extends h.KeyringClient{constructor({messenger:e,snapId:t="undefined",origin:n="metamask",handler:r="onKeyringRequest"}){super(new m(e,t,n,r)),o.set(this,void 0),c(this,o,e,"f")}withSnapId(e){return new f({messenger:u(this,o,"f"),snapId:e})}async submitRequestV1(e){return(0,p.strictMask)(await this.send({method:l.KeyringRpcMethod.SubmitRequest,params:e}),d.SubmitRequestResponseV1Struct)}}n.KeyringInternalSnapClient=f,o=new WeakMap}}},{package:"@metamask/keyring-internal-snap-client",file:"node_modules/@metamask/keyring-internal-snap-client/dist/KeyringInternalSnapClient.cjs"}],[2011,{"./KeyringInternalSnapClient.cjs":2010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./KeyringInternalSnapClient.cjs"),n)}}},{package:"@metamask/keyring-internal-snap-client",file:"node_modules/@metamask/keyring-internal-snap-client/dist/index.cjs"}],[2012,{"@metamask/keyring-api":1994,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,uuid:2016},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringClient=void 0;const a=e("@metamask/keyring-api"),o=e("@metamask/keyring-utils"),c=e("@metamask/superstruct"),u=e("uuid");n.KeyringClient=class{constructor(e){r.set(this,void 0),i(this,r,e,"f")}async send(e){return s(this,r,"f").send({jsonrpc:"2.0",id:(0,u.v4)(),...e})}async listAccounts(){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ListAccounts}),a.ListAccountsResponseStruct)}async getAccount(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.GetAccount,params:{id:e}}),a.GetAccountResponseStruct)}async getAccountBalances(e,t){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.GetAccountBalances,params:{id:e,assets:t}}),a.GetAccountBalancesResponseStruct)}async createAccount(e={}){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.CreateAccount,params:{options:e}}),a.CreateAccountResponseStruct)}async discoverAccounts(e,t,n){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.DiscoverAccounts,params:{scopes:e,entropySource:t,groupIndex:n}}),a.DiscoverAccountsResponseStruct)}async listAccountTransactions(e,t){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ListAccountTransactions,params:{id:e,pagination:t}}),a.ListAccountTransactionsResponseStruct)}async listAccountAssets(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ListAccountAssets,params:{id:e}}),a.ListAccountAssetsResponseStruct)}async resolveAccountAddress(e,t){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ResolveAccountAddress,params:{scope:e,request:t}}),a.ResolveAccountAddressResponseStruct)}async setSelectedAccounts(e){(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.SetSelectedAccounts,params:{accounts:e}}),a.SetSelectedAccountsResponseStruct)}async filterAccountChains(e,t){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.FilterAccountChains,params:{id:e,chains:t}}),a.FilterAccountChainsResponseStruct)}async updateAccount(e){(0,c.assert)(await this.send({method:a.KeyringRpcMethod.UpdateAccount,params:{account:e}}),a.UpdateAccountResponseStruct)}async deleteAccount(e){(0,c.assert)(await this.send({method:a.KeyringRpcMethod.DeleteAccount,params:{id:e}}),a.DeleteAccountResponseStruct)}async exportAccount(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ExportAccount,params:{id:e}}),a.ExportAccountResponseStruct)}async listRequests(){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ListRequests}),a.ListRequestsResponseStruct)}async getRequest(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.GetRequest,params:{id:e}}),a.GetRequestResponseStruct)}async submitRequest(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.SubmitRequest,params:e}),a.SubmitRequestResponseStruct)}async approveRequest(e,t={}){(0,c.assert)(await this.send({method:a.KeyringRpcMethod.ApproveRequest,params:{id:e,data:t}}),a.ApproveRequestResponseStruct)}async rejectRequest(e){(0,c.assert)(await this.send({method:a.KeyringRpcMethod.RejectRequest,params:{id:e}}),a.RejectRequestResponseStruct)}},r=new WeakMap}}},{package:"@metamask/keyring-snap-client",file:"node_modules/@metamask/keyring-snap-client/dist/KeyringClient.cjs"}],[2013,{"./KeyringClient.cjs":2012,"@metamask/keyring-api":1994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringPublicClient=n.KeyringPublicRpcMethod=void 0;const a=e("@metamask/keyring-api"),o=e("./KeyringClient.cjs");n.KeyringPublicRpcMethod=[a.KeyringRpcMethod.CreateAccount,a.KeyringRpcMethod.GetAccount,a.KeyringRpcMethod.UpdateAccount,a.KeyringRpcMethod.DeleteAccount,a.KeyringRpcMethod.ExportAccount,a.KeyringRpcMethod.ListAccounts,a.KeyringRpcMethod.FilterAccountChains,a.KeyringRpcMethod.GetRequest,a.KeyringRpcMethod.ApproveRequest,a.KeyringRpcMethod.RejectRequest,a.KeyringRpcMethod.ListRequests];n.KeyringPublicClient=class{constructor(e){r.set(this,void 0),i(this,r,new o.KeyringClient(e),"f")}async createAccount(e){return s(this,r,"f").createAccount(e)}async deleteAccount(e){return s(this,r,"f").deleteAccount(e)}async listAccounts(){return s(this,r,"f").listAccounts()}async getAccount(e){return s(this,r,"f").getAccount(e)}async getRequest(e){return s(this,r,"f").getRequest(e)}async listRequests(){return s(this,r,"f").listRequests()}async updateAccount(e){return s(this,r,"f").updateAccount(e)}async approveRequest(e,t){return s(this,r,"f").approveRequest(e,t)}async rejectRequest(e){return s(this,r,"f").rejectRequest(e)}async filterAccountChains(e,t){return s(this,r,"f").filterAccountChains(e,t)}async exportAccount(e){return s(this,r,"f").exportAccount(e)}},r=new WeakMap}}},{package:"@metamask/keyring-snap-client",file:"node_modules/@metamask/keyring-snap-client/dist/KeyringPublicClient.cjs"}],[2014,{"./KeyringPublicClient.cjs":2013},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringSnapRpcClient=n.SnapRpcSender=void 0;const o=e("./KeyringPublicClient.cjs");class c{constructor(e,t){r.set(this,void 0),i.set(this,void 0),s(this,r,e,"f"),s(this,i,t,"f")}async send(e){return a(this,i,"f").request({method:"wallet_invokeKeyring",params:{snapId:a(this,r,"f"),request:e}})}}n.SnapRpcSender=c,r=new WeakMap,i=new WeakMap;class u extends o.KeyringPublicClient{constructor(e,t){super(new c(e,t))}}n.KeyringSnapRpcClient=u}}},{package:"@metamask/keyring-snap-client",file:"node_modules/@metamask/keyring-snap-client/dist/KeyringSnapRpcClient.cjs"}],[2015,{"./KeyringClient.cjs":2012,"./KeyringPublicClient.cjs":2013,"./KeyringSnapRpcClient.cjs":2014},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./KeyringClient.cjs"),n),i(e("./KeyringSnapRpcClient.cjs"),n),i(e("./KeyringPublicClient.cjs"),n)}}},{package:"@metamask/keyring-snap-client",file:"node_modules/@metamask/keyring-snap-client/dist/index.cjs"}],[2016,{"./nil.js":2019,"./parse.js":2020,"./stringify.js":2024,"./v1.js":2025,"./v3.js":2026,"./v4.js":2028,"./v5.js":2029,"./validate.js":2030,"./version.js":2031},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return c.default}});var r=h(e("./v1.js")),i=h(e("./v3.js")),s=h(e("./v4.js")),a=h(e("./v5.js")),o=h(e("./nil.js")),c=h(e("./version.js")),u=h(e("./validate.js")),l=h(e("./stringify.js")),d=h(e("./parse.js"));function h(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/index.js"}],[2017,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,s,a){return i((o=i(i(t,e),i(r,a)))<<(c=s)|o>>>32-c,n);var o,c}function a(e,t,n,r,i,a,o){return s(t&n|~t&r,e,t,i,a,o)}function o(e,t,n,r,i,a,o){return s(t&r|n&~r,e,t,i,a,o)}function c(e,t,n,r,i,a,o){return s(t^n^r,e,t,i,a,o)}function u(e,t,n,r,i,a,o){return s(n^(t|~r),e,t,i,a,o)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let i=0;i<n;i+=8){const n=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let n=1732584193,s=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const r=n,h=s,p=l,m=d;n=a(n,s,l,d,e[t],7,-680876936),d=a(d,n,s,l,e[t+1],12,-389564586),l=a(l,d,n,s,e[t+2],17,606105819),s=a(s,l,d,n,e[t+3],22,-1044525330),n=a(n,s,l,d,e[t+4],7,-176418897),d=a(d,n,s,l,e[t+5],12,1200080426),l=a(l,d,n,s,e[t+6],17,-1473231341),s=a(s,l,d,n,e[t+7],22,-45705983),n=a(n,s,l,d,e[t+8],7,1770035416),d=a(d,n,s,l,e[t+9],12,-1958414417),l=a(l,d,n,s,e[t+10],17,-42063),s=a(s,l,d,n,e[t+11],22,-1990404162),n=a(n,s,l,d,e[t+12],7,1804603682),d=a(d,n,s,l,e[t+13],12,-40341101),l=a(l,d,n,s,e[t+14],17,-1502002290),s=a(s,l,d,n,e[t+15],22,1236535329),n=o(n,s,l,d,e[t+1],5,-165796510),d=o(d,n,s,l,e[t+6],9,-1069501632),l=o(l,d,n,s,e[t+11],14,643717713),s=o(s,l,d,n,e[t],20,-373897302),n=o(n,s,l,d,e[t+5],5,-701558691),d=o(d,n,s,l,e[t+10],9,38016083),l=o(l,d,n,s,e[t+15],14,-660478335),s=o(s,l,d,n,e[t+4],20,-405537848),n=o(n,s,l,d,e[t+9],5,568446438),d=o(d,n,s,l,e[t+14],9,-1019803690),l=o(l,d,n,s,e[t+3],14,-187363961),s=o(s,l,d,n,e[t+8],20,1163531501),n=o(n,s,l,d,e[t+13],5,-1444681467),d=o(d,n,s,l,e[t+2],9,-51403784),l=o(l,d,n,s,e[t+7],14,1735328473),s=o(s,l,d,n,e[t+12],20,-1926607734),n=c(n,s,l,d,e[t+5],4,-378558),d=c(d,n,s,l,e[t+8],11,-2022574463),l=c(l,d,n,s,e[t+11],16,1839030562),s=c(s,l,d,n,e[t+14],23,-35309556),n=c(n,s,l,d,e[t+1],4,-1530992060),d=c(d,n,s,l,e[t+4],11,1272893353),l=c(l,d,n,s,e[t+7],16,-155497632),s=c(s,l,d,n,e[t+10],23,-1094730640),n=c(n,s,l,d,e[t+13],4,681279174),d=c(d,n,s,l,e[t],11,-358537222),l=c(l,d,n,s,e[t+3],16,-722521979),s=c(s,l,d,n,e[t+6],23,76029189),n=c(n,s,l,d,e[t+9],4,-640364487),d=c(d,n,s,l,e[t+12],11,-421815835),l=c(l,d,n,s,e[t+15],16,530742520),s=c(s,l,d,n,e[t+2],23,-995338651),n=u(n,s,l,d,e[t],6,-198630844),d=u(d,n,s,l,e[t+7],10,1126891415),l=u(l,d,n,s,e[t+14],15,-1416354905),s=u(s,l,d,n,e[t+5],21,-57434055),n=u(n,s,l,d,e[t+12],6,1700485571),d=u(d,n,s,l,e[t+3],10,-1894986606),l=u(l,d,n,s,e[t+10],15,-1051523),s=u(s,l,d,n,e[t+1],21,-2054922799),n=u(n,s,l,d,e[t+8],6,1873313359),d=u(d,n,s,l,e[t+15],10,-30611744),l=u(l,d,n,s,e[t+6],15,-1560198380),s=u(s,l,d,n,e[t+13],21,1309151649),n=u(n,s,l,d,e[t+4],6,-145523070),d=u(d,n,s,l,e[t+11],10,-1120210379),l=u(l,d,n,s,e[t+2],15,718787259),s=u(s,l,d,n,e[t+9],21,-343485551),n=i(n,r),s=i(s,h),l=i(l,p),d=i(d,m)}return[n,s,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};n.default=l}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/md5-browser.js"}],[2018,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};n.default=r}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/native-browser.js"}],[2019,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/nil.js"}],[2020,{"./validate.js":2030},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};n.default=s}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/parse.js"}],[2021,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/regex.js"}],[2022,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){let r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};const i=new Uint8Array(16)}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/rng-browser.js"}],[2023,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,a=Math.ceil(s/16),o=new Array(a);for(let t=0;t<a;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];o[t]=n}o[a-1][14]=8*(e.length-1)/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=o[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let a=n[0],c=n[1],u=n[2],l=n[3],d=n[4];for(let e=0;e<80;++e){const n=Math.floor(e/20),o=i(a,5)+r(n,c,u,l)+d+t[n]+s[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=a,a=o}n[0]=n[0]+a>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+u>>>0,n[3]=n[3]+l>>>0,n[4]=n[4]+d>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};n.default=s}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/sha1-browser.js"}],[2024,{"./validate.js":2030},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.unsafeStringify=a;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function a(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var o=function(e,t=0){const n=a(e,t);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n};n.default=o}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/stringify.js"}],[2025,{"./rng.js":2022,"./stringify.js":2024},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./rng.js"))&&r.__esModule?r:{default:r},s=e("./stringify.js");let a,o,c=0,u=0;var l=function(e,t,n){let r=t&&n||0;const l=t||new Array(16);let d=(e=e||{}).node||a,h=e.clockseq!==undefined?e.clockseq:o;if(null==d||null==h){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=o=16383&(t[6]<<8|t[7]))}let p=e.msecs!==undefined?e.msecs:Date.now(),m=e.nsecs!==undefined?e.nsecs:u+1;const f=p-c+(m-u)/1e4;if(f<0&&e.clockseq===undefined&&(h=h+1&16383),(f<0||p>c)&&e.nsecs===undefined&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=m,o=h,p+=122192928e5;const g=(1e4*(268435455&p)+m)%4294967296;l[r++]=g>>>24&255,l[r++]=g>>>16&255,l[r++]=g>>>8&255,l[r++]=255&g;const y=p/4294967296*1e4&268435455;l[r++]=y>>>8&255,l[r++]=255&y,l[r++]=y>>>24&15|16,l[r++]=y>>>16&255,l[r++]=h>>>8|128,l[r++]=255&h;for(let e=0;e<6;++e)l[r+e]=d[e];return t||(0,s.unsafeStringify)(l)};n.default=l}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v1.js"}],[2026,{"./md5.js":2017,"./v35.js":2027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v3",48,i.default);n.default=a}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v3.js"}],[2027,{"./parse.js":2020,"./stringify.js":2024},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.URL=n.DNS=void 0,n.default=function(e,t,n){function r(e,r,a,o){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,s.default)(r)),16!==(null===(c=r)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(r),u.set(e,r.length),u=n(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){o=o||0;for(let e=0;e<16;++e)a[o+e]=u[e];return a}return(0,i.unsafeStringify)(u)}try{r.name=e}catch(e){}return r.DNS=a,r.URL=o,r};var r,i=e("./stringify.js"),s=(r=e("./parse.js"))&&r.__esModule?r:{default:r};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=a;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=o}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v35.js"}],[2028,{"./native.js":2018,"./rng.js":2022,"./stringify.js":2024},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("./native.js")),i=a(e("./rng.js")),s=e("./stringify.js");function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,s.unsafeStringify)(a)};n.default=o}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v4.js"}],[2029,{"./sha1.js":2023,"./v35.js":2027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v5",80,i.default);n.default=a}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v5.js"}],[2030,{"./regex.js":2021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./regex.js"))&&r.__esModule?r:{default:r};var s=function(e){return"string"==typeof e&&i.default.test(e)};n.default=s}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/validate.js"}],[2031,{"./validate.js":2030},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};n.default=s}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/version.js"}],[2032,{"./methods.cjs":2033,"./rpc-handler.cjs":2034,"./snap-utils.cjs":2035,"./time.cjs":2036},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./rpc-handler.cjs"),n),i(e("./snap-utils.cjs"),n),i(e("./time.cjs"),n),i(e("./methods.cjs"),n)}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/index.cjs"}],[2033,{"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GetSelectedAccountsResponseStruct=n.GetSelectedAccountsRequestStruct=n.SnapManageAccountsMethod=void 0;const r=e("@metamask/superstruct");var i;!function(e){e.GetSelectedAccounts="getSelectedAccounts"}(i||(n.SnapManageAccountsMethod=i={})),n.GetSelectedAccountsRequestStruct=(0,r.object)({method:(0,r.literal)(i.GetSelectedAccounts)}),n.GetSelectedAccountsResponseStruct=(0,r.array)((0,r.string)())}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/methods.cjs"}],[2034,{"@metamask/keyring-api":1994,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MethodNotSupportedError=void 0,n.handleKeyringRequest=async function(e,t){try{return await async function(e,t){switch((0,s.assert)(t,i.JsonRpcRequestStruct),t.method){case`${r.KeyringRpcMethod.ListAccounts}`:return(0,s.assert)(t,r.ListAccountsRequestStruct),e.listAccounts();case`${r.KeyringRpcMethod.GetAccount}`:return(0,s.assert)(t,r.GetAccountRequestStruct),e.getAccount(t.params.id);case`${r.KeyringRpcMethod.CreateAccount}`:return(0,s.assert)(t,r.CreateAccountRequestStruct),e.createAccount(t.params.options);case`${r.KeyringRpcMethod.DiscoverAccounts}`:if(e.discoverAccounts===undefined)throw new a(t.method);return(0,s.assert)(t,r.DiscoverAccountsRequestStruct),e.discoverAccounts(t.params.scopes,t.params.entropySource,t.params.groupIndex);case`${r.KeyringRpcMethod.ListAccountTransactions}`:if(e.listAccountTransactions===undefined)throw new a(t.method);return(0,s.assert)(t,r.ListAccountTransactionsRequestStruct),e.listAccountTransactions(t.params.id,t.params.pagination);case`${r.KeyringRpcMethod.ListAccountAssets}`:if(e.listAccountAssets===undefined)throw new a(t.method);return(0,s.assert)(t,r.ListAccountAssetsRequestStruct),e.listAccountAssets(t.params.id);case`${r.KeyringRpcMethod.GetAccountBalances}`:if(e.getAccountBalances===undefined)throw new a(t.method);return(0,s.assert)(t,r.GetAccountBalancesRequestStruct),e.getAccountBalances(t.params.id,t.params.assets);case`${r.KeyringRpcMethod.ResolveAccountAddress}`:if(e.resolveAccountAddress===undefined)throw new a(t.method);return(0,s.assert)(t,r.ResolveAccountAddressRequestStruct),e.resolveAccountAddress(t.params.scope,t.params.request);case`${r.KeyringRpcMethod.SetSelectedAccounts}`:if(e.setSelectedAccounts===undefined)throw new a(t.method);return(0,s.assert)(t,r.SetSelectedAccountsRequestStruct),e.setSelectedAccounts(t.params.accounts);case`${r.KeyringRpcMethod.FilterAccountChains}`:return(0,s.assert)(t,r.FilterAccountChainsStruct),e.filterAccountChains(t.params.id,t.params.chains);case`${r.KeyringRpcMethod.UpdateAccount}`:return(0,s.assert)(t,r.UpdateAccountRequestStruct),e.updateAccount(t.params.account);case`${r.KeyringRpcMethod.DeleteAccount}`:return(0,s.assert)(t,r.DeleteAccountRequestStruct),e.deleteAccount(t.params.id);case`${r.KeyringRpcMethod.ExportAccount}`:if(e.exportAccount===undefined)throw new a(t.method);return(0,s.assert)(t,r.ExportAccountRequestStruct),e.exportAccount(t.params.id);case`${r.KeyringRpcMethod.ListRequests}`:if(e.listRequests===undefined)throw new a(t.method);return(0,s.assert)(t,r.ListRequestsRequestStruct),e.listRequests();case`${r.KeyringRpcMethod.GetRequest}`:if(e.getRequest===undefined)throw new a(t.method);return(0,s.assert)(t,r.GetRequestRequestStruct),e.getRequest(t.params.id);case`${r.KeyringRpcMethod.SubmitRequest}`:return(0,s.assert)(t,r.SubmitRequestRequestStruct),e.submitRequest(t.params);case`${r.KeyringRpcMethod.ApproveRequest}`:if(e.approveRequest===undefined)throw new a(t.method);return(0,s.assert)(t,r.ApproveRequestRequestStruct),e.approveRequest(t.params.id,t.params.data);case`${r.KeyringRpcMethod.RejectRequest}`:if(e.rejectRequest===undefined)throw new a(t.method);return(0,s.assert)(t,r.RejectRequestRequestStruct),e.rejectRequest(t.params.id);default:throw new a(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&"string"==typeof e.message?e.message:"An unknown error occurred while handling the keyring request";throw new Error(t)}};const r=e("@metamask/keyring-api"),i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct");class a extends Error{constructor(e){super(`Method not supported: ${e}`)}}n.MethodNotSupportedError=a}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/rpc-handler.cjs"}],[2035,{"./methods.cjs":2033,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.emitSnapKeyringEvent=async function(e,t,n){await e.request({method:"snap_manageAccounts",params:{method:t,params:{...n}}})},n.getSelectedAccounts=async function(e){const t=await e.request({method:"snap_manageAccounts",params:{method:i.SnapManageAccountsMethod.GetSelectedAccounts}});return(0,r.assert)(t,i.GetSelectedAccountsResponseStruct),t};const r=e("@metamask/superstruct"),i=e("./methods.cjs")}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/snap-utils.cjs"}],[2036,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return Math.floor(e.getTime()/1e3)}Object.defineProperty(n,"__esModule",{value:!0}),n.toUnixTimestamp=r,n.getCurrentUnixTimestamp=function(){return r(new Date)}}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/time.cjs"}],[2037,{"./index.cjs":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.JsonRpcRequestStruct=void 0;const r=e("@metamask/superstruct"),i=e("@metamask/utils"),s=e("./index.cjs");n.JsonRpcRequestStruct=(0,s.object)({jsonrpc:(0,r.literal)("2.0"),id:(0,r.union)([(0,r.string)(),(0,r.number)(),(0,r.literal)(null)]),method:(0,r.string)(),params:(0,s.exactOptional)((0,r.union)([(0,r.array)(i.JsonStruct),(0,r.record)((0,r.string)(),i.JsonStruct)]))})}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/JsonRpcRequest.cjs"}],[2038,{"bitcoin-address-validation":3649},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isBtcMainnetAddress=function(e){return(0,r.validate)(e,r.Network.mainnet)},n.isBtcTestnetAddress=function(e){return(0,r.validate)(e,r.Network.testnet)};const r=e("bitcoin-address-validation")}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/btc/address.cjs"}],[2039,{"./address.cjs":2038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./address.cjs"),n)}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/btc/index.cjs"}],[2040,{"./JsonRpcRequest.cjs":2037,"./btc/index.cjs":2039,"./scopes.cjs":2041,"./superstruct.cjs":2042,"./types.cjs":2043,"./typing.cjs":2044},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./btc/index.cjs"),n),i(e("./types.cjs"),n),i(e("./typing.cjs"),n),i(e("./scopes.cjs"),n),i(e("./superstruct.cjs"),n),i(e("./JsonRpcRequest.cjs"),n)}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/index.cjs"}],[2041,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ETH_SCOPE_EOA=void 0,n.isScopeEqual=s,n.isScopeEqualToAny=function(e,t){return t.some(t=>s(e,t))};const r=e("@metamask/utils");n.ETH_SCOPE_EOA=`${r.KnownCaipNamespace.Eip155}:0`;const i=`${r.KnownCaipNamespace.Eip155}:`;function s(e,t){const r=e===n.ETH_SCOPE_EOA,s=t===n.ETH_SCOPE_EOA;return r?t.startsWith(i):s?e.startsWith(i):e===t}}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/scopes.cjs"}],[2042,{"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.object=function(e){return(0,r.object)(e)},n.type=function(e){return(0,r.type)(e)},n.exactOptional=function(e){return new r.Struct({...e,validator:(t,n)=>!i(n)||e.validator(t,n),refiner:(t,n)=>!i(n)||e.refiner(t,n)})},n.strictMask=function(e,t,n){return(0,r.assert)(e,t,n),e},n.selectiveUnion=function(e){return new r.Struct({type:"union",schema:null,*entries(t,n){yield*e(t).entries(t,n)},*refiner(t,n){yield*e(t).refiner(t,n)},coercer:(t,n)=>e(t).coercer(t,n),validator:(t,n)=>e(t).validator(t,n)})};const r=e("@metamask/superstruct");function i(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/superstruct.cjs"}],[2043,{"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StringNumberStruct=n.UrlStruct=n.AccountIdStruct=n.UuidStruct=void 0;const r=e("@metamask/superstruct"),i=e("@metamask/utils");n.UuidStruct=(0,i.definePattern)("UuidV4",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),n.AccountIdStruct=n.UuidStruct,n.UrlStruct=(0,r.define)("Url",e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}}),n.StringNumberStruct=(0,i.definePattern)("StringNumber",/^\d+(\.\d+)?$/u)}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/types.cjs"}],[2044,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.expectTrue=function(){}}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/typing.cjs"}],[2045,{"@metamask/base-controller":1222,uuid:5366},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.LoggingController=void 0;const a=e("@metamask/base-controller"),o=e("uuid"),c="LoggingController",u={logs:{persist:!0,anonymous:!1}},l={logs:{}};class d extends a.BaseController{constructor({messenger:e,state:t}){super({name:c,metadata:u,messenger:e,state:{...l,...t}}),r.add(this),this.messagingSystem.registerActionHandler(`${c}:add`,e=>this.add(e))}add(e){const t={id:s(this,r,"m",i).call(this),timestamp:Date.now(),log:e};this.update(e=>{e.logs[t.id]=t})}clear(){this.update(e=>{e.logs={}})}}n.LoggingController=d,r=new WeakSet,i=function(){let e=(0,o.v1)();for(;e in this.state.logs;)e=(0,o.v1)();return e}}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/LoggingController.cjs"}],[2046,{"./LoggingController.cjs":2045,"./logTypes/index.cjs":2050},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./LoggingController.cjs"),n),i(e("./logTypes/index.cjs"),n)}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/index.cjs"}],[2047,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.SigningStage=n.SigningMethod=void 0,function(e){e.PersonalSign="personal_sign",e.EthSignTypedData="eth_signTypedData",e.EthSignTypedDataV3="eth_signTypedData_v3",e.EthSignTypedDataV4="eth_signTypedData_v4"}(r||(n.SigningMethod=r={})),function(e){e.Proposed="proposed",e.Rejected="rejected",e.Signed="signed"}(i||(n.SigningStage=i={}))}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/logTypes/EthSignLog.cjs"}],[2048,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/logTypes/GenericLog.cjs"}],[2049,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.LogType=void 0,function(e){e.GenericLog="GenericLog",e.EthSignLog="EthSignLog"}(r||(n.LogType=r={}))}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/logTypes/LogType.cjs"}],[2050,{"./EthSignLog.cjs":2047,"./GenericLog.cjs":2048,"./LogType.cjs":2049},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./EthSignLog.cjs"),n),i(e("./GenericLog.cjs"),n),i(e("./LogType.cjs"),n)}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/logTypes/index.cjs"}],[2060,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiERC1155=void 0,n.abiERC1155=[{inputs:[{internalType:"string",name:"uri_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC1155.js"}],[2061,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiERC20=void 0,n.abiERC20=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC20.js"}],[2062,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiERC721=void 0,n.abiERC721=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_approved",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"_symbol",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_approved",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_operator",type:"address"},{indexed:!1,name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC721.js"}],[2063,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiFiatTokenV2=void 0,n.abiFiatTokenV2=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/fiatTokenV2.js"}],[2064,{"./abis/abiERC1155":2060,"./abis/abiERC20":2061,"./abis/abiERC721":2062,"./abis/fiatTokenV2":2063},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.abiFiatTokenV2=n.abiERC1155=n.abiERC721=n.abiERC20=void 0;const r=e("./abis/abiERC20");Object.defineProperty(n,"abiERC20",{enumerable:!0,get:function(){return r.abiERC20}});const i=e("./abis/abiERC721");Object.defineProperty(n,"abiERC721",{enumerable:!0,get:function(){return i.abiERC721}});const s=e("./abis/abiERC1155");Object.defineProperty(n,"abiERC1155",{enumerable:!0,get:function(){return s.abiERC1155}});const a=e("./abis/fiatTokenV2");Object.defineProperty(n,"abiFiatTokenV2",{enumerable:!0,get:function(){return a.abiFiatTokenV2}})}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/index.js"}],[2091,{"../api/accounts-api.cjs":2093,"../constants.cjs":2094,"../types.cjs":2096,"../utils.cjs":2097,"@metamask/base-controller":1222,"@metamask/keyring-api":1994,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},p=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainNetworkController=void 0;const m=e("@metamask/base-controller"),f=e("@metamask/keyring-api"),g=e("@metamask/utils"),y=e("../api/accounts-api.cjs"),w=e("../constants.cjs"),k=e("../types.cjs"),b=e("../utils.cjs");class v extends m.BaseController{constructor({messenger:e,state:t,networkService:n}){super({messenger:e,name:k.MULTICHAIN_NETWORK_CONTROLLER_NAME,metadata:w.MULTICHAIN_NETWORK_CONTROLLER_METADATA,state:{...(0,w.getDefaultMultichainNetworkControllerState)(),...t,multichainNetworkConfigurationsByChainId:w.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS}}),r.add(this),i.set(this,void 0),h(this,i,n,"f"),p(this,r,"m",l).call(this),p(this,r,"m",d).call(this)}async setActiveNetwork(e){if((0,g.isCaipChainId)(e)){if(!(0,b.checkIfSupportedCaipChainId)(e))throw new Error(`Unsupported Caip chain ID: ${String(e)}`);return p(this,r,"m",a).call(this,e)}return await p(this,r,"m",s).call(this,e)}async getNetworksWithTransactionActivityByAccounts(){const e=this.messagingSystem.call("AccountsController:listMultichainAccounts").filter(e=>(0,f.isEvmAccountType)(e.type));if(!e||0===e.length)return this.state.networksWithTransactionActivity;const t=e.map(e=>(0,y.toAllowedCaipAccountIds)(e)).flat(),n=await p(this,i,"f").fetchNetworkActivity(t),r=(0,y.toActiveNetworksByAddress)(n);return this.update(e=>{e.networksWithTransactionActivity=r}),this.state.networksWithTransactionActivity}async removeNetwork(e){return(0,b.isEvmCaipChainId)(e)?await p(this,r,"m",o).call(this,e):p(this,r,"m",c).call(this,e)}}n.MultichainNetworkController=v,i=new WeakMap,r=new WeakSet,s=async function(e){const{selectedNetworkClientId:t}=this.messagingSystem.call("NetworkController:getState"),n=!this.state.isEvmSelected,r=e!==t;(n||r)&&(n&&this.update(e=>{e.isEvmSelected=!0}),r&&await this.messagingSystem.call("NetworkController:setActiveNetwork",e),(n||r)&&this.messagingSystem.publish("MultichainNetworkController:networkDidChange",e))},a=function(e){(e!==this.state.selectedMultichainNetworkChainId||this.state.isEvmSelected)&&(this.update(t=>{t.selectedMultichainNetworkChainId=e,t.isEvmSelected=!1}),this.messagingSystem.publish("MultichainNetworkController:networkDidChange",e))},o=async function(e){const t=(0,b.convertEvmCaipToHexChainId)(e);if(this.messagingSystem.call("NetworkController:getSelectedChainId")===t){if(this.state.isEvmSelected)throw new Error("Cannot remove the currently selected network");const e="0x1",t=this.messagingSystem.call("NetworkController:findNetworkClientIdByChainId",e);await this.messagingSystem.call("NetworkController:setActiveNetwork",t)}this.messagingSystem.call("NetworkController:removeNetwork",t)},c=function(e){throw new Error("Removal of non-EVM networks is not supported")},u=function(e){const{type:t,scopes:n}=e;if((0,f.isEvmAccountType)(t)){if(this.state.isEvmSelected)return;return void this.update(e=>{e.isEvmSelected=!0})}if(n.includes(this.state.selectedMultichainNetworkChainId))return void this.update(e=>{e.isEvmSelected=!1});const r=(0,b.getChainIdForNonEvm)(n);this.update(e=>{e.selectedMultichainNetworkChainId=r,e.isEvmSelected=!1})},l=function(){this.messagingSystem.subscribe("AccountsController:selectedAccountChange",e=>p(this,r,"m",u).call(this,e))},d=function(){this.messagingSystem.registerActionHandler("MultichainNetworkController:setActiveNetwork",this.setActiveNetwork.bind(this)),this.messagingSystem.registerActionHandler("MultichainNetworkController:getNetworksWithTransactionActivityByAccounts",this.getNetworksWithTransactionActivityByAccounts.bind(this))}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/MultichainNetworkController/MultichainNetworkController.cjs"}],[2092,{"../api/accounts-api.cjs":2093,"@metamask/superstruct":2705,lodash:4534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainNetworkService=void 0;const u=e("@metamask/superstruct"),l=e("lodash"),d=e("../api/accounts-api.cjs");n.MultichainNetworkService=class{constructor({fetch:e,batchSize:t}){r.add(this),i.set(this,void 0),s.set(this,void 0),o(this,i,e,"f"),o(this,s,t??20,"f")}async fetchNetworkActivity(e){if(0===e.length)return{activeNetworks:[]};if(e.length<=c(this,s,"f"))return c(this,r,"m",a).call(this,e);const t=(0,l.chunk)(e,c(this,s,"f"));return{activeNetworks:(await Promise.all(t.map(e=>c(this,r,"m",a).call(this,e)))).flatMap(e=>e.activeNetworks)}}},i=new WeakMap,s=new WeakMap,r=new WeakSet,a=async function(e){try{const t=(0,d.buildActiveNetworksUrl)(e),n=await c(this,i,"f").call(this,t.toString(),{method:"GET",headers:{[d.MULTICHAIN_ACCOUNTS_CLIENT_HEADER]:d.MULTICHAIN_ACCOUNTS_CLIENT_ID,Accept:"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return(0,u.assert)(r,d.ActiveNetworksResponseStruct),r}catch(e){if(e instanceof Error){if("AbortError"===e.name)throw new Error("Request timeout: Failed to fetch active networks");throw e}throw new Error(`Failed to fetch active networks: ${String(e)}`)}}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/MultichainNetworkService/MultichainNetworkService.cjs"}],[2093,{"@metamask/keyring-api":1994,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.buildActiveNetworksUrl=n.toActiveNetworksByAddress=n.toAllowedCaipAccountIds=n.MULTICHAIN_ALLOWED_ACTIVE_NETWORK_SCOPES=n.MULTICHAIN_ACCOUNTS_CLIENT_ID=n.MULTICHAIN_ACCOUNTS_CLIENT_HEADER=n.MULTICHAIN_ACCOUNTS_BASE_URL=n.ActiveNetworksResponseStruct=void 0;const r=e("@metamask/keyring-api"),i=e("@metamask/superstruct"),s=e("@metamask/utils");n.ActiveNetworksResponseStruct=(0,i.object)({activeNetworks:(0,i.array)(s.CaipAccountIdStruct)}),n.MULTICHAIN_ACCOUNTS_BASE_URL="https://accounts.api.cx.metamask.io",n.MULTICHAIN_ACCOUNTS_CLIENT_HEADER="x-metamask-clientproduct",n.MULTICHAIN_ACCOUNTS_CLIENT_ID="metamask-multichain-network-controller",n.MULTICHAIN_ALLOWED_ACTIVE_NETWORK_SCOPES=[String(r.BtcScope.Mainnet),String(r.BtcScope.Testnet),String(r.BtcScope.Testnet4),String(r.BtcScope.Signet),String(r.BtcScope.Regtest),String(r.SolScope.Mainnet),String(r.SolScope.Devnet),String(r.EthScope.Mainnet),String(r.EthScope.Testnet),String(r.EthScope.Eoa),String(r.TrxScope.Mainnet),String(r.TrxScope.Nile),String(r.TrxScope.Shasta)],n.toAllowedCaipAccountIds=function(e){const t=[];for(const r of e.scopes)n.MULTICHAIN_ALLOWED_ACTIVE_NETWORK_SCOPES.includes(r)&&t.push(`${r}:${e.address}`);return t},n.toActiveNetworksByAddress=function(e){const t={};return e.activeNetworks.forEach(e=>{const{address:n,chain:{namespace:r,reference:i}}=(0,s.parseCaipAccountId)(e);t[n]||(t[n]={namespace:r,activeChains:[]}),t[n].activeChains.push(i)}),t},n.buildActiveNetworksUrl=function(e){const t=new URL(`${n.MULTICHAIN_ACCOUNTS_BASE_URL}/v2/activeNetworks`);return t.searchParams.append("accountIds",e.join(",")),t}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/api/accounts-api.cjs"}],[2094,{"@metamask/keyring-api":1994,"@metamask/network-controller":2168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MULTICHAIN_NETWORK_DECIMAL_PLACES=n.MULTICHAIN_NETWORK_TICKER=n.MULTICHAIN_NETWORK_CONTROLLER_METADATA=n.getDefaultMultichainNetworkControllerState=n.NETWORKS_METADATA=n.NON_EVM_TESTNET_IDS=n.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS=n.TRX_SHASTA_NATIVE_ASSET=n.TRX_NILE_NATIVE_ASSET=n.TRX_NATIVE_ASSET=n.SOL_DEVNET_NATIVE_ASSET=n.SOL_TESTNET_NATIVE_ASSET=n.SOL_NATIVE_ASSET=n.BTC_REGTEST_NATIVE_ASSET=n.BTC_SIGNET_NATIVE_ASSET=n.BTC_TESTNET4_NATIVE_ASSET=n.BTC_TESTNET_NATIVE_ASSET=n.BTC_NATIVE_ASSET=void 0;const r=e("@metamask/keyring-api"),i=e("@metamask/network-controller");n.BTC_NATIVE_ASSET=`${r.BtcScope.Mainnet}/slip44:0`,n.BTC_TESTNET_NATIVE_ASSET=`${r.BtcScope.Testnet}/slip44:0`,n.BTC_TESTNET4_NATIVE_ASSET=`${r.BtcScope.Testnet4}/slip44:0`,n.BTC_SIGNET_NATIVE_ASSET=`${r.BtcScope.Signet}/slip44:0`,n.BTC_REGTEST_NATIVE_ASSET=`${r.BtcScope.Regtest}/slip44:0`,n.SOL_NATIVE_ASSET=`${r.SolScope.Mainnet}/slip44:501`,n.SOL_TESTNET_NATIVE_ASSET=`${r.SolScope.Testnet}/slip44:501`,n.SOL_DEVNET_NATIVE_ASSET=`${r.SolScope.Devnet}/slip44:501`,n.TRX_NATIVE_ASSET=`${r.TrxScope.Mainnet}/slip44:195`,n.TRX_NILE_NATIVE_ASSET=`${r.TrxScope.Nile}/slip44:195`,n.TRX_SHASTA_NATIVE_ASSET=`${r.TrxScope.Shasta}/slip44:195`,n.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS={[r.BtcScope.Mainnet]:{chainId:r.BtcScope.Mainnet,name:"Bitcoin",nativeCurrency:n.BTC_NATIVE_ASSET,isEvm:!1},[r.BtcScope.Testnet]:{chainId:r.BtcScope.Testnet,name:"Bitcoin Testnet",nativeCurrency:n.BTC_TESTNET_NATIVE_ASSET,isEvm:!1},[r.BtcScope.Testnet4]:{chainId:r.BtcScope.Testnet4,name:"Bitcoin Testnet4",nativeCurrency:n.BTC_TESTNET4_NATIVE_ASSET,isEvm:!1},[r.BtcScope.Signet]:{chainId:r.BtcScope.Signet,name:"Bitcoin Mutinynet",nativeCurrency:n.BTC_SIGNET_NATIVE_ASSET,isEvm:!1},[r.BtcScope.Regtest]:{chainId:r.BtcScope.Regtest,name:"Bitcoin Regtest",nativeCurrency:n.BTC_REGTEST_NATIVE_ASSET,isEvm:!1},[r.SolScope.Mainnet]:{chainId:r.SolScope.Mainnet,name:"Solana",nativeCurrency:n.SOL_NATIVE_ASSET,isEvm:!1},[r.SolScope.Testnet]:{chainId:r.SolScope.Testnet,name:"Solana Testnet",nativeCurrency:n.SOL_TESTNET_NATIVE_ASSET,isEvm:!1},[r.SolScope.Devnet]:{chainId:r.SolScope.Devnet,name:"Solana Devnet",nativeCurrency:n.SOL_DEVNET_NATIVE_ASSET,isEvm:!1},[r.TrxScope.Mainnet]:{chainId:r.TrxScope.Mainnet,name:"Tron",nativeCurrency:n.TRX_NATIVE_ASSET,isEvm:!1},[r.TrxScope.Nile]:{chainId:r.TrxScope.Nile,name:"Tron Nile",nativeCurrency:n.TRX_NILE_NATIVE_ASSET,isEvm:!1},[r.TrxScope.Shasta]:{chainId:r.TrxScope.Shasta,name:"Tron Shasta",nativeCurrency:n.TRX_SHASTA_NATIVE_ASSET,isEvm:!1}},n.NON_EVM_TESTNET_IDS=[r.BtcScope.Testnet,r.BtcScope.Testnet4,r.BtcScope.Signet,r.BtcScope.Regtest,r.SolScope.Testnet,r.SolScope.Devnet,r.TrxScope.Nile,r.TrxScope.Shasta],n.NETWORKS_METADATA={[r.BtcScope.Mainnet]:{features:[],status:i.NetworkStatus.Available},[r.SolScope.Mainnet]:{features:[],status:i.NetworkStatus.Available},[r.TrxScope.Mainnet]:{features:[],status:i.NetworkStatus.Available}};n.getDefaultMultichainNetworkControllerState=()=>({multichainNetworkConfigurationsByChainId:n.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS,selectedMultichainNetworkChainId:r.SolScope.Mainnet,isEvmSelected:!0,networksWithTransactionActivity:{}}),n.MULTICHAIN_NETWORK_CONTROLLER_METADATA={multichainNetworkConfigurationsByChainId:{includeInStateLogs:!0,persist:!0,anonymous:!0,usedInUi:!0},selectedMultichainNetworkChainId:{includeInStateLogs:!0,persist:!0,anonymous:!0,usedInUi:!0},isEvmSelected:{includeInStateLogs:!0,persist:!0,anonymous:!0,usedInUi:!0},networksWithTransactionActivity:{includeInStateLogs:!0,persist:!0,anonymous:!0,usedInUi:!0}},n.MULTICHAIN_NETWORK_TICKER={[r.BtcScope.Mainnet]:"BTC",[r.BtcScope.Testnet]:"tBTC",[r.BtcScope.Testnet4]:"tBTC",[r.BtcScope.Signet]:"sBTC",[r.BtcScope.Regtest]:"rBTC",[r.SolScope.Mainnet]:"SOL",[r.SolScope.Testnet]:"tSOL",[r.SolScope.Devnet]:"dSOL",[r.TrxScope.Mainnet]:"TRX",[r.TrxScope.Nile]:"tTRX",[r.TrxScope.Shasta]:"sTRX"},n.MULTICHAIN_NETWORK_DECIMAL_PLACES={[r.BtcScope.Mainnet]:8,[r.BtcScope.Testnet]:8,[r.BtcScope.Testnet4]:8,[r.BtcScope.Signet]:8,[r.BtcScope.Regtest]:8,[r.SolScope.Mainnet]:5,[r.SolScope.Testnet]:5,[r.SolScope.Devnet]:5,[r.TrxScope.Mainnet]:6,[r.TrxScope.Nile]:6,[r.TrxScope.Shasta]:6}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/constants.cjs"}],[2095,{"./MultichainNetworkController/MultichainNetworkController.cjs":2091,"./MultichainNetworkService/MultichainNetworkService.cjs":2092,"./constants.cjs":2094,"./utils.cjs":2097},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toEvmCaipChainId=n.toMultichainNetworkConfigurationsByChainId=n.toMultichainNetworkConfiguration=n.checkIfSupportedCaipChainId=n.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS=n.MULTICHAIN_NETWORK_DECIMAL_PLACES=n.MULTICHAIN_NETWORK_TICKER=n.NON_EVM_TESTNET_IDS=n.getDefaultMultichainNetworkControllerState=n.MultichainNetworkService=n.MultichainNetworkController=void 0;var r=e("./MultichainNetworkController/MultichainNetworkController.cjs");Object.defineProperty(n,"MultichainNetworkController",{enumerable:!0,get:function(){return r.MultichainNetworkController}});var i=e("./MultichainNetworkService/MultichainNetworkService.cjs");Object.defineProperty(n,"MultichainNetworkService",{enumerable:!0,get:function(){return i.MultichainNetworkService}});var s=e("./constants.cjs");Object.defineProperty(n,"getDefaultMultichainNetworkControllerState",{enumerable:!0,get:function(){return s.getDefaultMultichainNetworkControllerState}}),Object.defineProperty(n,"NON_EVM_TESTNET_IDS",{enumerable:!0,get:function(){return s.NON_EVM_TESTNET_IDS}}),Object.defineProperty(n,"MULTICHAIN_NETWORK_TICKER",{enumerable:!0,get:function(){return s.MULTICHAIN_NETWORK_TICKER}}),Object.defineProperty(n,"MULTICHAIN_NETWORK_DECIMAL_PLACES",{enumerable:!0,get:function(){return s.MULTICHAIN_NETWORK_DECIMAL_PLACES}}),Object.defineProperty(n,"AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS",{enumerable:!0,get:function(){return s.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS}});var a=e("./utils.cjs");Object.defineProperty(n,"checkIfSupportedCaipChainId",{enumerable:!0,get:function(){return a.checkIfSupportedCaipChainId}}),Object.defineProperty(n,"toMultichainNetworkConfiguration",{enumerable:!0,get:function(){return a.toMultichainNetworkConfiguration}}),Object.defineProperty(n,"toMultichainNetworkConfigurationsByChainId",{enumerable:!0,get:function(){return a.toMultichainNetworkConfigurationsByChainId}}),Object.defineProperty(n,"toEvmCaipChainId",{enumerable:!0,get:function(){return a.toEvmCaipChainId}})}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/index.cjs"}],[2096,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MULTICHAIN_NETWORK_CONTROLLER_NAME=void 0,n.MULTICHAIN_NETWORK_CONTROLLER_NAME="MultichainNetworkController"}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/types.cjs"}],[2097,{"./constants.cjs":2094,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isKnownCaipNamespace=n.toMultichainNetworkConfigurationsByChainId=n.toMultichainNetworkConfiguration=n.convertEvmCaipToHexChainId=n.toEvmCaipChainId=n.checkIfSupportedCaipChainId=n.getChainIdForNonEvm=n.isEvmCaipChainId=void 0;const r=e("@metamask/utils"),i=e("./constants.cjs");n.isEvmCaipChainId=function(e){const{namespace:t}=(0,r.parseCaipChainId)(e);return t===r.KnownCaipNamespace.Eip155},n.getChainIdForNonEvm=function(e){const t=e.find(e=>Object.keys(i.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS).includes(e));if(t)return t;throw new Error(`Unsupported scope: ${e.join(", ")}.`)},n.checkIfSupportedCaipChainId=function(e){return Object.keys(i.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS).includes(e)};n.toEvmCaipChainId=e=>(0,r.toCaipChainId)(r.KnownCaipNamespace.Eip155,(0,r.hexToNumber)(e).toString()),n.convertEvmCaipToHexChainId=function(e){const{namespace:t,reference:n}=(0,r.parseCaipChainId)(e);if(t===r.KnownCaipNamespace.Eip155)return(0,r.add0x)(parseInt(n,10).toString(16));throw new Error(`Unsupported CAIP chain ID namespace: ${t}. Only eip155 is supported.`)};n.toMultichainNetworkConfiguration=e=>{const{chainId:t,name:r,rpcEndpoints:i,defaultRpcEndpointIndex:s,nativeCurrency:a,blockExplorerUrls:o,defaultBlockExplorerUrlIndex:c}=e;return{chainId:(0,n.toEvmCaipChainId)(t),isEvm:!0,name:r||i[s].url,nativeCurrency:a,blockExplorerUrls:o,defaultBlockExplorerUrlIndex:c||0}};n.toMultichainNetworkConfigurationsByChainId=e=>Object.entries(e).reduce((e,[,t])=>({...e,[(0,n.toEvmCaipChainId)(t.chainId)]:(0,n.toMultichainNetworkConfiguration)(t)}),{}),n.isKnownCaipNamespace=function(e){return Object.values(r.KnownCaipNamespace).includes(e)}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/utils.cjs"}],[2098,{"@metamask/base-controller":1222,"@metamask/keyring-api":2126,"@metamask/keyring-snap-client":2137,"@metamask/snaps-utils":2677},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h,p=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainTransactionsController=n.getDefaultMultichainTransactionsControllerState=void 0;const m=e("@metamask/base-controller"),f=e("@metamask/keyring-api"),g=e("@metamask/keyring-snap-client"),y=e("@metamask/snaps-utils");function w(){return{nonEvmTransactions:{}}}n.getDefaultMultichainTransactionsControllerState=w;const k={nonEvmTransactions:{persist:!0,anonymous:!1}};class b extends m.BaseController{constructor({messenger:e,state:t}){super({messenger:e,name:"MultichainTransactionsController",metadata:k,state:{nonEvmTransactions:{},...t}}),r.add(this);for(const e of p(this,r,"m",s).call(this))this.updateTransactionsForAccount(e.id).catch(t=>{console.error(`Failed to fetch initial transactions for account ${e.id}:`,t)});this.messagingSystem.subscribe("AccountsController:accountAdded",e=>p(this,r,"m",c).call(this,e)),this.messagingSystem.subscribe("AccountsController:accountRemoved",e=>p(this,r,"m",u).call(this,e)),this.messagingSystem.subscribe("AccountsController:accountTransactionsUpdated",e=>p(this,r,"m",d).call(this,e))}async updateTransactionsForAccount(e){const{isUnlocked:t}=this.messagingSystem.call("KeyringController:getState");if(t)try{const t=p(this,r,"m",s).call(this).find(t=>t.id===e);if(t?.metadata.snap){const e=await p(this,r,"m",a).call(this,t.id,t.metadata.snap.id,{limit:10}),n={};e.data.forEach(e=>{const{chain:t}=e;n[t]||(n[t]=[]),n[t].push(e)});const i=Object.entries(n).map(([t,n])=>({chain:t,entry:{transactions:n,next:e.next,lastUpdated:Date.now()}}));this.update(e=>{e.nonEvmTransactions[t.id]||(e.nonEvmTransactions[t.id]={}),i.forEach(({chain:n,entry:r})=>{e.nonEvmTransactions[t.id][n]=r})})}}catch(t){console.error(`Failed to fetch transactions for account ${e}:`,t)}}}n.MultichainTransactionsController=b,r=new WeakSet,i=function(){return this.messagingSystem.call("AccountsController:listMultichainAccounts")},s=function(){return p(this,r,"m",i).call(this).filter(e=>p(this,r,"m",o).call(this,e))},a=async function(e,t,n){return await p(this,r,"m",h).call(this,t).listAccountTransactions(e,n)},o=function(e){return!(0,f.isEvmAccountType)(e.type)&&e.metadata.snap!==undefined},c=async function(e){p(this,r,"m",o).call(this,e)&&await this.updateTransactionsForAccount(e.id)},u=async function(e){e in this.state.nonEvmTransactions&&this.update(t=>{delete t.nonEvmTransactions[e]})},l=function(e){e.status===f.TransactionStatus.Confirmed&&this.messagingSystem.publish("MultichainTransactionsController:transactionConfirmed",e),e.status===f.TransactionStatus.Submitted&&this.messagingSystem.publish("MultichainTransactionsController:transactionSubmitted",e)},d=function(e){const t={},n=[];e?.transactions&&(Object.entries(e.transactions).forEach(([e,r])=>{t[e]={},r.forEach(r=>{const{chain:i}=r;t[e][i]||(t[e][i]=[]),t[e][i].push(r),n.push(r)}),Object.entries(t[e]).forEach(([n,r])=>{const i=this.state.nonEvmTransactions[e]?.[n]?.transactions??[],s=new Map;i.forEach(e=>{s.set(e.id,e)}),r.forEach(e=>{s.set(e.id,e)}),t[e][n]=Array.from(s.values()).sort((e,t)=>(t.timestamp??0)-(e.timestamp??0))})}),this.update(e=>{Object.entries(t).forEach(([t,n])=>{e.nonEvmTransactions[t]||(e.nonEvmTransactions[t]={}),Object.entries(n).forEach(([n,r])=>{e.nonEvmTransactions[t][n]={transactions:r,next:null,lastUpdated:Date.now()}})})}),n.forEach(e=>{p(this,r,"m",l).call(this,e)}))},h=function(e){return new g.KeyringClient({send:async t=>await this.messagingSystem.call("SnapController:handleRequest",{snapId:e,origin:"metamask",handler:y.HandlerType.OnKeyringRequest,request:t})})}}}},{package:"@metamask/multichain-transactions-controller",file:"node_modules/@metamask/multichain-transactions-controller/dist/MultichainTransactionsController.cjs"}],[2099,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainNativeAsset=n.MultichainNetwork=void 0,function(e){e.Bitcoin="bip122:000000000019d6689c085ae165831e93",e.BitcoinTestnet="bip122:000000000933ea01ad0ee984209779ba",e.Solana="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.SolanaDevnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.SolanaTestnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}(r||(n.MultichainNetwork=r={})),function(e){e.Bitcoin="bip122:000000000019d6689c085ae165831e93/slip44:0",e.BitcoinTestnet="bip122:000000000933ea01ad0ee984209779ba/slip44:0",e.Solana="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501",e.SolanaDevnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501",e.SolanaTestnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501"}(i||(n.MultichainNativeAsset=i={}))}}},{package:"@metamask/multichain-transactions-controller",file:"node_modules/@metamask/multichain-transactions-controller/dist/constants.cjs"}],[2100,{"./MultichainTransactionsController.cjs":2098,"./constants.cjs":2099},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainNativeAsset=n.MultichainNetwork=n.MultichainTransactionsController=void 0;var r=e("./MultichainTransactionsController.cjs");Object.defineProperty(n,"MultichainTransactionsController",{enumerable:!0,get:function(){return r.MultichainTransactionsController}});var i=e("./constants.cjs");Object.defineProperty(n,"MultichainNetwork",{enumerable:!0,get:function(){return i.MultichainNetwork}}),Object.defineProperty(n,"MultichainNativeAsset",{enumerable:!0,get:function(){return i.MultichainNativeAsset}})}}},{package:"@metamask/multichain-transactions-controller",file:"node_modules/@metamask/multichain-transactions-controller/dist/index.cjs"}],[2101,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountOptionsStruct=n.KeyringAccountEntropyOptionsStruct=n.KeyringAccountEntropyPrivateKeyOptionsStruct=n.KeyringAccountEntropyMnemonicOptionsStruct=n.KeyringAccountEntropyTypeOption=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");var a;!function(e){e.Mnemonic="mnemonic",e.PrivateKey="private-key"}(a||(n.KeyringAccountEntropyTypeOption=a={})),n.KeyringAccountEntropyMnemonicOptionsStruct=(0,i.object)({type:(0,i.literal)(`${a.Mnemonic}`),id:(0,i.string)(),derivationPath:(0,i.string)(),groupIndex:(0,i.number)()}),n.KeyringAccountEntropyPrivateKeyOptionsStruct=(0,i.object)({type:(0,i.literal)(`${a.PrivateKey}`)}),n.KeyringAccountEntropyOptionsStruct=(0,r.selectiveUnion)(e=>(0,s.isPlainObject)(e)&&e.type===a.PrivateKey?n.KeyringAccountEntropyPrivateKeyOptionsStruct:n.KeyringAccountEntropyMnemonicOptionsStruct),n.KeyringAccountOptionsStruct=(0,i.intersection)([(0,i.record)((0,i.string)(),s.JsonStruct),(0,r.type)({entropy:(0,r.exactOptional)(n.KeyringAccountEntropyOptionsStruct),exportable:(0,r.exactOptional)((0,i.boolean)())})])}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/account-options.cjs"}],[2102,{"./account-options.cjs":2101,"./caip.cjs":2106,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountStruct=n.AnyAccountType=n.TrxAccountType=n.SolAccountType=n.BtcAccountType=n.EthAccountType=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("./account-options.cjs"),a=e("./caip.cjs");var o,c,u,l,d;!function(e){e.Eoa="eip155:eoa",e.Erc4337="eip155:erc4337"}(o||(n.EthAccountType=o={})),function(e){e.P2pkh="bip122:p2pkh",e.P2sh="bip122:p2sh",e.P2wpkh="bip122:p2wpkh",e.P2tr="bip122:p2tr"}(c||(n.BtcAccountType=c={})),function(e){e.DataAccount="solana:data-account"}(u||(n.SolAccountType=u={})),function(e){e.Eoa="tron:eoa"}(l||(n.TrxAccountType=l={})),function(e){e.Account="any:account"}(d||(n.AnyAccountType=d={})),n.KeyringAccountStruct=(0,r.object)({id:r.AccountIdStruct,type:(0,i.enums)([`${o.Eoa}`,`${o.Erc4337}`,`${c.P2pkh}`,`${c.P2sh}`,`${c.P2wpkh}`,`${c.P2tr}`,`${u.DataAccount}`,`${l.Eoa}`,`${d.Account}`]),address:(0,i.string)(),scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),options:s.KeyringAccountOptionsStruct,methods:(0,i.array)((0,i.string)())})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/account.cjs"}],[2103,{"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ResolvedAccountAddressStruct=void 0;const r=e("@metamask/superstruct"),i=e("@metamask/utils");n.ResolvedAccountAddressStruct=(0,r.object)({address:i.CaipAccountIdStruct})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/address.cjs"}],[2104,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetStruct=n.NonFungibleAssetStruct=n.FungibleAssetStruct=n.FungibleAssetAmountStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");n.FungibleAssetAmountStruct=(0,r.object)({unit:(0,i.string)(),amount:r.StringNumberStruct}),n.FungibleAssetStruct=(0,r.object)({fungible:(0,i.literal)(!0),type:s.CaipAssetTypeStruct,...n.FungibleAssetAmountStruct.schema}),n.NonFungibleAssetStruct=(0,r.object)({fungible:(0,i.literal)(!1),id:s.CaipAssetIdStruct}),n.AssetStruct=(0,r.selectiveUnion)(e=>(0,s.isPlainObject)(e)&&!e.fungible?n.NonFungibleAssetStruct:n.FungibleAssetStruct)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/asset.cjs"}],[2105,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BalanceStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");n.BalanceStruct=(0,r.object)({amount:r.StringNumberStruct,unit:(0,i.string)()})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/balance.cjs"}],[2106,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CaipChainIdStruct=n.CaipAssetTypeOrIdStruct=n.CaipAssetTypeStruct=n.CaipAssetIdStruct=n.CaipAccountIdStruct=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"CaipAccountIdStruct",{enumerable:!0,get:function(){return r.CaipAccountIdStruct}}),Object.defineProperty(n,"CaipAssetIdStruct",{enumerable:!0,get:function(){return r.CaipAssetIdStruct}}),Object.defineProperty(n,"CaipAssetTypeStruct",{enumerable:!0,get:function(){return r.CaipAssetTypeStruct}}),Object.defineProperty(n,"CaipAssetTypeOrIdStruct",{enumerable:!0,get:function(){return r.CaipAssetTypeOrIdStruct}}),Object.defineProperty(n,"CaipChainIdStruct",{enumerable:!0,get:function(){return r.CaipChainIdStruct}})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/caip.cjs"}],[2107,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DerivationPathStruct=void 0;const r=e("@metamask/utils");n.DerivationPathStruct=(0,r.definePattern)("DerivationPath",/^m(?:\/\d+'?)+$/u)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/derivation.cjs"}],[2108,{"./caip.cjs":2106,"./derivation.cjs":2107,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DiscoveredAccountStruct=n.DiscoveredBip44AccountStruct=n.DiscoveredAccountType=void 0;const r=e("@metamask/superstruct"),i=e("./caip.cjs"),s=e("./derivation.cjs");var a;!function(e){e.Bip44="bip44"}(a||(n.DiscoveredAccountType=a={})),n.DiscoveredBip44AccountStruct=(0,r.object)({type:(0,r.literal)(`${a.Bip44}`),scopes:(0,r.array)(i.CaipChainIdStruct),derivationPath:s.DerivationPathStruct}),n.DiscoveredAccountStruct=n.DiscoveredBip44AccountStruct}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/discovery.cjs"}],[2109,{"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountDataStruct=void 0;const r=e("@metamask/superstruct"),i=e("@metamask/utils");n.KeyringAccountDataStruct=(0,r.record)((0,r.string)(),i.JsonStruct)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/export.cjs"}],[2110,{"./account-options.cjs":2101,"./account.cjs":2102,"./address.cjs":2103,"./asset.cjs":2104,"./balance.cjs":2105,"./caip.cjs":2106,"./discovery.cjs":2108,"./export.cjs":2109,"./options.cjs":2111,"./pagination.cjs":2112,"./request.cjs":2113,"./response.cjs":2114,"./transaction.cjs":2115},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./account.cjs"),n),i(e("./account-options.cjs"),n),i(e("./address.cjs"),n),i(e("./asset.cjs"),n),i(e("./balance.cjs"),n),i(e("./caip.cjs"),n),i(e("./discovery.cjs"),n),i(e("./export.cjs"),n),i(e("./request.cjs"),n),i(e("./response.cjs"),n),i(e("./transaction.cjs"),n),i(e("./pagination.cjs"),n),i(e("./options.cjs"),n)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/index.cjs"}],[2111,{"@metamask/keyring-utils":2040},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MetaMaskOptionsStruct=void 0;const r=e("@metamask/keyring-utils");n.MetaMaskOptionsStruct=(0,r.object)({metamask:(0,r.exactOptional)((0,r.object)({correlationId:r.UuidStruct}))})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/options.cjs"}],[2112,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PaginationStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");n.PaginationStruct=(0,r.object)({limit:(0,i.number)(),next:(0,r.exactOptional)((0,i.nullable)((0,i.string)()))})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/pagination.cjs"}],[2113,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringRequestStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");n.KeyringRequestStruct=(0,r.object)({id:r.UuidStruct,scope:(0,i.string)(),account:r.UuidStruct,origin:(0,i.string)(),request:(0,r.object)({method:(0,i.string)(),params:(0,r.exactOptional)((0,i.union)([(0,i.array)(s.JsonStruct),(0,i.record)((0,i.string)(),s.JsonStruct)]))})})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/request.cjs"}],[2114,{"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringResponseStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");n.KeyringResponseStruct=(0,i.union)([(0,r.object)({pending:(0,i.literal)(!0),redirect:(0,r.exactOptional)((0,r.object)({message:(0,r.exactOptional)((0,i.string)()),url:(0,r.exactOptional)((0,i.string)())}))}),(0,r.object)({pending:(0,i.literal)(!1),result:s.JsonStruct})])}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/response.cjs"}],[2115,{"./asset.cjs":2104,"./caip.cjs":2106,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionsPageStruct=n.TransactionStruct=n.TransactionEventStruct=n.TransactionType=n.TransactionStatus=n.FeeType=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("./asset.cjs"),a=e("./caip.cjs"),o=(0,r.object)({address:(0,i.string)(),asset:(0,i.nullable)(s.AssetStruct)});var c;!function(e){e.Base="base",e.Priority="priority"}(c||(n.FeeType=c={}));const u=(0,r.object)({type:(0,i.enums)([`${c.Base}`,`${c.Priority}`]),asset:s.AssetStruct});var l,d;!function(e){e.Submitted="submitted",e.Unconfirmed="unconfirmed",e.Confirmed="confirmed",e.Failed="failed"}(l||(n.TransactionStatus=l={})),function(e){e.Send="send",e.Receive="receive",e.Swap="swap",e.BridgeSend="bridge:send",e.BridgeReceive="bridge:receive",e.Unknown="unknown"}(d||(n.TransactionType=d={})),n.TransactionEventStruct=(0,r.object)({status:(0,i.enums)([`${l.Submitted}`,`${l.Unconfirmed}`,`${l.Confirmed}`,`${l.Failed}`]),timestamp:(0,i.nullable)((0,i.number)())}),n.TransactionStruct=(0,r.object)({id:(0,i.string)(),chain:a.CaipChainIdStruct,account:r.UuidStruct,status:(0,i.enums)([`${l.Submitted}`,`${l.Unconfirmed}`,`${l.Confirmed}`,`${l.Failed}`]),timestamp:(0,i.nullable)((0,i.number)()),type:(0,i.enums)([`${d.Send}`,`${d.Receive}`,`${d.Swap}`,`${d.BridgeSend}`,`${d.BridgeReceive}`,`${d.Unknown}`]),from:(0,i.array)(o),to:(0,i.array)(o),fees:(0,i.array)(u),events:(0,i.array)(n.TransactionEventStruct)}),n.TransactionsPageStruct=(0,r.object)({data:(0,i.array)(n.TransactionStruct),next:(0,i.nullable)((0,i.string)())})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/api/transaction.cjs"}],[2116,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.BtcScope=void 0,function(e){e.Mainnet="bip122:000000000019d6689c085ae165831e93",e.Testnet="bip122:000000000933ea01ad0ee984209779ba",e.Testnet4="bip122:00000000da84f2bafbbc53dee25a72ae",e.Signet="bip122:00000008819873e925422c1ff0f99f7c",e.Regtest="bip122:regtest"}(r||(n.BtcScope=r={}))}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/btc/constants.cjs"}],[2117,{"./constants.cjs":2116,"./types.cjs":2118},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constants.cjs"),n),i(e("./types.cjs"),n)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/btc/index.cjs"}],[2118,{"../api/index.cjs":2110,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"bitcoin-address-validation":3649},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BtcP2trAccountStruct=n.BtcP2wpkhAccountStruct=n.BtcP2shAccountStruct=n.BtcP2pkhAccountStruct=n.BtcMethod=n.BtcP2trAddressStruct=n.BtcP2wpkhAddressStruct=n.BtcP2shAddressStruct=n.BtcP2pkhAddressStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("bitcoin-address-validation"),a=e("../api/index.cjs"),o=(e,t)=>{try{return(0,s.getAddressInfo)(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}};var c;n.BtcP2pkhAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2pkhAddressStruct",e=>o(e,s.AddressType.p2pkh)),n.BtcP2shAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2shAddressStruct",e=>o(e,s.AddressType.p2sh)),n.BtcP2wpkhAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2wpkhAddressStruct",e=>o(e,s.AddressType.p2wpkh)),n.BtcP2trAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2trAddressStruct",e=>o(e,s.AddressType.p2tr)),function(e){e.SignPsbt="signPsbt",e.ComputeFee="computeFee",e.FillPsbt="fillPsbt",e.BroadcastPsbt="broadcastPsbt",e.SendTransfer="sendTransfer",e.GetUtxo="getUtxo",e.ListUtxos="listUtxos",e.PublicDescriptor="publicDescriptor",e.SignMessage="signMessage"}(c||(n.BtcMethod=c={}));const u=(0,r.object)({...a.KeyringAccountStruct.schema,scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(c)))});n.BtcP2pkhAccountStruct=(0,r.object)({...u.schema,address:n.BtcP2pkhAddressStruct,type:(0,i.literal)(`${a.BtcAccountType.P2pkh}`)}),n.BtcP2shAccountStruct=(0,r.object)({...u.schema,address:n.BtcP2shAddressStruct,type:(0,i.literal)(`${a.BtcAccountType.P2sh}`)}),n.BtcP2wpkhAccountStruct=(0,r.object)({...u.schema,address:n.BtcP2wpkhAddressStruct,type:(0,i.literal)(`${a.BtcAccountType.P2wpkh}`)}),n.BtcP2trAccountStruct=(0,r.object)({...u.schema,address:n.BtcP2trAddressStruct,type:(0,i.literal)(`${a.BtcAccountType.P2tr}`)})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/btc/types.cjs"}],[2119,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.EthScope=void 0,function(e){e.Eoa="eip155:0",e.Mainnet="eip155:1",e.Testnet="eip155:11155111"}(r||(n.EthScope=r={}))}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/eth/constants.cjs"}],[2120,{"./types.cjs":2121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./types.cjs"),n)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/eth/erc4337/index.cjs"}],[2121,{"../types.cjs":2123,"@metamask/keyring-utils":2040},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EthUserOperationPatchStruct=n.EthBaseUserOperationStruct=n.EthBaseTransactionStruct=n.EthUserOperationStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("../types.cjs");n.EthUserOperationStruct=(0,r.object)({sender:i.EthAddressStruct,nonce:i.EthUint256Struct,initCode:i.EthBytesStruct,callData:i.EthBytesStruct,callGasLimit:i.EthUint256Struct,verificationGasLimit:i.EthUint256Struct,preVerificationGas:i.EthUint256Struct,maxFeePerGas:i.EthUint256Struct,maxPriorityFeePerGas:i.EthUint256Struct,paymasterAndData:i.EthBytesStruct,signature:i.EthBytesStruct}),n.EthBaseTransactionStruct=(0,r.object)({to:i.EthAddressStruct,value:i.EthUint256Struct,data:i.EthBytesStruct}),n.EthBaseUserOperationStruct=(0,r.object)({nonce:i.EthUint256Struct,initCode:i.EthBytesStruct,callData:i.EthBytesStruct,gasLimits:(0,r.exactOptional)((0,r.object)({callGasLimit:i.EthUint256Struct,verificationGasLimit:i.EthUint256Struct,preVerificationGas:i.EthUint256Struct})),dummyPaymasterAndData:i.EthBytesStruct,dummySignature:i.EthBytesStruct,bundlerUrl:r.UrlStruct}),n.EthUserOperationPatchStruct=(0,r.object)({paymasterAndData:i.EthBytesStruct,callGasLimit:(0,r.exactOptional)(i.EthUint256Struct),verificationGasLimit:(0,r.exactOptional)(i.EthUint256Struct),preVerificationGas:(0,r.exactOptional)(i.EthUint256Struct)})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/eth/erc4337/types.cjs"}],[2122,{"./constants.cjs":2119,"./erc4337/index.cjs":2120,"./types.cjs":2123,"./utils.cjs":2124},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constants.cjs"),n),i(e("./erc4337/index.cjs"),n),i(e("./types.cjs"),n),i(e("./utils.cjs"),n)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/eth/index.cjs"}],[2123,{"../api/index.cjs":2110,"./index.cjs":2122,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EthErc4337AccountStruct=n.EthEoaAccountStruct=n.EthMethod=n.EthUint256Struct=n.EthAddressStruct=n.EthBytesStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("./index.cjs"),o=e("../api/index.cjs");var c;n.EthBytesStruct=(0,s.definePattern)("EthBytes",/^0x[0-9a-f]*$/iu),n.EthAddressStruct=(0,s.definePattern)("EthAddress",/^0x[0-9a-f]{40}$/iu),n.EthUint256Struct=(0,s.definePattern)("EthUint256",/^0x([1-9a-f][0-9a-f]*|0)$/iu),function(e){e.PersonalSign="personal_sign",e.Sign="eth_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4",e.PrepareUserOperation="eth_prepareUserOperation",e.PatchUserOperation="eth_patchUserOperation",e.SignUserOperation="eth_signUserOperation"}(c||(n.EthMethod=c={})),n.EthEoaAccountStruct=(0,r.object)({...o.KeyringAccountStruct.schema,address:n.EthAddressStruct,type:(0,i.literal)(`${o.EthAccountType.Eoa}`),scopes:(0,i.nonempty)((0,i.array)((0,i.literal)(a.EthScope.Eoa))),methods:(0,i.array)((0,i.enums)([`${c.PersonalSign}`,`${c.Sign}`,`${c.SignTransaction}`,`${c.SignTypedDataV1}`,`${c.SignTypedDataV3}`,`${c.SignTypedDataV4}`]))}),n.EthErc4337AccountStruct=(0,r.object)({...o.KeyringAccountStruct.schema,address:n.EthAddressStruct,type:(0,i.literal)(`${o.EthAccountType.Erc4337}`),scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)([`${c.PersonalSign}`,`${c.Sign}`,`${c.SignTypedDataV1}`,`${c.SignTypedDataV3}`,`${c.SignTypedDataV4}`,`${c.PrepareUserOperation}`,`${c.PatchUserOperation}`,`${c.SignUserOperation}`]))})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/eth/types.cjs"}],[2124,{"../api/index.cjs":2110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEvmAccountType=function(e){return e===r.EthAccountType.Eoa||e===r.EthAccountType.Erc4337};const r=e("../api/index.cjs")}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/eth/utils.cjs"}],[2125,{"./api/index.cjs":2110,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountAssetListUpdatedEventStruct=n.AccountTransactionsUpdatedEventStruct=n.AccountBalancesUpdatedEventStruct=n.RequestRejectedEventStruct=n.RequestApprovedEventStruct=n.AccountDeletedEventStruct=n.AccountUpdatedEventStruct=n.AccountCreatedEventStruct=n.KeyringEvent=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("./api/index.cjs");var o;!function(e){e.AccountCreated="notify:accountCreated",e.AccountUpdated="notify:accountUpdated",e.AccountDeleted="notify:accountDeleted",e.RequestApproved="notify:requestApproved",e.RequestRejected="notify:requestRejected",e.AccountBalancesUpdated="notify:accountBalancesUpdated",e.AccountAssetListUpdated="notify:accountAssetListUpdated",e.AccountTransactionsUpdated="notify:accountTransactionsUpdated"}(o||(n.KeyringEvent=o={})),n.AccountCreatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountCreated}`),params:(0,r.object)({account:a.KeyringAccountStruct,accountNameSuggestion:(0,r.exactOptional)((0,i.string)()),displayConfirmation:(0,r.exactOptional)((0,i.boolean)()),displayAccountNameSuggestion:(0,r.exactOptional)((0,i.boolean)()),...a.MetaMaskOptionsStruct.schema})}),n.AccountUpdatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountUpdated}`),params:(0,r.object)({account:a.KeyringAccountStruct})}),n.AccountDeletedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountDeleted}`),params:(0,r.object)({id:r.UuidStruct})}),n.RequestApprovedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.RequestApproved}`),params:(0,r.object)({id:r.UuidStruct,result:s.JsonStruct})}),n.RequestRejectedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.RequestRejected}`),params:(0,r.object)({id:r.UuidStruct})}),n.AccountBalancesUpdatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountBalancesUpdated}`),params:(0,r.object)({balances:(0,i.record)(r.AccountIdStruct,(0,i.record)(s.CaipAssetTypeStruct,a.FungibleAssetAmountStruct))})}),n.AccountTransactionsUpdatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountTransactionsUpdated}`),params:(0,r.object)({transactions:(0,i.record)(r.AccountIdStruct,(0,i.array)(a.TransactionStruct))})}),n.AccountAssetListUpdatedEventStruct=(0,r.object)({method:(0,i.literal)(`${o.AccountAssetListUpdated}`),params:(0,r.object)({assets:(0,i.record)(r.AccountIdStruct,(0,r.object)({added:(0,i.array)(s.CaipAssetTypeOrIdStruct),removed:(0,i.array)(s.CaipAssetTypeOrIdStruct)}))})})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/events.cjs"}],[2126,{"./api/index.cjs":2110,"./btc/index.cjs":2117,"./eth/index.cjs":2122,"./events.cjs":2125,"./rpc.cjs":2127,"./sol/index.cjs":2129,"./trx/index.cjs":2132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./api/index.cjs"),n),i(e("./btc/index.cjs"),n),i(e("./sol/index.cjs"),n),i(e("./eth/index.cjs"),n),i(e("./trx/index.cjs"),n),i(e("./rpc.cjs"),n),i(e("./events.cjs"),n)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/index.cjs"}],[2127,{"./api/index.cjs":2110,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RejectRequestResponseStruct=n.RejectRequestRequestStruct=n.ApproveRequestResponseStruct=n.ApproveRequestRequestStruct=n.SubmitRequestResponseStruct=n.SubmitRequestRequestStruct=n.GetRequestResponseStruct=n.GetRequestRequestStruct=n.ListRequestsResponseStruct=n.ListRequestsRequestStruct=n.ExportAccountResponseStruct=n.ExportAccountRequestStruct=n.DeleteAccountResponseStruct=n.DeleteAccountRequestStruct=n.UpdateAccountResponseStruct=n.UpdateAccountRequestStruct=n.FilterAccountChainsResponseStruct=n.FilterAccountChainsStruct=n.ResolveAccountAddressResponseStruct=n.ResolveAccountAddressRequestStruct=n.GetAccountBalancesResponseStruct=n.GetAccountBalancesRequestStruct=n.ListAccountAssetsResponseStruct=n.ListAccountAssetsRequestStruct=n.ListAccountTransactionsResponseStruct=n.ListAccountTransactionsRequestStruct=n.DiscoverAccountsResponseStruct=n.DiscoverAccountsRequestStruct=n.CreateAccountResponseStruct=n.CreateAccountRequestStruct=n.GetAccountResponseStruct=n.GetAccountRequestStruct=n.ListAccountsResponseStruct=n.ListAccountsRequestStruct=n.KeyringRpcMethod=void 0,n.isKeyringRpcMethod=function(e){return Object.values(o).includes(e)};const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("./api/index.cjs");var o;!function(e){e.ListAccounts="keyring_listAccounts",e.GetAccount="keyring_getAccount",e.CreateAccount="keyring_createAccount",e.DiscoverAccounts="keyring_discoverAccounts",e.ListAccountAssets="keyring_listAccountAssets",e.ListAccountTransactions="keyring_listAccountTransactions",e.GetAccountBalances="keyring_getAccountBalances",e.ResolveAccountAddress="keyring_resolveAccountAddress",e.FilterAccountChains="keyring_filterAccountChains",e.UpdateAccount="keyring_updateAccount",e.DeleteAccount="keyring_deleteAccount",e.ExportAccount="keyring_exportAccount",e.ListRequests="keyring_listRequests",e.GetRequest="keyring_getRequest",e.SubmitRequest="keyring_submitRequest",e.ApproveRequest="keyring_approveRequest",e.RejectRequest="keyring_rejectRequest"}(o||(n.KeyringRpcMethod=o={}));const c={jsonrpc:(0,i.literal)("2.0"),id:(0,i.union)([(0,i.string)(),(0,i.number)(),(0,i.literal)(null)])};n.ListAccountsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_listAccounts")}),n.ListAccountsResponseStruct=(0,i.array)(a.KeyringAccountStruct),n.GetAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_getAccount"),params:(0,r.object)({id:r.UuidStruct})}),n.GetAccountResponseStruct=a.KeyringAccountStruct,n.CreateAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_createAccount"),params:(0,r.object)({options:(0,i.record)((0,i.string)(),s.JsonStruct)})}),n.CreateAccountResponseStruct=a.KeyringAccountStruct,n.DiscoverAccountsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_discoverAccounts"),params:(0,r.object)({scopes:(0,i.array)(a.CaipChainIdStruct),entropySource:(0,i.string)(),groupIndex:(0,i.number)()})}),n.DiscoverAccountsResponseStruct=(0,i.array)(a.DiscoveredAccountStruct),n.ListAccountTransactionsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_listAccountTransactions"),params:(0,r.object)({id:r.UuidStruct,pagination:a.PaginationStruct})}),n.ListAccountTransactionsResponseStruct=a.TransactionsPageStruct,n.ListAccountAssetsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_listAccountAssets"),params:(0,r.object)({id:r.UuidStruct})}),n.ListAccountAssetsResponseStruct=(0,i.array)(a.CaipAssetTypeOrIdStruct),n.GetAccountBalancesRequestStruct=(0,r.object)({...c,method:(0,i.literal)(`${o.GetAccountBalances}`),params:(0,r.object)({id:r.UuidStruct,assets:(0,i.array)(a.CaipAssetTypeStruct)})}),n.GetAccountBalancesResponseStruct=(0,i.record)(a.CaipAssetTypeStruct,a.BalanceStruct),n.ResolveAccountAddressRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_resolveAccountAddress"),params:(0,r.object)({scope:a.CaipChainIdStruct,request:r.JsonRpcRequestStruct})}),n.ResolveAccountAddressResponseStruct=(0,i.nullable)((0,r.object)({address:a.CaipAccountIdStruct})),n.FilterAccountChainsStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_filterAccountChains"),params:(0,r.object)({id:r.UuidStruct,chains:(0,i.array)((0,i.string)())})}),n.FilterAccountChainsResponseStruct=(0,i.array)((0,i.string)()),n.UpdateAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_updateAccount"),params:(0,r.object)({account:a.KeyringAccountStruct})}),n.UpdateAccountResponseStruct=(0,i.literal)(null),n.DeleteAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_deleteAccount"),params:(0,r.object)({id:r.UuidStruct})}),n.DeleteAccountResponseStruct=(0,i.literal)(null),n.ExportAccountRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_exportAccount"),params:(0,r.object)({id:r.UuidStruct})}),n.ExportAccountResponseStruct=a.KeyringAccountDataStruct,n.ListRequestsRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_listRequests")}),n.ListRequestsResponseStruct=(0,i.array)(a.KeyringRequestStruct),n.GetRequestRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_getRequest"),params:(0,r.object)({id:r.UuidStruct})}),n.GetRequestResponseStruct=a.KeyringRequestStruct,n.SubmitRequestRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_submitRequest"),params:a.KeyringRequestStruct}),n.SubmitRequestResponseStruct=a.KeyringResponseStruct,n.ApproveRequestRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_approveRequest"),params:(0,r.object)({id:r.UuidStruct,data:(0,i.record)((0,i.string)(),s.JsonStruct)})}),n.ApproveRequestResponseStruct=(0,i.literal)(null),n.RejectRequestRequestStruct=(0,r.object)({...c,method:(0,i.literal)("keyring_rejectRequest"),params:(0,r.object)({id:r.UuidStruct})}),n.RejectRequestResponseStruct=(0,i.literal)(null)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/rpc.cjs"}],[2128,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.SolScope=void 0,function(e){e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}(r||(n.SolScope=r={}))}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/sol/constants.cjs"}],[2129,{"./constants.cjs":2128,"./types.cjs":2130},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constants.cjs"),n),i(e("./types.cjs"),n)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/sol/index.cjs"}],[2130,{"../api/index.cjs":2110,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SolDataAccountStruct=n.SolMethod=n.SolAddressStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../api/index.cjs");var o;n.SolAddressStruct=(0,s.definePattern)("SolAddress",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu),function(e){e.SendAndConfirmTransaction="sendAndConfirmTransaction",e.SignAndSendTransaction="signAndSendTransaction",e.SignTransaction="signTransaction",e.SignMessage="signMessage",e.SignIn="signIn"}(o||(n.SolMethod=o={})),n.SolDataAccountStruct=(0,r.object)({...a.KeyringAccountStruct.schema,address:n.SolAddressStruct,type:(0,i.literal)(`${a.SolAccountType.DataAccount}`),scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(o)))})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/sol/types.cjs"}],[2131,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.TrxScope=void 0,function(e){e.Mainnet="tron:728126428",e.Nile="tron:3448148188",e.Shasta="tron:2494104990"}(r||(n.TrxScope=r={}))}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/trx/constants.cjs"}],[2132,{"./constants.cjs":2131,"./types.cjs":2133},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constants.cjs"),n),i(e("./types.cjs"),n)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/trx/index.cjs"}],[2133,{"../api/index.cjs":2110,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrxEoaAccountStruct=n.TrxMethod=n.TrxAddressStruct=void 0;const r=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../api/index.cjs");var o;n.TrxAddressStruct=(0,s.definePattern)("TrxAddress",/^T[1-9A-HJ-NP-Za-km-z]{33}$/iu),function(e){e.SignMessageV2="signMessageV2",e.VerifyMessageV2="verifyMessageV2"}(o||(n.TrxMethod=o={})),n.TrxEoaAccountStruct=(0,r.object)({...a.KeyringAccountStruct.schema,address:n.TrxAddressStruct,type:(0,i.literal)(`${a.TrxAccountType.Eoa}`),scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(o)))})}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-api",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-api/dist/trx/types.cjs"}],[2134,{"@metamask/keyring-api":2126,"@metamask/keyring-utils":2040,"@metamask/superstruct":2705,uuid:2138},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringClient=void 0;const a=e("@metamask/keyring-api"),o=e("@metamask/keyring-utils"),c=e("@metamask/superstruct"),u=e("uuid");n.KeyringClient=class{constructor(e){r.set(this,void 0),i(this,r,e,"f")}async send(e){return s(this,r,"f").send({jsonrpc:"2.0",id:(0,u.v4)(),...e})}async listAccounts(){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ListAccounts}),a.ListAccountsResponseStruct)}async getAccount(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.GetAccount,params:{id:e}}),a.GetAccountResponseStruct)}async getAccountBalances(e,t){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.GetAccountBalances,params:{id:e,assets:t}}),a.GetAccountBalancesResponseStruct)}async createAccount(e={}){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.CreateAccount,params:{options:e}}),a.CreateAccountResponseStruct)}async discoverAccounts(e,t,n){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.DiscoverAccounts,params:{scopes:e,entropySource:t,groupIndex:n}}),a.DiscoverAccountsResponseStruct)}async listAccountTransactions(e,t){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ListAccountTransactions,params:{id:e,pagination:t}}),a.ListAccountTransactionsResponseStruct)}async listAccountAssets(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ListAccountAssets,params:{id:e}}),a.ListAccountAssetsResponseStruct)}async resolveAccountAddress(e,t){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ResolveAccountAddress,params:{scope:e,request:t}}),a.ResolveAccountAddressResponseStruct)}async filterAccountChains(e,t){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.FilterAccountChains,params:{id:e,chains:t}}),a.FilterAccountChainsResponseStruct)}async updateAccount(e){(0,c.assert)(await this.send({method:a.KeyringRpcMethod.UpdateAccount,params:{account:e}}),a.UpdateAccountResponseStruct)}async deleteAccount(e){(0,c.assert)(await this.send({method:a.KeyringRpcMethod.DeleteAccount,params:{id:e}}),a.DeleteAccountResponseStruct)}async exportAccount(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ExportAccount,params:{id:e}}),a.ExportAccountResponseStruct)}async listRequests(){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.ListRequests}),a.ListRequestsResponseStruct)}async getRequest(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.GetRequest,params:{id:e}}),a.GetRequestResponseStruct)}async submitRequest(e){return(0,o.strictMask)(await this.send({method:a.KeyringRpcMethod.SubmitRequest,params:e}),a.SubmitRequestResponseStruct)}async approveRequest(e,t={}){(0,c.assert)(await this.send({method:a.KeyringRpcMethod.ApproveRequest,params:{id:e,data:t}}),a.ApproveRequestResponseStruct)}async rejectRequest(e){(0,c.assert)(await this.send({method:a.KeyringRpcMethod.RejectRequest,params:{id:e}}),a.RejectRequestResponseStruct)}},r=new WeakMap}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/dist/KeyringClient.cjs"}],[2135,{"./KeyringClient.cjs":2134,"@metamask/keyring-api":2126},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringPublicClient=n.KeyringPublicRpcMethod=void 0;const a=e("@metamask/keyring-api"),o=e("./KeyringClient.cjs");n.KeyringPublicRpcMethod=[a.KeyringRpcMethod.CreateAccount,a.KeyringRpcMethod.GetAccount,a.KeyringRpcMethod.UpdateAccount,a.KeyringRpcMethod.DeleteAccount,a.KeyringRpcMethod.ExportAccount,a.KeyringRpcMethod.ListAccounts,a.KeyringRpcMethod.FilterAccountChains,a.KeyringRpcMethod.GetRequest,a.KeyringRpcMethod.ApproveRequest,a.KeyringRpcMethod.RejectRequest,a.KeyringRpcMethod.ListRequests];n.KeyringPublicClient=class{constructor(e){r.set(this,void 0),i(this,r,new o.KeyringClient(e),"f")}async createAccount(e){return s(this,r,"f").createAccount(e)}async deleteAccount(e){return s(this,r,"f").deleteAccount(e)}async listAccounts(){return s(this,r,"f").listAccounts()}async getAccount(e){return s(this,r,"f").getAccount(e)}async getRequest(e){return s(this,r,"f").getRequest(e)}async listRequests(){return s(this,r,"f").listRequests()}async updateAccount(e){return s(this,r,"f").updateAccount(e)}async approveRequest(e,t){return s(this,r,"f").approveRequest(e,t)}async rejectRequest(e){return s(this,r,"f").rejectRequest(e)}async filterAccountChains(e,t){return s(this,r,"f").filterAccountChains(e,t)}async exportAccount(e){return s(this,r,"f").exportAccount(e)}},r=new WeakMap}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/dist/KeyringPublicClient.cjs"}],[2136,{"./KeyringPublicClient.cjs":2135},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringSnapRpcClient=n.SnapRpcSender=void 0;const o=e("./KeyringPublicClient.cjs");class c{constructor(e,t){r.set(this,void 0),i.set(this,void 0),s(this,r,e,"f"),s(this,i,t,"f")}async send(e){return a(this,i,"f").request({method:"wallet_invokeKeyring",params:{snapId:a(this,r,"f"),request:e}})}}n.SnapRpcSender=c,r=new WeakMap,i=new WeakMap;class u extends o.KeyringPublicClient{constructor(e,t){super(new c(e,t))}}n.KeyringSnapRpcClient=u}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/dist/KeyringSnapRpcClient.cjs"}],[2137,{"./KeyringClient.cjs":2134,"./KeyringPublicClient.cjs":2135,"./KeyringSnapRpcClient.cjs":2136},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./KeyringClient.cjs"),n),i(e("./KeyringSnapRpcClient.cjs"),n),i(e("./KeyringPublicClient.cjs"),n)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/dist/index.cjs"}],[2138,{"./nil.js":2141,"./parse.js":2142,"./stringify.js":2146,"./v1.js":2147,"./v3.js":2148,"./v4.js":2150,"./v5.js":2151,"./validate.js":2152,"./version.js":2153},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return c.default}});var r=h(e("./v1.js")),i=h(e("./v3.js")),s=h(e("./v4.js")),a=h(e("./v5.js")),o=h(e("./nil.js")),c=h(e("./version.js")),u=h(e("./validate.js")),l=h(e("./stringify.js")),d=h(e("./parse.js"));function h(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/index.js"}],[2139,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,s,a){return i((o=i(i(t,e),i(r,a)))<<(c=s)|o>>>32-c,n);var o,c}function a(e,t,n,r,i,a,o){return s(t&n|~t&r,e,t,i,a,o)}function o(e,t,n,r,i,a,o){return s(t&r|n&~r,e,t,i,a,o)}function c(e,t,n,r,i,a,o){return s(t^n^r,e,t,i,a,o)}function u(e,t,n,r,i,a,o){return s(n^(t|~r),e,t,i,a,o)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let i=0;i<n;i+=8){const n=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let n=1732584193,s=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const r=n,h=s,p=l,m=d;n=a(n,s,l,d,e[t],7,-680876936),d=a(d,n,s,l,e[t+1],12,-389564586),l=a(l,d,n,s,e[t+2],17,606105819),s=a(s,l,d,n,e[t+3],22,-1044525330),n=a(n,s,l,d,e[t+4],7,-176418897),d=a(d,n,s,l,e[t+5],12,1200080426),l=a(l,d,n,s,e[t+6],17,-1473231341),s=a(s,l,d,n,e[t+7],22,-45705983),n=a(n,s,l,d,e[t+8],7,1770035416),d=a(d,n,s,l,e[t+9],12,-1958414417),l=a(l,d,n,s,e[t+10],17,-42063),s=a(s,l,d,n,e[t+11],22,-1990404162),n=a(n,s,l,d,e[t+12],7,1804603682),d=a(d,n,s,l,e[t+13],12,-40341101),l=a(l,d,n,s,e[t+14],17,-1502002290),s=a(s,l,d,n,e[t+15],22,1236535329),n=o(n,s,l,d,e[t+1],5,-165796510),d=o(d,n,s,l,e[t+6],9,-1069501632),l=o(l,d,n,s,e[t+11],14,643717713),s=o(s,l,d,n,e[t],20,-373897302),n=o(n,s,l,d,e[t+5],5,-701558691),d=o(d,n,s,l,e[t+10],9,38016083),l=o(l,d,n,s,e[t+15],14,-660478335),s=o(s,l,d,n,e[t+4],20,-405537848),n=o(n,s,l,d,e[t+9],5,568446438),d=o(d,n,s,l,e[t+14],9,-1019803690),l=o(l,d,n,s,e[t+3],14,-187363961),s=o(s,l,d,n,e[t+8],20,1163531501),n=o(n,s,l,d,e[t+13],5,-1444681467),d=o(d,n,s,l,e[t+2],9,-51403784),l=o(l,d,n,s,e[t+7],14,1735328473),s=o(s,l,d,n,e[t+12],20,-1926607734),n=c(n,s,l,d,e[t+5],4,-378558),d=c(d,n,s,l,e[t+8],11,-2022574463),l=c(l,d,n,s,e[t+11],16,1839030562),s=c(s,l,d,n,e[t+14],23,-35309556),n=c(n,s,l,d,e[t+1],4,-1530992060),d=c(d,n,s,l,e[t+4],11,1272893353),l=c(l,d,n,s,e[t+7],16,-155497632),s=c(s,l,d,n,e[t+10],23,-1094730640),n=c(n,s,l,d,e[t+13],4,681279174),d=c(d,n,s,l,e[t],11,-358537222),l=c(l,d,n,s,e[t+3],16,-722521979),s=c(s,l,d,n,e[t+6],23,76029189),n=c(n,s,l,d,e[t+9],4,-640364487),d=c(d,n,s,l,e[t+12],11,-421815835),l=c(l,d,n,s,e[t+15],16,530742520),s=c(s,l,d,n,e[t+2],23,-995338651),n=u(n,s,l,d,e[t],6,-198630844),d=u(d,n,s,l,e[t+7],10,1126891415),l=u(l,d,n,s,e[t+14],15,-1416354905),s=u(s,l,d,n,e[t+5],21,-57434055),n=u(n,s,l,d,e[t+12],6,1700485571),d=u(d,n,s,l,e[t+3],10,-1894986606),l=u(l,d,n,s,e[t+10],15,-1051523),s=u(s,l,d,n,e[t+1],21,-2054922799),n=u(n,s,l,d,e[t+8],6,1873313359),d=u(d,n,s,l,e[t+15],10,-30611744),l=u(l,d,n,s,e[t+6],15,-1560198380),s=u(s,l,d,n,e[t+13],21,1309151649),n=u(n,s,l,d,e[t+4],6,-145523070),d=u(d,n,s,l,e[t+11],10,-1120210379),l=u(l,d,n,s,e[t+2],15,718787259),s=u(s,l,d,n,e[t+9],21,-343485551),n=i(n,r),s=i(s,h),l=i(l,p),d=i(d,m)}return[n,s,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};n.default=l}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/md5-browser.js"}],[2140,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};n.default=r}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/native-browser.js"}],[2141,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/nil.js"}],[2142,{"./validate.js":2152},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};n.default=s}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/parse.js"}],[2143,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/regex.js"}],[2144,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){let r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};const i=new Uint8Array(16)}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/rng-browser.js"}],[2145,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,a=Math.ceil(s/16),o=new Array(a);for(let t=0;t<a;++t){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];o[t]=n}o[a-1][14]=8*(e.length-1)/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=o[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let a=n[0],c=n[1],u=n[2],l=n[3],d=n[4];for(let e=0;e<80;++e){const n=Math.floor(e/20),o=i(a,5)+r(n,c,u,l)+d+t[n]+s[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=a,a=o}n[0]=n[0]+a>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+u>>>0,n[3]=n[3]+l>>>0,n[4]=n[4]+d>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};n.default=s}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/sha1-browser.js"}],[2146,{"./validate.js":2152},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.unsafeStringify=a;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function a(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var o=function(e,t=0){const n=a(e,t);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n};n.default=o}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/stringify.js"}],[2147,{"./rng.js":2144,"./stringify.js":2146},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./rng.js"))&&r.__esModule?r:{default:r},s=e("./stringify.js");let a,o,c=0,u=0;var l=function(e,t,n){let r=t&&n||0;const l=t||new Array(16);let d=(e=e||{}).node||a,h=e.clockseq!==undefined?e.clockseq:o;if(null==d||null==h){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=o=16383&(t[6]<<8|t[7]))}let p=e.msecs!==undefined?e.msecs:Date.now(),m=e.nsecs!==undefined?e.nsecs:u+1;const f=p-c+(m-u)/1e4;if(f<0&&e.clockseq===undefined&&(h=h+1&16383),(f<0||p>c)&&e.nsecs===undefined&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=m,o=h,p+=122192928e5;const g=(1e4*(268435455&p)+m)%4294967296;l[r++]=g>>>24&255,l[r++]=g>>>16&255,l[r++]=g>>>8&255,l[r++]=255&g;const y=p/4294967296*1e4&268435455;l[r++]=y>>>8&255,l[r++]=255&y,l[r++]=y>>>24&15|16,l[r++]=y>>>16&255,l[r++]=h>>>8|128,l[r++]=255&h;for(let e=0;e<6;++e)l[r+e]=d[e];return t||(0,s.unsafeStringify)(l)};n.default=l}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v1.js"}],[2148,{"./md5.js":2139,"./v35.js":2149},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v3",48,i.default);n.default=a}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v3.js"}],[2149,{"./parse.js":2142,"./stringify.js":2146},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.URL=n.DNS=void 0,n.default=function(e,t,n){function r(e,r,a,o){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,s.default)(r)),16!==(null===(c=r)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(r),u.set(e,r.length),u=n(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){o=o||0;for(let e=0;e<16;++e)a[o+e]=u[e];return a}return(0,i.unsafeStringify)(u)}try{r.name=e}catch(e){}return r.DNS=a,r.URL=o,r};var r,i=e("./stringify.js"),s=(r=e("./parse.js"))&&r.__esModule?r:{default:r};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=a;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=o}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v35.js"}],[2150,{"./native.js":2140,"./rng.js":2144,"./stringify.js":2146},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("./native.js")),i=a(e("./rng.js")),s=e("./stringify.js");function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,s.unsafeStringify)(a)};n.default=o}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v4.js"}],[2151,{"./sha1.js":2145,"./v35.js":2149},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v5",80,i.default);n.default=a}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v5.js"}],[2152,{"./regex.js":2143},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./regex.js"))&&r.__esModule?r:{default:r};var s=function(e){return"string"==typeof e&&i.default.test(e)};n.default=s}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/validate.js"}],[2153,{"./validate.js":2152},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./validate.js"))&&r.__esModule?r:{default:r};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};n.default=s}}},{package:"@metamask/multichain-transactions-controller>@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/multichain-transactions-controller/node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/version.js"}],[2154,{"./types.cjs":2162,"@metamask/base-controller":1222,"@metamask/controller-utils":1301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h,p,m,f,g,y,w,k,b,v,_,T,E,S,A,P,j,C,I,N=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},M=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.NameController=n.NameOrigin=n.PROPOSED_NAME_EXPIRE_DURATION=n.FALLBACK_VARIATION=void 0;const O=e("@metamask/base-controller"),R=e("@metamask/controller-utils"),x=e("./types.cjs");var B;n.FALLBACK_VARIATION="*",n.PROPOSED_NAME_EXPIRE_DURATION=86400,function(e){e.ACCOUNT_IDENTITY="account-identity",e.ADDRESS_BOOK="address-book",e.API="api",e.UI="ui"}(B||(n.NameOrigin=B={}));const D={names:{persist:!0,anonymous:!1},nameSources:{persist:!0,anonymous:!1}};class L extends O.BaseController{constructor({messenger:e,providers:t,state:n,updateDelay:a}){super({name:"NameController",metadata:D,messenger:e,state:{names:{[x.NameType.ETHEREUM_ADDRESS]:{}},nameSources:{},...n}}),r.add(this),i.set(this,void 0),s.set(this,void 0),N(this,i,t,"f"),N(this,s,a??120,"f")}setName(e){M(this,r,"m",g).call(this,e);const{value:t,type:n,name:i,sourceId:s,origin:a,variation:o}=e,c=s??null,u=null===i?null:B.API,l=a??u;M(this,r,"m",m).call(this,t,n,o,e=>{e.name=i,e.sourceId=c,e.origin=l})}async updateProposedNames(e){M(this,r,"m",y).call(this,e);const t=(await Promise.all(M(this,i,"f").map(t=>M(this,r,"m",u).call(this,e,t)))).filter(e=>Boolean(e));return M(this,r,"m",a).call(this,e,t),M(this,r,"m",o).call(this,M(this,i,"f")),M(this,r,"m",C).call(this),M(this,r,"m",c).call(this,t)}}n.NameController=L,i=new WeakMap,s=new WeakMap,r=new WeakSet,a=function(e,t){const{value:n,type:i,variation:s}=e,a=M(this,r,"m",f).call(this);M(this,r,"m",m).call(this,n,i,s,e=>{M(this,r,"m",j).call(this,e.proposedNames,i);for(const n of t){const{results:t}=n;for(const r of Object.keys(n.results)){const n=t[r],{proposedNames:i,updateDelay:s}=n,o=e.proposedNames[r]??{proposedNames:[],lastRequestTime:null,updateDelay:null};e.proposedNames[r]=o,i&&(o.proposedNames=i),o.lastRequestTime=a,o.updateDelay=s??null}}})},o=function(e){const t={...this.state.nameSources};for(const n of e){const{sourceLabels:e}=n.getMetadata();for(const n of Object.keys(e))t[n]={label:e[n]}}this.update(e=>{e.nameSources=t})},c=function(e){return e.reduce((e,t)=>{const{results:n}=t;for(const t of Object.keys(n)){const{proposedNames:r,error:i}=n[t];e.results[t]={proposedNames:r,error:i}}return e},{results:{}})},u=async function(e,t){const{value:n,type:i,sourceIds:a,onlyUpdateAfterDelay:o,variation:c}=e,u=c??"",d=M(this,r,"m",P).call(this,t,i),m=M(this,r,"m",f).call(this),g=M(this,r,"m",h).call(this,n,i),y=d.filter(e=>{if(a&&!a.includes(e))return!1;if(o){const t=this.state.names[i]?.[g]?.[u]??{},n=t.proposedNames?.[e]??{},r=n.lastRequestTime??0,a=n.updateDelay??M(this,s,"f");if(m-r<a)return!1}return!0});if(!y.length)return undefined;const w={value:M(this,r,"m",h).call(this,n,i),type:i,sourceIds:a?y:undefined,variation:M(this,r,"m",p).call(this,u,i)};let k,b;try{b=await t.getProposedNames(w),k=b.error}catch(e){k=e}return M(this,r,"m",l).call(this,b,k,y)},l=function(e,t,n){const i=t??undefined;return{results:n.reduce((n,i)=>{const s=e?.results?.[i],a=M(this,r,"m",d).call(this,s,t);return{...n,[i]:a}},{}),error:i}},d=function(e,t){const n=e?.error??t??undefined,r=e?.updateDelay??undefined;let i=n?undefined:e?.proposedNames??undefined;return i&&(i=i.filter(e=>e?.length)),{proposedNames:i,error:n,updateDelay:r}},h=function(e,t){return t===x.NameType.ETHEREUM_ADDRESS?e.toLowerCase():e},p=function(e,t){return t===x.NameType.ETHEREUM_ADDRESS?e.toLowerCase():e},m=function(e,t,n,i){const s=n??"",a=M(this,r,"m",h).call(this,e,t),o=M(this,r,"m",p).call(this,s,t);[a,o].some(e=>!(0,R.isSafeDynamicKey)(e))||this.update(e=>{const n=e.names[t]||{};e.names[t]=n;const r=n[a]||{};n[a]=r;const s=r[o]??{proposedNames:{},name:null,sourceId:null,origin:null};r[o]=s,i(s)})},f=function(){return Math.round(Date.now()/1e3)},g=function(e){const{name:t,value:n,type:i,sourceId:s,variation:a,origin:o}=e,c=[];if(M(this,r,"m",w).call(this,n,c),M(this,r,"m",k).call(this,i,c),M(this,r,"m",b).call(this,t,c),M(this,r,"m",_).call(this,s,i,t,c),M(this,r,"m",E).call(this,a,i,c),M(this,r,"m",S).call(this,o,t,c),c.length)throw new Error(c.join(" "))},y=function(e){const{value:t,type:n,sourceIds:i,variation:s}=e,a=[];if(M(this,r,"m",w).call(this,t,a),M(this,r,"m",k).call(this,n,a),M(this,r,"m",v).call(this,i,n,a),M(this,r,"m",T).call(this,n,a),M(this,r,"m",E).call(this,s,n,a),a.length)throw new Error(a.join(" "))},w=function(e,t){e?.length&&"string"==typeof e||t.push("Must specify a non-empty string for value.")},k=function(e,t){Object.values(x.NameType).includes(e)||t.push(`Must specify one of the following types: ${Object.values(x.NameType).join(", ")}`)},b=function(e,t){null!==e&&(e?.length&&"string"==typeof e||t.push("Must specify a non-empty string or null for name."))},v=function(e,t,n){if(!e)return;const i=M(this,r,"m",A).call(this,t),s=[];for(const t of e)i.includes(t)||s.push(t);s.length&&n.push(`Unknown source IDs for type '${t}': ${s.join(", ")}`)},_=function(e,t,n,i){if(null===e||e===undefined)return;if(null===n)return void i.push(`Cannot specify a source ID when clearing the saved name: ${e}`);const s=M(this,r,"m",A).call(this,t);e.length&&"string"==typeof e?s.includes(e)||i.push(`Unknown source ID for type '${t}': ${e}`):i.push("Must specify a non-empty string for sourceId.")},T=function(e,t){const n=M(this,r,"m",A).call(this,e),i=n.filter((e,t)=>n.indexOf(e)!==t);i.length&&t.push(`Duplicate source IDs found for type '${e}': ${i.join(", ")}`)},E=function(e,t,r){t===x.NameType.ETHEREUM_ADDRESS&&(e?.length&&"string"==typeof e&&(e.match(/^0x[0-9A-Fa-f]+$/u)||e===n.FALLBACK_VARIATION)||r.push(`Must specify a chain ID in hexidecimal format or the fallback, "${n.FALLBACK_VARIATION}", for variation when using '${t}' type.`))},S=function(e,t,n){e&&(null!==t?Object.values(B).includes(e)||n.push(`Must specify one of the following origins: ${Object.values(B).join(", ")}`):n.push(`Cannot specify an origin when clearing the saved name: ${e}`))},A=function(e){return M(this,i,"f").map(t=>M(this,r,"m",P).call(this,t,e)).flat()},P=function(e,t){return e.getMetadata().sourceIds[t]},j=function(e,t){if(0===Object.keys(e).length)return;const n=M(this,r,"m",A).call(this,t),i=Object.keys(e).filter(e=>!n.includes(e));for(const t of i)delete e[t]},C=function(){const e=M(this,r,"m",f).call(this);this.update(t=>{const i=M(this,r,"m",I).call(this,t);for(const{nameType:r,value:s,variation:a,entry:o}of i){if(null!==o.name)continue;Object.values(o.proposedNames).every(t=>e-(t.lastRequestTime??0)>=n.PROPOSED_NAME_EXPIRE_DURATION)&&delete t.names[r][s][a]}})},I=function(e){return Object.entries(e.names).flatMap(([e,t])=>Object.entries(t).flatMap(([t,n])=>Object.entries(n).map(([n,r])=>({entry:r,nameType:e,value:t,variation:n}))))}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/NameController.cjs"}],[2155,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ETHERSCAN_SUPPORTED_NETWORKS=n.CHAIN_IDS=void 0,n.CHAIN_IDS={MAINNET:"0x1",GOERLI:"0x5",BSC:"0x38",BSC_TESTNET:"0x61",OPTIMISM:"0xa",OPTIMISM_SEPOLIA:"0xaa37dc",POLYGON:"0x89",POLYGON_TESTNET:"0x13881",AVALANCHE:"0xa86a",AVALANCHE_TESTNET:"0xa869",FANTOM:"0xfa",FANTOM_TESTNET:"0xfa2",SEPOLIA:"0xaa36a7",LINEA_GOERLI:"0xe704",LINEA_SEPOLIA:"0xe705",LINEA_MAINNET:"0xe708",MOONBEAM:"0x504",MOONBEAM_TESTNET:"0x507",MOONRIVER:"0x505",GNOSIS:"0x64"};const r="etherscan.io",i="api";n.ETHERSCAN_SUPPORTED_NETWORKS={[n.CHAIN_IDS.GOERLI]:{domain:r,subdomain:`${i}-goerli`},[n.CHAIN_IDS.MAINNET]:{domain:r,subdomain:i},[n.CHAIN_IDS.SEPOLIA]:{domain:r,subdomain:`${i}-sepolia`},[n.CHAIN_IDS.LINEA_GOERLI]:{domain:"lineascan.build",subdomain:"goerli"},[n.CHAIN_IDS.LINEA_SEPOLIA]:{domain:"lineascan.build",subdomain:"sepolia"},[n.CHAIN_IDS.LINEA_MAINNET]:{domain:"lineascan.build",subdomain:i},[n.CHAIN_IDS.BSC]:{domain:"bscscan.com",subdomain:i},[n.CHAIN_IDS.BSC_TESTNET]:{domain:"bscscan.com",subdomain:`${i}-testnet`},[n.CHAIN_IDS.OPTIMISM]:{domain:r,subdomain:`${i}-optimistic`},[n.CHAIN_IDS.OPTIMISM_SEPOLIA]:{domain:r,subdomain:`${i}-sepolia-optimistic`},[n.CHAIN_IDS.POLYGON]:{domain:"polygonscan.com",subdomain:i},[n.CHAIN_IDS.POLYGON_TESTNET]:{domain:"polygonscan.com",subdomain:`${i}-mumbai`},[n.CHAIN_IDS.AVALANCHE]:{domain:"snowtrace.io",subdomain:i},[n.CHAIN_IDS.AVALANCHE_TESTNET]:{domain:"snowtrace.io",subdomain:`${i}-testnet`},[n.CHAIN_IDS.FANTOM]:{domain:"ftmscan.com",subdomain:i},[n.CHAIN_IDS.FANTOM_TESTNET]:{domain:"ftmscan.com",subdomain:`${i}-testnet`},[n.CHAIN_IDS.MOONBEAM]:{domain:"moonscan.io",subdomain:`${i}-moonbeam`},[n.CHAIN_IDS.MOONBEAM_TESTNET]:{domain:"moonscan.io",subdomain:`${i}-moonbase`},[n.CHAIN_IDS.MOONRIVER]:{domain:"moonscan.io",subdomain:`${i}-moonriver`},[n.CHAIN_IDS.GNOSIS]:{domain:"gnosisscan.io",subdomain:`${i}-gnosis`}}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/constants.cjs"}],[2156,{"./NameController.cjs":2154,"./providers/ens.cjs":2158,"./providers/etherscan.cjs":2159,"./providers/lens.cjs":2160,"./providers/token.cjs":2161,"./types.cjs":2162},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./NameController.cjs"),n),i(e("./types.cjs"),n),i(e("./providers/ens.cjs"),n),i(e("./providers/etherscan.cjs"),n),i(e("./providers/token.cjs"),n),i(e("./providers/lens.cjs"),n)}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/index.cjs"}],[2157,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("name-controller")}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/logger.cjs"}],[2158,{"../logger.cjs":2157,"../types.cjs":2162},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.ENSNameProvider=void 0;const o=e("../logger.cjs"),c=e("../types.cjs"),u="ens",l=(0,o.createModuleLogger)(o.projectLogger,"ens");n.ENSNameProvider=class{constructor({isEnabled:e,reverseLookup:t}){r.set(this,void 0),i.set(this,void 0),s(this,r,e||(()=>!0),"f"),s(this,i,t,"f")}getMetadata(){return{sourceIds:{[c.NameType.ETHEREUM_ADDRESS]:[u]},sourceLabels:{[u]:"Ethereum Name Service (ENS)"}}}async getProposedNames(e){if(!a(this,r,"f").call(this))return l("Skipping request as disabled"),{results:{[u]:{proposedNames:[]}}};const{value:t,variation:n}=e;l("Invoking callback",{value:t,chainId:n});try{const e=await a(this,i,"f").call(this,t,n),r=e?[e]:[];return l("New proposed names",r),{results:{[u]:{proposedNames:r}}}}catch(e){throw l("Request failed",e),e}}},r=new WeakMap,i=new WeakMap}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/ens.cjs"}],[2159,{"../constants.cjs":2155,"../logger.cjs":2157,"../types.cjs":2162,"../util.cjs":2163,"async-mutex":3582},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},l=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.EtherscanNameProvider=void 0;const d=e("async-mutex"),h=e("../constants.cjs"),p=e("../logger.cjs"),m=e("../types.cjs"),f=e("../util.cjs"),g="etherscan",y=(0,p.createModuleLogger)(p.projectLogger,"etherscan");n.EtherscanNameProvider=class{constructor({isEnabled:e}={}){r.add(this),i.set(this,void 0),s.set(this,0),a.set(this,new d.Mutex),u(this,i,e||(()=>!0),"f")}getMetadata(){return{sourceIds:{[m.NameType.ETHEREUM_ADDRESS]:[g]},sourceLabels:{[g]:"Etherscan (Verified Contract Name)"}}}async getProposedNames(e){if(!l(this,i,"f").call(this))return y("Skipping request as disabled"),{results:{[g]:{proposedNames:[]}}};const t=await l(this,a,"f").acquire();try{const{value:t,variation:n}=e,i=Date.now();if(i-l(this,s,"f")<5e3)return y("Skipping request to avoid rate limit"),{results:{[g]:{updateDelay:5}}};const a=l(this,r,"m",c).call(this,n,{module:"contract",action:"getsourcecode",address:t}),{responseData:u,error:d}=await l(this,r,"m",o).call(this,a);if(d)throw y("Request failed",d),d;if("NOTOK"===u?.message)return y("Request warning",u.result),{results:{[g]:{updateDelay:5}}};const h=(u?.result??[]).map(e=>e.ContractName);return y("New proposed names",h),{results:{[g]:{proposedNames:h}}}}finally{t()}}},i=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakSet,o=async function(e){try{y("Sending request",e);return{responseData:await(0,f.handleFetch)(e)}}catch(e){return(0,f.assertIsError)(e),{error:e}}finally{u(this,s,Date.now(),"f")}},c=function(e,t){const n=h.ETHERSCAN_SUPPORTED_NETWORKS[e];if(!n)throw new Error(`Etherscan does not support chain with ID: ${e}`);let r=`https://${n.subdomain}.${n.domain}/api`;return Object.keys(t).forEach((e,n)=>{const i=t[e];r+=`${0===n?"?":"&"}${e}=${i}`}),r}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/etherscan.cjs"}],[2160,{"../logger.cjs":2157,"../types.cjs":2162,"../util.cjs":2163},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.LensNameProvider=void 0;const a=e("../logger.cjs"),o=e("../types.cjs"),c=e("../util.cjs"),u="lens",l=(0,a.createModuleLogger)(a.projectLogger,"lens");n.LensNameProvider=class{constructor({isEnabled:e}={}){r.set(this,void 0),i(this,r,e||(()=>!0),"f")}getMetadata(){return{sourceIds:{[o.NameType.ETHEREUM_ADDRESS]:[u]},sourceLabels:{[u]:"Lens Protocol"}}}async getProposedNames(e){if(!s(this,r,"f").call(this))return l("Skipping request as disabled"),{results:{[u]:{proposedNames:[]}}};const{value:t}=e,n={address:t};l("Sending request",{variables:n});try{const e=await(0,c.graphQL)("https://api.lens.dev","\nquery HandlesForAddress($address: EthereumAddress!) {\n  profiles(request: { ownedBy: [$address] }) {\n    items {\n      handle\n    }\n  }\n}",n),t=(e?.profiles?.items??[]).map(e=>e.handle);return l("New proposed names",t),{results:{[u]:{proposedNames:t}}}}catch(e){throw l("Request failed",e),e}}},r=new WeakMap}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/lens.cjs"}],[2161,{"../logger.cjs":2157,"../types.cjs":2162,"../util.cjs":2163},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.TokenNameProvider=void 0;const a=e("../logger.cjs"),o=e("../types.cjs"),c=e("../util.cjs"),u="token",l=(0,a.createModuleLogger)(a.projectLogger,"token");n.TokenNameProvider=class{constructor({isEnabled:e}={}){r.set(this,void 0),i(this,r,e||(()=>!0),"f")}getMetadata(){return{sourceIds:{[o.NameType.ETHEREUM_ADDRESS]:[u]},sourceLabels:{[u]:"Blockchain (Token Name)"}}}async getProposedNames(e){if(!s(this,r,"f").call(this))return l("Skipping request as disabled"),{results:{[u]:{proposedNames:[]}}};const{value:t,variation:n}=e,i=`https://token.api.cx.metamask.io/token/${n}?address=${t}`;l("Sending request",i);try{const e=(await(0,c.handleFetch)(i)).name,t=e?[e]:[];return l("New proposed names",t),{results:{[u]:{proposedNames:t}}}}catch(e){throw l("Request failed",e),e}}},r=new WeakMap}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/token.cjs"}],[2162,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.NameType=void 0,function(e){e.ETHEREUM_ADDRESS="ethereumAddress"}(r||(n.NameType=r={}))}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/types.cjs"}],[2163,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){async function r(e,t){const n=await i(e,t);return await n.json()}async function i(e,t){const n=await fetch(e,t);if(!n.ok)throw new Error(`Fetch failed with status '${n.status}' for request '${e}'`);return n}Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsError=n.successfulFetch=n.handleFetch=n.graphQL=void 0,n.graphQL=async function(e,t,n){const i=JSON.stringify({query:t,variables:n}),s=await r(e,{body:i,method:"POST",headers:{"Content-Type":"application/json"}});return s?.data},n.handleFetch=r,n.successfulFetch=i,n.assertIsError=function(e){if(!(e instanceof Error))throw new Error(`Invalid error of type '${typeof e}'`)}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/util.cjs"}],[2164,{"./constants.cjs":2165,"./create-auto-managed-network-client.cjs":2166,"./logger.cjs":2169,"./types.cjs":2172,"@metamask/base-controller":1222,"@metamask/controller-utils":1301,"@metamask/eth-query":1831,"@metamask/rpc-errors":2384,"@metamask/swappable-obj-proxy":2714,"@metamask/utils":2799,"fast-deep-equal":4101,immer:4327,lodash:4534,reselect:4988,"uri-js":5340,uuid:5366},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h,p,m,f,g,y,w,k,b,v,_,T,E,S,A,P,j=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),C=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),I=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&j(t,e,n);return C(t,e),t},N=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},M=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},O=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkController=n.selectAvailableNetworkClientIds=n.getAvailableNetworkClientIds=n.selectNetworkConfigurations=n.getNetworkConfigurations=n.getDefaultNetworkControllerState=n.knownKeysOf=n.RpcEndpointType=void 0;const R=e("@metamask/base-controller"),x=e("@metamask/controller-utils"),B=O(e("@metamask/eth-query")),D=e("@metamask/rpc-errors"),L=e("@metamask/swappable-obj-proxy"),K=e("@metamask/utils"),U=O(e("fast-deep-equal")),F=e("immer"),q=e("lodash"),H=e("reselect"),$=I(e("uri-js")),G=e("uuid"),V=e("./constants.cjs"),W=e("./create-auto-managed-network-client.cjs"),z=e("./logger.cjs"),Y=e("./types.cjs"),J=(0,z.createModuleLogger)(z.projectLogger,"NetworkController"),X=/^https:\/\/(?<networkName>[^.]+)\.infura\.io\/v\d+\/(?<apiKey>.+)$/u;var Z;function Q(e){return Object.keys(e)}function ee(e){return"object"==typeof e&&null!==e&&"code"in e}!function(e){e.Custom="custom",e.Infura="infura"}(Z||(n.RpcEndpointType=Z={})),n.knownKeysOf=Q;const te="NetworkController";function ne(e=[]){const t=Object.values(x.InfuraNetworkType).reduce((e,t)=>{const n=x.ChainId[t];if(V.DEPRECATED_NETWORKS.has(n))return e;const r=`https://${t}.infura.io/v3/{infuraProjectId}`,i={blockExplorerUrls:[],chainId:n,defaultRpcEndpointIndex:0,name:x.NetworkNickname[t],nativeCurrency:x.NetworksTicker[t],rpcEndpoints:[{failoverUrls:[],networkClientId:t,type:Z.Infura,url:r}]};return{...e,[n]:i}},{}),n={[x.ChainId["megaeth-testnet"]]:re(x.CustomNetworkType["megaeth-testnet"]),[x.ChainId["monad-testnet"]]:re(x.CustomNetworkType["monad-testnet"])};return e.reduce((e,t)=>((0,K.hasProperty)(n,t)&&(e[t]=n[t]),e),t)}function re(e){const{ticker:t,rpcPrefs:n}=x.BUILT_IN_NETWORKS[e],r=x.BUILT_IN_CUSTOM_NETWORKS_RPC[e];return{blockExplorerUrls:[n.blockExplorerUrl],chainId:x.ChainId[e],defaultRpcEndpointIndex:0,defaultBlockExplorerUrlIndex:0,name:x.NetworkNickname[e],nativeCurrency:t,rpcEndpoints:[{failoverUrls:[],networkClientId:e,type:Z.Custom,url:r}]}}function ie(e){const t=ne(e);return{selectedNetworkClientId:x.InfuraNetworkType.mainnet,networksMetadata:{},networkConfigurationsByChainId:t}}n.getDefaultNetworkControllerState=ie;function se(e){return Object.values(e.networkConfigurationsByChainId)}function ae(e){return e.flatMap(e=>e.rpcEndpoints.map(e=>e.networkClientId))}function oe(e){const t=$.parse(e);return t.error===undefined&&("http"===t.scheme||"https"===t.scheme)}function ce(e){const t=X.exec(e);if(t?.groups){if((0,x.isInfuraNetworkType)(t.groups.networkName))return t.groups.networkName;throw new Error(`Unknown Infura network '${t.groups.networkName}'`)}throw new Error("Could not derive Infura network from RPC endpoint URL")}function ue(e){return new Map(Object.values(e).flatMap(e=>e.rpcEndpoints.map(t=>[t.networkClientId,e])))}n.getNetworkConfigurations=se,n.selectNetworkConfigurations=(0,H.createSelector)(e=>e.networkConfigurationsByChainId,e=>Object.values(e)),n.getAvailableNetworkClientIds=ae,n.selectAvailableNetworkClientIds=(0,H.createSelector)(n.selectNetworkConfigurations,ae);class le extends R.BaseController{constructor(e){const{messenger:t,state:n,infuraProjectId:g,log:y,getRpcServiceOptions:w,getBlockTrackerOptions:k,additionalDefaultNetworks:b,isRpcFailoverEnabled:v=!1}=e,_={...ie(b),...n};!function(e){const t=Object.entries(e.networkConfigurationsByChainId),n=ae(se(e));if(0===t.length)throw new Error("NetworkController state is invalid: `networkConfigurationsByChainId` cannot be empty");for(const[e,n]of t){if(e!==n.chainId)throw new Error(`NetworkController state has invalid \`networkConfigurationsByChainId\`: Network configuration '${n.name}' is filed under '${e}' which does not match its \`chainId\` of '${n.chainId}'`);if(n.blockExplorerUrls.length>0?n.defaultBlockExplorerUrlIndex===undefined||n.blockExplorerUrls[n.defaultBlockExplorerUrlIndex]===undefined:n.defaultBlockExplorerUrlIndex!==undefined)throw new Error(`NetworkController state has invalid \`networkConfigurationsByChainId\`: Network configuration '${n.name}' has a \`defaultBlockExplorerUrlIndex\` that does not refer to an entry in \`blockExplorerUrls\``);if(n.rpcEndpoints[n.defaultRpcEndpointIndex]===undefined)throw new Error(`NetworkController state has invalid \`networkConfigurationsByChainId\`: Network configuration '${n.name}' has a \`defaultRpcEndpointIndex\` that does not refer to an entry in \`rpcEndpoints\``)}if([...new Set(n)].length<n.length)throw new Error("NetworkController state has invalid `networkConfigurationsByChainId`: Every RPC endpoint across all network configurations must have a unique `networkClientId`")}(_);const T=function(e,t){const n=se(e).sort((e,t)=>e.chainId.localeCompare(t.chainId)),r=ae(n);return(0,F.produce)(e,i=>{if(!r.includes(e.selectedNetworkClientId)){const r=n[0],s=r.rpcEndpoints[r.defaultRpcEndpointIndex].networkClientId;t.call("ErrorReportingService:captureException",new Error(`\`selectedNetworkClientId\` '${e.selectedNetworkClientId}' does not refer to an RPC endpoint within a network configuration; correcting to '${s}'`)),i.selectedNetworkClientId=s}})}(_,t);if(!g||"string"!=typeof g)throw new Error("Invalid Infura project ID");super({name:te,metadata:{selectedNetworkClientId:{persist:!0,anonymous:!1},networksMetadata:{persist:!0,anonymous:!1},networkConfigurationsByChainId:{persist:!0,anonymous:!1}},messenger:t,state:T}),r.add(this),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),h.set(this,void 0),p.set(this,void 0),m.set(this,void 0),f.set(this,void 0),N(this,s,g,"f"),N(this,d,y,"f"),N(this,h,w,"f"),N(this,p,k,"f"),N(this,f,v,"f"),N(this,a,this.state.selectedNetworkClientId,"f"),N(this,m,ue(this.state.networkConfigurationsByChainId),"f"),this.messagingSystem.registerActionHandler(`${this.name}:getEthQuery`,()=>M(this,i,"f")),this.messagingSystem.registerActionHandler(`${this.name}:getNetworkClientById`,this.getNetworkClientById.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:getEIP1559Compatibility`,this.getEIP1559Compatibility.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:setActiveNetwork`,this.setActiveNetwork.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:setProviderType`,this.setProviderType.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:findNetworkClientIdByChainId`,this.findNetworkClientIdByChainId.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:getNetworkConfigurationByChainId`,this.getNetworkConfigurationByChainId.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:getNetworkConfigurationByNetworkClientId`,this.getNetworkConfigurationByNetworkClientId.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:getSelectedNetworkClient`,this.getSelectedNetworkClient.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:getSelectedChainId`,this.getSelectedChainId.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:addNetwork`,this.addNetwork.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:removeNetwork`,this.removeNetwork.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:updateNetwork`,this.updateNetwork.bind(this))}enableRpcFailover(){M(this,r,"m",g).call(this,!0)}disableRpcFailover(){M(this,r,"m",g).call(this,!1)}getProviderAndBlockTracker(){return{provider:M(this,o,"f"),blockTracker:M(this,c,"f")}}getSelectedNetworkClient(){return M(this,o,"f")&&M(this,c,"f")?{provider:M(this,o,"f"),blockTracker:M(this,c,"f")}:undefined}getSelectedChainId(){const e=this.getNetworkConfigurationByNetworkClientId(this.state.selectedNetworkClientId);return e?.chainId}getNetworkClientRegistry(){const e=M(this,r,"m",S).call(this);return Object.assign({},e[Y.NetworkClientType.Infura],e[Y.NetworkClientType.Custom])}getNetworkClientById(e){if(!e)throw new Error("No network client ID was provided.");const t=M(this,r,"m",S).call(this);if((0,x.isInfuraNetworkType)(e)){const n=t[Y.NetworkClientType.Infura][e];if(!n)throw new Error(`No Infura network client was found with the ID "${e}".`);return n}const n=t[Y.NetworkClientType.Custom][e];if(!n)throw new Error(`No custom network client was found with the ID "${e}".`);return n}async initializeProvider(){M(this,r,"m",P).call(this,this.state.selectedNetworkClientId)}async lookupNetworkByClientId(e){const t=(0,x.isInfuraNetworkType)(e);let n,i;try{i=await M(this,r,"m",k).call(this,e),n=V.NetworkStatus.Available}catch(e){if(J("NetworkController: lookupNetworkByClientId: ",e),ee(e)){let r;if(t&&(0,K.hasProperty)(e,"message")&&"string"==typeof e.message)try{r=JSON.parse(e.message)}catch{M(this,d,"f")?.warn("NetworkController: lookupNetworkByClientId: json parse error: ",e)}(0,K.isPlainObject)(r)&&r.error===V.INFURA_BLOCKED_KEY?n=V.NetworkStatus.Blocked:e.code===D.errorCodes.rpc.internal?(n=V.NetworkStatus.Unknown,M(this,d,"f")?.warn("NetworkController: lookupNetworkByClientId: rpc internal error: ",e)):(n=V.NetworkStatus.Unavailable,M(this,d,"f")?.warn("NetworkController: lookupNetworkByClientId: ",e))}else{if("undefined"!=typeof Error&&(0,K.hasProperty)(e,"message")&&"string"==typeof e.message&&e.message.includes("No custom network client was found with the ID"))throw e;J("NetworkController - could not determine network status",e),n=V.NetworkStatus.Unknown,M(this,d,"f")?.warn("NetworkController: lookupNetworkByClientId: ",e)}}this.update(t=>{t.networksMetadata[e]===undefined&&(t.networksMetadata[e]={status:V.NetworkStatus.Unknown,EIPS:{}});const r=t.networksMetadata[e];r.status=n,i===undefined?delete r.EIPS[1559]:r.EIPS[1559]=i})}async lookupNetwork(e){if(e)return void await this.lookupNetworkByClientId(e);if(!M(this,i,"f"))return;const t=M(this,l,"f")?.configuration.type===Y.NetworkClientType.Infura;let n=!1;const s=()=>{n=!0;try{this.messagingSystem.unsubscribe("NetworkController:networkDidChange",s)}catch(e){if(!(e instanceof Error)||"Subscription not found for event: NetworkController:networkDidChange"!==e.message)throw e}};let a,o;this.messagingSystem.subscribe("NetworkController:networkDidChange",s);try{const e=await M(this,r,"m",k).call(this,this.state.selectedNetworkClientId);a=V.NetworkStatus.Available,o=e}catch(e){if(ee(e)){let n;if(t&&(0,K.hasProperty)(e,"message")&&"string"==typeof e.message)try{n=JSON.parse(e.message)}catch(e){M(this,d,"f")?.warn("NetworkController: lookupNetwork: json parse error",e)}(0,K.isPlainObject)(n)&&n.error===V.INFURA_BLOCKED_KEY?a=V.NetworkStatus.Blocked:e.code===D.errorCodes.rpc.internal?(a=V.NetworkStatus.Unknown,M(this,d,"f")?.warn("NetworkController: lookupNetwork: rpc internal error",e)):(a=V.NetworkStatus.Unavailable,M(this,d,"f")?.warn("NetworkController: lookupNetwork: ",e))}else J("NetworkController - could not determine network status",e),a=V.NetworkStatus.Unknown,M(this,d,"f")?.warn("NetworkController: lookupNetwork: ",e)}if(!n){try{this.messagingSystem.unsubscribe("NetworkController:networkDidChange",s)}catch(e){if(!(e instanceof Error)||"Subscription not found for event: NetworkController:networkDidChange"!==e.message)throw e}this.update(e=>{const t=e.networksMetadata[e.selectedNetworkClientId];t.status=a,o===undefined?delete t.EIPS[1559]:t.EIPS[1559]=o}),t?a===V.NetworkStatus.Available?this.messagingSystem.publish("NetworkController:infuraIsUnblocked"):a===V.NetworkStatus.Blocked&&this.messagingSystem.publish("NetworkController:infuraIsBlocked"):this.messagingSystem.publish("NetworkController:infuraIsUnblocked")}}async setProviderType(e){if(e===x.NetworkType.rpc)throw new Error(`NetworkController - cannot call "setProviderType" with type "${x.NetworkType.rpc}". Use "setActiveNetwork"`);if(!(0,x.isInfuraNetworkType)(e))throw new Error(`Unknown Infura provider type "${String(e)}".`);await this.setActiveNetwork(e)}async setActiveNetwork(e,t={}){N(this,a,this.state.selectedNetworkClientId,"f"),await M(this,r,"m",y).call(this,e,t)}async getEIP1559Compatibility(e){if(e)return this.get1559CompatibilityWithNetworkClientId(e);if(!M(this,i,"f"))return!1;const{EIPS:t}=this.state.networksMetadata[this.state.selectedNetworkClientId];if(t[1559]!==undefined)return t[1559];const n=await M(this,r,"m",k).call(this,this.state.selectedNetworkClientId);return this.update(e=>{n!==undefined&&(e.networksMetadata[e.selectedNetworkClientId].EIPS[1559]=n)}),n}async get1559CompatibilityWithNetworkClientId(e){let t=this.state.networksMetadata[e];t===undefined&&(await this.lookupNetwork(e),t=this.state.networksMetadata[e]);const{EIPS:n}=t;return n[1559]}async resetConnection(){await M(this,r,"m",y).call(this,this.state.selectedNetworkClientId)}getNetworkConfigurationByChainId(e){return this.state.networkConfigurationsByChainId[e]}getNetworkConfigurationByNetworkClientId(e){return M(this,m,"f").get(e)}addNetwork(e){const{rpcEndpoints:t}=e,n=M(this,r,"m",S).call(this);M(this,r,"m",b).call(this,{mode:"add",networkFields:e,autoManagedNetworkClientRegistry:n});const i=t.map(e=>({type:"add",rpcEndpoint:e.type===Z.Custom?{...e,networkClientId:(0,G.v4)()}:e})),s=M(this,r,"m",v).call(this,{networkFields:e,networkClientOperations:i});return M(this,r,"m",_).call(this,{networkFields:e,networkClientOperations:i,autoManagedNetworkClientRegistry:n}),this.update(t=>{M(this,r,"m",E).call(this,{state:t,mode:"add",networkFields:e,networkConfigurationToPersist:s})}),this.messagingSystem.publish(`${te}:networkAdded`,s),s}async updateNetwork(e,t,{replacementSelectedRpcEndpointIndex:n}={}){const i=this.state.networkConfigurationsByChainId[e];if(i===undefined)throw new Error(`Could not update network: Cannot find network configuration for chain '${e}'`);const s=e,{chainId:a,rpcEndpoints:o}=t,c=M(this,r,"m",S).call(this);M(this,r,"m",b).call(this,{mode:"update",networkFields:t,existingNetworkConfiguration:i,autoManagedNetworkClientRegistry:c});const u=[];for(const e of o){const t=i.rpcEndpoints.find(t=>t.type===e.type&&t.url===e.url&&(t.networkClientId===e.networkClientId||e.networkClientId===undefined)),n=i.rpcEndpoints.find(t=>t.type===Z.Infura&&e.type===Z.Infura||t.type===e.type&&t.networkClientId===e.networkClientId&&t.url===e.url),r=i.rpcEndpoints.find(t=>t.type===e.type&&(t.url===e.url||t.networkClientId===e.networkClientId));if(a!==s&&n!==undefined){const t=e.type===Z.Infura?e:{...e,networkClientId:(0,G.v4)()};u.push({type:"replace",oldRpcEndpoint:n,newRpcEndpoint:t})}else if(t!==undefined){let n;n=t.type===Z.Infura?t:Object.assign({},e,{networkClientId:t.networkClientId}),u.push({type:"noop",rpcEndpoint:n})}else if(r!==undefined){let t;t=e.type===Z.Infura?e:{...e,networkClientId:(0,G.v4)()},u.push({type:"replace",oldRpcEndpoint:r,newRpcEndpoint:t})}else{const t={type:"add",rpcEndpoint:e.type===Z.Infura?e:{...e,networkClientId:(0,G.v4)()}};u.push(t)}}for(const e of i.rpcEndpoints)if(!u.some(t=>{const n="replace"===t.type?t.oldRpcEndpoint:t.rpcEndpoint;return n.type===e.type&&n.networkClientId===e.networkClientId&&n.url===e.url})){const t={type:"remove",rpcEndpoint:e};u.push(t)}const l=M(this,r,"m",v).call(this,{networkFields:t,networkClientOperations:u});if(n===undefined&&u.some(e=>"remove"===e.type&&e.rpcEndpoint.networkClientId===this.state.selectedNetworkClientId)&&!u.some(e=>"replace"===e.type&&e.oldRpcEndpoint.networkClientId===this.state.selectedNetworkClientId))throw new Error(`Could not update network: Cannot update RPC endpoints in such a way that the selected network '${this.state.selectedNetworkClientId}' would be removed without a replacement. Choose a different RPC endpoint as the selected network via the \`replacementSelectedRpcEndpointIndex\` option.`);M(this,r,"m",_).call(this,{networkFields:t,networkClientOperations:u,autoManagedNetworkClientRegistry:c});const d=u.map((e,t)=>[e,t]).find(([e,t])=>"replace"===e.type&&e.oldRpcEndpoint.networkClientId===this.state.selectedNetworkClientId),h=n??d?.[1];let p;if(h!==undefined&&(p=l.rpcEndpoints[h],p===undefined))throw new Error(`Could not update network: \`replacementSelectedRpcEndpointIndex\` ${h} does not refer to an entry in \`rpcEndpoints\``);return p&&p.networkClientId!==this.state.selectedNetworkClientId?await this.setActiveNetwork(p.networkClientId,{updateState:e=>{M(this,r,"m",E).call(this,{state:e,mode:"update",networkFields:t,networkConfigurationToPersist:l,existingNetworkConfiguration:i})}}):this.update(e=>{M(this,r,"m",E).call(this,{state:e,mode:"update",networkFields:t,networkConfigurationToPersist:l,existingNetworkConfiguration:i})}),M(this,r,"m",T).call(this,{networkClientOperations:u,autoManagedNetworkClientRegistry:c}),l}removeNetwork(e){const t=this.state.networkConfigurationsByChainId[e];if(t===undefined)throw new Error(`Cannot find network configuration for chain '${e}'`);if(t.rpcEndpoints.some(e=>e.networkClientId===this.state.selectedNetworkClientId))throw new Error("Cannot remove the currently selected network");const n=M(this,r,"m",S).call(this),i=t.rpcEndpoints.map(e=>({type:"remove",rpcEndpoint:e}));M(this,r,"m",T).call(this,{networkClientOperations:i,autoManagedNetworkClientRegistry:n}),this.update(e=>{M(this,r,"m",E).call(this,{state:e,mode:"remove",existingNetworkConfiguration:t})}),this.messagingSystem.publish("NetworkController:networkRemoved",t)}async rollbackToPreviousProvider(){await M(this,r,"m",y).call(this,M(this,a,"f"))}async destroy(){await(M(this,c,"f")?.destroy())}loadBackup({networkConfigurationsByChainId:e}){this.update(t=>{t.networkConfigurationsByChainId={...t.networkConfigurationsByChainId,...e}})}findNetworkClientIdByChainId(e){const t=this.state.networkConfigurationsByChainId[e];if(!t)throw new Error(`Invalid chain ID "${e}"`);const{networkClientId:n}=t.rpcEndpoints[t.defaultRpcEndpointIndex];return n}}n.NetworkController=le,i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,r=new WeakSet,g=function(e){if(M(this,f,"f")===e)return;const t=M(this,r,"m",S).call(this);for(const n of Object.values(t))for(const t of Object.keys(n)){const r=n[t];r.configuration.failoverRpcUrls&&r.configuration.failoverRpcUrls.length>0&&(e?r.enableRpcFailover():r.disableRpcFailover())}N(this,f,e,"f")},y=async function(e,t={}){this.messagingSystem.publish("NetworkController:networkWillChange",this.state),M(this,r,"m",P).call(this,e,t),this.messagingSystem.publish("NetworkController:networkDidChange",this.state),await this.lookupNetwork()},w=function(e){e===undefined&&(e=this.state.selectedNetworkClientId);const t=this.getNetworkClientById(e),n=new B.default(t.provider);return new Promise((e,t)=>{n.sendAsync({method:"eth_getBlockByNumber",params:["latest",!1]},(n,r)=>{n?t(n):e(r)})})},k=async function(e){const t=await M(this,r,"m",w).call(this,e);return t?t.baseFeePerGas!==undefined:undefined},b=function(e){const{mode:t,networkFields:n,autoManagedNetworkClientRegistry:r}=e,i="existingNetworkConfiguration"in e?e.existingNetworkConfiguration:null,s="update"===t?"Could not update network":"Could not add network";if(!(0,K.isStrictHexString)(n.chainId)||!(0,x.isSafeChainId)(n.chainId))throw new Error(`${s}: Invalid \`chainId\` '${n.chainId}' (must start with "0x" and not exceed the maximum)`);if(null===i||n.chainId!==i.chainId){const t=this.state.networkConfigurationsByChainId[n.chainId];if(t!==undefined)throw null===i?new Error(`Could not add network for chain ${e.networkFields.chainId} as another network for that chain already exists ('${t.name}')`):new Error(`Cannot move network from chain ${i.chainId} to ${n.chainId} as another network for that chain already exists ('${t.name}')`)}if(n.blockExplorerUrls.length>0?n.defaultBlockExplorerUrlIndex===undefined||n.blockExplorerUrls[n.defaultBlockExplorerUrlIndex]===undefined:n.defaultBlockExplorerUrlIndex!==undefined)throw new Error(`${s}: \`defaultBlockExplorerUrlIndex\` must refer to an entry in \`blockExplorerUrls\``);if(0===n.rpcEndpoints.length)throw new Error(`${s}: \`rpcEndpoints\` must be a non-empty array`);for(const e of n.rpcEndpoints){if(!oe(e.url))throw new Error(`${s}: An entry in \`rpcEndpoints\` has invalid URL '${e.url}'`);const a="networkClientId"in e?e.networkClientId:undefined;if(e.type===Z.Custom&&a!==undefined&&(0,x.isInfuraNetworkType)(a))throw new Error(`${s}: Custom RPC endpoint '${e.url}' has invalid network client ID '${a}'`);if("update"===t&&a!==undefined&&e.type===Z.Custom&&!Object.values(r).some(e=>a in e))throw new Error(`${s}: RPC endpoint '${e.url}' refers to network client '${a}' that does not exist`);if(n.rpcEndpoints.some(t=>t!==e&&$.equal(t.url,e.url)))throw new Error(`${s}: Each entry in rpcEndpoints must have a unique URL`);const o=Object.values(this.state.networkConfigurationsByChainId).filter(e=>!i||e.chainId!==i.chainId);for(const n of o){if(n.rpcEndpoints.find(t=>$.equal(e.url,t.url)))throw"update"===t?new Error(`Could not update network to point to same RPC endpoint as existing network for chain ${n.chainId} ('${n.name}')`):new Error(`Could not add network that points to same RPC endpoint as existing network for chain ${n.chainId} ('${n.name}')`)}}if([...new Set(n.rpcEndpoints)].length<n.rpcEndpoints.length)throw new Error(`${s}: Each entry in rpcEndpoints must be unique`);const a=n.rpcEndpoints.map(e=>"networkClientId"in e?e.networkClientId:undefined).filter(e=>e!==undefined);if([...new Set(a)].length<a.length)throw new Error(`${s}: Each entry in rpcEndpoints must have a unique networkClientId`);const o=n.rpcEndpoints.filter(e=>e.type===Z.Infura);if(o.length>1)throw new Error(`${s}: There cannot be more than one Infura RPC endpoint`);const c=o[0];if(c){const e=ce(c.url),r=x.NetworkNickname[e],i=x.ChainId[e];if(n.chainId!==i)throw new Error("add"===t?`Could not add network with chain ID ${n.chainId} and Infura RPC endpoint for '${r}' which represents ${i}, as the two conflict`:`Could not update network with chain ID ${n.chainId} and Infura RPC endpoint for '${r}' which represents ${i}, as the two conflict`)}if(n.rpcEndpoints[n.defaultRpcEndpointIndex]===undefined)throw new Error(`${s}: \`defaultRpcEndpointIndex\` must refer to an entry in \`rpcEndpoints\``)},v=function({networkFields:e,networkClientOperations:t}){return{...e,rpcEndpoints:t.filter(e=>"add"===e.type||"noop"===e.type).map(e=>e.rpcEndpoint).concat(t.filter(e=>"replace"===e.type).map(e=>e.newRpcEndpoint))}},_=function({networkFields:e,networkClientOperations:t,autoManagedNetworkClientRegistry:n}){const r=t.filter(e=>"add"===e.type).map(e=>e.rpcEndpoint).concat(t.filter(e=>"replace"===e.type).map(e=>e.newRpcEndpoint));for(const t of r)t.type===Z.Infura?n[Y.NetworkClientType.Infura][t.networkClientId]=(0,W.createAutoManagedNetworkClient)({networkClientConfiguration:{type:Y.NetworkClientType.Infura,chainId:e.chainId,network:t.networkClientId,failoverRpcUrls:t.failoverUrls,infuraProjectId:M(this,s,"f"),ticker:e.nativeCurrency},getRpcServiceOptions:M(this,h,"f"),getBlockTrackerOptions:M(this,p,"f"),messenger:this.messagingSystem,isRpcFailoverEnabled:M(this,f,"f")}):n[Y.NetworkClientType.Custom][t.networkClientId]=(0,W.createAutoManagedNetworkClient)({networkClientConfiguration:{type:Y.NetworkClientType.Custom,chainId:e.chainId,failoverRpcUrls:t.failoverUrls,rpcUrl:t.url,ticker:e.nativeCurrency},getRpcServiceOptions:M(this,h,"f"),getBlockTrackerOptions:M(this,p,"f"),messenger:this.messagingSystem,isRpcFailoverEnabled:M(this,f,"f")})},T=function({networkClientOperations:e,autoManagedNetworkClientRegistry:t}){const n=e.filter(e=>"remove"===e.type).map(e=>e.rpcEndpoint).concat(e.filter(e=>"replace"===e.type).map(e=>e.oldRpcEndpoint));for(const e of n){const n=this.getNetworkClientById(e.networkClientId);n.destroy(),delete t[n.configuration.type][e.networkClientId]}},E=function(e){const{state:t,mode:n}=e;("remove"===n||"update"===n&&e.networkFields.chainId!==e.existingNetworkConfiguration.chainId)&&delete t.networkConfigurationsByChainId[e.existingNetworkConfiguration.chainId],"add"!==n&&"update"!==n||((0,U.default)(t.networkConfigurationsByChainId[e.networkFields.chainId],e.networkConfigurationToPersist)||(e.networkConfigurationToPersist.lastUpdatedAt=Date.now()),t.networkConfigurationsByChainId[e.networkFields.chainId]=e.networkConfigurationToPersist),N(this,m,ue((0,q.cloneDeep)(t.networkConfigurationsByChainId)),"f")},S=function(){return N(this,u,M(this,u,"f")??M(this,r,"m",A).call(this),"f")},A=function(){return Q(this.state.networkConfigurationsByChainId).flatMap(e=>{const t=this.state.networkConfigurationsByChainId[e];return t.rpcEndpoints.map(e=>{if(e.type===Z.Infura){const n=ce(e.url);return[e.networkClientId,(0,W.createAutoManagedNetworkClient)({networkClientConfiguration:{type:Y.NetworkClientType.Infura,network:n,failoverRpcUrls:e.failoverUrls,infuraProjectId:M(this,s,"f"),chainId:t.chainId,ticker:t.nativeCurrency},getRpcServiceOptions:M(this,h,"f"),getBlockTrackerOptions:M(this,p,"f"),messenger:this.messagingSystem,isRpcFailoverEnabled:M(this,f,"f")})]}return[e.networkClientId,(0,W.createAutoManagedNetworkClient)({networkClientConfiguration:{type:Y.NetworkClientType.Custom,chainId:t.chainId,failoverRpcUrls:e.failoverUrls,rpcUrl:e.url,ticker:t.nativeCurrency},getRpcServiceOptions:M(this,h,"f"),getBlockTrackerOptions:M(this,p,"f"),messenger:this.messagingSystem,isRpcFailoverEnabled:M(this,f,"f")})]})}).reduce((e,[t,n])=>({...e,[n.configuration.type]:{...e[n.configuration.type],[t]:n}}),{[Y.NetworkClientType.Custom]:{},[Y.NetworkClientType.Infura]:{}})},P=function(e,{updateState:t}={}){const n=M(this,r,"m",S).call(this);let s;if((0,x.isInfuraNetworkType)(e)){const t=n[Y.NetworkClientType.Infura][e];if(!t)throw new Error(`No Infura network client found with ID '${e}'`);s=t}else{const t=n[Y.NetworkClientType.Custom][e];if(!t)throw new Error(`No network client found with ID '${e}'`);s=t}N(this,l,s,"f"),this.update(n=>{n.selectedNetworkClientId=e,n.networksMetadata[e]===undefined&&(n.networksMetadata[e]={status:V.NetworkStatus.Unknown,EIPS:{}}),t?.(n)}),M(this,o,"f")?M(this,o,"f").setTarget(M(this,l,"f").provider):N(this,o,(0,L.createEventEmitterProxy)(M(this,l,"f").provider),"f"),M(this,c,"f")?M(this,c,"f").setTarget(M(this,l,"f").blockTracker):N(this,c,(0,L.createEventEmitterProxy)(M(this,l,"f").blockTracker,{eventFilter:"skipInternal"}),"f"),N(this,i,new B.default(M(this,o,"f")),"f")}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/NetworkController.cjs"}],[2165,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.DEPRECATED_NETWORKS=n.INFURA_BLOCKED_KEY=n.NetworkStatus=void 0,function(e){e.Unknown="unknown",e.Available="available",e.Unavailable="unavailable",e.Blocked="blocked"}(r||(n.NetworkStatus=r={})),n.INFURA_BLOCKED_KEY="countryBlocked",n.DEPRECATED_NETWORKS=new Set(["0xe704","0x5"])}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/constants.cjs"}],[2166,{"./create-network-client.cjs":2167},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createAutoManagedNetworkClient=void 0;const r=e("./create-network-client.cjs"),i="__target__",s={__UNINITIALIZED__:!0};n.createAutoManagedNetworkClient=function({networkClientConfiguration:e,getRpcServiceOptions:t,getBlockTrackerOptions:n=()=>({}),messenger:a,isRpcFailoverEnabled:o}){let c,u=o;const l=()=>{if(c??(c=(0,r.createNetworkClient)({configuration:e,getRpcServiceOptions:t,getBlockTrackerOptions:n,messenger:a,isRpcFailoverEnabled:u})),c===undefined)throw new Error("It looks like `createNetworkClient` didn't return anything. Perhaps it's being mocked?");return c},d=new Proxy(s,{get(e,t,n){if(t===i)return c?.provider;const{provider:r}=l();if(t in r){const e=r[t];return"function"==typeof e?function(...t){return e.apply(this===n?r:this,t)}:e}return undefined},has(e,t){if(t===i)return!0;const{provider:n}=l();return t in n}}),h=new Proxy(s,{get(e,t,n){if(t===i)return c?.blockTracker;const{blockTracker:r}=l();if(t in r){const e=r[t];return"function"==typeof e?function(...t){return e.apply(this===n?r:this,t)}:e}return undefined},has(e,t){if(t===i)return!0;const{blockTracker:n}=l();return t in n}}),p=()=>{c?.destroy()};return{configuration:e,provider:d,blockTracker:h,destroy:p,enableRpcFailover:()=>{u=!0,p(),c=undefined},disableRpcFailover:()=>{u=!1,p(),c=undefined}}}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/create-auto-managed-network-client.cjs"}],[2167,{"./rpc-service/rpc-service-chain.cjs":2170,"./types.cjs":2172,"@metamask/controller-utils":1301,"@metamask/eth-block-tracker":1701,"@metamask/eth-json-rpc-infura":1717,"@metamask/eth-json-rpc-middleware":2178,"@metamask/eth-json-rpc-provider":1738,"@metamask/json-rpc-engine":1943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createNetworkClient=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/eth-block-tracker"),s=e("@metamask/eth-json-rpc-infura"),a=e("@metamask/eth-json-rpc-middleware"),o=e("@metamask/eth-json-rpc-provider"),c=e("@metamask/json-rpc-engine"),u=e("./rpc-service/rpc-service-chain.cjs"),l=e("./types.cjs");function d({network:e}){return(0,c.createScaffoldMiddleware)({eth_chainId:r.ChainId[e]})}n.createNetworkClient=function({configuration:e,getRpcServiceOptions:t,getBlockTrackerOptions:n,messenger:r,isRpcFailoverEnabled:p}){const m=e.type===l.NetworkClientType.Infura?`https://${e.network}.infura.io/v3/${e.infuraProjectId}`:e.rpcUrl,f=p?[m,...e.failoverRpcUrls??[]]:[m],g=new u.RpcServiceChain(f.map(e=>({...t(e),endpointUrl:e})));g.onBreak(({endpointUrl:t,failoverEndpointUrl:n,...i})=>{let s;"error"in i?s=i.error:"value"in i&&(s=i.value),r.publish("NetworkController:rpcEndpointUnavailable",{chainId:e.chainId,endpointUrl:t,failoverEndpointUrl:n,error:s})}),g.onDegraded(({endpointUrl:t,...n})=>{let i;"error"in n?i=n.error:"value"in n&&(i=n.value),r.publish("NetworkController:rpcEndpointDegraded",{chainId:e.chainId,endpointUrl:t,error:i})}),g.onRetry(({endpointUrl:e,attempt:t})=>{r.publish("NetworkController:rpcEndpointRequestRetried",{endpointUrl:e,attempt:t})});const y=e.type===l.NetworkClientType.Infura?(0,s.createInfuraMiddleware)({rpcService:g,options:{source:"metamask"}}):(0,a.createFetchMiddleware)({rpcService:g}),w=(0,o.providerFromMiddleware)(y),k=function({networkClientType:e,endpointUrl:t,getOptions:n,provider:r}){const s={};return new i.PollingBlockTracker({...s,...n(t),provider:r})}({networkClientType:e.type,endpointUrl:m,getOptions:n,provider:w}),b=e.type===l.NetworkClientType.Infura?function({blockTracker:e,network:t,rpcProvider:n,rpcApiMiddleware:r}){return(0,c.mergeMiddleware)([d({network:t}),(0,a.createBlockCacheMiddleware)({blockTracker:e}),(0,a.createInflightCacheMiddleware)(),(0,a.createBlockRefMiddleware)({blockTracker:e,provider:n}),(0,a.createRetryOnEmptyMiddleware)({blockTracker:e,provider:n}),(0,a.createBlockTrackerInspectorMiddleware)({blockTracker:e}),r])}({blockTracker:k,network:e.network,rpcProvider:w,rpcApiMiddleware:y}):function({blockTracker:e,chainId:t,rpcApiMiddleware:n}){const r=[];return(0,c.mergeMiddleware)([...r,h(t),(0,a.createBlockRefRewriteMiddleware)({blockTracker:e}),(0,a.createBlockCacheMiddleware)({blockTracker:e}),(0,a.createInflightCacheMiddleware)(),(0,a.createBlockTrackerInspectorMiddleware)({blockTracker:e}),n])}({blockTracker:k,chainId:e.chainId,rpcApiMiddleware:y}),v=new c.JsonRpcEngine;v.push(b);const _=(0,o.providerFromEngine)(v);return{configuration:e,provider:_,blockTracker:k,destroy:()=>{k.destroy()}}};const h=e=>(t,n,r,i)=>"eth_chainId"===t.method?(n.result=e,i()):r()}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/create-network-client.cjs"}],[2168,{"./NetworkController.cjs":2164,"./constants.cjs":2165,"./rpc-service/rpc-service.cjs":2171,"./types.cjs":2172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.isConnectionError=n.NetworkClientType=n.RpcEndpointType=n.NetworkController=n.knownKeysOf=n.selectAvailableNetworkClientIds=n.getDefaultNetworkControllerState=void 0;var s=e("./NetworkController.cjs");Object.defineProperty(n,"getDefaultNetworkControllerState",{enumerable:!0,get:function(){return s.getDefaultNetworkControllerState}}),Object.defineProperty(n,"selectAvailableNetworkClientIds",{enumerable:!0,get:function(){return s.selectAvailableNetworkClientIds}}),Object.defineProperty(n,"knownKeysOf",{enumerable:!0,get:function(){return s.knownKeysOf}}),Object.defineProperty(n,"NetworkController",{enumerable:!0,get:function(){return s.NetworkController}}),Object.defineProperty(n,"RpcEndpointType",{enumerable:!0,get:function(){return s.RpcEndpointType}}),i(e("./constants.cjs"),n);var a=e("./types.cjs");Object.defineProperty(n,"NetworkClientType",{enumerable:!0,get:function(){return a.NetworkClientType}});var o=e("./rpc-service/rpc-service.cjs");Object.defineProperty(n,"isConnectionError",{enumerable:!0,get:function(){return o.isConnectionError}})}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/index.cjs"}],[2169,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("network-controller")}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/logger.cjs"}],[2170,{"./rpc-service.cjs":2171},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.RpcServiceChain=void 0;const c=e("./rpc-service.cjs");n.RpcServiceChain=class{constructor(e){r.add(this),i.set(this,void 0),o(this,i,a(this,r,"m",s).call(this,e),"f")}onRetry(e){const t=a(this,i,"f").map(t=>t.onRetry(e));return{dispose(){t.forEach(e=>e.dispose())}}}onBreak(e){const t=a(this,i,"f").map(t=>t.onBreak(e));return{dispose(){t.forEach(e=>e.dispose())}}}onDegraded(e){const t=a(this,i,"f").map(t=>t.onDegraded(e));return{dispose(){t.forEach(e=>e.dispose())}}}async request(e,t={}){return a(this,i,"f")[0].request(e,t)}},i=new WeakMap,r=new WeakSet,s=function(e){return[...e].reverse().reduce((e,t,n)=>{const r=n>0?e[0]:undefined;return[new c.RpcService({...t,failoverService:r}),...e]},[])}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/rpc-service/rpc-service-chain.cjs"}],[2171,{"@metamask/controller-utils":1301,"@metamask/rpc-errors":2384,"@metamask/utils":2799,deepmerge:3914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},h=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.RpcService=n.isConnectionError=n.CUSTOM_RPC_ERRORS=n.CONNECTION_ERRORS=n.DEFAULT_MAX_CONSECUTIVE_FAILURES=n.DEFAULT_MAX_RETRIES=void 0;const m=e("@metamask/controller-utils"),f=e("@metamask/rpc-errors"),g=e("@metamask/utils"),y=p(e("deepmerge"));function w(e){if("object"!=typeof e||null===e||!("message"in e))return!1;const{message:t}=e;return"string"==typeof t&&!function(e){return e.includes("Nock:")}(t)&&n.CONNECTION_ERRORS.some(({constructorName:n,pattern:r})=>e.constructor.name===n&&r.test(t))}function k(e){return e instanceof SyntaxError||/invalid json/iu.test((0,g.getErrorMessage)(e))}n.DEFAULT_MAX_RETRIES=4,n.DEFAULT_MAX_CONSECUTIVE_FAILURES=3*(1+n.DEFAULT_MAX_RETRIES),n.CONNECTION_ERRORS=[{constructorName:"TypeError",pattern:/network error/u},{constructorName:"TypeError",pattern:/Failed to fetch/u},{constructorName:"TypeError",pattern:/NetworkError when attempting to fetch resource\./u},{constructorName:"TypeError",pattern:/The Internet connection appears to be offline\./u},{constructorName:"TypeError",pattern:/Load failed/u},{constructorName:"TypeError",pattern:/Network request failed/u},{constructorName:"FetchError",pattern:/request to (.+) failed/u},{constructorName:"TypeError",pattern:/fetch failed/u},{constructorName:"TypeError",pattern:/terminated/u}],n.CUSTOM_RPC_ERRORS={unauthorized:-32006,httpClientError:-32080},n.isConnectionError=w;n.RpcService=class{constructor(e){r.add(this),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0);const{btoa:t,endpointUrl:u,failoverService:l,fetch:p,fetchOptions:f={},policyOptions:y={}}=e;d(this,i,p,"f");const b=(v=u)instanceof URL?v:new URL(v);var v;d(this,s,h(this,r,"m",c).call(this,b,f,t),"f"),this.endpointUrl=function(e){const t=new URL(e.toString());return t.username="",t.password="",t}(b),d(this,a,l,"f");const _=(0,m.createServicePolicy)({maxRetries:n.DEFAULT_MAX_RETRIES,maxConsecutiveFailures:n.DEFAULT_MAX_CONSECUTIVE_FAILURES,...y,retryFilterPolicy:(0,m.handleWhen)(e=>w(e)||k(e)||"httpStatus"in e&&(502===e.httpStatus||503===e.httpStatus||504===e.httpStatus)||(0,g.hasProperty)(e,"code")&&("ETIMEDOUT"===e.code||"ECONNRESET"===e.code))});d(this,o,_,"f")}onRetry(e){return h(this,o,"f").onRetry(t=>{e({...t,endpointUrl:this.endpointUrl.toString()})})}onBreak(e){return h(this,o,"f").onBreak(t=>{e({...t,endpointUrl:this.endpointUrl.toString(),failoverEndpointUrl:h(this,a,"f")?h(this,a,"f").endpointUrl.toString():undefined})})}onDegraded(e){return h(this,o,"f").onDegraded(t=>{e({...t??{},endpointUrl:this.endpointUrl.toString()})})}async request(e,t={}){const n=h(this,r,"m",u).call(this,e,t);try{return await h(this,r,"m",l).call(this,n)}catch(t){if(h(this,o,"f").circuitBreakerPolicy.state===m.CircuitState.Open&&h(this,a,"f")!==undefined)return await h(this,a,"f").request(e,n);throw t}}},i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,r=new WeakSet,c=function(e,t,n){if(e.username&&e.password){const r=n(`${e.username}:${e.password}`);return(0,y.default)(t,{headers:{Authorization:`Basic ${r}`}})}return t},u=function(e,t){const n=(0,y.default)({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}},(0,y.default)(h(this,s,"f"),t)),{id:r,jsonrpc:i,method:a,params:o}=e;return{...n,body:JSON.stringify({id:r,jsonrpc:i,method:a,params:o})}},l=async function(e){let t;try{return await h(this,o,"f").execute(async()=>{if(t=await h(this,i,"f").call(this,this.endpointUrl,e),!t.ok)throw new m.HttpError(t.status);return await t.json()})}catch(e){if(e instanceof m.HttpError){const t=e.httpStatus;if(401===t)throw new f.JsonRpcError(n.CUSTOM_RPC_ERRORS.unauthorized,"Unauthorized.",{httpStatus:t});if(429===t)throw f.rpcErrors.limitExceeded({message:"Request is being rate limited.",data:{httpStatus:t}});if(t>=500||402===t||404===t)throw f.rpcErrors.resourceUnavailable({message:"RPC endpoint not found or unavailable.",data:{httpStatus:t}});throw new f.JsonRpcError(n.CUSTOM_RPC_ERRORS.httpClientError,"RPC endpoint returned HTTP client error.",{httpStatus:t})}if(k(e))throw f.rpcErrors.parse({message:"RPC endpoint did not return JSON."});throw e}}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/rpc-service/rpc-service.cjs"}],[2172,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkClientType=void 0,function(e){e.Custom="custom",e.Infura="infura"}(r||(n.NetworkClientType=r={}))}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/types.cjs"}],[2173,{"./logging-utils":2180,"./utils/cache":2188,"@metamask/json-rpc-engine":1943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBlockCacheMiddleware=void 0;const r=e("@metamask/json-rpc-engine"),i=e("./logging-utils"),s=e("./utils/cache"),a=(0,i.createModuleLogger)(i.projectLogger,"block-cache"),o=[undefined,null,"<nil>"];class c{constructor(){this.cache={}}getBlockCache(e){const t=Number.parseInt(e,16);let n=this.cache[t];if(!n){const e={};this.cache[t]=e,n=e}return n}async get(e,t){const n=this.getBlockCache(t),r=(0,s.cacheIdentifierForRequest)(e,!0);return r?n[r]:undefined}async set(e,t,n){if(!this.canCacheResult(e,n))return;const r=(0,s.cacheIdentifierForRequest)(e,!0);if(!r)return;this.getBlockCache(t)[r]=n}canCacheRequest(e){if(!(0,s.canCache)(e.method))return!1;return"pending"!==(0,s.blockTagForRequest)(e)}canCacheResult(e,t){return!o.includes(t)&&!(e.method&&["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)&&(!t||!t.blockHash||"0x0000000000000000000000000000000000000000000000000000000000000000"===t.blockHash))}clearBefore(e){const t=Number.parseInt(e,16);Object.keys(this.cache).map(Number).filter(e=>e<t).forEach(e=>delete this.cache[e])}}n.createBlockCacheMiddleware=function({blockTracker:e}={}){if(!e)throw new Error("createBlockCacheMiddleware - No PollingBlockTracker specified");const t=new c,n={[s.CacheStrategy.Permanent]:t,[s.CacheStrategy.Block]:t,[s.CacheStrategy.Fork]:t,[s.CacheStrategy.Never]:undefined};return(0,r.createAsyncMiddleware)(async(r,i,o)=>{if(r.skipCache)return o();const c=(0,s.cacheTypeForMethod)(r.method),u=n[c];if(!u)return o();if(!u.canCacheRequest(r))return o();const l=(0,s.blockTagForRequest)(r),d=l&&"string"==typeof l?l:"latest";let h;if(a("blockTag = %o, req = %o",d,r),"earliest"===d)h="0x00";else if("latest"===d){a("Fetching latest block number to determine cache key");const n=await e.getLatestBlock();a("Clearing values stored under block numbers before %o",n),t.clearBefore(n),h=n}else h=d;const p=await u.get(r,h);return p===undefined?(a("No cache stored under block number %o, carrying request forward",h),await o(),a("Populating cache with",i),await u.set(r,h,i.result)):(a("Cache hit, reusing cache result stored under block number %o",h),i.result=p),undefined})}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/block-cache.js"}],[2174,{"./utils/cache":2188,"@metamask/json-rpc-engine":1943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBlockRefRewriteMiddleware=void 0;const r=e("@metamask/json-rpc-engine"),i=e("./utils/cache");n.createBlockRefRewriteMiddleware=function({blockTracker:e}={}){if(!e)throw Error('BlockRefRewriteMiddleware - mandatory "blockTracker" option is missing.');return(0,r.createAsyncMiddleware)(async(t,n,r)=>{const s=(0,i.blockTagParamIndex)(t.method);if(s===undefined)return r();if("latest"!==(Array.isArray(t.params)&&t.params[s]?t.params[s]:"latest"))return r();const a=await e.getLatestBlock();return Array.isArray(t.params)&&(t.params[s]=a),r()})}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/block-ref-rewrite.js"}],[2175,{"./logging-utils":2180,"./utils/cache":2188,"@metamask/json-rpc-engine":1943,"klona/full":4386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBlockRefMiddleware=void 0;const r=e("@metamask/json-rpc-engine"),i=e("klona/full"),s=e("./logging-utils"),a=e("./utils/cache"),o=(0,s.createModuleLogger)(s.projectLogger,"block-ref");n.createBlockRefMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('BlockRefMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('BlockRefMiddleware - mandatory "blockTracker" option is missing.');return(0,r.createAsyncMiddleware)(async(n,r,s)=>{var c;const u=(0,a.blockTagParamIndex)(n.method);if(u===undefined)return s();if("latest"!==(Array.isArray(n.params)&&null!==(c=n.params[u])&&void 0!==c?c:"latest"))return o('blockRef is not "latest", carrying request forward'),s();const l=await t.getLatestBlock();o(`blockRef is "latest", setting param ${u} to latest block ${l}`);const d=(0,i.klona)(n);return Array.isArray(d.params)&&(d.params[u]=l),o("Performing another request %o",d),r.result=await e.request(d),undefined})}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/block-ref.js"}],[2176,{"./logging-utils":2180,"@metamask/json-rpc-engine":1943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createBlockTrackerInspectorMiddleware=void 0;const r=e("@metamask/json-rpc-engine"),i=e("./logging-utils"),s=(0,i.createModuleLogger)(i.projectLogger,"block-tracker-inspector"),a=["eth_getTransactionByHash","eth_getTransactionReceipt"];function o(e){const{result:t}=e;return t&&"object"==typeof t&&(n=t,r="blockNumber",Object.hasOwnProperty.call(n,r))&&"string"==typeof t.blockNumber?t.blockNumber:undefined;var n,r}n.createBlockTrackerInspectorMiddleware=function({blockTracker:e}){return(0,r.createAsyncMiddleware)(async(t,n,r)=>{if(!a.includes(t.method))return r();await r();const i=o(n);if(!i)return undefined;s("res.result.blockNumber exists, proceeding. res = %o",n);return Number.parseInt(i,16)>Number.parseInt(e.getCurrentBlock(),16)&&(s("blockNumber from response is greater than current block number, refreshing current block number"),await e.checkForLatestBlock()),undefined})}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/block-tracker-inspector.js"}],[2177,{"./utils/timeout":2192,"@metamask/json-rpc-engine":1943,"@metamask/rpc-errors":2384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFetchConfigFromReq=n.createFetchMiddleware=void 0;const r=e("@metamask/json-rpc-engine"),i=e("@metamask/rpc-errors"),s=e("./utils/timeout"),a=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function o(e){switch(e.status){case 405:throw i.rpcErrors.methodNotFound();case 418:throw i.rpcErrors.internal({message:"Request is being rate limited."});case 503:case 504:throw function(){let e="Gateway timeout. The request took too long to process. ";return e+="This can happen when querying logs over too wide a block range.",i.rpcErrors.internal({message:e})}()}}function c(e,t){if(200!==e.status)throw i.rpcErrors.internal({message:`Non-200 status code: '${e.status}'`,data:t});if(t.error)throw i.rpcErrors.internal({data:t.error});return t.result}function u({btoa:e,req:t,rpcUrl:n,originHttpHeaderKey:r}){const i=new URL(n),s=function(e){let t="";t+=e.protocol,t+=`//${e.hostname}`,e.port&&(t+=`:${e.port}`);return t+=`${e.pathname}`,t+=`${e.search}`,t}(i),a={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},o=t.origin,c={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};if(i.username&&i.password){const t=e(`${i.username}:${i.password}`);c.headers.Authorization=`Basic ${t}`}return r&&o&&(c.headers[r]=o),{fetchUrl:s,fetchParams:c}}n.createFetchMiddleware=function(e){return"rpcService"in e?function({rpcService:e,options:t={}}){return(0,r.createAsyncMiddleware)(async(n,r)=>{const s="originHttpHeaderKey"in t&&t.originHttpHeaderKey!==undefined&&n.origin!==undefined?{[t.originHttpHeaderKey]:n.origin}:{},a=await e.request({id:n.id,jsonrpc:n.jsonrpc,method:n.method,params:n.params},{headers:s});if("error"in a)throw i.rpcErrors.internal({data:a.error});r.result=a.result})}(e):function({btoa:e,fetch:t,rpcUrl:n,originHttpHeaderKey:i}){return(0,r.createAsyncMiddleware)(async(r,l,d)=>{const{fetchUrl:h,fetchParams:p}=u({btoa:e,req:r,rpcUrl:n,originHttpHeaderKey:i}),m=5,f=1e3;for(let e=0;e<m;e++){try{const e=await t(h,p);o(e);const n=await e.text();let r;try{r=JSON.parse(n)}catch(e){throw new Error(`FetchMiddleware - failed to parse response body: "${n}"`)}const i=c(e,r);return void(l.result=i)}catch(e){const t=e.toString();if(!a.some(e=>t.includes(e)))throw e}await(0,s.timeout)(f)}})}(e)},n.createFetchConfigFromReq=u}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/fetch.js"}],[2178,{"./block-cache":2173,"./block-ref":2175,"./block-ref-rewrite":2174,"./block-tracker-inspector":2176,"./fetch":2177,"./inflight-cache":2179,"./methods/wallet-get-calls-status":2181,"./providerAsMiddleware":2186,"./retryOnEmpty":2187,"./wallet":2194},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.GetCallsStatusCode=void 0,i(e("./block-cache"),n),i(e("./block-ref-rewrite"),n),i(e("./block-ref"),n),i(e("./block-tracker-inspector"),n),i(e("./fetch"),n),i(e("./inflight-cache"),n);var s=e("./methods/wallet-get-calls-status");Object.defineProperty(n,"GetCallsStatusCode",{enumerable:!0,get:function(){return s.GetCallsStatusCode}}),i(e("./providerAsMiddleware"),n),i(e("./retryOnEmpty"),n),i(e("./wallet"),n)}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/index.js"}],[2179,{"./logging-utils":2180,"./utils/cache":2188,"@metamask/json-rpc-engine":1943,"klona/full":4386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createInflightCacheMiddleware=void 0;const r=e("@metamask/json-rpc-engine"),i=e("klona/full"),s=e("./logging-utils"),a=e("./utils/cache"),o=(0,s.createModuleLogger)(s.projectLogger,"inflight-cache");n.createInflightCacheMiddleware=function(){const e={};return(0,r.createAsyncMiddleware)(async(t,n,r)=>{if(t.skipCache)return r();const s=(0,a.cacheIdentifierForRequest)(t);if(!s)return o("Request is not cacheable, proceeding. req = %o",t),r();let c=e[s];return c?(o("Running %i handler(s) for request %o",c.length,t),await async function(e,t){const{resolve:n,promise:r}=function(){let e;const t=new Promise(t=>{e=t});return{resolve:e,promise:t}}();return t.push(t=>{e.result=(0,i.klona)(t.result),e.error=(0,i.klona)(t.error),n()}),r}(n,c),undefined):(c=[],e[s]=c,o("Carrying original request forward %o",t),await r(),delete e[s],o("Running %i collected handler(s) for request %o",c.length,t),function(e,t){setTimeout(()=>{t.forEach(t=>{try{t(e)}catch(e){console.error(e)}})})}(n,c),undefined)})}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/inflight-cache.js"}],[2180,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("eth-json-rpc-middleware")}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/logging-utils.js"}],[2181,{"../utils/validation":2193,"@metamask/rpc-errors":2384,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.walletGetCallsStatus=n.GetCallsStatusCode=void 0;const r=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../utils/validation"),o=(0,i.tuple)([s.StrictHexStruct]);!function(e){e[e.PENDING=100]="PENDING",e[e.CONFIRMED=200]="CONFIRMED",e[e.FAILED_OFFCHAIN=400]="FAILED_OFFCHAIN",e[e.REVERTED=500]="REVERTED",e[e.REVERTED_PARTIAL=600]="REVERTED_PARTIAL"}(n.GetCallsStatusCode||(n.GetCallsStatusCode={})),n.walletGetCallsStatus=async function(e,t,{getCallsStatus:n}){if(!n)throw r.rpcErrors.methodNotSupported();(0,a.validateParams)(e.params,o);const i=e.params[0];t.result=await n(i,e)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-get-calls-status.js"}],[2182,{"../utils/validation":2193,"@metamask/rpc-errors":2384,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.walletGetCapabilities=void 0;const r=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../utils/validation"),o=(0,i.tuple)([s.HexChecksumAddressStruct,(0,i.optional)((0,i.array)(s.StrictHexStruct))]);n.walletGetCapabilities=async function(e,t,{getAccounts:n,getCapabilities:i}){if(!i)throw r.rpcErrors.methodNotSupported();(0,a.validateParams)(e.params,o);const s=e.params[0],c=e.params[1];await(0,a.validateAndNormalizeKeyholder)(s,e,{getAccounts:n});const u=await i(s,c,e);t.result=u}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-get-capabilities.js"}],[2183,{"../utils/validation":2193,"@metamask/rpc-errors":2384,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.walletRequestExecutionPermissions=n.RequestExecutionPermissionsStruct=void 0;const r=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../utils/validation"),o=(0,i.object)({type:(0,i.string)(),isAdjustmentAllowed:(0,i.boolean)(),data:(0,i.record)((0,i.string)(),(0,i.unknown)())}),c=(0,i.object)({type:(0,i.string)(),isAdjustmentAllowed:(0,i.boolean)(),data:(0,i.record)((0,i.string)(),(0,i.unknown)())}),u=(0,i.object)({type:(0,i.literal)("account"),data:(0,i.object)({address:s.HexChecksumAddressStruct})}),l=(0,i.object)({chainId:s.StrictHexStruct,address:(0,i.optional)(s.HexChecksumAddressStruct),signer:u,permission:o,rules:(0,i.optional)((0,i.union)([(0,i.array)(c),(0,i.literal)(null)]))});n.RequestExecutionPermissionsStruct=(0,i.array)(l),n.walletRequestExecutionPermissions=async function(e,t,{processRequestExecutionPermissions:i}){if(!i)throw r.rpcErrors.methodNotSupported("wallet_requestExecutionPermissions - no middleware configured");const{params:s}=e;(0,a.validateParams)(s,n.RequestExecutionPermissionsStruct),t.result=await i(s,e)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-request-execution-permissions.js"}],[2184,{"../utils/validation":2193,"@metamask/rpc-errors":2384,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.walletRevokeExecutionPermission=n.RevokeExecutionPermissionRequestParamsStruct=n.RevokeExecutionPermissionResultStruct=void 0;const r=e("@metamask/rpc-errors"),i=e("@metamask/utils"),s=e("../utils/validation");n.RevokeExecutionPermissionResultStruct=(0,i.object)({}),n.RevokeExecutionPermissionRequestParamsStruct=(0,i.object)({permissionContext:i.StrictHexStruct}),n.walletRevokeExecutionPermission=async function(e,t,{processRevokeExecutionPermission:i}){if(!i)throw r.rpcErrors.methodNotSupported("wallet_revokeExecutionPermission - no middleware configured");const{params:a}=e;(0,s.validateParams)(a,n.RevokeExecutionPermissionRequestParamsStruct),t.result=await i(a,e)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-revoke-execution-permission.js"}],[2185,{"../utils/validation":2193,"@metamask/rpc-errors":2384,"@metamask/superstruct":2705,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.walletSendCalls=void 0;const r=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),a=e("../utils/validation"),o=(0,i.record)((0,i.string)(),(0,i.type)({optional:(0,i.optional)((0,i.boolean)())})),c=(0,i.tuple)([(0,i.object)({version:(0,i.nonempty)((0,i.string)()),id:(0,i.optional)(s.StrictHexStruct),from:(0,i.optional)(s.HexChecksumAddressStruct),chainId:s.StrictHexStruct,atomicRequired:(0,i.boolean)(),calls:(0,i.array)((0,i.object)({to:(0,i.optional)(s.HexChecksumAddressStruct),data:(0,i.optional)(s.StrictHexStruct),value:(0,i.optional)(s.StrictHexStruct),capabilities:(0,i.optional)(o)})),capabilities:(0,i.optional)(o)})]);n.walletSendCalls=async function(e,t,{getAccounts:n,processSendCalls:i}){if(!i)throw r.rpcErrors.methodNotSupported();(0,a.validateParams)(e.params,c);const s=e.params[0],o=s.from?await(0,a.validateAndNormalizeKeyholder)(s.from,e,{getAccounts:n}):undefined,u=Object.assign(Object.assign({},s),{from:o});t.result=await i(u,e)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-send-calls.js"}],[2186,{"@metamask/json-rpc-engine":1943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ethersProviderAsMiddleware=n.providerAsMiddleware=void 0;const r=e("@metamask/json-rpc-engine");n.providerAsMiddleware=function(e){return(0,r.createAsyncMiddleware)(async(t,n)=>{n.result=await e.request(t)})},n.ethersProviderAsMiddleware=function(e){return(t,n,r,i)=>{e.send(t,(e,t)=>e?i(e):(Object.assign(n,t),i()))}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/providerAsMiddleware.js"}],[2187,{"./logging-utils":2180,"./utils/cache":2188,"./utils/error":2190,"./utils/timeout":2192,"@metamask/json-rpc-engine":1943,"klona/full":4386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createRetryOnEmptyMiddleware=void 0;const r=e("@metamask/json-rpc-engine"),i=e("klona/full"),s=e("./logging-utils"),a=e("./utils/cache"),o=e("./utils/error"),c=e("./utils/timeout"),u=(0,s.createModuleLogger)(s.projectLogger,"retry-on-empty"),l=[undefined,null,"<nil>"];n.createRetryOnEmptyMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('RetryOnEmptyMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('RetryOnEmptyMiddleware - mandatory "blockTracker" option is missing.');return(0,r.createAsyncMiddleware)(async(n,r,s)=>{const d=(0,a.blockTagParamIndex)(n.method);if(d===undefined)return s();let h=Array.isArray(n.params)&&n.params[d]?n.params[d]:undefined;if(h===undefined&&(h="latest"),["latest","pending"].includes(h))return s();const p=Number.parseInt(h.slice(2),16);if(Number.isNaN(p))return s();const m=await t.getLatestBlock(),f=Number.parseInt(m.slice(2),16);if(p>f)return u("Requested block number %o is higher than latest block number %o, falling through to original request",p,f),s();u("Requested block number %o is not higher than latest block number %o, trying request until non-empty response is received",p,f);const g=(0,i.klona)(n),y=await async function(e,t){for(let n=0;n<e;n++)try{return await t()}catch(e){if((0,o.isExecutionRevertedError)(e))throw e;u("(call %i) Request failed, waiting 1s to retry again...",n+1),await(0,c.timeout)(1e3)}throw u("Retries exhausted"),new Error("RetryOnEmptyMiddleware - retries exhausted")}(10,async()=>{u("Performing request %o",g);const t=await e.request(g);u("Result is %o",t);if(l.includes(t))throw new Error(`RetryOnEmptyMiddleware - empty result "${JSON.stringify(t)}" for request "${JSON.stringify(g)}"`);return t});return u("Copying result %o",y),r.result=y,undefined})}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/retryOnEmpty.js"}],[2188,{"safe-stable-stringify":5220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.cacheTypeForMethod=n.blockTagParamIndex=n.blockTagForRequest=n.canCache=n.cacheIdentifierForRequest=n.CacheStrategy=void 0;const r=(0,e("safe-stable-stringify").configure)({bigint:!1,circularValue:Error});var i;function s(e){return o(e)!==i.Never}function a(e){switch(e){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return undefined}}function o(e){switch(e){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return i.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return i.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return i.Block;default:return i.Never}}!function(e){e.Block="block",e.Fork="fork",e.Never="never",e.Permanent="perma"}(i=n.CacheStrategy||(n.CacheStrategy={})),n.cacheIdentifierForRequest=function(e,t){var n;const i=t?function(e){if(!e.params)return[];const t=a(e.method);if(t===undefined||!Array.isArray(e.params)||t>=e.params.length)return e.params;if("eth_getBlockByNumber"===e.method)return e.params.slice(1);return e.params.slice(0,t)}(e):null!==(n=e.params)&&void 0!==n?n:[];return s(e.method)?`${e.method}:${r(i)}`:null},n.canCache=s,n.blockTagForRequest=function(e){if(!e.params)return undefined;const t=a(e.method);return t===undefined||!Array.isArray(e.params)||t>=e.params.length?undefined:e.params[t]},n.blockTagParamIndex=a,n.cacheTypeForMethod=o}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/cache.js"}],[2189,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stripArrayTypeIfPresent=void 0;n.stripArrayTypeIfPresent=e=>(null==e?void 0:e.match(/\S\[\d*\]$/u))?e.replace(/\[\d*\]$/gu,"").trim():e}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/common.js"}],[2190,{"@metamask/rpc-errors":2384,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isExecutionRevertedError=void 0;const r=e("@metamask/rpc-errors"),i=e("@metamask/utils");n.isExecutionRevertedError=function(e){return(0,i.isJsonRpcError)(e)&&e.code===r.errorCodes.rpc.invalidInput&&"execution reverted"===e.message}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/error.js"}],[2191,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return"string"!=typeof e?e:JSON.parse(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.parseTypedMessage=n.normalizeTypedMessage=void 0,n.normalizeTypedMessage=function(e){var t;let n;try{n=r(e)}catch(t){return e}const{verifyingContract:i}=null!==(t=n.domain)&&void 0!==t?t:{};return i?(n.domain.verifyingContract=function(e){if(e.startsWith("0X"))return`0x${e.slice(2)}`;return e}(i),JSON.stringify(n)):e},n.parseTypedMessage=r}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/normalize.js"}],[2192,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeout=void 0,n.timeout=async function(e){return new Promise(t=>setTimeout(t,e))}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/timeout.js"}],[2193,{"@metamask/rpc-errors":2384,"@metamask/superstruct":2705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.resemblesAddress=n.validateParams=n.validateAndNormalizeKeyholder=void 0;const r=e("@metamask/rpc-errors"),i=e("@metamask/superstruct");function s(e){return 42===e.length}n.validateAndNormalizeKeyholder=async function(e,t,{getAccounts:n}){if("string"==typeof e&&e.length>0&&s(e)){const i=(await n(t)).map(e=>e.toLowerCase()),s=e.toLowerCase();if(i.includes(s))return s;throw r.providerErrors.unauthorized()}throw r.rpcErrors.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})},n.validateParams=function(e,t){const[n]=(0,i.validate)(e,t);if(n)throw r.rpcErrors.invalidParams(function(e,t){return`${t}\n\n${e.failures().map(e=>`${e.path.join(" > ")}${e.path.length?" - ":""}${e.message}`).join("\n")}`}(n,"Invalid params"))},n.resemblesAddress=s}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/validation.js"}],[2194,{"./methods/wallet-get-calls-status":2181,"./methods/wallet-get-capabilities":2182,"./methods/wallet-request-execution-permissions":2183,"./methods/wallet-revoke-execution-permission":2184,"./methods/wallet-send-calls":2185,"./utils/common":2189,"./utils/normalize":2191,"./utils/validation":2193,"@metamask/eth-sig-util":1833,"@metamask/json-rpc-engine":1943,"@metamask/rpc-errors":2384,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.createWalletMiddleware=void 0;const a=s(e("@metamask/eth-sig-util")),o=e("@metamask/json-rpc-engine"),c=e("@metamask/rpc-errors"),u=e("@metamask/utils"),l=e("./methods/wallet-get-calls-status"),d=e("./methods/wallet-get-capabilities"),h=e("./methods/wallet-request-execution-permissions"),p=e("./methods/wallet-revoke-execution-permission"),m=e("./methods/wallet-send-calls"),f=e("./utils/common"),g=e("./utils/normalize"),y=e("./utils/validation");function w(e){const{primaryType:t,types:n}=(0,g.parseTypedMessage)(e);if(!n)throw c.rpcErrors.invalidInput();if(!n[(0,f.stripArrayTypeIfPresent)(t)])throw c.rpcErrors.invalidInput()}function k(e){const{domain:{verifyingContract:t}={}}=(0,g.parseTypedMessage)(e);if(t&&"cosmos"!==t&&!(0,u.isValidHexAddress)(t))throw c.rpcErrors.invalidInput()}n.createWalletMiddleware=function({getAccounts:e,getCallsStatus:t,getCapabilities:n,processDecryptMessage:r,processEncryptionPublicKey:i,processPersonalMessage:s,processTransaction:u,processSignTransaction:f,processTypedMessage:b,processTypedMessageV3:v,processTypedMessageV4:_,processSendCalls:T,processRequestExecutionPermissions:E,processRevokeExecutionPermission:S}){if(!e)throw new Error("opts.getAccounts is required");return(0,o.createScaffoldMiddleware)({eth_accounts:(0,o.createAsyncMiddleware)(async function(t,n){n.result=await e(t)}),eth_coinbase:(0,o.createAsyncMiddleware)(async function(t,n){const r=await e(t);n.result=r[0]||null}),eth_sendTransaction:(0,o.createAsyncMiddleware)(async function(e,t){if(!u)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const n=e.params[0],r=Object.assign(Object.assign({},n),{from:await A((null==n?void 0:n.from)||"",e)});t.result=await u(r,e)}),eth_signTransaction:(0,o.createAsyncMiddleware)(async function(e,t){if(!f)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const n=e.params[0],r=Object.assign(Object.assign({},n),{from:await A((null==n?void 0:n.from)||"",e)});t.result=await f(r,e)}),eth_signTypedData:(0,o.createAsyncMiddleware)(async function(e,t){if(!b)throw c.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const n=e.params,r=n[0],i=await A(n[1],e),s=n[2]||{},a=Object.assign(Object.assign({},s),{from:i,data:r,signatureMethod:"eth_signTypedData",version:"V1"});t.result=await b(a,e,"V1")}),eth_signTypedData_v3:(0,o.createAsyncMiddleware)(async function(e,t){if(!v)throw c.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const n=e.params,r=await A(n[0],e),i=(0,g.normalizeTypedMessage)(n[1]);w(i),k(i);const s={data:i,from:r,version:"V3",signatureMethod:"eth_signTypedData_v3"};t.result=await v(s,e,"V3")}),eth_signTypedData_v4:(0,o.createAsyncMiddleware)(async function(e,t){if(!_)throw c.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const n=e.params,r=await A(n[0],e),i=(0,g.normalizeTypedMessage)(n[1]);w(i),k(i);const s={data:i,from:r,version:"V4",signatureMethod:"eth_signTypedData_v4"};t.result=await _(s,e,"V4")}),personal_sign:(0,o.createAsyncMiddleware)(async function(e,t){if(!s)throw c.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const n=e.params,r=n[0],i=n[1],a=n[2]||{};let o,u;if((0,y.resemblesAddress)(r)&&!(0,y.resemblesAddress)(i)){let e="The eth_personalSign method requires params ordered ";e+="[message, address]. This was previously handled incorrectly, ",e+="and has been corrected automatically. ",e+="Please switch this param order for smooth behavior in the future.",t.warning=e,o=r,u=i}else u=r,o=i;o=await A(o,e);const l=Object.assign(Object.assign({},a),{from:o,data:u,signatureMethod:"personal_sign"});t.result=await s(l,e)}),eth_getEncryptionPublicKey:(0,o.createAsyncMiddleware)(async function(e,t){if(!i)throw c.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const n=e.params,r=await A(n[0],e);t.result=await i(r,e)}),eth_decrypt:(0,o.createAsyncMiddleware)(async function(e,t){if(!r)throw c.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const n=e.params,i=n[0],s=await A(n[1],e),a=n[2]||{},o=Object.assign(Object.assign({},a),{from:s,data:i});t.result=await r(o,e)}),personal_ecRecover:(0,o.createAsyncMiddleware)(async function(e,t){if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const n=e.params,r=n[0],i=n[1],s=a.recoverPersonalSignature({data:r,signature:i});t.result=s}),wallet_getCapabilities:(0,o.createAsyncMiddleware)(async(t,r)=>(0,d.walletGetCapabilities)(t,r,{getAccounts:e,getCapabilities:n})),wallet_sendCalls:(0,o.createAsyncMiddleware)(async(t,n)=>(0,m.walletSendCalls)(t,n,{getAccounts:e,processSendCalls:T})),wallet_getCallsStatus:(0,o.createAsyncMiddleware)(async(e,n)=>(0,l.walletGetCallsStatus)(e,n,{getCallsStatus:t})),wallet_requestExecutionPermissions:(0,o.createAsyncMiddleware)(async(e,t)=>(0,h.walletRequestExecutionPermissions)(e,t,{processRequestExecutionPermissions:E})),wallet_revokeExecutionPermission:(0,o.createAsyncMiddleware)(async(e,t)=>(0,p.walletRevokeExecutionPermission)(e,t,{processRevokeExecutionPermission:S}))});async function A(t,n){return(0,y.validateAndNormalizeKeyholder)(t,n,{getAccounts:e})}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/wallet.js"}],[220,{"../../../../shared/modules/hexstring-utils":5535,"@metamask/eth-sig-util":1833,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEthAddress=a,n.normalizeAddress=function(e){return a(e)?(0,i.normalize)(e):e},n.normalizeSafeAddress=function(e){return a(e)?(0,s.toChecksumHexAddress)(e):e};var r=e("@metamask/utils"),i=e("@metamask/eth-sig-util"),s=e("../../../../shared/modules/hexstring-utils");function a(e){return(0,r.isValidHexAddress)(e)}}}},{package:"$root$",file:"app/scripts/lib/multichain/address.ts"}],[2200,{"@ethersproject/providers":692,assert:3756,"async-mutex":2205},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.NonceTracker=void 0;const d=l(e("assert")),h=e("async-mutex"),p=e("@ethersproject/providers");n.NonceTracker=class{constructor(e){r.set(this,void 0),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),c(this,r,e.provider,"f"),c(this,i,e.blockTracker,"f"),c(this,s,e.getPendingTransactions,"f"),c(this,a,e.getConfirmedTransactions,"f"),c(this,o,{},"f")}setProvider({provider:e,blockTracker:t}){d.default("object"==typeof e,"missing or invalid provider"),d.default("object"==typeof t,"missing or invalid blockTracker"),c(this,r,e,"f"),c(this,i,t,"f")}async getGlobalLock(){const e=this._lookupMutex("global");return{releaseLock:await e.acquire()}}async getNonceLock(e){await this._globalMutexFree();const t=await this._takeMutex(e);try{const n=await this._getNetworkNextNonce(e),r=this._getHighestLocallyConfirmed(e),i=n.nonce,a=Math.max(i,r),o=u(this,s,"f").call(this,e),c=this._getHighestContinuousFrom(o,a),l={params:{highestLocallyConfirmed:r,nextNetworkNonce:i,highestSuggested:a},local:c,network:n},h=Math.max(n.nonce,c.nonce);return d.default(Number.isInteger(h),`nonce-tracker - nextNonce is not an integer - got: (${typeof h}) "${h}"`),{nextNonce:h,nonceDetails:l,releaseLock:t}}catch(e){throw t(),e}}async _globalMutexFree(){const e=this._lookupMutex("global");(await e.acquire())()}async _takeMutex(e){const t=this._lookupMutex(e);return await t.acquire()}_lookupMutex(e){let t=u(this,o,"f")[e];return t||(t=new h.Mutex,u(this,o,"f")[e]=t),t}async _getNetworkNextNonce(e){const t=await u(this,i,"f").getLatestBlock(),n=await new p.Web3Provider(u(this,r,"f")).getTransactionCount(e,t);return d.default(Number.isInteger(n),`nonce-tracker - baseCount is not an integer - got: (${typeof n}) "${n}"`),{name:"network",nonce:n,details:{blockNumber:t,baseCount:n}}}_getHighestLocallyConfirmed(e){const t=u(this,a,"f").call(this,e),n=this._getHighestNonce(t);return Number.isInteger(n)?n+1:0}_getHighestNonce(e){const t=e.map(e=>{const{nonce:t}=e.txParams;return d.default("string"==typeof t,"nonces should be hex strings"),parseInt(t,16)});return Math.max.apply(null,t)}_getHighestContinuousFrom(e,t){const n=e.map(e=>{const{nonce:t}=e.txParams;return d.default("string"==typeof t,"nonces should be hex strings"),parseInt(t,16)});let r=t;for(;n.includes(r);)r+=1;return{name:"local",nonce:r,details:{startPoint:t,highest:r}}}},r=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker",file:"node_modules/@metamask/nonce-tracker/dist/NonceTracker.js"}],[2201,{"./NonceTracker":2200},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NonceTracker=void 0;var r=e("./NonceTracker");Object.defineProperty(n,"NonceTracker",{enumerable:!0,get:function(){return r.NonceTracker}})}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker",file:"node_modules/@metamask/nonce-tracker/dist/index.js"}],[2202,{"./Semaphore":2203,tslib:5321},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("tslib"),i=e("./Semaphore"),s=function(){function e(e){this._semaphore=new i.default(1,e)}return e.prototype.acquire=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=t.sent(),[2,e[1]]}})})},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},e.prototype.release=function(){this._semaphore.release()},e.prototype.cancel=function(){return this._semaphore.cancel()},e}();n.default=s}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/Mutex.js"}],[2203,{"./errors":2204,tslib:5321},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("tslib"),i=e("./errors"),s=function(){function e(e,t){if(void 0===t&&(t=i.E_CANCELED),this._maxConcurrency=e,this._cancelError=t,this._queue=[],this._waiters=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),n=new Promise(function(t,n){return e._queue.push({resolve:t,reject:n})});return t||this._dispatch(),n},e.prototype.runExclusive=function(e){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,n,i;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.acquire()];case 1:t=r.sent(),n=t[0],i=t[1],r.label=2;case 2:return r.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,r.sent()];case 4:return i(),[7];case 5:return[2]}})})},e.prototype.waitForUnlock=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,r.__generator)(this,function(t){return this.isLocked()?[2,new Promise(function(t){return e._waiters.push({resolve:t})})]:[2,Promise.resolve()]})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=undefined,e()}},e.prototype.cancel=function(){var e=this;this._queue.forEach(function(t){return t.reject(e._cancelError)}),this._queue=[]},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._resolveWaiters(),e._dispatch())},t.resolve([this._value--,this._currentReleaser])}},e.prototype._resolveWaiters=function(){this._waiters.forEach(function(e){return e.resolve()}),this._waiters=[]},e}();n.default=s}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/Semaphore.js"}],[2204,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.E_CANCELED=n.E_ALREADY_LOCKED=n.E_TIMEOUT=void 0,n.E_TIMEOUT=new Error("timeout while waiting for mutex to become available"),n.E_ALREADY_LOCKED=new Error("mutex already locked"),n.E_CANCELED=new Error("request for lock canceled")}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/errors.js"}],[2205,{"./Mutex":2202,"./Semaphore":2203,"./errors":2204,"./tryAcquire":2206,"./withTimeout":2207,tslib:5321},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tryAcquire=n.withTimeout=n.Semaphore=n.Mutex=void 0;var r=e("tslib"),i=e("./Mutex");Object.defineProperty(n,"Mutex",{enumerable:!0,get:function(){return i.default}});var s=e("./Semaphore");Object.defineProperty(n,"Semaphore",{enumerable:!0,get:function(){return s.default}});var a=e("./withTimeout");Object.defineProperty(n,"withTimeout",{enumerable:!0,get:function(){return a.withTimeout}});var o=e("./tryAcquire");Object.defineProperty(n,"tryAcquire",{enumerable:!0,get:function(){return o.tryAcquire}}),(0,r.__exportStar)(e("./errors"),n)}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/index.js"}],[2206,{"./errors":2204,"./withTimeout":2207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tryAcquire=void 0;var r=e("./errors"),i=e("./withTimeout");n.tryAcquire=function(e,t){return void 0===t&&(t=r.E_ALREADY_LOCKED),(0,i.withTimeout)(e,0,t)}}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/tryAcquire.js"}],[2207,{"./errors":2204,tslib:5321},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.withTimeout=void 0;var r=e("tslib"),i=e("./errors");n.withTimeout=function(e,t,n){var s=this;return void 0===n&&(n=i.E_TIMEOUT),{acquire:function(){return new Promise(function(i,a){return(0,r.__awaiter)(s,void 0,void 0,function(){var s,o,c,u;return(0,r.__generator)(this,function(r){switch(r.label){case 0:s=!1,o=setTimeout(function(){s=!0,a(n)},t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.acquire()];case 2:return c=r.sent(),s?(Array.isArray(c)?c[1]:c)():(clearTimeout(o),i(c)),[3,4];case 3:return u=r.sent(),s||(clearTimeout(o),a(u)),[3,4];case 4:return[2]}})})})},runExclusive:function(e){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:t=function(){return undefined},r.label=1;case 1:return r.trys.push([1,,7,8]),[4,this.acquire()];case 2:return n=r.sent(),Array.isArray(n)?(t=n[1],[4,e(n[0])]):[3,4];case 3:return[2,r.sent()];case 4:return t=n,[4,e()];case 5:return[2,r.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}})})},release:function(){e.release()},cancel:function(){return e.cancel()},waitForUnlock:function(){return e.waitForUnlock()},isLocked:function(){return e.isLocked()}}}}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/withTimeout.js"}],[2208,{"./constants/notification-schema.cjs":2210,"./processors/process-notifications.cjs":2219,"./services/feature-announcements.cjs":2222,"./services/onchain-notifications.cjs":2224,"./services/perp-notifications.cjs":2225,"@metamask/base-controller":1222,"@metamask/controller-utils":1301,"@metamask/keyring-controller":2004,"@metamask/utils":2799,loglevel:4542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h,p,m,f,g,y,w,k=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),b=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),v=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&k(t,e,n);return b(t,e),t},_=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},T=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},E=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.defaultState=void 0;const S=e("@metamask/base-controller"),A=e("@metamask/controller-utils"),P=e("@metamask/keyring-controller"),j=e("@metamask/utils"),C=E(e("loglevel")),I=e("./constants/notification-schema.cjs"),N=e("./processors/process-notifications.cjs"),M=v(e("./services/feature-announcements.cjs")),O=v(e("./services/onchain-notifications.cjs")),R=e("./services/perp-notifications.cjs"),x="NotificationServicesController",B={subscriptionAccountsSeen:{persist:!0,anonymous:!0},isMetamaskNotificationsFeatureSeen:{persist:!0,anonymous:!1},isNotificationServicesEnabled:{persist:!0,anonymous:!1},isFeatureAnnouncementsEnabled:{persist:!0,anonymous:!1},metamaskNotificationsList:{persist:!0,anonymous:!0},metamaskNotificationsReadList:{persist:!0,anonymous:!0},isUpdatingMetamaskNotifications:{persist:!1,anonymous:!1},isFetchingMetamaskNotifications:{persist:!1,anonymous:!1},isUpdatingMetamaskNotificationsAccount:{persist:!1,anonymous:!1},isCheckingAccountsPresence:{persist:!1,anonymous:!1}};n.defaultState={subscriptionAccountsSeen:[],isMetamaskNotificationsFeatureSeen:!1,isNotificationServicesEnabled:!1,isFeatureAnnouncementsEnabled:!1,metamaskNotificationsList:[],metamaskNotificationsReadList:[],isUpdatingMetamaskNotifications:!1,isFetchingMetamaskNotifications:!1,isUpdatingMetamaskNotificationsAccount:[],isCheckingAccountsPresence:!1};const D=new Set([I.TRIGGER_TYPES.SNAP]);class L extends S.BaseController{constructor({messenger:e,state:t,env:d}){super({messenger:e,metadata:B,name:x,state:{...n.defaultState,...t}}),r.add(this),i.set(this,{isUnlocked:!1,setupLockedStateSubscriptions:e=>{const{isUnlocked:t}=this.messagingSystem.call("KeyringController:getState");T(this,i,"f").isUnlocked=t,this.messagingSystem.subscribe("KeyringController:unlock",()=>{T(this,i,"f").isUnlocked=!0,e()}),this.messagingSystem.subscribe("KeyringController:lock",()=>{T(this,i,"f").isUnlocked=!1})}}),s.set(this,{getBearerToken:async()=>await this.messagingSystem.call("AuthenticationController:getBearerToken"),isSignedIn:()=>this.messagingSystem.call("AuthenticationController:isSignedIn"),signIn:async()=>await this.messagingSystem.call("AuthenticationController:performSignIn")}),a.set(this,{isSetup:!1,subscribeToPushNotifications:async()=>{await this.messagingSystem.call("NotificationServicesPushController:subscribeToPushNotifications")},enablePushNotifications:async e=>{try{await this.messagingSystem.call("NotificationServicesPushController:enablePushNotifications",e)}catch(e){C.default.error("Silently failed to enable push notifications",e)}},disablePushNotifications:async()=>{try{await this.messagingSystem.call("NotificationServicesPushController:disablePushNotifications")}catch(e){C.default.error("Silently failed to disable push notifications",e)}},subscribe:()=>{this.messagingSystem.subscribe("NotificationServicesPushController:onNewNotifications",e=>{this.updateMetamaskNotificationsList(e)})},initializePushNotifications:async()=>{if(this.state.isNotificationServicesEnabled&&!T(this,a,"f").isSetup)try{if(!T(this,i,"f").isUnlocked)throw new Error("Keyring is locked");await this.enablePushNotifications(),T(this,a,"f").isSetup=!0}catch{await T(this,a,"f").subscribeToPushNotifications().catch(()=>{})}}}),o.set(this,{isNotificationAccountsSetup:!1,getNotificationAccounts:()=>{const{keyrings:e}=this.messagingSystem.call("KeyringController:getState"),t=e.find(e=>e.type===P.KeyringTypes.hd.toString());return t?.accounts??null},listAccounts:()=>{const e=T(this,o,"f").getNotificationAccounts();if(!e)return{accountsAdded:[],accountsRemoved:[],accounts:[]};const t=e.map(e=>(0,A.toChecksumHexAddress)(e)).filter(e=>(0,A.isValidHexAddress)(e)),n=new Set(t),r=new Set(this.state.subscriptionAccountsSeen);if(0===t.length)return{accountsAdded:[],accountsRemoved:[],accounts:[]};const i=t.filter(e=>!r.has(e)),s=[...r.values()].filter(e=>!n.has(e));return this.update(e=>{e.subscriptionAccountsSeen=[...n]}),{accountsAdded:i,accountsRemoved:s,accounts:t}},initialize:()=>{T(this,i,"f").isUnlocked&&!T(this,o,"f").isNotificationAccountsSetup&&(T(this,o,"f").listAccounts(),T(this,o,"f").isNotificationAccountsSetup=!0)},subscribe:()=>{this.messagingSystem.subscribe("KeyringController:stateChange",async(e,t)=>{const n=e!==t;if(!this.state.isNotificationServicesEnabled||!n)return;const{accountsAdded:r,accountsRemoved:i}=T(this,o,"f").listAccounts(),s=[];r.length>0&&s.push(this.enableAccounts(r)),i.length>0&&s.push(this.disableAccounts(i)),await Promise.allSettled(s)},e=>e?.keyrings?.flatMap?.(e=>e.accounts)?.length??0)}}),c.set(this,void 0),_(this,c,d.featureAnnouncements,"f"),T(this,r,"m",u).call(this),T(this,r,"m",l).call(this)}init(){T(this,i,"f").setupLockedStateSubscriptions(async()=>{T(this,o,"f").initialize(),await T(this,a,"f").initializePushNotifications()}),T(this,o,"f").initialize(),T(this,a,"f").initializePushNotifications(),T(this,o,"f").subscribe(),T(this,a,"f").subscribe()}async enablePushNotifications(){try{const{bearerToken:e}=await T(this,r,"m",p).call(this),{accounts:t}=T(this,o,"f").listAccounts(),n=(await O.getOnChainNotificationsConfigCached(e,t)).filter(e=>Boolean(e.enabled)).map(e=>e.address);n.length>0&&await T(this,a,"f").enablePushNotifications(n)}catch(e){C.default.error("Failed to enable push notifications",e)}}async disablePushNotifications(){await T(this,a,"f").disablePushNotifications()}async checkAccountsPresence(e){try{T(this,r,"m",g).call(this,!0);const{bearerToken:t}=await T(this,r,"m",p).call(this),n=await O.getOnChainNotificationsConfigCached(t,e),i={};return n.forEach(e=>{i[e.address]=e.enabled}),i}catch(e){throw C.default.error("Failed to check accounts presence",e),e}finally{T(this,r,"m",g).call(this,!1)}}async setFeatureAnnouncementsEnabled(e){try{this.update(t=>{t.isFeatureAnnouncementsEnabled=e})}catch(e){throw C.default.error("Unable to toggle feature announcements",e),new Error("Unable to toggle feature announcements")}}async createOnChainTriggers(e){try{T(this,r,"m",m).call(this,!0);const{bearerToken:t}=await T(this,r,"m",p).call(this),{accounts:n}=T(this,o,"f").listAccounts();let i=(await O.getOnChainNotificationsConfigCached(t,n)).filter(e=>Boolean(e.enabled)).map(e=>e.address);(0===i.length||e?.resetNotifications)&&(await O.updateOnChainNotifications(t,n.map(e=>({address:e,enabled:!0}))),i=n),T(this,a,"f").enablePushNotifications(i).catch(()=>{}),this.update(e=>{e.isNotificationServicesEnabled=!0,e.isFeatureAnnouncementsEnabled=!0,e.isMetamaskNotificationsFeatureSeen=!0})}catch(e){throw C.default.error("Failed to create On Chain triggers",e),new Error("Failed to create On Chain triggers")}finally{T(this,r,"m",m).call(this,!1)}}async enableMetamaskNotifications(){try{T(this,r,"m",m).call(this,!0),await T(this,r,"m",h).call(this),await this.createOnChainTriggers()}catch(e){throw C.default.error("Unable to enable notifications",e),new Error("Unable to enable notifications")}finally{T(this,r,"m",m).call(this,!1)}}async disableNotificationServices(){T(this,r,"m",m).call(this,!0);try{await T(this,a,"f").disablePushNotifications()}catch{}const e=this.state.metamaskNotificationsList.filter(e=>e.type===I.TRIGGER_TYPES.SNAP);this.update(t=>{t.isNotificationServicesEnabled=!1,t.isFeatureAnnouncementsEnabled=!1,t.metamaskNotificationsList=e}),T(this,r,"m",m).call(this,!1)}async disableAccounts(e){try{T(this,r,"m",y).call(this,e);const{bearerToken:t}=await T(this,r,"m",p).call(this);await O.updateOnChainNotifications(t,e.map(e=>({address:e,enabled:!1})))}catch(e){throw C.default.error("Failed to delete OnChain triggers",e),new Error("Failed to delete OnChain triggers")}finally{T(this,r,"m",w).call(this,e)}}async enableAccounts(e){try{T(this,r,"m",y).call(this,e);const{bearerToken:t}=await T(this,r,"m",p).call(this);await O.updateOnChainNotifications(t,e.map(e=>({address:e,enabled:!0})))}catch(e){throw C.default.error("Failed to update OnChain triggers",e),new Error("Failed to update OnChain triggers")}finally{T(this,r,"m",w).call(this,e)}}async fetchAndUpdateMetamaskNotifications(e){try{T(this,r,"m",f).call(this,!0);const t=this.state.isNotificationServicesEnabled,n=t&&this.state.isFeatureAnnouncementsEnabled?await M.getFeatureAnnouncementNotifications(T(this,c,"f"),e).catch(()=>[]):[],i=[];if(t)try{const{bearerToken:e}=await T(this,r,"m",p).call(this),{accounts:t}=T(this,o,"f").listAccounts(),n=(await O.getOnChainNotificationsConfigCached(e,t)).filter(e=>Boolean(e.enabled)).map(e=>e.address),s=await O.getOnChainNotifications(e,n).catch(()=>[]);i.push(...s)}catch{}const s=this.state.metamaskNotificationsList.filter(e=>e.type===I.TRIGGER_TYPES.SNAP),a=this.state.metamaskNotificationsReadList,u=[...(0,N.processAndFilterNotifications)(n,a),...(0,N.processAndFilterNotifications)(i,a),...s];return u.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),this.update(e=>{e.metamaskNotificationsList=u}),this.messagingSystem.publish(`${x}:notificationsListUpdated`,this.state.metamaskNotificationsList),T(this,r,"m",f).call(this,!1),u}catch(e){throw T(this,r,"m",f).call(this,!1),C.default.error("Failed to fetch notifications",e),new Error("Failed to fetch notifications")}}getNotificationsByType(e){return(0,j.assert)(Object.values(I.TRIGGER_TYPES).includes(e),"Invalid trigger type."),this.state.metamaskNotificationsList.filter(t=>t.type===e)}async deleteNotificationById(e){const t=this.state.metamaskNotificationsList.find(t=>t.id===e);(0,j.assert)(t,"The notification to be deleted does not exist."),(0,j.assert)(D.has(t.type),`The notification type of "${t.type}" is not locally persisted, only the following types can use this function: ${[...D].join(", ")}.`);const n=this.state.metamaskNotificationsList.filter(t=>t.id!==e);this.update(e=>{e.metamaskNotificationsList=n})}async deleteNotificationsById(e){for(const t of e)await this.deleteNotificationById(t);this.messagingSystem.publish(`${x}:notificationsListUpdated`,this.state.metamaskNotificationsList)}async markMetamaskNotificationsAsRead(e){let t=[],n=[],r=[];try{const[i,a,o]=e.reduce((e,t)=>{if(!t.isRead)switch(t.type){case I.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT:e[1].push(t);break;case I.TRIGGER_TYPES.SNAP:e[2].push(t);break;default:e[0].push(t)}return e},[[],[],[]]);if(i.length>0){const e=await T(this,s,"f").getBearerToken();e&&(t=i.map(e=>e.id),await O.markNotificationsAsRead(e,t).catch(()=>{t=[],C.default.warn("Unable to mark onchain notifications as read")}))}a.length>0&&(n=a.map(e=>e.id)),o.length>0&&(r=o.map(e=>e.id))}catch(e){C.default.warn("Something failed when marking notifications as read",e)}this.update(e=>{const i=e.metamaskNotificationsReadList,s=[...n,...r];e.metamaskNotificationsReadList=[...new Set([...i,...s])],e.metamaskNotificationsList=e.metamaskNotificationsList.map(e=>s.includes(e.id)||t.includes(e.id)?e.type===I.TRIGGER_TYPES.SNAP?{...e,isRead:!0,readDate:(new Date).toISOString()}:{...e,isRead:!0}:e)}),this.messagingSystem.publish(`${x}:markNotificationsAsRead`,this.state.metamaskNotificationsList)}async updateMetamaskNotificationsList(e){if(this.state.metamaskNotificationsList.some(t=>t.id===e.id))return;const t=(0,N.safeProcessNotification)(e);t&&(this.update(e=>{new Set(e.metamaskNotificationsList.map(e=>e.id)).has(t.id)||(e.metamaskNotificationsList=[t,...e.metamaskNotificationsList])}),this.messagingSystem.publish(`${x}:notificationsListUpdated`,this.state.metamaskNotificationsList))}async sendPerpPlaceOrderNotification(e){try{const{bearerToken:t}=await T(this,r,"m",p).call(this);await(0,R.createPerpOrderNotification)(t,e)}catch{}}}i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,r=new WeakSet,u=function(){this.messagingSystem.registerActionHandler(`${x}:updateMetamaskNotificationsList`,this.updateMetamaskNotificationsList.bind(this)),this.messagingSystem.registerActionHandler(`${x}:disableNotificationServices`,this.disableNotificationServices.bind(this)),this.messagingSystem.registerActionHandler(`${x}:getNotificationsByType`,this.getNotificationsByType.bind(this)),this.messagingSystem.registerActionHandler(`${x}:deleteNotificationsById`,this.deleteNotificationsById.bind(this))},l=function(){this.update(e=>{e.isUpdatingMetamaskNotifications=!1,e.isCheckingAccountsPresence=!1,e.isFetchingMetamaskNotifications=!1,e.isUpdatingMetamaskNotificationsAccount=[]})},d=function(){if(!T(this,s,"f").isSignedIn())throw this.update(e=>{e.isNotificationServicesEnabled=!1}),new Error("User is not signed in.")},h=async function(){T(this,s,"f").isSignedIn()||await T(this,s,"f").signIn()},p=async function(){T(this,r,"m",d).call(this);const e=await T(this,s,"f").getBearerToken();if(!e)throw new Error("Missing BearerToken");return{bearerToken:e}},m=function(e){this.update(t=>{t.isUpdatingMetamaskNotifications=e})},f=function(e){this.update(t=>{t.isFetchingMetamaskNotifications=e})},g=function(e){this.update(t=>{t.isCheckingAccountsPresence=e})},y=function(e){this.update(t=>{const n=new Set([...t.isUpdatingMetamaskNotificationsAccount,...e]);t.isUpdatingMetamaskNotificationsAccount=Array.from(n)})},w=function(e){this.update(t=>{t.isUpdatingMetamaskNotificationsAccount=t.isUpdatingMetamaskNotificationsAccount.filter(t=>!e.includes(t))})},n.default=L}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/NotificationServicesController.cjs"}],[2209,{"./notification-schema.cjs":2210},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./notification-schema.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/constants/index.cjs"}],[2210,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.NOTIFICATION_CHAINS_ID=n.TRIGGER_TYPES_GROUPS=n.TRIGGER_TYPES_WALLET_SET=n.TRIGGER_TYPES=void 0,function(e){e.FEATURES_ANNOUNCEMENT="features_announcement",e.METAMASK_SWAP_COMPLETED="metamask_swap_completed",e.ERC20_SENT="erc20_sent",e.ERC20_RECEIVED="erc20_received",e.ETH_SENT="eth_sent",e.ETH_RECEIVED="eth_received",e.ROCKETPOOL_STAKE_COMPLETED="rocketpool_stake_completed",e.ROCKETPOOL_UNSTAKE_COMPLETED="rocketpool_unstake_completed",e.LIDO_STAKE_COMPLETED="lido_stake_completed",e.LIDO_WITHDRAWAL_REQUESTED="lido_withdrawal_requested",e.LIDO_WITHDRAWAL_COMPLETED="lido_withdrawal_completed",e.LIDO_STAKE_READY_TO_BE_WITHDRAWN="lido_stake_ready_to_be_withdrawn",e.ERC721_SENT="erc721_sent",e.ERC721_RECEIVED="erc721_received",e.ERC1155_SENT="erc1155_sent",e.ERC1155_RECEIVED="erc1155_received",e.AAVE_V3_HEALTH_FACTOR="aave_v3_health_factor",e.ENS_EXPIRATION="ens_expiration",e.LIDO_STAKING_REWARDS="lido_staking_rewards",e.ROCKETPOOL_STAKING_REWARDS="rocketpool_staking_rewards",e.NOTIONAL_LOAN_EXPIRATION="notional_loan_expiration",e.SPARK_FI_HEALTH_FACTOR="spark_fi_health_factor",e.SNAP="snap"}(r||(n.TRIGGER_TYPES=r={})),n.TRIGGER_TYPES_WALLET_SET=new Set([r.METAMASK_SWAP_COMPLETED,r.ERC20_SENT,r.ERC20_RECEIVED,r.ETH_SENT,r.ETH_RECEIVED,r.ROCKETPOOL_STAKE_COMPLETED,r.ROCKETPOOL_UNSTAKE_COMPLETED,r.LIDO_STAKE_COMPLETED,r.LIDO_WITHDRAWAL_REQUESTED,r.LIDO_WITHDRAWAL_COMPLETED,r.LIDO_STAKE_READY_TO_BE_WITHDRAWN,r.ERC721_SENT,r.ERC721_RECEIVED,r.ERC1155_SENT,r.ERC1155_RECEIVED]),function(e){e.RECEIVED="received",e.SENT="sent",e.DEFI="defi"}(i||(n.TRIGGER_TYPES_GROUPS=i={})),n.NOTIFICATION_CHAINS_ID={ETHEREUM:"1",OPTIMISM:"10",BSC:"56",BASE:"8453",POLYGON:"137",ARBITRUM:"42161",AVALANCHE:"43114",LINEA:"59144",SEI:"1329"}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/constants/notification-schema.cjs"}],[2211,{"../shared/index.cjs":2241,"./NotificationServicesController.cjs":2208,"./constants/index.cjs":2209,"./mocks/index.cjs":2212,"./processors/index.cjs":2217,"./ui/index.cjs":2227},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.UI=n.Mocks=n.Constants=n.Processors=n.Controller=void 0;const c=o(e("./NotificationServicesController.cjs"));n.Controller=c.default;const u=c.default;n.default=u,s(e("./NotificationServicesController.cjs"),n),n.Processors=a(e("./processors/index.cjs")),s(e("./processors/index.cjs"),n),n.Constants=a(e("./constants/index.cjs")),s(e("./constants/index.cjs"),n),n.Mocks=a(e("./mocks/index.cjs")),n.UI=a(e("./ui/index.cjs")),s(e("../shared/index.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/index.cjs"}],[2212,{"./mock-feature-announcements.cjs":2213,"./mock-raw-notifications.cjs":2214,"./mock-snap-notification.cjs":2215,"./mockResponses.cjs":2216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./mock-feature-announcements.cjs"),n),i(e("./mock-raw-notifications.cjs"),n),i(e("./mockResponses.cjs"),n),i(e("./mock-snap-notification.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/index.cjs"}],[2213,{"../constants/notification-schema.cjs":2210},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createMockFeatureAnnouncementRaw=n.createMockFeatureAnnouncementAPIResult=void 0;const r=e("../constants/notification-schema.cjs");n.createMockFeatureAnnouncementAPIResult=function(){return{sys:{type:"Array"},total:17,skip:0,limit:1,items:[{metadata:{tags:[]},sys:{space:{sys:{type:"Link",linkType:"Space",id:"jdkgyfmyd9sw"}},id:"1ABRmHaNCgmxROKXXLXsMu",type:"Entry",createdAt:"2024-04-09T13:24:01.872Z",updatedAt:"2024-04-09T13:24:01.872Z",environment:{sys:{id:"master",type:"Link",linkType:"Environment"}},revision:1,contentType:{sys:{type:"Link",linkType:"ContentType",id:"productAnnouncement"}},locale:"en-US"},fields:{title:"Donâ€™t miss out on airdrops and new NFT mints!",id:"dont-miss-out-on-airdrops-and-new-nft-mints",category:"ANNOUNCEMENT",shortDescription:"Check your airdrop eligibility and see trending NFT drops. Head over to the Explore tab to get started. ",image:{sys:{type:"Link",linkType:"Asset",id:"5jqq8sFeLc6XEoeWlpI3aB"}},longDescription:{data:{},content:[{data:{},content:[{data:{},marks:[],value:"You can now verify if any of your connected addresses are eligible for airdrops and other ERC-20 claims in a secure and convenient way. Weâ€™ve also added trending NFT mints based on creators youâ€™ve minted from before or other tokens you hold. Head over to the Explore tab to get started. \n",nodeType:"text"}],nodeType:"paragraph"}],nodeType:"document"},link:{sys:{type:"Link",linkType:"Entry",id:"62xKYM2ydo4F1mS5q97K5q"}}}}],includes:{Entry:[{metadata:{tags:[]},sys:{space:{sys:{type:"Link",linkType:"Space",id:"jdkgyfmyd9sw"}},id:"62xKYM2ydo4F1mS5q97K5q",type:"Entry",createdAt:"2024-04-09T13:23:03.636Z",updatedAt:"2024-04-09T13:23:03.636Z",environment:{sys:{id:"master",type:"Link",linkType:"Environment"}},revision:1,contentType:{sys:{type:"Link",linkType:"ContentType",id:"link"}},locale:"en-US"},fields:{extensionLinkText:"Try now",extensionLinkRoute:"home.html"}}],Asset:[{metadata:{tags:[]},sys:{space:{sys:{type:"Link",linkType:"Space",id:"jdkgyfmyd9sw"}},id:"5jqq8sFeLc6XEoeWlpI3aB",type:"Asset",createdAt:"2024-04-09T13:23:13.327Z",updatedAt:"2024-04-09T13:23:13.327Z",environment:{sys:{id:"master",type:"Link",linkType:"Environment"}},revision:1,locale:"en-US"},fields:{title:"PDAPP notification image Airdrops & NFT mints",description:"",file:{url:"//images.ctfassets.net/jdkgyfmyd9sw/5jqq8sFeLc6XEoeWlpI3aB/73ee0f1afa9916c3a7538b0bbee09c26/PDAPP_notification_image_Airdrops___NFT_mints.png",details:{size:797731,image:{width:2880,height:1921}},fileName:"PDAPP notification image_Airdrops & NFT mints.png",contentType:"image/png"}}}]}}},n.createMockFeatureAnnouncementRaw=function(){return{type:r.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT,createdAt:"2999-04-09T13:24:01.872Z",data:{id:"dont-miss-out-on-airdrops-and-new-nft-mints",category:"ANNOUNCEMENT",title:"Donâ€™t miss out on airdrops and new NFT mints!",longDescription:"<p>You can now verify if any of your connected addresses are eligible for airdrops and other ERC-20 claims in a secure and convenient way. Weâ€™ve also added trending NFT mints based on creators youâ€™ve minted from before or other tokens you hold. Head over to the Explore tab to get started.</p>",shortDescription:"Check your airdrop eligibility and see trending NFT drops. Head over to the Explore tab to get started.",image:{title:"PDAPP notification image Airdrops & NFT mints",description:"",url:"//images.ctfassets.net/jdkgyfmyd9sw/5jqq8sFeLc6XEoeWlpI3aB/73ee0f1afa9916c3a7538b0bbee09c26/PDAPP_notification_image_Airdrops___NFT_mints.png"},extensionLink:{extensionLinkText:"Try now",extensionLinkRoute:"home.html"}}}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/mock-feature-announcements.cjs"}],[2214,{"../constants/notification-schema.cjs":2210},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createMockRawOnChainNotifications=n.createMockNotificationSparkFiHealthFactor=n.createMockNotificationRocketpoolStakingRewards=n.createMockNotificationNotionalLoanExpiration=n.createMockNotificationLidoStakingRewards=n.createMockNotificationEnsExpiration=n.createMockNotificationAaveV3HealthFactor=n.createMockNotificationLidoReadyToBeWithdrawn=n.createMockNotificationLidoWithdrawalCompleted=n.createMockNotificationLidoWithdrawalRequested=n.createMockNotificationLidoStakeCompleted=n.createMockNotificationRocketPoolUnStakeCompleted=n.createMockNotificationRocketPoolStakeCompleted=n.createMockNotificationMetaMaskSwapsCompleted=n.createMockNotificationERC1155Received=n.createMockNotificationERC1155Sent=n.createMockNotificationERC721Received=n.createMockNotificationERC721Sent=n.createMockNotificationERC20Received=n.createMockNotificationERC20Sent=n.createMockNotificationEthReceived=n.createMockNotificationEthSent=void 0;const r=e("../constants/notification-schema.cjs");function i(){return{type:r.TRIGGER_TYPES.ETH_SENT,id:"3fa85f64-5717-4562-b3fc-2c963f66afa7",trigger_id:"3fa85f64-5717-4562-b3fc-2c963f66afa7",chain_id:1,block_number:17485840,block_timestamp:"2022-03-01T00:00:00Z",tx_hash:"0xb2256b183f2fb3872f99294ab55fb03e6a479b0d4aca556a3b27568b712505a6",unread:!0,created_at:"2022-03-01T00:00:00Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"eth_sent",network_fee:{gas_price:"207806259583",native_token_price_in_usd:"0.83"},from:"0x881D40237659C251811CEC9c364ef91dC08D300C",to:"0x881D40237659C251811CEC9c364ef91dC08D300D",amount:{usd:"670.64",eth:"0.005"}}}}n.createMockNotificationEthSent=i,n.createMockNotificationEthReceived=function(){return{type:r.TRIGGER_TYPES.ETH_RECEIVED,id:"3fa85f64-5717-4562-b3fc-2c963f66afa8",trigger_id:"3fa85f64-5717-4562-b3fc-2c963f66afa8",chain_id:1,block_number:17485840,block_timestamp:"2022-03-01T00:00:00Z",tx_hash:"0xb2256b183f2fb3872f99294ab55fb03e6a479b0d4aca556a3b27568b712505a6",unread:!0,created_at:"2022-03-01T00:00:00Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"eth_received",network_fee:{gas_price:"207806259583",native_token_price_in_usd:"0.83"},from:"0x881D40237659C251811CEC9c364ef91dC08D300C",to:"0x881D40237659C251811CEC9c364ef91dC08D300D",amount:{usd:"670.64",eth:"808.000000000000000000"}}}},n.createMockNotificationERC20Sent=function(){return{type:r.TRIGGER_TYPES.ERC20_SENT,id:"3fa85f64-5717-4562-b3fc-2c963f66afa9",trigger_id:"3fa85f64-5717-4562-b3fc-2c963f66afa9",chain_id:1,block_number:17485840,block_timestamp:"2022-03-01T00:00:00Z",tx_hash:"0xb2256b183f2fb3872f99294ab55fb03e6a479b0d4aca556a3b27568b712505a6",unread:!0,created_at:"2022-03-01T00:00:00Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"erc20_sent",network_fee:{gas_price:"207806259583",native_token_price_in_usd:"0.83"},to:"0xecc19e177d24551aa7ed6bc6fe566eca726cc8a9",from:"0x1231deb6f5749ef6ce6943a275a1d3e7486f4eae",token:{usd:"1.00",name:"USDC",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/usdc.svg",amount:"4956250000",symbol:"USDC",address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",decimals:"6"}}}},n.createMockNotificationERC20Received=function(){return{type:r.TRIGGER_TYPES.ERC20_RECEIVED,id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",trigger_id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",chain_id:1,block_number:17485840,block_timestamp:"2022-03-01T00:00:00Z",tx_hash:"0xb2256b183f2fb3872f99294ab55fb03e6a479b0d4aca556a3b27568b712505a6",unread:!0,created_at:"2022-03-01T00:00:00Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"erc20_received",network_fee:{gas_price:"207806259583",native_token_price_in_usd:"0.83"},to:"0xeae7380dd4cef6fbd1144f49e4d1e6964258a4f4",from:"0x51c72848c68a965f66fa7a88855f9f7784502a7f",token:{usd:"0.00",name:"SHIBA INU",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/shib.svg",amount:"8382798736999999457296646144",symbol:"SHIB",address:"0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce",decimals:"18"}}}},n.createMockNotificationERC721Sent=function(){return{type:r.TRIGGER_TYPES.ERC721_SENT,block_number:18576643,block_timestamp:"1700043467",chain_id:1,created_at:"2023-11-15T11:08:17.895407Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{to:"0xf47f628fe3bd2595e9ab384bfffc3859b448e451",nft:{name:"Captainz #8680",image:"https://i.seadn.io/s/raw/files/ae0fc06714ff7fb40217340d8a242c0e.gif?w=500&auto=format",token_id:"8680",collection:{name:"The Captainz",image:"https://i.seadn.io/gcs/files/6df4d75778066bce740050615bc84e21.png?w=500&auto=format",symbol:"Captainz",address:"0x769272677fab02575e84945f03eca517acc544cc"}},from:"0x24a0bb54b7e7a8e406e9b28058a9fd6c49e6df4f",kind:"erc721_sent",network_fee:{gas_price:"24550653274",native_token_price_in_usd:"1986.61"}},id:"a4193058-9814-537e-9df4-79dcac727fb6",trigger_id:"028485be-b994-422b-a93b-03fcc01ab715",tx_hash:"0x0833c69fb41cf972a0f031fceca242939bc3fcf82b964b74606649abcad371bd",unread:!0}},n.createMockNotificationERC721Received=function(){return{type:r.TRIGGER_TYPES.ERC721_RECEIVED,block_number:18571446,block_timestamp:"1699980623",chain_id:1,created_at:"2023-11-14T17:40:52.319281Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{to:"0xba7f3daa8adfdad686574406ab9bd5d2f0a49d2e",nft:{name:"The Plague #2722",image:"https://i.seadn.io/s/raw/files/a96f90ec8ebf55a2300c66a0c46d6a16.png?w=500&auto=format",token_id:"2722",collection:{name:"The Plague NFT",image:"https://i.seadn.io/gcs/files/4577987a5ca45ca5118b2e31559ee4d1.jpg?w=500&auto=format",symbol:"FROG",address:"0xc379e535caff250a01caa6c3724ed1359fe5c29b"}},from:"0x24a0bb54b7e7a8e406e9b28058a9fd6c49e6df4f",kind:"erc721_received",network_fee:{gas_price:"53701898538",native_token_price_in_usd:"2047.01"}},id:"00a79d24-befa-57ed-a55a-9eb8696e1654",trigger_id:"d24ac26a-8579-49ec-9947-d04d63592ebd",tx_hash:"0xe554c9e29e6eeca8ba94da4d047334ba08b8eb9ca3b801dd69cec08dfdd4ae43",unread:!0}},n.createMockNotificationERC1155Sent=function(){return{type:r.TRIGGER_TYPES.ERC1155_SENT,block_number:18615206,block_timestamp:"1700510003",chain_id:1,created_at:"2023-11-20T20:44:10.110706Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{to:"0x15bd77ccacf2da39b84f0c31fee2e451225bb190",nft:{name:"IlluminatiNFT DAO",image:"https://i.seadn.io/gcs/files/79a77cb37c7b2f1069f752645d29fea7.jpg?w=500&auto=format",token_id:"1",collection:{name:"IlluminatiNFT DAO",image:"https://i.seadn.io/gae/LTKz3om2eCQfn3M6PkqEmY7KhLtdMCOm0QVch2318KJq7-KyToCH7NBTMo4UuJ0AZI-oaBh1HcgrAEIEWYbXY3uMcYpuGXunaXEh?w=500&auto=format",symbol:"TRUTH",address:"0xe25f0fe686477f9df3c2876c4902d3b85f75f33a"}},from:"0x0000000000000000000000000000000000000000",kind:"erc1155_sent",network_fee:{gas_price:"33571446596",native_token_price_in_usd:"2038.88"}},id:"a09ff9d1-623a-52ab-a3d4-c7c8c9a58362",trigger_id:"e2130f7d-78b8-4c34-999a-3f3d3bb5b03c",tx_hash:"0x03381aba290facbaf71c123e263c8dc3dd550aac00ef589cce395182eaeff76f",unread:!0}},n.createMockNotificationERC1155Received=function(){return{type:r.TRIGGER_TYPES.ERC1155_RECEIVED,block_number:18615206,block_timestamp:"1700510003",chain_id:1,created_at:"2023-11-20T20:44:10.110706Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{to:"0x15bd77ccacf2da39b84f0c31fee2e451225bb190",nft:{name:"IlluminatiNFT DAO",image:"https://i.seadn.io/gcs/files/79a77cb37c7b2f1069f752645d29fea7.jpg?w=500&auto=format",token_id:"1",collection:{name:"IlluminatiNFT DAO",image:"https://i.seadn.io/gae/LTKz3om2eCQfn3M6PkqEmY7KhLtdMCOm0QVch2318KJq7-KyToCH7NBTMo4UuJ0AZI-oaBh1HcgrAEIEWYbXY3uMcYpuGXunaXEh?w=500&auto=format",symbol:"TRUTH",address:"0xe25f0fe686477f9df3c2876c4902d3b85f75f33a"}},from:"0x0000000000000000000000000000000000000000",kind:"erc1155_received",network_fee:{gas_price:"33571446596",native_token_price_in_usd:"2038.88"}},id:"b6b93c84-e8dc-54ed-9396-7ea50474843a",trigger_id:"710c8abb-43a9-42a5-9d86-9dd258726c82",tx_hash:"0x03381aba290facbaf71c123e263c8dc3dd550aac00ef589cce395182eaeff76f",unread:!0}},n.createMockNotificationMetaMaskSwapsCompleted=function(){return{type:r.TRIGGER_TYPES.METAMASK_SWAP_COMPLETED,block_number:18377666,block_timestamp:"1697637275",chain_id:1,created_at:"2023-10-18T13:58:49.854596Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"metamask_swap_completed",rate:"1558.27",token_in:{usd:"1576.73",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"9000000000000000",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18",name:"Ethereum"},token_out:{usd:"1.00",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/usdt.svg",amount:"14024419",symbol:"USDT",address:"0xdac17f958d2ee523a2206206994597c13d831ec7",decimals:"6",name:"USDT"},network_fee:{gas_price:"15406129273",native_token_price_in_usd:"1576.73"}},id:"7ddfe6a1-ac52-5ffe-aa40-f04242db4b8b",trigger_id:"d2eaa2eb-2e6e-4fd5-8763-b70ea571b46c",tx_hash:"0xf69074290f3aa11bce567aabc9ca0df7a12559dfae1b80ba1a124e9dfe19ecc5",unread:!0}},n.createMockNotificationRocketPoolStakeCompleted=function(){return{type:r.TRIGGER_TYPES.ROCKETPOOL_STAKE_COMPLETED,block_number:18585057,block_timestamp:"1700145059",chain_id:1,created_at:"2023-11-20T12:02:48.796824Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"rocketpool_stake_completed",stake_in:{usd:"2031.86",name:"Ethereum",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"190690478063438272",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18"},stake_out:{usd:"2226.49",name:"Rocket Pool ETH",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/rETH.svg",amount:"175024360778165879",symbol:"RETH",address:"0xae78736Cd615f374D3085123A210448E74Fc6393",decimals:"18"},network_fee:{gas_price:"36000000000",native_token_price_in_usd:"2031.86"}},id:"c2a2f225-b2fb-5d6c-ba56-e27a5c71ffb9",trigger_id:"5110ff97-acff-40c0-83b4-11d487b8c7b0",tx_hash:"0xcfc0693bf47995907b0f46ef0644cf16dd9a0de797099b2e00fd481e1b2117d3",unread:!0}},n.createMockNotificationRocketPoolUnStakeCompleted=function(){return{type:r.TRIGGER_TYPES.ROCKETPOOL_UNSTAKE_COMPLETED,block_number:18384336,block_timestamp:"1697718011",chain_id:1,created_at:"2023-10-19T13:11:10.623042Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"rocketpool_unstake_completed",stake_in:{usd:"1686.34",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/rETH.svg",amount:"66608041413696770",symbol:"RETH",address:"0xae78736Cd615f374D3085123A210448E74Fc6393",decimals:"18",name:"Rocketpool Eth"},stake_out:{usd:"1553.75",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"72387843427700824",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18",name:"Ethereum"},network_fee:{gas_price:"5656322987",native_token_price_in_usd:"1553.75"}},id:"291ec897-f569-4837-b6c0-21001b198dff",trigger_id:"291ec897-f569-4837-b6c0-21001b198dff",tx_hash:"0xc7972a7e409abfc62590ec90e633acd70b9b74e76ad02305be8bf133a0e22d5f",unread:!0}},n.createMockNotificationLidoStakeCompleted=function(){return{type:r.TRIGGER_TYPES.LIDO_STAKE_COMPLETED,block_number:18487118,block_timestamp:"1698961091",chain_id:1,created_at:"2023-11-02T22:28:49.970865Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"lido_stake_completed",stake_in:{usd:"1806.33",name:"Ethereum",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"330303634023928032",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18"},stake_out:{usd:"1801.30",name:"Liquid staked Ether 2.0",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/stETH.svg",amount:"330303634023928032",symbol:"STETH",address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",decimals:"18"},network_fee:{gas_price:"26536359866",native_token_price_in_usd:"1806.33"}},id:"ec10d66a-f78f-461f-83c9-609aada8cc50",trigger_id:"ec10d66a-f78f-461f-83c9-609aada8cc50",tx_hash:"0x8cc0fa805f7c3b1743b14f3b91c6b824113b094f26d4ccaf6a71ad8547ce6a0f",unread:!0}},n.createMockNotificationLidoWithdrawalRequested=function(){return{type:r.TRIGGER_TYPES.LIDO_WITHDRAWAL_REQUESTED,block_number:18377760,block_timestamp:"1697638415",chain_id:1,created_at:"2023-10-18T15:04:02.482526Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"lido_withdrawal_requested",stake_in:{usd:"1568.54",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/stETH.svg",amount:"97180668792218669859",symbol:"STETH",address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",decimals:"18",name:"Staked Eth"},stake_out:{usd:"1576.73",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"97180668792218669859",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18",name:"Ethereum"},network_fee:{gas_price:"11658906980",native_token_price_in_usd:"1576.73"}},id:"ef003925-3379-4ba7-9e2d-8218690cadc9",trigger_id:"ef003925-3379-4ba7-9e2d-8218690cadc9",tx_hash:"0x58b5f82e084cb750ea174e02b20fbdfd2ba8d78053deac787f34fc38e5d427aa",unread:!0}},n.createMockNotificationLidoWithdrawalCompleted=function(){return{type:r.TRIGGER_TYPES.LIDO_WITHDRAWAL_COMPLETED,block_number:18378208,block_timestamp:"1697643851",chain_id:1,created_at:"2023-10-18T16:35:03.147606Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"lido_withdrawal_completed",stake_in:{usd:"1570.23",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/stETH.svg",amount:"35081997661451346",symbol:"STETH",address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",decimals:"18",name:"Staked Eth"},stake_out:{usd:"1571.74",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"35081997661451346",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18",name:"Ethereum"},network_fee:{gas_price:"12699495150",native_token_price_in_usd:"1571.74"}},id:"d73df14d-ce73-4f38-bad3-ab028154042f",trigger_id:"d73df14d-ce73-4f38-bad3-ab028154042f",tx_hash:"0xe6d210d2e601ef3dd1075c48e71452cf35f2daae3886911e964e3babad8ac657",unread:!0}},n.createMockNotificationLidoReadyToBeWithdrawn=function(){return{type:r.TRIGGER_TYPES.LIDO_STAKE_READY_TO_BE_WITHDRAWN,block_number:18378208,block_timestamp:"1697643851",chain_id:1,created_at:"2023-10-18T16:35:03.147606Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"lido_stake_ready_to_be_withdrawn",request_id:"123456789",staked_eth:{address:"0x881D40237659C251811CEC9c364ef91dC08D300F",symbol:"ETH",name:"Ethereum",amount:"2.5",decimals:"18",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",usd:"10000.00"}},id:"d73df14d-ce73-4f38-bad3-ab028154042e",trigger_id:"d73df14d-ce73-4f38-bad3-ab028154042e",tx_hash:"0xe6d210d2e601ef3dd1075c48e71452cf35f2daae3886911e964e3babad8ac657",unread:!0}},n.createMockNotificationAaveV3HealthFactor=function(){return{type:r.TRIGGER_TYPES.AAVE_V3_HEALTH_FACTOR,chain_id:1,created_at:"2023-10-18T16:35:03.147606Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"aave_v3_health_factor",chainId:1,healthFactor:"3.4",threshold:"5.5"},id:"d73df14d-ce73-4f38-bad3-ab028154042b",trigger_id:"d73df14d-ce73-4f38-bad3-ab028154042b",unread:!0}},n.createMockNotificationEnsExpiration=function(){return{type:r.TRIGGER_TYPES.ENS_EXPIRATION,chain_id:1,created_at:"2023-10-18T16:35:03.147606Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"ens_expiration",chainId:1,reverseEnsName:"vitalik.eth",expirationDateIso:"2024-01-01T00:00:00Z",reminderDelayInSeconds:86400},id:"f4ef0b7f-5612-537f-9144-0b5c63ae5391",trigger_id:"d73df14d-ce73-4f38-bad3-ab028154042c",unread:!0}},n.createMockNotificationLidoStakingRewards=function(){return{type:r.TRIGGER_TYPES.LIDO_STAKING_REWARDS,chain_id:1,created_at:"2023-10-18T16:35:03.147606Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"lido_staking_rewards",chainId:1,currentStethBalance:"10",currentEthValue:"10.5",estimatedTotalRewardInPeriod:"0.5",daysSinceLastNotification:30,notificationIntervalDays:30},id:"d73df14d-ce73-4f38-bad3-ab028154042l",trigger_id:"d73df14d-ce73-4f38-bad3-ab028154042l",unread:!0}},n.createMockNotificationNotionalLoanExpiration=function(){return{type:r.TRIGGER_TYPES.NOTIONAL_LOAN_EXPIRATION,chain_id:1,created_at:"2023-10-18T16:35:03.147606Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"notional_loan_expiration",chainId:1,loans:[{amount:"1.1234",symbol:"ETH",maturityDateIso:"2024-01-01T00:00:00Z"}],reminderDelayInSeconds:86400},id:"d73df14d-ce73-4f38-bad3-ab028154042n",trigger_id:"d73df14d-ce73-4f38-bad3-ab028154042n",unread:!0}},n.createMockNotificationRocketpoolStakingRewards=function(){return{type:r.TRIGGER_TYPES.ROCKETPOOL_STAKING_REWARDS,chain_id:1,created_at:"2023-10-18T16:35:03.147606Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"rocketpool_staking_rewards",chainId:1,currentRethBalance:"10",currentEthValue:"10.5",estimatedTotalRewardInPeriod:"0.5",daysSinceLastNotification:30,notificationIntervalDays:30},id:"d73df14d-ce73-4f38-bad3-ab028154042r",trigger_id:"d73df14d-ce73-4f38-bad3-ab028154042r",unread:!0}},n.createMockNotificationSparkFiHealthFactor=function(){return{type:r.TRIGGER_TYPES.SPARK_FI_HEALTH_FACTOR,chain_id:1,created_at:"2023-10-18T16:35:03.147606Z",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"spark_fi_health_factor",chainId:1,healthFactor:"3.4",threshold:"5.5"},id:"d73df14d-ce73-4f38-bad3-ab028154042s",trigger_id:"d73df14d-ce73-4f38-bad3-ab028154042s",unread:!0}},n.createMockRawOnChainNotifications=function(){return[1,2,3].map(e=>{const t=i();return t.id+=`-${e}`,t})}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/mock-raw-notifications.cjs"}],[2215,{"../constants/index.cjs":2209},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createMockSnapNotification=void 0;const r=e("../constants/index.cjs");n.createMockSnapNotification=function(){return{type:r.TRIGGER_TYPES.SNAP,readDate:null,data:{message:"fooBar",origin:"@metamask/example-snap",detailedView:{title:"Detailed View",interfaceId:"1",footerLink:{text:"Go Home",href:"metamask://client/"}}}}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/mock-snap-notification.cjs"}],[2216,{"../services/feature-announcements.cjs":2222,"../services/onchain-notifications.cjs":2224,"../services/perp-notifications.cjs":2225,"./mock-feature-announcements.cjs":2213,"./mock-raw-notifications.cjs":2214},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMockCreatePerpOrderNotification=n.getMockMarkNotificationsAsReadResponse=n.getMockListNotificationsResponse=n.MOCK_RAW_ON_CHAIN_NOTIFICATIONS=n.getMockOnChainNotificationsConfig=n.getMockUpdateOnChainNotifications=n.getMockFeatureAnnouncementResponse=n.CONTENTFUL_RESPONSE=void 0;const r=e("./mock-feature-announcements.cjs"),i=e("./mock-raw-notifications.cjs"),s=e("../services/feature-announcements.cjs"),a=e("../services/onchain-notifications.cjs"),o=e("../services/perp-notifications.cjs");n.CONTENTFUL_RESPONSE=(0,r.createMockFeatureAnnouncementAPIResult)();n.getMockFeatureAnnouncementResponse=()=>({url:s.FEATURE_ANNOUNCEMENT_API,requestMethod:"GET",response:n.CONTENTFUL_RESPONSE});n.getMockUpdateOnChainNotifications=()=>({url:a.TRIGGER_API_NOTIFICATIONS_ENDPOINT,requestMethod:"POST",response:null});n.getMockOnChainNotificationsConfig=()=>({url:a.TRIGGER_API_NOTIFICATIONS_QUERY_ENDPOINT,requestMethod:"POST",response:[{address:"0xTestAddress",enabled:!0}]}),n.MOCK_RAW_ON_CHAIN_NOTIFICATIONS=(0,i.createMockRawOnChainNotifications)();n.getMockListNotificationsResponse=()=>({url:a.NOTIFICATION_API_LIST_ENDPOINT,requestMethod:"POST",response:n.MOCK_RAW_ON_CHAIN_NOTIFICATIONS});n.getMockMarkNotificationsAsReadResponse=()=>({url:a.NOTIFICATION_API_MARK_ALL_AS_READ_ENDPOINT,requestMethod:"POST",response:null});n.getMockCreatePerpOrderNotification=()=>({url:o.PERPS_API_CREATE_ORDERS,requestMethod:"POST",response:null})}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/mockResponses.cjs"}],[2217,{"./process-feature-announcement.cjs":2218,"./process-notifications.cjs":2219,"./process-onchain-notifications.cjs":2220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./process-feature-announcement.cjs"),n),i(e("./process-notifications.cjs"),n),i(e("./process-onchain-notifications.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/index.cjs"}],[2218,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.processFeatureAnnouncement=n.isFeatureAnnouncementRead=void 0;n.isFeatureAnnouncementRead=function(e,t){return!!t.includes(e.id)||(n=new Date(e.createdAt),(Date.now()-n.getTime())/864e5>=90);var n},n.processFeatureAnnouncement=function(e){return{type:e.type,id:e.data.id,createdAt:new Date(e.createdAt).toISOString(),data:e.data,isRead:!1}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-feature-announcement.cjs"}],[2219,{"../constants/notification-schema.cjs":2210,"./process-feature-announcement.cjs":2218,"./process-onchain-notifications.cjs":2220,"./process-snap-notifications.cjs":2221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.processAndFilterNotifications=n.safeProcessNotification=n.processNotification=void 0;const r=e("./process-feature-announcement.cjs"),i=e("./process-onchain-notifications.cjs"),s=e("./process-snap-notifications.cjs"),a=e("../constants/notification-schema.cjs");function o(e,t=[]){if(e.type===a.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT){const n=(0,r.processFeatureAnnouncement)(e);return n.isRead=(0,r.isFeatureAnnouncementRead)(n,t),n}return(e=>e.type===a.TRIGGER_TYPES.SNAP)(e)?(0,s.processSnapNotification)(e):(e=>Object.values(a.TRIGGER_TYPES).includes(e.type))(e)?(0,i.processOnChainNotification)(e):(()=>{const t=e?.type;throw new Error(`No processor found for notification kind ${t}`)})()}function c(e,t=[]){try{return o(e,t)}catch{return undefined}}n.processNotification=o,n.safeProcessNotification=c;const u=e=>Boolean(e);n.processAndFilterNotifications=(e,t)=>e.map(e=>c(e,t)).filter(u)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-notifications.cjs"}],[2220,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.processOnChainNotification=void 0,n.processOnChainNotification=function(e){return{...e,id:e.id,createdAt:new Date(e.created_at).toISOString(),isRead:!e.unread}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-onchain-notifications.cjs"}],[2221,{uuid:5366},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.processSnapNotification=void 0;const r=e("uuid");n.processSnapNotification=e=>{const{data:t,type:n,readDate:i}=e;return{id:(0,r.v4)(),readDate:i,createdAt:(new Date).toISOString(),isRead:!1,type:n,data:t}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-snap-notifications.cjs"}],[2222,{"../constants/notification-schema.cjs":2210,"../processors/process-feature-announcement.cjs":2218,"@contentful/rich-text-html-renderer":553},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getFeatureAnnouncementNotifications=n.getFeatureAnnouncementUrl=n.FEATURE_ANNOUNCEMENT_URL=n.FEATURE_ANNOUNCEMENT_API=void 0;const r=e("@contentful/rich-text-html-renderer"),i=e("../constants/notification-schema.cjs"),s=e("../processors/process-feature-announcement.cjs"),a=":space_id",o=":access_token",c=":client_id",u="cdn.contentful.com";n.FEATURE_ANNOUNCEMENT_API=`https://${u}/spaces/${a}/environments/master/entries`,n.FEATURE_ANNOUNCEMENT_URL=`${n.FEATURE_ANNOUNCEMENT_API}?access_token=${o}&content_type=productAnnouncement&include=10&fields.clients[in]=${c}`;n.getFeatureAnnouncementUrl=(e,t)=>{const r=t?"preview.contentful.com":u,i=n.FEATURE_ANNOUNCEMENT_URL.replace(a,e.spaceId).replace(o,t||e.accessToken).replace(c,e.platform).replace(u,r);return encodeURI(i)};n.getFeatureAnnouncementNotifications=async function(e,t){if(e?.accessToken&&e?.spaceId&&e?.platform){const a=await(async(e,t)=>{const s=(0,n.getFeatureAnnouncementUrl)(e,t),a=await fetch(s).then(e=>e.json()).catch(()=>null);if(!a)return[];const o=e=>{const t=a,n=t?.includes?.Entry?.find(t=>t?.sys?.id===e)||t?.includes?.Asset?.find(t=>t?.sys?.id===e);return n?n?.fields:null};return(a?.items??[]).map(e=>{const{fields:t}=e,n=t.image?o(t.image.sys.id):undefined,s=t.externalLink?o(t.externalLink.sys.id):undefined,a=t.portfolioLink?o(t.portfolioLink.sys.id):undefined,c=t.extensionLink?o(t.extensionLink.sys.id):undefined,u=t.mobileLink?o(t.mobileLink.sys.id):undefined;return{type:i.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT,createdAt:new Date(e.sys.createdAt).toString(),data:{id:t.id,category:t.category,title:t.title,longDescription:(0,r.documentToHtmlString)(t.longDescription),shortDescription:t.shortDescription,image:{title:n?.title,description:n?.description,url:n?.file?.url??""},externalLink:s&&{externalLinkText:s?.externalLinkText,externalLinkUrl:s?.externalLinkUrl},portfolioLink:a&&{portfolioLinkText:a?.portfolioLinkText,portfolioLinkUrl:a?.portfolioLinkUrl},extensionLink:c&&{extensionLinkText:c?.extensionLinkText,extensionLinkRoute:c?.extensionLinkRoute},mobileLink:u&&{mobileLinkText:u?.mobileLinkText,mobileLinkUrl:u?.mobileLinkUrl},extensionMinimumVersionNumber:t.extensionMinimumVersionNumber,mobileMinimumVersionNumber:t.mobileMinimumVersionNumber}}})})(e,t);return a.map(e=>(0,s.processFeatureAnnouncement)(e))}return[]}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/services/feature-announcements.cjs"}],[2223,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},u=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.notificationsConfigCache=n.OnChainNotificationsCache=n.NotificationConfigCacheTTL=void 0,n.NotificationConfigCacheTTL=6e4;class l{constructor(){r.add(this),i.set(this,null),s.set(this,n.NotificationConfigCacheTTL)}get(e){return c(this,r,"m",a).call(this)||!c(this,r,"m",o).call(this,e)?null:e.map(e=>({address:e,enabled:c(this,i,"f")?.data.get(e)??!1}))}set(e){let t=new Map;c(this,i,"f")&&!c(this,r,"m",a).call(this)&&(t=new Map(c(this,i,"f").data)),e.forEach(({address:e,enabled:n})=>{t.set(e,n)}),u(this,i,{data:t,timestamp:Date.now()},"f")}clear(){u(this,i,null,"f")}}n.OnChainNotificationsCache=l,i=new WeakMap,s=new WeakMap,r=new WeakSet,a=function(){return!c(this,i,"f")||Date.now()-c(this,i,"f").timestamp>c(this,s,"f")},o=function(e){return!!c(this,i,"f")&&e.every(e=>c(this,i,"f")?.data.has(e))},n.notificationsConfigCache=new l}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/services/notification-config-cache.cjs"}],[2224,{"../../shared/to-raw-notification.cjs":2243,"../utils/utils.cjs":2228,"./notification-config-cache.cjs":2223,loglevel:4542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.markNotificationsAsRead=n.getOnChainNotifications=n.updateOnChainNotifications=n.getOnChainNotificationsConfigCached=n.NOTIFICATION_API_MARK_ALL_AS_READ_ENDPOINT=n.NOTIFICATION_API_LIST_ENDPOINT=n.TRIGGER_API_NOTIFICATIONS_ENDPOINT=n.TRIGGER_API_NOTIFICATIONS_QUERY_ENDPOINT=n.NOTIFICATION_API=n.TRIGGER_API=void 0;const i=r(e("loglevel")),s=e("./notification-config-cache.cjs"),a=e("../../shared/to-raw-notification.cjs"),o=e("../utils/utils.cjs");n.TRIGGER_API="https://trigger.api.cx.metamask.io",n.NOTIFICATION_API="https://notification.api.cx.metamask.io",n.TRIGGER_API_NOTIFICATIONS_QUERY_ENDPOINT=`${n.TRIGGER_API}/api/v2/notifications/query`,n.TRIGGER_API_NOTIFICATIONS_ENDPOINT=`${n.TRIGGER_API}/api/v2/notifications`,n.NOTIFICATION_API_LIST_ENDPOINT=`${n.NOTIFICATION_API}/api/v2/notifications`,n.NOTIFICATION_API_MARK_ALL_AS_READ_ENDPOINT=`${n.NOTIFICATION_API}/api/v2/notifications/mark-as-read`,n.getOnChainNotificationsConfigCached=async function(e,t){if(0===t.length)return[];t=t.map(e=>e.toLowerCase());const r=s.notificationsConfigCache.get(t);if(r)return r;const i=t.map(e=>({address:e})),a=await(0,o.makeApiCall)(e,n.TRIGGER_API_NOTIFICATIONS_QUERY_ENDPOINT,"POST",i).then(e=>e.ok?e.json():null).catch(()=>null)??[];return a.length>0&&s.notificationsConfigCache.set(a),a},n.updateOnChainNotifications=async function(e,t){if(0===t.length)return;const r=t=t.map(e=>(e.address=e.address.toLowerCase(),e));await(0,o.makeApiCall)(e,n.TRIGGER_API_NOTIFICATIONS_ENDPOINT,"POST",r).then(()=>s.notificationsConfigCache.set(t)).catch(()=>null)},n.getOnChainNotifications=async function(e,t){if(0===t.length)return[];const r=(t=t.map(e=>e.toLowerCase())).map(e=>({address:e})),i=await(0,o.makeApiCall)(e,n.NOTIFICATION_API_LIST_ENDPOINT,"POST",r).then(e=>e.ok?e.json():null).catch(()=>null),s=i?.map(e=>e.data?.kind?(0,a.toRawOnChainNotification)(e):undefined).filter(e=>Boolean(e));return s??[]},n.markNotificationsAsRead=async function(e,t){if(0!==t.length)try{await(0,o.makeApiCall)(e,n.NOTIFICATION_API_MARK_ALL_AS_READ_ENDPOINT,"POST",{ids:t})}catch(e){i.default.error("Error marking notifications as read:",e)}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/services/onchain-notifications.cjs"}],[2225,{"@metamask/controller-utils":1301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createPerpOrderNotification=n.PERPS_API_CREATE_ORDERS=n.PERPS_API=void 0;const r=e("@metamask/controller-utils");n.PERPS_API="https://perps.api.cx.metamask.io",n.PERPS_API_CREATE_ORDERS=`${n.PERPS_API}/api/v1/orders`,n.createPerpOrderNotification=async function(e,t){try{await(0,r.createServicePolicy)().execute(async()=>(0,r.successfulFetch)(n.PERPS_API_CREATE_ORDERS,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)}))}catch(e){console.error("Failed to create perp order notification",e)}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/services/perp-notifications.cjs"}],[2226,{"../constants/notification-schema.cjs":2210},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NOTIFICATION_CHAINS_ID=n.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS=n.NOTIFICATION_NETWORK_CURRENCY_SYMBOL=n.NOTIFICATION_NETWORK_CURRENCY_NAME=void 0;const r=e("../constants/notification-schema.cjs");n.NOTIFICATION_NETWORK_CURRENCY_NAME={[r.NOTIFICATION_CHAINS_ID.ETHEREUM]:"Ethereum",[r.NOTIFICATION_CHAINS_ID.ARBITRUM]:"Arbitrum",[r.NOTIFICATION_CHAINS_ID.AVALANCHE]:"Avalanche",[r.NOTIFICATION_CHAINS_ID.BSC]:"Binance",[r.NOTIFICATION_CHAINS_ID.BASE]:"Base",[r.NOTIFICATION_CHAINS_ID.LINEA]:"Linea",[r.NOTIFICATION_CHAINS_ID.OPTIMISM]:"Optimism",[r.NOTIFICATION_CHAINS_ID.POLYGON]:"Polygon",[r.NOTIFICATION_CHAINS_ID.SEI]:"Sei Network"},n.NOTIFICATION_NETWORK_CURRENCY_SYMBOL={[r.NOTIFICATION_CHAINS_ID.ETHEREUM]:"ETH",[r.NOTIFICATION_CHAINS_ID.ARBITRUM]:"ETH",[r.NOTIFICATION_CHAINS_ID.AVALANCHE]:"AVAX",[r.NOTIFICATION_CHAINS_ID.BSC]:"BNB",[r.NOTIFICATION_CHAINS_ID.BASE]:"ETH",[r.NOTIFICATION_CHAINS_ID.LINEA]:"ETH",[r.NOTIFICATION_CHAINS_ID.OPTIMISM]:"ETH",[r.NOTIFICATION_CHAINS_ID.POLYGON]:"POL",[r.NOTIFICATION_CHAINS_ID.SEI]:"SEI"},n.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS={[r.NOTIFICATION_CHAINS_ID.ETHEREUM]:{url:"https://etherscan.io",name:"Etherscan"},[r.NOTIFICATION_CHAINS_ID.OPTIMISM]:{url:"https://optimistic.etherscan.io",name:"Optimistic Etherscan"},[r.NOTIFICATION_CHAINS_ID.BSC]:{url:"https://bscscan.com",name:"BscScan"},[r.NOTIFICATION_CHAINS_ID.BASE]:{url:"https://basescan.org",name:"BaseScan"},[r.NOTIFICATION_CHAINS_ID.POLYGON]:{url:"https://polygonscan.com",name:"PolygonScan"},[r.NOTIFICATION_CHAINS_ID.ARBITRUM]:{url:"https://arbiscan.io",name:"Arbiscan"},[r.NOTIFICATION_CHAINS_ID.AVALANCHE]:{url:"https://snowtrace.io",name:"Snowtrace"},[r.NOTIFICATION_CHAINS_ID.LINEA]:{url:"https://lineascan.build",name:"LineaScan"},[r.NOTIFICATION_CHAINS_ID.SEI]:{url:"https://seitrace.com/",name:"SeiTrace"}};var i=e("../constants/notification-schema.cjs");Object.defineProperty(n,"NOTIFICATION_CHAINS_ID",{enumerable:!0,get:function(){return i.NOTIFICATION_CHAINS_ID}})}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/ui/constants.cjs"}],[2227,{"./constants.cjs":2226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./constants.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/ui/index.cjs"}],[2228,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.makeApiCall=void 0,n.makeApiCall=async function(e,t,n,r){const i={method:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(r)};return await fetch(t,i)}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/utils/utils.cjs"}],[2229,{"./services/services.cjs":2234,"@metamask/base-controller":1222,loglevel:4542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},h=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.defaultState=void 0;const m=e("@metamask/base-controller"),f=p(e("loglevel")),g=e("./services/services.cjs");n.defaultState={isPushEnabled:!0,fcmToken:"",isUpdatingFCMToken:!1};const y={isPushEnabled:{persist:!0,anonymous:!0},fcmToken:{persist:!0,anonymous:!0},isUpdatingFCMToken:{persist:!1,anonymous:!0}},w={apiKey:"",authDomain:"",storageBucket:"",projectId:"",messagingSenderId:"",appId:"",measurementId:"",vapidKey:""};class k extends m.BaseController{constructor({messenger:e,state:t,env:u,config:l}){super({messenger:e,metadata:y,name:"NotificationServicesPushController",state:{...n.defaultState,...t}}),r.add(this),i.set(this,undefined),s.set(this,void 0),a.set(this,void 0),d(this,s,u??w,"f"),d(this,a,l,"f"),h(this,r,"m",o).call(this),h(this,r,"m",c).call(this)}async subscribeToPushNotifications(){if(h(this,a,"f").isPushFeatureEnabled){h(this,i,"f")&&(h(this,i,"f").call(this),d(this,i,undefined,"f"));try{d(this,i,await h(this,a,"f").pushService.subscribeToPushNotifications(h(this,s,"f"))??undefined,"f")}catch{}}}async enablePushNotifications(e){if(h(this,a,"f").isPushFeatureEnabled){this.update(e=>{e.isUpdatingFCMToken=!0});try{const t=await h(this,r,"m",u).call(this).catch(()=>null);if(t){const n=await(0,g.activatePushNotifications)({bearerToken:t,addresses:e,env:h(this,s,"f"),createRegToken:h(this,a,"f").pushService.createRegToken,regToken:{platform:h(this,a,"f").platform,locale:h(this,a,"f").getLocale?.()??"en",oldToken:this.state.fcmToken}});n&&h(this,r,"m",l).call(this,{type:"enable",fcmToken:n})}}catch{}try{await this.subscribeToPushNotifications()}catch{}this.update(e=>{e.isUpdatingFCMToken=!1})}}async disablePushNotifications(){if(h(this,a,"f").isPushFeatureEnabled){this.update(e=>{e.isUpdatingFCMToken=!0});try{await(0,g.deactivatePushNotifications)({env:h(this,s,"f"),deleteRegToken:h(this,a,"f").pushService.deleteRegToken,regToken:this.state.fcmToken})}catch(e){const t=`Failed to disable push notifications: ${e}`;throw f.default.error(t),new Error(t)}finally{this.update(e=>{e.isUpdatingFCMToken=!1})}h(this,i,"f")?.call(this),h(this,r,"m",l).call(this,{type:"disable"})}}async updateTriggerPushNotifications(e){if(h(this,a,"f").isPushFeatureEnabled){this.update(e=>{e.isUpdatingFCMToken=!0});try{const t=await h(this,r,"m",u).call(this),n=await(0,g.activatePushNotifications)({bearerToken:t,addresses:e,env:h(this,s,"f"),createRegToken:h(this,a,"f").pushService.createRegToken,regToken:{platform:h(this,a,"f").platform,locale:h(this,a,"f").getLocale?.()??"en",oldToken:this.state.fcmToken}});n&&h(this,r,"m",l).call(this,{type:"update",fcmToken:n})}catch(e){const t=`Failed to update triggers for push notifications: ${e}`;throw f.default.error(t),new Error(t)}finally{this.update(e=>{e.isUpdatingFCMToken=!1})}}}}i=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakSet,o=function(){this.messagingSystem.registerActionHandler("NotificationServicesPushController:enablePushNotifications",this.enablePushNotifications.bind(this)),this.messagingSystem.registerActionHandler("NotificationServicesPushController:disablePushNotifications",this.disablePushNotifications.bind(this)),this.messagingSystem.registerActionHandler("NotificationServicesPushController:updateTriggerPushNotifications",this.updateTriggerPushNotifications.bind(this)),this.messagingSystem.registerActionHandler("NotificationServicesPushController:subscribeToPushNotifications",this.subscribeToPushNotifications.bind(this))},c=function(){this.update(e=>{e.isUpdatingFCMToken=!1})},u=async function(){const e=await this.messagingSystem.call("AuthenticationController:getBearerToken");if(!e)throw f.default.error("Failed to enable push notifications: BearerToken token is missing."),new Error("BearerToken token is missing");return e},l=function(e){"enable"===e.type&&this.update(t=>{t.isPushEnabled=!0,t.fcmToken=e.fcmToken,t.isUpdatingFCMToken=!1}),"disable"===e.type&&this.update(e=>{e.isPushEnabled=!1,e.isUpdatingFCMToken=!1}),"update"===e.type&&this.update(t=>{t.isPushEnabled=!0,t.fcmToken=e.fcmToken,t.isUpdatingFCMToken=!1})},n.default=k}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/NotificationServicesPushController.cjs"}],[2230,{"./NotificationServicesPushController.cjs":2229,"./mocks/index.cjs":2231,"./utils/index.cjs":2237},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Mocks=n.Utils=n.Controller=void 0;const c=o(e("./NotificationServicesPushController.cjs"));n.Controller=c.default;const u=c.default;n.default=u,s(e("./NotificationServicesPushController.cjs"),n),n.Utils=a(e("./utils/index.cjs")),s(e("./utils/index.cjs"),n),n.Mocks=a(e("./mocks/index.cjs"))}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/index.cjs"}],[2231,{"./mockResponse.cjs":2232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./mockResponse.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/mocks/index.cjs"}],[2232,{"../services/endpoints.cjs":2233},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMockDeleteFCMRegistrationTokenResponse=n.getMockCreateFCMRegistrationTokenResponse=n.MOCK_FCM_RESPONSE=n.getMockUpdatePushNotificationLinksResponse=n.MOCK_REG_TOKEN=void 0;const r=e("../services/endpoints.cjs");n.MOCK_REG_TOKEN="REG_TOKEN";n.getMockUpdatePushNotificationLinksResponse=()=>({url:r.REGISTRATION_TOKENS_ENDPOINT,requestMethod:"POST",response:null}),n.MOCK_FCM_RESPONSE={name:"",token:"fcm-token",web:{endpoint:"",p256dh:"",auth:"",applicationPubKey:""}};n.getMockCreateFCMRegistrationTokenResponse=()=>({url:/^https:\/\/fcmregistrations\.googleapis\.com\/v1\/projects\/.*$/u,requestMethod:"POST",response:n.MOCK_FCM_RESPONSE});n.getMockDeleteFCMRegistrationTokenResponse=()=>({url:/^https:\/\/fcmregistrations\.googleapis\.com\/v1\/projects\/.*$/u,requestMethod:"POST",response:{}})}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/mocks/mockResponse.cjs"}],[2233,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.REGISTRATION_TOKENS_ENDPOINT=void 0;n.REGISTRATION_TOKENS_ENDPOINT="https://push.api.cx.metamask.io/api/v2/token"}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/services/endpoints.cjs"}],[2234,{"./endpoints.cjs":2233},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.deactivatePushNotifications=n.activatePushNotifications=n.updateLinksAPI=void 0;const a=s(e("./endpoints.cjs"));async function o(e){try{const t={addresses:e.addresses,registration_token:e.regToken};return(await fetch(a.REGISTRATION_TOKENS_ENDPOINT,{method:"POST",headers:{Authorization:`Bearer ${e.bearerToken}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).ok}catch{return!1}}n.updateLinksAPI=o,n.activatePushNotifications=async function(e){const{env:t,createRegToken:n}=e,r=await n(t).catch(()=>null);return r?(await o({bearerToken:e.bearerToken,addresses:e.addresses,regToken:{token:r,platform:e.regToken.platform,locale:e.regToken.locale,oldToken:e.regToken.oldToken}}),r):null},n.deactivatePushNotifications=async function(e){const{regToken:t,env:n,deleteRegToken:r}=e;return!t||!!await r(n)}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/services/services.cjs"}],[2235,{"bignumber.js":2244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAmount=n.formatAmount=n.getLeadingZeroCount=n.calcTokenAmount=void 0;const r=e("bignumber.js"),i={decimalPlaces:4};function s(e,t){const n=Math.pow(10,Number(t||0));return new r.BigNumber(String(e)).div(n)}n.calcTokenAmount=s;n.getLeadingZeroCount=e=>{const t=new r.BigNumber(e,10).toString(10).split(".")[1]??"";return t.match(/^0*/u)?.[0]?.length||0};n.formatAmount=(e,t)=>{const r={...i,...t},s=(0,n.getLeadingZeroCount)(e),a=e.toString().includes(".")||s>0;if(e>999)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:2}).format(e);if(a){const t=(o=r.decimalPlaces,Boolean(r?.shouldEllipse)&&s>=o),n=Intl.NumberFormat("en-US",{minimumFractionDigits:t?r.decimalPlaces:undefined,maximumFractionDigits:r.decimalPlaces}).format(e);return t?`${n}...`:n}var o;return e.toString()};n.getAmount=(e,t,r)=>{if(!e||!t)return"";const i=s(e,parseFloat(t)).toNumber();return(0,n.formatAmount)(i,r)}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/utils/get-notification-data.cjs"}],[2236,{"../../NotificationServicesController/ui/index.cjs":2227,"./get-notification-data.cjs":2235},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createOnChainPushNotificationMessage=n.createOnChainPushNotificationMessages=void 0;const r=e("./get-notification-data.cjs"),i=e("../../NotificationServicesController/ui/index.cjs");function s(e){return i.NOTIFICATION_NETWORK_CURRENCY_SYMBOL[e.toString()]??null}n.createOnChainPushNotificationMessages=e=>{const t=(...t)=>{const[n,...r]=t;return(0,e[n])(...r)};return{erc20_sent:{title:t("pushPlatformNotificationsFundsSentTitle"),defaultDescription:t("pushPlatformNotificationsFundsSentDescriptionDefault"),getDescription:e=>{const n=e?.data?.token?.symbol,i=e?.data?.token?.amount,s=e?.data?.token?.decimals;if(!n||!i||!s)return null;const a=(0,r.getAmount)(i,s,{shouldEllipse:!0});return t("pushPlatformNotificationsFundsSentDescription",a,n)}},eth_sent:{title:t("pushPlatformNotificationsFundsSentTitle"),defaultDescription:t("pushPlatformNotificationsFundsSentDescriptionDefault"),getDescription:e=>{const n=s(e?.chain_id),i=e?.data?.amount?.eth;if(!n||!i)return null;const a=(0,r.formatAmount)(parseFloat(i),{shouldEllipse:!0});return t("pushPlatformNotificationsFundsSentDescription",a,n)}},erc20_received:{title:t("pushPlatformNotificationsFundsReceivedTitle"),defaultDescription:t("pushPlatformNotificationsFundsReceivedDescriptionDefault"),getDescription:e=>{const n=e?.data?.token?.symbol,i=e?.data?.token?.amount,s=e?.data?.token?.decimals;if(!n||!i||!s)return null;const a=(0,r.getAmount)(i,s,{shouldEllipse:!0});return t("pushPlatformNotificationsFundsReceivedDescription",a,n)}},eth_received:{title:t("pushPlatformNotificationsFundsReceivedTitle"),defaultDescription:t("pushPlatformNotificationsFundsReceivedDescriptionDefault"),getDescription:e=>{const n=s(e?.chain_id),i=e?.data?.amount?.eth;if(!n||!i)return null;const a=(0,r.formatAmount)(parseFloat(i),{shouldEllipse:!0});return t("pushPlatformNotificationsFundsReceivedDescription",a,n)}},metamask_swap_completed:{title:t("pushPlatformNotificationsSwapCompletedTitle"),defaultDescription:t("pushPlatformNotificationsSwapCompletedDescription")},erc721_sent:{title:t("pushPlatformNotificationsNftSentTitle"),defaultDescription:t("pushPlatformNotificationsNftSentDescription")},erc1155_sent:{title:t("pushPlatformNotificationsNftSentTitle"),defaultDescription:t("pushPlatformNotificationsNftSentDescription")},erc721_received:{title:t("pushPlatformNotificationsNftReceivedTitle"),defaultDescription:t("pushPlatformNotificationsNftReceivedDescription")},erc1155_received:{title:t("pushPlatformNotificationsNftReceivedTitle"),defaultDescription:t("pushPlatformNotificationsNftReceivedDescription")},rocketpool_stake_completed:{title:t("pushPlatformNotificationsStakingRocketpoolStakeCompletedTitle"),defaultDescription:t("pushPlatformNotificationsStakingRocketpoolStakeCompletedDescription")},rocketpool_unstake_completed:{title:t("pushPlatformNotificationsStakingRocketpoolUnstakeCompletedTitle"),defaultDescription:t("pushPlatformNotificationsStakingRocketpoolUnstakeCompletedDescription")},lido_stake_completed:{title:t("pushPlatformNotificationsStakingLidoStakeCompletedTitle"),defaultDescription:t("pushPlatformNotificationsStakingLidoStakeCompletedDescription")},lido_stake_ready_to_be_withdrawn:{title:t("pushPlatformNotificationsStakingLidoStakeReadyToBeWithdrawnTitle"),defaultDescription:t("pushPlatformNotificationsStakingLidoStakeReadyToBeWithdrawnDescription")},lido_withdrawal_requested:{title:t("pushPlatformNotificationsStakingLidoWithdrawalRequestedTitle"),defaultDescription:t("pushPlatformNotificationsStakingLidoWithdrawalRequestedDescription")},lido_withdrawal_completed:{title:t("pushPlatformNotificationsStakingLidoWithdrawalCompletedTitle"),defaultDescription:t("pushPlatformNotificationsStakingLidoWithdrawalCompletedDescription")}}},n.createOnChainPushNotificationMessage=function(e,t){if(!e?.type)return null;const r=(0,n.createOnChainPushNotificationMessages)(t)[e.type];if(!r)return null;let i=null;try{i=r?.getDescription?.(e)??r.defaultDescription??null}catch{i=r.defaultDescription??null}return{title:r.title??"",description:i??""}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/utils/get-notification-message.cjs"}],[2237,{"./get-notification-data.cjs":2235,"./get-notification-message.cjs":2236},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./get-notification-data.cjs"),n),i(e("./get-notification-message.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/utils/index.cjs"}],[2240,{"./NotificationServicesController/index.cjs":2211,"./NotificationServicesPushController/index.cjs":2230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationServicesPushController=n.NotificationServicesController=void 0,n.NotificationServicesController=s(e("./NotificationServicesController/index.cjs")),n.NotificationServicesPushController=s(e("./NotificationServicesPushController/index.cjs"))}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/index.cjs"}],[2241,{"./is-onchain-notification.cjs":2242,"./to-raw-notification.cjs":2243},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./is-onchain-notification.cjs"),n),i(e("./to-raw-notification.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/shared/index.cjs"}],[2242,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOnChainRawNotification=void 0,n.isOnChainRawNotification=function(e){const t=e;return[t?.id,t?.data,t?.trigger_id].every(e=>e!==undefined)}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/shared/is-onchain-notification.cjs"}],[2243,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toRawOnChainNotification=void 0,n.toRawOnChainNotification=function(e){return{...e,type:e?.data?.kind}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/shared/to-raw-notification.cjs"}],[2244,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function f(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,s=t.c,a=e.s,o=t.s,c=e.e,u=t.e;if(!a||!o)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-o:a;if(a!=o)return a;if(n=a<0,r=c==u,!i||!s)return r?0:!i^n?1:-1;if(!r)return c>u^n?1:-1;for(o=(c=i.length)<(u=s.length)?c:u,a=0;a<o;a++)if(i[a]!=s[a])return i[a]>s[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function y(e,t,n,r){if(e<t||e>n||e!==s(e))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function w(e){var t=e.c.length-1;return m(e.e/u)==t&&e.c[t]%2!=0}function k(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function b(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,v,_,T,E,S,A,P,j,C,I=$.prototype={constructor:$,toString:null,valueOf:null},N=new $(1),M=20,O=4,R=-7,x=21,B=-1e7,D=1e7,L=!1,K=1,U=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz",H=!0;function $(e,t){var n,i,a,c,d,h,p,m,f=this;if(!(f instanceof $))return new $(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>D?f.c=f.e=null:e.e<B?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>D?f.c=f.e=null:(f.e=c,f.c=[e]))}m=String(e)}else{if(!r.test(m=String(e)))return _(f,m,h);f.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(c=m.indexOf("."))>-1&&(m=m.replace(".","")),(d=m.search(/e/i))>0?(c<0&&(c=d),c+=+m.slice(d+1),m=m.substring(0,d)):c<0&&(c=m.length)}else{if(y(t,2,q.length,"Base"),10==t&&H)return z(f=new $(e),M+f.e+1,O);if(m=String(e),h="number"==typeof e){if(0*e!=0)return _(f,m,h,t);if(f.s=1/e<0?(m=m.slice(1),-1):1,$.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else f.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=q.slice(0,t),c=d=0,p=m.length;d<p;d++)if(n.indexOf(i=m.charAt(d))<0){if("."==i){if(d>c){c=p;continue}}else if(!a&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){a=!0,d=-1,c=0;continue}return _(f,String(e),h,t)}h=!1,(c=(m=v(m,t,10,f.s)).indexOf("."))>-1?m=m.replace(".",""):c=m.length}for(d=0;48===m.charCodeAt(d);d++);for(p=m.length;48===m.charCodeAt(--p););if(m=m.slice(d,++p)){if(p-=d,h&&$.DEBUG&&p>15&&(e>l||e!==s(e)))throw Error(o+f.s*e);if((c=c-d-1)>D)f.c=f.e=null;else if(c<B)f.c=[f.e=0];else{if(f.e=c,f.c=[],d=(c+1)%u,c<0&&(d+=u),d<p){for(d&&f.c.push(+m.slice(0,d)),p-=u;d<p;)f.c.push(+m.slice(d,d+=u));d=u-(m=m.slice(d)).length}else d-=p;for(;d--;m+="0");f.c.push(+m)}}else f.c=[f.e=0]}function G(e,t,n,r){var i,s,a,o,c;if(null==n?n=O:y(n,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)c=f(e.c),c=1==r||2==r&&(a<=R||a>=x)?k(c,a):b(c,a,"0");else if(s=(e=z(new $(e),t,n)).e,o=(c=f(e.c)).length,1==r||2==r&&(t<=s||s<=R)){for(;o<t;c+="0",o++);c=k(c,s)}else if(t-=a,c=b(c,s,"0"),s+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-o)>0)for(s+1==o&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function V(e,t){for(var n,r,i=1,s=new $(e[0]);i<e.length;i++)(!(r=new $(e[i])).s||(n=g(s,r))===t||0===n&&s.s===t)&&(s=r);return s}function W(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*u-1)>D?e.c=e.e=null:n<B?e.c=[e.e=0]:(e.e=n,e.c=t),e}function z(e,t,n,r){var a,o,l,h,p,m,f,g=e.c,y=d;if(g){e:{for(a=1,h=g[0];h>=10;h/=10,a++);if((o=t-a)<0)o+=u,l=t,p=g[m=0],f=s(p/y[a-l-1]%10);else if((m=i((o+1)/u))>=g.length){if(!r)break e;for(;g.length<=m;g.push(0));p=f=0,a=1,l=(o%=u)-u+1}else{for(p=h=g[m],a=1;h>=10;h/=10,a++);f=(l=(o%=u)-u+a)<0?0:s(p/y[a-l-1]%10)}if(r=r||t<0||null!=g[m+1]||(l<0?p:p%y[a-l-1]),r=n<4?(f||r)&&(0==n||n==(e.s<0?3:2)):f>5||5==f&&(4==n||r||6==n&&(o>0?l>0?p/y[a-l]:0:g[m-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=y[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==o?(g.length=m,h=1,m--):(g.length=m+1,h=y[u-o],g[m]=l>0?s(p/y[a-l]%y[l])*h:0),r)for(;;){if(0==m){for(o=1,l=g[0];l>=10;l/=10,o++);for(l=g[0]+=h,h=1;l>=10;l/=10,h++);o!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[m]+=h,g[m]!=c)break;g[m--]=0,h=1}for(o=g.length;0===g[--o];g.pop());}e.e>D?e.c=e.e=null:e.e<B&&(e.c=[e.e=0])}return e}function Y(e){var t,n=e.e;return null===n?e.toString():(t=f(e.c),t=n<=R||n>=x?k(t,n):b(t,n,"0"),e.s<0?"-"+t:t)}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(n=e[t],0,p,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(n=e[t],0,8,t),O=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(y(n[0],-p,0,t),y(n[1],0,p,t),R=n[0],x=n[1]):(y(n,-p,p,t),R=-(x=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)y(n[0],-p,-1,t),y(n[1],1,p,t),B=n[0],D=n[1];else{if(y(n,-p,p,t),!n)throw Error(a+t+" cannot be zero: "+n);B=-(D=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw L=!n,Error(a+"crypto unavailable");L=n}else L=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(n=e[t],0,9,t),K=n),e.hasOwnProperty(t="POW_PRECISION")&&(y(n=e[t],0,p,t),U=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);F=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);H="0123456789"==n.slice(0,10),q=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:O,EXPONENTIAL_AT:[R,x],RANGE:[B,D],CRYPTO:L,MODULO_MODE:K,POW_PRECISION:U,FORMAT:F,ALPHABET:q}},$.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!$.DEBUG)return!0;var t,n,r=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-p&&i<=p&&i===s(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%u)<1&&(t+=u),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==s(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(a+"Invalid BigNumber: "+e)},$.maximum=$.max=function(){return V(arguments,-1)},$.minimum=$.min=function(){return V(arguments,1)},$.random=(T=9007199254740992,E=Math.random()*T&2097151?function(){return s(Math.random()*T)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,c,l=0,h=[],m=new $(N);if(null==e?e=M:y(e,0,p),o=i(e/u),L)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));l<o;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(h.push(c%1e14),l+=2);l=o/2}else{if(!crypto.randomBytes)throw L=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(o*=7);l<o;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(h.push(c%1e14),l+=7);l=o/7}if(!L)for(;l<o;)(c=E())<9e15&&(h[l++]=c%1e14);for(o=h[--l],e%=u,o&&e&&(c=d[u-e],h[l]=s(o/c)*c);0===h[l];h.pop(),l--);if(l<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=u);for(l=1,c=h[0];c>=10;c/=10,l++);l<u&&(r-=u-l)}return m.e=r,m.c=h,m}),$.sum=function(){for(var e=1,t=arguments,n=new $(t[0]);e<t.length;)n=n.plus(t[e++]);return n},v=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,a=[0],o=0,c=e.length;o<c;){for(s=a.length;s--;a[s]*=t);for(a[0]+=r.indexOf(e.charAt(o++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}return function(r,i,s,a,o){var c,u,l,d,h,p,m,g,y=r.indexOf("."),w=M,k=O;for(y>=0&&(d=U,U=0,r=r.replace(".",""),p=(g=new $(i)).pow(r.length-y),U=d,g.c=t(b(f(p.c),p.e,"0"),10,s,e),g.e=g.c.length),l=d=(m=t(r,i,s,o?(c=q,e):(c=e,q))).length;0==m[--d];m.pop());if(!m[0])return c.charAt(0);if(y<0?--l:(p.c=m,p.e=l,p.s=a,m=(p=n(p,g,w,k,s)).c,h=p.r,l=p.e),y=m[u=l+w+1],d=s/2,h=h||u<0||null!=m[u+1],h=k<4?(null!=y||h)&&(0==k||k==(p.s<0?3:2)):y>d||y==d&&(4==k||h||6==k&&1&m[u-1]||k==(p.s<0?8:7)),u<1||!m[0])r=h?b(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,h)for(--s;++m[--u]>s;)m[u]=0,u||(++l,m=[1].concat(m));for(d=m.length;!m[--d];);for(y=0,r="";y<=d;r+=c.charAt(m[y++]));r=b(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,a,o=0,c=e.length,u=t%h,l=t/h|0;for(e=e.slice();c--;)o=((i=u*(s=e[c]%h)+(r=l*s+(a=e[c]/h|0)*u)%h*h+o)/n|0)+(r/h|0)+l*a,e[c]=i%n;return o&&(e=[o].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,a,o,l){var d,h,p,f,g,y,w,k,b,v,_,T,E,S,A,P,j,C=r.s==i.s?1:-1,I=r.c,N=i.c;if(!(I&&I[0]&&N&&N[0]))return new $(r.s&&i.s&&(I?!N||I[0]!=N[0]:N)?I&&0==I[0]||!N?0*C:C/0:NaN);for(b=(k=new $(C)).c=[],C=a+(h=r.e-i.e)+1,l||(l=c,h=m(r.e/u)-m(i.e/u),C=C/u|0),p=0;N[p]==(I[p]||0);p++);if(N[p]>(I[p]||0)&&h--,C<0)b.push(1),f=!0;else{for(S=I.length,P=N.length,p=0,C+=2,(g=s(l/(N[0]+1)))>1&&(N=e(N,g,l),I=e(I,g,l),P=N.length,S=I.length),E=P,_=(v=I.slice(0,P)).length;_<P;v[_++]=0);j=N.slice(),j=[0].concat(j),A=N[0],N[1]>=l/2&&A++;do{if(g=0,(d=t(N,v,P,_))<0){if(T=v[0],P!=_&&(T=T*l+(v[1]||0)),(g=s(T/A))>1)for(g>=l&&(g=l-1),w=(y=e(N,g,l)).length,_=v.length;1==t(y,v,w,_);)g--,n(y,P<w?j:N,w,l),w=y.length,d=1;else 0==g&&(d=g=1),w=(y=N.slice()).length;if(w<_&&(y=[0].concat(y)),n(v,y,_,l),_=v.length,-1==d)for(;t(N,v,P,_)<1;)g++,n(v,P<_?j:N,_,l),_=v.length}else 0===d&&(g++,v=[0]);b[p++]=g,v[0]?v[_++]=I[E]||0:(v=[I[E]],_=1)}while((E++<S||null!=v[0])&&C--);f=null!=v[0],b[0]||b.splice(0,1)}if(l==c){for(p=1,C=b[0];C>=10;C/=10,p++);z(k,a+(k.e=p+h*u-1)+1,o,f)}else k.e=h,k.r=+f;return k}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,P=/^\.([^.]+)$/,j=/^-?(Infinity|NaN)$/,C=/^\s*\+(?=[\w.])|^\s+|\s+$/g,_=function(e,t,n,r){var i,s=n?t:t.replace(C,"");if(j.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(S,function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t}),r&&(i=r,s=s.replace(A,"$1").replace(P,"0.$1")),t!=s))return new $(s,i);if($.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},I.absoluteValue=I.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},I.comparedTo=function(e,t){return g(this,new $(e,t))},I.decimalPlaces=I.dp=function(e,t){var n,r,i,s=this;if(null!=e)return y(e,0,p),null==t?t=O:y(t,0,8),z(new $(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-m(this.e/u))*u,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},I.dividedBy=I.div=function(e,t){return n(this,new $(e,t),M,O)},I.dividedToIntegerBy=I.idiv=function(e,t){return n(this,new $(e,t),0,1)},I.exponentiatedBy=I.pow=function(e,t){var n,r,o,c,l,d,h,p,m=this;if((e=new $(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new $(t)),l=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return p=new $(Math.pow(+Y(m),l?e.s*(2-w(e)):+Y(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new $(NaN);(r=!d&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||l&&m.c[1]>=24e7:m.c[0]<8e13||l&&m.c[0]<=9999975e7)))return c=m.s<0&&w(e)?-0:0,m.e>-1&&(c=1/c),new $(d?1/c:c);U&&(c=i(U/u+2))}for(l?(n=new $(.5),d&&(e.s=1),h=w(e)):h=(o=Math.abs(+Y(e)))%2,p=new $(N);;){if(h){if(!(p=p.times(m)).c)break;c?p.c.length>c&&(p.c.length=c):r&&(p=p.mod(t))}if(o){if(0===(o=s(o/2)))break;h=o%2}else if(z(e=e.times(n),e.e+1,1),e.e>14)h=w(e);else{if(0===(o=+Y(e)))break;h=o%2}m=m.times(m),c?m.c&&m.c.length>c&&(m.c.length=c):r&&(m=m.mod(t))}return r?p:(d&&(p=N.div(p)),t?p.mod(t):c?z(p,U,O,undefined):p)},I.integerValue=function(e){var t=new $(this);return null==e?e=O:y(e,0,8),z(t,t.e+1,e)},I.isEqualTo=I.eq=function(e,t){return 0===g(this,new $(e,t))},I.isFinite=function(){return!!this.c},I.isGreaterThan=I.gt=function(e,t){return g(this,new $(e,t))>0},I.isGreaterThanOrEqualTo=I.gte=function(e,t){return 1===(t=g(this,new $(e,t)))||0===t},I.isInteger=function(){return!!this.c&&m(this.e/u)>this.c.length-2},I.isLessThan=I.lt=function(e,t){return g(this,new $(e,t))<0},I.isLessThanOrEqualTo=I.lte=function(e,t){return-1===(t=g(this,new $(e,t)))||0===t},I.isNaN=function(){return!this.s},I.isNegative=function(){return this.s<0},I.isPositive=function(){return this.s>0},I.isZero=function(){return!!this.c&&0==this.c[0]},I.minus=function(e,t){var n,r,i,s,a=this,o=a.s;if(t=(e=new $(e,t)).s,!o||!t)return new $(NaN);if(o!=t)return e.s=-t,a.plus(e);var l=a.e/u,d=e.e/u,h=a.c,p=e.c;if(!l||!d){if(!h||!p)return h?(e.s=-t,e):new $(p?a:NaN);if(!h[0]||!p[0])return p[0]?(e.s=-t,e):new $(h[0]?a:3==O?-0:0)}if(l=m(l),d=m(d),h=h.slice(),o=l-d){for((s=o<0)?(o=-o,i=h):(d=l,i=p),i.reverse(),t=o;t--;i.push(0));i.reverse()}else for(r=(s=(o=h.length)<(t=p.length))?o:t,o=t=0;t<r;t++)if(h[t]!=p[t]){s=h[t]<p[t];break}if(s&&(i=h,h=p,p=i,e.s=-e.s),(t=(r=p.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=c-1;r>o;){if(h[--r]<p[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=c}h[r]-=p[r]}for(;0==h[0];h.splice(0,1),--d);return h[0]?W(e,h,d):(e.s=3==O?-1:1,e.c=[e.e=0],e)},I.modulo=I.mod=function(e,t){var r,i,s=this;return e=new $(e,t),!s.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||s.c&&!s.c[0]?new $(s):(9==K?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,K),(e=s.minus(r.times(e))).c[0]||1!=K||(e.s=s.s),e)},I.multipliedBy=I.times=function(e,t){var n,r,i,s,a,o,l,d,p,f,g,y,w,k,b,v=this,_=v.c,T=(e=new $(e,t)).c;if(!(_&&T&&_[0]&&T[0]))return!v.s||!e.s||_&&!_[0]&&!T||T&&!T[0]&&!_?e.c=e.e=e.s=null:(e.s*=v.s,_&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(v.e/u)+m(e.e/u),e.s*=v.s,(l=_.length)<(f=T.length)&&(w=_,_=T,T=w,i=l,l=f,f=i),i=l+f,w=[];i--;w.push(0));for(k=c,b=h,i=f;--i>=0;){for(n=0,g=T[i]%b,y=T[i]/b|0,s=i+(a=l);s>i;)n=((d=g*(d=_[--a]%b)+(o=y*d+(p=_[a]/b|0)*g)%b*b+w[s]+n)/k|0)+(o/b|0)+y*p,w[s--]=d%k;w[s]=n}return n?++r:w.splice(0,1),W(e,w,r)},I.negated=function(){var e=new $(this);return e.s=-e.s||null,e},I.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new $(e,t)).s,!i||!t)return new $(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/u,a=e.e/u,o=r.c,l=e.c;if(!s||!a){if(!o||!l)return new $(i/0);if(!o[0]||!l[0])return l[0]?e:new $(o[0]?r:0*i)}if(s=m(s),a=m(a),o=o.slice(),i=s-a){for(i>0?(a=s,n=l):(i=-i,n=o),n.reverse();i--;n.push(0));n.reverse()}for((i=o.length)-(t=l.length)<0&&(n=l,l=o,o=n,t=i),i=0;t;)i=(o[--t]=o[t]+l[t]+i)/c|0,o[t]=c===o[t]?0:o[t]%c;return i&&(o=[i].concat(o),++a),W(e,o,a)},I.precision=I.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return y(e,1,p),null==t?t=O:y(t,0,8),z(new $(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*u+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},I.shiftedBy=function(e){return y(e,-9007199254740991,l),this.times("1e"+e)},I.squareRoot=I.sqrt=function(){var e,t,r,i,s,a=this,o=a.c,c=a.s,u=a.e,l=M+4,d=new $("0.5");if(1!==c||!o||!o[0])return new $(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);if(0==(c=Math.sqrt(+Y(a)))||c==1/0?(((t=f(o)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=m((u+1)/2)-(u<0||u%2),r=new $(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new $(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(s=r,r=d.times(s.plus(n(a,s,l,1))),f(s.c).slice(0,c)===(t=f(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z(r,r.e+M+2,1),e=!r.times(r).eq(a));break}if(!i&&(z(s,s.e+M+2,0),s.times(s).eq(a))){r=s;break}l+=4,c+=4,i=1}return z(r,r.e+M+1,O,e)},I.toExponential=function(e,t){return null!=e&&(y(e,0,p),e++),G(this,e,t,1)},I.toFixed=function(e,t){return null!=e&&(y(e,0,p),e=e+this.e+1),G(this,e,t)},I.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=F;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,o=r.split("."),c=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",d=o[0],h=o[1],p=i.s<0,m=p?d.slice(1):d,f=m.length;if(u&&(s=c,c=u,u=s,f-=s),c>0&&f>0){for(s=f%c||c,d=m.substr(0,s);s<f;s+=c)d+=l+m.substr(s,c);u>0&&(d+=l+m.slice(s)),p&&(d="-"+d)}r=h?d+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):d}return(n.prefix||"")+r+(n.suffix||"")},I.toFraction=function(e){var t,r,i,s,o,c,l,h,p,m,g,y,w=this,k=w.c;if(null!=e&&(!(l=new $(e)).isInteger()&&(l.c||1!==l.s)||l.lt(N)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Y(l));if(!k)return new $(w);for(t=new $(N),p=r=new $(N),i=h=new $(N),y=f(k),o=t.e=y.length-w.e-1,t.c[0]=d[(c=o%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?o>0?t:p:l,c=D,D=1/0,l=new $(y),h.c[0]=0;m=n(l,t,0,1),1!=(s=r.plus(m.times(i))).comparedTo(e);)r=i,i=s,p=h.plus(m.times(s=p)),h=s,t=l.minus(m.times(s=t)),l=s;return s=n(e.minus(r),i,0,1),h=h.plus(s.times(p)),r=r.plus(s.times(i)),h.s=p.s=w.s,g=n(p,i,o*=2,O).minus(w).abs().comparedTo(n(h,r,o,O).minus(w).abs())<1?[p,i]:[h,r],D=c,g},I.toNumber=function(){return+Y(this)},I.toPrecision=function(e,t){return null!=e&&y(e,1,p),G(this,e,t,2)},I.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=R||i>=x?k(f(n.c),i):b(f(n.c),i,"0"):10===e&&H?t=b(f((n=z(new $(n),M+i+1,O)).c),n.e,"0"):(y(e,2,q.length,"Base"),t=v(b(f(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},I.valueOf=I.toJSON=function(){return Y(this)},I._isBigNumber=!0,null!=t&&$.set(t),$}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@metamask/notification-services-controller>bignumber.js",file:"node_modules/@metamask/notification-services-controller/node_modules/bignumber.js/bignumber.js"}],[2245,{"bn.js":3699,"strip-hex-prefix":5303},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("bn.js"),i=e("strip-hex-prefix");t.exports=function(e){if("string"==typeof e||"number"==typeof e){var t=new r(1),n=String(e).toLowerCase().trim(),s="0x"===n.substr(0,2)||"-0x"===n.substr(0,3),a=i(n);if("-"===a.substr(0,1)&&(a=i(a.slice(1)),t=new r(-1,10)),!(a=""===a?"0":a).match(/^-?[0-9]+$/)&&a.match(/^[0-9A-Fa-f]+$/)||a.match(/^[a-fA-F]+$/)||!0===s&&a.match(/^[0-9A-Fa-f]+$/))return new r(a,16).mul(t);if((a.match(/^-?[0-9]+$/)||""===a)&&!1===s)return new r(a,10).mul(t)}else if("object"==typeof e&&e.toString&&!e.pop&&!e.push&&e.toString(10).match(/^-?[0-9]+$/)&&(e.mul||e.dividedToIntegerBy))return new r(e.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(e)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}}}},{package:"@metamask/controller-utils>@metamask/ethjs-unit>@metamask/number-to-bn",file:"node_modules/@metamask/number-to-bn/src/index.js"}],[2246,{"./Substream":2247,once:4734,"readable-stream":4977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectMultiplex=void 0;const i=e("readable-stream"),s=r(e("once")),a=e("./Substream"),o=Symbol("IGNORE_SUBSTREAM");class c extends i.Duplex{constructor(e={}){super(Object.assign({objectMode:!0},e)),this._substreams={}}createStream(e,t={}){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const n=new a.Substream(Object.assign({name:e,parent:this},t));return this._substreams[e]=n,function(e,t){const n=(0,s.default)(t);(0,i.finished)(e,{readable:!1},n),(0,i.finished)(e,{writable:!1},n)}(this,e=>n.destroy(e||undefined)),n}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=o}_read(){return undefined}_write(e,t,n){const{name:r,data:i}=e;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const s=this._substreams[r];return s?(s!==o&&s.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}}n.ObjectMultiplex=c}}},{package:"@metamask/object-multiplex",file:"node_modules/@metamask/object-multiplex/dist/ObjectMultiplex.js"}],[2247,{"readable-stream":4977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(n,"__esModule",{value:!0}),n.Substream=void 0;const i=e("readable-stream");class s extends i.Duplex{constructor(e){var{parent:t,name:n}=e,i=r(e,["parent","name"]);super(Object.assign({objectMode:!0},i)),this._parent=t,this._name=n}_read(){return undefined}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}n.Substream=s}}},{package:"@metamask/object-multiplex",file:"node_modules/@metamask/object-multiplex/dist/Substream.js"}],[2248,{"./ObjectMultiplex":2246},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("./ObjectMultiplex");t.exports=r.ObjectMultiplex}}},{package:"@metamask/object-multiplex",file:"node_modules/@metamask/object-multiplex/dist/index.js"}],[2255,{"./Permission.cjs":2256,"./errors.cjs":2259,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decorateWithCaveats=n.isRestrictedMethodCaveatSpecification=void 0;const r=e("@metamask/utils"),i=e("./errors.cjs"),s=e("./Permission.cjs");function a(e){return(0,r.hasProperty)(e,"decorator")}n.isRestrictedMethodCaveatSpecification=a,n.decorateWithCaveats=function(e,t,n){const{caveats:r}=t;if(!r)return e;let o=async t=>e(t);for(const e of r){const t=n[e.type];if(!t)throw new i.UnrecognizedCaveatTypeError(e.type);if(!a(t))throw new i.CaveatSpecificationMismatchError(t,s.PermissionType.RestrictedMethod);o=t.decorator(o,e)}return o}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/Caveat.cjs"}],[2256,{nanoid:4718},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasSpecificationType=n.PermissionType=n.findCaveat=n.constructPermission=void 0;const r=e("nanoid");var i;n.constructPermission=function(e){const{caveats:t=null,invoker:n,target:i}=e;return{id:(0,r.nanoid)(),parentCapability:i,invoker:n,caveats:t,date:(new Date).getTime()}},n.findCaveat=function(e,t){return e.caveats?.find(e=>e.type===t)},function(e){e.RestrictedMethod="RestrictedMethod",e.Endowment="Endowment"}(i||(n.PermissionType=i={})),n.hasSpecificationType=function(e,t){return e.permissionType===t}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/Permission.cjs"}],[2257,{"./Caveat.cjs":2255,"./Permission.cjs":2256,"./errors.cjs":2259,"./permission-middleware.cjs":2261,"./utils.cjs":2266,"@metamask/base-controller":1222,"@metamask/controller-utils":1301,"@metamask/rpc-errors":2384,"@metamask/utils":2799,"deep-freeze-strict":3913,immer:4327,nanoid:4718},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionController=n.CaveatMutatorOperation=void 0;const h=e("@metamask/base-controller"),p=e("@metamask/controller-utils"),m=e("@metamask/rpc-errors"),f=e("@metamask/utils"),g=d(e("deep-freeze-strict")),y=e("immer"),w=e("nanoid"),k=e("./Caveat.cjs"),b=e("./errors.cjs"),v=e("./Permission.cjs"),_=e("./permission-middleware.cjs"),T=e("./utils.cjs"),E="PermissionController";var S;!function(e){e[e.Noop=0]="Noop",e[e.UpdateValue=1]="UpdateValue",e[e.DeleteCaveat=2]="DeleteCaveat",e[e.RevokePermission=3]="RevokePermission"}(S||(n.CaveatMutatorOperation=S={}));class A extends h.BaseController{get unrestrictedMethods(){return this._unrestrictedMethods}constructor(e){const{caveatSpecifications:t,permissionSpecifications:n,unrestrictedMethods:i,messenger:s,state:a={}}=e;super({name:E,metadata:{subjects:{anonymous:!0,persist:!0}},messenger:s,state:{subjects:{},...a}}),r.add(this),this._unrestrictedMethods=new Set(i),this._caveatSpecifications=(0,g.default)({...t}),this.validatePermissionSpecifications(n,this._caveatSpecifications),this._permissionSpecifications=(0,g.default)({...n}),this.registerMessageHandlers(),this.createPermissionMiddleware=(0,_.getPermissionMiddlewareFactory)({executeRestrictedMethod:this._executeRestrictedMethod.bind(this),getRestrictedMethod:this.getRestrictedMethod.bind(this),isUnrestrictedMethod:this.unrestrictedMethods.has.bind(this.unrestrictedMethods)})}getPermissionSpecification(e){return this._permissionSpecifications[e]}getCaveatSpecification(e){return this._caveatSpecifications[e]}validatePermissionSpecifications(e,t){Object.entries(e).forEach(([e,{permissionType:n,targetName:r,allowedCaveats:i}])=>{if(!n||!(0,f.hasProperty)(v.PermissionType,n))throw new Error(`Invalid permission type: "${n}"`);if(!e)throw new Error(`Invalid permission target name: "${e}"`);if(e!==r)throw new Error(`Invalid permission specification: target name "${e}" must match specification.targetName value "${r}".`);i&&i.forEach(e=>{if(!(0,f.hasProperty)(t,e))throw new b.UnrecognizedCaveatTypeError(e);const r=t[e],i=(0,k.isRestrictedMethodCaveatSpecification)(r);if(n===v.PermissionType.RestrictedMethod&&!i||n===v.PermissionType.Endowment&&i)throw new b.CaveatSpecificationMismatchError(r,n)})})}registerMessageHandlers(){this.messagingSystem.registerActionHandler(`${E}:clearPermissions`,()=>this.clearState()),this.messagingSystem.registerActionHandler(`${E}:getEndowments`,(e,t,n)=>this.getEndowments(e,t,n)),this.messagingSystem.registerActionHandler(`${E}:getSubjectNames`,()=>this.getSubjectNames()),this.messagingSystem.registerActionHandler(`${E}:getPermissions`,e=>this.getPermissions(e)),this.messagingSystem.registerActionHandler(`${E}:hasPermission`,(e,t)=>this.hasPermission(e,t)),this.messagingSystem.registerActionHandler(`${E}:hasPermissions`,e=>this.hasPermissions(e)),this.messagingSystem.registerActionHandler(`${E}:grantPermissions`,this.grantPermissions.bind(this)),this.messagingSystem.registerActionHandler(`${E}:grantPermissionsIncremental`,this.grantPermissionsIncremental.bind(this)),this.messagingSystem.registerActionHandler(`${E}:requestPermissions`,(e,t)=>this.requestPermissions(e,t)),this.messagingSystem.registerActionHandler(`${E}:requestPermissionsIncremental`,(e,t)=>this.requestPermissionsIncremental(e,t)),this.messagingSystem.registerActionHandler(`${E}:revokeAllPermissions`,e=>this.revokeAllPermissions(e)),this.messagingSystem.registerActionHandler(`${E}:revokePermissionForAllSubjects`,e=>this.revokePermissionForAllSubjects(e)),this.messagingSystem.registerActionHandler(`${E}:revokePermissions`,this.revokePermissions.bind(this)),this.messagingSystem.registerActionHandler(`${E}:updateCaveat`,(e,t,n,r)=>{this.updateCaveat(e,t,n,r)})}clearState(){this.update(e=>({subjects:{}}))}getTypedPermissionSpecification(e,t,n){const r=e===v.PermissionType.RestrictedMethod?(0,b.methodNotFound)(t,n?{origin:n}:undefined):new b.EndowmentPermissionDoesNotExistError(t,n);if(!this.targetExists(t))throw r;const i=this.getPermissionSpecification(t);if(!(0,v.hasSpecificationType)(i,e))throw r;return i}getRestrictedMethod(e,t){return this.getTypedPermissionSpecification(v.PermissionType.RestrictedMethod,e,t).methodImplementation}getSubjectNames(){return Object.keys(this.state.subjects)}getPermission(e,t){return this.state.subjects[e]?.permissions[t]}getPermissions(e){return this.state.subjects[e]?.permissions}hasPermission(e,t){return Boolean(this.getPermission(e,t))}hasPermissions(e){return Boolean(this.state.subjects[e])}revokeAllPermissions(e){this.update(t=>{if(!t.subjects[e])throw new b.UnrecognizedSubjectError(e);delete t.subjects[e]})}revokePermission(e,t){this.revokePermissions({[e]:[t]})}revokePermissions(e){this.update(t=>{Object.keys(e).forEach(n=>{if(!(0,f.hasProperty)(t.subjects,n))throw new b.UnrecognizedSubjectError(n);e[n].forEach(e=>{const{permissions:r}=t.subjects[n];if(!(0,f.hasProperty)(r,e))throw new b.PermissionDoesNotExistError(n,e);this.deletePermission(t.subjects,n,e)})})})}revokePermissionForAllSubjects(e){0!==this.getSubjectNames().length&&this.update(t=>{Object.entries(t.subjects).forEach(([n,r])=>{const{permissions:i}=r;(0,f.hasProperty)(i,e)&&this.deletePermission(t.subjects,n,e)})})}deletePermission(e,t,n){const{permissions:r}=e[t];Object.keys(r).length>1?delete r[n]:delete e[t]}hasCaveat(e,t,n){return Boolean(this.getCaveat(e,t,n))}getCaveat(e,t,n){const r=this.getPermission(e,t);if(!r)throw new b.PermissionDoesNotExistError(e,t);return(0,v.findCaveat)(r,n)}addCaveat(e,t,n,r){if(this.hasCaveat(e,t,n))throw new b.CaveatAlreadyExistsError(e,t,n);this.setCaveat(e,t,n,r)}updateCaveat(e,t,n,r){if(!this.hasCaveat(e,t,n))throw new b.CaveatDoesNotExistError(e,t,n);this.setCaveat(e,t,n,r)}setCaveat(e,t,n,r){this.update(i=>{const s=i.subjects[e];if(!s)throw new b.UnrecognizedSubjectError(e);const a=s.permissions[t];if(!a)throw new b.PermissionDoesNotExistError(e,t);const o={type:n,value:r};this.validateCaveat(o,e,t);let c=!1;if(a.caveats){const e=a.caveats.findIndex(e=>e.type===o.type);-1===e?(a.caveats.push(o),c=!0):a.caveats.splice(e,1,o)}else a.caveats=[o],c=!0;c&&this.validateModifiedPermission(a,e,{invokePermissionValidator:!0,performCaveatValidation:!1})})}updatePermissionsByCaveat(e,t){0!==Object.keys(this.state.subjects).length&&this.update(n=>{Object.values(n.subjects).forEach(r=>{Object.values(r.permissions).forEach(i=>{const{caveats:s}=i,a=s?.find(({type:t})=>t===e);if(!a)return;const o=t(a.value),{operation:c}=o;switch(c){case S.Noop:break;case S.UpdateValue:a.value=o.value,this.validateCaveat(a,r.origin,i.parentCapability);break;case S.DeleteCaveat:this.deleteCaveat(i,e,r.origin);break;case S.RevokePermission:this.deletePermission(n.subjects,r.origin,i.parentCapability);break;default:throw new Error(`Unrecognized mutation result: "${c}"`)}})})})}removeCaveat(e,t,n){this.update(r=>{const i=r.subjects[e]?.permissions[t];if(!i)throw new b.PermissionDoesNotExistError(e,t);if(!i.caveats)throw new b.CaveatDoesNotExistError(e,t,n);this.deleteCaveat(i,n,e)})}deleteCaveat(e,t,n){if(!e.caveats)throw new b.CaveatDoesNotExistError(n,e.parentCapability,t);const r=e.caveats.findIndex(e=>e.type===t);if(-1===r)throw new b.CaveatDoesNotExistError(n,e.parentCapability,t);1===e.caveats.length?e.caveats=null:e.caveats.splice(r,1),this.validateModifiedPermission(e,n,{invokePermissionValidator:!0,performCaveatValidation:!1})}validateModifiedPermission(e,t,n){if(!this.targetExists(e.parentCapability))throw new Error(`Fatal: Existing permission target "${e.parentCapability}" has no specification.`);this.validatePermission(this.getPermissionSpecification(e.parentCapability),e,t,n)}targetExists(e){return(0,f.hasProperty)(this._permissionSpecifications,e)}grantPermissions({approvedPermissions:e,requestData:t,preserveExistingPermissions:n=!0,subject:i}){return l(this,r,"m",s).call(this,{approvedPermissions:e,subject:i,mergePermissions:!1,preserveExistingPermissions:n,requestData:t})}grantPermissionsIncremental({approvedPermissions:e,requestData:t,subject:n}){return l(this,r,"m",s).call(this,{approvedPermissions:e,subject:n,mergePermissions:!0,preserveExistingPermissions:!0,requestData:t})}validatePermission(e,t,n,{invokePermissionValidator:r,performCaveatValidation:i}){const{allowedCaveats:s,validator:a,targetName:o}=e;if(e.subjectTypes?.length&&e.subjectTypes.length>0){const t=this.messagingSystem.call("SubjectMetadataController:getSubjectMetadata",n);if(!t||null===t.subjectType||!e.subjectTypes.includes(t.subjectType))throw e.permissionType===v.PermissionType.RestrictedMethod?(0,b.methodNotFound)(o,{origin:n}):new b.EndowmentPermissionDoesNotExistError(o,n)}if((0,f.hasProperty)(t,"caveats")){const{caveats:e}=t;if(null!==e&&!(Array.isArray(e)&&e.length>0))throw new b.InvalidCaveatsPropertyError(n,o,e);const r=new Set;e?.forEach(e=>{if(i&&this.validateCaveat(e,n,o),!s?.includes(e.type))throw new b.ForbiddenCaveatError(e.type,n,o);if(r.has(e.type))throw new b.DuplicateCaveatError(e.type,n,o);r.add(e.type)})}r&&a&&a(t,n,o)}setValidatedPermissions(e,t){this.update(n=>{n.subjects[e]||(n.subjects[e]={origin:e,permissions:{}}),n.subjects[e].permissions=(0,y.castDraft)(t)})}constructCaveats(e,t,n){const r=n?.map(n=>{this.validateCaveat(n,e,t);const{type:r,value:i}=n;return{type:r,value:i}});return r&&(0,p.isNonEmptyArray)(r)?r:undefined}validateCaveat(e,t,n){if(!(0,p.isPlainObject)(e))throw new b.InvalidCaveatError(e,t,n);if(2!==Object.keys(e).length)throw new b.InvalidCaveatFieldsError(e,t,n);if("string"!=typeof e.type)throw new b.InvalidCaveatTypeError(e,t,n);const r=this.getCaveatSpecification(e.type);if(!r)throw new b.UnrecognizedCaveatTypeError(e.type,t,n);if(!(0,f.hasProperty)(e,"value")||e.value===undefined)throw new b.CaveatMissingValueError(e,t,n);if(!(0,p.isValidJson)(e.value))throw new b.CaveatInvalidJsonError(e,t,n);r.validator?.(e,t,n)}async requestPermissions(e,t,n={}){const{origin:i}=e,{id:s=(0,w.nanoid)(),preserveExistingPermissions:a=!0}=n;this.validateRequestedPermissions(i,t);const o={...n.metadata,id:s,origin:i},c={metadata:o,permissions:t},d=await this.requestUserApproval(c);return await l(this,r,"m",u).call(this,{subject:e,metadata:o,preserveExistingPermissions:a,approvedRequest:d})}async requestPermissionsIncremental(e,t,n={}){const{origin:i}=e,{id:s=(0,w.nanoid)()}=n;this.validateRequestedPermissions(i,t);const o=this.getPermissions(i)??{},[c,d]=l(this,r,"m",a).call(this,o,t);if(c===undefined||d===undefined)return[];try{this.validateRequestedPermissions(i,c)}catch(e){if(e instanceof Error)throw new b.InvalidMergedPermissionsError(i,e,d);throw(0,b.internalError)("Unrecognized error type",{error:e})}const h={...n.metadata,id:s,origin:i},p={metadata:h,permissions:c,diff:{currentPermissions:o,permissionDiffMap:d}},m=await this.requestUserApproval(p);return await l(this,r,"m",u).call(this,{subject:e,metadata:h,preserveExistingPermissions:!1,approvedRequest:m})}validateRequestedPermissions(e,t){if(!(0,p.isPlainObject)(t))throw(0,b.invalidParams)({message:`Requested permissions for origin "${e}" is not a plain object.`,data:{origin:e,requestedPermissions:t}});if(0===Object.keys(t).length)throw(0,b.invalidParams)({message:`Permissions request for origin "${e}" contains no permissions.`,data:{requestedPermissions:t}});for(const n of Object.keys(t)){const r=t[n];if(!this.targetExists(n))throw(0,b.methodNotFound)(n,{origin:e,requestedPermissions:t});if(!(0,p.isPlainObject)(r)||r.parentCapability!==undefined&&n!==r.parentCapability)throw(0,b.invalidParams)({message:`Permissions request for origin "${e}" contains invalid requested permission(s).`,data:{origin:e,requestedPermissions:t}});this.validatePermission(this.getPermissionSpecification(n),r,e,{invokePermissionValidator:!1,performCaveatValidation:!0})}}async requestUserApproval(e){const{origin:t,id:n}=e.metadata,r=await this.messagingSystem.call("ApprovalController:addRequest",{id:n,origin:t,requestData:e,type:T.MethodNames.RequestPermissions},!0);return this.validateApprovedPermissions(r,{id:n,origin:t}),r}getSideEffects(e){return Object.keys(e).reduce((e,t)=>{if(this.targetExists(t)){const n=this.getPermissionSpecification(t);n.sideEffect&&(e.permittedHandlers[t]=n.sideEffect.onPermitted,n.sideEffect.onFailure&&(e.failureHandlers[t]=n.sideEffect.onFailure))}return e},{permittedHandlers:{},failureHandlers:{}})}async executeSideEffects(e,t){const{permittedHandlers:n,failureHandlers:r}=e,i={requestData:t,messagingSystem:this.messagingSystem},s=await Promise.allSettled(Object.values(n).map(e=>e(i))),a=s.filter(e=>"rejected"===e.status);if(a.length>0){const e=Object.values(r);if(e.length>0)try{await Promise.all(e.map(e=>e(i)))}catch(e){throw(0,b.internalError)("Unexpected error in side-effects",{error:e})}const t=a.map(e=>e.reason);throw t.forEach(e=>{console.error(e)}),t.length>1?(0,b.internalError)("Multiple errors occurred during side-effects execution",{errors:t}):t[0]}return s.map(({value:e})=>e)}validateApprovedPermissions(e,t){const{id:n,origin:r}=t;if(!(0,p.isPlainObject)(e)||!(0,p.isPlainObject)(e.metadata))throw(0,b.internalError)(`Approved permissions request for subject "${r}" is invalid.`,{data:{approvedRequest:e}});const{metadata:{id:i,origin:s},permissions:a}=e;if(i!==n)throw(0,b.internalError)(`Approved permissions request for subject "${r}" mutated its id.`,{originalId:n,mutatedId:i});if(s!==r)throw(0,b.internalError)(`Approved permissions request for subject "${r}" mutated its origin.`,{originalOrigin:r,mutatedOrigin:s});try{this.validateRequestedPermissions(r,a)}catch(e){if(e instanceof Error)throw(0,b.internalError)(`Invalid approved permissions request: ${e.message}`,e instanceof m.JsonRpcError?e.data:undefined);throw(0,b.internalError)("Unrecognized error type",{error:e})}}async acceptPermissionsRequest(e){const{id:t}=e.metadata;if(!this.hasApprovalRequest({id:t}))throw new b.PermissionsRequestNotFoundError(t);if(0!==Object.keys(e.permissions).length)try{await this.messagingSystem.call("ApprovalController:acceptRequest",t,e)}catch(e){throw this._rejectPermissionsRequest(t,e),e}else this._rejectPermissionsRequest(t,(0,b.invalidParams)({message:"Must request at least one permission."}))}async rejectPermissionsRequest(e){if(!this.hasApprovalRequest({id:e}))throw new b.PermissionsRequestNotFoundError(e);this._rejectPermissionsRequest(e,(0,b.userRejectedRequest)())}hasApprovalRequest(e){return this.messagingSystem.call("ApprovalController:hasRequest",e)}_rejectPermissionsRequest(e,t){return this.messagingSystem.call("ApprovalController:rejectRequest",e,t)}async getEndowments(e,t,n){if(!this.hasPermission(e,t))throw(0,b.unauthorized)({data:{origin:e,targetName:t}});return this.getTypedPermissionSpecification(v.PermissionType.Endowment,t,e).endowmentGetter({origin:e,requestData:n})}async executeRestrictedMethod(e,t,n){const r=this.getRestrictedMethod(t,e),i=await this._executeRestrictedMethod(r,{origin:e},t,n);if(i===undefined)throw new Error(`Internal request for method "${t}" as origin "${e}" returned no result.`);return i}_executeRestrictedMethod(e,t,n,r=[]){const{origin:i}=t,s=this.getPermission(i,n);if(!s)throw(0,b.unauthorized)({data:{origin:i,method:n}});return(0,k.decorateWithCaveats)(e,s,this._caveatSpecifications)({method:n,params:r,context:{origin:i}})}}n.PermissionController=A,r=new WeakSet,i=function(e){const{merger:t}=this.getCaveatSpecification(e);if(t===undefined)throw new b.CaveatMergerDoesNotExistError(e);return t},s=function({approvedPermissions:e,subject:t,mergePermissions:n,preserveExistingPermissions:i,requestData:s}){const{origin:a}=t;if(!a||"string"!=typeof a)throw new b.InvalidSubjectIdentifierError(a);const c=i?{...this.getPermissions(a)}:{};for(const[t,i]of Object.entries(e)){if(!this.targetExists(t))throw(0,b.methodNotFound)(t);if(i.parentCapability!==undefined&&t!==i.parentCapability)throw new b.InvalidApprovedPermissionError(a,t,i);const e=t,u=this.getPermissionSpecification(e),d={caveats:this.constructCaveats(a,e,i.caveats),invoker:a,target:e};let h;h=u.factory?u.factory(d,s):(0,v.constructPermission)(d),n&&(h=l(this,r,"m",o).call(this,c[e],h)[0]),this.validatePermission(u,h,a,{invokePermissionValidator:!0,performCaveatValidation:!0}),c[e]=h}return this.setValidatedPermissions(a,c),c},a=function(e,t){const n={},i=(0,y.produce)(e,e=>{const i=e;Object.entries(t).forEach(([e,t])=>{const s=i[e],[a,c]=l(this,r,"m",o).call(this,s??{},t);(s===undefined||Object.keys(c).length>0)&&(i[e]=a,n[e]=c)})});return 0===Object.keys(n).length?[]:[i,n]},o=function(e,t){const{caveatPairs:n,leftUniqueCaveats:i,rightUniqueCaveats:s}=(0,T.collectUniqueAndPairedCaveats)(e,t),[a,o]=n.reduce(([e,t],[n,i])=>{const[s,a]=l(this,r,"m",c).call(this,n,i);return s!==undefined&&a!==undefined?(e.push(s),t[s.type]=a):e.push(n),[e,t]},[[],{}]),u=[...a,...i,...s.map(e=>{const[t,n]=l(this,r,"m",c).call(this,undefined,e);return o[t.type]=n,t})];return[{...e,...t,...u.length>0?{caveats:u}:{}},o]},c=function(e,t){if(e!==undefined&&e.type!==t.type)throw new b.CaveatMergeTypeMismatchError(e.type,t.type);const n=l(this,r,"m",i).call(this,t.type);if(e===undefined)return[{...t},t.value];const[s,a]=n(e.value,t.value);return s!==undefined&&a!==undefined?[{type:t.type,value:s},a]:[]},u=async function({subject:e,metadata:t,preserveExistingPermissions:n,approvedRequest:r}){const{permissions:i,...s}=r,a={...t},o=this.getSideEffects(i);if(Object.values(o.permittedHandlers).length>0){const e=await this.executeSideEffects(o,r);a.data=Object.keys(o.permittedHandlers).reduce((t,n,r)=>({[n]:e[r],...t}),{})}return[this.grantPermissions({subject:e,approvedPermissions:i,preserveExistingPermissions:n,requestData:s}),a]}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/PermissionController.cjs"}],[2258,{"@metamask/base-controller":1222},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SubjectMetadataController=n.SubjectType=void 0;const r=e("@metamask/base-controller");var i;!function(e){e.Extension="extension",e.Internal="internal",e.Unknown="unknown",e.Website="website",e.Snap="snap"}(i||(n.SubjectType=i={}));const s={subjectMetadata:{persist:!0,anonymous:!1}},a={subjectMetadata:{}};class o extends r.BaseController{constructor({messenger:e,subjectCacheLimit:t,state:n={}}){if(!Number.isInteger(t)||t<1)throw new Error(`subjectCacheLimit must be a positive integer. Received: "${t}"`);const r=t=>e.call("PermissionController:hasPermissions",t);super({name:"SubjectMetadataController",metadata:s,messenger:e,state:{...o.getTrimmedState(n,r)}}),this.subjectHasPermissions=r,this.subjectCacheLimit=t,this.subjectsWithoutPermissionsEncounteredSinceStartup=new Set,this.messagingSystem.registerActionHandler(`${this.name}:getSubjectMetadata`,this.getSubjectMetadata.bind(this)),this.messagingSystem.registerActionHandler(`${this.name}:addSubjectMetadata`,this.addSubjectMetadata.bind(this))}clearState(){this.subjectsWithoutPermissionsEncounteredSinceStartup.clear(),this.update(e=>({...a}))}addSubjectMetadata(e){const{origin:t}=e,n={...e,extensionId:e.extensionId||null,iconUrl:e.iconUrl||null,name:e.name||null,subjectType:e.subjectType||null};let r=null;if(this.subjectsWithoutPermissionsEncounteredSinceStartup.size>=this.subjectCacheLimit){const e=this.subjectsWithoutPermissionsEncounteredSinceStartup.values().next().value;this.subjectsWithoutPermissionsEncounteredSinceStartup.delete(e),this.subjectHasPermissions(e)||(r=e)}this.subjectsWithoutPermissionsEncounteredSinceStartup.add(t),this.update(e=>{e.subjectMetadata[t]=n,"string"==typeof r&&delete e.subjectMetadata[r]})}getSubjectMetadata(e){return this.state.subjectMetadata[e]}trimMetadataState(){this.update(e=>o.getTrimmedState(e,this.subjectHasPermissions))}static getTrimmedState(e,t){const{subjectMetadata:n={}}=e;return{subjectMetadata:Object.keys(n).reduce((e,r)=>(t(r)&&(e[r]=n[r]),e),{})}}}n.SubjectMetadataController=o}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/SubjectMetadataController.cjs"}],[2259,{"@metamask/rpc-errors":2384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsRequestNotFoundError=n.CaveatSpecificationMismatchError=n.CaveatMergeTypeMismatchError=n.DuplicateCaveatError=n.ForbiddenCaveatError=n.InvalidCaveatFieldsError=n.CaveatInvalidJsonError=n.CaveatMissingValueError=n.InvalidCaveatTypeError=n.InvalidCaveatError=n.CaveatAlreadyExistsError=n.CaveatDoesNotExistError=n.InvalidCaveatsPropertyError=n.UnrecognizedCaveatTypeError=n.EndowmentPermissionDoesNotExistError=n.PermissionDoesNotExistError=n.InvalidApprovedPermissionError=n.InvalidMergedPermissionsError=n.CaveatMergerDoesNotExistError=n.UnrecognizedSubjectError=n.InvalidSubjectIdentifierError=n.internalError=n.userRejectedRequest=n.invalidParams=n.methodNotFound=n.unauthorized=void 0;const r=e("@metamask/rpc-errors");n.unauthorized=function(e){return r.providerErrors.unauthorized({message:"Unauthorized to perform action. Try requesting the required permission(s) first. For more information, see: https://docs.metamask.io/guide/rpc-api.html#permissions",data:e.data})},n.methodNotFound=function(e,t){const n={message:`The method "${e}" does not exist / is not available.`};return t!==undefined&&(n.data=t),r.rpcErrors.methodNotFound(n)},n.invalidParams=function(e){return r.rpcErrors.invalidParams({data:e.data,message:e.message})},n.userRejectedRequest=function(e){return r.providerErrors.userRejectedRequest({data:e})},n.internalError=function(e,t){return r.rpcErrors.internal({message:e,data:t})};class i extends Error{constructor(e){super(`Invalid subject identifier: "${"string"==typeof e?e:typeof e}"`)}}n.InvalidSubjectIdentifierError=i;class s extends Error{constructor(e){super(`Unrecognized subject: "${e}" has no permissions.`)}}n.UnrecognizedSubjectError=s;class a extends Error{constructor(e){super(`Caveat value merger does not exist for type: "${e}"`)}}n.CaveatMergerDoesNotExistError=a;class o extends Error{constructor(e,t,n){super(`Invalid merged permissions for subject "${e}":\n${t.message}`),this.cause=t,this.data={diff:n}}}n.InvalidMergedPermissionsError=o;class c extends Error{constructor(e,t,n){super(`Invalid approved permission for origin "${e}" and target "${t}".`),this.data={origin:e,target:t,approvedPermission:n}}}n.InvalidApprovedPermissionError=c;class u extends Error{constructor(e,t){super(`Subject "${e}" has no permission for "${t}".`)}}n.PermissionDoesNotExistError=u;class l extends Error{constructor(e,t){super(`${t?`Subject "${t}"`:"Unknown subject"} has no permission for "${e}".`),t&&(this.data={origin:t})}}n.EndowmentPermissionDoesNotExistError=l;class d extends Error{constructor(e,t,n){super(`Unrecognized caveat type: "${e}"`),this.data={caveatType:e},t!==undefined&&(this.data.origin=t),n!==undefined&&(this.data.target=n)}}n.UnrecognizedCaveatTypeError=d;class h extends Error{constructor(e,t,n){super(`The "caveats" property of permission for "${t}" of subject "${e}" is invalid. It must be a non-empty array if specified.`),this.data={origin:e,target:t,caveatsProperty:n}}}n.InvalidCaveatsPropertyError=h;class p extends Error{constructor(e,t,n){super(`Permission for "${t}" of subject "${e}" has no caveat of type "${n}".`)}}n.CaveatDoesNotExistError=p;class m extends Error{constructor(e,t,n){super(`Permission for "${t}" of subject "${e}" already has a caveat of type "${n}".`)}}n.CaveatAlreadyExistsError=m;class f extends r.JsonRpcError{constructor(e,t,n){super(r.errorCodes.rpc.invalidParams,"Invalid caveat. Caveats must be plain objects.",{receivedCaveat:e}),this.data={origin:t,target:n}}}n.InvalidCaveatError=f;class g extends Error{constructor(e,t,n){super(`Caveat types must be strings. Received: "${typeof e.type}"`),this.data={caveat:e,origin:t,target:n}}}n.InvalidCaveatTypeError=g;class y extends Error{constructor(e,t,n){super('Caveat is missing "value" field.'),this.data={caveat:e,origin:t,target:n}}}n.CaveatMissingValueError=y;class w extends Error{constructor(e,t,n){super('Caveat "value" is invalid JSON.'),this.data={caveat:e,origin:t,target:n}}}n.CaveatInvalidJsonError=w;class k extends Error{constructor(e,t,n){super(`Caveat has unexpected number of fields: "${Object.keys(e).length}"`),this.data={caveat:e,origin:t,target:n}}}n.InvalidCaveatFieldsError=k;class b extends Error{constructor(e,t,n){super(`Permissions for target "${n}" may not have caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:n}}}n.ForbiddenCaveatError=b;class v extends Error{constructor(e,t,n){super(`Permissions for target "${n}" contains multiple caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:n}}}n.DuplicateCaveatError=v;class _ extends Error{constructor(e,t){super(`Cannot merge caveats of different types: "${e}" and "${t}".`),this.data={leftCaveatType:e,rightCaveatType:t}}}n.CaveatMergeTypeMismatchError=_;class T extends Error{constructor(e,t){super(`Caveat specification uses a mismatched type. Expected caveats for ${t}`),this.data={caveatSpec:e,permissionType:t}}}n.CaveatSpecificationMismatchError=T;class E extends Error{constructor(e){super(`Permissions request with id "${e}" not found.`)}}n.PermissionsRequestNotFoundError=E}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/errors.cjs"}],[2260,{"./Caveat.cjs":2255,"./Permission.cjs":2256,"./PermissionController.cjs":2257,"./SubjectMetadataController.cjs":2258,"./errors.cjs":2259,"./rpc-methods/index.cjs":2263,"./utils.cjs":2266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.permissionRpcMethods=n.MethodNames=void 0,s(e("./Caveat.cjs"),n),s(e("./errors.cjs"),n),s(e("./Permission.cjs"),n),s(e("./PermissionController.cjs"),n);var o=e("./utils.cjs");Object.defineProperty(n,"MethodNames",{enumerable:!0,get:function(){return o.MethodNames}}),n.permissionRpcMethods=a(e("./rpc-methods/index.cjs")),s(e("./SubjectMetadataController.cjs"),n)}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/index.cjs"}],[2261,{"./errors.cjs":2259,"@metamask/json-rpc-engine":1943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionMiddlewareFactory=void 0;const r=e("@metamask/json-rpc-engine"),i=e("./errors.cjs");n.getPermissionMiddlewareFactory=function({executeRestrictedMethod:e,getRestrictedMethod:t,isUnrestrictedMethod:n}){return function(s){const{origin:a}=s;if("string"!=typeof a||!a)throw new Error('The subject "origin" must be a non-empty string.');return(0,r.createAsyncMiddleware)(async(r,o,c)=>{const{method:u,params:l}=r;if(n(u))return c();const d=t(u,a),h=await e(d,s,u,l);return h===undefined?(o.error=(0,i.internalError)(`Request for method "${r.method}" returned undefined result.`,{request:r}),undefined):(o.result=h,undefined)})}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/permission-middleware.cjs"}],[2262,{"../utils.cjs":2266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionsHandler=void 0;const r=e("../utils.cjs");n.getPermissionsHandler={methodNames:[r.MethodNames.GetPermissions],implementation:async function(e,t,n,r,{getPermissionsForOrigin:i}){return t.result=Object.values(i()||{}),r()},hookNames:{getPermissionsForOrigin:!0}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/getPermissions.cjs"}],[2263,{"./getPermissions.cjs":2262,"./requestPermissions.cjs":2264,"./revokePermissions.cjs":2265},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handlers=void 0;const r=e("./getPermissions.cjs"),i=e("./requestPermissions.cjs"),s=e("./revokePermissions.cjs");n.handlers=[i.requestPermissionsHandler,r.getPermissionsHandler,s.revokePermissionsHandler]}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/index.cjs"}],[2264,{"../errors.cjs":2259,"../utils.cjs":2266,"@metamask/controller-utils":1301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.requestPermissionsHandler=void 0;const r=e("@metamask/controller-utils"),i=e("../errors.cjs"),s=e("../utils.cjs");n.requestPermissionsHandler={methodNames:[s.MethodNames.RequestPermissions],implementation:async function(e,t,n,s,{requestPermissionsForOrigin:a}){const{params:o}=e;if(!Array.isArray(o)||!(0,r.isPlainObject)(o[0]))return s((0,i.invalidParams)({data:{request:e}}));const[c]=o,[u]=await a(c);return t.result=Object.values(u),s()},hookNames:{requestPermissionsForOrigin:!0}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/requestPermissions.cjs"}],[2265,{"../errors.cjs":2259,"../utils.cjs":2266,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.revokePermissionsHandler=void 0;const r=e("@metamask/utils"),i=e("../errors.cjs"),s=e("../utils.cjs");n.revokePermissionsHandler={methodNames:[s.MethodNames.RevokePermissions],implementation:async function(e,t,n,s,{revokePermissionsForOrigin:a}){const{params:o}=e,c=o?.[0];if(!c)return s((0,i.invalidParams)({data:{request:e}}));const u=Object.keys(c);if(!(0,r.isNonEmptyArray)(u))return s((0,i.invalidParams)({data:{request:e}}));return a(u),t.result=null,s()},hookNames:{revokePermissionsForOrigin:!0}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/revokePermissions.cjs"}],[2266,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.collectUniqueAndPairedCaveats=n.MethodNames=void 0,function(e){e.RequestPermissions="wallet_requestPermissions",e.GetPermissions="wallet_getPermissions",e.RevokePermissions="wallet_revokePermissions"}(r||(n.MethodNames=r={})),n.collectUniqueAndPairedCaveats=function(e,t){const n=e?.caveats?.slice()??[],r=t.caveats?.slice()??[],i=[],s=[];return n.forEach(e=>{const t=r.findIndex(t=>t.type===e.type);-1===t?i.push(e):(s.push([e,r[t]]),r.splice(t,1))}),{caveatPairs:s,leftUniqueCaveats:i,rightUniqueCaveats:[...r]}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/utils.cjs"}],[2270,{"./utils.cjs":2276},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},d=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CacheManager=void 0;const h=e("./utils.cjs");n.CacheManager=class{constructor({cacheTTL:e=300,maxCacheSize:t=100,initialCache:n={},updateState:c}){r.add(this),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),l(this,i,e,"f"),l(this,s,t,"f"),l(this,a,new Map(Object.entries(n)),"f"),l(this,o,c,"f"),d(this,r,"m",u).call(this)}setTTL(e){l(this,i,e,"f")}getTTL(){return d(this,i,"f")}setMaxSize(e){l(this,s,e,"f"),d(this,r,"m",u).call(this)}getMaxSize(){return d(this,s,"f")}getSize(){return d(this,a,"f").size}clear(){d(this,a,"f").clear(),d(this,r,"m",c).call(this)}get(e){const t=d(this,a,"f").get(e);if(!t)return undefined;return(0,h.fetchTimeNow)()-t.timestamp>d(this,i,"f")?(d(this,a,"f").delete(e),d(this,r,"m",c).call(this),undefined):t.data}set(e,t){d(this,a,"f").set(e,{data:t,timestamp:(0,h.fetchTimeNow)()}),d(this,r,"m",u).call(this),d(this,r,"m",c).call(this)}delete(e){const t=d(this,a,"f").delete(e);return t&&d(this,r,"m",c).call(this),t}keys(){return Array.from(d(this,a,"f").keys())}getAllEntries(){return Object.fromEntries(d(this,a,"f"))}},i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,r=new WeakSet,c=function(){d(this,o,"f").call(this,Object.fromEntries(d(this,a,"f")))},u=function(){if(d(this,a,"f").size<=d(this,s,"f"))return;const e=d(this,a,"f").size-d(this,s,"f");let t=0;for(const n of d(this,a,"f").keys()){if(t>=e)break;d(this,a,"f").delete(n),t+=1}}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/CacheManager.cjs"}],[2271,{"./utils.cjs":2276},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deepCopyPathTrie=n.convertListToTrie=n.matchedPathPrefix=n.deleteFromTrie=n.insertToTrie=n.isTerminal=void 0;const r=e("./utils.cjs");n.isTerminal=e=>!(!e||"object"!=typeof e)&&0===Object.keys(e).length;n.insertToTrie=(e,t)=>{const{hostname:i,pathComponents:s}=(0,r.getHostnameAndPathComponents)(e);if(0===s.length||!i)return;const a=i.toLowerCase();t[a]||(t[a]={});let o=t[a];for(let e=0;e<s.length;e++){const t=s[e],r=e===s.length-1;if(o[t]!==undefined){if(!r&&(0,n.isTerminal)(o[t]))return;if(r)return void((0,n.isTerminal)(o[t])||(o[t]={}));o=o[t];continue}if(r)return void(o[t]={});const i={};o[t]=i,o=i}};n.deleteFromTrie=(e,t)=>{const{hostname:i,pathComponents:s}=(0,r.getHostnameAndPathComponents)(e),a=i.toLowerCase();if(0===s.length||!t[a])return;const o=[{node:t,key:a}];let c=t[a];for(const e of s){if(!c[e])return;o.push({node:c,key:e}),c=c[e]}const u=o[o.length-1];delete u.node[u.key];for(let e=o.length-2;e>=0;e--){const{node:t,key:r}=o[e];if(!(0,n.isTerminal)(t[r]))break;delete t[r]}};n.matchedPathPrefix=(e,t)=>{const{hostname:i,pathComponents:s}=(0,r.getHostnameAndPathComponents)(e),a=i.toLowerCase();if(0===s.length||!i||!t[a])return null;let o=`${i}/`,c=t[a];for(const e of s){if(!c[e])return null;if(c=c[e],(0,n.isTerminal)(c))return o+=e,o;o+=`${e}/`}return null};n.convertListToTrie=(e=[])=>{const t={};if(!e||!Array.isArray(e))return t;for(const r of e)(0,n.insertToTrie)(r,t);return t};const i=e=>{const t={};for(const[n,r]of Object.entries(e))t[n]=i(r);return t};n.deepCopyPathTrie=e=>e?i(e):{}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/PathTrie.cjs"}],[2272,{"./CacheManager.cjs":2270,"./PathTrie.cjs":2271,"./PhishingDetector.cjs":2273,"./types.cjs":2275,"./utils.cjs":2276,"@metamask/base-controller":1222,"@metamask/controller-utils":1301,"punycode/punycode.js":4838},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h,p,m,f,g,y,w,k,b,v,_,T,E,S,A=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},P=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.PhishingController=n.phishingListKeyNameMap=n.ListNames=n.ListKeys=n.C2_DOMAIN_BLOCKLIST_URL=n.METAMASK_HOTLIST_DIFF_URL=n.METAMASK_STALELIST_URL=n.STALELIST_REFRESH_INTERVAL=n.HOTLIST_REFRESH_INTERVAL=n.C2_DOMAIN_BLOCKLIST_REFRESH_INTERVAL=n.DEFAULT_TOKEN_SCAN_CACHE_MAX_SIZE=n.DEFAULT_TOKEN_SCAN_CACHE_TTL=n.DEFAULT_URL_SCAN_CACHE_MAX_SIZE=n.DEFAULT_URL_SCAN_CACHE_TTL=n.TOKEN_BULK_SCANNING_ENDPOINT=n.SECURITY_ALERTS_BASE_URL=n.PHISHING_DETECTION_BULK_SCAN_ENDPOINT=n.PHISHING_DETECTION_SCAN_ENDPOINT=n.PHISHING_DETECTION_BASE_URL=n.C2_DOMAIN_BLOCKLIST_ENDPOINT=n.CLIENT_SIDE_DETECION_BASE_URL=n.METAMASK_HOTLIST_DIFF_FILE=n.METAMASK_STALELIST_FILE=n.PHISHING_CONFIG_BASE_URL=void 0;const j=e("@metamask/base-controller"),C=e("@metamask/controller-utils"),I=e("punycode/punycode.js"),N=e("./CacheManager.cjs"),M=e("./PathTrie.cjs"),O=e("./PhishingDetector.cjs"),R=e("./types.cjs"),x=e("./utils.cjs");var B,D;n.PHISHING_CONFIG_BASE_URL="https://phishing-detection.api.cx.metamask.io",n.METAMASK_STALELIST_FILE="/v1/stalelist",n.METAMASK_HOTLIST_DIFF_FILE="/v2/diffsSince",n.CLIENT_SIDE_DETECION_BASE_URL="https://client-side-detection.api.cx.metamask.io",n.C2_DOMAIN_BLOCKLIST_ENDPOINT="/v1/request-blocklist",n.PHISHING_DETECTION_BASE_URL="https://dapp-scanning.api.cx.metamask.io",n.PHISHING_DETECTION_SCAN_ENDPOINT="v2/scan",n.PHISHING_DETECTION_BULK_SCAN_ENDPOINT="bulk-scan",n.SECURITY_ALERTS_BASE_URL="https://security-alerts.api.cx.metamask.io",n.TOKEN_BULK_SCANNING_ENDPOINT="/token/scan-bulk",n.DEFAULT_URL_SCAN_CACHE_TTL=900,n.DEFAULT_URL_SCAN_CACHE_MAX_SIZE=250,n.DEFAULT_TOKEN_SCAN_CACHE_TTL=900,n.DEFAULT_TOKEN_SCAN_CACHE_MAX_SIZE=1e3,n.C2_DOMAIN_BLOCKLIST_REFRESH_INTERVAL=300,n.HOTLIST_REFRESH_INTERVAL=300,n.STALELIST_REFRESH_INTERVAL=2592e3,n.METAMASK_STALELIST_URL=`${n.PHISHING_CONFIG_BASE_URL}${n.METAMASK_STALELIST_FILE}`,n.METAMASK_HOTLIST_DIFF_URL=`${n.PHISHING_CONFIG_BASE_URL}${n.METAMASK_HOTLIST_DIFF_FILE}`,n.C2_DOMAIN_BLOCKLIST_URL=`${n.CLIENT_SIDE_DETECION_BASE_URL}${n.C2_DOMAIN_BLOCKLIST_ENDPOINT}`,function(e){e.EthPhishingDetectConfig="eth_phishing_detect_config"}(B||(n.ListKeys=B={})),function(e){e.MetaMask="MetaMask"}(D||(n.ListNames=D={}));const L={[D.MetaMask]:B.EthPhishingDetectConfig};n.phishingListKeyNameMap={[B.EthPhishingDetectConfig]:D.MetaMask};const K="PhishingController",U={phishingLists:{includeInStateLogs:!1,persist:!0,anonymous:!1,usedInUi:!1},whitelist:{includeInStateLogs:!1,persist:!0,anonymous:!1,usedInUi:!1},whitelistPaths:{includeInStateLogs:!1,persist:!0,anonymous:!1,usedInUi:!1},hotlistLastFetched:{includeInStateLogs:!0,persist:!0,anonymous:!1,usedInUi:!1},stalelistLastFetched:{includeInStateLogs:!0,persist:!0,anonymous:!1,usedInUi:!1},c2DomainBlocklistLastFetched:{includeInStateLogs:!0,persist:!0,anonymous:!1,usedInUi:!1},urlScanCache:{includeInStateLogs:!1,persist:!0,anonymous:!1,usedInUi:!0},tokenScanCache:{includeInStateLogs:!1,persist:!0,anonymous:!1,usedInUi:!0}};class F extends j.BaseController{constructor({stalelistRefreshInterval:e=n.STALELIST_REFRESH_INTERVAL,hotlistRefreshInterval:t=n.HOTLIST_REFRESH_INTERVAL,c2DomainBlocklistRefreshInterval:g=n.C2_DOMAIN_BLOCKLIST_REFRESH_INTERVAL,urlScanCacheTTL:w=n.DEFAULT_URL_SCAN_CACHE_TTL,urlScanCacheMaxSize:k=n.DEFAULT_URL_SCAN_CACHE_MAX_SIZE,tokenScanCacheTTL:_=n.DEFAULT_TOKEN_SCAN_CACHE_TTL,tokenScanCacheMaxSize:T=n.DEFAULT_TOKEN_SCAN_CACHE_MAX_SIZE,messenger:E,state:S={}}){super({name:K,metadata:U,messenger:E,state:{phishingLists:[],whitelist:[],whitelistPaths:{},hotlistLastFetched:0,stalelistLastFetched:0,c2DomainBlocklistLastFetched:0,urlScanCache:{},tokenScanCache:{},...S}}),r.add(this),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),h.set(this,void 0),p.set(this,void 0),this.scanUrl=async e=>{const[t,r]=(0,x.getHostnameFromWebUrl)(e);if(!r)return{hostname:"",recommendedAction:R.RecommendedAction.None,fetchError:"url is not a valid web URL"};const i=P(this,c,"f").get(t);if(i)return i;const s=await(0,C.safelyExecuteWithTimeout)(async()=>{const e=await fetch(`${n.PHISHING_DETECTION_BASE_URL}/${n.PHISHING_DETECTION_SCAN_ENDPOINT}?url=${encodeURIComponent(t)}`,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)return{error:`${e.status} ${e.statusText}`};return await e.json()},!0,8e3);if(!s)return{hostname:"",recommendedAction:R.RecommendedAction.None,fetchError:"timeout of 8000ms exceeded"};if("error"in s)return{hostname:"",recommendedAction:R.RecommendedAction.None,fetchError:s.error};const a={hostname:t,recommendedAction:s.recommendedAction};return P(this,c,"f").set(t,a),a},this.bulkScanUrls=async e=>{if(!e||0===e.length)return{results:{},errors:{}};if(e.length>250)return{results:{},errors:{too_many_urls:["Maximum of 250 URLs allowed per request"]}};const t={results:{},errors:{}},n={},r=[];for(const i of e){if(i.length>2048){t.errors[i]=["URL length must not exceed 2048 characters"];continue}const[e,s]=(0,x.getHostnameFromWebUrl)(i);if(!s){t.errors[i]=["url is not a valid web URL"];continue}const a=P(this,c,"f").get(e);a?t.results[i]=a:(n[i]=e,r.push(i))}if(r.length>0){const e=50,i=[];for(let t=0;t<r.length;t+=e)i.push(r.slice(t,t+e));(await Promise.all(i.map(e=>P(this,v,"f").call(this,e)))).forEach(e=>{Object.entries(e.results).forEach(([e,r])=>{const i=n[e];i&&P(this,c,"f").set(i,r),t.results[e]=r}),Object.entries(e.errors).forEach(([e,n])=>{t.errors[e]=[...t.errors[e]||[],...n]})})}return t},b.set(this,async(e,t)=>{const r=await(0,C.safelyExecuteWithTimeout)(async()=>{const r=await fetch(`${n.SECURITY_ALERTS_BASE_URL}${n.TOKEN_BULK_SCANNING_ENDPOINT}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({chain:e,tokens:t})});if(!r.ok)return{error:`${r.status} ${r.statusText}`,status:r.status,statusText:r.statusText};return await r.json()},!0,8e3);return r?"error"in r&&"status"in r&&"statusText"in r?(console.warn(`Token bulk screening API error: ${r.status} ${r.statusText}`),null):r:(console.error("Error scanning tokens: timeout of 8000ms exceeded"),null)}),this.bulkScanTokens=async e=>{const{chainId:t,tokens:n}=e;if(!n||0===n.length)return{};if(n.length>100)return console.warn("Maximum of 100 tokens allowed per request"),{};const r=t.toLowerCase(),i=(0,x.resolveChainName)(r);if(!i)return console.warn(`Unknown chain ID: ${t}`),{};const{cachedResults:s,tokensToFetch:a}=(0,x.splitCacheHits)(P(this,u,"f"),r,n),o={...s};if(a.length>0){const e=await P(this,b,"f").call(this,i,a);if(e?.results)for(const t of a){const n=t.toLowerCase(),i=e.results[n];if(i?.result_type){const e={result_type:i.result_type,chain:i.chain||r,address:i.address||n},t=(0,x.buildCacheKey)(r,n);P(this,u,"f").set(t,{result_type:i.result_type}),o[n]=e}}}return o},v.set(this,async e=>{const t=await(0,C.safelyExecuteWithTimeout)(async()=>{const t=await fetch(`${n.PHISHING_DETECTION_BASE_URL}/${n.PHISHING_DETECTION_BULK_SCAN_ENDPOINT}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({urls:e})});if(!t.ok)return{error:`${t.status} ${t.statusText}`,status:t.status,statusText:t.statusText};return await t.json()},!0,15e3);return t?"error"in t&&"status"in t&&"statusText"in t?{results:{},errors:{api_error:[`${t.status} ${t.statusText}`]}}:t:{results:{},errors:{network_error:["timeout of 15000ms exceeded"]}}}),A(this,s,e,"f"),A(this,a,t,"f"),A(this,o,g,"f"),A(this,p,P(this,r,"m",y).bind(this),"f"),A(this,c,new N.CacheManager({cacheTTL:w,maxCacheSize:k,initialCache:this.state.urlScanCache,updateState:e=>{this.update(t=>{t.urlScanCache=e})}}),"f"),A(this,u,new N.CacheManager({cacheTTL:_,maxCacheSize:T,initialCache:this.state.tokenScanCache,updateState:e=>{this.update(t=>{t.tokenScanCache=e})}}),"f"),P(this,r,"m",f).call(this),this.updatePhishingDetector(),P(this,r,"m",m).call(this)}updatePhishingDetector(){A(this,i,new O.PhishingDetector(this.state.phishingLists),"f")}setStalelistRefreshInterval(e){A(this,s,e,"f")}setHotlistRefreshInterval(e){A(this,a,e,"f")}setC2DomainBlocklistRefreshInterval(e){A(this,o,e,"f")}setUrlScanCacheTTL(e){P(this,c,"f").setTTL(e)}setUrlScanCacheMaxSize(e){P(this,c,"f").setMaxSize(e)}clearUrlScanCache(){P(this,c,"f").clear()}isStalelistOutOfDate(){return(0,x.fetchTimeNow)()-this.state.stalelistLastFetched>=P(this,s,"f")}isHotlistOutOfDate(){return(0,x.fetchTimeNow)()-this.state.hotlistLastFetched>=P(this,a,"f")}isC2DomainBlocklistOutOfDate(){return(0,x.fetchTimeNow)()-this.state.c2DomainBlocklistLastFetched>=P(this,o,"f")}async maybeUpdateState(){if(this.isStalelistOutOfDate())return void await this.updateStalelist();this.isHotlistOutOfDate()&&await this.updateHotlist();this.isC2DomainBlocklistOutOfDate()&&await this.updateC2DomainBlocklist()}test(e){const t=(0,I.toASCII)(e),n=(0,x.getHostnameFromUrl)(t),r=n+(0,x.getPathnameFromUrl)(e);return(0,M.matchedPathPrefix)(r,this.state.whitelistPaths)||this.state.whitelist.includes(n||t)?{result:!1,type:R.PhishingDetectorResultType.All}:P(this,i,"f").check(t)}isBlockedRequest(e){const t=(0,I.toASCII)(e),n=(0,x.getHostnameFromUrl)(t);return this.state.whitelist.includes(n||t)?{result:!1,type:R.PhishingDetectorResultType.All}:P(this,i,"f").isMaliciousC2Domain(t)}bypass(e){const t=(0,I.toASCII)(e),n=(0,x.getHostnameFromUrl)(t),r=n+(0,x.getPathnameFromUrl)(e),{whitelist:s,whitelistPaths:a}=this.state,o=(0,M.matchedPathPrefix)(r,a);if(s.includes(n||t)||o)return;const c=P(this,i,"f").blockingPath(e);c?this.update(e=>{(0,M.insertToTrie)(c,e.whitelistPaths)}):this.update(e=>{e.whitelist.push(n||t)})}async updateC2DomainBlocklist(){if(P(this,h,"f"))await P(this,h,"f");else try{A(this,h,P(this,r,"m",E).call(this),"f"),await P(this,h,"f")}finally{A(this,h,undefined,"f")}}async updateHotlist(){if(P(this,l,"f"))await P(this,l,"f");else try{A(this,l,P(this,r,"m",T).call(this),"f"),await P(this,l,"f")}finally{A(this,l,undefined,"f")}}async updateStalelist(){if(P(this,d,"f"))await P(this,d,"f");else try{A(this,d,P(this,r,"m",_).call(this),"f"),await P(this,d,"f")}finally{A(this,d,undefined,"f")}}}n.PhishingController=F,i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,b=new WeakMap,v=new WeakMap,r=new WeakSet,m=function(){this.messagingSystem.subscribe("TransactionController:stateChange",P(this,p,"f"))},f=function(){this.messagingSystem.registerActionHandler(`${K}:maybeUpdateState`,this.maybeUpdateState.bind(this)),this.messagingSystem.registerActionHandler(`${K}:testOrigin`,this.test.bind(this)),this.messagingSystem.registerActionHandler(`${K}:bulkScanUrls`,this.bulkScanUrls.bind(this)),this.messagingSystem.registerActionHandler(`${K}:bulkScanTokens`,this.bulkScanTokens.bind(this))},g=function(e){const{path:t}=e;return 2===t.length&&"transactions"===t[0]&&"number"==typeof t[1]},y=function(e,t){try{const e=new Map;for(const n of t)if("remove"!==n.op&&P(this,r,"m",g).call(this,n)){const t=n.value;P(this,r,"m",w).call(this,t,e)}P(this,r,"m",k).call(this,e)}catch(e){console.error("Error processing transaction state change:",e)}},w=function(e,t){const n=e.simulationData?.tokenBalanceChanges?.map(e=>e.address.toLowerCase());if(n&&n.length>0&&e.chainId){const r=e.chainId.toLowerCase();t.has(r)||t.set(r,new Set);const i=t.get(r);if(i)for(const e of n)i.add(e)}},k=function(e){for(const[t,n]of e)if(n.size>0){const e=Array.from(n);this.bulkScanTokens({chainId:t,tokens:e}).catch(e=>console.error(`Error scanning tokens for chain ${t}:`,e))}},_=async function(){let e=null,t=null,i=null;try{const s=P(this,r,"m",S).call(this,n.METAMASK_STALELIST_URL),a=P(this,r,"m",S).call(this,n.C2_DOMAIN_BLOCKLIST_URL);[e,i]=await Promise.all([s,a]),e?.data&&e.data.lastUpdated>0&&(t=await P(this,r,"m",S).call(this,`${n.METAMASK_HOTLIST_DIFF_URL}/${e.data.lastUpdated}`))}finally{const e=(0,x.fetchTimeNow)();this.update(t=>{t.stalelistLastFetched=e,t.hotlistLastFetched=e,t.c2DomainBlocklistLastFetched=e})}if(!e||!t)return;const s={allowlist:e.data.allowlist,fuzzylist:e.data.fuzzylist,tolerance:e.data.tolerance,version:e.data.version,lastUpdated:e.data.lastUpdated,blocklist:e.data.blocklist,blocklistPaths:(0,M.convertListToTrie)(e.data.blocklistPaths),c2DomainBlocklist:i?i.recentlyAdded:[],name:n.phishingListKeyNameMap.eth_phishing_detect_config},a=(0,x.applyDiffs)(s,t.data,B.EthPhishingDetectConfig);this.update(e=>{e.phishingLists=[a]}),this.updatePhishingDetector()},T=async function(){let e;try{if(0===this.state.phishingLists.length)return;const t=Math.max(...this.state.phishingLists.map(({lastUpdated:e})=>e));e=await P(this,r,"m",S).call(this,`${n.METAMASK_HOTLIST_DIFF_URL}/${t}`)}finally{this.update(e=>{e.hotlistLastFetched=(0,x.fetchTimeNow)()})}if(!e?.data)return;const t=e.data,i=this.state.phishingLists.map(e=>(0,x.applyDiffs)(e,t,L[e.name],[],[]));this.update(e=>{e.phishingLists=i}),this.updatePhishingDetector()},E=async function(){let e=null;try{e=await P(this,r,"m",S).call(this,`${n.C2_DOMAIN_BLOCKLIST_URL}?timestamp=${(0,x.roundToNearestMinute)(this.state.c2DomainBlocklistLastFetched)}`)}finally{this.update(e=>{e.c2DomainBlocklistLastFetched=(0,x.fetchTimeNow)()})}if(!e)return;const t=e.recentlyAdded,i=e.recentlyRemoved,s=this.state.phishingLists.map(e=>(0,x.applyDiffs)(e,[],L[e.name],t,i));this.update(e=>{e.phishingLists=s}),this.updatePhishingDetector()},S=async function(e){const t=await(0,C.safelyExecute)(()=>fetch(e,{cache:"no-cache"}),!0);return 200===t?.status?await t.json():null},n.default=F}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/PhishingController.cjs"}],[2273,{"./PathTrie.cjs":2271,"./types.cjs":2275,"./utils.cjs":2276,"fastest-levenshtein":4121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.PhishingDetector=void 0;const u=e("fastest-levenshtein"),l=e("./PathTrie.cjs"),d=e("./types.cjs"),h=e("./utils.cjs");n.PhishingDetector=class{constructor(e){r.add(this),i.set(this,void 0),s.set(this,void 0),Array.isArray(e)?(o(this,i,(0,h.processConfigs)(e),"f"),o(this,s,!1,"f")):(o(this,i,[(0,h.getDefaultPhishingDetectorConfig)({allowlist:e.whitelist,blocklist:e.blacklist,fuzzylist:e.fuzzylist,tolerance:e.tolerance})],"f"),o(this,s,!0,"f"))}check(e){const t=c(this,r,"m",a).call(this,e);if(c(this,s,"f")){let e=t.type;return e===d.PhishingDetectorResultType.Allowlist?e=d.PhishingDetectorResultType.Whitelist:e===d.PhishingDetectorResultType.Blocklist&&(e=d.PhishingDetectorResultType.Blacklist),{match:t.match,result:t.result,type:e}}return t}blockingPath(e){for(const{blocklistPaths:t}of c(this,i,"f")){if(!t||0===Object.keys(t).length)continue;const n=(0,l.matchedPathPrefix)(e,t);if(n)return n}return null}isMaliciousC2Domain(e){const t=(0,h.getHostnameFromUrl)(e);if(!t)return{result:!1,type:d.PhishingDetectorResultType.C2DomainBlocklist};const n=t.endsWith(".")?t.slice(0,-1):t,r=(0,h.domainToParts)(n);for(const{allowlist:e,name:t,version:n}of c(this,i,"f")){const i=(0,h.matchPartsAgainstList)(r,e);if(i){return{match:(0,h.domainPartsToDomain)(i),name:t,result:!1,type:d.PhishingDetectorResultType.Allowlist,version:n===undefined?n:String(n)}}}const s=(0,h.sha256Hash)(t.toLowerCase()),a=(0,h.generateParentDomains)(r.reverse(),5);for(const{c2DomainBlocklist:e,name:t,version:n}of c(this,i,"f"))if(e&&0!==e.length){if(e.includes(s))return{name:t,result:!0,type:d.PhishingDetectorResultType.C2DomainBlocklist,version:n===undefined?n:String(n)};for(const r of a){const i=(0,h.sha256Hash)(r);if(e.includes(i))return{name:t,result:!0,type:d.PhishingDetectorResultType.C2DomainBlocklist,version:n===undefined?n:String(n)}}}return{result:!1,type:d.PhishingDetectorResultType.C2DomainBlocklist}}},i=new WeakMap,s=new WeakMap,r=new WeakSet,a=function(e){const t=e.match(new RegExp("Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,}","u"));if(null!==t){const e=t[0];for(const{blocklist:t,name:n,version:r}of c(this,i,"f")){if(t.filter(e=>1===e.length).find(t=>t[0]===e))return{name:n,match:e,result:!0,type:d.PhishingDetectorResultType.Blocklist,version:r===undefined?r:String(r)}}}let n;try{n=new URL(e).hostname}catch{return{result:!1,type:d.PhishingDetectorResultType.All}}const r=n.endsWith(".")?n.slice(0,-1):n,s=(0,h.domainToParts)(r);for(const{blocklistPaths:t,name:n,version:r}of c(this,i,"f")){if(!t||0===Object.keys(t).length)continue;const i=(0,l.matchedPathPrefix)(e,t);if(i)return{match:i,name:n,result:!0,type:d.PhishingDetectorResultType.Blocklist,version:r===undefined?r:String(r)}}for(const{allowlist:e,name:t,version:n}of c(this,i,"f")){const r=(0,h.matchPartsAgainstList)(s,e);if(r){return{match:(0,h.domainPartsToDomain)(r),name:t,result:!1,type:d.PhishingDetectorResultType.Allowlist,version:n===undefined?n:String(n)}}}for(const{blocklist:e,fuzzylist:t,name:n,tolerance:r,version:a}of c(this,i,"f")){const i=(0,h.matchPartsAgainstList)(s,e);if(i){return{match:(0,h.domainPartsToDomain)(i),name:n,result:!0,type:d.PhishingDetectorResultType.Blocklist,version:a===undefined?a:String(a)}}if(r>0){let e=(0,h.domainPartsToFuzzyForm)(s);e=e.replace(/^www\./u,"");const i=t.find(t=>{const n=(0,h.domainPartsToFuzzyForm)(t);return(0,u.distance)(e,n)<=r});if(i){return{name:n,match:(0,h.domainPartsToDomain)(i),result:!0,type:d.PhishingDetectorResultType.Fuzzy,version:a===undefined?a:String(a)}}}}return{result:!1,type:d.PhishingDetectorResultType.All}}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/PhishingDetector.cjs"}],[2274,{"./PhishingController.cjs":2272,"./PhishingDetector.cjs":2273,"./types.cjs":2275},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.RecommendedAction=n.PhishingDetectorResultType=n.PhishingDetector=void 0,i(e("./PhishingController.cjs"),n);var s=e("./PhishingDetector.cjs");Object.defineProperty(n,"PhishingDetector",{enumerable:!0,get:function(){return s.PhishingDetector}});var a=e("./types.cjs");Object.defineProperty(n,"PhishingDetectorResultType",{enumerable:!0,get:function(){return a.PhishingDetectorResultType}}),Object.defineProperty(n,"RecommendedAction",{enumerable:!0,get:function(){return a.RecommendedAction}})}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/index.cjs"}],[2275,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s;Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHAIN_ID_TO_NAME=n.TokenScanResultType=n.RecommendedAction=n.PhishingDetectorResultType=void 0,function(e){e.All="all",e.Fuzzy="fuzzy",e.Blocklist="blocklist",e.Allowlist="allowlist",e.Blacklist="blacklist",e.Whitelist="whitelist",e.C2DomainBlocklist="c2DomainBlocklist"}(r||(n.PhishingDetectorResultType=r={})),function(e){e.None="NONE",e.Warn="WARN",e.Block="BLOCK",e.Verified="VERIFIED"}(i||(n.RecommendedAction=i={})),function(e){e.Benign="Benign",e.Warning="Warning",e.Malicious="Malicious",e.Spam="Spam"}(s||(n.TokenScanResultType=s={})),n.DEFAULT_CHAIN_ID_TO_NAME={"0x1":"ethereum","0x89":"polygon","0x38":"bsc","0xa4b1":"arbitrum","0xa86a":"avalanche","0x2105":"base","0xa":"optimism","0x76adf1":"zora","0xe708":"linea","0x27bc86aa":"degen","0x144":"zksync","0x82750":"scroll","0x13e31":"blast","0x74c":"soneium","0x79a":"soneium-minato","0x14a34":"base-sepolia","0xab5":"abstract","0x849ea":"zero-network","0x138de":"berachain","0x82":"unichain","0x7e4":"ronin","0x127":"hedera"}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/types.cjs"}],[2276,{"./PathTrie.cjs":2271,"./PhishingController.cjs":2272,"./types.cjs":2275,"@noble/hashes/utils":2855,"ethereum-cryptography/sha256":4010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.splitCacheHits=n.resolveChainName=n.buildCacheKey=n.generateParentDomains=n.getPathnameFromUrl=n.getHostnameFromWebUrl=n.getHostnameFromUrl=n.sha256Hash=n.matchPartsAgainstList=n.domainPartsToFuzzyForm=n.domainPartsToDomain=n.processConfigs=n.getDefaultPhishingDetectorConfig=n.processDomainList=n.domainToParts=n.validateConfig=n.applyDiffs=n.getHostnameAndPathComponents=n.roundToNearestMinute=n.fetchTimeNow=void 0;const r=e("@noble/hashes/utils"),i=e("ethereum-cryptography/sha256"),s=e("./PathTrie.cjs"),a=e("./PhishingController.cjs"),o=e("./types.cjs");n.fetchTimeNow=()=>Math.round(Date.now()/1e3),n.roundToNearestMinute=function(e){return 60*Math.floor(e/60)};const c=e=>{const t=e.indexOf(".");return[e.slice(0,t),e.slice(t+1)]};n.getHostnameAndPathComponents=e=>{const t=e.startsWith("http")?e:`https://${e}`;try{const{hostname:e,pathname:n}=new URL(t);return{hostname:e.toLowerCase(),pathComponents:n.split("/").filter(Boolean).map(e=>decodeURIComponent(e))}}catch{return{hostname:"",pathComponents:[]}}};function u(e){if(null===e||"object"!=typeof e)throw new Error("Invalid config");if("tolerance"in e&&!("fuzzylist"in e))throw new Error("Fuzzylist tolerance provided without fuzzylist");if("name"in e&&("string"!=typeof e.name||""===e.name))throw new Error("Invalid config parameter: 'name'");if("version"in e&&(!["number","string"].includes(typeof e.version)||""===e.version))throw new Error("Invalid config parameter: 'version'")}n.applyDiffs=(e,t,n,r=[],i=[])=>{const o=t.filter(({timestamp:t,targetList:r})=>t>e.lastUpdated&&c(r)[0]===n);let u=e.lastUpdated;const l={allowlist:new Set(e.allowlist),blocklist:new Set(e.blocklist),fuzzylist:new Set(e.fuzzylist),c2DomainBlocklist:new Set(e.c2DomainBlocklist)},d=(0,s.deepCopyPathTrie)(e.blocklistPaths);for(const{isRemoval:e,targetList:t,url:n,timestamp:r}of o){const i=c(t)[1];r>u&&(u=r),e?"blocklistPaths"===i?(0,s.deleteFromTrie)(n,d):l[i].delete(n):"blocklistPaths"===i?(0,s.insertToTrie)(n,d):l[i].add(n)}if(n===a.ListKeys.EthPhishingDetectConfig){for(const e of r)l.c2DomainBlocklist.add(e);for(const e of i)l.c2DomainBlocklist.delete(e)}return{c2DomainBlocklist:Array.from(l.c2DomainBlocklist),allowlist:Array.from(l.allowlist),blocklist:Array.from(l.blocklist),fuzzylist:Array.from(l.fuzzylist),blocklistPaths:d,version:e.version,name:a.phishingListKeyNameMap[n],tolerance:e.tolerance,lastUpdated:u}},n.validateConfig=u;n.domainToParts=e=>e.split(".").reverse();n.processDomainList=e=>e.reduce((e,t)=>"string"!=typeof t?(console.warn(`Invalid domain value in list: ${JSON.stringify(t)}`),e):(e.push((0,n.domainToParts)(t)),e),[]);n.getDefaultPhishingDetectorConfig=({allowlist:e=[],blocklist:t=[],fuzzylist:r=[],tolerance:i=3})=>({allowlist:(0,n.processDomainList)(e),blocklist:(0,n.processDomainList)(t),fuzzylist:(0,n.processDomainList)(r),tolerance:i});n.processConfigs=(e=[])=>e.filter(e=>{try{return u(e),!0}catch(e){return console.error(e),!1}}).map(e=>({...e,...(0,n.getDefaultPhishingDetectorConfig)(e)}));n.domainPartsToDomain=e=>e.slice().reverse().join(".");n.domainPartsToFuzzyForm=e=>e.slice(1).reverse().join(".");n.matchPartsAgainstList=(e,t)=>t.find(t=>!(t.length>e.length)&&t.every((t,n)=>e[n]===t));n.sha256Hash=e=>{const t=(0,i.sha256)((new TextEncoder).encode(e.toLowerCase()));return(0,r.bytesToHex)(t)};n.getHostnameFromUrl=e=>{let t;try{if(t=new URL(e).hostname,!t||""===t.split(".").join(""))return null}catch{return null}return t};n.getHostnameFromWebUrl=e=>{if(!e.toLowerCase().startsWith("http://")&&!e.toLowerCase().startsWith("https://"))return["",!1];const t=(0,n.getHostnameFromUrl)(e);return[t||"",Boolean(t)]};n.getPathnameFromUrl=e=>{try{const{pathname:t}=new URL(e);return t}catch{return""}};n.generateParentDomains=(e,t=5)=>{const n=[];if(0===e.length)return n;if(1===e.length)n.push(e[0].toLowerCase());else{const r=e.slice(-2).join(".");n.push(r.toLowerCase());for(let r=e.length-3;r>=0&&n.length<t;r--){const t=e.slice(r).join(".");n.push(t.toLowerCase())}}return n};n.buildCacheKey=(e,t)=>`${e.toLowerCase()}:${t.toLowerCase()}`;n.resolveChainName=(e,t=o.DEFAULT_CHAIN_ID_TO_NAME)=>t[e.toLowerCase()]??null;n.splitCacheHits=(e,t,r)=>{const i={},s=[];for(const a of r){const r=a.toLowerCase(),o=(0,n.buildCacheKey)(t,r),c=e.get(o);c?i[r]={result_type:c.result_type,chain:t,address:r}:s.push(r)}return{cachedResults:i,tokensToFetch:s}}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/utils.cjs"}],[2277,{"fast-json-stable-stringify":4108,uuid:5366},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.AbstractPollingControllerBaseMixin=n.getKey=void 0;const s=i(e("fast-json-stable-stringify")),a=e("uuid");n.getKey=e=>(0,s.default)(e),n.AbstractPollingControllerBaseMixin=function(e){var t,i;return t=new WeakMap,i=new WeakMap,class extends e{constructor(){super(...arguments),t.set(this,new Map),i.set(this,new Map)}startPolling(e){const i=(0,a.v4)(),s=(0,n.getKey)(e),o=r(this,t,"f").get(s)??new Set;return o.add(i),r(this,t,"f").set(s,o),1===o.size&&this._startPolling(e),i}stopAllPolling(){r(this,t,"f").forEach((e,t)=>{e.forEach(e=>{this.stopPollingByPollingToken(e)})})}stopPollingByPollingToken(e){if(!e)throw new Error("pollingToken required");let n=null;for(const[i,s]of r(this,t,"f"))if(s.delete(e)){0===s.size&&(n=i);break}if(n){this._stopPollingByPollingTokenSetId(n),r(this,t,"f").delete(n);const e=r(this,i,"f").get(n);if(e){for(const t of e)t(JSON.parse(n));e.clear()}}}onPollingComplete(e,t){const s=(0,n.getKey)(e),a=r(this,i,"f").get(s)??new Set;a.add(t),r(this,i,"f").set(s,a)}}}}}},{package:"@metamask/bridge-controller>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/AbstractPollingController.cjs"}],[2278,{"./AbstractPollingController.cjs":2277,"@metamask/base-controller":1222},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.BlockTrackerPollingController=n.BlockTrackerPollingControllerOnly=void 0;const i=e("@metamask/base-controller"),s=e("./AbstractPollingController.cjs");function a(e){var t;class n extends((0,s.AbstractPollingControllerBaseMixin)(e)){constructor(){super(...arguments),t.set(this,{})}_startPolling(e){const n=(0,s.getKey)(e);if(r(this,t,"f")[n])return;const i=this._getNetworkClientById(e.networkClientId);if(!i)throw new Error(`Unable to retrieve blockTracker for networkClientId ${e.networkClientId}`);{const s=this._executePoll.bind(this,e);i.blockTracker.addListener("latest",s),r(this,t,"f")[n]=s}}_stopPollingByPollingTokenSetId(e){const{networkClientId:n}=JSON.parse(e),i=this._getNetworkClientById(n);if(i&&r(this,t,"f")[e]){const n=r(this,t,"f")[e];n&&(i.blockTracker.removeListener("latest",n),delete r(this,t,"f")[e])}}}return t=new WeakMap,n}class o{}n.BlockTrackerPollingControllerOnly=()=>a(o);n.BlockTrackerPollingController=()=>a(i.BaseController)}}},{package:"@metamask/bridge-controller>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/BlockTrackerPollingController.cjs"}],[2279,{"./AbstractPollingController.cjs":2277,"@metamask/base-controller":1222},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.StaticIntervalPollingController=n.StaticIntervalPollingControllerOnly=void 0;const s=e("@metamask/base-controller"),a=e("./AbstractPollingController.cjs");function o(e){var t,n;class s extends((0,a.AbstractPollingControllerBaseMixin)(e)){constructor(){super(...arguments),t.set(this,{}),n.set(this,1e3)}setIntervalLength(e){r(this,n,e,"f")}getIntervalLength(){return i(this,n,"f")}_startPolling(e){if(!i(this,n,"f"))throw new Error("intervalLength must be defined and greater than 0");const r=(0,a.getKey)(e),s=i(this,t,"f")[r];this._stopPollingByPollingTokenSetId(r);const o=i(this,t,"f")[r]=setTimeout(async()=>{try{await this._executePoll(e)}catch(e){console.error(e)}o===i(this,t,"f")[r]&&this._startPolling(e)},s?i(this,n,"f"):0)}_stopPollingByPollingTokenSetId(e){const n=i(this,t,"f")[e];n&&(clearTimeout(n),delete i(this,t,"f")[e])}}return t=new WeakMap,n=new WeakMap,s}class c{}n.StaticIntervalPollingControllerOnly=()=>o(c);n.StaticIntervalPollingController=()=>o(s.BaseController)}}},{package:"@metamask/bridge-controller>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/StaticIntervalPollingController.cjs"}],[2280,{"./BlockTrackerPollingController.cjs":2278,"./StaticIntervalPollingController.cjs":2279},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StaticIntervalPollingController=n.StaticIntervalPollingControllerOnly=n.BlockTrackerPollingController=n.BlockTrackerPollingControllerOnly=void 0;var r=e("./BlockTrackerPollingController.cjs");Object.defineProperty(n,"BlockTrackerPollingControllerOnly",{enumerable:!0,get:function(){return r.BlockTrackerPollingControllerOnly}}),Object.defineProperty(n,"BlockTrackerPollingController",{enumerable:!0,get:function(){return r.BlockTrackerPollingController}});var i=e("./StaticIntervalPollingController.cjs");Object.defineProperty(n,"StaticIntervalPollingControllerOnly",{enumerable:!0,get:function(){return i.StaticIntervalPollingControllerOnly}}),Object.defineProperty(n,"StaticIntervalPollingController",{enumerable:!0,get:function(){return i.StaticIntervalPollingController}})}}},{package:"@metamask/bridge-controller>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/index.cjs"}],[2281,{"readable-stream":4977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BasePostMessageStream=void 0;const r=e("readable-stream"),i=()=>undefined,s="SYN",a="ACK";class o extends r.Duplex{constructor(e){super(Object.assign({objectMode:!0},e)),this._init=!1,this._haveSyn=!1,this._log=()=>null}_handshake(){this._write(s,null,i),this.cork()}_onData(e){if(this._init)try{this.push(e),this._log(e,!1)}catch(e){this.emit("error",e)}else e===s?(this._haveSyn=!0,this._write(a,null,i)):e===a&&(this._init=!0,this._haveSyn||this._write(a,null,i),this.uncork())}_read(){return undefined}_write(e,t,n){e!==a&&e!==s&&this._log(e,!0),this._postMessage(e),n()}_setLogger(e){this._log=e}}n.BasePostMessageStream=o}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/BasePostMessageStream.cjs"}],[2282,{"./BasePostMessageStream.cjs":2281,"./runtime/BrowserRuntimePostMessageStream.cjs":2283,"./utils.cjs":2284,"./web-worker/WebWorkerParentPostMessageStream.cjs":2285,"./web-worker/WebWorkerPostMessageStream.cjs":2286,"./window/WindowPostMessageStream.cjs":2287},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.isValidStreamMessage=void 0,i(e("./window/WindowPostMessageStream.cjs"),n),i(e("./web-worker/WebWorkerPostMessageStream.cjs"),n),i(e("./web-worker/WebWorkerParentPostMessageStream.cjs"),n),i(e("./runtime/BrowserRuntimePostMessageStream.cjs"),n),i(e("./BasePostMessageStream.cjs"),n);var s=e("./utils.cjs");Object.defineProperty(n,"isValidStreamMessage",{enumerable:!0,get:function(){return s.isValidStreamMessage}})}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/index.cjs"}],[2283,{"../BasePostMessageStream.cjs":2281,"../utils.cjs":2284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(n,"__esModule",{value:!0}),n.BrowserRuntimePostMessageStream=void 0;const c=e("../BasePostMessageStream.cjs"),u=e("../utils.cjs");class l extends c.BasePostMessageStream{constructor(e){var{name:t,target:n}=e;super(o(e,["name","target"])),r.set(this,void 0),i.set(this,void 0),s(this,r,t,"f"),s(this,i,n,"f"),this._onMessage=this._onMessage.bind(this),this._getRuntime().onMessage.addListener(this._onMessage),this._handshake()}_postMessage(e){this._getRuntime().sendMessage({target:a(this,i,"f"),data:e})}_onMessage(e){(0,u.isValidStreamMessage)(e)&&e.target===a(this,r,"f")&&this._onData(e.data)}_getRuntime(){var e,t;if("chrome"in globalThis&&"function"==typeof(null===(e=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===e?void 0:e.sendMessage))return chrome.runtime;if("browser"in globalThis&&"function"==typeof(null===(t=null===browser||void 0===browser?void 0:browser.runtime)||void 0===t?void 0:t.sendMessage))return browser.runtime;throw new Error("browser.runtime.sendMessage is not a function. This class should only be instantiated in a web extension.")}_destroy(){this._getRuntime().onMessage.removeListener(this._onMessage)}}n.BrowserRuntimePostMessageStream=l,r=new WeakMap,i=new WeakMap}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/runtime/BrowserRuntimePostMessageStream.cjs"}],[2284,{"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isValidStreamMessage=n.DEDICATED_WORKER_NAME=void 0;const r=e("@metamask/utils");n.DEDICATED_WORKER_NAME="dedicatedWorker",n.isValidStreamMessage=function(e){return(0,r.isObject)(e)&&Boolean(e.data)&&("number"==typeof e.data||"object"==typeof e.data||"string"==typeof e.data)}}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/utils.cjs"}],[2285,{"../BasePostMessageStream.cjs":2281,"../utils.cjs":2284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(n,"__esModule",{value:!0}),n.WebWorkerParentPostMessageStream=void 0;const i=e("../BasePostMessageStream.cjs"),s=e("../utils.cjs");class a extends i.BasePostMessageStream{constructor(e){var{worker:t}=e;super(r(e,["worker"])),this._target=s.DEDICATED_WORKER_NAME,this._worker=t,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){this._worker.postMessage({target:this._target,data:e})}_onMessage(e){const t=e.data;(0,s.isValidStreamMessage)(t)&&this._onData(t.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}n.WebWorkerParentPostMessageStream=a}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/web-worker/WebWorkerParentPostMessageStream.cjs"}],[2286,{"../BasePostMessageStream.cjs":2281,"../utils.cjs":2284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WebWorkerPostMessageStream=void 0;const r=e("../BasePostMessageStream.cjs"),i=e("../utils.cjs");class s extends r.BasePostMessageStream{constructor(e={}){if("undefined"==typeof self||"undefined"==typeof WorkerGlobalScope)throw new Error("WorkerGlobalScope not found. This class should only be instantiated in a WebWorker.");super(e),this._name=i.DEDICATED_WORKER_NAME,self.addEventListener("message",this._onMessage.bind(this)),this._handshake()}_postMessage(e){self.postMessage({data:e})}_onMessage(e){const t=e.data;(0,i.isValidStreamMessage)(t)&&t.target===this._name&&this._onData(t.data)}_destroy(){return undefined}}n.WebWorkerPostMessageStream=s}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/web-worker/WebWorkerPostMessageStream.cjs"}],[2287,{"../BasePostMessageStream.cjs":2281,"../utils.cjs":2284,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(n,"__esModule",{value:!0}),n.WindowPostMessageStream=void 0;const a=e("@metamask/utils"),o=e("../BasePostMessageStream.cjs"),c=e("../utils.cjs"),u=null===(r=Object.getOwnPropertyDescriptor(MessageEvent.prototype,"source"))||void 0===r?void 0:r.get;(0,a.assert)(u,"MessageEvent.prototype.source getter is not defined.");const l=null===(i=Object.getOwnPropertyDescriptor(MessageEvent.prototype,"origin"))||void 0===i?void 0:i.get;(0,a.assert)(l,"MessageEvent.prototype.origin getter is not defined.");class d extends o.BasePostMessageStream{constructor(e){var{name:t,target:n,targetOrigin:r=location.origin,targetWindow:i=window}=e;if(super(s(e,["name","target","targetOrigin","targetWindow"])),"undefined"==typeof window||"function"!=typeof window.postMessage)throw new Error("window.postMessage is not a function. This class should only be instantiated in a Window.");this._name=t,this._target=n,this._targetOrigin=r,this._targetWindow=i,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&l.call(e)!==this._targetOrigin||u.call(e)!==this._targetWindow||!(0,c.isValidStreamMessage)(t)||t.target!==this._name||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}n.WindowPostMessageStream=d}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/window/WindowPostMessageStream.cjs"}],[2295,{"../../sdk/index.cjs":2318,"./auth-snap-requests.cjs":2296,"@metamask/base-controller":1222},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,s,a,o,c,u,l,d,h,p,m,f,g,y=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},w=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.defaultState=void 0;const k=e("@metamask/base-controller"),b=e("./auth-snap-requests.cjs"),v=e("../../sdk/index.cjs");n.defaultState={isSignedIn:!1};const _={isSignedIn:{includeInStateLogs:!0,persist:!0,anonymous:!0,usedInUi:!0},srpSessionData:{includeInStateLogs:e=>null===e||e===undefined?null:Object.entries(e).reduce((e,[t,n])=>{const{accessToken:r,...i}=n.token;return e[t]={...n,token:i},e},{}),persist:!0,anonymous:!1,usedInUi:!0}};class T extends k.BaseController{constructor({messenger:e,state:t,config:h,metametrics:m}){if(super({messenger:e,metadata:_,name:"AuthenticationController",state:{...n.defaultState,...t}}),r.add(this),i.set(this,void 0),s.set(this,void 0),a.set(this,{env:v.Env.PRD}),o.set(this,!1),c.set(this,{setupLockedStateSubscriptions:()=>{const{isUnlocked:e}=this.messagingSystem.call("KeyringController:getState");w(this,o,e,"f"),this.messagingSystem.subscribe("KeyringController:unlock",()=>{w(this,o,!0,"f")}),this.messagingSystem.subscribe("KeyringController:lock",()=>{w(this,o,!1,"f")})}}),f.set(this,{}),!m)throw new Error("`metametrics` field is required");w(this,a,{...y(this,a,"f"),...h},"f"),w(this,i,m,"f"),w(this,s,new v.JwtBearerAuth({env:y(this,a,"f").env,platform:m.agent,type:v.AuthType.SRP},{storage:{getLoginResponse:y(this,r,"m",l).bind(this),setLoginResponse:y(this,r,"m",d).bind(this)},signing:{getIdentifier:y(this,r,"m",p).bind(this),signMessage:y(this,r,"m",g).bind(this)},metametrics:y(this,i,"f")}),"f"),y(this,c,"f").setupLockedStateSubscriptions(),y(this,r,"m",u).call(this)}async performSignIn(){y(this,r,"m",h).call(this,"performSignIn");const e=await y(this,r,"m",m).call(this),t=[];for(const[n]of e){const e=await y(this,s,"f").getAccessToken(n);t.push(e)}return t}performSignOut(){this.update(e=>{e.isSignedIn=!1,e.srpSessionData=undefined})}async getBearerToken(e){return y(this,r,"m",h).call(this,"getBearerToken"),await y(this,s,"f").getAccessToken(e)}async getSessionProfile(e){return y(this,r,"m",h).call(this,"getSessionProfile"),await y(this,s,"f").getUserProfile(e)}async getUserProfileLineage(){return y(this,r,"m",h).call(this,"getUserProfileLineage"),await y(this,s,"f").getUserProfileLineage()}isSignedIn(){return this.state.isSignedIn}}i=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,f=new WeakMap,r=new WeakSet,u=function(){this.messagingSystem.registerActionHandler("AuthenticationController:getBearerToken",this.getBearerToken.bind(this)),this.messagingSystem.registerActionHandler("AuthenticationController:getSessionProfile",this.getSessionProfile.bind(this)),this.messagingSystem.registerActionHandler("AuthenticationController:isSignedIn",this.isSignedIn.bind(this)),this.messagingSystem.registerActionHandler("AuthenticationController:performSignIn",this.performSignIn.bind(this)),this.messagingSystem.registerActionHandler("AuthenticationController:performSignOut",this.performSignOut.bind(this)),this.messagingSystem.registerActionHandler("AuthenticationController:getUserProfileLineage",this.getUserProfileLineage.bind(this))},l=async function(e){if(e)return this.state.srpSessionData?.[e]?this.state.srpSessionData[e]:null;const t=Object.values(this.state.srpSessionData||{})?.[0];return t||null},d=async function(e,t){const n=await y(this,i,"f").getMetaMetricsId();this.update(r=>{t&&(r.isSignedIn=!0,r.srpSessionData||(r.srpSessionData={}),r.srpSessionData[t]={...e,profile:{...e.profile,metaMetricsId:n}})})},h=function(e){if(!y(this,o,"f"))throw new Error(`${e} - unable to proceed, wallet is locked`)},p=async function(e){y(this,r,"m",h).call(this,"#snapGetPublicKey");return await this.messagingSystem.call("SnapController:handleRequest",(0,b.createSnapPublicKeyRequest)(e))},m=async function(){y(this,r,"m",h).call(this,"#snapGetAllPublicKeys");return await this.messagingSystem.call("SnapController:handleRequest",(0,b.createSnapAllPublicKeysRequest)())},g=async function(e,t){if((0,v.assertMessageStartsWithMetamask)(e),y(this,f,"f")[e])return y(this,f,"f")[e];y(this,r,"m",h).call(this,"#snapSignMessage");const n=await this.messagingSystem.call("SnapController:handleRequest",(0,b.createSnapSignMessageRequest)(e,t));return y(this,f,"f")[e]=n,n},n.default=T}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/AuthenticationController.cjs"}],[2296,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapSignMessageRequest=n.createSnapAllPublicKeysRequest=n.createSnapPublicKeyRequest=void 0;const r="npm:@metamask/message-signing-snap";n.createSnapPublicKeyRequest=function(e){return{snapId:r,origin:"metamask",handler:"onRpcRequest",request:{method:"getPublicKey",...e?{params:{entropySourceId:e}}:{}}}},n.createSnapAllPublicKeysRequest=function(){return{snapId:r,origin:"metamask",handler:"onRpcRequest",request:{method:"getAllPublicKeys"}}},n.createSnapSignMessageRequest=function(e,t){return{snapId:r,origin:"metamask",handler:"onRpcRequest",request:{method:"signMessage",params:{message:e,...t?{entropySourceId:t}:{}}}}}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/auth-snap-requests.cjs"}],[2297,{"./AuthenticationController.cjs":2295,"./mocks/index.cjs":2298},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Mocks=n.Controller=void 0;const c=o(e("./AuthenticationController.cjs"));n.Controller=c.default;const u=c.default;n.default=u,s(e("./AuthenticationController.cjs"),n),n.Mocks=a(e("./mocks/index.cjs"))}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/index.cjs"}],[2298,{"./mockResponses.cjs":2299},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./mockResponses.cjs"),n)}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/mocks/index.cjs"}],[2299,{"../../../sdk/mocks/auth.cjs":2319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMockAuthAccessTokenResponse=n.MOCK_OATH_TOKEN_RESPONSE=n.getMockAuthLoginResponse=n.MOCK_LOGIN_RESPONSE=n.getMockAuthNonceResponse=n.MOCK_JWT=n.MOCK_NONCE=n.MOCK_NONCE_RESPONSE=void 0;const r=e("../../../sdk/mocks/auth.cjs");n.MOCK_NONCE_RESPONSE=r.MOCK_NONCE_RESPONSE,n.MOCK_NONCE=n.MOCK_NONCE_RESPONSE.nonce,n.MOCK_JWT=r.MOCK_JWT;n.getMockAuthNonceResponse=()=>({url:r.MOCK_NONCE_URL,requestMethod:"GET",response:(e,t,r)=>{const i=t?.split("?identifier=")[1],s=r?.(i??"");return{...n.MOCK_NONCE_RESPONSE,nonce:s??n.MOCK_NONCE_RESPONSE.nonce,identifier:n.MOCK_NONCE_RESPONSE.identifier}}}),n.MOCK_LOGIN_RESPONSE=r.MOCK_SRP_LOGIN_RESPONSE;n.getMockAuthLoginResponse=()=>({url:r.MOCK_SRP_LOGIN_URL,requestMethod:"POST",response:e=>{const t=e?.raw_message.split(":"),r=t?.[t.length-2];return{...n.MOCK_LOGIN_RESPONSE,token:r??n.MOCK_LOGIN_RESPONSE.token,profile:{...n.MOCK_LOGIN_RESPONSE.profile,profile_id:r??n.MOCK_LOGIN_RESPONSE.profile.profile_id,identifier_id:r??n.MOCK_LOGIN_RESPONSE.profile.identifier_id}}}}),n.MOCK_OATH_TOKEN_RESPONSE=r.MOCK_OIDC_TOKEN_RESPONSE;n.getMockAuthAccessTokenResponse=()=>({url:r.MOCK_OIDC_TOKEN_URL,requestMethod:"POST",response:e=>{const t=new URLSearchParams(e).get("assertion");return{...n.MOCK_OATH_TOKEN_RESPONSE,access_token:t??n.MOCK_OATH_TOKEN_RESPONSE.access_token}}})}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/mocks/mockResponses.cjs"}]],[],{});