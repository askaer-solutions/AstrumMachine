LavaPack.loadBundle([[7326,{"../../../../shared/lib/trace":5517,"../../../components/app/srp-quiz-modal":5982,"../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6020,"../../../components/component-library":6097,"../../../components/component-library/modal-content/deprecated":6107,"../../../components/multichain/multichain-accounts/wallet-details-account-item/wallet-details-account-item":6340,"../../../components/multichain/multichain-accounts/wallet-details-account-type-selection":6341,"../../../components/multichain/pages/page":6427,"../../../ducks/metamask/metamask":6632,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/accounts/useMultichainWalletSnapClient":6708,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../selectors/multichain-accounts/account-tree":7543,"../../../store/actions":7565,"@metamask/keyring-api":1994,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),i=e("react-redux"),r=e("@metamask/keyring-api"),s=e("../../../components/component-library"),c=e("../../../components/component-library/modal-content/deprecated"),l=e("../../../helpers/constants/design-system"),u=e("../../../components/multichain/pages/page"),d=e("../../../selectors"),p=e("../../../hooks/useI18nContext"),m=e("../../../selectors/multichain-accounts/account-tree"),f=e("../../../ducks/metamask/metamask"),g=x(e("../../../components/multichain/multichain-accounts/wallet-details-account-item/wallet-details-account-item")),h=x(e("../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),y=x(e("../../../components/app/srp-quiz-modal")),E=e("../../../components/multichain/multichain-accounts/wallet-details-account-type-selection"),b=e("../../../store/actions"),T=e("../../../helpers/constants/routes"),_=e("../../../../shared/lib/trace"),v=e("../../../hooks/accounts/useMultichainWalletSnapClient");function x(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(null,arguments)}const S=()=>{var e;const t=(0,p.useI18nContext)(),n=(0,o.useHistory)(),x=(0,i.useDispatch)(),{id:k}=(0,o.useParams)(),S=decodeURIComponent(k),w=(0,i.useSelector)(m.getWalletsWithAccounts),I=(0,i.useSelector)(f.getIsPrimarySeedPhraseBackedUp),N=(0,i.useSelector)(d.getMetaMaskHdKeyrings),[O,A]=(0,a.useState)(!1),M=w[S],[R,B]=(0,a.useState)({}),[D,P]=(0,a.useState)(!1),F=(0,v.useMultichainWalletSnapClient)(v.WalletClientType.Solana),L=(0,a.useMemo)(()=>Object.values(R).reduce((e,t)=>e+Number(t||0),0).toString(),[R]),j=(0,a.useCallback)((e,t)=>{B(n=>({...n,[e]:t}))},[]),U=e=>{x((0,b.setAccountDetailsAddress)(e.address)),n.push(`${T.ACCOUNT_DETAILS_ROUTE}/${e.address}`)},W=()=>{n.goBack()};if(!M)return a.default.createElement(u.Page,{className:"wallet-details-page"},a.default.createElement(u.Header,{textProps:{variant:l.TextVariant.headingSm},startAccessory:a.default.createElement(s.ButtonIcon,{size:s.ButtonIconSize.Md,ariaLabel:t("back"),iconName:s.IconName.ArrowLeft,onClick:W})},t("walletDetails")),a.default.createElement(u.Content,null,a.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Danger,title:t("walletNotFoundTitle")},t("walletNotFoundDescription",[k]))));const z=M.id.split(":")[1],$=M.id.includes("entropy"),V=(null===(e=N[0])||void 0===e||null===(e=e.metadata)||void 0===e?void 0:e.id)===z,G=!I&&V,q=Object.values(M.groups).flatMap(e=>e.accounts),J=()=>{P(!1)},K={display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundAlternative};return a.default.createElement(u.Page,{className:"wallet-details-page"},a.default.createElement(u.Header,{textProps:{variant:l.TextVariant.headingSm},startAccessory:a.default.createElement(s.ButtonIcon,{size:s.ButtonIconSize.Md,ariaLabel:t("back"),iconName:s.IconName.ArrowLeft,onClick:W})},t("walletDetails")),a.default.createElement(u.Content,null,a.default.createElement(s.Box,{marginBottom:4,className:"wallet-details-page__rows-container"},a.default.createElement(s.Box,C({className:"wallet-details-page__row",padding:4},K),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textDefault},t("walletName")),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textAlternative},M.metadata.name)),a.default.createElement(s.Box,C({className:"wallet-details-page__row",padding:4},K),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textDefault},t("balance")),a.default.createElement(h.default,{value:L,type:"PRIMARY",ethNumberOfDecimals:4,hideTitle:!0,showFiat:!0,isAggregatedFiatOverviewBalance:!0,hideLabel:!0,textProps:{color:l.TextColor.textAlternative,variant:l.TextVariant.bodyMdMedium}}))),$?a.default.createElement(s.Box,{marginBottom:4,className:"wallet-details-page__rows-container"},a.default.createElement(s.Box,C({className:"wallet-details-page__row wallet-details-page__srp-button",padding:4,marginBottom:1,width:l.BlockSize.Full,textAlign:l.TextAlign.Left},K,{as:"button",onClick:()=>{if(G){const e=`${T.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true`;n.push(e)}else A(!0)}}),a.default.createElement(s.Box,null,a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.textDefault},t("secretRecoveryPhrase"))),a.default.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2},G?a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.errorDefault},t("backup")):null,a.default.createElement(s.Icon,{name:s.IconName.ArrowRight,size:s.IconSize.Sm,color:l.IconColor.iconAlternative})))):null,q.length>0&&a.default.createElement(s.Box,{className:"wallet-details-page__rows-container"},q.map(e=>a.default.createElement(g.default,C({key:e.id,account:e,onClick:U,onBalanceUpdate:j,className:"wallet-details-page__row"},K))),$?a.default.createElement(s.Box,C({className:"wallet-details-page__row wallet-details-page__add-account-button",padding:4,width:l.BlockSize.Full,textAlign:l.TextAlign.Left},K,{as:"button",onClick:()=>{P(!0)}}),a.default.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:3},a.default.createElement(s.Icon,{name:s.IconName.Add,size:s.IconSize.Md,color:l.IconColor.primaryDefault}),a.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:l.TextColor.primaryDefault},t("addAccount")))):null)),$&&O&&a.default.createElement(y.default,{keyringId:z,isOpen:O,onClose:()=>A(!1),closeAfterCompleting:!0}),D&&a.default.createElement(s.Modal,{isOpen:!0,onClose:J},a.default.createElement(s.ModalOverlay,null),a.default.createElement(c.ModalContent,{className:"multichain-account-menu-popover",modalDialogProps:{className:"multichain-account-menu-popover__dialog",padding:0,display:l.Display.Flex,flexDirection:l.FlexDirection.Column}},a.default.createElement(E.WalletDetailsAccountTypeSelection,{onAccountTypeSelect:async e=>{let t=!1;e===v.EVM_WALLET_TYPE?t=await(async()=>{(0,_.trace)({name:_.TraceName.AddAccount});try{return await x((0,b.addNewAccount)(z,!1)),!0}catch(e){return console.error("Error creating Ethereum account:",e),!1}finally{(0,_.endTrace)({name:_.TraceName.AddAccount})}})():e===v.WalletClientType.Solana&&(t=await(async(e,t)=>{(0,_.trace)({name:_.TraceName.AddAccount});try{let n;return e!==v.WalletClientType.Solana?(console.error(`Unsupported client type: ${e}`),!1):(n=F,n?(await n.createAccount({scope:t,entropySource:z},{displayConfirmation:!1,displayAccountNameSuggestion:!1,setSelectedAccount:!1}),!0):(console.error(`Client not available for type: ${e}`),!1))}catch(t){return console.error(`Error creating ${e} account:`,t),!1}finally{(0,_.endTrace)({name:_.TraceName.AddAccount})}})(v.WalletClientType.Solana,r.SolScope.Mainnet)),t&&J()},onClose:J}))))};S.propTypes={};n.default=S}}},{package:"$root$",file:"ui/pages/multichain-accounts/wallet-details/wallet-details.component.tsx"}],[7327,{"../../../shared/constants/urls":5452,"../../../shared/lib/deep-links/routes/nonevm":5472,"../../../shared/lib/deep-links/routes/route":5475,"../../../shared/lib/deep-links/routes/swap":5476,"../../components/component-library":6097,"../../components/multichain/network-list-menu/add-non-evm-account/add-non-evm-account":6349,"../../helpers/constants/design-system":6645,"../../hooks/ramps/useRamps/useRamps":6743,"../../hooks/useMultichainBalances":6786,"../../selectors":7539,"../../selectors/multichain":7548,"../../store/actions":7565,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NonEvmBalanceCheck=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),r=e("react-router-dom"),s=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),l=e("../../store/actions"),u=e("../../hooks/useMultichainBalances"),d=e("../../../shared/lib/deep-links/routes/nonevm"),p=e("../../../shared/lib/deep-links/routes/route"),m=e("../../../shared/lib/deep-links/routes/swap"),f=e("../../hooks/ramps/useRamps/useRamps"),g=e("../../selectors/multichain"),h=e("../../selectors"),y=e("../../../shared/constants/urls"),E=(a=e("../../components/multichain/network-list-menu/add-non-evm-account/add-non-evm-account"))&&a.__esModule?a:{default:a};function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const{getExtensionURL:T}=globalThis.platform;n.NonEvmBalanceCheck=()=>{const e=(0,r.useLocation)(),t=(0,i.useDispatch)(),n=(0,i.useSelector)(h.getMetaMetricsId),a=(0,i.useSelector)(h.getParticipateInMetaMetrics),b=(0,i.useSelector)(h.getDataCollectionForMarketing),_=(0,i.useSelector)(h.getMetaMaskAccountsOrdered),v=(0,i.useSelector)(g.getLastSelectedNonEvmAccount),x=new URLSearchParams(e.search).get(d.NonEvmQueryParams.ChainId),{assetsWithBalance:k}=(0,u.useMultichainBalances)(),C=_.some(e=>e.scopes.includes(x));return(0,o.useEffect)(()=>{if(x&&C){var e;null!=v&&null!==(e=v.scopes)&&void 0!==e&&e.includes(x)&&t((0,l.setSelectedAccount)(v.address));const o=k.some(e=>e.chainId===x&&e.balance&&"0"!==e.balance);window.location.href=o?(e=>{const t=new URLSearchParams;return t.set("sourceToken",e),t.set(m.BridgeQueryParams.SWAPS,"true"),T(p.SWAP_ROUTE,t.toString())})(x):((e,t,n,a)=>{const o=new URLSearchParams;o.set("metamaskEntry",f.RampsMetaMaskEntry.BuySellButton),o.set("chainId",e),t&&o.set("metametricsId",t),o.set("metricsEnabled",String(n)),a&&o.set("marketingEnabled",String(a));const i=new URL("/buy",y.BaseUrl.Portfolio);return i.search=o.toString(),i.toString()})(x,n,a,b)}},[x,k,n,a,b,C,_]),C?null:o.default.createElement(s.Modal,{isOpen:!0,onClose:()=>{}},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,{modalDialogProps:{padding:0,display:c.Display.Flex,flexDirection:c.FlexDirection.Column}},o.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,width:c.BlockSize.Full,padding:2},o.default.createElement(E.default,{chainId:x}))))}}}},{package:"$root$",file:"ui/pages/nonevm-balance-check/index.tsx"}],[7328,{"./notification-details":7332},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./notification-details"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/notification-details/index.js"}],[7329,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../notifications/notification-components/types/notifications/notifications":7355,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailsBody=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../notifications/notification-components/types/notifications/notifications");n.NotificationDetailsBody=({body:e,notification:t})=>o.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,padding:0},e.type===s.NotificationComponentType.AnnouncementBody&&o.default.createElement(o.default.Fragment,null,o.default.createElement(e.Image,{notification:t}),o.default.createElement(e.Description,{notification:t})),e.type===s.NotificationComponentType.OnChainBody&&o.default.createElement(o.default.Fragment,null,e.Image&&o.default.createElement(e.Image,{notification:t}),e.From&&o.default.createElement(e.From,{notification:t}),e.To&&o.default.createElement(e.To,{notification:t}),e.Account&&o.default.createElement(e.Account,{notification:t}),e.Asset&&o.default.createElement(e.Asset,{notification:t}),e.AssetReceived&&o.default.createElement(e.AssetReceived,{notification:t}),e.Status&&o.default.createElement(e.Status,{notification:t}),e.Network&&o.default.createElement(e.Network,{notification:t}),e.Rate&&o.default.createElement(e.Rate,{notification:t}),e.Provider&&o.default.createElement(e.Provider,{notification:t}),e.NetworkFee&&o.default.createElement(e.NetworkFee,{notification:t})),e.type===s.NotificationComponentType.SnapBody&&o.default.createElement(e.Content,{notification:t}))}}},{package:"$root$",file:"ui/pages/notification-details/notification-details-body/notification-details-body.tsx"}],[7330,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../notifications/notification-components/types/notifications/notifications":7355,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailsFooter=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../notifications/notification-components/types/notifications/notifications");n.NotificationDetailsFooter=({footer:e,notification:t})=>o.default.createElement(i.Box,{width:r.BlockSize.Full,display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,padding:4,gap:4},e.type===s.NotificationComponentType.OnChainFooter&&o.default.createElement(e.ScanLink,{notification:t}),e.type===s.NotificationComponentType.AnnouncementFooter&&o.default.createElement(i.Box,{display:r.Display.Flex,gap:4,flexDirection:r.FlexDirection.Row,width:r.BlockSize.Full},o.default.createElement(e.ExternalLink,{notification:t}),o.default.createElement(e.ExtensionLink,{notification:t})),e.type===s.NotificationComponentType.SnapFooter&&o.default.createElement(e.Link,{notification:t}))}}},{package:"$root$",file:"ui/pages/notification-details/notification-details-footer/notification-details-footer.tsx"}],[7331,{"../../../components/component-library":6097,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailsHeader=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../components/component-library");n.NotificationDetailsHeader=({children:e,onClickBack:t})=>o.default.createElement(i.HeaderBase,{padding:4,startAccessory:o.default.createElement(i.ButtonIcon,{ariaLabel:"Back",iconName:i.IconName.ArrowLeft,size:i.ButtonIconSize.Md,onClick:t,"data-testid":"notification-details-back-button"}),endAccessory:null},e)}}},{package:"$root$",file:"ui/pages/notification-details/notification-details-header/notification-details-header.tsx"}],[7332,{"../../components/component-library":6097,"../../components/multichain":6330,"../../components/multichain/pages/page":6427,"../../helpers/constants/design-system":6645,"../../helpers/constants/routes":6650,"../../hooks/metamask-notifications/useNotifications":6736,"../../hooks/useNotificationTimeouts":6794,"../../selectors/metamask-notifications/metamask-notifications":7540,"../notifications/notification-components":7347,"./notification-details-body/notification-details-body":7329,"./notification-details-footer/notification-details-footer":7330,"./notification-details-header/notification-details-header":7331,"./utils/utils":7333,"@metamask/notification-services-controller/notification-services":2211,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useNavigate)(),{notification:t}=function(){const{pathname:e}=(0,i.useLocation)(),t=(0,h.getExtractIdentifier)(e),n=(0,o.useSelector)((0,m.getMetamaskNotificationById)(t));return{notification:n}}();if(function(e){const{markNotificationAsRead:t}=(0,p.useMarkNotificationAsRead)(),{setNotificationTimeout:n}=(0,g.useSnapNotificationTimeouts)();(0,a.useEffect)(()=>(e&&t([{id:e.id,type:e.type,isRead:e.isRead}]),()=>{(null==e?void 0:e.type)===r.TRIGGER_TYPES.SNAP&&n(e.id)}),[])}(t),!t)return e(l.NOTIFICATIONS_ROUTE),null;if(!(0,f.hasNotificationComponents)(t.type))return e(l.NOTIFICATIONS_ROUTE),null;const n=f.NotificationComponents[t.type];return a.default.createElement(u.NotificationsPage,null,a.default.createElement(y.NotificationDetailsHeader,{onClickBack:()=>e(l.NOTIFICATIONS_ROUTE)},a.default.createElement(n.details.title,{notification:t})),a.default.createElement(d.Content,{padding:0},a.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2,width:c.BlockSize.Full,height:c.BlockSize.Full,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(E.NotificationDetailsBody,{body:n.details.body,notification:t}),a.default.createElement(b.NotificationDetailsFooter,{footer:n.footer,notification:t}))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=e("@metamask/notification-services-controller/notification-services"),s=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),l=e("../../helpers/constants/routes"),u=e("../../components/multichain"),d=e("../../components/multichain/pages/page"),p=e("../../hooks/metamask-notifications/useNotifications"),m=e("../../selectors/metamask-notifications/metamask-notifications"),f=e("../notifications/notification-components"),g=e("../../hooks/useNotificationTimeouts"),h=e("./utils/utils"),y=e("./notification-details-header/notification-details-header"),E=e("./notification-details-body/notification-details-body"),b=e("./notification-details-footer/notification-details-footer");function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notification-details/notification-details.tsx"}],[7333,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getExtractIdentifier=function(e){if("string"!=typeof e)return"";const t=e.split("/");return t.length>2?t[2]:""}}}},{package:"$root$",file:"ui/pages/notification-details/utils/utils.ts"}],[7334,{"./notifications-settings":7338},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./notifications-settings"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/notifications-settings/index.js"}],[7335,{"../../../shared/constants/metametrics":5430,"../../components/component-library":6097,"../../components/multichain":6330,"../../contexts/metamask-notifications/metamask-notifications":6606,"../../contexts/metametrics":6608,"../../helpers/constants/design-system":6645,"../../hooks/metamask-notifications/useNotifications":6736,"../../hooks/useI18nContext":6777,"../../selectors/identity/backup-and-sync":7538,"../../selectors/metamask-notifications/metamask-notifications":7540,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsAllowNotifications=function({loading:e,setLoading:t,disabled:n,dataTestId:g}){const h=(0,i.useI18nContext)(),y=(0,a.useContext)(r.MetaMetricsContext),{listNotifications:E}=(0,d.useMetamaskNotificationsContext)(),b=(0,o.useSelector)(l.selectIsMetamaskNotificationsEnabled),[T,_]=(0,a.useState)(b),v=(0,o.useSelector)(l.getIsUpdatingMetamaskNotifications),x=(0,o.useSelector)(u.selectIsBackupAndSyncEnabled),{enableNotifications:k,error:C}=(0,c.useEnableNotifications)(),{disableNotifications:S,error:w}=(0,c.useDisableNotifications)(),I=C||w;(0,a.useEffect)(()=>{t(v)},[v,t]),(0,a.useEffect)(()=>{_(b)},[b]),(0,a.useEffect)(()=>{!I&&b&&E()},[b,I,E]);const N=(0,a.useCallback)(async()=>{t(!0),b?(y({category:s.MetaMetricsEventCategory.NotificationSettings,event:s.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"notifications",was_profile_syncing_on:x,old_value:!0,new_value:!1}}),await S()):(y({category:s.MetaMetricsEventCategory.NotificationSettings,event:s.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"notifications",was_profile_syncing_on:x,old_value:!1,new_value:!0}}),await k()),t(!1),_(!T)},[t,b,S,k,T,x,y]),O=(0,a.useMemo)(()=>a.default.createElement(p.Text,{as:"a",href:"https://support.metamask.io/privacy-and-security/profile-privacy",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:m.TextColor.infoDefault},h("notificationsSettingsPageAllowNotificationsLink")),[h]);return a.default.createElement(p.Box,{display:m.Display.Flex,justifyContent:m.JustifyContent.flexStart,flexDirection:m.FlexDirection.Column,alignItems:m.AlignItems.flexStart,gap:4,paddingLeft:8,paddingRight:8,paddingBottom:8},a.default.createElement(f.NotificationsSettingsBox,{value:T,onToggle:N,disabled:n,loading:e,dataTestId:g},a.default.createElement(f.NotificationsSettingsType,{title:h("allowNotifications")})),a.default.createElement(p.Text,{variant:m.TextVariant.bodyMd,color:m.TextColor.textAlternative},h("notificationsSettingsPageAllowNotifications",[O])),I&&a.default.createElement(p.Box,null,a.default.createElement(p.Text,{as:"p",color:m.TextColor.errorDefault},h(b?"turnOffMetamaskNotificationsError":"turnOnMetamaskNotificationsError"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("../../hooks/useI18nContext"),r=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),c=e("../../hooks/metamask-notifications/useNotifications"),l=e("../../selectors/metamask-notifications/metamask-notifications"),u=e("../../selectors/identity/backup-and-sync"),d=e("../../contexts/metamask-notifications/metamask-notifications"),p=e("../../components/component-library"),m=e("../../helpers/constants/design-system"),f=e("../../components/multichain");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings-allow-notifications.tsx"}],[7336,{"../../../shared/constants/metametrics":5430,"../../components/multichain":6330,"../../contexts/metametrics":6608,"../../helpers/utils/util":6703,"../../hooks/metamask-notifications/useNotifications":6736,"../../hooks/metamask-notifications/useSwitchNotifications":6737,"@metamask/controller-utils":1301,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsPerAccount=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/controller-utils"),i=e("../../contexts/metametrics"),r=e("../../../shared/constants/metametrics"),s=e("../../hooks/metamask-notifications/useSwitchNotifications"),c=e("../../components/multichain"),l=e("../../hooks/metamask-notifications/useNotifications"),u=e("../../helpers/utils/util");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.NotificationsSettingsPerAccount=({address:e,name:t,isEnabled:n,isLoading:d,disabledSwitch:p,refetchAccountSettings:m})=>{const f=(0,a.useContext)(i.MetaMetricsContext),{toggleAccount:g,loading:h,error:y}=function(e,t){const{onChange:n,error:o}=(0,s.useSwitchAccountNotificationsChange)(),{listNotifications:i}=(0,l.useListNotifications)(),[r,c]=(0,a.useState)(!1);return{toggleAccount:(0,a.useCallback)(async a=>{c(!0);try{await n([e],a),await t(),i()}catch{}c(!1)},[e,i,t,n]),loading:r,error:o}}(e,m),E=d||h,b=y,T=(0,a.useCallback)(async()=>{f({category:r.MetaMetricsEventCategory.NotificationSettings,event:r.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"account_notifications",old_value:n,new_value:!n}}),await g(!n)},[e,n,g,f]),_=(0,o.toChecksumHexAddress)(e),v=(0,u.shortenAddress)(_);return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.NotificationsSettingsBox,{value:n??!1,onToggle:T,key:e,disabled:p,loading:E,error:b,dataTestId:`${v}-notifications-settings`},a.default.createElement(c.NotificationsSettingsAccount,{address:e,name:t})))}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings-per-account.tsx"}],[7337,{"../../../shared/constants/metametrics":5430,"../../components/component-library":6097,"../../components/multichain":6330,"../../contexts/metamask-notifications/metamask-notifications":6606,"../../contexts/metametrics":6608,"../../helpers/constants/design-system":6645,"../../hooks/metamask-notifications/useSwitchNotifications":6737,"../../hooks/useI18nContext":6777,"../../selectors/metamask-notifications/metamask-notifications":7540,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsTypes=function({disabled:e}){const t=(0,s.useI18nContext)(),{listNotifications:n}=(0,c.useMetamaskNotificationsContext)(),f=(0,a.useContext)(i.MetaMetricsContext),g=(0,o.useSelector)(m.selectIsFeatureAnnouncementsEnabled),{onChange:h,error:y}=(0,l.useSwitchFeatureAnnouncementsChange)(),[E,b]=(0,a.useState)(g);return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Box,{paddingLeft:8,paddingRight:8,paddingBottom:4,paddingTop:4,"data-testid":"notifications-settings-per-types"},a.default.createElement(u.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textDefault},t("customizeYourNotifications")),a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative},t("customizeYourNotificationsText"))),a.default.createElement(u.Box,{display:d.Display.Flex,justifyContent:d.JustifyContent.flexStart,flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.flexStart,gap:6,paddingLeft:8,paddingRight:8,paddingBottom:4},a.default.createElement(p.NotificationsSettingsBox,{value:E,onToggle:async()=>{b(!E);try{h(!E),f({category:r.MetaMetricsEventCategory.NotificationSettings,event:r.MetaMetricsEventName.NotificationsSettingsUpdated,properties:{settings_type:"product_announcements",old_value:E,new_value:!E}}),n()}catch(e){b(E)}},error:y,disabled:e,dataTestId:"product-announcements"},a.default.createElement(p.NotificationsSettingsType,{icon:u.IconName.Star,title:t("productAnnouncements")}))),a.default.createElement(u.Box,{borderColor:d.BorderColor.borderMuted,width:d.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("../../contexts/metametrics"),r=e("../../../shared/constants/metametrics"),s=e("../../hooks/useI18nContext"),c=e("../../contexts/metamask-notifications/metamask-notifications"),l=e("../../hooks/metamask-notifications/useSwitchNotifications"),u=e("../../components/component-library"),d=e("../../helpers/constants/design-system"),p=e("../../components/multichain"),m=e("../../selectors/metamask-notifications/metamask-notifications");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings-types.tsx"}],[7338,{"../../components/component-library":6097,"../../components/multichain":6330,"../../components/multichain/pages/page":6427,"../../helpers/constants/design-system":6645,"../../helpers/constants/routes":6650,"../../hooks/metamask-notifications/useSwitchNotifications":6737,"../../hooks/useI18nContext":6777,"../../selectors":7539,"../../selectors/metamask-notifications/metamask-notifications":7540,"./notifications-settings-allow-notifications":7335,"./notifications-settings-per-account":7336,"./notifications-settings-types":7337,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,i.useNavigate)(),n=(0,i.useLocation)(),E=(0,r.useI18nContext)(),b=(0,o.useSelector)(p.selectIsMetamaskNotificationsEnabled),T=(0,o.useSelector)(p.getIsUpdatingMetamaskNotifications),_=function(){const e=(0,o.useSelector)(p.getValidNotificationAccounts),t=(0,o.useSelector)(m.getInternalAccounts),n=(0,a.useMemo)(()=>e.map(e=>t.find(t=>t.address.toLowerCase()===e.toLowerCase())).filter(e=>Boolean(e)),[e,t]);return n}(),[v,x]=(0,a.useState)(T),k=(0,a.useMemo)(()=>_.map(e=>e.address),[_]),C=(0,f.useAccountSettingsProps)(k),S=C.accountsBeingUpdated.length>0,w=async()=>{await C.update(k)},I=null===(e=n.state)||void 0===e?void 0:e.fromPage;return a.default.createElement(u.NotificationsPage,null,a.default.createElement(d.Header,{startAccessory:a.default.createElement(c.ButtonIcon,{ariaLabel:"Back",iconName:c.IconName.ArrowLeft,size:c.ButtonIconSize.Md,onClick:()=>t(I||s.NOTIFICATIONS_ROUTE)}),endAccessory:null},E("notifications")),a.default.createElement(d.Content,{padding:0},a.default.createElement(g.NotificationsSettingsAllowNotifications,{loading:v,setLoading:x,dataTestId:"notifications-settings-allow",disabled:S}),a.default.createElement(c.Box,{borderColor:l.BorderColor.borderMuted,width:l.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),b&&a.default.createElement(a.default.Fragment,null,a.default.createElement(h.NotificationsSettingsTypes,{disabled:v||S}),a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Box,{paddingLeft:8,paddingRight:8,paddingBottom:4,paddingTop:4,"data-testid":"notifications-settings-per-account"},a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault},E("accountActivity")),a.default.createElement(c.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},E("accountActivityText"))),a.default.createElement(c.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.flexStart,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexStart,gap:6,paddingLeft:8,paddingRight:8,paddingBottom:4},_.map(e=>{var t;return a.default.createElement(y.NotificationsSettingsPerAccount,{key:e.id,address:e.address,name:e.metadata.name,disabledSwitch:C.initialLoading||S,isLoading:C.accountsBeingUpdated.includes(e.address),isEnabled:(null===(t=C.data)||void 0===t?void 0:t[e.address.toLowerCase()])??!1,refetchAccountSettings:w})}))))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=e("../../hooks/useI18nContext"),s=e("../../helpers/constants/routes"),c=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),u=e("../../components/multichain"),d=e("../../components/multichain/pages/page"),p=e("../../selectors/metamask-notifications/metamask-notifications"),m=e("../../selectors"),f=e("../../hooks/metamask-notifications/useSwitchNotifications"),g=e("./notifications-settings-allow-notifications"),h=e("./notifications-settings-types"),y=e("./notifications-settings-per-account");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications-settings/notifications-settings.tsx"}],[7339,{"../../components/component-library":6097,"../../helpers/constants/design-system":6645,"../../hooks/useI18nContext":6777,"../../selectors/metamask-notifications/metamask-notifications":7540,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NewFeatureTag=function(){const e=(0,l.useI18nContext)();if((0,i.useSelector)(r.selectIsMetamaskNotificationsFeatureSeen))return null;return o.default.createElement(s.Tag,{backgroundColor:c.BackgroundColor.infoMuted,borderStyle:c.BorderStyle.none,borderRadius:c.BorderRadius.MD,label:e("new"),labelProps:{color:c.TextColor.primaryDefault,variant:c.TextVariant.bodySm},paddingLeft:2,paddingRight:2})};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications"),s=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),l=e("../../hooks/useI18nContext")}}},{package:"$root$",file:"ui/pages/notifications/NewFeatureTag.tsx"}],[7340,{"./notifications":7361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./notifications"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/notifications/index.js"}],[7341,{"../../../../../shared/lib/translate":5522,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6398,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../../../../helpers/utils/util":6703,"../node-guard":7350,"../types/notifications/notifications":7355,"@metamask/notification-services-controller":2240,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),m=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,h=(0,s.isOfTypeNodeGuard)([g.ERC1155_RECEIVED,g.ERC1155_SENT]),y=e=>e.type===g.ERC1155_SENT,E=e=>y(e)?(0,r.t)("notificationItemNFTSentTo"):(0,r.t)("notificationItemNFTReceivedFrom"),b=e=>{const t=(0,l.shortenAddress)(y(e)?e.data.to:e.data.from);return(0,u.createTextItems)([E(e)||"",t],d.TextVariant.bodySm)};n.components={guardFn:h,item:({notification:e,onClick:t})=>{var n,a,i,r,s;return o.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:null!==(n=e.data.nft)&&void 0!==n&&n.image?m.NotificationListItemIconType.Nft:m.NotificationListItemIconType.Token,value:(null===(a=e.data.nft)||void 0===a?void 0:a.image)||"http://foo.com/bar.png",badge:{icon:y(e)?f.IconName.Arrow2UpRight:f.IconName.Received,position:f.BadgeWrapperPosition.bottomRight}},title:b(e),description:(r=e,(0,u.createTextItems)([(null===(s=r.data.nft)||void 0===s?void 0:s.collection.name)||""],d.TextVariant.bodyMd)),createdAt:new Date(e.createdAt),amount:(null===(i=e.data.nft)||void 0===i?void 0:i.token_id)||"",onClick:t})},details:{title:({notification:e})=>o.default.createElement(p.NotificationDetailTitle,{title:`${y(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} NFT`,date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:c.NotificationComponentType.OnChainBody,Image:({notification:e})=>{var t,n,a;const{nativeCurrencyLogo:i,nativeCurrencyName:r}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailNft,{networkSrc:i,tokenId:(null===(t=e.data.nft)||void 0===t?void 0:t.token_id)||"",tokenName:(null===(n=e.data.nft)||void 0===n?void 0:n.name)||"",tokenSrc:(null===(a=e.data.nft)||void 0===a?void 0:a.image)||"",networkName:r})},From:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${y(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${y(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:()=>o.default.createElement(p.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{var t,n,a;const{nativeCurrencyLogo:i}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailCollection,{icon:{src:(null===(t=e.data.nft)||void 0===t?void 0:t.image)||"",badgeSrc:i},label:(0,r.t)("notificationItemCollection")||"",collection:`${null===(n=e.data.nft)||void 0===n?void 0:n.collection.name} (${null===(a=e.data.nft)||void 0===a?void 0:a.token_id})`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/erc1155-sent-received/erc1155-sent-received.tsx"}],[7342,{"../../../../../shared/lib/translate":5522,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6398,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../../../../helpers/utils/util":6703,"../node-guard":7350,"../types/notifications/notifications":7355,"@metamask/notification-services-controller":2240,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),u=e("../../../../helpers/utils/util"),d=e("../../../../helpers/utils/notification.util"),p=e("../../../../components/multichain"),m=e("../../../../helpers/constants/design-system"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,h=(0,s.isOfTypeNodeGuard)([g.ERC20_RECEIVED,g.ERC20_SENT]),y=e=>e.type===g.ERC20_SENT,E=e=>y(e)?(0,r.t)("notificationItemSentTo"):(0,r.t)("notificationItemReceivedFrom"),b=e=>{const t=(0,u.shortenAddress)(y(e)?e.data.to:e.data.from);return(0,d.createTextItems)([E(e)||"",t],m.TextVariant.bodySm)};n.components={guardFn:h,item:({notification:e,onClick:t})=>{return o.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:l.NotificationListItemIconType.Token,value:e.data.token.image,badge:{icon:y(e)?f.IconName.Arrow2UpRight:f.IconName.Received,position:f.BadgeWrapperPosition.bottomRight}},title:b(e),description:(n=e,(0,d.createTextItems)([n.data.token.name],m.TextVariant.bodyMd)),createdAt:new Date(e.createdAt),amount:`${(0,d.getAmount)(e.data.token.amount,e.data.token.decimals,{shouldEllipse:!0})} ${e.data.token.symbol}`,onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(p.NotificationDetailTitle,{title:`${y(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} ${e.data.token.symbol}`,date:(0,d.formatIsoDateString)(e.createdAt)}),body:{type:c.NotificationComponentType.OnChainBody,From:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${y(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${y(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:({notification:e})=>o.default.createElement(p.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||"",action:o.default.createElement(p.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,r.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,d.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:e.data.token.image,badge:{src:t,position:f.BadgeWrapperPosition.topRight}},label:(0,r.t)("asset")||"",detail:e.data.token.symbol,fiatValue:`$${(0,d.getUsdAmount)(e.data.token.amount,e.data.token.decimals,e.data.token.usd)}`,value:`${(0,d.getAmount)(e.data.token.amount,e.data.token.decimals,{shouldEllipse:!0})} ${e.data.token.symbol}`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,d.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/erc20-sent-received/erc20-sent-received.tsx"}],[7343,{"../../../../../shared/lib/translate":5522,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6398,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../../../../helpers/utils/util":6703,"../node-guard":7350,"../types/notifications/notifications":7355,"@metamask/notification-services-controller":2240,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),m=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,h=(0,s.isOfTypeNodeGuard)([g.ERC721_RECEIVED,g.ERC721_SENT]),y=e=>e.type===g.ERC721_SENT,E=e=>y(e)?(0,r.t)("notificationItemNFTSentTo"):(0,r.t)("notificationItemNFTReceivedFrom"),b=e=>{const t=(0,l.shortenAddress)(y(e)?e.data.to:e.data.from);return(0,u.createTextItems)([E(e)||"",t],d.TextVariant.bodySm)};n.components={guardFn:h,item:({notification:e,onClick:t})=>{return o.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:m.NotificationListItemIconType.Nft,value:e.data.nft.image,badge:{icon:y(e)?f.IconName.Arrow2UpRight:f.IconName.Received,position:f.BadgeWrapperPosition.bottomRight}},title:b(e),description:(n=e,(0,u.createTextItems)([n.data.nft.collection.name],d.TextVariant.bodyMd)),createdAt:new Date(e.createdAt),amount:`#${e.data.nft.token_id}`,onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(p.NotificationDetailTitle,{title:`${y(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} NFT`,date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:c.NotificationComponentType.OnChainBody,Image:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailNft,{networkSrc:t,tokenId:e.data.nft.token_id,tokenName:e.data.nft.name,tokenSrc:e.data.nft.image,networkName:n})},From:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${y(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${y(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:()=>o.default.createElement(p.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailCollection,{icon:{src:e.data.nft.image,badgeSrc:t},label:(0,r.t)("notificationItemCollection")||"",collection:`${e.data.nft.collection.name} (${e.data.nft.token_id})`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/erc721-sent-received/erc721-sent-received.tsx"}],[7344,{"../../../../../shared/lib/translate":5522,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6398,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../../../../helpers/utils/util":6703,"../node-guard":7350,"../types/notifications/notifications":7355,"@metamask/notification-services-controller":2240,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../helpers/utils/util"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain"),m=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),f=e("../../../../components/component-library");const{TRIGGER_TYPES:g}=i.NotificationServicesController.Constants,h=(0,s.isOfTypeNodeGuard)([g.ETH_RECEIVED,g.ETH_SENT]),y=e=>e.type===g.ETH_SENT,E=e=>y(e)?(0,r.t)("notificationItemSentTo"):(0,r.t)("notificationItemReceivedFrom"),b=e=>(0,u.getNetworkDetailsByChainId)(e.chain_id),T=e=>{const t=(0,l.shortenAddress)(y(e)?e.data.to:e.data.from);return(0,u.createTextItems)([E(e)||"",t],d.TextVariant.bodySm)},_=e=>{const{nativeCurrencySymbol:t}=b(e);return(0,u.createTextItems)([t],d.TextVariant.bodyMd)};n.components={guardFn:h,item:({notification:e,onClick:t})=>{const{nativeCurrencySymbol:n,nativeCurrencyLogo:a}=b(e);return o.default.createElement(p.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:m.NotificationListItemIconType.Token,value:a,badge:{icon:y(e)?f.IconName.Arrow2UpRight:f.IconName.Received,position:f.BadgeWrapperPosition.bottomRight}},title:T(e),description:_(e),createdAt:new Date(e.createdAt),amount:`${(0,u.formatAmount)(parseFloat(e.data.amount.eth),{shouldEllipse:!0})} ${n}`,onClick:t})},details:{title:({notification:e})=>{const{nativeCurrencySymbol:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailTitle,{title:`${y(e)?(0,r.t)("notificationItemSent"):(0,r.t)("notificationItemReceived")} ${t}`,date:(0,u.formatIsoDateString)(e.createdAt)})},body:{type:c.NotificationComponentType.OnChainBody,From:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemFrom")}${y(e)?` (${(0,r.t)("you")})`:""}`,address:e.data.from}),To:({notification:e})=>o.default.createElement(p.NotificationDetailAddress,{side:`${(0,r.t)("notificationItemTo")}${y(e)?"":` (${(0,r.t)("you")})`}`,address:e.data.to}),Status:({notification:e})=>o.default.createElement(p.NotificationDetailInfo,{icon:{iconName:f.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||"",action:o.default.createElement(p.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,r.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencySymbol:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t,badge:{src:t,position:f.BadgeWrapperPosition.topRight}},label:(0,r.t)("asset")||"",detail:n,fiatValue:`$${(0,u.formatAmount)(parseFloat(e.data.amount.usd),{shouldEllipse:!0})}`,value:`${(0,u.formatAmount)(parseFloat(e.data.amount.eth),{shouldEllipse:!0})} ${n}`})},Network:({notification:e})=>{const{nativeCurrencyLogo:t,nativeCurrencyName:n}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(p.NotificationDetailAsset,{icon:{src:t},label:(0,r.t)("notificationDetailNetwork")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(p.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(p.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/eth-sent-received/eth-sent-received.tsx"}],[7345,{"../../../../../shared/constants/metametrics":5430,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../contexts/metametrics":6608,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExternalLinkButton=n.ExtensionLinkButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../../shared/constants/metametrics"),i=e("../../../../contexts/metametrics"),r=e("../../../../components/multichain"),s=e("../../../../components/component-library");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const l=e=>{const t=(0,a.useContext)(i.MetaMetricsContext);return(0,a.useCallback)(()=>{t({category:o.MetaMetricsEventCategory.NotificationInteraction,event:o.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,clicked_item:e.clickType}})},[e.clickType,e.id,e.type,t])};n.ExtensionLinkButton=e=>{const{notification:t}=e,n=l({id:t.id,type:t.type,clickType:"internal_link"});return t.data.extensionLink?a.default.createElement(r.NotificationDetailButton,{variant:s.ButtonVariant.Primary,text:t.data.extensionLink.extensionLinkText,href:`/${t.data.extensionLink.extensionLinkRoute}`,isExternal:!0,onClick:n}):null};n.ExternalLinkButton=e=>{const{notification:t}=e,n=l({id:t.id,type:t.type,clickType:"external_link"});return t.data.externalLink?a.default.createElement(r.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,text:t.data.externalLink.externalLinkText,href:`${t.data.externalLink.externalLinkUrl}`,isExternal:!0,onClick:n}):null}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/feature-announcement/annonucement-footer-buttons.tsx"}],[7346,{"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6398,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../node-guard":7350,"../types/notifications/notifications":7355,"./annonucement-footer-buttons":7345,"@metamask/notification-services-controller":2240,dompurify:3932,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a=f(e("react")),o=e("@metamask/notification-services-controller"),i=f(e("dompurify")),r=e("../node-guard"),s=e("../types/notifications/notifications"),c=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),l=e("../../../../helpers/utils/notification.util"),u=e("../../../../components/component-library"),d=e("../../../../components/multichain"),p=e("../../../../helpers/constants/design-system"),m=e("./annonucement-footer-buttons");function f(e){return e&&e.__esModule?e:{default:e}}const g=(0,i.default)(window),{TRIGGER_TYPES:h}=o.NotificationServicesController.Constants,y=(0,r.isOfTypeNodeGuard)([h.FEATURES_ANNOUNCEMENT]),E=e=>(0,l.createTextItems)([e.data.shortDescription],p.TextVariant.bodyMd);n.components={guardFn:y,item:({notification:e,onClick:t})=>{return a.default.createElement(d.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:c.NotificationListItemIconType.Token,value:"./images/product-announcement-logo.svg"},title:(n=e,(0,l.createTextItems)([n.data.title],p.TextVariant.bodySm)),description:E(e),createdAt:new Date(e.createdAt),onClick:t});var n},details:{title:({notification:e})=>a.default.createElement(d.NotificationDetailTitle,{title:e.data.title,date:(0,l.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.AnnouncementBody,Image:({notification:e})=>a.default.createElement(u.Box,{display:p.Display.Block,width:p.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingBottom:4},a.default.createElement(u.Box,{as:"img",src:`https:${e.data.image.url}?fm=jpg&fl=progressive&w=1000&q=80`,alt:e.data.title,title:e.data.title,display:p.Display.Block,justifyContent:p.JustifyContent.center,borderRadius:p.BorderRadius.XL,width:p.BlockSize.Full})),Description:({notification:e})=>a.default.createElement(u.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(u.Text,{variant:p.TextVariant.bodyMd,as:"div",dangerouslySetInnerHTML:{__html:g.sanitize(e.data.longDescription)}}))}},footer:{type:s.NotificationComponentType.AnnouncementFooter,ExtensionLink:m.ExtensionLinkButton,ExternalLink:m.ExternalLinkButton}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/feature-announcement/feature-announcement.tsx"}],[7347,{"./erc1155-sent-received/erc1155-sent-received":7341,"./erc20-sent-received/erc20-sent-received":7342,"./erc721-sent-received/erc721-sent-received":7343,"./eth-sent-received/eth-sent-received":7344,"./feature-announcement/feature-announcement":7346,"./lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn":7348,"./lido-withdrawal-requested/lido-withdrawal-requested":7349,"./snap/snap":7352,"./stake/stake":7353,"./swap-completed/swap-completed":7354,"@metamask/notification-services-controller":2240},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasNotificationComponents=n.TRIGGER_TYPES=n.NotificationComponents=void 0;var a=e("@metamask/notification-services-controller"),o=e("./erc20-sent-received/erc20-sent-received"),i=e("./erc721-sent-received/erc721-sent-received"),r=e("./erc1155-sent-received/erc1155-sent-received"),s=e("./eth-sent-received/eth-sent-received"),c=e("./feature-announcement/feature-announcement"),l=e("./stake/stake"),u=e("./swap-completed/swap-completed"),d=e("./lido-withdrawal-requested/lido-withdrawal-requested"),p=e("./lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn"),m=e("./snap/snap");const{TRIGGER_TYPES:f}=a.NotificationServicesController.Constants;n.TRIGGER_TYPES=f;const g=n.NotificationComponents={[f.ERC20_SENT]:o.components,[f.ERC20_RECEIVED]:o.components,[f.ERC721_SENT]:i.components,[f.ERC721_RECEIVED]:i.components,[f.ERC1155_SENT]:r.components,[f.ERC1155_RECEIVED]:r.components,[f.ETH_SENT]:s.components,[f.ETH_RECEIVED]:s.components,[f.FEATURES_ANNOUNCEMENT]:c.components,[f.ROCKETPOOL_STAKE_COMPLETED]:l.components,[f.ROCKETPOOL_UNSTAKE_COMPLETED]:l.components,[f.LIDO_STAKE_COMPLETED]:l.components,[f.LIDO_WITHDRAWAL_COMPLETED]:l.components,[f.LIDO_WITHDRAWAL_REQUESTED]:d.components,[f.METAMASK_SWAP_COMPLETED]:u.components,[f.LIDO_STAKE_READY_TO_BE_WITHDRAWN]:p.components,[f.SNAP]:m.components};n.hasNotificationComponents=e=>e in g}}},{package:"$root$",file:"ui/pages/notifications/notification-components/index.ts"}],[7348,{"../../../../../shared/lib/translate":5522,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6398,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../node-guard":7350,"../types/notifications/notifications":7355,"@metamask/notification-services-controller":2240,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../node-guard"),s=e("../types/notifications/notifications"),c=e("../../../../components/multichain"),l=e("../../../../../shared/lib/translate"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:f}=i.NotificationServicesController.Constants,g=(0,r.isOfTypeNodeGuard)([f.LIDO_STAKE_READY_TO_BE_WITHDRAWN]),h=e=>{const t=(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0}),n=(0,l.t)("notificationItemLidoStakeReadyToBeWithdrawnMessage",[`${t} ${e.data.staked_eth.symbol}`])||"";return(0,u.createTextItems)([n],d.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>o.default.createElement(c.NotificationListItem,{id:e.trigger_id,isRead:e.isRead,icon:{type:p.NotificationListItemIconType.Token,value:e.data.staked_eth.image,badge:{icon:m.IconName.Stake,position:m.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,l.t)("notificationItemLidoStakeReadyToBeWithdrawn")||""],d.TextVariant.bodySm),description:h(e),createdAt:new Date(e.createdAt),onClick:t}),details:{title:({notification:e})=>o.default.createElement(c.NotificationDetailTitle,{title:(0,l.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(c.NotificationDetailAddress,{side:(0,l.t)("account")||"",address:e.address}):null,Status:()=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,l.t)("notificationItemStatus")||"",detail:(0,l.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",detail:e.data.staked_eth.symbol,fiatValue:`$${(0,u.formatAmount)(parseFloat(e.data.staked_eth.usd),{shouldEllipse:!0})}`,value:`${(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0})} ${e.data.staked_eth.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemStakingProvider")||"",detail:e.data.staked_eth.symbol})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn.tsx"}],[7349,{"../../../../../shared/lib/translate":5522,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6398,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../node-guard":7350,"../types/notifications/notifications":7355,"@metamask/notification-services-controller":2240,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../node-guard"),s=e("../types/notifications/notifications"),c=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),l=e("../../../../components/multichain"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../../shared/lib/translate"),p=e("../../../../helpers/constants/design-system"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:f}=i.NotificationServicesController.Constants,g=(0,r.isOfTypeNodeGuard)([f.LIDO_WITHDRAWAL_REQUESTED]),h=e=>{const t=(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0}),n=(0,d.t)("notificationItemLidoWithdrawalRequestedMessage",[`${t} ${e.data.stake_in.symbol}`])||"";return(0,u.createTextItems)([n],p.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>o.default.createElement(l.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:c.NotificationListItemIconType.Token,value:e.data.stake_in.image,badge:{icon:m.IconName.Stake,position:m.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,d.t)("notificationItemUnStakingRequested")||""],p.TextVariant.bodySm),description:h(e),createdAt:new Date(e.createdAt),amount:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`,onClick:t}),details:{title:({notification:e})=>o.default.createElement(l.NotificationDetailTitle,{title:(0,d.t)("notificationItemUnStakingRequested")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(l.NotificationDetailAddress,{side:(0,d.t)("account")||"",address:e.address}):null,Status:({notification:e})=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:p.TextColor.successDefault,backgroundColor:p.BackgroundColor.successMuted},label:(0,d.t)("notificationItemStatus")||"",detail:(0,d.t)("notificationItemConfirmed")||"",action:o.default.createElement(l.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,d.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemUnStakingRequested")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,u.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemStakingProvider")||"",detail:"Lido-staked ETH"})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(l.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-withdrawal-requested/lido-withdrawal-requested.tsx"}],[7350,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOfTypeNodeGuard=void 0;n.isOfTypeNodeGuard=e=>t=>e.includes(t.type)}}},{package:"$root$",file:"ui/pages/notifications/notification-components/node-guard.ts"}],[7351,{"../../../../../shared/constants/metametrics":5430,"../../../../components/app/snaps/snap-link-warning":5866,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../contexts/metametrics":6608,"../../../../hooks/snaps/useSnapNavigation":6749,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapFooterButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("../../../../hooks/snaps/useSnapNavigation")),i=u(e("../../../../components/app/snaps/snap-link-warning")),r=e("../../../../components/multichain"),s=e("../../../../components/component-library"),c=e("../../../../contexts/metametrics"),l=e("../../../../../shared/constants/metametrics");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.SnapFooterButton=e=>{var t;const n=(0,a.useContext)(c.MetaMetricsContext),{useSnapNavigate:u}=(0,o.default)(),[d,p]=(0,a.useState)(!1),m=e.notification.data,f=null==m||null===(t=m.detailedView)||void 0===t?void 0:t.footerLink,g=(0,a.useCallback)(()=>{p(!1)},[]),h=(0,a.useCallback)((t,a)=>{n({category:l.MetaMetricsEventCategory.NotificationInteraction,event:l.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.notification.id,notification_type:e.notification.type,clicked_item:a?"external_link":"internal_link"}}),a?p(!0):u(t)},[u,e.notification.id,e.notification.type,n]);if(!f)return null;const{href:y,text:E}=f,b=!y.startsWith("metamask:");return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.default,{isOpen:d,onClose:g,url:y}),a.default.createElement(r.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,isExternal:b,text:E,onClick:()=>h(y,b)}))}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap-footer-button.tsx"}],[7352,{"../../../../components/app/snaps/snap-icon":5862,"../../../../components/app/snaps/snap-ui-markdown":5919,"../../../../components/app/snaps/snap-ui-renderer":5958,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../../../../helpers/utils/util":6703,"../../../../hooks/metamask-notifications/useNotifications":6736,"../../../../selectors":7539,"../node-guard":7350,"../types/notifications/notifications":7355,"./snap-footer-button":7351,"@metamask/notification-services-controller/notification-services":2211,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("@metamask/notification-services-controller/notification-services"),c=e("../../../../components/multichain"),l=e("../../../../selectors"),u=e("../../../../helpers/utils/util"),d=e("../types/notifications/notifications"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../components/app/snaps/snap-ui-renderer"),f=e("../../../../helpers/constants/design-system"),g=e("../../../../components/component-library"),h=e("../node-guard"),y=e("../../../../components/app/snaps/snap-icon"),E=e("../../../../hooks/metamask-notifications/useNotifications"),b=e("../../../../components/app/snaps/snap-ui-markdown"),T=e("./snap-footer-button");n.components={guardFn:(0,h.isOfTypeNodeGuard)([s.TRIGGER_TYPES.SNAP]),item:({notification:e,onClick:t})=>{const n=(0,r.useNavigate)(),a=(0,i.useSelector)(l.getSnapsMetadata),s=(0,u.getSnapName)(a),{markNotificationAsRead:d}=(0,E.useMarkNotificationAsRead)();return o.default.createElement(c.NotificationListItemSnap,{id:e.id,snapId:e.data.origin,isRead:e.isRead,createdAt:new Date(e.createdAt),title:{items:[{text:s(e.data.origin)}]},snapMessage:e.data.message,handleSnapClick:t,handleSnapButton:()=>{e.isRead||d([{id:e.id,type:e.type,isRead:e.isRead}]),n((0,u.getSnapRoute)(e.data.origin))}})},details:{title:({notification:e})=>o.default.createElement(c.NotificationDetailTitle,{title:e.data.detailedView.title,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:d.NotificationComponentType.SnapBody,Content:({notification:e})=>{const t=(0,i.useSelector)(l.getSnapsMetadata),n=(0,u.getSnapName)(t),a=e.data.origin;return o.default.createElement(o.default.Fragment,null,o.default.createElement(g.Box,{display:f.Display.Flex,style:{borderBottom:"1px solid var(--color-border-muted)"},flexDirection:f.FlexDirection.Column,padding:[4,2,4,4]},o.default.createElement(g.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,paddingBottom:2},o.default.createElement(y.SnapIcon,{snapId:a,avatarSize:g.IconSize.Xl}),o.default.createElement(g.Text,{paddingLeft:4,fontWeight:f.FontWeight.Medium},n(a))),o.default.createElement(b.SnapUIMarkdown,{markdown:!0},e.data.message)),o.default.createElement(g.Box,{paddingLeft:1,paddingRight:1},o.default.createElement(m.SnapUIRenderer,{snapId:e.data.origin,interfaceId:e.data.detailedView.interfaceId,contentBackgroundColor:f.BackgroundColor.backgroundDefault})))}}},footer:{type:d.NotificationComponentType.SnapFooter,Link:T.SnapFooterButton}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap.tsx"}],[7353,{"../../../../../shared/lib/translate":5522,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6398,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../node-guard":7350,"../types/notifications/notifications":7355,"@metamask/notification-services-controller":2240,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../../../../../shared/lib/translate"),s=e("../node-guard"),c=e("../types/notifications/notifications"),l=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:f}=i.NotificationServicesController.Constants,g=(0,s.isOfTypeNodeGuard)([f.ROCKETPOOL_STAKE_COMPLETED,f.ROCKETPOOL_UNSTAKE_COMPLETED,f.LIDO_STAKE_COMPLETED,f.LIDO_WITHDRAWAL_COMPLETED]),h={[f.LIDO_STAKE_COMPLETED]:(0,r.t)("notificationItemStaked"),[f.LIDO_WITHDRAWAL_COMPLETED]:(0,r.t)("notificationItemUnStakeCompleted"),[f.ROCKETPOOL_STAKE_COMPLETED]:(0,r.t)("notificationItemStakeCompleted"),[f.ROCKETPOOL_UNSTAKE_COMPLETED]:(0,r.t)("notificationItemUnStakeCompleted")},y={[f.ROCKETPOOL_STAKE_COMPLETED]:"staked",[f.ROCKETPOOL_UNSTAKE_COMPLETED]:"unstaked",[f.LIDO_STAKE_COMPLETED]:"staked",[f.LIDO_WITHDRAWAL_COMPLETED]:"unstaked"},E={[f.LIDO_STAKE_COMPLETED]:"Lido-staked ETH",[f.LIDO_WITHDRAWAL_COMPLETED]:"Lido-staked ETH",[f.ROCKETPOOL_STAKE_COMPLETED]:"Rocket Pool-staked ETH",[f.ROCKETPOOL_UNSTAKE_COMPLETED]:"Rocket Pool-staked ETH"},b=e=>{const t=y[e.type];return(0,p.createTextItems)(["staked"===t?e.data.stake_out.symbol:e.data.stake_in.symbol],m.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>{const n=y[e.type],a="staked"===n?e.data.stake_in:e.data.stake_out,i=(0,p.getAmount)(a.amount,a.decimals,{shouldEllipse:!0});return o.default.createElement(l.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.stake_out.image,badge:{icon:d.IconName.Stake,position:d.BadgeWrapperPosition.bottomRight}},title:(r=e,(0,p.createTextItems)([h[r.type]||""],m.TextVariant.bodySm)),description:b(e),createdAt:new Date(e.createdAt),amount:`${i} ${"staked"===n?e.data.stake_in.symbol:e.data.stake_out.symbol}`,onClick:t});var r},details:{title:({notification:e})=>{const t="staked"===y[e.type]?`${(0,r.t)("notificationItemStaked")} ${e.data.stake_in.symbol}`:`${(0,r.t)("notificationItemUnStaked")} ${e.data.stake_in.symbol}`;return o.default.createElement(l.NotificationDetailTitle,{title:t,date:(0,p.formatIsoDateString)(e.createdAt)})},body:{type:c.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(l.NotificationDetailAddress,{side:(0,r.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const t=y[e.type],{nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:n,position:d.BadgeWrapperPosition.topRight}},label:"staked"===t?(0,r.t)("notificationItemStaked")||"":(0,r.t)("notificationItemUnStaked")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,p.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,r.t)("notificationItemReceived")||"",detail:e.data.stake_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,e.data.stake_out.usd)}`,value:`${(0,p.getAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,{shouldEllipse:!0})} ${e.data.stake_out.symbol}`})},Status:({notification:e})=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,r.t)("notificationItemStatus")||"",detail:(0,r.t)("notificationItemConfirmed")||"",action:o.default.createElement(l.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,r.t)("notificationItemTransactionId")||""})}),Provider:({notification:e})=>{const t=y[e.type],n=E[e.type];return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:"staked"===t?e.data.stake_out.image:e.data.stake_in.image}},label:(0,r.t)("notificationItemStakingProvider")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(l.NotificationDetailNetworkFee,{notification:e})}},footer:{type:c.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(l.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/stake/stake.tsx"}],[7354,{"../../../../../shared/lib/translate":5522,"../../../../components/component-library":6097,"../../../../components/multichain":6330,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6398,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/notification.util":6689,"../node-guard":7350,"../types/notifications/notifications":7355,"@metamask/notification-services-controller":2240,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("@metamask/notification-services-controller"),r=e("../node-guard"),s=e("../types/notifications/notifications"),c=e("../../../../../shared/lib/translate"),l=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:f}=i.NotificationServicesController.Constants,g=(0,r.isOfTypeNodeGuard)([f.METAMASK_SWAP_COMPLETED]),h=e=>(0,p.createTextItems)([e.data.token_out.symbol],m.TextVariant.bodyMd);n.components={guardFn:g,item:({notification:e,onClick:t})=>{return o.default.createElement(l.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.token_out.image,badge:{icon:d.IconName.SwapHorizontal,position:d.BadgeWrapperPosition.bottomRight}},title:(n=e,(0,p.createTextItems)([(0,c.t)("notificationItemSwapped")||"",n.data.token_in.symbol,(0,c.t)("notificationItemSwappedFor")||""],m.TextVariant.bodySm)),description:h(e),createdAt:new Date(e.createdAt),amount:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`,onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(l.NotificationDetailTitle,{title:`${(0,c.t)("notificationItemSwapped")||""} ${e.data.token_out.symbol}`,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(l.NotificationDetailAddress,{side:(0,c.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.token_in.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemSwapped")||"",detail:e.data.token_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_in.amount,e.data.token_in.decimals,e.data.token_in.usd)}`,value:`${(0,p.getAmount)(e.data.token_in.amount,e.data.token_in.decimals,{shouldEllipse:!0})} ${e.data.token_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.token_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemTo")||"",detail:e.data.token_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_out.amount,e.data.token_out.decimals,e.data.token_out.usd)}`,value:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`})},Status:({notification:e})=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,c.t)("notificationItemStatus")||"",detail:(0,c.t)("notificationItemConfirmed")||"",action:o.default.createElement(l.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,c.t)("notificationItemTransactionId")||""})}),Network:({notification:e})=>{const{nativeCurrencyName:t,nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:n},label:(0,c.t)("notificationItemNetwork")||"",detail:t})},Rate:({notification:e})=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:d.IconName.SwapHorizontal,color:m.TextColor.infoDefault,backgroundColor:m.BackgroundColor.infoMuted},label:(0,c.t)("notificationItemRate")||"",detail:`1 ${e.data.token_out.symbol} ≈ ${(1/parseFloat(e.data.rate)).toFixed(5)} ${e.data.token_in.symbol}`}),NetworkFee:({notification:e})=>o.default.createElement(l.NotificationDetailNetworkFee,{notification:e})}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(l.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/swap-completed/swap-completed.tsx"}],[7355,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationComponentType=void 0;n.NotificationComponentType=function(e){return e.AnnouncementBody="body_feature_announcement",e.AnnouncementFooter="footer_feature_announcement",e.OnChainBody="body_onchain_notification",e.OnChainFooter="footer_onchain_notification",e.SnapBody="body_snap_notification",e.SnapFooter="footer_snap_notification",e}({})}}},{package:"$root$",file:"ui/pages/notifications/notification-components/types/notifications/notifications.ts"}],[7356,{"../../../shared/constants/metametrics":5430,"../../components/component-library":6097,"../../contexts/metametrics":6608,"../../helpers/constants/design-system":6645,"../../helpers/constants/routes":6650,"../../hooks/metamask-notifications/useNotifications":6736,"../../hooks/useNotificationTimeouts":6794,"./notification-components":7347,"@metamask/utils":2799,react:4961,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListItem=function({notification:e}){const t=(0,o.useNavigate)(),n=(0,a.useContext)(r.MetaMetricsContext),{setNotificationTimeout:f}=(0,p.useSnapNotificationTimeouts)(),{markNotificationAsRead:g}=(0,d.useMarkNotificationAsRead)(),h=(0,a.useCallback)(()=>{n({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.NotificationClicked,properties:{notification_id:e.id,notification_type:e.type,..."chain_id"in e&&{chain_id:e.chain_id},previously_read:e.isRead}}),g([{id:e.id,type:e.type,isRead:e.isRead}]),e.type!==m.TRIGGER_TYPES.SNAP||(0,i.hasProperty)(e.data,"detailedView")?t(`${u.NOTIFICATIONS_ROUTE}/${e.id}`):f(e.id)},[e,g,t]);if(!(0,m.hasNotificationComponents)(e.type))return null;const y=m.NotificationComponents[e.type];return a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,width:l.BlockSize.Full,"data-testid":`notification-list-item-${e.id}`},a.default.createElement(y.item,{notification:e,onClick:h}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("@metamask/utils"),r=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),c=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),u=e("../../helpers/constants/routes"),d=e("../../hooks/metamask-notifications/useNotifications"),p=e("../../hooks/useNotificationTimeouts"),m=e("./notification-components");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-item.tsx"}],[7357,{"../../components/component-library":6097,"../../helpers/constants/design-system":6645,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsPlaceholder=function({title:e,text:t}){return o.default.createElement(i.Box,{height:r.BlockSize.Full,width:r.BlockSize.Full,display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,flexDirection:r.FlexDirection.Column,gap:2,"data-testid":"notifications-list-placeholder"},o.default.createElement(i.Icon,{name:i.IconName.Notification,size:i.IconSize.Xl}),o.default.createElement(i.Text,{variant:r.TextVariant.headingSm},e),o.default.createElement(i.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Center},t))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../components/component-library"),r=e("../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-placeholder.tsx"}],[7358,{"../../../shared/constants/metametrics":5430,"../../components/component-library":6097,"../../contexts/metametrics":6608,"../../helpers/constants/design-system":6645,"../../hooks/metamask-notifications/useNotifications":6736,"../../hooks/useI18nContext":6777,"../../hooks/useNotificationTimeouts":6794,"@metamask/notification-services-controller/notification-services":2211,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListReadAllButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/notification-services-controller/notification-services"),i=e("../../contexts/metametrics"),r=e("../../../shared/constants/metametrics"),s=e("../../hooks/useI18nContext"),c=e("../../hooks/metamask-notifications/useNotifications"),l=e("../../components/component-library"),u=e("../../helpers/constants/design-system"),d=e("../../hooks/useNotificationTimeouts");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.NotificationsListReadAllButton=({notifications:e})=>{const t=(0,s.useI18nContext)(),{markNotificationAsRead:n}=(0,c.useMarkNotificationAsRead)(),p=(0,a.useContext)(i.MetaMetricsContext),{setNotificationTimeout:m}=(0,d.useSnapNotificationTimeouts)();return a.default.createElement(l.Box,{paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,className:"notifications__list__read__all__button"},a.default.createElement(l.Button,{onClick:()=>{let t=[];e&&e.length>0&&(t=e.filter(e=>(null==e?void 0:e.id)!==undefined&&!e.isRead).map(e=>({id:e.id,type:e.type,isRead:e.isRead})),t.filter(e=>e.type===o.TRIGGER_TYPES.SNAP).forEach(e=>m(e.id))),p({category:r.MetaMetricsEventCategory.NotificationInteraction,event:r.MetaMetricsEventName.MarkAllNotificationsRead}),n(t)},variant:l.ButtonVariant.Primary,width:u.BlockSize.Full,"data-testid":"notifications-list-read-all-button"},t("notificationsMarkAllAsRead")))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-read-all-button.tsx"}],[7359,{"../../../shared/constants/metametrics":5430,"../../components/component-library":6097,"../../contexts/metamask-notifications/metamask-notifications":6606,"../../contexts/metametrics":6608,"../../helpers/constants/design-system":6645,"../../hooks/metamask-notifications/useNotifications":6736,"../../hooks/useI18nContext":6777,"../../selectors/metamask-notifications/metamask-notifications":7540,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListTurnOnNotifications=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("../../hooks/useI18nContext"),r=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),c=e("../../hooks/metamask-notifications/useNotifications"),l=e("../../selectors/metamask-notifications/metamask-notifications"),u=e("../../contexts/metamask-notifications/metamask-notifications"),d=e("../../components/component-library"),p=e("../../helpers/constants/design-system");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.NotificationsListTurnOnNotifications=()=>{const e=(0,i.useI18nContext)(),t=(0,a.useContext)(r.MetaMetricsContext),{listNotifications:n}=(0,u.useMetamaskNotificationsContext)(),{enableNotifications:m,error:f}=(0,c.useEnableNotifications)(),g=f,h=(0,o.useSelector)(l.getIsUpdatingMetamaskNotifications),[y,E]=(0,a.useState)(h||!1);(0,a.useEffect)(()=>{E(h)},[h]);const b=a.default.createElement(d.Text,{as:"a",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:p.TextColor.infoDefault},e("turnOnMetamaskNotificationsMessagePrivacyLink")),T=a.default.createElement(d.Text,{as:"span",fontWeight:p.FontWeight.Bold,key:"strong-text"},e("turnOnMetamaskNotificationsMessagePrivacyBold"));return a.default.createElement(d.Container,{maxWidth:d.ContainerMaxWidth.Sm,height:p.BlockSize.Full,margin:"auto",display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column,gap:4,"data-testid":"notifications-list-turn-on-notifications",textAlign:p.TextAlign.Center,paddingLeft:4,paddingRight:4,paddingTop:4},a.default.createElement(d.Text,{variant:p.TextVariant.headingSm},e("metamaskNotificationsAreOff")),a.default.createElement(d.Box,{as:"img",src:"./images/turn-on-metamask-notifications.png",width:p.BlockSize.Full,borderRadius:p.BorderRadius.MD}),a.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageSecond",[b])),a.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageThird",[T])),a.default.createElement(d.Box,null,a.default.createElement(d.Button,{onClick:()=>(async()=>{await m(),t({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.EnablingNotifications}),g||h||n()})(),size:d.ButtonSize.Md,disabled:y,loading:y},e("turnOnMetamaskNotificationsButton")),g&&a.default.createElement(d.Text,{as:"p",color:p.TextColor.errorDefault},e("turnOnMetamaskNotificationsError"))))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-turn-on-notifications.tsx"}],[7360,{"../../components/component-library":6097,"../../components/ui/icon/preloader/preloader-icon.component":6524,"../../helpers/constants/design-system":6645,"../../hooks/useI18nContext":6777,"../../selectors/metamask-notifications/metamask-notifications":7540,"./notifications-list-item":7356,"./notifications-list-placeholder":7357,"./notifications-list-read-all-button":7358,"./notifications-list-turn-on-notifications":7359,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsList=function(e){return a.default.createElement(i.Box,{"data-testid":"notifications-list",height:r.BlockSize.Full,width:r.BlockSize.Full,className:"notifications__list"},a.default.createElement(T,e),e.notifications.length>0&&e.notificationsCount>0?a.default.createElement(m.NotificationsListReadAllButton,{notifications:e.notifications}):null)},n.TAB_KEYS=void 0;var a=f(e("react")),o=e("react-redux"),i=e("../../components/component-library"),r=e("../../helpers/constants/design-system"),s=f(e("../../components/ui/icon/preloader/preloader-icon.component")),c=e("../../selectors/metamask-notifications/metamask-notifications"),l=e("../../hooks/useI18nContext"),u=e("./notifications-list-placeholder"),d=e("./notifications-list-turn-on-notifications"),p=e("./notifications-list-item"),m=e("./notifications-list-read-all-button");function f(e){return e&&e.__esModule?e:{default:e}}let g=n.TAB_KEYS=function(e){return e.ALL="notifications-all-tab",e.WALLET="notifications-wallet-tab",e.WEB3="notifications-other-tab",e}({});function h(){return a.default.createElement(i.Box,{height:r.BlockSize.Full,width:r.BlockSize.Full,display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,flexDirection:r.FlexDirection.Column,"data-testid":"notifications-list-loading"},a.default.createElement(s.default,{size:36}))}function y(){const e=(0,l.useI18nContext)();return a.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageEmptyTitle"),text:e("notificationsPageNoNotificationsContent")})}function E(){const e=(0,l.useI18nContext)();return a.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageErrorTitle"),text:e("notificationsPageErrorContent")})}function b(e){const{notification:t}=e;return a.default.createElement(p.NotificationsListItem,{notification:t})}function T({activeTab:e,notifications:t,isLoading:n,isError:i}){const r=(0,o.useSelector)(c.selectIsMetamaskNotificationsEnabled);return e!==g.WALLET||r?n?a.default.createElement(h,null):i?a.default.createElement(E,null):0===t.length?a.default.createElement(y,null):a.default.createElement(a.default.Fragment,null,t.map(e=>a.default.createElement(b,{key:e.id,notification:e}))):a.default.createElement(d.NotificationsListTurnOnNotifications,null)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list.tsx"}],[7361,{"../../components/component-library":6097,"../../components/multichain":6330,"../../components/multichain/pages/page":6427,"../../components/ui/tabs":6577,"../../contexts/metamask-notifications/metamask-notifications":6606,"../../helpers/constants/design-system":6645,"../../helpers/constants/routes":6650,"../../hooks/metamask-notifications/useCounter":6735,"../../hooks/useI18nContext":6777,"../../selectors":7539,"../../selectors/metamask-notifications/metamask-notifications":7540,"../../store/actions":7565,"./NewFeatureTag":7339,"./notifications-list":7360,"@metamask/notification-services-controller":2240,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useNavigate)(),t=(0,s.useI18nContext)(),n=(0,o.useDispatch)(),{isLoading:r,error:h}=(0,m.useMetamaskNotificationsContext)(),[_,v]=(0,a.useState)(b.TAB_KEYS.ALL),x=k(),{notificationsUnreadCount:S}=(0,f.useUnreadNotificationsCounter)(),w=(0,a.useMemo)(()=>C(_,x),[_,x]);let I=!1;return I=(0,o.useSelector)(g.getNotifySnaps).length>0,(0,a.useEffect)(()=>{n((0,E.deleteExpiredNotifications)())},[n]),a.default.createElement(d.NotificationsPage,null,a.default.createElement(p.Header,{startAccessory:a.default.createElement(c.ButtonIcon,{ariaLabel:"Back",iconName:c.IconName.ArrowLeft,size:c.ButtonIconSize.Md,onClick:()=>{e(u.DEFAULT_ROUTE)},"data-testid":"back-button"}),endAccessory:a.default.createElement(c.ButtonIcon,{ariaLabel:"Notifications Settings",iconName:c.IconName.Setting,size:c.ButtonIconSize.Md,iconProps:{size:c.IconSize.Lg},onClick:()=>{e(u.NOTIFICATIONS_SETTINGS_ROUTE)},"data-testid":"notifications-settings-button"}),marginBottom:0},t("notifications")),a.default.createElement(p.Content,{padding:0},I&&a.default.createElement(l.Tabs,{defaultActiveTabKey:_,onTabClick:e=>v(e),tabListProps:{className:"px-4"}},a.default.createElement(l.Tab,{"data-testid":b.TAB_KEYS.ALL,name:t("all"),tabKey:b.TAB_KEYS.ALL}),a.default.createElement(l.Tab,{"data-testid":b.TAB_KEYS.WALLET,name:a.default.createElement(c.Box,{display:y.Display.Flex,justifyContent:y.JustifyContent.center,alignItems:y.AlignItems.center,gap:2},t("wallet"),a.default.createElement(T.NewFeatureTag,null)),tabKey:b.TAB_KEYS.WALLET}),a.default.createElement(l.Tab,{"data-testid":b.TAB_KEYS.WEB3,name:t("web3"),tabKey:b.TAB_KEYS.WEB3})),a.default.createElement(b.NotificationsList,{activeTab:_,notifications:w,isLoading:r,isError:Boolean(h),notificationsCount:S})))},n.filterNotifications=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=e("@metamask/notification-services-controller"),s=e("../../hooks/useI18nContext"),c=e("../../components/component-library"),l=e("../../components/ui/tabs"),u=e("../../helpers/constants/routes"),d=e("../../components/multichain"),p=e("../../components/multichain/pages/page"),m=e("../../contexts/metamask-notifications/metamask-notifications"),f=e("../../hooks/metamask-notifications/useCounter"),g=e("../../selectors"),h=e("../../selectors/metamask-notifications/metamask-notifications"),y=e("../../helpers/constants/design-system"),E=e("../../store/actions"),b=e("./notifications-list"),T=e("./NewFeatureTag");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const{TRIGGER_TYPES:v,TRIGGER_TYPES_WALLET_SET:x}=r.NotificationServicesController.Constants,k=()=>{const{featureAnnouncementNotifications:e,walletNotifications:t,snapNotifications:n}=(()=>{const e=(0,o.useSelector)(h.selectIsFeatureAnnouncementsEnabled),t=(0,o.useSelector)(h.selectIsMetamaskNotificationsEnabled),n=(0,o.useSelector)(h.getMetamaskNotifications);return{featureAnnouncementNotifications:(0,a.useMemo)(()=>e?(n??[]).filter(e=>e.type===v.FEATURES_ANNOUNCEMENT):[],[e,n]),walletNotifications:(0,a.useMemo)(()=>t?(n??[]).filter(e=>e.type!==v.FEATURES_ANNOUNCEMENT&&e.type!==v.SNAP):[],[t,n]),snapNotifications:(0,a.useMemo)(()=>(n??[]).filter(e=>e.type===v.SNAP),[n])}})();return(0,a.useMemo)(()=>[...n,...e,...t].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),[n,e,t])},C=(e,t)=>e===b.TAB_KEYS.ALL?t:e===b.TAB_KEYS.WALLET?t.filter(e=>x.has(e.type)||e.type===v.FEATURES_ANNOUNCEMENT):e===b.TAB_KEYS.WEB3?t.filter(e=>e.type===v.SNAP):t;n.filterNotifications=C}}},{package:"$root$",file:"ui/pages/notifications/notifications.tsx"}],[7362,{"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/onboarding":5436,"../../../../shared/lib/trace":5517,"../../../components/component-library":6097,"../../../components/component-library/button":6078,"../../../contexts/metametrics":6608,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useNavigate)(),t=(0,i.useDispatch)(),n=(0,l.useI18nContext)(),y=(0,i.useSelector)(d.getFirstTimeFlowType),E=(0,i.useSelector)(d.getSocialLoginEmail),b=(0,i.useSelector)(d.getSocialLoginType),T=(0,a.useContext)(f.MetaMetricsContext),{bufferedTrace:_,bufferedEndTrace:v,onboardingParentContext:x}=T;return(0,a.useEffect)(()=>(y!==p.FirstTimeFlowType.socialCreate&&e(u.ONBOARDING_WELCOME_ROUTE,{replace:!0}),y===p.FirstTimeFlowType.socialCreate&&(T({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.AccountAlreadyExistsPageViewed}),null==_||_({name:h.TraceName.OnboardingNewSocialAccountExists,op:h.TraceOperation.OnboardingUserJourney,parentContext:null==x?void 0:x.current})),()=>{y===p.FirstTimeFlowType.socialCreate&&(null==v||v({name:h.TraceName.OnboardingNewSocialAccountExists}))}),[y,e,x,_,v,T]),a.default.createElement(c.Box,{className:"account-exist","data-testid":"account-exist",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6},a.default.createElement(c.Box,null,a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},a.default.createElement(c.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountAlreadyExistsTitle")),a.default.createElement(c.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},a.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountAlreadyExistsTitle"),style:{alignSelf:"center"}})),a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountAlreadyExistsLoginDescription",[E||"-"])))),a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},a.default.createElement(r.Button,{"data-testid":"onboarding-complete-done",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{T({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${g.MetaMetricsEventAccountType.Imported}_${b}`}}),null==_||_({name:h.TraceName.OnboardingExistingSocialLogin,op:h.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==x?void 0:x.current}),await t((0,m.setFirstTimeFlowType)(p.FirstTimeFlowType.socialImport)),e(u.ONBOARDING_UNLOCK_ROUTE,{replace:!0})}},n("accountAlreadyExistsLogin")),a.default.createElement(r.Button,{"data-testid":"account-exist-login-with-different-method",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async n=>{n.preventDefault(),await t((0,m.resetOnboarding)()),await(0,m.forceUpdateMetamaskState)(t),e(u.ONBOARDING_WELCOME_ROUTE,{replace:!0})}},n("useDifferentLoginMethod"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),m=e("../../../store/actions"),f=e("../../../contexts/metametrics"),g=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/lib/trace");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-exist/account-exist.tsx"}],[7363,{"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/onboarding":5436,"../../../../shared/lib/trace":5517,"../../../components/component-library":6097,"../../../components/component-library/button":6078,"../../../contexts/metametrics":6608,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useNavigate)(),t=(0,i.useDispatch)(),n=(0,l.useI18nContext)(),y=(0,i.useSelector)(d.getFirstTimeFlowType),E=(0,i.useSelector)(d.getSocialLoginEmail),b=(0,i.useSelector)(d.getSocialLoginType),T=(0,a.useContext)(h.MetaMetricsContext),{bufferedTrace:_,bufferedEndTrace:v,onboardingParentContext:x}=T;return(0,a.useEffect)(()=>(y!==p.FirstTimeFlowType.socialImport&&e(u.ONBOARDING_WELCOME_ROUTE,{replace:!0}),y===p.FirstTimeFlowType.socialImport&&(T({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.AccountNotFoundPageViewed}),null==_||_({name:g.TraceName.OnboardingExistingSocialAccountNotFound,op:g.TraceOperation.OnboardingUserJourney,parentContext:null==x?void 0:x.current})),()=>{y===p.FirstTimeFlowType.socialImport&&(null==v||v({name:g.TraceName.OnboardingExistingSocialAccountNotFound}))}),[y,e,x,_,v,T]),a.default.createElement(c.Box,{className:"account-not-found","data-testid":"account-not-found",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,gap:6,height:s.BlockSize.Full},a.default.createElement(c.Box,null,a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},a.default.createElement(c.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountNotFoundTitle")),a.default.createElement(c.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},a.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountNotFoundTitle"),style:{alignSelf:"center"}})),a.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountNotFoundDescription",[E||"-"])))),a.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},a.default.createElement(r.Button,{"data-testid":"onboarding-complete-done",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:()=>{T({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${f.MetaMetricsEventAccountType.Default}_${b}`}}),null==_||_({name:g.TraceName.OnboardingNewSocialCreateWallet,op:g.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==x?void 0:x.current}),t((0,m.setFirstTimeFlowType)(p.FirstTimeFlowType.socialCreate)),e(u.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})}},n("accountNotFoundCreateOne")),a.default.createElement(r.Button,{"data-testid":"account-exist-login-with-different-method",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{await t((0,m.resetOnboarding)()),await(0,m.forceUpdateMetamaskState)(t),e(u.ONBOARDING_WELCOME_ROUTE,{replace:!0})}},n("useDifferentLoginMethod"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),m=e("../../../store/actions"),f=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/lib/trace"),h=e("../../../contexts/metametrics");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-not-found/account-not-found.tsx"}],[7364,{"../../../../shared/constants/app":5415,"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/onboarding":5436,"../../../../shared/lib/trace":5517,"../../../../shared/modules/browser-runtime.utils":5526,"../../../components/app/password-form/password-form":5806,"../../../components/component-library":6097,"../../../contexts/metametrics":6608,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../helpers/constants/zendesk-url":6657,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,buffer:3760,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=_(e("prop-types")),i=e("react-router-dom-v5-compat"),r=e("react-redux"),s=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),u=_(e("../../../helpers/constants/zendesk-url")),d=e("../../../selectors"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),f=e("../../../components/component-library"),g=e("../../../../shared/constants/onboarding"),h=_(e("../../../components/app/password-form/password-form")),y=e("../../../../shared/constants/app"),E=e("../../../../shared/modules/browser-runtime.utils"),b=e("../../../store/actions"),T=e("../../../../shared/lib/trace");function _(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const x=(0,E.getBrowserName)()===y.PLATFORM_FIREFOX;function k({createNewAccount:e,importWithRecoveryPhrase:n,secretRecoveryPhrase:o}){const y=(0,s.useI18nContext)(),[E,_]=(0,a.useState)(""),[v,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),w=(0,i.useNavigate)(),I=(0,r.useDispatch)(),N=(0,r.useSelector)(d.getFirstTimeFlowType),O=(0,a.useContext)(p.MetaMetricsContext),{bufferedTrace:A,bufferedEndTrace:M,onboardingParentContext:R}=O,B=(0,r.useSelector)(d.getCurrentKeyring),D=(0,r.useSelector)(d.getIsSocialLoginFlow),P=(0,r.useSelector)(d.getSocialLoginType),F=(0,r.useSelector)(d.getParticipateInMetaMetrics),L=(0,r.useSelector)(d.getIsParticipateInMetaMetricsSet),j=(0,r.useSelector)(d.getMetaMetricsId),U=t.from(j??"").toString("base64"),W=Boolean(F&&U),z=`https://start.metamask.io/?${new URLSearchParams({mmi:U,env:"production"})}`;(0,a.useEffect)(()=>{B&&!C?N===g.FirstTimeFlowType.import||N===g.FirstTimeFlowType.socialImport?x||N!==g.FirstTimeFlowType.socialImport?w(L?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS,{replace:!0}):w(l.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):N===g.FirstTimeFlowType.socialCreate?w(l.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):w(l.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0}):N!==g.FirstTimeFlowType.import||o||w(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,{replace:!0})},[B,w,N,C,o,L]);const $=(e,t=!1)=>{if(t&&P){return`${e}_${String(P).toLowerCase()}`}return e};(0,a.useEffect)(()=>(null==A||A({name:T.TraceName.OnboardingPasswordSetupAttempt,op:T.TraceOperation.OnboardingUserJourney,parentContext:null==R?void 0:R.current}),()=>{null==M||M({name:T.TraceName.OnboardingPasswordSetupAttempt})}),[R,A,M]);const V=a.default.createElement("a",{onClick:e=>{e.stopPropagation(),O({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"create_password",url:u.default.PASSWORD_ARTICLE}})},key:"create-password__link-text",href:u.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},a.default.createElement("span",{className:"create-password__link-text"},y("learnMoreUpperCaseWithDot"))),G=y(D?"createPasswordMarketing":"passwordTermsWarning");return a.default.createElement(f.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,width:c.BlockSize.Full,gap:4,as:"form",className:"create-password","data-testid":"create-password",onSubmit:async t=>{if(null==t||t.preventDefault(),E)try{o&&N===g.FirstTimeFlowType.import?await(async()=>{O({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportAttempted}),await n(E,o),null==M||M({name:T.TraceName.OnboardingExistingSrpImport}),null==M||M({name:T.TraceName.OnboardingJourneyOverall}),O({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImported,properties:{biometrics_enabled:!1}}),O({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"import",new_wallet:!1,account_type:$(m.MetaMetricsEventAccountType.Imported,D)}}),w(x||D?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS,{replace:!0})})():await(async()=>{O({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletCreationAttempted,properties:{account_type:$(m.MetaMetricsEventAccountType.Default,D)}}),e&&(S(!0),await e(E)),D&&(null==M||M({name:T.TraceName.OnboardingNewSocialCreateWallet}),null==M||M({name:T.TraceName.OnboardingJourneyOverall})),O({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletCreated,properties:{biometrics_enabled:!1,account_type:$(m.MetaMetricsEventAccountType.Default,D)}}),O({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"new",new_wallet:!0,account_type:$(m.MetaMetricsEventAccountType.Default,D)}}),D?(v&&(I((0,b.setMarketingConsent)(!0)),I((0,b.setDataCollectionForMarketing)(!0))),w(l.ONBOARDING_DOWNLOAD_APP_ROUTE,{replace:!0})):w(l.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0})})()}catch(e){(e=>{const t=e instanceof Error?e.message:"Unknown error";null==A||A({name:T.TraceName.OnboardingPasswordSetupError,op:T.TraceOperation.OnboardingUserJourney,parentContext:R.current,tags:{errorMessage:t}}),null==M||M({name:T.TraceName.OnboardingPasswordSetupError}),console.error(e)})(e),O({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupFailure})}}},a.default.createElement(f.Box,null,a.default.createElement(f.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},a.default.createElement(f.ButtonIcon,{iconName:f.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:f.ButtonIconSize.Md,"data-testid":"create-password-back-button",type:"button",onClick:async e=>{e.preventDefault(),N===g.FirstTimeFlowType.import?w(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,{replace:!0}):(await I((0,b.resetOnboarding)()),await(0,b.forceUpdateMetamaskState)(I),w(l.ONBOARDING_WELCOME_ROUTE,{replace:!0}))},ariaLabel:y("back")})),a.default.createElement(f.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},a.default.createElement(f.Text,{variant:c.TextVariant.headingLg,as:"h2"},y("createPassword")),D?a.default.createElement(f.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,as:"h2"},y("createPasswordDetailsSocial"),a.default.createElement(f.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.warningDefault,as:"span"},y("createPasswordDetailsSocialReset"))):a.default.createElement(f.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,as:"h2"},y("createPasswordDetails"))),a.default.createElement(h.default,{onChange:e=>_(e)}),a.default.createElement(f.Box,{className:"create-password__terms-container",alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.spaceBetween,marginTop:6,backgroundColor:c.BackgroundColor.backgroundMuted,padding:3,borderRadius:c.BorderRadius.LG},a.default.createElement(f.Checkbox,{inputProps:{"data-testid":"create-password-terms"},alignItems:c.AlignItems.flexStart,isChecked:v,onChange:()=>{k(!v)},label:a.default.createElement(f.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textDefault},G,!D&&a.default.createElement(a.default.Fragment,null,a.default.createElement("br",null),V))}))),a.default.createElement(f.Box,null,a.default.createElement(f.Button,{"data-testid":"create-password-submit",variant:f.ButtonVariant.Primary,width:c.BlockSize.Full,size:f.ButtonSize.Lg,className:"create-password__form--submit-button",disabled:!E||!D&&!v},y("createPasswordCreate"))),W?a.default.createElement("iframe",{src:z,className:"create-password__analytics-iframe","data-testid":"create-password-iframe"}):null)}k.propTypes={createNewAccount:o.default.func,importWithRecoveryPhrase:o.default.func,secretRecoveryPhrase:o.default.string}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/pages/onboarding-flow/create-password/create-password.js"}],[7365,{"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/onboarding":5436,"../../../components/component-library":6097,"../../../components/component-library/button":6078,"../../../components/component-library/lottie-animation":6103,"../../../contexts/metametrics":6608,"../../../ducks/metamask/metamask":6632,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,lodash:4534,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useNavigate)(),t=(0,i.useDispatch)(),n=(0,u.useI18nContext)(),{search:b}=(0,o.useLocation)(),T=(0,i.useSelector)(h.getIsPrimarySeedPhraseBackedUp),_=(0,i.useSelector)(p.getSocialLoginType),v=(0,i.useSelector)(p.getExternalServicesOnboardingToggleState),x=(0,a.useContext)(m.MetaMetricsContext),k=(0,i.useSelector)(p.getFirstTimeFlowType),C=new URLSearchParams(b),S=C.get("isFromReminder"),w=C.get("isFromSettingsSecurity"),I=(0,a.useMemo)(()=>n(T?S?"yourWalletIsReadyFromReminder":"yourWalletIsReady":"yourWalletIsReadyRemind"),[S,T,n]),N=(0,a.useMemo)(()=>_?n("walletReadySocialDetails1",[(0,r.capitalize)(_)]):n(T?S?"walletReadyLoseSrpFromReminder":"walletReadyLoseSrp":"walletReadyLoseSrpRemind"),[_,T,n,S]),O=(0,a.useMemo)(()=>_?n("walletReadySocialDetails2"):T||S?n("walletReadyLearn",[a.default.createElement(l.ButtonLink,{key:"walletReadyLearn",size:l.ButtonLinkSize.Inherit,textProps:{variant:c.TextVariant.bodyMd,alignItems:c.AlignItems.flexStart},as:"a",href:"https://support.metamask.io/stay-safe/safety-in-web3/basic-safety-and-security-tips-for-metamask/",target:"_blank",rel:"noopener noreferrer"},n("learnHow"))]):n("walletReadyLearnRemind"),[_,T,S,n]),A=(0,a.useMemo)(()=>a.default.createElement(E.LottieAnimation,{path:"images/animations/fox/celebrating.lottie.json",loop:!0,autoplay:!0}),[T,S]),M=(0,a.useCallback)(async()=>{T&&x({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.ExtensionPinned,properties:{wallet_setup_type:k===g.FirstTimeFlowType.import?"import":"new",new_wallet:k===g.FirstTimeFlowType.create}}),S?e(w?d.SECURITY_ROUTE:d.DEFAULT_ROUTE):(await t((0,y.toggleExternalServices)(v)),await t((0,y.setCompletedOnboarding)()),e(d.DEFAULT_ROUTE))},[T,S,t,v,e,x,k,w]);return a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:6,className:"creation-successful","data-testid":"wallet-ready"},a.default.createElement(l.Box,null,a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.flexStart},a.default.createElement(l.Text,{variant:c.TextVariant.headingLg,as:"h2",justifyContent:c.JustifyContent.center,style:{alignSelf:c.AlignItems.flexStart},marginBottom:4},I),a.default.createElement(l.Box,{width:c.BlockSize.Full,display:c.Display.Flex,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,marginBottom:6},a.default.createElement(l.Box,{display:c.Display.Flex,style:{width:"144px",height:"144px"}},A)),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,marginBottom:6},N),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,marginBottom:6},O)),!S&&a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexStart,className:"creation-successful__settings-actions",gap:4},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,"data-testid":"manage-default-settings",borderRadius:c.BorderRadius.LG,width:c.BlockSize.Full,onClick:()=>e(d.ONBOARDING_PRIVACY_SETTINGS_ROUTE)},a.default.createElement(l.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center},a.default.createElement(l.Icon,{name:l.IconName.Setting,size:l.IconSize.Md,marginInlineEnd:3}),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},n("manageDefaultSettings"))),a.default.createElement(l.Icon,{name:l.IconName.ArrowRight,color:c.IconColor.iconAlternative,size:l.IconSize.Sm})))),a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},a.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:c.BlockSize.Full,onClick:M},n("done"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=e("lodash"),s=e("../../../components/component-library/button"),c=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/constants/onboarding"),h=e("../../../ducks/metamask/metamask"),y=e("../../../store/actions"),E=e("../../../components/component-library/lottie-animation");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/creation-successful/creation-successful.js"}],[7366,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useI18nContext)(),t=(0,o.useNavigate)(),n=(0,i.useSelector)(u.getCurrentKeyring);return(0,a.useEffect)(()=>{n||t(c.ONBOARDING_WELCOME_ROUTE,{replace:!0})},[n,t]),a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,height:s.BlockSize.Full,gap:6,className:"onboarding-download-app","data-testid":"onboarding-download-app"},a.default.createElement(l.Box,null,a.default.createElement(l.Text,{variant:s.TextVariant.headingLg,marginBottom:4},e("downloadAppTitle")),a.default.createElement(l.Box,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,justifyContent:s.JustifyContent.center,marginBottom:4},a.default.createElement("img",{src:"/images/onboarding-download-app.png",alt:"Download the app"})),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,color:s.TextColor.textAlternative},e("downloadAppDescription"))),a.default.createElement(l.Box,null,a.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,"data-testid":"download-app-continue",onClick:async()=>{t(c.ONBOARDING_COMPLETION_ROUTE,{replace:!0})}},e("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),l=e("../../../components/component-library"),u=e("../../../selectors");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/download-app/download-app.tsx"}],[7367,{"../../../../shared/constants/metametrics":5430,"../../../components/app/srp-details-modal":5970,"../../../components/app/srp-input-import":5972,"../../../components/component-library":6097,"../../../contexts/metametrics":6608,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../selectors/selectors":7555,"../../../store/actions":7565,"@ethersproject/hdnode":665,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=b(e("prop-types")),s=e("@ethersproject/hdnode"),c=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),u=e("../../../hooks/useI18nContext"),d=b(e("../../../components/app/srp-input-import")),p=e("../../../selectors"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),g=e("../../../selectors/selectors"),h=e("../../../components/component-library"),y=b(e("../../../components/app/srp-details-modal")),E=e("../../../store/actions");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const _=e=>e!==e.toLowerCase();function v({submitSecretRecoveryPhrase:e}){const t=(0,i.useDispatch)(),[n,r]=(0,a.useState)(""),[b,T]=(0,a.useState)(!1),[v,x]=(0,a.useState)(""),k=(0,o.useNavigate)(),C=(0,i.useSelector)(g.getHDEntropyIndex),S=(0,u.useI18nContext)(),w=(0,i.useSelector)(p.getCurrentKeyring);(0,a.useEffect)(()=>{w&&k(l.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})},[w,k]);const I=(0,a.useContext)(m.MetaMetricsContext),N=(0,a.useCallback)(()=>{I({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),T(!0)},[I]),O=(0,a.useCallback)(()=>{let t="";!_(n)&&(0,s.isValidMnemonic)(n)||(t=S("invalidSeedPhraseNotFound")),x(t),t||(e(n),I({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:C}}),k(l.ONBOARDING_CREATE_PASSWORD_ROUTE))},[n,S,C,I,k,e]);return(0,a.useEffect)(()=>{x("")},[n]),a.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:4,className:"import-srp","data-testid":"import-srp"},b&&a.default.createElement(y.default,{onClose:()=>T(!1)}),a.default.createElement(h.Box,null,a.default.createElement(h.Box,{marginBottom:4},a.default.createElement(h.ButtonIcon,{iconName:h.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:h.ButtonIconSize.Md,"data-testid":"import-srp-back-button",onClick:async e=>{e.preventDefault(),await t((0,E.resetOnboarding)()),await(0,E.forceUpdateMetamaskState)(t),k(l.ONBOARDING_WELCOME_ROUTE,{replace:!0})},ariaLabel:S("back")})),a.default.createElement(h.Box,{textAlign:c.TextAlign.Left,marginBottom:2},a.default.createElement(h.Text,{variant:c.TextVariant.headingLg},S("importAWallet"))),a.default.createElement(h.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,marginBottom:4},a.default.createElement(h.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative},S("typeYourSRP")),a.default.createElement(h.ButtonIcon,{iconName:h.IconName.Info,size:h.ButtonIconSize.Sm,color:c.IconColor.iconAlternative,onClick:N,ariaLabel:"info"})),a.default.createElement(h.Box,{width:c.BlockSize.Full},a.default.createElement("form",{onSubmit:e=>e.preventDefault()},a.default.createElement(d.default,{onChange:r}),v&&a.default.createElement(h.Box,{marginTop:2},a.default.createElement(h.Text,{"data-testid":"import-srp-error",variant:c.TextVariant.bodySm,color:c.TextColor.errorDefault},v))))),a.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,textAlign:c.TextAlign.Left},a.default.createElement(h.Button,{width:c.BlockSize.Full,size:h.ButtonSize.Lg,type:"primary","data-testid":"import-srp-confirm",onClick:O,disabled:!n.trim()||Boolean(v)},S("continue"))))}v.propTypes={submitSecretRecoveryPhrase:r.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/import-srp/import-srp.js"}],[7368,{"../../../../shared/constants/app":5415,"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/onboarding":5436,"../../../../shared/modules/browser-runtime.utils":5526,"../../../components/component-library":6097,"../../../contexts/metametrics":6608,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,l.useI18nContext)(),t=(0,i.useDispatch)(),n=(0,r.useNavigate)(),a=(0,i.useSelector)(d.getFirstTimeFlowType),m=(0,i.useSelector)(d.getIsParticipateInMetaMetricsSet),E=(0,i.useSelector)(d.getParticipateInMetaMetrics),T=(0,i.useSelector)(d.getDataCollectionForMarketing),[_,v]=(0,o.useState)(!0),[x,k]=(0,o.useState)(!1),C=(0,o.useRef)(null),S=(0,o.useRef)(null);(0,o.useEffect)(()=>{m&&v(E),T&&k(T)},[m,E,T]);const w=(0,i.useSelector)(d.getCurrentKeyring),I=(0,o.useContext)(g.MetaMetricsContext);let N=(0,i.useSelector)(d.getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn);b&&a!==y.FirstTimeFlowType.restore&&(N=w&&a===y.FirstTimeFlowType.socialCreate?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_WELCOME_ROUTE);return o.default.createElement(h.Box,{className:"onboarding-metametrics","data-testid":"onboarding-metametrics",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4},o.default.createElement(h.Text,{variant:c.TextVariant.headingLg,textAlign:c.TextAlign.Left,fontWeight:c.FontWeight.Bold,marginBottom:4},e("onboardingMetametricsTitle")),o.default.createElement(h.Box,{width:c.BlockSize.Full,display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,className:"onboarding-metametrics__user-control"},o.default.createElement("img",{src:"images/user-control.png",alt:"User control",height:200,width:200})),o.default.createElement(h.Text,{variant:c.TextVariant.bodySmMedium,color:c.TextColor.textAlternative,textAlign:c.TextAlign.Left},e("onboardingMetametricsDescription")),o.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2,padding:3,borderRadius:c.BorderRadius.LG,backgroundColor:c.BackgroundColor.backgroundMuted,className:"onboarding-metametrics__checkbox",role:"button",tabIndex:0,onClick:()=>{var e;null===(e=C.current)||void 0===e||e.click()},onKeyDown:e=>{var t;" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),null===(t=C.current)||void 0===t||t.click())}},o.default.createElement(h.Checkbox,{id:"metametrics-opt-in","data-testid":"metametrics-checkbox",isChecked:_,onChange:()=>{v(e=>!e),_&&k(!1)},inputRef:C,onClick:e=>e.stopPropagation(),inputProps:{onClick:e=>e.stopPropagation()},label:o.default.createElement(h.Text,{variant:c.TextVariant.bodyMdMedium},e("onboardingMetametricCheckboxTitleOne")),alignItems:c.AlignItems.center}),o.default.createElement(h.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,textAlign:c.TextAlign.Left},e("onboardingMetametricCheckboxDescriptionOne"))),o.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2,padding:3,borderRadius:c.BorderRadius.LG,backgroundColor:c.BackgroundColor.backgroundMuted,className:""+(_?"onboarding-metametrics__checkbox":"onboarding-metametrics__checkbox-disabled"),disabled:!_,role:_?"button":undefined,tabIndex:_?0:undefined,onClick:_?()=>{var e;null===(e=S.current)||void 0===e||e.click()}:undefined,onKeyDown:_&&(e=>{var t;" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),null===(t=S.current)||void 0===t||t.click())})},o.default.createElement(h.Checkbox,{id:"metametrics-datacollection-opt-in","data-testid":"metametrics-data-collection-checkbox",isChecked:_&&x,isDisabled:!_,onChange:()=>{k(e=>!e)},inputRef:S,onClick:e=>e.stopPropagation(),inputProps:{onClick:e=>e.stopPropagation()},label:o.default.createElement(h.Text,{variant:c.TextVariant.bodyMdMedium},e("onboardingMetametricCheckboxTitleTwo")),alignItems:c.AlignItems.center}),o.default.createElement(h.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,textAlign:c.TextAlign.Left},e("onboardingMetametricCheckboxDescriptionTwo"))),o.default.createElement(h.Box,{width:c.BlockSize.Full},o.default.createElement(h.Button,{"data-testid":"metametrics-i-agree",size:h.ButtonSize.Lg,width:c.BlockSize.Full,onClick:async e=>{e.preventDefault();try{_?(t((0,u.setDataCollectionForMarketing)(x)),t((0,u.setParticipateInMetaMetrics)(!0)),await I({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AppInstalled}),await I({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(x),location:"onboarding_metametrics"}})):(t((0,u.setParticipateInMetaMetrics)(!1)),t((0,u.setDataCollectionForMarketing)(!1)))}catch(e){s.default.error("onConfirm::error",e)}finally{n(N)}}},e("onboardingMetametricsContinue"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),r=e("react-router-dom-v5-compat"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../selectors"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/constants/app"),f=e("../../../helpers/constants/routes"),g=e("../../../contexts/metametrics"),h=e("../../../components/component-library"),y=e("../../../../shared/constants/onboarding");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const b=(0,e("../../../../shared/modules/browser-runtime.utils").getBrowserName)()===m.PLATFORM_FIREFOX}}},{package:"$root$",file:"ui/pages/onboarding-flow/metametrics/metametrics.js"}],[7369,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/preferences":5438,"../../../components/component-library":6097,"../../../components/ui/dropdown":6504,"../../../components/ui/metafox-logo":6546,"../../../ducks/locale/locale":6631,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../store/actions":7565,classnames:3793,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=E(e("react")),o=E(e("prop-types")),i=e("react-redux"),r=e("react-router-dom-v5-compat"),s=E(e("classnames")),c=E(e("../../../components/ui/metafox-logo")),l=e("../../../hooks/useI18nContext"),u=E(e("../../../components/ui/dropdown")),d=e("../../../ducks/locale/locale"),p=e("../../../store/actions"),m=E(e("../../../../app/_locales/index.json")),f=e("../../../components/component-library"),g=e("../../../helpers/constants/design-system"),h=e("../../../helpers/constants/routes"),y=e("../../../../shared/constants/preferences");function E(e){return e&&e.__esModule?e:{default:e}}function b({isWelcomePage:e}){const t=(0,i.useDispatch)(),{pathname:n}=(0,r.useLocation)(),o=(0,l.useI18nContext)(),E=(0,i.useSelector)(d.getCurrentLocale),b=m.default.map(e=>({name:e.name,value:e.code}));return a.default.createElement(f.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,backgroundColor:g.BackgroundColor.backgroundDefault,width:g.BlockSize.Full,padding:4,className:(0,s.default)("onboarding-app-header",{"onboarding-app-header--welcome":e})},a.default.createElement(f.Box,{display:g.Display.Flex,width:g.BlockSize.Full,justifyContent:g.JustifyContent.spaceBetween,className:"onboarding-app-header__contents"},a.default.createElement(c.default,{theme:n===h.ONBOARDING_WELCOME_ROUTE?y.ThemeType.light:undefined,unsetIconHeight:!0,isOnboarding:!0}),n===h.ONBOARDING_COMPLETION_ROUTE?a.default.createElement(f.Box,{paddingTop:12,className:"onboarding-app-header__banner-tip-container"},a.default.createElement(f.BannerTip,{borderColor:g.BorderColor.borderMuted,backgroundColor:g.BackgroundColor.backgroundMuted,title:o("pinMetaMask"),gap:4,titleProps:{color:g.TextColor.textDefault,variant:g.TextVariant.bodyMd,paddingRight:2},className:"onboarding-app-header__banner-tip",padding:3,alignItems:g.AlignItems.center},a.default.createElement(f.Text,{variant:g.TextVariant.bodySm,alignItems:g.AlignItems.center,color:g.TextColor.textAlternative},o("pinMetaMaskDescription",[a.default.createElement(f.Icon,{name:f.IconName.Extension,key:"extension",color:g.TextColor.textDefault,size:f.IconSize.Md,className:"onboarding-app-header__banner-tip-icon"}),a.default.createElement(f.Icon,{name:f.IconName.Keep,key:"keep",color:g.TextColor.textDefault,size:f.IconSize.Md,className:"onboarding-app-header__banner-tip-icon"})])))):a.default.createElement(u.default,{"data-testid":"select-locale",className:(0,s.default)("onboarding-app-header__dropdown",{"onboarding-app-header__dropdown--welcome--login":e}),options:b,selectedOption:E,onChange:async e=>t((0,p.updateCurrentLocale)(e))})))}b.propTypes={isWelcomePage:o.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-app-header/onboarding-app-header.js"}],[7370,{"../../../../shared/constants/app":5415,"../../../../shared/constants/onboarding":5436,"../../../../shared/modules/browser-runtime.utils":5526,"../../../ducks/metamask/metamask":6632,"../../../helpers/constants/routes":6650,"../../../selectors":7539,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useSelector)(c.getCompletedOnboarding),t=(0,i.useSelector)(c.getIsInitialized),n=(0,i.useSelector)(d.getIsSocialLoginUserAuthenticated),a=(0,i.useSelector)(c.getSeedPhraseBackedUp),m=(0,i.useSelector)(d.getFirstTimeFlowType),f=(0,i.useSelector)(d.getIsSocialLoginFlow),g=(0,i.useSelector)(c.getIsUnlocked),h=(0,i.useSelector)(d.getIsParticipateInMetaMetricsSet);if(e)return o.default.createElement(r.Navigate,{to:s.DEFAULT_ROUTE,replace:!0});if(null!==a||g&&f)return o.default.createElement(r.Navigate,{to:h?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS,replace:!0});if(g)return o.default.createElement(r.Navigate,{to:s.LOCK_ROUTE,replace:!0});if(!t&&!n){let e;return e=(0,u.getBrowserName)()===l.PLATFORM_FIREFOX?o.default.createElement(r.Navigate,{to:s.ONBOARDING_METAMETRICS,replace:!0}):o.default.createElement(r.Navigate,{to:s.ONBOARDING_WELCOME_ROUTE,replace:!0}),e}if(!t&&n&&m===p.FirstTimeFlowType.socialCreate)return o.default.createElement(r.Navigate,{to:s.ONBOARDING_CREATE_PASSWORD_ROUTE,replace:!0});return o.default.createElement(r.Navigate,{to:s.ONBOARDING_UNLOCK_ROUTE,replace:!0})};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),r=e("react-router-dom-v5-compat"),s=e("../../../helpers/constants/routes"),c=e("../../../ducks/metamask/metamask"),l=e("../../../../shared/constants/app"),u=e("../../../../shared/modules/browser-runtime.utils"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding")}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow-switch/onboarding-flow-switch.js"}],[7371,{"../../../app/scripts/lib/util":290,"../../../shared/constants/app":5415,"../../../shared/constants/onboarding":5436,"../../../shared/lib/trace":5517,"../../../shared/modules/environment":5530,"../../components/app/toast-master/utils":5990,"../../components/component-library":6097,"../../components/ui/loading-screen":6534,"../../contexts/metametrics":6608,"../../ducks/metamask/metamask":6632,"../../helpers/constants/design-system":6645,"../../helpers/constants/routes":6650,"../../selectors":7539,"../../store/actions":7565,"../unlock-page":7522,"./account-exist/account-exist":7362,"./account-not-found/account-not-found":7363,"./create-password/create-password":7364,"./creation-successful/creation-successful":7365,"./download-app/download-app":7366,"./import-srp/import-srp":7367,"./metametrics/metametrics":7368,"./onboarding-app-header/onboarding-app-header":7369,"./onboarding-flow-switch/onboarding-flow-switch":7370,"./pin-extension/pin-extension":7372,"./privacy-settings/privacy-settings":7373,"./recovery-phrase/confirm-recovery-phrase":7375,"./recovery-phrase/reveal-recovery-phrase":7378,"./recovery-phrase/review-recovery-phrase":7379,"./welcome/welcome":7384,classnames:3793,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const[e,t]=(0,a.useState)(""),[n,F]=(0,a.useState)(!1),L=(0,i.useDispatch)(),{pathname:j,search:U}=(0,o.useLocation)(),W=(0,o.useNavigate)(),z=(0,i.useSelector)(l.getCompletedOnboarding),$=(0,i.useSelector)(d.getFirstTimeFlowTypeRouteAfterUnlock),V=new URLSearchParams(U).get("isFromReminder"),G=new URLSearchParams(U).get("isFromSettingsSecurity"),q=(0,a.useContext)(p.MetaMetricsContext),{bufferedTrace:J,onboardingParentContext:K}=q,H=(0,i.useSelector)(l.getIsUnlocked),Y=(0,i.useSelector)(d.getFirstTimeFlowType),X=(0,b.getIsSeedlessOnboardingFeatureEnabled)(),Q=(0,i.useSelector)(l.getIsPrimarySeedPhraseBackedUp),Z=(0,h.getEnvironmentType)()===y.ENVIRONMENT_TYPE_POPUP,ee=(0,a.useMemo)(()=>j===c.ONBOARDING_WELCOME_ROUTE,[j]);(0,a.useEffect)(()=>{(0,m.submitRequestToBackgroundAndCatch)("setOnboardingDate")},[]),(0,a.useEffect)(()=>{z&&!V&&W(c.DEFAULT_ROUTE)},[W,z,V]),(0,a.useEffect)(()=>{const t=[c.ONBOARDING_REVIEW_SRP_ROUTE,c.ONBOARDING_CONFIRM_SRP_ROUTE].some(e=>null==j?void 0:j.startsWith(e));!H||z||e||t&&W(c.ONBOARDING_UNLOCK_ROUTE),Q&&t&&z&&W(G?c.SECURITY_ROUTE:c.DEFAULT_ROUTE,{replace:!0})},[H,z,e,j,W,Q,G]),(0,a.useEffect)(()=>{const e=null==J?void 0:J({name:T.TraceName.OnboardingJourneyOverall,op:T.TraceOperation.OnboardingUserJourney});K&&(K.current=e)},[K,J]);let te=j===c.ONBOARDING_WELCOME_ROUTE||j===c.ONBOARDING_UNLOCK_ROUTE;return a.default.createElement(f.Box,{backgroundColor:g.BackgroundColor.backgroundDefault,width:g.BlockSize.Full,height:g.BlockSize.Full,display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:j===c.ONBOARDING_WELCOME_ROUTE?g.AlignItems.flexStart:g.AlignItems.center,justifyContent:g.JustifyContent.flexStart,className:(0,r.default)("onboarding-flow",{"onboarding-flow--welcome-login":ee})},!Z&&a.default.createElement(M.default,{isWelcomePage:ee}),a.default.createElement(f.Box,{className:(0,r.default)("onboarding-flow__container",{"onboarding-flow__container--full":te,"onboarding-flow__container--popup":Z}),width:g.BlockSize.Full,borderStyle:te||Z?g.BorderStyle.none:g.BorderStyle.solid,borderRadius:g.BorderRadius.LG,marginTop:j===c.ONBOARDING_WELCOME_ROUTE||Z?0:3,marginInline:"auto",borderColor:g.BorderColor.borderMuted},a.default.createElement(o.Routes,null,a.default.createElement(o.Route,{path:c.ONBOARDING_ACCOUNT_EXIST,element:a.default.createElement(R.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_ACCOUNT_NOT_FOUND,element:a.default.createElement(B.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_CREATE_PASSWORD_ROUTE,element:a.default.createElement(x.default,{createNewAccount:async e=>{try{let n;F(!0),X&&Y===E.FirstTimeFlowType.socialCreate?n=await L((0,u.createNewVaultAndSyncWithSocial)(e)):Y===E.FirstTimeFlowType.create&&(n=await L((0,u.createNewVaultAndGetSeedPhrase)(e))),t(n)}finally{F(!1)}},importWithRecoveryPhrase:async(e,t)=>await L((0,u.createNewVaultAndRestore)(e,t)),secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:c.ONBOARDING_REVEAL_SRP_ROUTE,element:a.default.createElement(D.default,{setSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:c.ONBOARDING_REVIEW_SRP_ROUTE,element:a.default.createElement(k.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:c.ONBOARDING_CONFIRM_SRP_ROUTE,element:a.default.createElement(C.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:c.ONBOARDING_IMPORT_WITH_SRP_ROUTE,element:a.default.createElement(N.default,{submitSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:c.ONBOARDING_UNLOCK_ROUTE,element:a.default.createElement(s.default,{onSubmit:async e=>{try{let n;F(!0),n=X&&Y===E.FirstTimeFlowType.socialImport?await L((0,u.restoreSocialBackupAndGetSeedPhrase)(e)):await L((0,u.unlockAndGetSeedPhrase)(e)),t(n),Y===E.FirstTimeFlowType.socialImport&&await L((0,u.setCompletedOnboarding)()),W($,{replace:!0})}finally{F(!1)}}})}),a.default.createElement(o.Route,{path:c.ONBOARDING_PRIVACY_SETTINGS_ROUTE,element:a.default.createElement(S.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_COMPLETION_ROUTE,element:a.default.createElement(w.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_WELCOME_ROUTE,element:a.default.createElement(I.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_PIN_EXTENSION_ROUTE,element:a.default.createElement(O.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_METAMETRICS,element:a.default.createElement(A.default,null)}),a.default.createElement(o.Route,{path:c.ONBOARDING_DOWNLOAD_APP_ROUTE,element:a.default.createElement(P.default,null)}),a.default.createElement(o.Route,{path:"*",element:a.default.createElement(v.default,null)}))),n&&a.default.createElement(_.default,null))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=F(e("classnames")),s=F(e("../unlock-page")),c=e("../../helpers/constants/routes"),l=e("../../ducks/metamask/metamask"),u=e("../../store/actions"),d=e("../../selectors"),p=e("../../contexts/metametrics"),m=e("../../components/app/toast-master/utils"),f=e("../../components/component-library"),g=e("../../helpers/constants/design-system"),h=e("../../../app/scripts/lib/util"),y=e("../../../shared/constants/app"),E=e("../../../shared/constants/onboarding"),b=e("../../../shared/modules/environment"),T=e("../../../shared/lib/trace"),_=F(e("../../components/ui/loading-screen")),v=F(e("./onboarding-flow-switch/onboarding-flow-switch")),x=F(e("./create-password/create-password")),k=F(e("./recovery-phrase/review-recovery-phrase")),C=F(e("./recovery-phrase/confirm-recovery-phrase")),S=F(e("./privacy-settings/privacy-settings")),w=F(e("./creation-successful/creation-successful")),I=F(e("./welcome/welcome")),N=F(e("./import-srp/import-srp")),O=F(e("./pin-extension/pin-extension")),A=F(e("./metametrics/metametrics")),M=F(e("./onboarding-app-header/onboarding-app-header")),R=F(e("./account-exist/account-exist")),B=F(e("./account-not-found/account-not-found")),D=F(e("./recovery-phrase/reveal-recovery-phrase")),P=F(e("./download-app/download-app"));function F(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow.js"}],[7372,{"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/onboarding":5436,"../../../../shared/modules/browser-runtime.utils":5526,"../../../components/component-library":6097,"../../../contexts/metametrics":6608,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,classnames:3793,react:4961,"react-redux":4905,"react-responsive-carousel":4921,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,u.useI18nContext)(),t=(0,i.useNavigate)(),[n,a]=(0,o.useState)(0),b=(0,r.useDispatch)(),T=(0,o.useContext)(f.MetaMetricsContext),_=(0,r.useSelector)(g.getFirstTimeFlowType),v=(0,r.useSelector)(g.getCurrentKeyring),x=(0,r.useSelector)(g.getExternalServicesOnboardingToggleState);return(0,o.useEffect)(()=>{v||t(p.ONBOARDING_WELCOME_ROUTE,{replace:!0})},[v,t]),o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.spaceBetween,height:d.BlockSize.Full,gap:6,className:"onboarding-pin-extension","data-testid":"onboarding-pin-extension"},o.default.createElement(m.Box,null,o.default.createElement(s.Carousel,{selectedItem:n,showThumbs:!1,showStatus:!1,dynamicHeight:!0,renderArrowPrev:(t,n,a)=>o.default.createElement(m.ButtonIcon,{iconName:m.IconName.Arrow2Left,size:m.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,c.default)("onboarding-pin-extension__arrow",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:a,onClick:t,ariaLabel:e("prev")}),renderArrowNext:(t,n,a)=>o.default.createElement(m.ButtonIcon,{iconName:m.IconName.Arrow2Right,size:m.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,c.default)("onboarding-pin-extension__arrow","onboarding-pin-extension__arrow--next",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:a,onClick:t,ariaLabel:e("next"),"data-testid":"pin-extension-next"}),onChange:e=>a(e)},o.default.createElement(m.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},o.default.createElement("img",{src:"/images/onboarding-extension-pin.svg",alt:e("onboardingPinExtensionAltPin")})),o.default.createElement(m.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},o.default.createElement("img",{src:"/images/onboarding-extension-launch.svg",alt:e("onboardingPinExtensionAltLaunch")}))),o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.flexStart,width:d.BlockSize.Full,marginTop:4,gap:4},o.default.createElement(m.Text,{variant:d.TextVariant.headingLg,fontWeight:d.FontWeight.Medium,as:"h2"},e("onboardingPinExtensionTitle")),0===n?o.default.createElement(m.Box,null,o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription"))):o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,gap:4},o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription2")),o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription3",[(0,E.getBrowserName)()]))))),o.default.createElement(m.Box,null,o.default.createElement(m.Button,{variant:m.ButtonVariant.Primary,size:m.ButtonSize.Lg,block:!0,"data-testid":"pin-extension-done",onClick:async()=>{await b((0,l.toggleExternalServices)(x)),await b((0,l.setCompletedOnboarding)()),T({category:h.MetaMetricsEventCategory.Onboarding,event:h.MetaMetricsEventName.ExtensionPinned,properties:{wallet_setup_type:_===y.FirstTimeFlowType.import?"import":"new",new_wallet:_===y.FirstTimeFlowType.create}}),t(p.DEFAULT_ROUTE)}},e("done"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-router-dom-v5-compat"),r=e("react-redux"),s=e("react-responsive-carousel"),c=(a=e("classnames"))&&a.__esModule?a:{default:a},l=e("../../../store/actions"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/routes"),m=e("../../../components/component-library"),f=e("../../../contexts/metametrics"),g=e("../../../selectors"),h=e("../../../../shared/constants/metametrics"),y=e("../../../../shared/constants/onboarding"),E=e("../../../../shared/modules/browser-runtime.utils");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/pin-extension/pin-extension.js"}],[7373,{"../../../../app/scripts/lib/util":290,"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/network":5433,"../../../../shared/lib/ui-utils":5523,"../../../../shared/modules/selectors/networks":5547,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":5712,"../../../components/component-library":6097,"../../../components/ui/button":6480,"../../../contexts/metametrics":6608,"../../../ducks/app/app":6617,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../helpers/constants/zendesk-url":6657,"../../../hooks/identity/useBackupAndSync":6731,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../selectors/identity/backup-and-sync":7538,"../../../store/actions":7565,"../../settings/security-tab/delete-metametrics-data-button":7448,"../../settings/security-tab/metametrics-toggle/metametrics-toggle":7451,"./setting":7374,"@metamask/profile-sync-controller/user-storage":2307,"@metamask/snaps-sdk":2563,classnames:3793,loglevel:4542,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,T.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,i.useNavigate)(),[A,M]=(0,a.useState)(!1),[B,D]=(0,a.useState)(null),[P,F]=(0,a.useState)(!0),L=(0,o.useSelector)(e=>e.metamask),{use4ByteResolution:j,useTokenDetection:U,useCurrencyRateCheck:W,useMultiAccountBalanceChecker:z,ipfsGateway:$,useAddressBarEnsResolution:V,useTransactionSimulations:G}=L,q=(0,o.useSelector)(_.getUseExternalNameSources),J=(0,o.useSelector)(_.getIsSocialLoginFlow),K=(0,o.useSelector)(_.getDataCollectionForMarketing),[H,Y]=(0,a.useState)(j),[X,Q]=(0,a.useState)(U),[Z,ee]=(0,a.useState)(W),[te,ne]=(0,a.useState)(z),[ae,oe]=(0,a.useState)(G),[ie,re]=(0,a.useState)($),[se,ce]=(0,a.useState)(null),[le,ue]=(0,a.useState)(V),[de,pe]=(0,a.useState)(q),me=(0,a.useContext)(y.MetaMetricsContext),fe=(0,o.useSelector)(v.getNetworkConfigurationsByChainId),ge=(0,o.useSelector)(_.getExternalServicesOnboardingToggleState),he=(0,o.useSelector)(S.selectIsBackupAndSyncEnabled),{setIsBackupAndSyncFeatureEnabled:ye,error:Ee}=(0,d.useBackupAndSync)();(0,a.useEffect)(()=>{ye(c.BACKUPANDSYNC_FEATURES.main,!!ge)},[ge,ye]);const be=e=>{D(e),M(!0),setTimeout(()=>{F(!1)},R)},Te=[{id:1,title:e("general"),subtitle:e("generalDescription")},{id:2,title:e("assets"),subtitle:e("assetsDescription")},{id:3,title:e(J?"securityDefaultSettingsSocialLogin":"security"),subtitle:e(J?"securitySocialLoginDefaultSettingsDescription":"securityDescription")}];return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"privacy-settings","data-testid":"privacy-settings"},a.default.createElement("div",{className:(0,r.default)("container",{"show-detail":A,"show-list":!A})},a.default.createElement("div",{className:"list-view"},a.default.createElement(h.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:6,display:E.Display.Flex,flexDirection:E.FlexDirection.Column,justifyContent:E.JustifyContent.flexStart},a.default.createElement(h.Box,{display:E.Display.Flex,alignItems:E.AlignItems.center,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.flexStart},a.default.createElement(g.default,{type:"inline",icon:a.default.createElement(h.Icon,{name:h.IconName.ArrowLeft,size:h.IconSize.Lg,color:E.IconColor.iconDefault}),"data-testid":"privacy-settings-back-button",onClick:()=>{if(t((0,x.setUse4ByteResolution)(H)),t((0,x.setUseTokenDetection)(X)),t((0,x.setUseMultiAccountBalanceChecker)(te)),t((0,x.setUseCurrencyRateCheck)(Z)),t((0,x.setUseAddressBarEnsResolution)(le)),(0,x.setUseTransactionSimulations)(ae),(0,x.setUseExternalNameSources)(de),ge||ye(c.BACKUPANDSYNC_FEATURES.main,!1),ie&&!se){const{host:e}=new URL((0,u.addUrlProtocolPrefix)(ie));t((0,x.setIpfsGateway)(e))}me({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{settings_group:"onboarding_advanced_configuration",is_profile_syncing_enabled:he,is_basic_functionality_enabled:ge,turnon_token_detection:X}}),n(b.ONBOARDING_COMPLETION_ROUTE,{replace:!0})}}),a.default.createElement(h.Box,{display:E.Display.Flex,alignItems:E.AlignItems.center,justifyContent:E.JustifyContent.center,width:E.BlockSize.Full},a.default.createElement(h.Text,{variant:E.TextVariant.headingLg,as:"h2"},e("defaultSettingsTitle")))),a.default.createElement(h.Text,{variant:E.TextVariant.bodyLgMedium,marginTop:5},e("defaultSettingsSubTitle")),a.default.createElement("a",{href:"https://support.metamask.io/privacy-and-security/privacy-best-practices",target:"_blank",rel:"noreferrer",key:"learnMoreAboutPrivacy",style:{fontSize:"var(--font-size-5)"}},e("learnMoreAboutPrivacy"))),a.default.createElement(h.Box,null,a.default.createElement(h.Box,{as:"ul",marginTop:4,marginBottom:4,style:{listStyleType:"none"},className:"privacy-settings__categories-list"},Te.map(e=>a.default.createElement(h.Box,{marginTop:5,marginBottom:5,key:e.id,className:"categories-item",onClick:()=>be(e)},a.default.createElement(h.Box,{display:E.Display.Flex,alignItems:E.AlignItems.flexStart,justifyContent:E.JustifyContent.spaceBetween,"data-testid":`category-item-${e.title}`},a.default.createElement(h.Text,{variant:E.TextVariant.bodyLgMedium},e.title),a.default.createElement(g.default,{type:"inline",icon:a.default.createElement(h.Icon,{name:h.IconName.ArrowRight,color:E.IconColor.iconDefault}),onClick:()=>be(e)})),a.default.createElement(h.Text,{className:"description",variant:E.TextVariant.bodyMd,color:E.TextColor.textAlternative},e.subtitle)))))),a.default.createElement("div",{className:(0,r.default)("detail-view",{hidden:!A&&P})},a.default.createElement(h.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:5,display:E.Display.Flex,flexDirection:E.FlexDirection.Row,justifyContent:E.JustifyContent.flexStart},a.default.createElement(g.default,{"data-testid":"category-back-button",type:"inline",icon:a.default.createElement(h.Icon,{name:h.IconName.ArrowLeft,size:h.IconSize.Lg,color:E.IconColor.iconDefault}),onClick:()=>{M(!1),setTimeout(()=>{F(!0)},R)}}),a.default.createElement(h.Box,{display:E.Display.Flex,alignItems:E.AlignItems.center,justifyContent:E.JustifyContent.center,width:E.BlockSize.Full},a.default.createElement(h.Text,{variant:E.TextVariant.headingLg,as:"h2"},null==B?void 0:B.title))),a.default.createElement("div",{className:"privacy-settings__settings","data-testid":"privacy-settings-settings"},1===(null==B?void 0:B.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(O.Setting,{dataTestId:"basic-functionality-toggle",value:ge,setValue:e=>{e?(t((0,k.onboardingToggleBasicFunctionalityOn)()),me({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_profile_syncing_on:!1}})):t((0,k.openBasicFunctionalityModal)())},title:e("basicConfigurationLabel"),description:e("basicConfigurationDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))])}),a.default.createElement(w.BackupAndSyncToggle,null),Ee&&a.default.createElement(h.Box,{paddingBottom:4},a.default.createElement(h.Text,{as:"p",color:E.TextColor.errorDefault,variant:E.TextVariant.bodySm},e("notificationsSettingsBoxError"))),a.default.createElement(O.Setting,{title:e("onboardingAdvancedPrivacyNetworkTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyNetworkDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy/",key:"link",target:"_blank",rel:"noopener noreferrer"},e("privacyMsg")),a.default.createElement("a",{href:f.default.ADD_SOLANA_ACCOUNTS,key:"link",target:"_blank",rel:"noopener noreferrer"},e("onboardingAdvancedPrivacyNetworkDescriptionCallToAction"))]),a.default.createElement(h.Box,{paddingTop:4},a.default.createElement(h.Box,{display:E.Display.Flex,flexDirection:E.FlexDirection.Column,gap:5},Object.values(fe).filter(({chainId:e})=>!C.TEST_CHAINS.includes(e)).map(e=>{var n,o;return a.default.createElement(h.Box,{key:e.chainId,className:"privacy-settings__customizable-network",onClick:()=>{t((0,x.setEditedNetwork)({chainId:e.chainId})),t((0,x.toggleNetworkMenu)())},display:E.Display.Flex,alignItems:E.AlignItems.center,justifyContent:E.JustifyContent.spaceBetween},a.default.createElement(h.Box,{display:E.Display.Flex,alignItems:E.AlignItems.center},a.default.createElement(h.AvatarNetwork,{src:C.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId]}),a.default.createElement(h.Box,{textAlign:E.TextAlign.Left,marginLeft:3},a.default.createElement(h.Text,{variant:E.TextVariant.bodySmMedium},e.name),a.default.createElement(h.Text,{variant:E.TextVariant.bodyXs,color:E.TextColor.textAlternative},null===(n=new URL(null==e||null===(o=e.rpcEndpoints[null==e?void 0:e.defaultRpcEndpointIndex])||void 0===o?void 0:o.url))||void 0===n?void 0:n.origin))),a.default.createElement(h.ButtonIcon,{iconName:h.IconName.ArrowRight,size:h.IconSize.Md}))}),a.default.createElement(h.ButtonLink,{onClick:()=>{t((0,x.toggleNetworkMenu)({isAddingNewNetwork:!0}))},justifyContent:E.JustifyContent.Left,variant:s.ButtonVariant.link},a.default.createElement(h.Box,{display:E.Display.Flex,alignItems:E.AlignItems.center},a.default.createElement(h.Icon,{name:h.IconName.Add,marginRight:3}),a.default.createElement(h.Text,{color:E.TextColor.primaryDefault},e("addANetwork")))))))})):null,2===(null==B?void 0:B.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(O.Setting,{value:X,setValue:Q,title:e("turnOnTokenDetection"),description:e("useTokenDetectionPrivacyDesc")}),a.default.createElement(O.Setting,{value:ae,setValue:oe,title:e("simulationsSettingSubHeader"),description:e("simulationsSettingDescription",[a.default.createElement("a",{key:"learn_more_link",href:m.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))])}),a.default.createElement(O.Setting,{title:e("onboardingAdvancedPrivacyIPFSTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyIPFSDescription"),a.default.createElement(h.Box,{paddingTop:2},a.default.createElement(h.TextField,{value:ie,style:{width:"100%"},inputProps:{"data-testid":"ipfs-input"},onChange:t=>{(t=>{re(t);try{const{host:e}=new URL((0,u.addUrlProtocolPrefix)(t));if(!e||"gateway.ipfs.io"===e)throw new Error;ce(null)}catch(t){ce(e("onboardingAdvancedPrivacyIPFSInvalid"))}})(t.target.value)}}),ie?a.default.createElement(h.Text,{variant:E.TextVariant.bodySm,color:se?E.TextColor.errorDefault:E.TextColor.successDefault},se||e("onboardingAdvancedPrivacyIPFSValid")):null))}),a.default.createElement(O.Setting,{value:Z,setValue:ee,title:e("currencyRateCheckToggle"),dataTestId:"currency-rate-check-toggle",description:e("currencyRateCheckToggleDescription",[a.default.createElement("a",{key:"coingecko_link",href:m.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),a.default.createElement("a",{key:"cryptocompare_link",href:m.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),a.default.createElement("a",{key:"privacy_policy_link",href:m.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))])}),a.default.createElement(O.Setting,{value:le,setValue:ue,title:e("ensDomainsSettingTitle"),description:a.default.createElement(a.default.Fragment,null,a.default.createElement(h.Text,{variant:E.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),a.default.createElement(h.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},a.default.createElement(h.Text,{variant:E.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart1")),a.default.createElement(h.Text,{variant:E.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart2"))),a.default.createElement(h.Text,{variant:E.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))}),a.default.createElement(O.Setting,{value:te,setValue:ne,title:e("useMultiAccountBalanceChecker"),description:e("useMultiAccountBalanceCheckerSettingDescription")})):null,3===(null==B?void 0:B.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(O.Setting,{value:H,setValue:Y,title:e("use4ByteResolution"),description:e("toggleDecodeDescription")}),a.default.createElement(O.Setting,{value:de,setValue:pe,title:e("externalNameSourcesSetting"),description:e("externalNameSourcesSettingDescription")}),J&&a.default.createElement(a.default.Fragment,null,a.default.createElement(N.default,{dataCollectionForMarketing:K,setDataCollectionForMarketing:async e=>{try{t((0,x.setMarketingConsent)(e))}catch(e){l.default.error("Error setting marketing consent in default settings",e)}t((0,x.setDataCollectionForMarketing)(e))},fromDefaultSettings:!0}),a.default.createElement(I.default,{defaultPrivacySettings:!0}))):null)))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=A(e("classnames")),s=e("@metamask/snaps-sdk"),c=e("@metamask/profile-sync-controller/user-storage"),l=A(e("loglevel")),u=e("../../../../app/scripts/lib/util"),d=e("../../../hooks/identity/useBackupAndSync"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/lib/ui-utils"),f=A(e("../../../helpers/constants/zendesk-url")),g=A(e("../../../components/ui/button")),h=e("../../../components/component-library"),y=e("../../../contexts/metametrics"),E=e("../../../helpers/constants/design-system"),b=e("../../../helpers/constants/routes"),T=e("../../../hooks/useI18nContext"),_=e("../../../selectors"),v=e("../../../../shared/modules/selectors/networks"),x=e("../../../store/actions"),k=e("../../../ducks/app/app"),C=e("../../../../shared/constants/network"),S=e("../../../selectors/identity/backup-and-sync"),w=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle"),I=A(e("../../settings/security-tab/delete-metametrics-data-button")),N=A(e("../../settings/security-tab/metametrics-toggle/metametrics-toggle")),O=e("./setting");function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const R=500}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/privacy-settings.js"}],[7374,{"../../../components/component-library":6097,"../../../components/ui/toggle-button":6585,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Setting=void 0;var a=l(e("react")),o=l(e("prop-types")),i=e("../../../components/component-library"),r=l(e("../../../components/ui/toggle-button")),s=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const u=({value:e,setValue:t,title:n,description:o,showToggle:l=!0,dataTestId:u,disabled:d=!1})=>{const p=(0,c.useI18nContext)();return a.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.flexStart,marginTop:3,marginBottom:3,className:"privacy-settings__setting__wrapper","data-testid":u},a.default.createElement("div",{className:"privacy-settings__setting"},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium},n),a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,as:"div"},o)),l?a.default.createElement("div",{className:"privacy-settings__setting__toggle"},a.default.createElement(r.default,{value:e,onToggle:e=>t(!e),offLabel:p("off"),onLabel:p("on"),disabled:d})):null)};n.Setting=u,u.propTypes={value:o.default.bool,setValue:o.default.func,title:o.default.string,description:o.default.oneOfType([o.default.object,o.default.string]),showToggle:o.default.bool,dataTestId:o.default.string,disabled:o.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/setting.js"}],[7375,{"../../../../shared/constants/app":5415,"../../../../shared/constants/metametrics":5430,"../../../../shared/lib/trace":5517,"../../../../shared/modules/browser-runtime.utils":5526,"../../../components/component-library":6097,"../../../contexts/metametrics":6608,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../selectors/selectors":7555,"../../../store/actions":7565,"./confirm-srp-modal":7376,"./recovery-phrase-chips":7377,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=T(e("prop-types")),s=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../selectors/selectors"),f=e("../../../helpers/constants/routes"),g=e("../../../../shared/constants/app"),h=e("../../../../shared/lib/trace"),y=e("../../../../shared/modules/browser-runtime.utils"),E=T(e("./confirm-srp-modal")),b=T(e("./recovery-phrase-chips"));function T(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const v=e=>{const t=new Set,n=e.length;if(0===n)return[];for(;t.size<3;){const e=Math.floor(Math.random()*n);t.add(e)}return Array.from(t).map(t=>({index:t,word:e[t]}))};function x({secretRecoveryPhrase:e=""}){const t=(0,i.useDispatch)(),n=(0,o.useNavigate)(),{search:r}=(0,o.useLocation)(),T=(0,l.useI18nContext)(),_=(0,a.useContext)(d.MetaMetricsContext),{bufferedEndTrace:x}=_,k=(0,i.useSelector)(m.getHDEntropyIndex),C=(0,a.useMemo)(()=>e?e.split(" "):[],[e]),S=new URLSearchParams(r),w=S.get("isFromReminder"),I=S.get("isFromSettingsSecurity"),N=new URLSearchParams;w&&N.set("isFromReminder",w),I&&N.set("isFromSettingsSecurity",I);const O=N.toString(),[A,M]=(0,a.useState)(!1),[R,B]=(0,a.useState)(!1),[D,P]=(0,a.useState)(v(C)),[F,L]=(0,a.useState)("");(0,a.useEffect)(()=>{e||n(`${f.ONBOARDING_REVEAL_SRP_ROUTE}${O?`?${O}`:""}`,{replace:!0})},[n,e,O]);const j=(0,a.useCallback)(()=>{const e=v(C);P(e)},[C]),U=(0,a.useCallback)(e=>{if(e.some(e=>!e.word))L("");else{const t=[...C];e.forEach(e=>{t[e.index]=e.word}),L(t.join(" "))}},[C]),W=(0,a.useCallback)(()=>{B(F===e),M(!0)},[F,e]),z=(0,a.useCallback)(()=>{t((0,u.setSeedPhraseBackedUp)(!0)),_({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:k}}),null==x||x({name:h.TraceName.OnboardingNewSrpCreateWallet}),null==x||x({name:h.TraceName.OnboardingJourneyOverall});const e=(0,y.getBrowserName)()===g.PLATFORM_FIREFOX||w?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_METAMETRICS;n(`${e}${O?`?${O}`:""}`,{replace:!0})},[t,k,n,_,w,O,x]),$=(0,a.useCallback)(()=>{n(f.REVEAL_SRP_LIST_ROUTE,{replace:!0})},[n]);return a.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:6,className:"recovery-phrase recovery-phrase__confirm","data-testid":"confirm-recovery-phrase"},a.default.createElement(s.Box,null,A&&a.default.createElement(E.default,{isError:!R,onContinue:z,onClose:()=>{j(),M(!1)}}),w&&I?a.default.createElement(s.Box,{className:"recovery-phrase__header",display:c.Display.Grid,alignItems:c.AlignItems.center,gap:1,marginBottom:4,width:c.BlockSize.Full},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-confirm-back-button",onClick:()=>n(-1),ariaLabel:T("back")}),a.default.createElement(s.Text,{variant:c.TextVariant.headingSm,textAlign:c.TextAlign.Center},T("confirmRecoveryPhraseTitle")),a.default.createElement(s.ButtonIcon,{iconName:s.IconName.Close,color:c.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-confirm-close-button",onClick:$,ariaLabel:T("close")})):a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"confirm-recovery-phrase-back-button",onClick:()=>n(-1),ariaLabel:T("back")})),a.default.createElement(s.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},a.default.createElement(s.Text,{variant:c.TextVariant.headingLg,as:"h2"},T("confirmRecoveryPhraseTitle")))),a.default.createElement(s.Box,{marginBottom:6},a.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault},T("confirmRecoveryPhraseDetails"))),C.length>0&&a.default.createElement(b.default,{secretRecoveryPhrase:C,quizWords:D,confirmPhase:!0,setInputValue:U})),a.default.createElement(s.Box,{width:c.BlockSize.Full},a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,width:c.BlockSize.Full,"data-testid":"recovery-phrase-confirm",size:s.ButtonSize.Lg,className:"recovery-phrase__footer__confirm--button",onClick:()=>W(),disabled:""===F.trim()},T("continue"))))}x.propTypes={secretRecoveryPhrase:r.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-recovery-phrase.js"}],[7376,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onContinue:e,onClose:t,isError:n}){const a=(0,r.useI18nContext)();return o.default.createElement(s.Modal,{isOpen:!0,onClose:()=>null,className:"confirm-srp-modal","data-testid":"confirm-srp-modal"},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,{alignItems:i.AlignItems.center},o.default.createElement(s.ModalHeader,null,o.default.createElement(s.Box,{textAlign:i.TextAlign.Center},o.default.createElement(s.Icon,{name:n?s.IconName.CircleX:s.IconName.Confirmation,size:s.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:n?i.IconColor.errorDefault:i.IconColor.successDefault}),o.default.createElement(s.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,marginTop:2,as:"h2"},a(n?"confirmSrpErrorTitle":"confirmSrpSuccessTitle")))),o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(s.Text,{variant:i.TextVariant.bodyMd},a(n?"confirmSrpErrorDescription":"confirmSrpSuccessDescription")),o.default.createElement(s.Box,{marginTop:6},o.default.createElement(s.Button,{"data-testid":"confirm-srp-modal-button",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,onClick:()=>{n?t():e()},block:!0},a(n?"tryAgain":"gotIt"))))))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../helpers/constants/design-system"),r=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library")}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-srp-modal.tsx"}],[7377,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,classnames:3793,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p,n.fakeSeedPhraseWords=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("classnames")),i=l(e("prop-types")),r=e("../../../components/component-library"),s=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=n.fakeSeedPhraseWords=["candy","maple","cake","sugar","pudding","cream","honey","rich","smooth","crumble","sweet","treat"];function p({secretRecoveryPhrase:e,phraseRevealed:t=!0,revealPhrase:n,confirmPhase:i,quizWords:l=[],setInputValue:u}){const p=(0,s.useI18nContext)(),m=(0,a.useMemo)(()=>l.map(e=>e.index),[l]),[f,g]=(0,a.useState)(m.map(e=>({index:e,word:"",actualIndexInSrp:-1}))),h=e=>{const t=e.reduce((e,t)=>(""===t.word&&e.push(t.index),e),[]);return t.length?Math.min(...t):-1},[y,E]=(0,a.useState)(h(f)),b=(0,a.useCallback)((e,t)=>{const n=[...f],a=n.findIndex(e=>e.index===y);n[a]={index:y,word:e,actualIndexInSrp:t},g(n),E(h(n))},[f,y]),T=(0,a.useCallback)(e=>{const t=[...f],n=t.findIndex(t=>t.word===e);t[n]={...t[n],word:"",actualIndexInSrp:-1},g(t),E(t[n].index)},[f]);(0,a.useEffect)(()=>{null==u||u(f)},[f,u]),(0,a.useEffect)(()=>{if(l.length){const e=l.map(e=>({index:e.index,word:"",actualIndexInSrp:-1}));g(e),E(h(e))}},[l]);const _=t?e:e.map((e,t)=>d[t%d.length]);return a.default.createElement(r.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4},a.default.createElement(r.Box,{padding:4,borderRadius:c.BorderRadius.LG,display:c.Display.Grid,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundSection,className:"recovery-phrase__secret"},a.default.createElement(r.Box,{key:"recovery-phrase-chips",display:c.Display.Grid,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,gap:2,"data-testid":"recovery-phrase-chips","data-recovery-phrase":e.join(":"),"data-quiz-words":JSON.stringify(l),className:(0,o.default)("recovery-phrase__chips",{"recovery-phrase__chips--hidden":!t})},_.map((e,t)=>{var n;const o=m.includes(t),s=o?(null===(n=f.find(e=>e.index===t))||void 0===n?void 0:n.word)||"":e,l=t===y;return o||!i?a.default.createElement(r.Box,{as:o?"button":"div","data-testid":`recovery-phrase-chip-${t}`,className:"recovery-phrase__text",display:c.Display.Flex,alignItems:c.AlignItems.center,backgroundColor:c.BackgroundColor.backgroundDefault,borderColor:l?c.BorderColor.primaryDefault:c.BorderColor.borderDefault,borderWidth:l?2:1,borderRadius:c.BorderRadius.LG,paddingInline:2,paddingTop:1,paddingBottom:1,gap:1,onClick:()=>{o&&(""===s?E(t):T(s))}},a.default.createElement(r.Text,{color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),a.default.createElement(r.Text,null,o?s:e)):a.default.createElement(r.TextField,{testId:`recovery-phrase-chip-${t}`,key:t,value:s,startAccessory:a.default.createElement(r.Text,{color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),type:"password",disabled:!0,readOnly:!0})})),!t&&a.default.createElement(r.Box,{key:"recovery-phrase__secret-blocker-container",width:c.BlockSize.Full,height:c.BlockSize.Full,className:"recovery-phrase__secret-blocker-container"},a.default.createElement(r.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,borderRadius:c.BorderRadius.SM,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingTop:2,paddingBottom:9,paddingInline:0,className:"recovery-phrase__secret-blocker"}),a.default.createElement(r.Box,{as:"button",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.transparent,height:c.BlockSize.Full,width:c.BlockSize.Full,gap:2,className:"recovery-phrase__secret-blocker-text",onClick:()=>{null==n||n()},"data-testid":"recovery-phrase-reveal"},a.default.createElement(r.Icon,{name:r.IconName.EyeSlash,color:c.IconColor.iconDefault,size:r.IconSize.Md}),a.default.createElement(r.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault,fontWeight:c.FontWeight.Medium},p("tapToReveal")),a.default.createElement(r.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textDefault},p("tapToRevealNote"))))),3===l.length&&a.default.createElement(r.Box,{display:c.Display.Flex,gap:2,width:c.BlockSize.Full},l.map(t=>{const n=t.index;return f.some(e=>e.actualIndexInSrp===n)?a.default.createElement(r.ButtonBase,{"data-testid":`recovery-phrase-quiz-answered-${n}`,key:t.index,color:c.TextColor.textAlternative,borderRadius:c.BorderRadius.LG,block:!0,onClick:()=>{T(t.word)}},e[n]):a.default.createElement(r.Button,{"data-testid":`recovery-phrase-quiz-unanswered-${n}`,key:t.index,variant:r.ButtonVariant.Secondary,borderRadius:c.BorderRadius.LG,block:!0,borderColor:c.BorderColor.primaryDefault,color:c.TextColor.primaryDefault,onClick:()=>{b(t.word,n)}},e[n])})))}p.propTypes={secretRecoveryPhrase:i.default.array,phraseRevealed:i.default.bool,revealPhrase:i.default.func,confirmPhase:i.default.bool,quizWords:i.default.array,setInputValue:i.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/recovery-phrase-chips.js"}],[7378,{"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../store/actions":7565,react:4961,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setSecretRecoveryPhrase:e}){const t=(0,o.useNavigate)(),n=(0,i.useI18nContext)(),{search:u}=(0,o.useLocation)(),d=new URLSearchParams(u),p=d.get("isFromReminder"),m=d.get("isFromSettingsSecurity"),f=new URLSearchParams;p&&f.set("isFromReminder",p);m&&f.set("isFromSettingsSecurity",m);const g=f.toString(),[h,y]=(0,a.useState)(""),[E,b]=(0,a.useState)(!1),T=(0,a.useCallback)(async n=>{try{const a=await(0,c.getSeedPhrase)(n);e(a),t(`${l.ONBOARDING_REVIEW_SRP_ROUTE}${g?`?${g}`:""}`,{replace:!0})}catch(e){b(!0)}},[e,t,g]),_=(0,a.useCallback)(()=>{t(m?l.REVEAL_SRP_LIST_ROUTE:l.DEFAULT_ROUTE,{replace:!0})},[t,m]);return a.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6,className:"reveal-recovery-phrase","data-testid":"reveal-recovery-phrase"},a.default.createElement(r.Box,{width:s.BlockSize.Full},a.default.createElement(r.Box,{className:"recovery-phrase__header",display:s.Display.Grid,alignItems:s.AlignItems.center,gap:3,marginBottom:4,width:s.BlockSize.Full},a.default.createElement(r.ButtonIcon,{iconName:r.IconName.ArrowLeft,color:s.IconColor.iconDefault,size:r.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-back-button",onClick:_,ariaLabel:n("back")}),a.default.createElement(r.Text,{variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center},n("revealSecretRecoveryPhrase")),a.default.createElement(r.ButtonIcon,{iconName:r.IconName.Close,color:s.IconColor.iconDefault,size:r.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-close-button",onClick:_,ariaLabel:n("close")})),a.default.createElement(r.Box,{width:s.BlockSize.Full,as:"form",onSubmit:e=>{e.preventDefault(),T(h)}},a.default.createElement(r.FormTextField,{size:r.FormTextFieldSize.Lg,id:"account-details-authenticate",label:n("enterYourPasswordContinue"),onChange:e=>{y(e.target.value),b(!1)},value:h,error:E,helpText:E?n("unlockPageIncorrectPassword"):null,type:r.TextFieldType.Password,labelProps:{fontWeight:s.FontWeight.Medium},autoFocus:!0}))),a.default.createElement(r.Box,{width:s.BlockSize.Full},a.default.createElement(r.Button,{width:s.BlockSize.Full,variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,"data-testid":"reveal-recovery-phrase-continue",className:"reveal-recovery-phrase__footer--button",onClick:()=>T(h)},n("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("../../../hooks/useI18nContext"),r=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),c=e("../../../store/actions"),l=e("../../../helpers/constants/routes");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/reveal-recovery-phrase.tsx"}],[7379,{"../../../../shared/constants/app":5415,"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/onboarding":5436,"../../../../shared/lib/trace":5517,"../../../../shared/modules/browser-runtime.utils":5526,"../../../components/app/srp-details-modal":5970,"../../../components/component-library":6097,"../../../contexts/metametrics":6608,"../../../helpers/constants/design-system":6645,"../../../helpers/constants/routes":6650,"../../../hooks/useI18nContext":6777,"../../../selectors":7539,"../../../store/actions":7565,"./recovery-phrase-chips":7377,"prop-types":4777,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom-v5-compat"),i=e("react-redux"),r=_(e("prop-types")),s=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/routes"),l=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/metametrics"),p=e("../../../contexts/metametrics"),m=e("../../../selectors"),f=_(e("../../../components/app/srp-details-modal")),g=e("../../../store/actions"),h=e("../../../../shared/lib/trace"),y=e("../../../../shared/modules/browser-runtime.utils"),E=e("../../../../shared/constants/app"),b=e("../../../../shared/constants/onboarding"),T=_(e("./recovery-phrase-chips"));function _(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function x({secretRecoveryPhrase:e}){const t=(0,o.useNavigate)(),n=(0,s.useI18nContext)(),{search:r}=(0,o.useLocation)(),_=(0,i.useDispatch)(),v=(0,i.useSelector)(m.getFirstTimeFlowType),x=(0,a.useContext)(p.MetaMetricsContext),{bufferedEndTrace:k}=x,C=(0,i.useSelector)(m.getHDEntropyIndex),[S,w]=(0,a.useState)(!1),[I,N]=(0,a.useState)(!1),O=new URLSearchParams(r),A=O.get("isFromReminder"),M=O.get("isFromSettingsSecurity"),R=new URLSearchParams;A&&R.set("isFromReminder",A),M&&R.set("isFromSettingsSecurity",M);const B=R.toString();(0,a.useEffect)(()=>{e||t({pathname:c.ONBOARDING_REVEAL_SRP_ROUTE,search:B?`?${B}`:""},{replace:!0})},[t,e,B]);const D=(0,a.useCallback)(()=>{x({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseWrittenDown,properties:{hd_entropy_index:C}}),t({pathname:c.ONBOARDING_CONFIRM_SRP_ROUTE,search:B?`?${B}`:""})},[C,t,x,B]),P=(0,a.useCallback)(()=>{x({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"review_recovery_phrase"}}),N(!0)},[x]),F=(0,a.useCallback)(async()=>{await _((0,g.setSeedPhraseBackedUp)(!1)),x({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecuritySkipConfirmed,properties:{hd_entropy_index:C}}),null==k||k({name:h.TraceName.OnboardingNewSrpCreateWallet}),null==k||k({name:h.TraceName.OnboardingJourneyOverall}),(0,y.getBrowserName)()===E.PLATFORM_FIREFOX||v===b.FirstTimeFlowType.restore?t(c.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):t(c.ONBOARDING_METAMETRICS,{replace:!0})},[k,_,v,C,t,x]),L=(0,a.useCallback)(()=>{t(`${c.ONBOARDING_REVEAL_SRP_ROUTE}${B?`?${B}`:""}`,{replace:!0})},[t,B]),j=(0,a.useCallback)(()=>{t(c.REVEAL_SRP_LIST_ROUTE,{replace:!0})},[t]);return a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.Center,height:u.BlockSize.Full,gap:6,className:"recovery-phrase","data-testid":"recovery-phrase"},a.default.createElement(l.Box,null,I&&a.default.createElement(f.default,{onClose:()=>N(!1)}),A&&M?a.default.createElement(l.Box,{className:"recovery-phrase__header",display:u.Display.Grid,alignItems:u.AlignItems.center,gap:3,marginBottom:4,width:u.BlockSize.Full},a.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,color:u.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-back-button",onClick:L,ariaLabel:n("back")}),a.default.createElement(l.Text,{variant:u.TextVariant.headingSm,textAlign:u.TextAlign.Center},n("seedPhraseReviewTitle")),a.default.createElement(l.ButtonIcon,{iconName:l.IconName.Close,color:u.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-close-button",onClick:j,ariaLabel:n("close")})):a.default.createElement(l.Box,{justifyContent:u.JustifyContent.flexStart,marginBottom:4,width:u.BlockSize.Full},a.default.createElement(l.Text,{variant:u.TextVariant.headingLg,as:"h2"},n("seedPhraseReviewTitle"))),a.default.createElement(l.Box,{marginBottom:6},a.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative,marginBottom:6},n("seedPhraseReviewDetails",[a.default.createElement(l.ButtonLink,{key:"seedPhraseReviewDetails",size:l.ButtonLinkSize.Inherit,onClick:P},n("secretRecoveryPhrase")),a.default.createElement(l.Text,{key:"seedPhraseReviewDetails2",fontWeight:u.FontWeight.Medium,color:u.TextColor.textAlternative},n("seedPhraseReviewDetails2"))]))),a.default.createElement(T.default,{secretRecoveryPhrase:e.split(" "),phraseRevealed:S,revealPhrase:()=>{x({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseRevealed,properties:{hd_entropy_index:C}}),w(!0)}})),a.default.createElement(l.Box,{width:u.BlockSize.Full,display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:2},a.default.createElement(l.Button,{width:u.BlockSize.Full,variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,"data-testid":"recovery-phrase-continue",className:"recovery-phrase__footer--button",disabled:!S,onClick:D},n("continue")),!A&&a.default.createElement(l.Button,{width:u.BlockSize.Full,variant:l.ButtonVariant.Link,size:l.ButtonSize.Lg,onClick:F,type:"button","data-testid":"recovery-phrase-remind-later"},n("secureWalletRemindLaterButton"))))}x.propTypes={secretRecoveryPhrase:r.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/review-recovery-phrase.js"}],[7380,{"../../../../shared/constants/metametrics":5430,"../../../components/component-library":6097,"../../../contexts/metametrics":6608,"../../../helpers/constants/common":6643,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,"./types":7382,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,loginError:t}){const n=(0,i.useI18nContext)(),d=(0,a.useContext)(l.MetaMetricsContext);return a.default.createElement(r.Modal,{isOpen:!0,onClose:e,"data-testid":"login-error-modal"},a.default.createElement(r.ModalOverlay,null),a.default.createElement(r.ModalContent,{alignItems:o.AlignItems.center},a.default.createElement(r.ModalHeader,{onClose:e},a.default.createElement(r.Box,{textAlign:o.TextAlign.Center},a.default.createElement(r.Icon,{name:r.IconName.Danger,size:r.IconSize.Xl,color:o.IconColor.warningDefault}),a.default.createElement(r.Text,{variant:o.TextVariant.headingMd,textAlign:o.TextAlign.Center,marginTop:4},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectTitle"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredTitle"):n("loginErrorGenericTitle")))),a.default.createElement(r.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(r.Text,{variant:o.TextVariant.bodyMd},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectDescription"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredDescription"):n("loginErrorGenericDescription",[a.default.createElement(r.ButtonLink,{key:"loginErrorGenericDescription",size:r.ButtonLinkSize.Inherit,externalLink:!0,href:c.SUPPORT_LINK,onClick:()=>{d({category:s.MetaMetricsEventCategory.Onboarding,event:s.MetaMetricsEventName.SupportLinkClicked,properties:{url:c.SUPPORT_LINK,location:"Welcome page"}},{contextPropsIntoEventProperties:[s.MetaMetricsContextProp.PageTitle]})}},n("loginErrorGenericSupport"))])),a.default.createElement(r.Box,{marginTop:6},a.default.createElement(r.Button,{"data-testid":"login-error-modal-button",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,onClick:e,block:!0},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectButton"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredButton"):n("loginErrorGenericButton"))))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),r=e("../../../components/component-library"),s=e("../../../../shared/constants/metametrics"),c=e("../../../helpers/constants/common"),l=e("../../../contexts/metametrics"),u=e("./types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-error-modal.tsx"}],[7381,{"../../../../shared/constants/preferences":5438,"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,"./types":7382,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialButton=void 0,n.default=function({onClose:e,loginOption:t,handleLogin:n}){const a=(0,s.useI18nContext)();return o.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"options-modal",isClosedOnOutsideClick:!1,"data-theme":c.ThemeType.dark},o.default.createElement(i.ModalContent,{size:i.ModalContentSize.Sm,alignItems:r.AlignItems.center},o.default.createElement(i.ModalHeader,{onClose:e},a("onboardingOptionTitle")),o.default.createElement(i.Box,{paddingInline:4},o.default.createElement(d,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-google-button":"onboarding-create-with-google-button",icon:o.default.createElement("img",{src:"images/icons/google.svg",className:"options-modal__social-icon",alt:a("onboardingOptionIcon",["Google"])}),label:t===l.LOGIN_OPTION.EXISTING?a("onboardingSignInWith",["Google"]):a("onboardingContinueWith",["Google"]),marginBottom:4,onClick:()=>n(l.LOGIN_TYPE.GOOGLE)}),o.default.createElement(d,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-apple-button":"onboarding-create-with-apple-button",icon:o.default.createElement(i.Icon,{name:i.IconName.Apple,color:r.IconColor.infoInverse,size:i.IconSize.Lg}),label:t===l.LOGIN_OPTION.EXISTING?a("onboardingSignInWith",["Apple"]):a("onboardingContinueWith",["Apple"]),marginBottom:2,onClick:()=>n(l.LOGIN_TYPE.APPLE)}),o.default.createElement(i.Box,{alignItems:r.AlignItems.center,marginBottom:4,className:"options-modal__or"},o.default.createElement(i.Text,{width:r.BlockSize.Min,variant:r.TextVariant.bodyMd,fontWeight:r.FontWeight.Medium,color:r.TextColor.textMuted,backgroundColor:r.BackgroundColor.backgroundDefault,paddingInline:2,marginInline:"auto",textTransform:r.TextTransform.Lowercase,as:"div",style:{position:"relative",zIndex:1}},a("or"))),o.default.createElement(i.Button,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-srp-button":"onboarding-create-with-srp-button",variant:i.ButtonVariant.Secondary,width:r.BlockSize.Full,size:i.ButtonSize.Lg,onClick:()=>n(l.LOGIN_TYPE.SRP)},t===l.LOGIN_OPTION.EXISTING?a("onboardingSrpImport"):a("onboardingSrpCreate")),o.default.createElement(i.Text,{variant:r.TextVariant.bodySm,fontWeight:r.FontWeight.Medium,textAlign:r.TextAlign.Center,paddingTop:8,width:r.BlockSize.Full,margin:"auto"},a("onboardingLoginFooter",[o.default.createElement(i.Text,{as:"a",href:"https://consensys.io/terms-of-use",target:"_blank",rel:"noopener noreferrer",variant:r.TextVariant.bodySm,fontWeight:r.FontWeight.Medium,color:r.TextColor.primaryDefault,key:"onboardingLoginFooterTermsOfUse"},a("onboardingLoginFooterTermsOfUse")),o.default.createElement(i.Text,{as:"a",variant:r.TextVariant.bodySm,fontWeight:r.FontWeight.Medium,href:"https://consensys.io/privacy-notice",target:"_blank",rel:"noopener noreferrer",color:r.TextColor.primaryDefault,key:"onboardingLoginFooterPrivacyNotice"},a("onboardingLoginFooterPrivacyNotice"))])))))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),c=e("../../../../shared/constants/preferences"),l=e("./types");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}const d=n.SocialButton=o.default.forwardRef(({icon:e,label:t,...n},a)=>o.default.createElement(i.Button,u({ref:a,className:"options-modal__plain-button",variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,block:!0,"data-theme":c.ThemeType.dark},n),o.default.createElement(i.Box,{display:r.Display.Flex,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,width:r.BlockSize.Full,gap:2},e,o.default.createElement(i.Box,null,t))))}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-options.tsx"}],[7382,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LOGIN_TYPE=n.LOGIN_OPTION=n.LOGIN_ERROR=void 0;n.LOGIN_TYPE={GOOGLE:"google",APPLE:"apple",SRP:"srp"},n.LOGIN_OPTION={NEW:"new",EXISTING:"existing"},n.LOGIN_ERROR={UNABLE_TO_CONNECT:"unable_to_connect",GENERIC:"generic",SESSION_EXPIRED:"session_expired"}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/types.ts"}],[7383,{"../../../../shared/constants/preferences":5438,"../../../../shared/modules/environment":5530,"../../../components/component-library":6097,"../../../components/ui/mascot":6540,"../../../helpers/constants/design-system":6645,"../../../helpers/utils/build-types":6670,"../../../hooks/useI18nContext":6777,"../../../store/actions":7565,"./login-options":7381,"./types":7382,classnames:3793,events:4072,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onLogin:e}){const t=(0,u.useI18nContext)(),n=(0,o.useRef)(new a.default),[y,E]=(0,o.useState)(!1),[b,T]=(0,o.useState)(null),_=(0,p.getIsSeedlessOnboardingFeatureEnabled)(),v=(0,r.useDispatch)(),x=(0,o.useCallback)(async t=>{b&&(E(!1),await v((0,f.setTermsOfUseLastAgreed)((new Date).getTime())),await e(t,b))},[v,b,e]);return o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,gap:4,marginInline:"auto",marginTop:2,padding:6,className:"welcome-login","data-testid":"get-started"},o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,className:"welcome-login__content"},o.default.createElement(c.Box,{className:(0,i.default)("welcome-login__mascot",{"welcome-login__mascot--image":(0,d.isFlask)()||(0,d.isBeta)()})},(0,d.isFlask)()||(0,d.isBeta)()?o.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"178",height:"178"}):o.default.createElement(s.default,{animationEventEmitter:n.current,width:"268",height:"268"})),o.default.createElement(c.Text,{marginInline:5,textAlign:l.TextAlign.Center,as:"h2",className:"welcome-login__title","data-testid":"onboarding-welcome"},t("welcomeToMetaMask"),"!")),o.default.createElement(c.Box,{"data-theme":m.ThemeType.light,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},o.default.createElement(c.Button,{"data-testid":"onboarding-create-wallet",variant:c.ButtonVariant.Primary,size:c.ButtonSize.Lg,block:!0,onClick:async()=>{E(!0),T(h.LOGIN_OPTION.NEW),_||await e(h.LOGIN_TYPE.SRP,h.LOGIN_OPTION.NEW)}},t("onboardingCreateWallet")),o.default.createElement(c.Button,{"data-testid":"onboarding-import-wallet",variant:c.ButtonVariant.Secondary,size:c.ButtonSize.Lg,block:!0,onClick:async()=>{E(!0),T(h.LOGIN_OPTION.EXISTING),_||await e(h.LOGIN_TYPE.SRP,h.LOGIN_OPTION.EXISTING)}},t(_?"onboardingImportWallet":"onboardingSrpImport"))),_&&y&&b&&o.default.createElement(g.default,{loginOption:b,onClose:()=>{T(null)},handleLogin:x}))};var a=E(e("events")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=E(e("classnames")),r=e("react-redux"),s=E(e("../../../components/ui/mascot")),c=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/build-types"),p=e("../../../../shared/modules/environment"),m=e("../../../../shared/constants/preferences"),f=e("../../../store/actions"),g=E(e("./login-options")),h=e("./types");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-login.tsx"}],[7384,{"../../../../shared/constants/app":5415,"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/onboarding":5436,"../../../../shared/lib/trace":5517,"../../../../shared/modules/browser-runtime.utils":5526,"../../../../shared/modules/environment":5530,"../../../../shared/modules/error":5531,"../../../components/ui/loading-screen":6534,"../../../contexts/metametrics":6608,"../../../helpers/constants/routes":6650,"../../../selectors":7539,"../../../store/actions":7565,"./login-error-modal":7380,"./types":7382,"./welcome-login":7383,loglevel:4542,react:4961,"react-redux":4905,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useDispatch)(),t=(0,i.useNavigate)(),n=(0,o.useSelector)(c.getCurrentKeyring),v=(0,f.getIsSeedlessOnboardingFeatureEnabled)(),x=(0,o.useSelector)(c.getFirstTimeFlowType),k=(0,o.useSelector)(c.getIsSocialLoginUserAuthenticated),C=(0,o.useSelector)(c.getIsParticipateInMetaMetricsSet),[S,w]=(0,a.useState)(!1),[I,N]=(0,a.useState)(!1),[O,A]=(0,a.useState)(null),M=(0,g.getBrowserName)()===h.PLATFORM_FIREFOX;(0,a.useEffect)(()=>{n&&!S?x===l.FirstTimeFlowType.import||x===l.FirstTimeFlowType.restore?t(C?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS,{replace:!0}):x===l.FirstTimeFlowType.socialCreate?t(s.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):t(s.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0}):k&&(x===l.FirstTimeFlowType.socialCreate?t(s.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0}):t(s.ONBOARDING_UNLOCK_ROUTE,{replace:!0}))},[n,t,x,S,C,k,M]);const R=(0,a.useContext)(u.MetaMetricsContext),{bufferedTrace:B,bufferedEndTrace:D,onboardingParentContext:P}=R,F=(0,a.useCallback)(async()=>{N(!0),w(!0),await e((0,d.setFirstTimeFlowType)(l.FirstTimeFlowType.create)),R({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:m.MetaMetricsEventAccountType.Default}}),null==B||B({name:E.TraceName.OnboardingNewSrpCreateWallet,op:E.TraceOperation.OnboardingUserJourney,parentContext:null==P?void 0:P.current}),t(s.ONBOARDING_CREATE_PASSWORD_ROUTE)},[e,t,R,P,B]),L=(0,a.useCallback)(async()=>{N(!0),await e((0,d.setFirstTimeFlowType)(l.FirstTimeFlowType.import)),R({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportStarted,properties:{account_type:m.MetaMetricsEventAccountType.Imported}}),null==B||B({name:E.TraceName.OnboardingExistingSrpImport,op:E.TraceOperation.OnboardingUserJourney,parentContext:null==P?void 0:P.current}),t(s.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[e,t,R,P,B]),j=(0,a.useCallback)(async t=>{if(v){null==B||B({name:E.TraceName.OnboardingSocialLoginAttempt,op:E.TraceOperation.OnboardingUserJourney,tags:{provider:t},parentContext:null==P?void 0:P.current});const n=await e((0,d.startOAuthLogin)(t,B,D));return null==D||D({name:E.TraceName.OnboardingSocialLoginAttempt}),n}return!0},[e,v,P,B,D]),U=(0,a.useCallback)((e,t)=>{const n=e instanceof Error?e.message:"Unknown error";n!==y.OAuthErrorMessages.USER_CANCELLED_LOGIN_ERROR?(null==B||B({name:E.TraceName.OnboardingSocialLoginError,op:E.TraceOperation.OnboardingError,tags:{provider:t,errorMessage:n},parentContext:P.current}),null==D||D({name:E.TraceName.OnboardingSocialLoginError}),null==D||D({name:E.TraceName.OnboardingSocialLoginAttempt,data:{success:!1}}),n!==y.OAuthErrorMessages.INVALID_OAUTH_STATE_ERROR?n!==y.OAuthErrorMessages.NO_REDIRECT_URL_FOUND_ERROR&&n!==y.OAuthErrorMessages.NO_AUTH_CODE_FOUND_ERROR?A(T.LOGIN_ERROR.GENERIC):A(T.LOGIN_ERROR.UNABLE_TO_CONNECT):A(T.LOGIN_ERROR.SESSION_EXPIRED)):A(null)},[P,B,D]),W=(0,a.useCallback)(async n=>{N(!0),w(!0),await e((0,d.setFirstTimeFlowType)(l.FirstTimeFlowType.socialCreate)),R({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${m.MetaMetricsEventAccountType.Default}_${n}`}});try{const e=await j(n);R({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${m.MetaMetricsEventAccountType.Default}_${n}`}}),e?(null==B||B({name:E.TraceName.OnboardingNewSocialCreateWallet,op:E.TraceOperation.OnboardingUserJourney,parentContext:P.current}),t(s.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})):t(s.ONBOARDING_ACCOUNT_EXIST,{replace:!0})}catch(e){U(e,n)}finally{N(!1)}},[e,j,R,t,P,U,B]),z=(0,a.useCallback)(async n=>{N(!0),e((0,d.setFirstTimeFlowType)(l.FirstTimeFlowType.socialImport)),R({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${m.MetaMetricsEventAccountType.Imported}_${n}`}});try{const e=await j(n);R({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${m.MetaMetricsEventAccountType.Imported}_${n}`}}),e?t(s.ONBOARDING_ACCOUNT_NOT_FOUND):(null==B||B({name:E.TraceName.OnboardingExistingSocialLogin,op:E.TraceOperation.OnboardingUserJourney,parentContext:P.current}),t(s.ONBOARDING_UNLOCK_ROUTE))}catch(e){U(e,n)}finally{N(!1)}},[e,j,R,t,P,U,B]),$=(0,a.useCallback)(e=>{r.default.error("handleLoginError::error",e);e.message===y.OAuthErrorMessages.USER_CANCELLED_LOGIN_ERROR?A(null):A(T.LOGIN_ERROR.GENERIC)},[]),V=(0,a.useCallback)(async(t,n)=>{try{if(M||e((0,d.setParticipateInMetaMetrics)(null)),t===T.LOGIN_TYPE.SRP)return void(n===T.LOGIN_OPTION.NEW?await F():n===T.LOGIN_OPTION.EXISTING&&await L());if(!v)return;n===T.LOGIN_OPTION.NEW?await W(t):n===T.LOGIN_OPTION.EXISTING&&await z(t),M||e((0,d.setParticipateInMetaMetrics)(!0))}catch(e){$(e)}},[v,e,F,L,W,M,z,$]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(b.default,{onLogin:V}),I&&a.default.createElement(p.default,null),null!==O&&a.default.createElement(_.default,{onClose:()=>A(null),loginError:O}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("react-router-dom-v5-compat"),r=v(e("loglevel")),s=e("../../../helpers/constants/routes"),c=e("../../../selectors"),l=e("../../../../shared/constants/onboarding"),u=e("../../../contexts/metametrics"),d=e("../../../store/actions"),p=v(e("../../../components/ui/loading-screen")),m=e("../../../../shared/constants/metametrics"),f=e("../../../../shared/modules/environment"),g=e("../../../../shared/modules/browser-runtime.utils"),h=e("../../../../shared/constants/app"),y=e("../../../../shared/modules/error"),E=e("../../../../shared/lib/trace"),b=v(e("./welcome-login")),T=e("./types"),_=v(e("./login-error-modal"));function v(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.js"}],[7385,{"../../../components/app/permissions-connect-footer":5821,"../../../components/component-library":6097,"../../../components/ui/account-list":6471,"../../../components/ui/page-container":6552,"../../../helpers/constants/design-system":6645,"../../../hooks/useI18nContext":6777,"@metamask/keyring-api":1994,"@metamask/permission-controller":2260,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("@metamask/permission-controller"),r=e("@metamask/keyring-api"),s=e("../../../hooks/useI18nContext"),c=f(e("../../../components/app/permissions-connect-footer")),l=f(e("../../../components/ui/account-list")),u=e("../../../components/ui/page-container"),d=e("../../../helpers/constants/design-system"),p=e("../../../components/component-library");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}const g=({selectedAccountAddresses:e,addressLastConnectedMap:t={},accounts:n,selectAccounts:a,selectNewAccountViaModal:m,cancelPermissionsRequest:f,permissionsRequestId:g,targetSubjectMetadata:h,nativeCurrency:y})=>{const[E,b]=(0,o.useState)(e),T=n.filter(e=>(0,r.isEvmAccountType)(e.type)),_=(0,s.useI18nContext)(),v=Object.keys(e).length>T.length,x=0===n.length?_("connectAccountOrCreate"):(null==h?void 0:h.subjectType)===i.SubjectType.Snap?_("selectAccountsForSnap"):_("selectAccounts");return o.default.createElement(o.default.Fragment,null,o.default.createElement(p.Box,{className:"permissions-connect-choose-account__content",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative,width:d.BlockSize.Full,height:d.BlockSize.Full,paddingLeft:6,paddingRight:6},o.default.createElement(p.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.center,alignItems:d.AlignItems.center,paddingTop:4,paddingBottom:4},o.default.createElement(p.Text,{variant:d.TextVariant.headingMd},_("connectWithMetaMask")),o.default.createElement(p.Text,{variant:d.TextVariant.bodyMd},x)),o.default.createElement(l.default,{accounts:n,selectNewAccountViaModal:m,addressLastConnectedMap:t,nativeCurrency:y,selectedAccounts:E,allAreSelected:()=>T.length===E.size,deselectAll:()=>{b(new Set)},selectAll:()=>{const e=new Set(T.map(e=>e.address));b(e)},handleAccountClick:e=>{const t=new Set(E);t.has(e)?t.delete(e):t.add(e),b(t)}})),o.default.createElement(p.Box,{backgroundColor:d.BackgroundColor.backgroundAlternative,className:"permissions-connect-choose-account__footer",paddingTop:4},(null==h?void 0:h.subjectType)!==i.SubjectType.Snap&&o.default.createElement(c.default,null),o.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>f(g),cancelText:_("cancel"),onSubmit:()=>a(E),submitText:_("next"),disabled:v||0===E.size})))};g.propTypes={accounts:a.default.arrayOf(a.default.shape({address:a.default.string,addressLabel:a.default.string,lastConnectedDate:a.default.string,balance:a.default.string})).isRequired,selectAccounts:a.default.func.isRequired,selectNewAccountViaModal:a.default.func.isRequired,nativeCurrency:a.default.string.isRequired,addressLastConnectedMap:a.default.object,cancelPermissionsRequest:a.default.func.isRequired,permissionsRequestId:a.default.string.isRequired,selectedAccountAddresses:a.default.object.isRequired,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string})};n.default=g}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/choose-account.js"}],[7386,{"./choose-account":7385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./choose-account"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/index.js"}],[7387,{"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/network":5433,"../../../../shared/lib/caip25-caveat-merger":5462,"../../../../shared/modules/selectors/networks":5547,"../../../components/component-library":6097,"../../../components/multichain":6330,"../../../components/multichain/create-solana-account-modal/create-solana-account-modal":6304,"../../../components/multichain/pages/page":6427,"../../../components/multichain/pages/review-permissions-page/site-cell/site-cell":6434,"../../../components/ui/tabs":6577,"../../../contexts/metametrics":6608,"../../../helpers/constants/design-system":6645,"../../../helpers/utils/util":6703,"../../../hooks/useI18nContext":6777,"../../../hooks/useOriginTrustSignals":6796,"../../../hooks/useTrustSignals":6817,"../../../selectors":7539,"../../../selectors/multichain":7548,"./utils":7388,"@metamask/chain-agnostic-permission":1281,"@metamask/design-system-react":1655,"@metamask/utils":2799,lodash:4534,react:4961,"react-redux":4905,"react-tippy":4943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=e("@metamask/chain-agnostic-permission"),r=e("@metamask/utils"),s=e("lodash"),c=e("react-tippy"),l=e("@metamask/design-system-react"),u=e("../../../hooks/useI18nContext"),d=e("../../../selectors"),p=e("../../../../shared/modules/selectors/networks"),m=e("../../../components/component-library"),f=e("../../../components/multichain/pages/page"),g=e("../../../components/multichain/pages/review-permissions-page/site-cell/site-cell"),h=e("../../../helpers/constants/design-system"),y=e("../../../../shared/constants/network"),E=e("../../../selectors/multichain"),b=e("../../../components/ui/tabs"),T=e("../../../components/multichain"),_=e("../../../helpers/utils/util"),v=e("../../../../shared/constants/metametrics"),x=e("../../../contexts/metametrics"),k=e("../../../components/multichain/create-solana-account-modal/create-solana-account-modal"),C=e("../../../../shared/lib/caip25-caveat-merger"),S=e("../../../hooks/useOriginTrustSignals"),w=e("../../../hooks/useTrustSignals"),I=e("./utils");function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}n.ConnectPage=({request:e,permissionsRequestId:t,rejectPermissionsRequest:n,approveConnection:N,targetSubjectMetadata:O})=>{const A=(0,u.useI18nContext)(),M=(0,a.useContext)(x.MetaMetricsContext),R=(0,o.useSelector)(t=>{var n;return(0,d.getPermissions)(t,null===(n=e.metadata)||void 0===n?void 0:n.origin)}),B=(0,a.useMemo)(()=>R?(0,I.getCaip25CaveatValueFromPermissions)(R):null,[R]),D=(0,I.getCaip25CaveatValueFromPermissions)(e.permissions),P=B?(0,C.mergeCaip25CaveatValues)(D,B):D,F=(0,i.getCaipAccountIdsFromCaip25CaveatValue)(P),L=(0,i.getAllScopesFromCaip25CaveatValue)(P),{promptToCreateSolanaAccount:j,isEip1193Request:U}=e.metadata??{},W=(0,o.useSelector)(p.getAllNetworkConfigurationsByCaipChainId),[z,$]=(0,a.useMemo)(()=>Object.entries(W).reduce(([e,t],[n,a])=>{const o=n;return(y.CAIP_FORMATTED_EVM_TEST_CHAINS.includes(o)?t:e).push({...a,caipChainId:o}),[e,t]},[[],[]]),[W]),V=(0,a.useMemo)(()=>[...z,...$].map(({caipChainId:e})=>e),[z,$]),[G,q]=(0,a.useState)(!1),[J,K]=(0,a.useState)(!1),[H,Y]=(0,a.useState)(!1),X=(0,o.useSelector)(E.getMultichainNetwork).chainId,Q=$.find(e=>e.caipChainId===X);let Z=Q?[...z,Q].map(({caipChainId:e})=>e):z.map(({caipChainId:e})=>e),ee=L.filter(e=>V.includes(e));if(U){Z=Z.filter(e=>{const{namespace:t}=(0,r.parseCaipChainId)(e);return t===r.KnownCaipNamespace.Eip155});!ee.some(e=>{const{namespace:t}=(0,r.parseCaipChainId)(e);return t===r.KnownCaipNamespace.Eip155})&&B&&(ee=Array.from(new Set([...Z,...ee])))}const te=ee.length>0?ee:Z,[ne,ae]=(0,a.useState)(te),oe=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&q(!0),ae(e)},[q,ae]),ie=(0,o.useSelector)(d.getUpdatedAndSortedAccountsWithCaipAccountId),re=(0,i.getAllNamespacesFromCaip25CaveatValue)(P).filter(e=>e!==r.KnownCaipNamespace.Wallet),se=ie.filter(e=>{const{chain:{namespace:t}}=(0,r.parseCaipAccountId)(e.caipAccountId);return re.includes(t)}),ce=se.filter(e=>(0,i.isCaipAccountIdInPermittedAccountIds)(e.caipAccountId,F)),le=(0,I.getDefaultAccounts)(re,ce,se).map(({caipAccountId:e})=>e),[ue,de]=(0,a.useState)(le),pe=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&q(!0);let n=[...ne];e.forEach(e=>{const{chain:{namespace:t}}=(0,r.parseCaipAccountId)(e);if(!n.some(e=>{try{const{namespace:n}=(0,r.parseCaipChainId)(e);return t===n}catch(e){return!1}})){const e=V.filter(e=>{try{const{namespace:n}=(0,r.parseCaipChainId)(e);return t===n}catch(e){return!1}});n=Array.from(new Set([...n,...e]))}}),oe(n,{isUserModified:t}),de(e)},[q,de,ne,oe,V]);(0,a.useEffect)(()=>{G||(0,s.isEqual)(le,ue)||pe(le,{isUserModified:!1})},[G,pe,ue,JSON.stringify(le)]);const me=ie.filter(({caipAccountId:e})=>ue.some(t=>t===e)),fe=(0,a.useMemo)(()=>ie.some(({caipAccountId:e})=>{const{chain:t}=(0,r.parseCaipAccountId)(e);return t.namespace===r.KnownCaipNamespace.Solana}),[ie]),ge=(0,a.useCallback)(()=>{K(!0),M({category:v.MetaMetricsEventCategory.Navigation,event:v.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (accounts tab), Permissions toast, Permissions (dapp)"}})},[M]),he=(0,a.useCallback)(()=>{Y(!0)},[]),ye=(0,a.useCallback)(()=>{Y(!1)},[]),Ee=(0,a.useCallback)(()=>{K(!1)},[]),be=(0,a.useCallback)(()=>{n(t)},[t,n]),Te=(0,a.useCallback)(()=>{const t={...e,permissions:{...e.permissions,...(0,i.generateCaip25Caveat)(P,ue,ne)}};N(t)},[e,P,ue,ne,N]),_e=(0,_.transformOriginToTitle)(O.origin),ve=(0,S.useOriginTrustSignals)(O.origin);return a.default.createElement(f.Page,{"data-testid":"connect-page",className:"main-container connect-page",backgroundColor:h.BackgroundColor.backgroundDefault},a.default.createElement(f.Header,{paddingTop:8,paddingBottom:0},a.default.createElement(m.Box,{display:h.Display.Flex,justifyContent:h.JustifyContent.center,marginBottom:8},O.iconUrl?a.default.createElement(a.default.Fragment,null,a.default.createElement(m.Box,{style:{filter:"blur(16px) brightness(1.1)",position:"absolute"}},a.default.createElement(m.AvatarFavicon,{backgroundColor:h.BackgroundColor.backgroundMuted,size:m.AvatarFaviconSize.Xl,src:O.iconUrl,name:_e})),a.default.createElement(m.AvatarFavicon,{backgroundColor:h.BackgroundColor.backgroundMuted,size:m.AvatarFaviconSize.Lg,src:O.iconUrl,name:_e,style:{zIndex:1,background:"transparent"}})):a.default.createElement(m.AvatarBase,{size:m.AvatarBaseSize.Lg,display:h.Display.Flex,alignItems:h.AlignItems.center,justifyContent:h.JustifyContent.center,color:h.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:h.BackgroundColor.backgroundMuted},(0,_.isIpAddress)(_e)?"?":(0,_.getAvatarFallbackLetter)(_e))),a.default.createElement(m.Box,{display:h.Display.Flex,alignItems:h.AlignItems.center,justifyContent:h.JustifyContent.center,gap:2,marginBottom:1},a.default.createElement(m.Text,{variant:h.TextVariant.headingLg,style:{wordBreak:"break-word",whiteSpace:"normal"}},_e),ve.state===w.TrustSignalDisplayState.Verified&&a.default.createElement(c.Tooltip,{title:A("alertReasonOriginTrustSignalVerified"),position:"bottom",style:{display:"flex"}},a.default.createElement(m.Icon,{name:m.IconName.VerifiedFilled,color:h.IconColor.infoDefault,size:m.IconSize.Sm}))),a.default.createElement(m.Box,{display:h.Display.Flex,justifyContent:h.JustifyContent.center},a.default.createElement(m.Text,{color:h.TextColor.textAlternative},A("connectionDescription")))),a.default.createElement(f.Content,{paddingLeft:4,paddingRight:4,backgroundColor:h.BackgroundColor.transparent},a.default.createElement(b.Tabs,{onTabClick:()=>null,backgroundColor:l.BoxBackgroundColor.Transparent,justifyContent:l.BoxJustifyContent.Center,defaultActiveTabKey:"accounts",tabListProps:{backgroundColor:l.BoxBackgroundColor.Transparent}},a.default.createElement(b.Tab,{name:A("accounts"),tabKey:"accounts","data-testid":"accounts-tab"},a.default.createElement(m.Box,{marginTop:4},a.default.createElement(m.Box,{backgroundColor:h.BackgroundColor.backgroundDefault,borderRadius:h.BorderRadius.XL,style:{overflow:"auto",maxHeight:"268px",scrollbarColor:"var(--color-icon-muted) transparent"}},me.map(e=>a.default.createElement(T.AccountListItem,{showConnectedStatus:!1,account:e,key:e.caipAccountId,selected:!1})),0===me.length&&!j&&a.default.createElement(m.Box,{className:"connect-page__accounts-empty",display:h.Display.Flex,justifyContent:h.JustifyContent.center,alignItems:h.AlignItems.center,borderRadius:h.BorderRadius.XL},a.default.createElement(m.ButtonLink,{onClick:ge,"data-testid":"edit"},A("selectAccountToConnect")))),me.length>0&&a.default.createElement(m.Box,{marginTop:4,display:h.Display.Flex,justifyContent:h.JustifyContent.center},a.default.createElement(m.ButtonLink,{onClick:ge,"data-testid":"edit"},A("editAccounts"))),j&&!fe&&a.default.createElement(m.Box,{display:h.Display.Flex,flexDirection:h.FlexDirection.Column,justifyContent:h.JustifyContent.center,alignItems:h.AlignItems.center,marginTop:4,gap:2},a.default.createElement(m.Text,{variant:h.TextVariant.bodyMd,color:h.TextColor.textAlternative,textAlign:h.TextAlign.Center},0===me.length?A("solanaAccountRequired"):A("solanaAccountRequested")),a.default.createElement(m.Button,{variant:m.ButtonVariant.Secondary,width:h.BlockSize.Full,size:m.ButtonSize.Lg,onClick:he,"data-testid":"create-solana-account"},A("createSolanaAccount"))),H&&a.default.createElement(k.CreateSolanaAccountModal,{onClose:ye}),J&&a.default.createElement(T.EditAccountsModal,{accounts:ie,defaultSelectedAccountAddresses:ue,onClose:Ee,onSubmit:pe}))),a.default.createElement(b.Tab,{name:A("permissions"),tabKey:"permissions","data-testid":"permissions-tab",disabled:j&&!fe&&0===me.length},a.default.createElement(m.Box,{marginTop:4},a.default.createElement(g.SiteCell,{nonTestNetworks:z,testNetworks:$,accounts:ie,onSelectAccountAddresses:pe,onSelectChainIds:oe,selectedAccountAddresses:ue,selectedChainIds:ne,isConnectFlow:!0}))))),a.default.createElement(f.Footer,null,a.default.createElement(m.Box,{display:h.Display.Flex,flexDirection:h.FlexDirection.Column,gap:4,width:h.BlockSize.Full},a.default.createElement(m.Box,{display:h.Display.Flex,gap:4,width:h.BlockSize.Full},a.default.createElement(m.Button,{block:!0,variant:m.ButtonVariant.Secondary,size:m.ButtonSize.Lg,"data-testid":"cancel-btn",onClick:be},A("cancel")),a.default.createElement(m.Button,{block:!0,"data-testid":"confirm-btn",size:m.ButtonSize.Lg,onClick:Te,disabled:0===ue.length||0===ne.length},A("connect"))))))}}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/connect-page.tsx"}],[7388,{"../../../helpers/utils/util":6703,"@metamask/chain-agnostic-permission":1281,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaip25CaveatValueFromPermissions=function(e){var t;return(null==e||null===(t=e[o.Caip25EndowmentPermissionName])||void 0===t||null===(t=t.caveats)||void 0===t||null===(t=t.find(e=>e.type===o.Caip25CaveatType))||void 0===t?void 0:t.value)??{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}},n.getCaip25PermissionsResponse=function(e,t,n){const a=(0,o.setPermittedEthChainIds)(e,n),i=(0,o.setEthAccounts)(a,t);return{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:i}]}}},n.getDefaultAccounts=function(e,t,n){const o=[],r=new Set;t.forEach(t=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(t.caipAccountId);e.includes(n)&&(o.push(t),r.add(n))});const s=e.filter(e=>!r.has(e));if(s.length>0){const e=(0,i.sortSelectedInternalAccounts)(n);for(const t of s){const n=e.find(e=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(e.caipAccountId);return n===t});n&&o.push(n)}}return o};var a=e("@metamask/utils"),o=e("@metamask/chain-agnostic-permission"),i=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/utils.ts"}],[7389,{"./permissions-connect.container":7391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[7390,{"../../../app/scripts/lib/multichain/address":220,"../../../shared/constants/time":5449,"../../../shared/lib/multichain/scope-utils":5507,"../../components/app/permission-page-container":5815,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":5852,"../../components/component-library":6097,"../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper":6200,"../../components/multichain-accounts/state2-wrapper/state2-wrapper":6207,"../../helpers/constants/routes":6650,"../../hooks/useAccountGroupsForPermissions":6754,"../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page":7320,"./choose-account":7386,"./connect-page/connect-page":7387,"./connect-page/utils":7388,"./redirect":7392,"./snaps/snap-install":7394,"./snaps/snap-result":7396,"./snaps/snap-update":7398,"./snaps/snaps-connect":7400,"@metamask/chain-agnostic-permission":1281,"@metamask/permission-controller":2260,"@metamask/rpc-errors":2384,"@metamask/snaps-utils":2677,"@metamask/utils":2799,"prop-types":4777,react:4961,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=A(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-router-dom"),r=e("@metamask/rpc-errors"),s=e("@metamask/permission-controller"),c=e("@metamask/snaps-utils"),l=e("@metamask/chain-agnostic-permission"),u=e("@metamask/utils"),d=e("../../../app/scripts/lib/multichain/address"),p=e("../../../shared/constants/time"),m=e("../../helpers/constants/routes"),f=A(e("../../components/app/permission-page-container")),g=e("../../components/component-library"),h=A(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),y=e("../../components/multichain-accounts/state2-wrapper/state2-wrapper"),E=e("../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page"),b=e("../../hooks/useAccountGroupsForPermissions"),T=e("../../../shared/lib/multichain/scope-utils"),_=e("../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper"),v=A(e("./choose-account")),x=A(e("./redirect")),k=A(e("./snaps/snaps-connect")),C=A(e("./snaps/snap-install")),S=A(e("./snaps/snap-update")),w=A(e("./snaps/snap-result")),I=e("./connect-page/connect-page"),N=e("./connect-page/utils");function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R=1200*p.MILLISECOND;function B(e,t){const n=(0,N.getCaip25CaveatValueFromPermissions)(t),a=(0,l.getEthAccounts)(n);return a.length>0?new Set(a.map(e=>e.toLowerCase()).filter(d.isEthAddress)):new Set((0,d.isEthAddress)(e)?[e]:[])}function D(e){const t=(0,N.getCaip25CaveatValueFromPermissions)(e);return(0,l.getPermittedEthChainIds)(t)}class P extends o.Component{constructor(...e){var t;super(...e),M(this,"state",{redirecting:!1,selectedAccountAddresses:B(this.props.currentAddress,null===(t=this.props.permissionsRequest)||void 0===t?void 0:t.permissions),permissionsApproved:null,origin:this.props.origin,targetSubjectMetadata:this.props.targetSubjectMetadata||{},snapsInstallPrivacyWarningShown:this.props.snapsInstallPrivacyWarningShown}),M(this,"selectAccounts",e=>{const{confirmPermissionPath:t,requestType:n,snapsConnectPath:a,snapInstallPath:o,snapUpdatePath:i,snapResultPath:r}=this.props;this.setState({selectedAccountAddresses:e},()=>{switch(n){case"wallet_installSnap":this.props.history.push(o);break;case"wallet_updateSnap":this.props.history.push(i);break;case"wallet_installSnapResult":this.props.history.push(r);break;case"wallet_connectSnaps":this.props.history.replace(a);break;default:this.props.history.push(t)}})}),M(this,"cancelPermissionsRequest",async e=>{const{rejectPermissionsRequest:t}=this.props;e&&(await t(e),this.redirect(!1))}),M(this,"renderSnapChooseAccountState1",()=>{const{accounts:e,nativeCurrency:t,showNewAccountModal:n,newAccountNumber:a,addressLastConnectedMap:i,permissionsRequestId:r,targetSubjectMetadata:s}=this.props,{selectedAccountAddresses:c}=this.state;return o.default.createElement(v.default,{accounts:e,nativeCurrency:t,selectAccounts:e=>this.selectAccounts(e),selectNewAccountViaModal:e=>{n({onCreateNewAccount:t=>e(t),newAccountNumber:a})},addressLastConnectedMap:i,cancelPermissionsRequest:e=>this.cancelPermissionsRequest(e),permissionsRequestId:r,selectedAccountAddresses:c,targetSubjectMetadata:s})}),M(this,"renderSnapChooseAccountState2",()=>{const{permissionsRequestId:e,accountGroups:t,permissionsRequest:n}=this.props,{t:a}=this.context,i=(0,N.getCaip25CaveatValueFromPermissions)(null==n?void 0:n.permissions),r=[],s=(0,l.getAllScopesFromCaip25CaveatValue)(i).filter(e=>{const{namespace:t}=(0,u.parseCaipChainId)(e);return t!==u.KnownCaipNamespace.Wallet}),c=(0,l.getAllNamespacesFromCaip25CaveatValue)(i);return s.length>0&&s.forEach(e=>{r.push(e)}),c.includes(u.KnownCaipNamespace.Eip155)&&r.push(`${u.KnownCaipNamespace.Eip155}:0`),o.default.createElement(_.MultichainEditAccountsPageWrapper,{title:a("connectWithMetaMask"),permissions:null==n?void 0:n.permissions,onSubmit:e=>{const n=t.filter(t=>e.includes(t.id)&&(0,b.supportsChainIds)(t,r)),a=(0,T.getCaip25AccountIdsFromAccountGroupAndScope)(n,r).map(e=>(0,u.parseCaipAccountId)(e).address);this.selectAccounts(new Set(a))},onClose:()=>this.cancelPermissionsRequest(e)})}),M(this,"renderConnectPageState1",()=>{const e={rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),activeTabOrigin:this.state.origin,request:this.props.permissionsRequest||{},permissionsRequestId:this.props.permissionsRequestId,approveConnection:this.approveConnection,targetSubjectMetadata:this.props.targetSubjectMetadata};return o.default.createElement(I.ConnectPage,e)}),M(this,"renderConnectPageState2",()=>{const e={rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),activeTabOrigin:this.state.origin,request:this.props.permissionsRequest||{},permissionsRequestId:this.props.permissionsRequestId,approveConnection:this.approveConnection,targetSubjectMetadata:this.props.targetSubjectMetadata};return o.default.createElement(E.MultichainAccountsConnectPage,e)}),M(this,"approveConnection",(...e)=>{const{approvePermissionsRequest:t}=this.props;t(...e),this.redirect(!0)})}componentDidMount(){const{connectPath:e,confirmPermissionPath:t,snapsConnectPath:n,snapInstallPath:a,snapUpdatePath:o,snapResultPath:i,requestType:r,getRequestAccountTabIds:s,permissionsRequest:c,history:l,isRequestingAccounts:u}=this.props;if(s(),c){if(l.location.pathname===e&&!u)switch(r){case"wallet_installSnap":l.replace(a);break;case"wallet_updateSnap":l.replace(o);break;case"wallet_installSnapResult":l.replace(i);break;case"wallet_connectSnaps":l.replace(n);break;default:l.replace(t)}}else l.replace(m.DEFAULT_ROUTE)}componentDidUpdate(e){var t;const{permissionsRequest:n,lastConnectedInfo:a,targetSubjectMetadata:o}=this.props,{redirecting:i,origin:r}=this.state;if(null!=o&&o.origin&&(null===(t=e.targetSubjectMetadata)||void 0===t?void 0:t.origin)!==(null==o?void 0:o.origin)&&this.setState({targetSubjectMetadata:o}),!n&&e.permissionsRequest&&!i){var s,c;const t=((null===(s=a[r])||void 0===s?void 0:s.lastApproved)||0)>((null===(c=e.lastConnectedInfo[r])||void 0===c?void 0:c.lastApproved)||0);this.redirect(t)}}redirect(e){const{history:t,permissionsRequest:n}=this.props;let a=!0;a=!((null==n?void 0:n.permissions)&&Object.keys(n.permissions).includes("wallet_snap")),this.setState({redirecting:a,permissionsApproved:e}),a&&e?setTimeout(()=>t.push(m.DEFAULT_ROUTE),R):t.push(m.DEFAULT_ROUTE)}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}renderTopBar(e){const{targetSubjectMetadata:t}=this.state;return o.default.createElement(g.Box,{style:{boxShadow:t.subjectType===s.SubjectType.Snap&&"var(--shadow-size-lg) var(--color-shadow-default)"}},t.subjectType===s.SubjectType.Snap&&o.default.createElement(h.default,{snapId:t.origin,boxShadow:"none",onCancel:()=>{this.cancelPermissionsRequest(e)}}))}render(){var e;const{accounts:t,permissionsRequest:n,permissionsRequestId:a,connectPath:s,confirmPermissionPath:l,hideTopBar:u,targetSubjectMetadata:d,snapsConnectPath:p,snapInstallPath:m,snapUpdatePath:g,snapResultPath:h,requestState:E,approvePendingApproval:b,rejectPendingApproval:T,setSnapsInstallPrivacyWarningShownStatus:_,approvePermissionsRequest:v,history:I}=this.props,{selectedAccountAddresses:N,permissionsApproved:O,redirecting:A,snapsInstallPrivacyWarningShown:M}=this.state,R=(0,c.isSnapId)(null==n||null===(e=n.metadata)||void 0===e?void 0:e.origin);return o.default.createElement("div",{className:"permissions-connect"},!u&&this.renderTopBar(a),A&&O?o.default.createElement(x.default,{subjectMetadata:d}):o.default.createElement(i.Switch,null,o.default.createElement(i.Route,{path:s,exact:!0,render:()=>R?o.default.createElement(y.State2Wrapper,{state1Component:this.renderSnapChooseAccountState1,state2Component:this.renderSnapChooseAccountState2}):o.default.createElement(y.State2Wrapper,{state1Component:this.renderConnectPageState1,state2Component:this.renderConnectPageState2})}),o.default.createElement(i.Route,{path:l,exact:!0,render:()=>o.default.createElement(f.default,{request:n||{},approvePermissionsRequest:(...e)=>{v(...e),this.redirect(!0)},rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),selectedAccounts:t.filter(e=>N.has(e.address)),requestedChainIds:D(null==n?void 0:n.permissions),targetSubjectMetadata:d,history:I,connectPath:s,snapsInstallPrivacyWarningShown:M,setSnapsInstallPrivacyWarningShownStatus:_})}),o.default.createElement(i.Route,{path:p,exact:!0,render:()=>o.default.createElement(k.default,{request:n||{},approveConnection:this.approveConnection,rejectConnection:e=>this.cancelPermissionsRequest(e),targetSubjectMetadata:d,snapsInstallPrivacyWarningShown:M,setSnapsInstallPrivacyWarningShownStatus:_})}),o.default.createElement(i.Route,{path:m,exact:!0,render:()=>o.default.createElement(C.default,{request:n||{},requestState:E||{},approveSnapInstall:e=>{b(e,{...n,permissions:E.permissions,approvedAccounts:[...N]}),this.setState({permissionsApproved:!0})},rejectSnapInstall:e=>{T(e,(0,r.serializeError)(r.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!0})},targetSubjectMetadata:d})}),o.default.createElement(i.Route,{path:g,exact:!0,render:()=>o.default.createElement(S.default,{request:n||{},requestState:E||{},approveSnapUpdate:e=>{b(e,{...n,permissions:E.permissions,approvedAccounts:[...N]}),this.setState({permissionsApproved:!0})},rejectSnapUpdate:e=>{T(e,(0,r.serializeError)(r.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!1})},targetSubjectMetadata:d})}),o.default.createElement(i.Route,{path:h,exact:!0,render:()=>o.default.createElement(w.default,{request:n||{},requestState:E||{},approveSnapResult:e=>{b(e),this.setState({permissionsApproved:!0})},targetSubjectMetadata:d})})))}}n.default=P,M(P,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,getRequestAccountTabIds:a.default.func.isRequired,accounts:a.default.arrayOf(a.default.shape({id:a.default.string.isRequired,address:a.default.string.isRequired,metadata:a.default.shape({name:a.default.string.isRequired,snap:a.default.shape({id:a.default.string.isRequired,name:a.default.string,enabled:a.default.bool}),keyring:a.default.shape({type:a.default.string.isRequired}).isRequired}).isRequired,addressLabel:a.default.string.isRequired,label:a.default.string.isRequired,balance:a.default.string.isRequired})).isRequired,accountGroups:a.default.arrayOf(a.default.shape({id:a.default.string.isRequired,accounts:a.default.arrayOf(a.default.object.isRequired)})).isRequired,currentAddress:a.default.string.isRequired,origin:a.default.string,showNewAccountModal:a.default.func.isRequired,newAccountNumber:a.default.number.isRequired,nativeCurrency:a.default.string,permissionsRequest:a.default.object,addressLastConnectedMap:a.default.object.isRequired,lastConnectedInfo:a.default.object.isRequired,permissionsRequestId:a.default.string,history:a.default.object.isRequired,connectPath:a.default.string.isRequired,confirmPermissionPath:a.default.string.isRequired,requestType:a.default.string.isRequired,snapsConnectPath:a.default.string.isRequired,snapInstallPath:a.default.string.isRequired,snapUpdatePath:a.default.string.isRequired,snapResultPath:a.default.string.isRequired,requestState:a.default.object.isRequired,approvePendingApproval:a.default.func.isRequired,rejectPendingApproval:a.default.func.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func.isRequired,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,hideTopBar:a.default.bool,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string,subjectType:a.default.string}),isRequestingAccounts:a.default.bool.isRequired}),M(P,"defaultProps",{origin:"",nativeCurrency:"",permissionsRequest:undefined,permissionsRequestId:""}),M(P,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.component.js"}],[7391,{"../../ducks/metamask/metamask":6632,"../../helpers/constants/routes":6650,"../../helpers/utils/util":6703,"../../selectors":7539,"../../selectors/multichain-accounts/account-tree":7543,"../../store/actions":7565,"./permissions-connect.component":7390,"@metamask/chain-agnostic-permission":1281,"@metamask/keyring-api":1994,"@metamask/permission-controller":2260,"@metamask/snaps-rpc-methods":2507,"prop-types":4777,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/permission-controller"),o=e("@metamask/snaps-rpc-methods"),i=e("react-redux"),r=h(e("prop-types")),s=e("@metamask/keyring-api"),c=e("@metamask/chain-agnostic-permission"),l=e("../../selectors"),u=e("../../ducks/metamask/metamask"),d=e("../../helpers/utils/util"),p=e("../../store/actions"),m=e("../../helpers/constants/routes"),f=e("../../selectors/multichain-accounts/account-tree"),g=h(e("./permissions-connect.component"));function h(e){return e&&e.__esModule?e:{default:e}}const y=(0,i.connect)((e,t)=>{var n,i,r;const{match:{params:{id:p}},location:{pathname:g}}=t;let h=(0,l.getPermissionsRequests)(e);h=[...h,...(0,l.getSnapInstallOrUpdateRequests)(e)];const{address:y}=(0,l.getSelectedInternalAccount)(e),E=h.find(e=>e.metadata.id===p),{metadata:b={},diff:T={}}=E||{},{origin:_}=b,v=(0,u.getNativeCurrency)(e),x=Boolean(null==T?void 0:T.permissionDiffMap),k=Boolean((null==E||null===(n=E.permissions)||void 0===n?void 0:n[c.Caip25EndowmentPermissionName])&&!x),C=(0,l.getTargetSubjectMetadata)(e,_)??{name:(0,d.getURLHostName)(_)||_,origin:_,iconUrl:null,extensionId:null,subjectType:a.SubjectType.Unknown};let S=(0,l.getRequestType)(e,p);E&&1===Object.keys(E.permissions||{}).length&&null!==(i=E.permissions)&&void 0!==i&&i[o.WALLET_SNAP_PERMISSION_KEY]&&(S="wallet_connectSnaps");const w=(0,l.getRequestState)(e,p)||{},I=(0,l.getAccountsWithLabels)(e).filter(e=>(0,s.isEvmAccountType)(e.type)),N=(0,l.getLastConnectedInfo)(e)||{},O=(null===(r=N[_])||void 0===r?void 0:r.accounts)||{};Object.keys(O).forEach(e=>{O[e]=(0,d.formatDate)(O[e],"yyyy-MM-dd")});const A=`${m.CONNECT_ROUTE}/${p}`,M=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,R=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAPS_CONNECT_ROUTE}`,B=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_INSTALL_ROUTE}`,D=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_UPDATE_ROUTE}`,P=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_RESULT_ROUTE}`,F=g===B||g===D||g===P;let L=1+k;L+=F,L=L.toString();let j="";if(g===A)j="1";else if(g===M)j=k?"2":"1";else if(F)j=k?"3":"2";else{if(g!==R)throw new Error("Incorrect path for permissions-connect component");j=1}return{isRequestingAccounts:k,requestType:S,snapsConnectPath:R,snapInstallPath:B,snapUpdatePath:D,snapResultPath:P,requestState:w,hideTopBar:F,snapsInstallPrivacyWarningShown:(0,l.getSnapsInstallPrivacyWarningShown)(e),permissionsRequest:E,permissionsRequestId:p,accounts:I,accountGroups:(0,f.getAccountGroupWithInternalAccounts)(e),currentAddress:y,origin:_,newAccountNumber:I.length+1,nativeCurrency:v,addressLastConnectedMap:O,lastConnectedInfo:N,connectPath:A,confirmPermissionPath:M,totalPages:L,page:j,targetSubjectMetadata:C}},e=>({approvePermissionsRequest:t=>e((0,p.approvePermissionsRequest)(t)),rejectPermissionsRequest:t=>e((0,p.rejectPermissionsRequest)(t)),approvePendingApproval:(t,n)=>e((0,p.resolvePendingApproval)(t,n)),rejectPendingApproval:(t,n)=>e((0,p.rejectPendingApproval)(t,n)),setSnapsInstallPrivacyWarningShownStatus:t=>{e((0,p.setSnapsInstallPrivacyWarningShownStatus)(t))},showNewAccountModal:({onCreateNewAccount:t,newAccountNumber:n})=>e((0,p.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),getRequestAccountTabIds:()=>e((0,p.getRequestAccountTabIds)())}))(g.default);y.propTypes={history:r.default.object.isRequired,match:r.default.shape({params:r.default.shape({id:r.default.string}).isRequired}).isRequired};n.default=y}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.container.js"}],[7392,{"./permissions-redirect.component":7393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-redirect.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[7393,{"../../../components/app/permissions-connect-footer":5821,"../../../components/component-library":6097,"../../../contexts/i18n":6603,"../../../helpers/constants/design-system":6645,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("prop-types")),i=e("../../../helpers/constants/design-system"),r=e("../../../contexts/i18n"),s=e("../../../components/component-library"),c=l(e("../../../components/app/permissions-connect-footer"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({subjectMetadata:e}){const t=(0,a.useContext)(r.I18nContext),[n,o]=(0,a.useState)(e);return(0,a.useEffect)(()=>{e&&e.origin&&o(e)},[e]),a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,height:i.BlockSize.Full,justifyContent:i.JustifyContent.spaceBetween},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,height:i.BlockSize.Full,backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.XS,border:`1px solid ${i.BorderColor.borderMuted}`,boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},a.default.createElement(s.Box,{display:i.Display.Flex,marginBottom:4},a.default.createElement(s.Text,{variant:i.TextVariant.headingMd},t("connecting"))),a.default.createElement(s.Box,{display:i.Display.Flex,backgroundColor:i.BackgroundColor.infoMuted,borderRadius:i.BorderRadius.pill,padding:2},a.default.createElement(s.AvatarToken,{src:n.iconUrl,name:n.name,size:s.AvatarTokenSize.Lg}),a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,paddingLeft:4,paddingRight:4},a.default.createElement(s.Icon,{name:s.IconName.Confirmation,size:s.IconSize.Xl,color:i.IconColor.infoDefault})),a.default.createElement(s.AvatarToken,{src:"/images/logo/metamask-fox.svg",size:s.AvatarTokenSize.Lg,name:"metamask-fox"}))),a.default.createElement(s.Box,{backgroundColor:i.BackgroundColor.backgroundDefault,padding:4},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},a.default.createElement(c.default,null),a.default.createElement(s.Box,{display:i.Display.Flex,paddingTop:4,width:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,width:i.BlockSize.Full,marginRight:2,disabled:!0},t("back")),a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:i.BlockSize.Full,marginLeft:2,disabled:!0,loading:!0})))))}d.propTypes={subjectMetadata:o.default.shape({extensionId:o.default.string,iconUrl:o.default.string,subjectType:o.default.string,name:o.default.string.isRequired,origin:o.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[7394,{"./snap-install":7395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-install"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[7395,{"../../../../components/app/permission-connect-header":5813,"../../../../components/app/snaps/install-error/install-error":5843,"../../../../components/app/snaps/snap-authorship-header":5851,"../../../../components/app/snaps/snap-install-warning":5864,"../../../../components/app/snaps/snap-permissions-list":5876,"../../../../components/component-library":6097,"../../../../components/ui/page-container":6552,"../../../../components/ui/pulse-loader/pulse-loader":6561,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/util":6703,"../../../../hooks/useI18nContext":6777,"../../../../hooks/useOriginMetadata":6795,"../../../../hooks/useScrollRequired":6799,"../../../../selectors":7539,"../util":7402,"@metamask/snaps-utils":2677,"prop-types":4777,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=x(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),r=e("@metamask/snaps-utils"),s=e("../../../../components/ui/page-container"),c=e("../../../../hooks/useI18nContext"),l=x(e("../../../../components/app/snaps/snap-install-warning")),u=e("../../../../helpers/constants/design-system"),d=e("../util"),p=x(e("../../../../components/ui/pulse-loader/pulse-loader")),m=x(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../components/component-library"),g=x(e("../../../../components/app/snaps/snap-permissions-list")),h=e("../../../../hooks/useScrollRequired"),y=x(e("../../../../components/app/snaps/install-error/install-error")),E=e("../../../../hooks/useOriginMetadata"),b=e("../../../../selectors"),T=e("../../../../helpers/utils/util"),_=x(e("../../../../components/app/permission-connect-header"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}function k({request:e,requestState:t,approveSnapInstall:n,rejectSnapInstall:a,targetSubjectMetadata:v}){var x,k,C;const S=(0,c.useI18nContext)(),w=(0,E.useOriginMetadata)(null==e||null===(x=e.metadata)||void 0===x?void 0:x.dappOrigin)||{},{origin:I,iconUrl:N}=w,[O,A]=(0,o.useState)(!1),M=(0,i.useSelector)(b.getSnapsMetadata),[R,B]=(0,o.useState)(!1),{isScrollable:D,hasScrolledToBottom:P,scrollToBottom:F,ref:L,onScroll:j}=(0,h.useScrollRequired)([t]),U=(0,o.useCallback)(()=>a(e.metadata.id),[e,a]),W=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),{name:z}=(0,i.useSelector)(e=>(0,b.getSnapMetadata)(e,v.origin)),$=!t.loading&&t.error,V=t.loading,G=(0,r.isSnapId)(null==e||null===(k=e.metadata)||void 0===k?void 0:k.dappOrigin),q=(0,d.getSnapInstallWarnings)((null==t?void 0:t.permissions)??{},S,z,(0,T.getSnapName)(M)),J=q.length>0;return o.default.createElement(f.Box,{className:"snap-install",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},!V&&!$||G?o.default.createElement(m.default,{snapId:V&&G?null==e||null===(C=e.metadata)||void 0===C?void 0:C.dappOrigin:v.origin,onCancel:U}):o.default.createElement(_.default,{origin:I,iconUrl:N}),o.default.createElement(f.Box,{ref:V||$?undefined:L,onScroll:j,className:"snap-install__content",style:{overflowY:"auto",flex:!V&&!$&&"1"},paddingLeft:4,paddingRight:4},V&&o.default.createElement(f.Box,{display:u.Display.Flex,className:"snap-install__content__loader-container",flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},o.default.createElement(p.default,null)),$&&o.default.createElement(y.default,{iconName:f.IconName.Warning,title:S("connectionFailed"),description:S("connectionFailedDescription",[o.default.createElement(f.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},z)]),error:t.error}),!$&&!V&&o.default.createElement(o.default.Fragment,null,o.default.createElement(f.Text,{variant:u.TextVariant.headingMd,paddingTop:4,paddingBottom:2,textAlign:"center"},S("installRequest")),o.default.createElement(f.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:u.TextAlign.Center},S("snapInstallRequest",[o.default.createElement(f.Text,{as:"span",key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},z)])),o.default.createElement(f.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:u.BorderRadius.XL},o.default.createElement(g.default,{snapId:v.origin,snapName:z,permissions:t.permissions||{},connections:t.connections||{},onShowAllPermissions:()=>{B(!0)}})),o.default.createElement(f.Box,{className:"snap-install__scroll-button-area"},!D||P||R?null:o.default.createElement(f.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:f.IconName.Arrow2Down,backgroundColor:u.BackgroundColor.infoDefault,color:u.IconColor.primaryInverse,onClick:F,style:{cursor:"pointer"}})))),o.default.createElement(f.Box,{className:"snap-install__footer",display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},o.default.createElement(s.PageContainerFooter,{cancelButtonType:"default",hideCancel:$,disabled:V||!$&&D&&!P,onCancel:U,cancelText:S("cancel"),onSubmit:()=>{!$&&J?A(!0):$?U():W()},submitText:S($?"ok":V?"connect":"confirm")})),O&&o.default.createElement(l.default,{onCancel:()=>A(!1),onSubmit:W,warnings:q,snapName:z}))}k.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapInstall:a.default.func.isRequired,rejectSnapInstall:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[7396,{"./snap-result":7397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-result"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[7397,{"../../../../components/app/snaps/install-error/install-error":5843,"../../../../components/app/snaps/snap-authorship-header":5851,"../../../../components/component-library":6097,"../../../../components/ui/box/box":6477,"../../../../components/ui/page-container":6552,"../../../../components/ui/pulse-loader/pulse-loader":6561,"../../../../helpers/constants/design-system":6645,"../../../../hooks/useI18nContext":6777,"../../../../selectors":7539,"prop-types":4777,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),r=e("../../../../components/ui/page-container"),s=e("../../../../hooks/useI18nContext"),c=h(e("../../../../components/ui/box/box")),l=e("../../../../helpers/constants/design-system"),u=e("../../../../components/component-library"),d=h(e("../../../../components/ui/pulse-loader/pulse-loader")),p=h(e("../../../../components/app/snaps/install-error/install-error")),m=h(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../selectors");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y({request:e,requestState:t,approveSnapResult:n,targetSubjectMetadata:a}){const g=(0,s.useI18nContext)(),h=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),y=!t.loading&&t.error,E=t.loading,{name:b}=(0,i.useSelector)(e=>(0,f.getSnapMetadata)(e,a.origin));return o.default.createElement(c.default,{className:"page-container snap-result",justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,borderStyle:l.BorderStyle.none,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative},o.default.createElement(m.default,{snapId:a.origin,onCancel:h}),o.default.createElement(c.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative,height:l.BlockSize.Full,justifyContent:l.JustifyContent.center},E&&o.default.createElement(c.default,{className:"snap-result__content__loader-container",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,height:l.BlockSize.Full},o.default.createElement(d.default,null)),!E&&!y&&function(e,t){let n;switch(e){case"wallet_installSnap":n=g("snapInstallSuccess");break;case"wallet_updateSnap":n=g("snapUpdateSuccess");break;default:n=g("snapResultSuccess")}return o.default.createElement(c.default,{flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,height:l.BlockSize.Full,paddingTop:2,paddingBottom:2,backgroundColor:l.BackgroundColor.backgroundAlternative},o.default.createElement(u.AvatarIcon,{className:"snap-result__header__icon",iconName:u.IconName.Confirmation,size:u.AvatarIconSize.Xl,color:l.IconColor.successDefault,backgroundColor:l.BackgroundColor.successMuted}),o.default.createElement(u.Text,{fontWeight:l.FontWeight.Bold,textAlign:l.TextAlign.Center,variant:l.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),o.default.createElement(u.Text,{textAlign:l.TextAlign.Center},g("snapResultSuccessDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},t)])))}(t.type,b),y&&function(e,n){let a,i;switch(e){case"wallet_installSnap":a=g("snapInstallationErrorTitle"),i=g("snapInstallationErrorDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},n)]);break;case"wallet_updateSnap":a=g("snapUpdateErrorTitle"),i=g("snapUpdateErrorDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},n)]);break;default:a=g("snapResultError")}return o.default.createElement(p.default,{error:t.error,title:a,description:i,iconName:u.IconName.Warning})}(t.type,b)),o.default.createElement(c.default,{className:"snap-result__footer",alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative},o.default.createElement(r.PageContainerFooter,{hideCancel:!0,disabled:E,onSubmit:h,submitText:g("ok").toUpperCase()})))}y.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapResult:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[7398,{"./snap-update":7399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-update"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}],[7399,{"../../../../components/app/snaps/install-error/install-error":5843,"../../../../components/app/snaps/snap-authorship-header":5851,"../../../../components/app/snaps/snap-install-warning":5864,"../../../../components/app/snaps/update-snap-permission-list":5968,"../../../../components/component-library":6097,"../../../../components/ui/page-container":6552,"../../../../components/ui/pulse-loader/pulse-loader":6561,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/util":6703,"../../../../hooks/useI18nContext":6777,"../../../../hooks/useScrollRequired":6799,"../../../../selectors":7539,"../util":7402,"prop-types":4777,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=T(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),r=e("../../../../components/ui/page-container"),s=e("../../../../hooks/useI18nContext"),c=T(e("../../../../components/app/snaps/snap-install-warning")),l=e("../../../../helpers/constants/design-system"),u=T(e("../../../../components/app/snaps/update-snap-permission-list")),d=e("../util"),p=T(e("../../../../components/ui/pulse-loader/pulse-loader")),m=T(e("../../../../components/app/snaps/install-error/install-error")),f=T(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),h=e("../../../../hooks/useScrollRequired"),y=e("../../../../selectors"),E=e("../../../../helpers/utils/util");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}function _({request:e,requestState:t,approveSnapUpdate:n,rejectSnapUpdate:a,targetSubjectMetadata:b}){const T=(0,s.useI18nContext)(),[_,v]=(0,o.useState)(!1),[x,k]=(0,o.useState)(!1),{isScrollable:C,hasScrolledToBottom:S,scrollToBottom:w,ref:I,onScroll:N}=(0,h.useScrollRequired)([t]),O=(0,i.useSelector)(y.getSnapsMetadata),A=(0,o.useCallback)(()=>a(e.metadata.id),[e,a]),M=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),{name:R}=(0,i.useSelector)(e=>(0,y.getSnapMetadata)(e,b.origin)),B=t.approvedPermissions??{},D=t.unusedPermissions??{},P=t.newPermissions??{},F=t.approvedConnections??{},L=t.unusedConnections??{},j=t.newConnections??{},{newVersion:U}=t,W=t.loading,z=!W&&t.error,$=(0,d.getSnapInstallWarnings)(P,T,R,(0,E.getSnapName)(O)),V=$.length>0;return o.default.createElement(g.Box,{className:"snap-update",display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,borderStyle:l.BorderStyle.none,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative},o.default.createElement(f.default,{snapId:b.origin,onCancel:A}),o.default.createElement(g.Box,{ref:I,onScroll:N,className:"snap-update__content",style:{overflowY:"auto",flex:!W&&"1"},paddingLeft:4,paddingRight:4},!W&&!z&&o.default.createElement(g.Text,{paddingTop:4,paddingBottom:2,variant:l.TextVariant.headingMd,textAlign:"center"},T("updateRequest")),W&&o.default.createElement(g.Box,{className:"snap-update__content__loader-container",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center},o.default.createElement(p.default,null)),z&&o.default.createElement(m.default,{iconName:g.IconName.Warning,error:t.error,title:T("snapUpdateErrorTitle"),description:T("snapUpdateErrorDescription",[o.default.createElement(g.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},R)])}),!z&&!W&&o.default.createElement(o.default.Fragment,null,o.default.createElement(g.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:l.TextAlign.Center},T("snapUpdateRequest",[o.default.createElement(g.Text,{as:"span",key:"2",variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},R),o.default.createElement(g.Text,{as:"span",key:"3",variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},U)])),o.default.createElement(g.Box,{display:l.Display.Flex,backgroundColor:l.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:l.BorderRadius.XL},o.default.createElement(u.default,{approvedPermissions:B,revokedPermissions:D,newPermissions:P,approvedConnections:F,revokedConnections:L,newConnections:j,targetSubjectMetadata:b,showAllPermissions:()=>{k(!0)}})),o.default.createElement(g.Box,{className:"snap-update__scroll-button-area"},!C||S||x?null:o.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:l.BackgroundColor.infoDefault,color:l.IconColor.primaryInverse,onClick:w,style:{cursor:"pointer"}})))),o.default.createElement(g.Box,{className:"snap-update__footer",display:l.Display.Flex,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative},o.default.createElement(r.PageContainerFooter,{cancelButtonType:"default",hideCancel:z,disabled:W||!z&&C&&!S,onCancel:A,cancelText:T("cancel"),onSubmit:()=>{!z&&V?v(!0):z?A():M()},submitText:T(z?"ok":"confirm")})),_&&o.default.createElement(c.default,{onCancel:()=>v(!1),onSubmit:M,snapName:R,warnings:$}))}_.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapUpdate:a.default.func.isRequired,rejectSnapUpdate:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[7400,{"./snaps-connect":7401},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snaps-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[7401,{"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":5855,"../../../../components/app/snaps/snap-icon":5862,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":5879,"../../../../components/component-library":6097,"../../../../components/ui/page-container":6552,"../../../../components/ui/pulse-loader/pulse-loader":6561,"../../../../helpers/constants/design-system":6645,"../../../../helpers/utils/util":6703,"../../../../hooks/useI18nContext":6777,"../../../../hooks/useOriginMetadata":6795,"../../../../selectors":7539,"@metamask/snaps-utils":2677,"prop-types":4777,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),i=E(e("prop-types")),r=e("@metamask/snaps-utils"),s=e("../../../../hooks/useI18nContext"),c=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../components/ui/page-container"),d=E(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),p=e("../../../../helpers/utils/util"),m=E(e("../../../../components/ui/pulse-loader/pulse-loader")),f=E(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),g=e("../../../../selectors"),h=e("../../../../hooks/useOriginMetadata"),y=e("../../../../components/app/snaps/snap-icon");function E(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:i,snapsInstallPrivacyWarningShown:E,setSnapsInstallPrivacyWarningShownStatus:b}){const T=(0,s.useI18nContext)(),{origin:_}=i,[v,x]=(0,a.useState)(!1),k=(0,o.useSelector)(t=>{var n;return(0,g.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)}),C=(0,o.useSelector)(g.getPreinstalledSnaps),S=(0,p.getDedupedSnaps)(e,k),w=S[0],{name:I}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,w)),N=Object.keys(C).includes(w),[O,A]=(0,a.useState)(!N&&!E),M=(0,a.useCallback)(()=>{n(e.metadata.id)},[e,n]),R=(0,a.useCallback)(()=>{try{x(!0),t(e)}finally{x(!1)}},[e,t]),B=()=>{var e;let t=null===(e=(0,h.useOriginMetadata)(_)||{})||void 0===e?void 0:e.hostname;const{name:n}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,(0,r.isSnapId)(_)?_:`npm:${_}`));return(0,r.isSnapId)(_)&&(t=n),v?a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,width:l.BlockSize.Full,height:l.BlockSize.Full},a.default.createElement(m.default,null)):(null==S?void 0:S.length)>1?a.default.createElement(c.Box,{flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,paddingTop:4,width:l.BlockSize.Full,style:{overflowY:"hidden"},backgroundColor:l.BackgroundColor.backgroundAlternative},a.default.createElement(c.Text,{paddingBottom:2,variant:l.TextVariant.headingMd,textAlign:l.TextAlign.Center},T("connectionRequest")),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,textAlign:l.TextAlign.Center},T("multipleSnapConnectionWarning",[a.default.createElement(c.Text,{as:"span",key:"1",variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},t),a.default.createElement(c.Text,{as:"span",key:"2",variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},null==S?void 0:S.length)])),a.default.createElement(c.Box,{flexDirection:l.FlexDirection.Column,display:l.Display.Flex,marginTop:4,width:l.BlockSize.Full,style:{overflowY:"auto",flex:1}},S.map(e=>a.default.createElement(d.default,{key:`snaps-connect-${e}`,snapId:e,origin:t})))):1===(null==S?void 0:S.length)?a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,width:l.BlockSize.Full,height:l.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:l.BackgroundColor.backgroundAlternative},a.default.createElement(c.Box,{paddingBottom:2},a.default.createElement(y.SnapIcon,{snapId:S[0],avatarSize:c.IconSize.Xl})),a.default.createElement(c.Text,{paddingBottom:2,variant:l.TextVariant.headingMd,textAlign:"center"},T("connectionRequest")),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,textAlign:l.TextAlign.Center,padding:[0,4],overflowWrap:l.OverflowWrap.Anywhere},T("snapConnectionWarning",[a.default.createElement(c.Text,{as:"span",key:"1",variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},t),a.default.createElement(c.Text,{as:"span",key:"2",variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},I)]))):null};return a.default.createElement(c.Box,{className:"snaps-connect",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,height:l.BlockSize.Full,width:l.BlockSize.Full,backgroundColor:l.BackgroundColor.backgroundAlternative},O&&a.default.createElement(f.default,{onAccepted:()=>{A(!1),b(!0)},onCanceled:M}),a.default.createElement(c.Box,{display:l.Display.Flex,height:l.BlockSize.Full,width:l.BlockSize.Full,paddingLeft:4,paddingRight:4},a.default.createElement(B,null)),a.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",hideCancel:!1,disabled:v,onCancel:M,cancelText:T("cancel"),onSubmit:R,submitText:T("connect")}))}T.propTypes={request:i.default.object.isRequired,approveConnection:i.default.func.isRequired,rejectConnection:i.default.func.isRequired,targetSubjectMetadata:i.default.shape({extensionId:i.default.string,iconUrl:i.default.string,name:i.default.string,origin:i.default.string,subjectType:i.default.string}),snapsInstallPrivacyWarningShown:i.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:i.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[7402,{"../../../helpers/utils/permission":6691},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n,o){return Object.entries(e).reduce((e,[i,r])=>{const s=(0,a.getPermissionDescription)({t:t,permissionName:i,permissionValue:r,subjectName:n,getSubjectName:o});return e.concat(s.filter(e=>e.weight<=2))},[])};var a=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[7403,{"./remove-snap-account":7404,"./snap-account-card":7405},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a={RemoveSnapAccount:!0};Object.defineProperty(n,"RemoveSnapAccount",{enumerable:!0,get:function(){return i.default}});var o,i=(o=e("./remove-snap-account"))&&o.__esModule?o:{default:o},r=e("./snap-account-card");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))})}}},{package:"$root$",file:"ui/pages/remove-snap-account/index.ts"}],[7404,{"../../components/app/snaps/snap-authorship-header":5851,"../../components/component-library":6097,"../../helpers/constants/design-system":6645,"../../hooks/useI18nContext":6777,"./snap-account-card":7405,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),o=e("../../components/component-library"),i=e("../../helpers/constants/design-system"),r=e("../../hooks/useI18nContext"),s=l(e("../../components/app/snaps/snap-authorship-header")),c=e("./snap-account-card");function l(e){return e&&e.__esModule?e:{default:e}}n.default=({snapId:e,publicAddress:t,onCancel:n})=>{const l=(0,r.useI18nContext)();return a.default.createElement(o.Box,{className:"remove-snap-account-page",height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,borderStyle:i.BorderStyle.none,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,marginBottom:0},a.default.createElement(s.default,{snapId:e,onCancel:n}),a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,padding:4,width:i.BlockSize.Full,style:{flexGrow:1}},a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full},a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,width:i.BlockSize.Full},a.default.createElement(o.Box,{paddingBottom:2},a.default.createElement(o.AvatarIcon,{iconName:o.IconName.UserCircleRemove,color:i.IconColor.errorDefault,backgroundColor:i.BackgroundColor.errorMuted,size:o.AvatarIconSize.Xl})),a.default.createElement(o.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.headingLg,paddingBottom:2},l("removeSnapAccountTitle")),a.default.createElement(c.SnapAccountCard,{address:t,remove:!0}),a.default.createElement(o.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Center,overflowWrap:i.OverflowWrap.Anywhere},l("removeSnapAccountDescription"))))))}}}},{package:"$root$",file:"ui/pages/remove-snap-account/remove-snap-account.tsx"}],[7405,{"../../components/component-library":6097,"../../components/multichain/account-list-item":6218,"../../helpers/constants/design-system":6645,"../../selectors":7539,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapAccountCard=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),r=e("../../selectors"),s=e("../../helpers/constants/design-system"),c=e("../../components/component-library"),l=e("../../components/multichain/account-list-item");n.SnapAccountCard=({address:e,remove:t})=>{const n=(0,i.useSelector)(r.getMetaMaskAccountsOrdered).find(t=>t.address===e);return o.default.createElement(c.Box,{className:t?"snap-account-card-remove":"snap-account-card",borderRadius:s.BorderRadius.LG,marginTop:4,marginBottom:4,width:s.BlockSize.Full,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},o.default.createElement(l.AccountListItem,{account:n,selected:t||!1}))}}}},{package:"$root$",file:"ui/pages/remove-snap-account/snap-account-card.tsx"}],[7406,{"./routes.component":7407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./routes.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/routes/index.js"}],[7407,{"../../../app/scripts/lib/util":290,"../../../shared/constants/app":5415,"../../../shared/constants/preferences":5438,"../../../shared/lib/confirmation.utils":5463,"../../../shared/modules/selectors/networks":5547,"../../components/app/alerts":5576,"../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal":5612,"../../components/app/assets/nfts/nft-details/nft-full-image.tsx":5617,"../../components/app/basic-configuration-modal":5647,"../../components/app/modals":5758,"../../components/app/modals/keyring-snap-removal-modal":5759,"../../components/app/modals/multichain-accounts/intro-modal":5762,"../../components/app/qr-hardware-popover":5829,"../../components/app/toast-master/toast-master":5989,"../../components/component-library":6097,"../../components/multichain":6330,"../../components/multichain-accounts/multichain-account-list-menu":6180,"../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page":6202,"../../components/multichain-accounts/state2-wrapper/state2-wrapper.tsx":6207,"../../components/multichain/app-header/multichain-meta-fox-logo":6246,"../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover":6352,"../../components/multichain/pages/connections/index.js":6417,"../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx":6419,"../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx":6420,"../../components/multichain/pages/permissions-page/permissions-page.js":6430,"../../components/multichain/pages/review-permissions-page/review-permissions-page":6431,"../../components/ui/alert":6476,"../../components/ui/deprecated-networks/deprecated-networks":6499,"../../components/ui/loading-screen":6534,"../../ducks/history/history":6629,"../../ducks/metamask/metamask":6632,"../../helpers/constants/routes":6650,"../../helpers/higher-order-components/authenticated":6660,"../../helpers/higher-order-components/initialized":6662,"../../helpers/utils/mm-lazy":6684,"../../hooks/useI18nContext":6777,"../../hooks/useMultichainAccountsIntroModal":6784,"../../selectors":7539,"../../selectors/multi-srp/multi-srp":7542,"../../store/actions":7565,"../../store/store":7570,"../asset/index.js":6837,"../bridge/index.tsx":6847,"../bridge/transaction-details/transaction-details":6873,"../confirm-add-suggested-nft/index.js":6880,"../confirm-add-suggested-token/index.js":6882,"../confirmations/components/confirm/smart-account-update":7021,"../confirmations/confirm-transaction/index.js":7113,"../confirmations/confirmation/index.js":7125,"../confirmations/send/index.ts":7255,"../create-account/create-account.component.js":7277,"../deep-link/deep-link.tsx":7280,"../defi/index.ts":7283,"../home/index.js":7287,"../keychains/restore-vault.js":7289,"../keychains/reveal-seed.js":7290,"../lock/index.js":7291,"../multi-srp/import-srp/index.ts":7295,"../multichain-accounts/account-details":7300,"../multichain-accounts/account-list":7306,"../multichain-accounts/add-wallet-page":7309,"../multichain-accounts/address-qr-code":7311,"../multichain-accounts/multichain-account-address-list-page":7313,"../multichain-accounts/multichain-account-details-page/index.ts":7316,"../multichain-accounts/multichain-account-private-key-list-page":7318,"../multichain-accounts/smart-account-page/index.ts":7321,"../multichain-accounts/wallet-details-page":7323,"../multichain-accounts/wallet-details/index.ts":7325,"../nonevm-balance-check/index.tsx":7327,"../notification-details/index.js":7328,"../notifications-settings/index.js":7334,"../notifications/index.js":7340,"../onboarding-flow/onboarding-flow.js":7371,"../permissions-connect":7389,"../settings/deprecated-network-modal/DeprecatedNetworkModal":7428,"../settings/index.js":7437,"../shield-plan/index.ts":7469,"../snaps/snap-view/index.js":7483,"../snaps/snaps-list/index.js":7486,"../swaps/index.js":7500,"../unlock-page/index.js":7522,"./utils":7408,classnames:3793,react:4961,"react-idle-timer":4876,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,i.useDispatch)(),n=(0,r.useHistory)(),j=(0,r.useLocation)(),Q=(0,c.useAppSelector)(e=>e.appState.alertOpen),Z=(0,c.useAppSelector)(e=>e.appState.alertMessage),te=(0,c.useAppSelector)(e=>e.appState.isLoading),ne=(0,c.useAppSelector)(e=>e.appState.loadingMessage),{autoLockTimeLimit:ae=k.DEFAULT_AUTO_LOCK_TIME_LIMIT,privacyMode:oe}=(0,c.useAppSelector)(b.getPreferences),Me=(0,c.useAppSelector)(v.getCompletedOnboarding),We=(0,c.useAppSelector)(b.getSelectedInternalAccount),ze=(0,c.useAppSelector)(b.getNetworkToAutomaticallySwitchTo),$e=(0,c.useAppSelector)(b.oldestPendingConfirmationSelector),Ve=(0,c.useAppSelector)(b.getPendingApprovals),Ge=(0,c.useAppSelector)(b.getUnapprovedTransactions),qe=(0,c.useAppSelector)(e=>(0,C.getShouldShowSeedPhraseReminder)(e,We)),Je=(0,c.useAppSelector)(e=>e.metamask.textDirection),Ke=(0,c.useAppSelector)(v.getIsUnlocked),He=(0,c.useAppSelector)(e=>e.metamask.currentCurrency),Ye=(0,c.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.os}),Xe=(0,c.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.browser}),Qe=(0,c.useAppSelector)(b.getNetworkIdentifier),{type:Ze}=(0,c.useAppSelector)(E.getProviderConfig),et=(0,c.useAppSelector)(b.getTheme),tt=(0,c.useAppSelector)(b.getShowExtensionInFullSizeView),nt=(0,c.useAppSelector)(e=>e.metamask.forgottenPassword),at=(0,c.useAppSelector)(e=>e.appState.isAccountMenuOpen),ot=(0,c.useAppSelector)(e=>e.appState.isNetworkMenuOpen),it=(0,c.useAppSelector)(e=>e.appState.importTokensModalOpen),rt=(0,c.useAppSelector)(e=>e.appState.showBasicFunctionalityModal),st=(0,c.useAppSelector)(e=>e.appState.deprecatedNetworkModalOpen),ct=(0,c.useAppSelector)(e=>e.appState.accountDetailsAddress),lt=(0,c.useAppSelector)(e=>e.appState.importNftsModal.open),ut=(0,c.useAppSelector)(e=>e.appState.showIpfsModalOpen),dt=(0,c.useAppSelector)(b.getNumberOfAllUnapprovedTransactionsAndMessages),pt=(0,c.useAppSelector)(e=>e.metamask.currentExtensionPopupId),mt=(0,c.useAppSelector)(e=>e.appState.showKeyringRemovalSnapModal),ft=(0,c.useAppSelector)(b.getUnapprovedConfirmations),gt=(0,c.useAppSelector)(b.getIsMultichainAccountsState1Enabled),{showMultichainIntroModal:ht,setShowMultichainIntroModal:yt}=(0,K.useMultichainAccountsIntroModal)(Ke,j),Et=(0,o.useRef)({isUnlocked:Ke,totalUnapprovedConfirmationCount:dt});(0,o.useEffect)(()=>{const e=Et.current;ze&&0===dt&&(e.totalUnapprovedConfirmationCount>0||!1===e.isUnlocked&&Ke)&&t((0,T.automaticallySwitchNetwork)(ze)),Et.current={isUnlocked:Ke,totalUnapprovedConfirmationCount:dt}},[ze,Ke,dt,t]),(0,o.useEffect)(()=>{pt!==undefined&&"metamask"in global&&"object"==typeof global.metamask&&global.metamask&&"id"in global.metamask&&global.metamask.id!==undefined&&pt!==global.metamask.id&&window.close()},[pt]),(0,o.useEffect)(()=>{const e=(0,w.getEnvironmentType)();var t,n;tt&&e===S.ENVIRONMENT_TYPE_POPUP&&(null===(t=global.platform)||void 0===t||null===(n=t.openExtensionInBrowser)||void 0===n||n.call(t))},[tt]),(0,o.useEffect)(()=>{const e=n.listen((e,n)=>{"PUSH"===n&&t((0,_.pageChanged)(e.pathname))});return()=>{e()}},[n,t]),(0,o.useEffect)(()=>{(0,ee.setTheme)(et)},[et]),(0,o.useEffect)(()=>{He||t((0,T.setCurrentCurrency)("usd"))},[He,t]);const bt=(0,o.useCallback)(()=>{const e=nt?r.Route:u.default,n=o.default.createElement(o.Suspense,{fallback:null},o.default.createElement(r.Switch,null,o.default.createElement(r.Route,{path:y.ONBOARDING_ROUTE,component:ie}),o.default.createElement(r.Route,{path:y.LOCK_ROUTE,component:re,exact:!0}),o.default.createElement(u.default,{path:y.UNLOCK_ROUTE,component:se,exact:!0}),o.default.createElement(r.Route,{path:y.DEEP_LINK_ROUTE,component:Be}),o.default.createElement(e,{path:y.RESTORE_VAULT_ROUTE,component:ce,exact:!0}),o.default.createElement(l.default,{path:y.SMART_ACCOUNT_UPDATE,component:z.SmartAccountUpdate}),o.default.createElement(l.default,{path:`${y.REVEAL_SEED_ROUTE}/:keyringId?`,component:ue}),o.default.createElement(l.default,{path:y.IMPORT_SRP_ROUTE,component:le}),o.default.createElement(l.default,{path:y.SETTINGS_ROUTE,component:de}),o.default.createElement(l.default,{path:y.NOTIFICATIONS_SETTINGS_ROUTE,component:pe}),o.default.createElement(l.default,{path:`${y.NOTIFICATIONS_ROUTE}/:uuid`,component:me}),o.default.createElement(l.default,{path:y.NOTIFICATIONS_ROUTE,component:fe}),o.default.createElement(l.default,{path:y.SNAPS_ROUTE,component:ge,exact:!0}),o.default.createElement(l.default,{path:y.SNAPS_VIEW_ROUTE,component:he}),o.default.createElement(l.default,{path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?`,component:ye}),o.default.createElement(l.default,{path:`${y.SEND_ROUTE}/:page?`,component:Ee}),o.default.createElement(l.default,{path:y.SWAPS_ROUTE,component:be}),o.default.createElement(l.default,{path:`${y.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/:srcTxMetaId`,component:U.default,exact:!0}),o.default.createElement(l.default,{path:y.CROSS_CHAIN_SWAP_ROUTE,component:Te}),o.default.createElement(l.default,{path:y.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,component:_e,exact:!0}),o.default.createElement(l.default,{path:y.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,component:ve,exact:!0}),o.default.createElement(l.default,{path:`${y.CONFIRMATION_V_NEXT_ROUTE}/:id?`,component:xe}),o.default.createElement(l.default,{path:y.NEW_ACCOUNT_ROUTE,component:ke}),o.default.createElement(l.default,{path:`${y.CONNECT_ROUTE}/:id`,component:d.default}),o.default.createElement(l.default,{path:`${y.ASSET_ROUTE}/image/:asset/:id`,component:Ce}),o.default.createElement(l.default,{path:`${y.ASSET_ROUTE}/:chainId/:asset/:id`,component:Se}),o.default.createElement(l.default,{path:`${y.ASSET_ROUTE}/:chainId/:asset/`,component:Se}),o.default.createElement(l.default,{path:`${y.ASSET_ROUTE}/:chainId`,component:Se}),o.default.createElement(l.default,{path:`${y.DEFI_ROUTE}/:chainId/:protocolId`,component:we}),o.default.createElement(l.default,{path:`${y.CONNECTIONS}/:origin`,component:Ae}),o.default.createElement(l.default,{path:y.PERMISSIONS,component:Ie,exact:!0}),o.default.createElement(l.default,{path:y.GATOR_PERMISSIONS,component:Ne,exact:!0}),o.default.createElement(l.default,{path:y.TOKEN_TRANSFER_ROUTE,component:Oe,exact:!0}),o.default.createElement(l.default,{path:`${y.REVIEW_PERMISSIONS}/:origin`,component:Ue,exact:!0}),o.default.createElement(l.default,{path:y.ACCOUNT_LIST_PAGE_ROUTE,component:H.AccountList,exact:!0}),o.default.createElement(l.default,{path:`${y.MULTICHAIN_ACCOUNT_ADDRESS_LIST_PAGE_ROUTE}/:accountGroupId`,component:G.MultichainAccountAddressListPage,exact:!0}),o.default.createElement(l.default,{path:`${y.MULTICHAIN_ACCOUNT_PRIVATE_KEY_LIST_PAGE_ROUTE}/:accountGroupId`,component:q.MultichainAccountPrivateKeyListPage,exact:!0}),o.default.createElement(l.default,{path:y.ADD_WALLET_PAGE_ROUTE,component:Y.AddWalletPage,exact:!0}),o.default.createElement(l.default,{path:`${y.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE}/:id`,component:Pe,exact:!0}),o.default.createElement(l.default,{path:`${y.MULTICHAIN_SMART_ACCOUNT_PAGE_ROUTE}/:address`,component:Fe,exact:!0}),o.default.createElement(l.default,{path:`${y.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE}/:id`,component:X.WalletDetailsPage,exact:!0}),o.default.createElement(l.default,{path:y.WALLET_DETAILS_ROUTE,component:De,exact:!0}),o.default.createElement(l.default,{path:`${y.ACCOUNT_DETAILS_ROUTE}/:address`,component:$.MultichainAccountDetails,exact:!0}),o.default.createElement(l.default,{path:`${y.ACCOUNT_DETAILS_QR_CODE_ROUTE}/:address`,component:V.AddressQRCode,exact:!0}),o.default.createElement(l.default,{path:y.NONEVM_BALANCE_CHECK_ROUTE,component:Le}),o.default.createElement(l.default,{path:y.SHIELD_PLAN_ROUTE,component:je}),o.default.createElement(l.default,{path:y.DEFAULT_ROUTE,component:Re})));return ae>0?o.default.createElement(s.default,{onAction:()=>t((0,T.setLastActiveTime)()),throttle:1e3},n):n},[ae,nt,t]),Tt=(0,x.useI18nContext)(),_t=ne?(0,ee.getConnectingLabel)(ne,{providerType:Ze,providerId:Qe},{t:Tt}):null,vt=(0,w.getEnvironmentType)()!==S.ENVIRONMENT_TYPE_NOTIFICATION&&Ke&&!qe,xt=j.pathname.split("/confirm-transaction/")[1]??(null==$e?void 0:$e.id),kt=Ve.find(e=>e.id===xt),Ct=(0,W.isCorrectSignatureApprovalType)(null==kt?void 0:kt.type),St=(0,W.isCorrectDeveloperTransactionType)(null===(e=Ge[xt])||void 0===e?void 0:e.type),wt=j.pathname===y.DEEP_LINK_ROUTE,It=te&&Me&&!ft.some(e=>e.type===S.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect)&&!Ct&&!St&&!wt,Nt=gt?o.default.createElement(B.MultichainAccountListMenu,{onClose:()=>t((0,T.toggleAccountMenu)()),privacyMode:oe}):o.default.createElement(g.AccountListMenu,{onClose:()=>t((0,T.toggleAccountMenu)()),privacyMode:oe});return o.default.createElement("div",{className:(0,a.default)("app",{[`os-${Ye}`]:Boolean(Ye),[`browser-${Xe}`]:Boolean(Xe)}),dir:Je},vt?o.default.createElement(N.default,null):null,o.default.createElement(I.default,null),o.default.createElement(m.Modal,null),o.default.createElement(f.default,{visible:Q,msg:Z}),(0,ee.showAppHeader)({location:j})&&o.default.createElement(g.AppHeader,{location:j}),(0,ee.isConfirmTransactionRoute)(j.pathname)&&o.default.createElement(P.MultichainMetaFoxLogo,null),at?Nt:null,ot?o.default.createElement(g.NetworkListMenu,{onClose:()=>{t((0,T.toggleNetworkMenu)()),t((0,T.setEditedNetwork)())}}):null,o.default.createElement(F.default,null),!ct||gt?null:o.default.createElement(g.AccountDetails,{address:ct}),lt?o.default.createElement(g.ImportNftsModal,{onClose:()=>t((0,T.hideImportNftsModal)())}):null,ut?o.default.createElement(A.ToggleIpfsModal,{onClose:()=>t((0,T.hideIpfsModal)())}):null,rt?o.default.createElement(M.BasicConfigurationModal,null):null,it?o.default.createElement(g.ImportTokensModal,{onClose:()=>t((0,T.hideImportTokensModal)())}):null,st?o.default.createElement(D.DeprecatedNetworkModal,{onClose:()=>t((0,T.hideDeprecatedNetworkModal)())}):null,mt&&o.default.createElement(R.default,{isOpen:mt,onClose:()=>t((0,T.hideKeyringRemovalResultModal)())}),ht?o.default.createElement(J.default,{onClose:()=>yt(!1)}):null,o.default.createElement(O.Box,{className:"main-container-wrapper"},It?o.default.createElement(p.default,{loadingMessage:_t}):null,bt()),Ke?o.default.createElement(h.default,{history:n}):null,o.default.createElement(L.ToastMaster,null))};var a=te(e("classnames")),o=oe(e("react")),i=e("react-redux"),r=e("react-router-dom"),s=te(e("react-idle-timer")),c=e("../../store/store"),l=te(e("../../helpers/higher-order-components/authenticated")),u=te(e("../../helpers/higher-order-components/initialized")),d=te(e("../permissions-connect")),p=te(e("../../components/ui/loading-screen")),m=e("../../components/app/modals"),f=te(e("../../components/ui/alert")),g=e("../../components/multichain"),h=te(e("../../components/app/alerts")),y=e("../../helpers/constants/routes"),E=e("../../../shared/modules/selectors/networks"),b=e("../../selectors"),T=e("../../store/actions"),_=e("../../ducks/history/history"),v=e("../../ducks/metamask/metamask"),x=e("../../hooks/useI18nContext"),k=e("../../../shared/constants/preferences"),C=e("../../selectors/multi-srp/multi-srp"),S=e("../../../shared/constants/app"),w=e("../../../app/scripts/lib/util"),I=te(e("../../components/app/qr-hardware-popover")),N=te(e("../../components/ui/deprecated-networks/deprecated-networks")),O=e("../../components/component-library"),A=e("../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal"),M=e("../../components/app/basic-configuration-modal"),R=te(e("../../components/app/modals/keyring-snap-removal-modal")),B=e("../../components/multichain-accounts/multichain-account-list-menu"),D=e("../settings/deprecated-network-modal/DeprecatedNetworkModal"),P=e("../../components/multichain/app-header/multichain-meta-fox-logo"),F=te(e("../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover")),L=e("../../components/app/toast-master/toast-master"),j=e("../../helpers/utils/mm-lazy"),U=te(e("../bridge/transaction-details/transaction-details")),W=e("../../../shared/lib/confirmation.utils"),z=e("../confirmations/components/confirm/smart-account-update"),$=e("../multichain-accounts/account-details"),V=e("../multichain-accounts/address-qr-code"),G=e("../multichain-accounts/multichain-account-address-list-page"),q=e("../multichain-accounts/multichain-account-private-key-list-page"),J=te(e("../../components/app/modals/multichain-accounts/intro-modal")),K=e("../../hooks/useMultichainAccountsIntroModal"),H=e("../multichain-accounts/account-list"),Y=e("../multichain-accounts/add-wallet-page"),X=e("../multichain-accounts/wallet-details-page"),Q=e("../../components/multichain/pages/review-permissions-page/review-permissions-page"),Z=e("../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page"),ee=e("./utils");function te(e){return e&&e.__esModule?e:{default:e}}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ne.apply(null,arguments)}function ae(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ae=function(e){return e?n:t})(e)}function oe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ae(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}const ie=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../onboarding-flow/onboarding-flow.js")))),re=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../lock/index.js")))),se=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../unlock-page/index.js")))),ce=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../keychains/restore-vault.js")))),le=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../multi-srp/import-srp/index.ts")))),ue=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../keychains/reveal-seed.js")))),de=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../settings/index.js")))),pe=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../notifications-settings/index.js")))),me=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../notification-details/index.js")))),fe=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../notifications/index.js")))),ge=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../snaps/snaps-list/index.js")))),he=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../snaps/snap-view/index.js")))),ye=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../confirmations/confirm-transaction/index.js")))),Ee=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../confirmations/send/index.ts")))),be=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../swaps/index.js")))),Te=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../bridge/index.tsx")))),_e=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../confirm-add-suggested-token/index.js")))),ve=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../confirm-add-suggested-nft/index.js")))),xe=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../confirmations/confirmation/index.js")))),ke=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../create-account/create-account.component.js")))),Ce=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../../components/app/assets/nfts/nft-details/nft-full-image.tsx")))),Se=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../asset/index.js")))),we=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../defi/index.ts")))),Ie=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../../components/multichain/pages/permissions-page/permissions-page.js")))),Ne=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx")))),Oe=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx")))),Ae=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../../components/multichain/pages/connections/index.js")))),Me=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../../components/multichain-accounts/state2-wrapper/state2-wrapper.tsx")))),Re=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../home/index.js")))),Be=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../deep-link/deep-link.tsx")))),De=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../multichain-accounts/wallet-details/index.ts")))),Pe=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../multichain-accounts/multichain-account-details-page/index.ts")))),Fe=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../multichain-accounts/smart-account-page/index.ts")))),Le=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../nonevm-balance-check/index.tsx")))),je=(0,j.mmLazy)(()=>Promise.resolve().then(()=>oe(e("../shield-plan/index.ts")))),Ue=o.default.memo(e=>o.default.createElement(Me,ne({},e,{state1Component:Q.ReviewPermissions,state2Component:Z.MultichainReviewPermissions})))}}},{package:"$root$",file:"ui/pages/routes/routes.component.tsx"}],[7408,{"../../../app/scripts/lib/util":290,"../../../shared/constants/app":5415,"../../../shared/constants/network":5433,"../../../shared/constants/preferences":5438,"../../helpers/constants/routes":6650,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getConnectingLabel=function(e,t,n){if(e)return e;const{providerType:a,providerId:o}=t,{t:i}=n;switch(a){case r.NETWORK_TYPES.MAINNET:return i("connectingToMainnet");case r.NETWORK_TYPES.GOERLI:return i("connectingToGoerli");case r.NETWORK_TYPES.SEPOLIA:return i("connectingToSepolia");case r.NETWORK_TYPES.LINEA_GOERLI:return i("connectingToLineaGoerli");case r.NETWORK_TYPES.LINEA_SEPOLIA:return i("connectingToLineaSepolia");case r.NETWORK_TYPES.LINEA_MAINNET:return i("connectingToLineaMainnet");default:return i("connectingTo",[o])}},n.hideAppHeader=function(e){const{location:t}=e;if(Boolean((0,a.matchPath)(t.pathname,{path:`${c.NOTIFICATIONS_ROUTE}`,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.DEEP_LINK_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.ONBOARDING_ROUTE,exact:!1})))return!0;const n=(0,o.getEnvironmentType)();if(n===i.ENVIRONMENT_TYPE_NOTIFICATION)return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.PERMISSIONS,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.CONNECTIONS,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.REVIEW_PERMISSIONS,exact:!1})))return!0;if(n===i.ENVIRONMENT_TYPE_POPUP&&function(e){const{location:t}=e;return Boolean((0,a.matchPath)(t.pathname,{path:c.CONFIRM_TRANSACTION_ROUTE,exact:!1}))}(e))return!0;const r=Boolean((0,a.matchPath)(t.pathname,{path:c.CONNECT_ROUTE,exact:!1}));if(Boolean((0,a.matchPath)(t.pathname,{path:c.SEND_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.WALLET_DETAILS_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.SNAPS_VIEW_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:`${c.CROSS_CHAIN_SWAP_ROUTE}`,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.ASSET_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.ACCOUNT_DETAILS_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.ACCOUNT_DETAILS_QR_CODE_ROUTE,exact:!1})))return!0;const s=Boolean((0,a.matchPath)(t.pathname,{path:c.CONFIRMATION_V_NEXT_ROUTE,exact:!1})),u=Boolean((0,a.matchPath)(t.pathname,{path:c.IMPORT_SRP_ROUTE,exact:!1}));if(Boolean((0,a.matchPath)(t.pathname,{path:c.SHIELD_PLAN_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.GATOR_PERMISSIONS,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:c.TOKEN_TRANSFER_ROUTE,exact:!1})))return!0;return r||s||l(t.pathname)||u},n.isConfirmTransactionRoute=l,n.setTheme=function(e){document.documentElement.setAttribute("data-theme",function(e){if(e===s.ThemeType.os){var t;return null!==(t=window)&&void 0!==t&&null!==(t=t.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?s.ThemeType.dark:s.ThemeType.light}return e}(e))},n.showAppHeader=function(e){const{location:t}=e;return Boolean((0,a.matchPath)(t.pathname,{path:c.DEFAULT_ROUTE,exact:!0}))};var a=e("react-router-dom"),o=e("../../../app/scripts/lib/util"),i=e("../../../shared/constants/app"),r=e("../../../shared/constants/network"),s=e("../../../shared/constants/preferences"),c=e("../../helpers/constants/routes");function l(e){return Boolean((0,a.matchPath)(e,{path:c.CONFIRM_TRANSACTION_ROUTE,exact:!1}))}}}},{package:"$root$",file:"ui/pages/routes/utils.js"}],[7409,{"../../../../shared/constants/metametrics":5430,"../../../../shared/constants/preferences":5438,"../../../../shared/constants/smartTransactions":5443,"../../../components/component-library":6097,"../../../components/ui/text-field":6581,"../../../components/ui/toggle-button":6585,"../../../helpers/constants/design-system":6645,"../../../helpers/utils/export-utils":6675,"../../../helpers/utils/settings-search":6694,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("../../../../shared/constants/metametrics"),r=e("../../../../shared/constants/preferences"),s=e("../../../../shared/constants/smartTransactions"),c=e("../../../components/component-library"),l=g(e("../../../components/ui/text-field")),u=g(e("../../../components/ui/toggle-button")),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/utils/export-utils"),m=e("../../../helpers/utils/settings-search");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends o.PureComponent{constructor(...e){super(...e),h(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:""}),h(this,"settingsRefs",Array((0,m.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("advanced"))).fill(undefined).map(()=>o.default.createRef())),h(this,"backupUserData",async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,p.exportAsFile)(e,t,p.ExportableContentType.JSON),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})})}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context,{hideErrorInSettings:t}=this.props;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs),t()}async getTextFromFile(e){return new Promise((t,n)=>{const a=new window.FileReader;a.onload=e=>{const n=e.target.result;t(n)},a.onerror=e=>{n(e)},a.readAsText(e)})}renderStateLogs(){const{t:e}=this.context,{displayErrorInSettings:t}=this.props;return o.default.createElement(c.Box,{className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,ref:this.settingsRefs[0],"data-testid":"advanced-setting-state-logs"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("stateLogs")),o.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.Button,{variant:c.ButtonVariant.Secondary,"data-testid":"advanced-setting-state-logs-button",onClick:()=>{window.logStateString(async(n,a)=>{if(n)t(e("stateLogError"));else try{await(0,p.exportAsFile)(`${e("stateLogFileName")}.json`,a,p.ExportableContentType.JSON)}catch(e){t(e.message)}})}},e("downloadStateLogs")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return o.default.createElement(c.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,"data-testid":"advanced-setting-reset-account"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("clearActivity")),o.default.createElement("span",{className:"settings-page__content-description"},e("clearActivityDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.Button,{danger:!0,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:i.MetaMetricsEventCategory.Settings,event:i.MetaMetricsEventName.AccountReset,properties:{}}),t()}},e("clearActivityButton")))))}renderToggleSmartAccountOptIn(){const{t:e}=this.context,{smartAccountOptIn:t,setSmartAccountOptIn:n}=this.props,a=o.default.createElement(c.ButtonLink,{size:c.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:s.SMART_ACCOUNT_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(c.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-smart-account-optin",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("useSmartAccountTitle")),o.default.createElement("div",{className:"settings-page__content-description"},`${e("useSmartAccountDescription")} `,a)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-smart-account-optin"})))}renderToggleDismissSmartAccountSuggestion(){const{t:e}=this.context,{dismissSmartAccountSuggestionEnabled:t,setDismissSmartAccountSuggestionEnabled:n}=this.props;return o.default.createElement(c.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-smart-account-suggestion-enabled",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("dismissSmartAccountSuggestionEnabledTitle")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissSmartAccountSuggestionEnabledDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-dismiss-smart-account-suggestion-enabled-toggle"})))}renderToggleStxOptIn(){const{t:e}=this.context,{smartTransactionsEnabled:t,setSmartTransactionsEnabled:n}=this.props,a=o.default.createElement(c.ButtonLink,{size:c.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:s.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(c.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-enable-smart-transactions",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("smartTransactions")),o.default.createElement("div",{className:"settings-page__content-description"},e("stxOptInSupportedNetworksDescription",[a]))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-stx-opt-in-toggle"})))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:n}=this.props;return o.default.createElement(c.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-hex-data"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showHexData")),o.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"hex-data-toggle"})))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:n}=this.props;return o.default.createElement(c.Box,{ref:this.settingsRefs[6],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-show-testnet-conversion"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showFiatConversionInTestnets")),o.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"show-fiat-on-testnets-toggle"})))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:n}=this.props;return o.default.createElement(c.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showTestnetNetworks")),o.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderToggleExtensionInFullSizeView(){const{t:e}=this.context,{showExtensionInFullSizeView:t,setShowExtensionInFullSizeView:n}=this.props;return o.default.createElement(c.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-show-extension-in-full-size-view",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showExtensionInFullSizeView")),o.default.createElement("div",{className:"settings-page__content-description"},e("showExtensionInFullSizeViewDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:n}=this.props;return o.default.createElement(c.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("autoLockTimeLimit")),o.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.default,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),o.default.createElement(c.Button,{variant:c.ButtonVariant.Secondary,"data-testid":"auto-lockout-button",disabled:""!==t,onClick:()=>{n(this.state.autoLockTimeLimit)}},e("save")))))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:n}=this.props;return o.default.createElement(c.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("dismissReminderField")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}handleLockChange(e){const{t:t}=this.context;if(""===e)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:r.DEFAULT_AUTO_LOCK_TIME_LIMIT,lockTimeError:""});const n=Number(e);if(Number.isNaN(n)||n<0||n>10080)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const a=n;this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:a,lockTimeError:""})}renderUserDataBackup(){const{t:e}=this.context;return o.default.createElement(c.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("exportYourData")),o.default.createElement("span",{className:"settings-page__content-description"},e("exportYourDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.Button,{"data-testid":"export-data-button",variant:c.ButtonVariant.Secondary,large:!0,onClick:this.backupUserData},e("exportYourDataButton")))))}renderManageInstitutionalWallets(){const{t:e}=this.context,{manageInstitutionalWallets:t,setManageInstitutionalWallets:n}=this.props;return o.default.createElement(c.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("manageInstitutionalWallets")),o.default.createElement("div",{className:"settings-page__content-description"},e("manageInstitutionalWalletsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}render(){const{errorInSettings:e}=this.props;return o.default.createElement("div",{className:"settings-page__body"},e?o.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderResetAccount(),this.renderToggleSmartAccountOptIn(),this.renderToggleDismissSmartAccountSuggestion(),this.renderToggleStxOptIn(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderManageInstitutionalWallets(),this.renderToggleExtensionInFullSizeView(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderDismissSeedBackupReminderControl())}}n.default=y,h(y,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),h(y,"propTypes",{setHexDataFeatureFlag:a.default.func,displayErrorInSettings:a.default.func,hideErrorInSettings:a.default.func,showResetAccountConfirmationModal:a.default.func,errorInSettings:a.default.string,sendHexData:a.default.bool,showFiatInTestnets:a.default.bool,showTestNetworks:a.default.bool,smartTransactionsEnabled:a.default.bool,autoLockTimeLimit:a.default.number,setAutoLockTimeLimit:a.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:a.default.func.isRequired,setShowTestNetworks:a.default.func.isRequired,setSmartTransactionsEnabled:a.default.func.isRequired,setDismissSeedBackUpReminder:a.default.func.isRequired,dismissSeedBackUpReminder:a.default.bool.isRequired,backupUserData:a.default.func.isRequired,showExtensionInFullSizeView:a.default.bool,setShowExtensionInFullSizeView:a.default.func.isRequired,manageInstitutionalWallets:a.default.bool,setManageInstitutionalWallets:a.default.func.isRequired,dismissSmartAccountSuggestionEnabled:a.default.bool.isRequired,setDismissSmartAccountSuggestionEnabled:a.default.func.isRequired,smartAccountOptIn:a.default.bool.isRequired,setSmartAccountOptIn:a.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.component.js"}],[7410,{"../../../../shared/constants/preferences":5438,"../../../../shared/modules/selectors":5545,"../../../ducks/app/app":6617,"../../../selectors":7539,"../../../store/actions":7565,"./advanced-tab.component":7409,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapStateToProps=n.mapDispatchToProps=n.default=void 0;var a,o=e("react-redux"),i=e("../../../../shared/constants/preferences"),r=e("../../../selectors"),s=e("../../../store/actions"),c=e("../../../../shared/modules/selectors"),l=e("../../../ducks/app/app"),u=(a=e("./advanced-tab.component"))&&a.__esModule?a:{default:a};const d=e=>{const{appState:{errorInSettings:t},metamask:n}=e,{featureFlags:{sendHexData:a}={},dismissSeedBackUpReminder:o,manageInstitutionalWallets:s}=n,{showFiatInTestnets:l,showTestNetworks:u,showExtensionInFullSizeView:d,autoLockTimeLimit:p=i.DEFAULT_AUTO_LOCK_TIME_LIMIT,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}=(0,r.getPreferences)(e);return{errorInSettings:t,sendHexData:a,showFiatInTestnets:l,showTestNetworks:u,showExtensionInFullSizeView:d,smartTransactionsEnabled:(0,c.getSmartTransactionsPreferenceEnabled)(e),autoLockTimeLimit:p,dismissSeedBackUpReminder:o,manageInstitutionalWallets:s,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}};n.mapStateToProps=d;const p=e=>({backupUserData:()=>(0,s.backupUserData)(),setHexDataFeatureFlag:t=>e((0,s.setFeatureFlag)("sendHexData",t)),displayErrorInSettings:t=>e((0,l.displayErrorInSettings)(t)),hideErrorInSettings:()=>e((0,l.hideErrorInSettings)()),showResetAccountConfirmationModal:()=>e((0,s.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),setShowFiatConversionOnTestnetsPreference:t=>e((0,s.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,s.setShowTestNetworks)(t)),setShowExtensionInFullSizeView:t=>e((0,s.setShowExtensionInFullSizeView)(t)),setSmartTransactionsEnabled:t=>e((0,s.setSmartTransactionsPreferenceEnabled)(t)),setAutoLockTimeLimit:t=>e((0,s.setAutoLockTimeLimit)(t)),setDismissSeedBackUpReminder:t=>e((0,s.setDismissSeedBackUpReminder)(t)),setManageInstitutionalWallets:t=>e((0,s.setManageInstitutionalWallets)(t)),setDismissSmartAccountSuggestionEnabled:t=>e((0,s.setDismissSmartAccountSuggestionEnabled)(t)),setSmartAccountOptIn:t=>e((0,s.setSmartAccountOptIn)(t))});n.mapDispatchToProps=p;n.default=(0,o.connect)(d,p)(u.default)}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.container.js"}],[7411,{"./advanced-tab.container":7410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/index.js"}],[7412,{"../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles":5711,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":5712,"../../../components/component-library":6097,"../../../helpers/constants/design-system":6645,"../../../helpers/utils/settings-search":6694,"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(a,i,r):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=(a=e("prop-types"))&&a.__esModule?a:{default:a},r=e("../../../helpers/utils/settings-search"),s=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),l=e("../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles"),u=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,r.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("backupAndSync"))).fill(undefined).map(()=>o.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,r.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,r.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}render(){return o.default.createElement("div",{className:"settings-page__body"},o.default.createElement(u.BackupAndSyncToggle,null),o.default.createElement(c.Box,{borderColor:s.BorderColor.borderMuted,width:s.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(l.BackupAndSyncFeaturesToggles,null))}}n.default=m,p(m,"contextTypes",{t:i.default.func,trackEvent:i.default.func})}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.component.tsx"}],[7413,{"./backup-and-sync-tab.component":7412,"react-redux":4905,"react-router-dom":4929,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),i=e("react-redux"),r=e("react-router-dom"),s=(a=e("./backup-and-sync-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(r.withRouter,(0,i.connect)(e=>({}),e=>({})))(s.default)}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.container.ts"}],[7414,{"./backup-and-sync-tab.container":7413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./backup-and-sync-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/index.ts"}]],[],{});