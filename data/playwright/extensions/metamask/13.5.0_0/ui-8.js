LavaPack.loadBundle([[6612,{"prop-types":4777,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionModalContextProvider=n.TransactionModalContext=void 0,n.useTransactionModalContext=function(){return(0,r.useContext)(i)};var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(s,a,i):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=(s=e("prop-types"))&&s.__esModule?s:{default:s};function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}const i=n.TransactionModalContext=(0,r.createContext)({}),c=({children:e})=>{const[t,n]=(0,r.useState)([]);return r.default.createElement(i.Provider,{value:{closeModal:e=>{if(t<0)return;const s=[...t];e.forEach(e=>{const n=t.indexOf(e);s.splice(n,1)}),n(s)},closeAllModals:()=>{n([])},currentModal:t[t.length-1],openModal:e=>{if(t.includes(e))return;const s=[...t];s.push(e),n(s)},openModalCount:t.length}},e)};n.TransactionModalContextProvider=c,c.propTypes={children:a.default.node.isRequired}}}},{package:"$root$",file:"ui/contexts/transaction-modal.js"}],[6614,{"./enums":6613,"./invalid-custom-network":6615,"./unconnected-account":6616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ALERT_STATE",{enumerable:!0,get:function(){return a.ALERT_STATE}}),Object.defineProperty(n,"invalidCustomNetwork",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"unconnectedAccount",{enumerable:!0,get:function(){return s.default}});var s=o(e("./unconnected-account")),r=o(e("./invalid-custom-network")),a=e("./enums");function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/ducks/alerts/index.js"}],[6615,{"../../../shared/constants/alerts":5413,"./enums":6613,"@reduxjs/toolkit":2871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openAlert=n.getNetworkName=n.getAlertState=n.dismissAlert=n.default=n.alertIsOpen=void 0;var s=e("@reduxjs/toolkit"),r=e("../../../shared/constants/alerts"),a=e("./enums");const o=r.AlertTypes.invalidCustomNetwork,i={state:a.ALERT_STATE.CLOSED,networkName:""},c=(0,s.createSlice)({name:o,initialState:i,reducers:{openAlert:(e,t)=>{e.state=a.ALERT_STATE.OPEN,e.networkName=t.payload},dismissAlert:e=>{e.state=a.ALERT_STATE.CLOSED,e.networkName=""}}}),{actions:u,reducer:l}=c;n.default=l;n.getAlertState=e=>e[o].state;n.getNetworkName=e=>e[o].networkName;n.alertIsOpen=e=>e[o].state!==a.ALERT_STATE.CLOSED;const{openAlert:d,dismissAlert:m}=u;n.dismissAlert=m,n.openAlert=d}}},{package:"$root$",file:"ui/ducks/alerts/invalid-custom-network.js"}],[6618,{"../../store/actions":7565,"../../store/background-connection":7566,"@metamask/bridge-status-controller":1247},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.submitBridgeTx=void 0;var s=e("@metamask/bridge-status-controller"),r=e("../../store/actions"),a=e("../../store/background-connection");n.submitBridgeTx=(e,t,n)=>async o=>{return o((i=s.BridgeStatusAction.SUBMIT_TX,c=[e,t,n],async e=>{await(0,a.submitRequestToBackground)(i,c),await(0,r.forceUpdateMetamaskState)(e)}));var i,c}}}},{package:"$root$",file:"ui/ducks/bridge-status/actions.ts"}],[6619,{"../../../shared/lib/transactions-controller-utils":5519,"../../../shared/modules/Numeric":5524,"../../../shared/modules/selectors/networks":5547,"../../selectors/multichain-accounts/account-tree":7543,reselect:4988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectReceivedSwapsTokenAmountFromTxMeta=n.selectIncomingBridgeHistory=n.selectBridgeHistoryItemForTxMetaId=n.selectBridgeHistoryForApprovalTxId=n.selectBridgeHistoryForAccountGroup=void 0;var s=e("reselect"),r=e("../../../shared/modules/Numeric"),a=e("../../../shared/modules/selectors/networks"),o=e("../../../shared/lib/transactions-controller-utils"),i=e("../../selectors/multichain-accounts/account-tree");const c=e=>e.metamask.txHistory,u=(0,s.createSelector)([(e,t)=>t,c],(e,t)=>e&&0!==e.length?Object.keys(t).reduce((n,s)=>{const r=t[s];return e.includes(r.account)&&(n[s]=r),n},{}):t),l=n.selectBridgeHistoryForAccountGroup=(0,s.createSelector)([c,i.getSelectedAccountGroup,e=>e],(e,t,n)=>{if(!t)return e;const s=(0,i.getInternalAccountsFromGroupById)(n,t).map(e=>e.address);return u(n,s)}),d=n.selectBridgeHistoryItemForTxMetaId=(0,s.createSelector)([c,(e,t)=>t],(e,t)=>t?e[t]:undefined);n.selectBridgeHistoryForApprovalTxId=(0,s.createSelector)([c,(e,t)=>t],(e,t)=>Object.values(e).find(e=>e.approvalTxId===t)),n.selectReceivedSwapsTokenAmountFromTxMeta=(0,s.createSelector)([d,(e,t,n)=>n,(e,t,n,s)=>s],(e,t,n)=>{if(!e)return null;const{quote:{destAsset:s},account:r}=e;return(0,o.getSwapsTokensReceivedFromTxMeta)(s.symbol,t,s.address,r,s.decimals,n,s.chainId)}),n.selectIncomingBridgeHistory=(0,s.createSelector)(l,a.getCurrentChainId,(e,t)=>Object.values(e).filter(e=>new r.Numeric(e.quote.destChainId,10).toPrefixedHexString()===t).sort((e,t)=>e.startTime&&t.startTime?t.startTime-e.startTime:0))}}},{package:"$root$",file:"ui/ducks/bridge-status/selectors.ts"}],[6620,{"../../../shared/lib/trace":5517,"../../store/actions":7565,"../../store/background-connection":7566,"./bridge":6621,"./utils":6623,"@metamask/bridge-controller":1229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.restoreQuoteRequestFromState=n.resetInputFields=n.resetBridgeState=void 0,Object.defineProperty(n,"setDestTokenExchangeRates",{enumerable:!0,get:function(){return i.setDestTokenExchangeRates}}),Object.defineProperty(n,"setDestTokenUsdExchangeRates",{enumerable:!0,get:function(){return i.setDestTokenUsdExchangeRates}}),Object.defineProperty(n,"setEVMSrcNativeBalance",{enumerable:!0,get:function(){return i.setEVMSrcNativeBalance}}),n.setSortOrder=n.setSlippage=n.setSelectedQuote=n.setFromTokenInputValue=n.setFromToken=n.setFromChain=n.setEVMSrcTokenBalance=void 0,Object.defineProperty(n,"setSrcTokenExchangeRates",{enumerable:!0,get:function(){return i.setSrcTokenExchangeRates}}),n.setToToken=n.setToChainId=void 0,Object.defineProperty(n,"setTxAlerts",{enumerable:!0,get:function(){return i.setTxAlerts}}),n.updateQuoteRequestParams=n.trackUnifiedSwapBridgeEvent=n.setWasTxDeclined=void 0;var s=e("@metamask/bridge-controller"),r=e("../../../shared/lib/trace"),a=e("../../store/actions"),o=e("../../store/background-connection"),i=e("./bridge"),c=e("./utils");const{setToChainId:u,setFromToken:l,setToToken:d,setFromTokenInputValue:m,resetInputFields:h,setSortOrder:p,setSelectedQuote:f,setWasTxDeclined:g,setSlippage:k,restoreQuoteRequestFromState:T}=i.bridgeSlice.actions;n.restoreQuoteRequestFromState=T,n.setSlippage=k,n.setWasTxDeclined=g,n.setSelectedQuote=f,n.setSortOrder=p,n.resetInputFields=h,n.setFromTokenInputValue=m,n.setToToken=d,n.setFromToken=l,n.setToChainId=u;const v=(e,...t)=>async n=>{await(0,o.submitRequestToBackground)(e,t),await(0,a.forceUpdateMetamaskState)(n)};n.resetBridgeState=()=>async e=>{e(h()),e(v(s.BridgeBackgroundAction.RESET_STATE))};n.trackUnifiedSwapBridgeEvent=(e,t)=>async n=>{await n(v(s.BridgeBackgroundAction.TRACK_METAMETRICS_EVENT,e,t))};n.updateQuoteRequestParams=(...[e,t])=>async n=>{await n(v(s.BridgeUserAction.UPDATE_QUOTE_PARAMS,e,t))};n.setEVMSrcTokenBalance=(e,t)=>async n=>{e&&((0,r.trace)({name:r.TraceName.BridgeBalancesUpdated,data:{srcChainId:(0,s.formatChainIdToCaip)(e.chainId),isNative:(0,s.isNativeAddress)(e.address)},startTime:Date.now()}),await n((0,i.setEVMSrcTokenBalance)({selectedAddress:t,tokenAddress:e.address,chainId:e.chainId})))};n.setFromChain=({networkConfig:e,selectedAccount:t,token:n=null})=>async o=>{if(!e)return;const u=(0,s.isSolanaChainId)(e.chainId);if(u)o((0,a.setActiveNetworkWithError)(e.chainId));else{var d;const t=(0,c.isNetworkAdded)(e)?null===(d=e.rpcEndpoints)||void 0===d||null===(d=d[e.defaultRpcEndpointIndex])||void 0===d?void 0:d.networkClientId:null;t&&o((0,a.setActiveNetworkWithError)(t))}n&&o(l(n)),t&&!u&&((0,r.trace)({name:r.TraceName.BridgeBalancesUpdated,data:{srcChainId:(0,s.formatChainIdToCaip)(e.chainId),isNative:!0},startTime:Date.now()}),await o((0,i.setEVMSrcNativeBalance)({selectedAddress:t.address,chainId:e.chainId})))}}}},{package:"$root$",file:"ui/ducks/bridge/actions.ts"}],[6621,{"../../../shared/lib/trace":5517,"../../../shared/modules/bridge-utils/security-alerts-api.util":5525,"./utils":6623,"@metamask/bridge-controller":1229,"@reduxjs/toolkit":2871,"ethereumjs-util":4019},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setTxAlerts=n.setSrcTokenExchangeRates=n.setEVMSrcTokenBalance=n.setEVMSrcNativeBalance=n.setDestTokenUsdExchangeRates=n.setDestTokenExchangeRates=n.default=n.bridgeSlice=void 0;var s=e("@reduxjs/toolkit"),r=e("@metamask/bridge-controller"),a=e("ethereumjs-util"),o=e("../../../shared/modules/bridge-utils/security-alerts-api.util"),i=e("../../../shared/lib/trace"),c=e("./utils");const u={toChainId:null,fromToken:null,toToken:null,fromTokenInputValue:null,fromTokenExchangeRate:null,toTokenExchangeRate:null,toTokenUsdExchangeRate:null,fromTokenBalance:null,fromNativeBalance:null,sortOrder:r.SortOrder.COST_ASC,selectedQuote:null,wasTxDeclined:!1,slippage:r.BRIDGE_DEFAULT_SLIPPAGE,txAlert:null},l=n.setSrcTokenExchangeRates=(0,s.createAsyncThunk)("bridge/setSrcTokenExchangeRates",c.getTokenExchangeRate),d=n.setDestTokenExchangeRates=(0,s.createAsyncThunk)("bridge/setDestTokenExchangeRates",c.getTokenExchangeRate),m=n.setDestTokenUsdExchangeRates=(0,s.createAsyncThunk)("bridge/setDestTokenUsdExchangeRates",c.getTokenExchangeRate),h=n.setTxAlerts=(0,s.createAsyncThunk)("bridge/setTxAlerts",o.fetchTxAlerts),p=async({selectedAddress:e,tokenAddress:t,chainId:n})=>{var s;return(0,r.isNonEvmChainId)(n)||!e?null:null===(s=await(0,r.calcLatestSrcBalance)(global.ethereumProvider,e,t,(0,r.formatChainIdToHex)(n)))||void 0===s?void 0:s.toString()},f=n.setEVMSrcNativeBalance=(0,s.createAsyncThunk)("bridge/setEVMSrcNativeBalance",async({selectedAddress:e,chainId:t})=>await p({selectedAddress:e,tokenAddress:(0,a.zeroAddress)(),chainId:t})),g=n.setEVMSrcTokenBalance=(0,s.createAsyncThunk)("bridge/setEVMSrcTokenBalance",p),k=n.bridgeSlice=(0,s.createSlice)({name:"bridge",initialState:{...u},reducers:{setToChainId:(e,{payload:t})=>{e.toChainId=t?(0,r.formatChainIdToCaip)(t):null,e.toToken=null},setFromToken:(e,{payload:t})=>{var n,s;e.fromToken=(0,c.toBridgeToken)(t),e.fromTokenBalance=null,null!==(n=e.fromToken)&&void 0!==n&&n.assetId&&null!==(s=e.toToken)&&void 0!==s&&s.assetId&&e.fromToken.assetId.toLowerCase()===e.toToken.assetId.toLowerCase()&&(e.toToken=null)},setToToken:(e,{payload:t})=>{var n;const s=(0,c.toBridgeToken)(t);e.toToken=s?{...s,address:s.address||(null===(n=(0,r.getNativeAssetForChainId)(s.chainId))||void 0===n?void 0:n.address)}:s,null==s||!s.chainId||e.toChainId&&(0,r.formatChainIdToCaip)(s.chainId)===(0,r.formatChainIdToCaip)(e.toChainId)||(e.toChainId=(0,r.formatChainIdToCaip)(s.chainId))},setFromTokenInputValue:(e,{payload:t})=>{e.fromTokenInputValue=t},resetInputFields:()=>({...u}),restoreQuoteRequestFromState:(e,{payload:t})=>{e.fromToken=(0,c.toBridgeToken)(t.srcAsset),e.toToken=(0,c.toBridgeToken)(t.destAsset),e.toChainId=(0,r.formatChainIdToCaip)(t.destChainId)},setSortOrder:(e,t)=>{e.sortOrder=t.payload},setSelectedQuote:(e,t)=>{e.selectedQuote=t.payload},setWasTxDeclined:(e,t)=>{e.wasTxDeclined=t.payload},setSlippage:(e,t)=>{e.slippage=t.payload}},extraReducers:e=>{e.addCase(d.pending,e=>{e.toTokenExchangeRate=null}),e.addCase(m.pending,e=>{e.toTokenUsdExchangeRate=null}),e.addCase(l.pending,e=>{e.fromTokenExchangeRate=null}),e.addCase(d.fulfilled,(e,t)=>{e.toTokenExchangeRate=t.payload??null}),e.addCase(m.fulfilled,(e,t)=>{e.toTokenUsdExchangeRate=t.payload??null}),e.addCase(l.fulfilled,(e,t)=>{e.fromTokenExchangeRate=t.payload??null}),e.addCase(h.pending,e=>{e.txAlert=null}),e.addCase(h.fulfilled,(e,t)=>{e.txAlert=t.payload}),e.addCase(h.rejected,e=>{e.txAlert=null}),e.addCase(g.fulfilled,(e,t)=>{var n,s;var a;!(0,r.isCrossChain)(t.meta.arg.chainId,null===(n=e.fromToken)||void 0===n?void 0:n.chainId)&&null!==(s=e.fromToken)&&void 0!==s&&s.address&&t.meta.arg.tokenAddress!==e.fromToken.address||(e.fromTokenBalance=(null===(a=t.payload)||void 0===a?void 0:a.toString())??null);(0,i.endTrace)({name:i.TraceName.BridgeBalancesUpdated})}),e.addCase(g.rejected,e=>{e.fromTokenBalance=null,(0,i.endTrace)({name:i.TraceName.BridgeBalancesUpdated})}),e.addCase(f.fulfilled,(e,t)=>{var n;e.fromNativeBalance=(null===(n=t.payload)||void 0===n?void 0:n.toString())??null,(0,i.endTrace)({name:i.TraceName.BridgeBalancesUpdated})}),e.addCase(f.rejected,e=>{e.fromNativeBalance=null,(0,i.endTrace)({name:i.TraceName.BridgeBalancesUpdated})})}});n.default=k.reducer}}},{package:"$root$",file:"ui/ducks/bridge/bridge.ts"}],[6622,{"../../../shared/constants/bridge":5417,"../../../shared/constants/hardware-wallets":5424,"../../../shared/constants/multichain/assets":5431,"../../../shared/constants/multichain/networks":5432,"../../../shared/constants/network":5433,"../../../shared/lib/asset-utils":5460,"../../../shared/modules/Numeric":5524,"../../../shared/modules/selectors":5545,"../../../shared/modules/selectors/networks":5547,"../../../shared/modules/selectors/util":5549,"../../selectors/accounts":7528,"../../selectors/assets":7531,"../../selectors/multichain":7548,"../../selectors/multichain-accounts/account-tree":7543,"../../selectors/multichain/networks":7549,"../../selectors/remote-feature-flags":7552,"../../selectors/selectors":7555,"./utils":6623,"@metamask/bridge-controller":1229,"@metamask/keyring-api":1994,"@metamask/notification-services-controller/push-services":2230,"@metamask/utils":2799,"bignumber.js":3648,lodash:4534,reselect:4988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectNoFeeAssets=n.needsSolanaAccountForDestination=n.getWasTxDeclined=n.getValidationErrors=n.getTxAlerts=n.getTopAssetsFromFeatureFlags=n.getToTokenConversionRate=n.getToToken=n.getToChains=n.getToChain=n.getToAccounts=n.getSlippage=n.getQuoteRequest=n.getQuoteRefreshRate=n.getPriceImpactThresholds=n.getLastSelectedChainId=n.getIsToOrFromSolana=n.getIsSwap=n.getIsStxEnabled=n.getIsSolanaSwap=n.getIsQuoteExpired=n.getIsGasIncluded=n.getIsBridgeTx=n.getHardwareWalletName=n.getFromTokenConversionRate=n.getFromTokenBalance=n.getFromToken=n.getFromChains=n.getFromChain=n.getFromAmountInCurrency=n.getFromAmount=n.getFromAccount=n.getDefaultTokenPair=n.getBridgeSortOrder=n.getBridgeQuotes=n.getAllBridgeableNetworks=n.getAccountGroupNameByInternalAccount=void 0;var s=e("@metamask/bridge-controller"),r=e("@metamask/keyring-api"),a=e("lodash"),o=e("reselect"),i=e("bignumber.js"),c=e("@metamask/notification-services-controller/push-services"),u=e("@metamask/utils"),l=e("../../../shared/constants/multichain/networks"),d=e("../../selectors/selectors"),m=e("../../../shared/constants/bridge"),h=e("../../../shared/modules/selectors/util"),p=e("../../../shared/modules/selectors/networks"),f=e("../../../shared/constants/network"),g=e("../../selectors/multichain"),k=e("../../selectors/assets"),T=e("../../../shared/constants/hardware-wallets"),v=e("../../../shared/lib/asset-utils"),y=e("../../../shared/constants/multichain/assets"),S=e("../../../shared/modules/Numeric"),b=e("../../../shared/modules/selectors"),w=e("../../selectors/accounts"),I=e("../../selectors/remote-feature-flags"),_=e("../../selectors/multichain-accounts/account-tree"),C=e("../../selectors/multichain/networks"),A=e("./utils");const E=e=>{var t;const n=(null===(t=e.metamask.internalAccounts)||void 0===t?void 0:t.accounts)||{};return Object.values(n).some(e=>{const{DataAccount:t}=r.SolAccountType;return Boolean(e&&e.type===t)})},N=n.getAllBridgeableNetworks=(0,h.createDeepEqualSelector)(p.getNetworkConfigurationsByChainId,e=>(0,a.uniqBy)([...Object.values(e),{...l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.SOLANA],blockExplorerUrls:[],name:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.SOLANA].nickname,nativeCurrency:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.SOLANA].ticker,rpcEndpoints:[{url:"",type:"",networkClientId:""}],defaultRpcEndpointIndex:0,chainId:l.MultichainNetworks.SOLANA}],"chainId").filter(({chainId:e})=>m.ALLOWED_BRIDGE_CHAIN_IDS.includes(e))),M=(0,h.createDeepEqualSelector)([e=>(0,I.getRemoteFeatureFlags)(e).bridgeConfig],e=>(0,s.selectBridgeFeatureFlags)({remoteFeatureFlags:{bridgeConfig:e}})),P=(n.getPriceImpactThresholds=(0,h.createDeepEqualSelector)(M,e=>null==e?void 0:e.priceImpactThreshold),n.getFromChains=(0,h.createDeepEqualSelector)(N,M,e=>E(e),(e,t,n)=>(n?e:e.filter(({chainId:e})=>!(0,s.isSolanaChainId)(e))).filter(({chainId:e})=>{var n;return null===(n=t.chains[(0,s.formatChainIdToCaip)(e)])||void 0===n?void 0:n.isActiveSrc}))),O=(n.getLastSelectedChainId=(0,o.createSelector)([C.getAllEnabledNetworksForAllNamespaces],e=>e[0]),n.getFromChain=(0,h.createDeepEqualSelector)([P,g.getMultichainProviderConfig],(e,t)=>e.find(({chainId:e})=>e===(null==t?void 0:t.chainId)))),R=n.getToChains=(0,h.createDeepEqualSelector)(N,M,(e,t)=>(0,a.uniqBy)([...e,...f.FEATURED_RPCS],"chainId").filter(({chainId:e})=>{var n;return null==t||null===(n=t.chains)||void 0===n||null===(n=n[(0,s.formatChainIdToCaip)(e)])||void 0===n?void 0:n.isActiveDest}));n.getTopAssetsFromFeatureFlags=(e,t)=>{var n;if(!t)return undefined;const r=M(e);return null==r||null===(n=r.chains[(0,s.formatChainIdToCaip)(t)])||void 0===n?void 0:n.topAssets};const D=n.getToChain=(0,o.createSelector)([O,R,e=>{var t;return null===(t=e.bridge)||void 0===t?void 0:t.toChainId}],(e,t,n)=>n?t.find(({chainId:e})=>e===n||(0,s.formatChainIdToCaip)(e)===n):e),x=(n.getDefaultTokenPair=(0,h.createDeepEqualSelector)([e=>{var t;return null===(t=O(e))||void 0===t?void 0:t.chainId},e=>M(e).bip44DefaultPairs],(e,t)=>{var n;if(!e)return null;const{namespace:r}=(0,u.parseCaipChainId)((0,s.formatChainIdToCaip)(e)),a=null==t||null===(n=t[r])||void 0===n?void 0:n.standard;return a?Object.entries(a).flat():null}),n.getFromToken=(0,o.createSelector)([e=>e.bridge.fromToken,e=>{var t;return null===(t=O(e))||void 0===t?void 0:t.chainId}],(e,t)=>{if(!t)return null;if(null!=e&&e.address)return e;const{iconUrl:n,...r}=(0,s.getNativeAssetForChainId)(t),a=(0,A.toBridgeToken)(r);return a?{...a,chainId:(0,s.formatChainIdToCaip)(t)}:a})),B=n.getToToken=(0,o.createSelector)([x,D,e=>e.bridge.toToken],(e,t,n)=>{if(!t||!e)return null;if(n)return n;const r=(0,A.getDefaultToToken)((0,s.formatChainIdToCaip)(t.chainId),e);return r?(0,A.toBridgeToken)(r):null}),$=e=>e.bridge.fromTokenInputValue;n.getFromAmount=$;const U=n.getAccountGroupNameByInternalAccount=(0,o.createSelector)([_.getAllAccountGroups,(e,t)=>t],(e,t)=>{var n,s;return null!=t&&t.id?(null===(n=e.find(({accounts:e})=>e.includes(t.id)))||void 0===n?void 0:n.metadata.name)??(null==t||null===(s=t.metadata)||void 0===s?void 0:s.name):null}),F=n.getFromAccount=(0,o.createSelector)([e=>{var t;return null===(t=O(e))||void 0===t?void 0:t.chainId},e=>e,w.getSelectedInternalAccount],(e,t,n)=>e?(0,_.getInternalAccountBySelectedAccountGroupAndCaip)(t,(0,s.formatChainIdToCaip)(e))??n:null),L=(n.getToAccounts=(0,o.createSelector)([D,e=>e],(e,t)=>{if(!e)return[];return(0,w.getInternalAccountsByScope)(t,(0,s.formatChainIdToCaip)(e.chainId)).map(e=>({...e,isExternal:!1,displayName:U(t,e)??e.metadata.name??e.address}))}),(0,o.createSelector)([O,e=>e.bridge.fromNativeBalance,g.getMultichainBalances,e=>{var t;return null===(t=F(e))||void 0===t?void 0:t.id}],(e,t,n,r)=>{if(!e||!r)return null;const{chainId:a}=e,{decimals:o,address:i,assetId:c}=(0,s.getNativeAssetForChainId)(a);if((0,s.isSolanaChainId)(a)){var u;const e=(0,s.isNativeAddress)(i)?y.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.SOL:c??i;return(null==n||null===(u=n[r])||void 0===u||null===(u=u[e])||void 0===u?void 0:u.amount)??null}return t?S.Numeric.from(t,10).shiftedBy(o).toString():null})),j=n.getFromTokenBalance=(0,o.createSelector)(x,O,e=>e.bridge.fromTokenBalance,g.getMultichainBalances,F,(e,t,n,r,a)=>{if(!e||!t||!a)return null;const{id:o}=a,{chainId:i,decimals:c,address:u,assetId:l}=e;if((0,s.isSolanaChainId)(i)){var d;const t=(0,s.isNativeAddress)(u)?y.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.SOL:l??u;return(null==r||null===(d=r[o])||void 0===d||null===(d=d[t])||void 0===d?void 0:d.amount)??e.string??null}return n?S.Numeric.from(n,10).shiftedBy(c).toString():null});n.getSlippage=e=>e.bridge.slippage;const W=e=>{const{quoteRequest:t}=e.metamask;return t};n.getQuoteRequest=W;n.getQuoteRefreshRate=(0,o.createSelector)(M,O,(e,t)=>{var n;return(t&&(null===(n=e.chains[(0,s.formatChainIdToCaip)(t.chainId)])||void 0===n?void 0:n.refreshRate))??e.refreshRate});n.getBridgeSortOrder=e=>e.bridge.sortOrder;const H=n.getFromTokenConversionRate=(0,o.createSelector)([O,e=>e.metamask.marketData,k.getAssetsRates,x,g.getMultichainCoinRates,e=>e.metamask.currencyRates,e=>e.bridge.fromTokenExchangeRate],(e,t,n,r,a,o,i)=>{if(null!=e&&e.chainId&&r){var c,u,l,d,m;const T=null===(c=(0,s.getNativeAssetForChainId)(e.chainId))||void 0===c?void 0:c.assetId,y=(0,v.toAssetId)(r.address,(0,s.formatChainIdToCaip)(e.chainId)),S=(0,s.isSolanaChainId)(e.chainId)?Number((null==n||null===(u=n[T])||void 0===u?void 0:u.rate)??null):(null===(l=o[e.nativeCurrency])||void 0===l?void 0:l.conversionRate)??null,b=(0,s.isSolanaChainId)(e.chainId)?Number((null==a||null===(d=a[e.nativeCurrency.toLowerCase()])||void 0===d?void 0:d.usdConversionRate)??null):(null===(m=o[e.nativeCurrency])||void 0===m?void 0:m.usdConversionRate)??null;if((0,s.isNativeAddress)(r.address))return{valueInCurrency:S,usd:b};if((0,s.isSolanaChainId)(e.chainId)&&T&&y){var h,p,f;const e=(0,A.tokenPriceInNativeAsset)(Number((null==n||null===(h=n[y])||void 0===h?void 0:h.rate)??i??null),Number((null==n||null===(p=n[T])||void 0===p?void 0:p.rate)??(null==a||null===(f=a.sol)||void 0===f?void 0:f.conversionRate)??null));return(0,A.exchangeRatesFromNativeAndCurrencyRates)(e,Number(S),Number(b))}if((0,s.isBitcoinChainId)(e.chainId)&&T&&y){var g,k;const e=Number((null==n||null===(g=n[T])||void 0===g?void 0:g.rate)??null),t=(0,A.tokenPriceInNativeAsset)(Number((null==n||null===(k=n[y])||void 0===k?void 0:k.rate)??i??null),e);return(0,A.exchangeRatesFromNativeAndCurrencyRates)(t,Number(S),Number(b))}const w=(0,A.exchangeRateFromMarketData)(e.chainId,r.address,t)??(0,A.tokenPriceInNativeAsset)(i,S);return(0,A.exchangeRatesFromNativeAndCurrencyRates)(w,S,b)}return(0,A.exchangeRatesFromNativeAndCurrencyRates)()});n.getToTokenConversionRate=(0,h.createDeepEqualSelector)([D,e=>e.metamask.marketData,k.getAssetsRates,B,p.getNetworkConfigurationsByChainId,e=>({state:e,toTokenExchangeRate:e.bridge.toTokenExchangeRate,toTokenUsdExchangeRate:e.bridge.toTokenUsdExchangeRate}),g.getMultichainCoinRates],(e,t,n,r,a,{state:o,toTokenExchangeRate:i,toTokenUsdExchangeRate:c},u)=>{if(null!=e&&e.chainId&&!a[e.chainId]&&i)return{valueInCurrency:i,usd:c};if(null!=e&&e.chainId&&r){var l;const a=null===(l=(0,s.getNativeAssetForChainId)(e.chainId))||void 0===l?void 0:l.assetId,c=(0,v.toAssetId)(r.address,(0,s.formatChainIdToCaip)(e.chainId));if((0,s.isSolanaChainId)(e.chainId)&&a&&c){var m,h,p,f;const t=(0,A.tokenPriceInNativeAsset)(Number((null==n||null===(m=n[c])||void 0===m?void 0:m.rate)??null),Number((null==n||null===(h=n[a])||void 0===h?void 0:h.rate)??null));return(0,A.exchangeRatesFromNativeAndCurrencyRates)(t,(null==u||null===(p=u[e.nativeCurrency.toLowerCase()])||void 0===p?void 0:p.conversionRate)??null,(null==u||null===(f=u[e.nativeCurrency.toLowerCase()])||void 0===f?void 0:f.usdConversionRate)??null)}const{chainId:g}=e,k=(0,d.selectConversionRateByChainId)(o,g),T=(0,d.getUSDConversionRateByChainId)(g)(o);if((0,s.isNativeAddress)(r.address))return{valueInCurrency:k,usd:T};const y=(0,A.exchangeRateFromMarketData)(g,r.address,t)??(0,A.tokenPriceInNativeAsset)(i,k);return(0,A.exchangeRatesFromNativeAndCurrencyRates)(y,k,T)}return(0,A.exchangeRatesFromNativeAndCurrencyRates)()});n.getIsQuoteExpired=({metamask:e},t)=>(0,s.selectIsQuoteExpired)(e,{},t);const G=n.getBridgeQuotes=(0,o.createSelector)([({metamask:e})=>e,({bridge:{sortOrder:e}})=>e,({bridge:{selectedQuote:e}})=>e],(e,t,n)=>(0,s.selectBridgeQuotes)(e,{sortOrder:t,selectedQuote:n})),V=(n.getIsBridgeTx=(0,h.createDeepEqualSelector)(O,D,(e,t)=>!(!t||null==e||!e.chainId)&&e.chainId!==t.chainId),n.getIsSwap=(0,h.createDeepEqualSelector)(W,({srcChainId:e,destChainId:t})=>Boolean(e&&t&&(0,s.formatChainIdToCaip)(e)===(0,s.formatChainIdToCaip)(t))),(0,o.createSelector)(x,e=>e.metamask.quoteRequest.srcTokenAmount,(e,t)=>t&&null!=e&&e.decimals?(0,c.calcTokenAmount)(t,Number(e.decimals)).toString():null)),K=(n.getFromAmountInCurrency=(0,o.createSelector)(x,O,V,H,(e,t,n,{valueInCurrency:s,usd:r})=>null!=e&&e.symbol&&null!=t&&t.chainId&&n&&s?{valueInCurrency:new i.BigNumber(n).mul(new i.BigNumber(s.toString()??1)),usd:new i.BigNumber(n).mul(new i.BigNumber((null==r?void 0:r.toString())??1))}:{valueInCurrency:new i.BigNumber(0),usd:new i.BigNumber(0)}),e=>e.bridge.txAlert);n.getTxAlerts=K;n.getValidationErrors=(0,h.createDeepEqualSelector)(G,V,x,$,({metamask:e})=>(0,s.selectMinimumBalanceForRentExemptionInSOL)(e),W,K,L,j,({activeQuote:e,quotesLastFetchedMs:t,isLoading:n,quotesRefreshCount:r},a,o,c,u,l,d,m,h)=>{var p,f,g;const{gasIncluded:k,gasIncluded7702:T}=(null==e?void 0:e.quote)??{},v=T||k,y=l.srcChainId??(null==e||null===(p=e.quote)||void 0===p?void 0:p.srcChainId),S=y&&(0,s.isSolanaChainId)(y)?u:"0";return{isTxAlertPresent:Boolean(d),isNoQuotesAvailable:Boolean(!e&&(0,s.isValidQuoteRequest)(l)&&t&&!n&&r>0),isInsufficientGasBalance:Boolean(m&&!e&&a&&o&&!v&&((0,s.isNativeAddress)(o.address)?new i.BigNumber(m).sub(S).lte(a):new i.BigNumber(m).lte(0))),isInsufficientGasForQuote:Boolean(m&&e&&o&&c&&!v&&((0,s.isNativeAddress)(o.address)?new i.BigNumber(m).sub(e.totalMaxNetworkFee.amount).sub(e.sentAmount.amount).sub(S).lte(0):new i.BigNumber(m).lte(e.totalMaxNetworkFee.amount))),isInsufficientBalance:!(!a||!h||isNaN(Number(h)))&&new i.BigNumber(h).lt(a),isEstimatedReturnLow:!!(null!=e&&null!==(f=e.sentAmount)&&void 0!==f&&f.valueInCurrency&&null!=e&&null!==(g=e.adjustedReturn)&&void 0!==g&&g.valueInCurrency&&c)&&new i.BigNumber(e.adjustedReturn.valueInCurrency).lt(new i.BigNumber(1-s.BRIDGE_QUOTE_MAX_RETURN_DIFFERENCE_PERCENTAGE).times(e.sentAmount.valueInCurrency))}});n.getWasTxDeclined=e=>e.bridge.wasTxDeclined;n.needsSolanaAccountForDestination=(0,h.createDeepEqualSelector)(D,e=>E(e),(e,t)=>{if(!e)return!1;return(0,s.isSolanaChainId)(e.chainId)&&!t}),n.getIsToOrFromSolana=(0,o.createSelector)(O,D,(e,t)=>{if(null==e||!e.chainId||null==t||!t.chainId)return!1;const n=(0,s.formatChainIdToCaip)(e.chainId),r=(0,s.formatChainIdToCaip)(t.chainId),{namespace:a}=(0,u.parseCaipChainId)(n),{namespace:o}=(0,u.parseCaipChainId)(r);return a!==o}),n.getIsSolanaSwap=(0,o.createSelector)(O,D,(e,t)=>{if(null==e||!e.chainId||null==t||!t.chainId)return!1;const n=(0,s.isSolanaChainId)(e.chainId),r=(0,s.isSolanaChainId)(t.chainId);return n&&r});n.getHardwareWalletName=e=>{switch((0,d.getHardwareWalletType)(e)){case T.HardwareKeyringType.ledger:return T.HardwareKeyringNames.ledger;case T.HardwareKeyringType.trezor:return T.HardwareKeyringNames.trezor;case T.HardwareKeyringType.lattice:return T.HardwareKeyringNames.lattice;case T.HardwareKeyringType.oneKey:return T.HardwareKeyringNames.oneKey;default:return undefined}};n.selectNoFeeAssets=(0,o.createSelector)([M,(e,t)=>t],(e,t)=>{var n;if(!t)return[];const r=(0,s.formatChainIdToCaip)(t);return(null==e||null===(n=e.chains)||void 0===n||null===(n=n[r])||void 0===n?void 0:n.noFeeAssets)??[]});const Y=(0,o.createSelector)([e=>{var t;return null===(t=O(e))||void 0===t?void 0:t.chainId},e=>{var t;return null===(t=D(e))||void 0===t?void 0:t.chainId},(e,t)=>t],(e,t,n)=>{if(!e)return!1;return!(0,s.isCrossChain)(e,t)&&n}),q=n.getIsStxEnabled=(0,o.createSelector)([e=>{var t;return null===(t=O(e))||void 0===t?void 0:t.chainId},e=>e],(e,t)=>(0,b.getIsSmartTransaction)(t,e));n.getIsGasIncluded=(0,o.createSelector)([q,Y],(e,t)=>e&&t)}}},{package:"$root$",file:"ui/ducks/bridge/selectors.ts"}],[6623,{"../../../shared/constants/bridge":5417,"../../../shared/constants/multichain/networks":5432,"../../../shared/constants/network":5433,"../../../shared/lib/asset-utils":5460,"../../../shared/modules/Numeric":5524,"../../../shared/modules/conversion.utils":5529,"../../pages/swaps/swaps.util":7517,"@metamask/bridge-controller":1229,"@metamask/controller-utils":1301,"@metamask/utils":2799,"bignumber.js":3648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tokenPriceInNativeAsset=n.tokenAmountToCurrency=n.toBridgeToken=n.isNetworkAdded=n.getTxGasEstimates=n.getTokenExchangeRate=n.getNativeTokenName=n.getHexMaxGasLimit=n.getDefaultToToken=n.exchangeRatesFromNativeAndCurrencyRates=n.exchangeRateFromMarketData=n.bpsToPercentage=void 0;var s=e("@metamask/utils"),r=e("bignumber.js"),a=e("@metamask/bridge-controller"),o=e("@metamask/controller-utils"),i=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("../../pages/swaps/swaps.util"),l=e("../../../shared/lib/asset-utils"),d=e("../../../shared/constants/bridge"),m=e("../../../shared/constants/network"),h=e("../../../shared/constants/multichain/networks");n.getNativeTokenName=e=>{try{var t;return null===(t=(0,a.getNativeAssetForChainId)(e))||void 0===t?void 0:t.name}catch{return undefined}};n.getHexMaxGasLimit=e=>new c.Numeric(new r.BigNumber(e).toString(),10).toPrefixedHexString();n.bpsToPercentage=e=>{if(e===undefined||null===e)return undefined;const t="string"==typeof e?parseFloat(e):e;return isNaN(t)?undefined:(t/100).toString()};n.getTxGasEstimates=async({networkAndAccountSupports1559:e,networkGasFeeEstimates:t,txParams:n,hexChainId:s})=>{if(e){var r;const{estimatedBaseFee:e="0"}=t,a=(0,i.decGWEIToHexWEI)(e);return await(0,u.getTransaction1559GasFeeEstimates)({...n,chainId:s,gasLimit:null===(r=n.gasLimit)||void 0===r?void 0:r.toString()},a,s)}return{baseAndPriorityFeePerGas:undefined,maxFeePerGas:undefined,maxPriorityFeePerGas:undefined}};n.getTokenExchangeRate=async e=>{const{chainId:t,tokenAddress:n,currency:s,signal:r}=e,i=await(async(e,t,n,...s)=>{const r=s.map(t=>(0,l.toAssetId)(t,(0,a.formatChainIdToCaip)(e))).filter(Boolean);if(0===r.length)return{};const i=`https://price.api.cx.metamask.io/v3/spot-prices?${new URLSearchParams({assetIds:r.join(","),includeMarketData:"true",vsCurrency:t})}`,c=await(0,o.handleFetch)(i,{method:"GET",headers:{"X-Client-Id":a.BridgeClientId.EXTENSION},signal:n});return Object.entries(c).reduce((e,[t,n])=>(e[t]=n.price,e),{})})(t,s,r,n),c=(0,l.toAssetId)(n,(0,a.formatChainIdToCaip)(t));return c?null==i?void 0:i[c]:undefined};n.exchangeRateFromMarketData=(e,t,n)=>{var r;return(0,s.isStrictHexString)(t)&&(0,s.isStrictHexString)(e)?null==n||null===(r=n[e])||void 0===r||null===(r=r[t])||void 0===r?void 0:r.price:undefined};n.tokenAmountToCurrency=(e,t)=>new c.Numeric(e,10).applyConversionRate(new r.BigNumber(t.toString(),10)).toNumber();n.tokenPriceInNativeAsset=(e,t)=>e&&t?e/t:null;n.exchangeRatesFromNativeAndCurrencyRates=(e,t,n)=>({valueInCurrency:e&&t?e*t:null,usd:e&&n?e*n:null});n.isNetworkAdded=e=>e!==undefined&&"networkClientId"in e.rpcEndpoints[e.defaultRpcEndpointIndex];const p=e=>{if(!e)return"";const{image:t,iconUrl:n,icon:s,chainId:r,address:o,assetId:i}=e,c=(0,a.formatChainIdToCaip)(r);if((0,a.isNativeAddress)(o))return(0,a.isSolanaChainId)(r)?h.MULTICHAIN_TOKEN_IMAGE_MAP[c]:m.CHAIN_ID_TOKEN_IMAGE_MAP[(0,a.formatChainIdToHex)(r)];const u=t??n??s;if(u)return u;const d=i??(0,l.toAssetId)(o,c);return(d&&(0,l.getAssetImageUrl)(d,c))??""},f=e=>{if(!e)return null;const t=(0,a.formatChainIdToCaip)(e.chainId);return{...e,balance:e.balance??"0",string:e.string??"0",chainId:e.chainId,image:p(e),assetId:e.assetId??(0,l.toAssetId)(e.address,t)}};n.toBridgeToken=f;const g=(e,t)=>{const{assetId:n,...s}=e;return f({...s,chainId:t})};n.getDefaultToToken=(e,t)=>{const n=d.BRIDGE_CHAINID_COMMON_TOKEN_PAIR[e];if(n){var s;if((0,a.isNativeAddress)(t.address))return g(n,e);if((null===(s=t.address)||void 0===s?void 0:s.toLowerCase())===n.address.toLowerCase()){const t=(0,a.getNativeAssetForChainId)(e);if(t)return g(t,e)}return g(n,e)}const r=(0,a.getNativeAssetForChainId)(e);return r?g(r,e):null}}}},{package:"$root$",file:"ui/ducks/bridge/utils.ts"}],[6624,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.clearAlerts=function(e){return{type:"CLEAR_ALERTS",ownerId:e}},n.default=function(e=s,t){switch(t.type){case"UPDATE_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:t.alerts}};case"SET_ALERT_CONFIRMED":return{...e,confirmed:{...e.confirmed,[t.ownerId]:{...e.confirmed[t.ownerId],[t.alertKey]:t.isConfirmed}}};case"CLEAR_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:[]},confirmed:{...e.confirmed,[t.ownerId]:{}}};default:return e}},n.setAlertConfirmed=function(e,t,n){return{type:"SET_ALERT_CONFIRMED",ownerId:e,alertKey:t,isConfirmed:n}},n.updateAlerts=function(e,t){return{type:"UPDATE_ALERTS",alerts:t,ownerId:e}};const s={alerts:{},confirmed:{}}}}},{package:"$root$",file:"ui/ducks/confirm-alerts/confirm-alerts.ts"}],[6629,{"../../helpers/constants/routes":6650,"@reduxjs/toolkit":2871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setRedirectAfterDefaultPage=n.pageChanged=n.getRedirectAfterDefaultPage=n.getMostRecentOverviewPage=n.default=n.clearRedirectAfterDefaultPage=void 0;var s=e("@reduxjs/toolkit"),r=e("../../helpers/constants/routes");const a={mostRecentOverviewPage:r.DEFAULT_ROUTE,redirectAfterDefaultPage:null},o="history",i=(0,s.createSlice)({name:o,initialState:a,reducers:{pageChanged:(e,t)=>{const n=t.payload;var s;(n===r.DEFAULT_ROUTE||n.startsWith(r.ASSET_ROUTE))&&(e.mostRecentOverviewPage=n,n===r.DEFAULT_ROUTE&&null!==(s=e.redirectAfterDefaultPage)&&void 0!==s&&s.shouldRedirect&&(e.redirectAfterDefaultPage.shouldRedirect=!1))},setRedirectAfterDefaultPage:(e,t)=>{const{path:n,address:s}=t.payload;e.redirectAfterDefaultPage={path:n,shouldRedirect:!0,address:s}},clearRedirectAfterDefaultPage:e=>{e.redirectAfterDefaultPage=null}}}),{actions:c,reducer:u}=i;n.default=u;n.getMostRecentOverviewPage=e=>e[o].mostRecentOverviewPage;n.getRedirectAfterDefaultPage=e=>e[o].redirectAfterDefaultPage;const{pageChanged:l,setRedirectAfterDefaultPage:d,clearRedirectAfterDefaultPage:m}=c;n.clearRedirectAfterDefaultPage=m,n.setRedirectAfterDefaultPage=d,n.pageChanged=l}}},{package:"$root$",file:"ui/ducks/history/history.js"}],[6630,{"../../shared/constants/alerts":5413,"./alerts":6614,"./app/app":6617,"./bridge/bridge":6621,"./confirm-alerts/confirm-alerts":6624,"./confirm-transaction/confirm-transaction.duck":6625,"./domains":6626,"./gas/gas.duck":6628,"./history/history":6629,"./locale/locale":6631,"./metamask/metamask":6632,"./ramps/ramps":6635,"./send/send":6638,"./smart-accounts/smart-accounts":6640,"./swaps/swaps":6641,redux:4980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("redux"),r=e("../../shared/constants/alerts"),a=v(e("./metamask/metamask")),o=v(e("./locale/locale")),i=v(e("./send/send")),c=v(e("./domains")),u=v(e("./app/app")),l=v(e("./confirm-transaction/confirm-transaction.duck")),d=v(e("./gas/gas.duck")),m=e("./alerts"),h=v(e("./swaps/swaps")),p=v(e("./bridge/bridge")),f=v(e("./history/history")),g=v(e("./ramps/ramps")),k=v(e("./confirm-alerts/confirm-alerts")),T=v(e("./smart-accounts/smart-accounts"));function v(e){return e&&e.__esModule?e:{default:e}}n.default=(0,s.combineReducers)({[r.AlertTypes.invalidCustomNetwork]:m.invalidCustomNetwork,[r.AlertTypes.unconnectedAccount]:m.unconnectedAccount,activeTab:e=>e===undefined?null:e,metamask:a.default,appState:u.default,DNS:c.default,history:f.default,send:i.default,confirmAlerts:k.default,confirmTransaction:l.default,swaps:h.default,ramps:g.default,bridge:p.default,gas:d.default,localeMessages:o.default,smartAccounts:T.default})}}},{package:"$root$",file:"ui/ducks/index.js"}],[6633,{"../../../shared/constants/network":5433},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultBuyableChains=void 0;var s=e("../../../shared/constants/network");n.defaultBuyableChains=[{active:!0,chainId:1,chainName:s.MAINNET_DISPLAY_NAME,shortName:"Ethereum",nativeTokenSupported:!0},{active:!0,chainId:10,chainName:s.OPTIMISM_DISPLAY_NAME,shortName:"Optimism",nativeTokenSupported:!0},{active:!0,chainId:25,chainName:"Cronos Mainnet",shortName:"Cronos",nativeTokenSupported:!0},{active:!0,chainId:56,chainName:s.BNB_DISPLAY_NAME,shortName:"BNB Chain",nativeTokenSupported:!0},{active:!0,chainId:100,chainName:"Gnosis Mainnet",shortName:"Gnosis",nativeTokenSupported:!0},{active:!0,chainId:137,chainName:s.POLYGON_DISPLAY_NAME,shortName:"Polygon",nativeTokenSupported:!0},{active:!0,chainId:250,chainName:"Fantom Mainnet",shortName:"Fantom",nativeTokenSupported:!0},{active:!0,chainId:324,chainName:s.ZK_SYNC_ERA_DISPLAY_NAME,shortName:"zkSync Era",nativeTokenSupported:!0},{active:!0,chainId:1101,chainName:"Polygon zkEVM",shortName:"Polygon zkEVM",nativeTokenSupported:!0},{active:!0,chainId:1284,chainName:"Moonbeam Mainnet",shortName:"Moonbeam",nativeTokenSupported:!0},{active:!0,chainId:1285,chainName:"Moonriver Mainnet",shortName:"Moonriver",nativeTokenSupported:!0},{active:!0,chainId:8453,chainName:s.BASE_DISPLAY_NAME,shortName:"Base",nativeTokenSupported:!0},{active:!0,chainId:42161,chainName:s.ARBITRUM_DISPLAY_NAME,shortName:"Arbitrum",nativeTokenSupported:!0},{active:!0,chainId:42220,chainName:s.CELO_DISPLAY_NAME,shortName:"Celo",nativeTokenSupported:!1},{active:!0,chainId:43114,chainName:s.AVALANCHE_DISPLAY_NAME,shortName:"Avalanche C-Chain",nativeTokenSupported:!0},{active:!0,chainId:59144,chainName:s.LINEA_MAINNET_DISPLAY_NAME,shortName:"Linea",nativeTokenSupported:!0},{active:!0,chainId:1313161554,chainName:"Aurora Mainnet",shortName:"Aurora",nativeTokenSupported:!1},{active:!0,chainId:16666e5,chainName:"Harmony Mainnet (Shard 0)",shortName:"Harmony (Shard 0)",nativeTokenSupported:!0},{active:!0,chainId:11297108109,chainName:"Palm Mainnet",shortName:"Palm",nativeTokenSupported:!1}]}}},{package:"$root$",file:"ui/ducks/ramps/constants.ts"}],[6634,{"./ramps":6635},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ramps");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/ducks/ramps/index.ts"}],[6635,{"../../../shared/constants/multichain/networks":5432,"../../../shared/modules/conversion.utils":5529,"../../../shared/modules/selectors/networks":5547,"../../helpers/ramps/rampApi/rampAPI":6668,"../../selectors":7539,"../../selectors/multichain":7548,"./constants":6633,"@reduxjs/toolkit":2871,reselect:4988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsSolanaBuyable=n.getIsNativeTokenBuyable=n.getIsBitcoinBuyable=n.getBuyableChains=n.fetchBuyableChains=n.default=void 0;var s,r=e("reselect"),a=e("@reduxjs/toolkit"),o=e("../../../shared/modules/selectors/networks"),i=e("../../selectors"),c=(s=e("../../helpers/ramps/rampApi/rampAPI"))&&s.__esModule?s:{default:s},u=e("../../../shared/modules/conversion.utils"),l=e("../../selectors/multichain"),d=e("../../../shared/constants/multichain/networks"),m=e("./constants");const h=n.fetchBuyableChains=(0,a.createAsyncThunk)("ramps/fetchBuyableChains",async(e,{getState:t})=>{const n=t(),{isFetched:s}=n.ramps;return(0,i.getUseExternalServices)(n)?s?n.ramps.buyableChains:await c.default.getNetworks():m.defaultBuyableChains}),p=(0,a.createSlice)({name:"ramps",initialState:{buyableChains:m.defaultBuyableChains,isFetched:!1},reducers:{setBuyableChains:(e,t)=>{Array.isArray(t.payload)&&t.payload.length>0&&t.payload.every(e=>null==e?void 0:e.chainId)?(e.buyableChains=t.payload,e.isFetched=!0):e.buyableChains=m.defaultBuyableChains}},extraReducers:e=>{e.addCase(h.fulfilled,(e,t)=>{const n=t.payload;n&&n.length>0?e.buyableChains=n:e.buyableChains=m.defaultBuyableChains,e.isFetched=!0}).addCase(h.rejected,e=>{e.buyableChains=m.defaultBuyableChains,e.isFetched=!0})}}),{reducer:f}=p,g=e=>{var t;return(null===(t=e.ramps)||void 0===t?void 0:t.buyableChains)??m.defaultBuyableChains};n.getBuyableChains=g;const k=n.getIsBitcoinBuyable=(0,r.createSelector)([g],e=>e.filter(Boolean).some(e=>e.chainId===d.MultichainNetworks.BITCOIN&&e.active)),T=n.getIsSolanaBuyable=(0,r.createSelector)([g],e=>e.filter(Boolean).some(e=>e.chainId===d.MultichainNetworks.SOLANA&&e.active));n.getIsNativeTokenBuyable=(0,r.createSelector)([o.getCurrentChainId,g,k,l.getMultichainIsBitcoin,T,l.getMultichainIsSolana],(e,t,n,s,r,a)=>{try{return s?n:a?r:t.filter(Boolean).some(t=>String(t.chainId)===(0,u.hexToDecimal)(e))}catch(e){return!1}});n.default=f}}},{package:"$root$",file:"ui/ducks/ramps/ramps.ts"}],[6640,{"@reduxjs/toolkit":2871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setToggleState=n.selectToggleState=n.default=void 0;const s=(0,e("@reduxjs/toolkit").createSlice)({name:"smartAccounts",initialState:{toggleStates:{}},reducers:{setToggleState:(e,t)=>{const{address:n,chainId:s,value:r}=t.payload;e.toggleStates[n]||(e.toggleStates[n]={}),null===r?(delete e.toggleStates[n][s],0===Object.keys(e.toggleStates[n]).length&&delete e.toggleStates[n]):e.toggleStates[n][s]=r}}}),{setToggleState:r}=s.actions;n.setToggleState=r;n.selectToggleState=(e,t,n)=>{var s;return(null===(s=e.smartAccounts.toggleStates[t])||void 0===s?void 0:s[n])??null};n.default=s.reducer}}},{package:"$root$",file:"ui/ducks/smart-accounts/smart-accounts.ts"}],[6642,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=[{code:"aud",name:"Australian Dollar"},{code:"hkd",name:"Hong Kong Dollar"},{code:"sgd",name:"Singapore Dollar"},{code:"idr",name:"Indonesian Rupiah"},{code:"inr",name:"Indian Rupee"},{code:"nzd",name:"New Zealand Dollar"},{code:"php",name:"Philippine Peso"},{code:"btc",name:"Bitcoin"},{code:"cad",name:"Canadian Dollar"},{code:"eur",name:"Euro"},{code:"gbp",name:"Pound Sterling"},{code:"jpy",name:"Japanese Yen"},{code:"ltc",name:"Litecoin"},{code:"rub",name:"Russian Ruble"},{code:"uah",name:"Ukrainian Hryvnia"},{code:"usd",name:"United States Dollar"},{code:"xlm",name:"Stellar Lumen"},{code:"xrp",name:"Ripple"},{code:"sek",name:"Swedish Krona"},{code:"aed",name:"United Arab Emirates Dirham"},{code:"ars",name:"Argentine Peso"},{code:"bch",name:"Bitcoin Cash"},{code:"bnb",name:"Binance Coin"},{code:"brl",name:"Brazilian Real"},{code:"clp",name:"Chilean Peso"},{code:"cny",name:"Chinese Yuan"},{code:"czk",name:"Czech Koruna"},{code:"dkk",name:"Danish Krone"},{code:"chf",name:"Swiss Franc"},{code:"dot",name:"Polkadot"},{code:"eos",name:"EOS"},{code:"eth",name:"Ethereum"},{code:"gel",name:"Georgian Lari"},{code:"huf",name:"Hungarian Forint"},{code:"ils",name:"Israeli Shekel"},{code:"krw",name:"South Korean Won"},{code:"mxn",name:"Mexican Peso"},{code:"myr",name:"Malaysian Ringgit"},{code:"ngn",name:"Nigerian Naira"},{code:"nok",name:"Norwegian Krone"},{code:"pln",name:"Polish Zloty"},{code:"thb",name:"Thai Baht"},{code:"try",name:"Turkish Lira"},{code:"zar",name:"South African Rand"}]}}},{package:"$root$",file:"ui/helpers/constants/available-conversions.json"}],[6644,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.STATUS_NOT_CONNECTED=n.STATUS_CONNECTED_TO_SNAP=n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT=n.STATUS_CONNECTED=void 0;n.STATUS_CONNECTED="STATUS_CONNECTED",n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT="STATUS_CONNECTED_TO_ANOTHER_ACCOUNT",n.STATUS_NOT_CONNECTED="STATUS_NOT_CONNECTED",n.STATUS_CONNECTED_TO_SNAP="STATUS_CONNECTED_TO_SNAP"}}},{package:"$root$",file:"ui/helpers/constants/connected-sites.js"}],[6647,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIORITY_LEVEL_ICON_MAP=n.GAS_FORM_ERRORS=void 0,n.getGasFormErrorText=function(e,t,{minimumGasLimit:n}={}){switch(e){case s.GAS_LIMIT_OUT_OF_BOUNDS:return t("editGasLimitOutOfBounds",[n]);case s.MAX_PRIORITY_FEE_TOO_LOW:return t("editGasMaxPriorityFeeLow");case s.MAX_FEE_TOO_LOW:return t("editGasMaxFeeLow");case s.MAX_PRIORITY_FEE_BELOW_MINIMUM:return t("editGasMaxPriorityFeeBelowMinimum");case s.MAX_PRIORITY_FEE_HIGH_WARNING:return t("editGasMaxPriorityFeeHigh");case s.MAX_FEE_HIGH_WARNING:return t("editGasMaxFeeHigh");case s.MAX_FEE_IMBALANCE:return t("editGasMaxFeePriorityImbalance");case s.GAS_PRICE_TOO_LOW:return t("editGasPriceTooLow");default:return""}};const s=n.GAS_FORM_ERRORS={GAS_LIMIT_OUT_OF_BOUNDS:"editGasLimitOutOfBounds",MAX_PRIORITY_FEE_TOO_LOW:"editGasMaxPriorityFeeLow",MAX_FEE_TOO_LOW:"editGasMaxFeeLow",MAX_PRIORITY_FEE_BELOW_MINIMUM:"editGasMaxPriorityFeeBelowMinimum",MAX_PRIORITY_FEE_HIGH_WARNING:"editGasMaxPriorityFeeHigh",MAX_FEE_HIGH_WARNING:"editGasMaxFeeHigh",MAX_FEE_IMBALANCE:"editGasMaxFeeImbalance",GAS_PRICE_TOO_LOW:"editGasPriceTooLow"};n.PRIORITY_LEVEL_ICON_MAP={low:"🐢",medium:"🦊",high:"🦍",dappSuggested:"🌐",dappSuggestedHigh:"🌐",swapSuggested:"🔄",tenPercentIncreased:"⬆",custom:"⚙️"}}}},{package:"$root$",file:"ui/helpers/constants/gas.js"}],[6649,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIVACY_POLICY_DATE=void 0;n.PRIVACY_POLICY_DATE="2024-06-18T12:00:00Z"}}},{package:"$root$",file:"ui/helpers/constants/privacy-policy.ts"}],[6651,{"../../../shared/constants/app":5415,"../../../shared/modules/browser-runtime.utils":5526,"../../components/component-library":6097,"./routes":6650},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("../../../shared/constants/app"),r=e("../../../shared/modules/browser-runtime.utils"),a=e("../../components/component-library"),o=e("./routes");const i=[{tabMessage:e=>e("general"),sectionMessage:e=>e("currencyConversion"),descriptionMessage:e=>e("currencyConversion"),route:`${o.GENERAL_ROUTE}#currency-conversion`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("showNativeTokenAsMainBalance"),descriptionMessage:e=>e("showNativeTokenAsMainBalance"),route:`${o.GENERAL_ROUTE}#show-native-token-as-main-balance`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("currentLanguage"),descriptionMessage:e=>e("currentLanguage"),route:`${o.GENERAL_ROUTE}#current-language`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("theme"),descriptionMessage:e=>e("themeDescription"),route:`${o.GENERAL_ROUTE}#theme`,icon:"fa fa-flask"},{tabMessage:e=>e("general"),sectionMessage:e=>e("accountIdenticon"),descriptionMessage:e=>e("accountIdenticon"),route:`${o.GENERAL_ROUTE}#account-identicon`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("hideZeroBalanceTokens"),descriptionMessage:e=>e("hideZeroBalanceTokens"),route:`${o.GENERAL_ROUTE}#zero-balancetokens`,iconName:a.IconName.Setting},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("stateLogs"),descriptionMessage:e=>e("stateLogsDescription"),route:`${o.ADVANCED_ROUTE}#state-logs`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("clearActivity"),descriptionMessage:e=>e("clearActivityDescription"),route:`${o.ADVANCED_ROUTE}#clear-activity`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("smartTransactions"),descriptionMessage:e=>e("stxOptInSupportedNetworksDescription"),route:`${o.ADVANCED_ROUTE}#smart-transactions`,icon:"fas fa-upload"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showHexData"),descriptionMessage:e=>e("showHexDataDescription"),route:`${o.ADVANCED_ROUTE}#show-hexdata`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showFiatConversionInTestnets"),descriptionMessage:e=>e("showFiatConversionInTestnetsDescription"),route:`${o.ADVANCED_ROUTE}#conversion-testnetworks`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showTestnetNetworks"),descriptionMessage:e=>e("showTestnetNetworksDescription"),route:`${o.ADVANCED_ROUTE}#show-testnets`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("autoLockTimeLimit"),descriptionMessage:e=>e("autoLockTimeLimitDescription"),route:`${o.ADVANCED_ROUTE}#autolock-timer`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showExtensionInFullSizeView"),descriptionMessage:e=>e("showExtensionInFullSizeViewDescription"),route:`${o.ADVANCED_ROUTE}#extension-full-size-view`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("dismissReminderField"),descriptionMessage:e=>e("dismissReminderDescriptionField"),route:`${o.ADVANCED_ROUTE}#dismiss-secretrecovery`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("exportYourData"),descriptionMessage:e=>e("exportYourDataDescription"),route:`${o.ADVANCED_ROUTE}#export-data`,icon:"fas fa-download"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("overrideContentSecurityPolicyHeader"),descriptionMessage:e=>e("overrideContentSecurityPolicyHeaderDescription"),route:`${o.ADVANCED_ROUTE}#override-content-security-policy-header`,icon:"fas fa-sliders-h",hidden:(0,r.getBrowserName)()!==s.PLATFORM_FIREFOX},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncEnable"),descriptionMessage:e=>e("backupAndSyncEnable"),route:`${o.BACKUPANDSYNC_ROUTE}#backup-and-sync-toggle`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncFeatureAccounts"),descriptionMessage:e=>e("backupAndSyncFeatureAccounts"),route:`${o.BACKUPANDSYNC_ROUTE}#backup-and-sync-features-toggles-account-syncing`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncFeatureContacts"),descriptionMessage:e=>e("backupAndSyncFeatureContacts"),route:`${o.BACKUPANDSYNC_ROUTE}#backup-and-sync-features-toggles-contact-syncing`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("contacts"),sectionMessage:e=>e("contacts"),descriptionMessage:e=>e("contacts"),route:o.CONTACT_LIST_ROUTE,iconName:a.IconName.Book},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("basicConfigurationLabel"),descriptionMessage:e=>e("basicConfigurationDescription"),route:`${o.SECURITY_ROUTE}#basic-functionality-toggle`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("revealSeedWords"),descriptionMessage:e=>e("revealSeedWords"),route:`${o.SECURITY_ROUTE}#reveal-secretrecovery`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityChangePassword"),descriptionMessage:e=>e("securityChangePassword"),route:o.SECURITY_PASSWORD_CHANGE_ROUTE,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("usePhishingDetection"),descriptionMessage:e=>e("usePhishingDetectionDescription"),route:`${o.SECURITY_ROUTE}#phishing-detection`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("skipDeepLinkInterstitial"),descriptionMessage:e=>e("skipDeepLinkInterstitialDescription"),route:`${o.SECURITY_ROUTE}#skip-deep-link-interstitial`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("use4ByteResolution"),descriptionMessage:e=>e("toggleDecodeDescription"),route:`${o.SECURITY_ROUTE}#decode-smart-contracts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("participateInMetaMetrics"),descriptionMessage:e=>e("participateInMetaMetricsDescription"),route:`${o.SECURITY_ROUTE}#metametrics`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("networkProvider"),descriptionMessage:e=>`${e("chooseYourNetwork")} ${e("chooseYourNetworkDescription")}`,route:`${o.SECURITY_ROUTE}#network-provider`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ipfsGateway"),descriptionMessage:e=>e("ipfsGatewayDescription"),route:`${o.SECURITY_ROUTE}#add-custom-ipfs-gateway`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("autoDetectTokens"),descriptionMessage:e=>e("autoDetectTokensDescription"),route:`${o.SECURITY_ROUTE}#auto-detect-tokens`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useMultiAccountBalanceChecker"),descriptionMessage:e=>e("useMultiAccountBalanceCheckerSettingDescription"),route:`${o.SECURITY_ROUTE}#batch-account-balance-requests`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("currencyRateCheckToggle"),descriptionMessage:e=>e("currencyRateCheckToggleDescription"),route:`${o.SECURITY_ROUTE}#price-checker`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ensDomainsSettingTitle"),descriptionMessage:e=>e("ensDomainsSettingDescriptionIntroduction"),route:`${o.SECURITY_ROUTE}#ens-domains`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("displayNftMedia"),descriptionMessage:e=>e("displayNftMediaDescription"),route:`${o.SECURITY_ROUTE}#display-nft-media`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useNftDetection"),descriptionMessage:e=>e("useNftDetectionDescriptionText"),route:`${o.SECURITY_ROUTE}#autodetect-nfts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useSafeChainsListValidation"),descriptionMessage:e=>e("useSafeChainsListValidationDescription"),route:`${o.SECURITY_ROUTE}#network-details-check`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("externalNameSourcesSetting"),descriptionMessage:e=>e("externalNameSourcesSettingDescription"),route:`${o.SECURITY_ROUTE}#proposed-nicknames`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityAlerts"),descriptionMessage:e=>e("securityAlertsDescription"),route:`${o.SECURITY_ROUTE}#security-alerts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("blockaid"),descriptionMessage:e=>e("blockaidMessage"),route:`${o.SECURITY_ROUTE}#security-alerts-blockaid`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("simulationsSettingSubHeader"),descriptionMessage:e=>e("simulationsSettingDescription"),route:`${o.SECURITY_ROUTE}#transaction-simulations`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("dataCollectionForMarketing"),descriptionMessage:e=>e("dataCollectionForMarketingDescription"),route:`${o.SECURITY_ROUTE}#dataCollectionForMarketing`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("deleteMetaMetricsData"),descriptionMessage:e=>e("deleteMetaMetricsDataDescription"),route:`${o.SECURITY_ROUTE}#delete-metametrics-data`,icon:"fa fa-lock"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("mainnet"),descriptionMessage:e=>e("mainnet"),route:`${o.NETWORKS_ROUTE}#networks-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaMainnet"),descriptionMessage:e=>e("lineaMainnet"),route:`${o.NETWORKS_ROUTE}#networks-linea-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("goerli"),descriptionMessage:e=>e("goerli"),route:`${o.NETWORKS_ROUTE}#networks-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("sepolia"),descriptionMessage:e=>e("sepolia"),route:`${o.NETWORKS_ROUTE}#networks-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaGoerli"),descriptionMessage:e=>e("lineaGoerli"),route:`${o.NETWORKS_ROUTE}#networks-linea-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaSepolia"),descriptionMessage:e=>e("lineaSepolia"),route:`${o.NETWORKS_ROUTE}#networks-linea-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("localhost"),descriptionMessage:e=>e("localhost"),route:`${o.NETWORKS_ROUTE}#networks-localhost`,icon:"fa fa-plug"},{tabMessage:e=>e("about"),sectionMessage:e=>e("metamaskVersion"),descriptionMessage:e=>e("builtAroundTheWorld"),route:`${o.ABOUT_US_ROUTE}#version`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("links"),descriptionMessage:e=>e("links"),route:`${o.ABOUT_US_ROUTE}#links`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("privacyMsg"),descriptionMessage:e=>e("privacyMsg"),route:`${o.ABOUT_US_ROUTE}#privacy-policy`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("terms"),descriptionMessage:e=>e("terms"),route:`${o.ABOUT_US_ROUTE}#terms`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("attributions"),descriptionMessage:e=>e("attributions"),route:`${o.ABOUT_US_ROUTE}#attributions`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("supportCenter"),descriptionMessage:e=>e("supportCenter"),route:`${o.ABOUT_US_ROUTE}#supportcenter`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("visitWebSite"),descriptionMessage:e=>e("visitWebSite"),route:`${o.ABOUT_US_ROUTE}#visitwebsite`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("contactUs"),descriptionMessage:e=>e("contactUs"),route:`${o.ABOUT_US_ROUTE}#contactus`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("betaTerms"),descriptionMessage:e=>e("betaTerms"),route:`${o.ABOUT_US_ROUTE}#beta-terms`,iconName:a.IconName.Info},{featureFlag:"METAMASK_SHIELD_ENABLED",tabMessage:e=>e("shieldTx"),sectionMessage:e=>e("shieldTx"),descriptionMessage:e=>e("shieldTx"),route:`${o.TRANSACTION_SHIELD_ROUTE}`,iconName:a.IconName.ShieldLock},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("notificationsFeatureToggle"),descriptionMessage:e=>e("notificationsFeatureToggleDescription"),route:`${o.EXPERIMENTAL_ROUTE}#notifications`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("snaps"),descriptionMessage:e=>e("addSnapAccountToggle"),route:`${o.EXPERIMENTAL_ROUTE}#snaps`,icon:"fas fa-flask"},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Reset States",descriptionMessage:()=>"Reset States",route:`${o.DEVELOPER_OPTIONS_ROUTE}#reset-states`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Announcements",descriptionMessage:()=>"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.",route:`${o.DEVELOPER_OPTIONS_ROUTE}#reset-states-announcements`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Service Worker Keep Alive",descriptionMessage:()=>'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.',route:`${o.DEVELOPER_OPTIONS_ROUTE}#reset-states-onboarding`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Service Worker Keep Alive",descriptionMessage:()=>"Results in a timestamp being continuously saved to session.storage",route:`${o.DEVELOPER_OPTIONS_ROUTE}#service-worker-keep-alive`,iconName:a.IconName.CodeCircle}];n.default=i}}},{package:"$root$",file:"ui/helpers/constants/settings.js"}],[6652,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDelineatorTitle=n.DelineatorType=void 0;let s=n.DelineatorType=function(e){return e.Content="content",e.Error="error",e.Insights="insights",e.Description="description",e.Warning="warning",e}({});n.getDelineatorTitle=e=>{switch(e){case s.Error:return"errorWithSnap";case s.Insights:return"insightsFromSnap";case s.Description:return"descriptionFromSnap";case s.Warning:return"warningFromSnap";default:return"contentFromSnap"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/delineator.ts"}],[6653,{"./delineator":6652,"./insights":6654},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./delineator");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))});var r=e("./insights");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))})}}},{package:"$root$",file:"ui/helpers/constants/snaps/index.js"}],[6654,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InsightWarningLanguage=void 0;n.InsightWarningLanguage={confirming:{noun:"transaction",imperative:"confirm"},signing:{noun:"signature",imperative:"sign"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/insights.ts"}],[6655,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SURVEY_START_TIME=n.SURVEY_START_HOUR=n.SURVEY_GMT=n.SURVEY_END_TIME=n.SURVEY_END_HOUR=n.SURVEY_DATE=void 0;n.SURVEY_DATE="February 28 2024";const s=n.SURVEY_GMT="GMT-0600",r=n.SURVEY_START_HOUR="12:00:00",a=n.SURVEY_END_HOUR="13:00:00";n.SURVEY_START_TIME=`${r} ${s}`,n.SURVEY_END_TIME=`${a} ${s}`}}},{package:"$root$",file:"ui/helpers/constants/survey.ts"}],[6658,{"../../constants/routes":6650,"prop-types":4777,react:4961,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var s=i(e("react")),r=i(e("prop-types")),a=e("react-router-dom"),o=e("../../constants/routes");function i(e){return e&&e.__esModule?e:{default:e}}const c={pathname:o.ONBOARDING_ROUTE};function u(e){const{isUnlocked:t,completedOnboarding:n}=e,r=(0,a.useLocation)();switch(!0){case t&&n:return s.default.createElement(a.Route,e);case!n:return s.default.createElement(a.Redirect,{to:c});default:return s.default.createElement(a.Redirect,{to:{pathname:o.UNLOCK_ROUTE,state:{from:r}}})}}u.propTypes={isUnlocked:r.default.bool,completedOnboarding:r.default.bool,path:r.default.string,component:r.default.object,exact:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.component.js"}],[6659,{"./authenticated.component":6658,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=(s=e("./authenticated.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{const{metamask:{isUnlocked:t,completedOnboarding:n}}=e;return{isUnlocked:t,completedOnboarding:n}})(a.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.container.js"}],[6660,{"./authenticated.container":6659},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./authenticated.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/index.js"}],[6661,{"prop-types":4777,react:4961,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=(s=e("prop-types"))&&s.__esModule?s:{default:s},o=e("react-router-dom");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function c({flag:e,redirectRoute:t,...n}){const s=(0,r.useMemo)(()=>({pathname:t}),[t]);return e?r.default.createElement(o.Route,n):r.default.createElement(o.Redirect,{to:s})}c.propTypes={flag:a.default.bool.isRequired,redirectRoute:a.default.string.isRequired}}}},{package:"$root$",file:"ui/helpers/higher-order-components/feature-toggled-route.js"}],[6662,{"./initialized.container":6664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./initialized.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/index.js"}],[6663,{"../../constants/routes":6650,"prop-types":4777,react:4961,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var s=o(e("react")),r=o(e("prop-types")),a=e("react-router-dom");function o(e){return e&&e.__esModule?e:{default:e}}const i={pathname:e("../../constants/routes").ONBOARDING_ROUTE};function c(e){return e.completedOnboarding?s.default.createElement(a.Route,e):s.default.createElement(a.Redirect,{to:i})}c.propTypes={completedOnboarding:r.default.bool,path:r.default.string,component:r.default.object,exact:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.component.js"}],[6664,{"./initialized.component":6663,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=(s=e("./initialized.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{const{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}})(a.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.container.js"}],[6665,{"./with-modal-props":6666},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./with-modal-props"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/index.js"}],[6666,{"../../../store/actions":7565,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,s.connect)(a,o)(e)};var s=e("react-redux"),r=e("../../../store/actions");const a=e=>{const{appState:t}=e,{props:n}=t.modal.modalState;return{...n}},o=e=>({hideModal:()=>e((0,r.hideModal)())})}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/with-modal-props.js"}],[6667,{react:4961,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("react-router-dom-v5-compat");function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(null,arguments)}n.default=function(e){function t(t){const n=(0,a.useNavigate)(),s=(0,a.useLocation)(),i=(0,a.useParams)();return r.default.createElement(e,o({},t,{navigate:n,location:s,params:i}))}return t.displayName=`withRouterHooks(${e.displayName||e.name||"Component"})`,t}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-router-hooks/with-router-hooks.tsx"}],[6668,{"../../../../shared/modules/fetch-with-timeout":5533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var s;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r=(0,((s=e("../../../../shared/modules/fetch-with-timeout"))&&s.__esModule?s:{default:s}).default)(),a={async getNetworks(){const e=new URL("/regions/networks","https://on-ramp-content.api.cx.metamask.io"),t=await r(e.toString()),{networks:n}=await t.json();return n}};n.default=a}}},{package:"$root$",file:"ui/helpers/ramps/rampApi/rampAPI.ts"}],[6669,{"../../../shared/constants/hardware-wallets":5424,"../../../shared/constants/keyring":5426,"../../../shared/constants/network":5433,"../../../shared/lib/snaps/snaps":5512,"../../../shared/lib/translate":5522,"../../components/component-library":6097,"../constants/design-system":6645,"@metamask/snaps-sdk/jsx":2647},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountLabels=function(e,t,n,r){if(!t)return[];const a=[],o=n.filter(e=>e.type===i.KeyringType.hdKeyTree);switch(e){case i.KeyringType.hdKeyTree:if(o.length>1){const e=o.findIndex(e=>e.accounts.includes(t.address));a.push({label:d(e),icon:null})}break;case i.KeyringType.imported:a.push({label:(0,u.t)("imported"),icon:null});break;case i.KeyringType.qr:a.push({label:c.HardwareKeyringNames.qr,icon:null});break;case i.KeyringType.trezor:a.push({label:c.HardwareKeyringNames.trezor,icon:null});break;case i.KeyringType.ledger:a.push({label:c.HardwareKeyringNames.ledger,icon:null});break;case i.KeyringType.oneKey:a.push({label:c.HardwareKeyringNames.oneKey,icon:null});break;case i.KeyringType.lattice:a.push({label:c.HardwareKeyringNames.lattice,icon:null});break;case i.KeyringType.snap:{const{entropySource:e}=t.options;if(e&&o.length>1){const t=o.findIndex(t=>t.metadata.id===e);a.push({label:d(t),icon:null})}if((0,l.isSnapPreinstalled)(t.metadata.snap.id))break;if(r){a.push({label:`${r} (${(0,u.t)("beta")})`,icon:s.IconName.Snaps});break}a.push({label:`${(0,u.t)("snaps")} (${(0,u.t)("beta")})`,icon:s.IconName.Snaps});break}}return a},n.getAccountNameErrorMessage=function(e,t,n,s){const a=e.some(e=>{var t;return(null===(t=e.metadata)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.toLowerCase())===(null==n?void 0:n.toLowerCase())}),o=!n||""===n,i=t.t("newAccountNumberName").replace(" $1",""),c=new RegExp(`^\\s*${i} \\d+\\s*$`,"iu").test(n||""),u=(null==n?void 0:n.toLowerCase())===(null==s?void 0:s.toLowerCase())||!a&&!c&&!o;let l;u?l=r.InvisibleCharacter:a?l=t.t("accountNameDuplicate"):c?l=t.t("accountNameReserved"):o&&(l=t.t("required"));return{isValidAccountName:u,errorMessage:l}},n.getAvatarNetworkColor=function(e){switch(e){case a.GOERLI_DISPLAY_NAME:return o.BackgroundColor.goerli;case a.LINEA_GOERLI_DISPLAY_NAME:return o.BackgroundColor.lineaGoerli;case a.LINEA_SEPOLIA_DISPLAY_NAME:return o.BackgroundColor.lineaSepolia;case a.SEPOLIA_DISPLAY_NAME:return o.BackgroundColor.sepolia;default:return undefined}};var s=e("@metamask/snaps-sdk/jsx"),r=e("../../components/component-library"),a=e("../../../shared/constants/network"),o=e("../constants/design-system"),i=e("../../../shared/constants/keyring"),c=e("../../../shared/constants/hardware-wallets"),u=e("../../../shared/lib/translate"),l=e("../../../shared/lib/snaps/snaps");const d=e=>`SRP #${e+1}`}}},{package:"$root$",file:"ui/helpers/utils/accounts.js"}],[6671,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.camelCaseToCapitalize=function(e=""){return e.replace(/([A-Z])/gu," $1").replace(/^./u,e=>e.toUpperCase())},n.getCurrencySymbol=function(e){const t={EUR:"€",HKD:"$",JPY:"¥",PHP:"₱",RUB:"₽",SGD:"$",USD:"$"};if(t[e.toUpperCase()])return t[e.toUpperCase()];return e.toUpperCase()}}}},{package:"$root$",file:"ui/helpers/utils/common.util.js"}],[6673,{"../../../shared/constants/background-liveness-check":5416,"../../../shared/constants/start-up-errors":5445,"../../../shared/constants/state-corruption":5446,"./display-critical-error":6674,"./state-corruption-html":6696,"@metamask/utils":2799,loglevel:4542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalStartupErrorHandler=void 0;var s,r=e("@metamask/utils"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../../shared/constants/state-corruption"),i=e("../../../shared/constants/background-liveness-check"),c=e("../../../shared/constants/start-up-errors"),u=e("./state-corruption-html"),l=e("./display-critical-error");function d(e,t,n){m(e,t),t.set(e,n)}function m(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t){return e.get(f(e,t))}function p(e,t,n){return e.set(f(e,t),n),n}function f(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var g=new WeakMap,k=new WeakMap,T=new WeakMap,v=new WeakMap,y=new WeakSet,S=new WeakMap;async function b(){const{promise:e,resolve:t}=(0,r.createDeferredPromise)();p(v,this,t);const n=new Promise((e,t)=>{p(T,this,setTimeout(()=>t(new Error("Background connection unresponsive")),1e4))});try{await Promise.race([e,n])}catch(e){await(0,l.displayCriticalError)(h(k,this),l.CriticalErrorTranslationKey.TroubleStarting,e)}finally{clearTimeout(h(T,this))}}n.CriticalStartupErrorHandler=class{constructor(e,t){!function(e,t){m(e,t),t.add(e)}(this,y),d(this,g,void 0),d(this,k,void 0),d(this,T,void 0),d(this,v,void 0),d(this,S,async e=>{if(!(0,r.isObject)(e)||!(0,r.hasProperty)(e,"data"))return;const{data:t}=e;if(!(0,r.isObject)(t)||!(0,r.hasProperty)(t,"method"))return;const{method:n}=t;if(n===i.BACKGROUND_LIVENESS_METHOD)h(v,this)?h(v,this).call(this):await(0,l.displayCriticalError)(h(k,this),l.CriticalErrorTranslationKey.TroubleStarting,new Error("Unreachable error, liveness check not initialized"));else if(n===c.RELOAD_WINDOW)window.location.reload();else if(n===o.METHOD_DISPLAY_STATE_CORRUPTION_ERROR){if(!(0,r.hasProperty)(t,"params")||!(0,r.isObject)(t.params))return void a.default.error("Received state corruption error message without valid params:",e);const{error:n,hasBackup:s,currentLocale:o}=t.params;(0,u.displayStateCorruptionError)(h(k,this),h(g,this),n,s,o)}else if(n===c.DISPLAY_GENERAL_STARTUP_ERROR){if(!(0,r.hasProperty)(t,"params")||!(0,r.isObject)(t.params))return void a.default.error("Received general start up error message without valid params:",e);const{error:n,currentLocale:s}=t.params;await(0,l.displayCriticalError)(h(k,this),l.CriticalErrorTranslationKey.TroubleStarting,n,s)}}),p(g,this,e),p(k,this,t)}install(){h(g,this).onMessage.addListener(h(S,this)),f(y,this,b).call(this)}uninstall(){h(g,this).onMessage.removeListener(h(S,this)),clearTimeout(h(T,this)),h(v,this)&&(h(v,this).call(this),p(v,this,undefined))}}}}},{package:"$root$",file:"ui/helpers/utils/critical-startup-error-handler.ts"}],[6674,{"../../../shared/lib/error-utils":5497,"../../../shared/lib/ui-utils":5523,loglevel:4542,uuid:5366,"webextension-polyfill":5398},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalErrorTranslationKey=void 0,n.displayCriticalError=async function(e,t,n,c){const l=await(0,o.maybeGetLocaleContext)(c);e.innerHTML=(0,o.getErrorHtml)(t,n,l,i.SUPPORT_LINK);const d=e.querySelector("#critical-error-button"),m=e.querySelector("#critical-error-checkbox");throw null==d||d.addEventListener("click",async()=>{const e=(null==m?void 0:m.checked)??!1;await async function(e,t){t&&await async function(e){const t=function(){0;return"https://3567c198f8a8412082d32655da2961d0@sentry.io/273505"}();if(!t)return;try{var n,r;const o=(0,a.v4)().replace(/-/gu,""),i={event_id:o,timestamp:Math.floor(Date.now()/1e3),platform:"javascript",level:"error",message:(null==e?void 0:e.message)||"MetaMask extension crash critical error",release:(null===(n=s.default.runtime.getManifest())||void 0===n?void 0:n.version)||"unknown",extra:{error_details:e&&"object"==typeof e?e:{message:String(e)},user_agent:(null===(r=globalThis.navigator)||void 0===r?void 0:r.userAgent)||"unknown"}},c={event_id:o,dsn:t,sent_at:(new Date).toISOString()},l=JSON.stringify(i),d={type:"event",length:l.length},m=`${JSON.stringify(c)}\n${JSON.stringify(d)}\n${l}`,h=u(t);await fetch(h,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:m})}catch(e){console.error("Error sending report to Sentry:",e)}}(e);s.default.runtime.reload()}(n,e)}),r.default.error(n.stack),n},n.extractEnvelopeUrlFromDsn=u;var s=c(e("webextension-polyfill")),r=c(e("loglevel")),a=e("uuid"),o=e("../../../shared/lib/error-utils"),i=e("../../../shared/lib/ui-utils");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){try{const t=new URL(e),n=t.pathname.slice(1),s=t.hostname.split("."),r=s[0];return`https://${r}.${s.slice(1).join(".")}/api/${n}/envelope/`}catch(e){throw new Error("Invalid Sentry DSN format")}}n.CriticalErrorTranslationKey=function(e){return e.TroubleStarting="troubleStarting",e.SomethingIsWrong="somethingIsWrong",e}({})}}},{package:"$root$",file:"ui/helpers/utils/display-critical-error.ts"}],[6675,{buffer:3760},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.ExportableContentType=void 0,n.exportAsFile=async function(t,n,r){if(!s[r])throw new Error(`Unsupported file type: ${r}`);"undefined"!=typeof window&&void 0!==window.showSaveFilePicker&&void 0!==window.Blob?await async function(e,t,n){const r=new window.Blob([t],{contentType:n}),a=s[n],o=await window.showSaveFilePicker({suggestedName:e,types:[{description:e,accept:{[n]:[a]}}]}),i=await o.createWritable();await i.write(r),await i.close()}(t,n,r):function(t,n,s){const r=e.from(n,"utf8").toString("base64"),a=document.createElement("a");a.href=`data:${s};Base64,${r}`,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}(t,n,r)};const t=n.ExportableContentType={JSON:"application/json",TXT:"text/plain"},s={[t.JSON]:".json",[t.TXT]:".txt"}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/helpers/utils/export-utils.js"}],[6677,{"../../../shared/constants/gas":5423,"../../../shared/modules/Numeric":5524,"../../../shared/modules/conversion.utils":5529,"./util":6703,"bignumber.js":3648,lodash:4534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addTenPercentAndRound=d,n.editGasModeIsSpeedUpOrCancel=function(e){return e===o.EditGasModes.cancel||e===o.EditGasModes.speedUp},n.formatGasFeeOrFeeRange=function(e,{precision:t=2}={}){if((0,u.isNullish)(e)||Array.isArray(e)&&0===e.length)return null;const n=Array.isArray(e)?e.slice(0,2):[e],s=Array.isArray(t)?t.slice(0,2):(0,r.times)(n.length,(0,r.constant)(t));return`${(0,r.uniq)((0,r.zip)(n,s).map(([e,t])=>t===undefined?e:(0,u.roundToDecimalPlacesRemovingExtraZeroes)(e,t))).join(" - ")} GWEI`},n.gasEstimateGreaterThanGasUsedPlusTenPercent=void 0,n.isMetamaskSuggestedGasEstimate=function(e){return[o.GasRecommendations.high,o.GasRecommendations.medium,o.GasRecommendations.low].includes(e)};var s,r=e("lodash"),a=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},o=e("../../../shared/constants/gas"),i=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("./util");const l=new c.Numeric(1.1,10);function d(e){return e===undefined?undefined:new c.Numeric(e,16).times(l).round(0).toPrefixedHexString()}n.gasEstimateGreaterThanGasUsedPlusTenPercent=(e,t,n)=>{var s;let{maxFeePerGas:r}=e;r=new a.default((0,i.hexWEIToDecGWEI)(d(r)));const o=null==t||null===(s=t[n])||void 0===s?void 0:s.suggestedMaxFeePerGas;return(0,u.bnGreaterThan)(o,r)}}}},{package:"$root$",file:"ui/helpers/utils/gas.js"}],[6678,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHardwareKeyring=function(e=""){return e.includes("Hardware")}}}},{package:"$root$",file:"ui/helpers/utils/hardware.js"}],[6680,{"../../../shared/modules/hexstring-utils":5535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IconFactory=void 0,n.default=function(e){o||(o=new a(e));return o};var s=e("../../../shared/modules/hexstring-utils");function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t=i){r(this,"jazzicon",void 0),r(this,"generateSeed",void 0),r(this,"cache",void 0),this.jazzicon=e,this.generateSeed=t,this.cache={}}iconForAddress(e,t,n){return function(e,t){if(null==t||!t.iconUrl)return!1;return(0,s.isValidHexAddress)(e,{allowNonPrefixed:!1})}(e,n)?function(e){const t=document.createElement("img");return t.src=e.iconUrl,t.style.width="100%",t}(n):this.generateIdenticonSvg(e,t)}generateIdenticonSvg(e,t){const n=`${e}:${t}`;return(this.cache[n]||(this.cache[n]=this.generateNewIdenticon(e,t))).cloneNode(!0)}generateNewIdenticon(e,t){const n=this.generateSeed(e);return this.jazzicon(t,n)}}let o;function i(e){const t=e.slice(2,10);return parseInt(t,16)}n.IconFactory=a}}},{package:"$root$",file:"ui/helpers/utils/icon-factory.ts"}],[6681,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=()=>window.matchMedia("screen and (max-width: 575px)").matches}}},{package:"$root$",file:"ui/helpers/utils/is-mobile-view.js"}],[6682,{"../../../shared/constants/network":5433,"../../../shared/constants/time":5449,"../../../shared/lib/fetch-with-cache":5498},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOriginalNativeTokenSymbol=n.getOriginalNativeTokenSymbol=void 0;var s,r=e("../../../shared/constants/network"),a=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},o=e("../../../shared/constants/time");const i=async({chainId:e,useAPICall:t=!1})=>{try{var n;const s=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(s)return s;const i=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(null!=i&&i[0].currencySymbol)return i[0].currencySymbol;if(!t)return null;const c=(await(0,a.default)({url:r.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:o.DAY},functionName:"getSafeChainsList"})).find(t=>t.chainId===parseInt(e,16));return(null==c||null===(n=c.nativeCurrency)||void 0===n?void 0:n.symbol)??null}catch(e){return null}};n.getOriginalNativeTokenSymbol=i;n.isOriginalNativeTokenSymbol=async({ticker:e,chainId:t,useAPICall:n=!1})=>{const s=await i({chainId:t,useAPICall:n});return null===s||s===e}}}},{package:"$root$",file:"ui/helpers/utils/isOriginalNativeTokenSymbol.ts"}],[6684,{"../../../shared/lib/manifestFlags":5502,"../../../shared/lib/trace":5517,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mmLazy=function(e){return a.default.lazy(async()=>{const t=Date.now(),n=await e(),{componentName:s,component:r}=function(e){let t;if(!e.default){const n=Object.keys(e);if(1===n.length)return t=n[0],{componentName:t,component:{default:e[t]}};throw new Error("mmLazy: You cannot lazy-load a component when there are multiple exported components in one file")}t=e.default.WrappedComponent?e.default.WrappedComponent.name:e.default.name||e.default.displayName;return{componentName:t,component:e}}(n);return c&&Math.random()<c&&((0,i.trace)({name:i.TraceName.LazyLoadComponent,data:{componentName:s},startTime:t}),(0,i.endTrace)({name:i.TraceName.LazyLoadComponent})),r})};var s,r,a=(s=e("react"))&&s.__esModule?s:{default:s},o=e("../../../shared/lib/manifestFlags"),i=e("../../../shared/lib/trace");const c=null===(r=(0,o.getManifestFlags)().sentry)||void 0===r?void 0:r.lazyLoadSubSampleRate}}},{package:"$root$",file:"ui/helpers/utils/mm-lazy.ts"}],[6685,{"../../../../app/scripts/lib/multichain/address":220,"../../../../shared/lib/multichain/networks":5506,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMultichainBlockExplorerUrl=n.getMultichainAccountUrl=void 0;var s=e("@metamask/utils"),r=e("../../../../app/scripts/lib/multichain/address"),a=e("../../../../shared/lib/multichain/networks");n.getMultichainBlockExplorerUrl=e=>{var t;return(null===(t=e.network)||void 0===t||null===(t=t.rpcPrefs)||void 0===t?void 0:t.blockExplorerUrl)??""};n.getMultichainAccountUrl=(e,t)=>{const{namespace:n}=(0,s.parseCaipChainId)(t.chainId);if(n===s.KnownCaipNamespace.Eip155){return`https://etherscan.io/address/${(0,r.normalizeSafeAddress)(e)}#asset-multichain`}const{blockExplorerFormatUrls:o}=t.network;return o?(0,a.formatBlockExplorerAddressUrl)(o,e):""}}}},{package:"$root$",file:"ui/helpers/utils/multichain/blockExplorer.ts"}],[6686,{"../../../../shared/constants/common":5418,"../../../../shared/constants/multichain/networks":5432,"../../../../shared/lib/multichain/networks":5506,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBlockExplorerInfo=void 0;var s=e("@metamask/utils"),r=e("../../../../shared/constants/common"),a=e("../../../../shared/constants/multichain/networks"),o=e("../../../../shared/lib/multichain/networks");n.getBlockExplorerInfo=(e,t,n)=>{const{chainId:i,blockExplorerUrl:c}=n;if(i){if(i===a.MultichainNetworks.BITCOIN||i===a.MultichainNetworks.BITCOIN_TESTNET||i===a.MultichainNetworks.BITCOIN_SIGNET){const n=a.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[i];if(n){const s="Blockstream";return{addressUrl:(0,o.formatBlockExplorerAddressUrl)(n,t),name:s,buttonText:e("viewAddressOnExplorer",[s])}}}if(i===a.MultichainNetworks.SOLANA||i===a.MultichainNetworks.SOLANA_DEVNET||i===a.MultichainNetworks.SOLANA_TESTNET){const n=a.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[i];if(n){const s="Solscan";return{addressUrl:(0,o.formatBlockExplorerAddressUrl)(n,t),name:s,buttonText:e("viewAddressOnExplorer",[s])}}}}if(null!=i&&i.startsWith(s.KnownCaipNamespace.Eip155)){const n=`0x${parseInt(i.split(":")[1],10).toString(16)}`;if(c){const s=r.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[n]||"Block Explorer";return{addressUrl:`${c}/address/${t}`,name:s,buttonText:e("viewAddressOnExplorer",[s])}}const s=r.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[n];if(s){var u;const a=null===(u=r.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[n])||void 0===u?void 0:u.replace(/\/$/u,"");if(a)return{addressUrl:`${a}/address/${t}`,name:s,buttonText:e("viewAddressOnExplorer",[s])}}}return null}}}},{package:"$root$",file:"ui/helpers/utils/multichain/getBlockExplorerInfo.ts"}],[6687,{"../../../shared/constants/network":5433,"../../../shared/modules/network.utils":5539,"@metamask/multichain-network-controller":2095,"@metamask/utils":2799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isTestNetwork=n.getMatchedSymbols=n.getMatchedNames=n.getMatchedChain=void 0;var s=e("@metamask/multichain-network-controller"),r=e("@metamask/utils"),a=e("../../../shared/constants/network"),o=e("../../../shared/modules/network.utils");n.getMatchedChain=(e,t)=>t.find(t=>t.chainId.toString()===e);n.getMatchedSymbols=(e,t)=>t.reduce((t,n)=>{var s;n.chainId.toString()===e&&t.push(null===(s=n.nativeCurrency)||void 0===s?void 0:s.symbol);return t},[]);n.getMatchedNames=(e,t)=>t.reduce((t,n)=>(n.chainId.toString()===e&&t.push(null==n?void 0:n.name),t),[]);n.isTestNetwork=e=>(0,r.isCaipChainId)(e)?e.startsWith("eip155:")?a.TEST_CHAINS.includes((0,o.convertCaipToHexChainId)(e)):s.NON_EVM_TESTNET_IDS.includes(e):a.TEST_CHAINS.includes(e)}}},{package:"$root$",file:"ui/helpers/utils/network-helper.ts"}],[6688,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.nftTruncateAltText=n.getNftImageAlt=n.getNftImage=void 0;const s=(e,t)=>{if(e.length<=t)return e;const n=e.substring(0,t),s=n.lastIndexOf(" ");return s>0?`${n.substring(0,s)}...`:`${n}...`};n.nftTruncateAltText=s;n.getNftImageAlt=({name:e,tokenId:t,description:n})=>{if(!e&&!t&&!n)return"";const r=n??`${e??""} ${t??""}`.trim();return s(r,100)};n.getNftImage=e=>"string"==typeof e?e:Array.isArray(e)?e[0]:undefined}}},{package:"$root$",file:"ui/helpers/utils/nfts.ts"}],[6689,{"../../../shared/constants/network":5433,"../../../shared/lib/transactions-controller-utils":5519,"../../../shared/modules/conversion.utils":5529,"@ethersproject/providers":692,"@metamask/notification-services-controller/notification-services/ui":2227,"bignumber.js":3648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatAmount=n.createTextItems=void 0,n.formatIsoDateString=function(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},n.formatMenuItemDate=function(e){const t=new Date;if(u(t,e))return new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric",hour12:!1}).format(e);if(l(t,e))return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(-1,"day");if(d(t,e))return new Intl.DateTimeFormat("en",{month:"short",day:"numeric"}).format(e);return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}).format(e)},n.getLeadingZeroCount=n.getAmount=void 0,n.getNetworkDetailsByChainId=function(e){const t=e.toString(),n=`0x${(0,c.decimalToHex)(e)}`;if(Object.values(a.NOTIFICATION_CHAINS_ID).includes(t)){const e=t;return{nativeCurrencyName:a.NOTIFICATION_NETWORK_CURRENCY_NAME[e]??"",nativeCurrencySymbol:a.NOTIFICATION_NETWORK_CURRENCY_SYMBOL[e]??"",nativeCurrencyLogo:o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[n],blockExplorerConfig:a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[e]}}return{nativeCurrencyName:o.NETWORK_TO_NAME_MAP[n]??"",nativeCurrencySymbol:o.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]??"",nativeCurrencyLogo:o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[n],blockExplorerConfig:a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[t]}},n.getRandomKey=n.getNetworkNameByChainId=n.getNetworkFees=void 0,n.getRpcUrlByChainId=f,n.getUsdAmount=void 0,n.hasNetworkFeeFields=g,n.isIpfsURL=void 0;var s=e("bignumber.js"),r=e("@ethersproject/providers"),a=e("@metamask/notification-services-controller/notification-services/ui"),o=e("../../../shared/constants/network"),i=e("../../../shared/lib/transactions-controller-utils"),c=e("../../../shared/modules/conversion.utils");const u=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),l=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()-1),u(n,t)},d=(e,t)=>e.getFullYear()===t.getFullYear();const m={decimalPlaces:4},h=e=>{var t;return(null===(t=(new s.BigNumber(e,10).toString(10).split(".")[1]??"").match(/^0*/u))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.length)||0};n.getLeadingZeroCount=h;const p=(e,t)=>{const n={...m,...t},s=h(e),r=e.toString().includes(".")||s>0||e.toString().includes("e-");if(e>999)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:2}).format(e);if(r){const t=(a=n.decimalPlaces,Boolean(null==n?void 0:n.shouldEllipse)&&s>=a),r=Intl.NumberFormat("en-US",{minimumFractionDigits:t?n.decimalPlaces:undefined,maximumFractionDigits:n.decimalPlaces}).format(e);return t?`${r}...`:r}var a;return e.toString()};n.formatAmount=p;n.getRandomKey=(e,t)=>`${e.replace(/\s+/gu,"_").replace(/[^\w-]/gu,"")}-${t}-${Math.random().toString(36).substring(2,15)}`;n.createTextItems=(e,t)=>({items:e.map((e,t)=>({text:e,highlighted:t%2==1})),variant:t});n.getAmount=(e,t,n)=>{if(!e||!t)return"";const s=(0,i.calcTokenAmount)(e,parseFloat(t)).toNumber();return p(s,n)};n.getUsdAmount=(e,t,n)=>{if(!e||!t||!n)return"";const s=(0,i.calcTokenAmount)(e,parseFloat(t)).toNumber(),r=parseFloat(`${s}`)*parseFloat(n);return p(r)};function f(e){const t=o.FEATURED_RPCS.find(t=>t.chainId===e);if(t)return t.rpcEndpoints[0].url;switch(e){case o.CHAIN_IDS.MAINNET:return o.MAINNET_RPC_URL;case o.CHAIN_IDS.GOERLI:return o.GOERLI_RPC_URL;case o.CHAIN_IDS.SEPOLIA:return o.SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_GOERLI:return o.LINEA_GOERLI_RPC_URL;case o.CHAIN_IDS.LINEA_SEPOLIA:return o.LINEA_SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_MAINNET:return o.LINEA_MAINNET_RPC_URL;case o.CHAIN_IDS.LOCALHOST:return o.LOCALHOST_RPC_URL;default:return o.MAINNET_RPC_URL}}function g(e){return"network_fee"in e.data}n.getNetworkNameByChainId=e=>o.NETWORK_TO_NAME_MAP[e];n.getNetworkFees=async e=>{if(!g(e))throw new Error("Invalid notification type");const t=(0,c.decimalToHex)(e.chain_id),n={url:f(`0x${t}`),headers:{"Infura-Source":"metamask/metamask"}},s=new r.JsonRpcProvider(n);if(!s)throw new Error(`No provider found for chainId ${t}`);try{const[t,n,r]=await Promise.all([s.getTransactionReceipt(e.tx_hash),s.getTransaction(e.tx_hash),s.getBlock(e.block_number)]),a=(t,n)=>p(parseFloat(t)*parseFloat(e.data.network_fee.native_token_price_in_usd),{decimalPlaces:n||4}),o=(0,c.hexWEIToDecETH)(t.gasUsed.mul(t.effectiveGasPrice)._hex),i=a(o),u=n.gasLimit.toNumber(),l=t.gasUsed.toNumber(),d=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(r.baseFeePerGas._hex):null,m=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(t.effectiveGasPrice.sub(r.baseFeePerGas)._hex):null;return{transactionFeeInEth:o,transactionFeeInUsd:i,gasLimit:u,gasUsed:l,baseFee:d,priorityFee:m,maxFeePerGas:n.maxFeePerGas?(0,c.hexWEIToDecGWEI)(n.maxFeePerGas._hex):null}}catch(e){throw new Error(`Error fetching network fees for chainId ${t}: ${e}`)}};n.isIpfsURL=e=>e.startsWith("ipfs://")}}},{package:"$root$",file:"ui/helpers/utils/notification.util.ts"}],[6690,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isZeroAmount=function(e){if(null===e||e===undefined)return!0;if("number"==typeof e)return 0===e;const t=e.replace(/\D+/gu,"").trim();return/^0*$/u.test(t)}}}},{package:"$root$",file:"ui/helpers/utils/number-utils.ts"}],[6691,{"../../../app/scripts/controllers/permissions":170,"../../../shared/constants/permissions":5437,"../../components/component-library":6097,"../constants/design-system":6645,"./util":6703,"@metamask/chain-agnostic-permission":1281,"@metamask/controller-utils":1301,"@metamask/snaps-rpc-methods":2507,"@metamask/snaps-utils":2677,"deep-freeze-strict":3913,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionDescription=void 0,n.getWeightedPermissions=function({t:e,isRequestApprovalPermittedChains:t,permissions:n,getSubjectName:s,subjectName:r}){return Object.entries(n).reduce((n,[a,o])=>n.concat(v({t:e,isRequestApprovalPermittedChains:t,permissionName:a,permissionValue:o,subjectName:r,getSubjectName:s})),[]).sort((e,t)=>e.weight-t.weight)};var s=p(e("deep-freeze-strict")),r=p(e("react")),a=e("@metamask/snaps-rpc-methods"),o=e("@metamask/snaps-utils"),i=e("@metamask/controller-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("../../../shared/constants/permissions"),l=e("../../components/component-library"),d=e("../constants/design-system"),m=e("../../../app/scripts/controllers/permissions"),h=e("./util");function p(e){return e&&e.__esModule?e:{default:e}}const f=Symbol("unknown"),g=r.default.createElement(l.Icon,{name:l.IconName.Info,size:l.IconSize.Sm,color:d.IconColor.iconMuted});function k(e){return r.default.createElement(l.Text,{fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},e)}const T=(0,s.default)({[c.Caip25EndowmentPermissionName]:({t:e,isRequestApprovalPermittedChains:t})=>t?{label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}:{label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts},[u.RestrictedMethods.eth_accounts]:({t:e})=>({label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts}),[m.PermissionNames.permittedChains]:({t:e})=>({label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}),[u.RestrictedMethods.snap_dialog]:({t:e,subjectName:t})=>({label:e("permission_dialog"),description:e("permission_dialogDescription",[k(t)]),leftIcon:l.IconName.Messages,weight:u.PermissionWeight.snap_dialog}),[u.RestrictedMethods.snap_notify]:({t:e,subjectName:t})=>({label:e("permission_notifications"),description:e("permission_notificationsDescription",[k(t)]),leftIcon:l.IconName.Notification,weight:u.PermissionWeight.snap_notify}),[u.RestrictedMethods.snap_getBip32PublicKey]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map(({path:t,curve:s},a)=>{var i;const c={leftIcon:l.IconName.SecuritySearch,weight:u.PermissionWeight.snap_getBip32PublicKey,id:`public-key-access-bip32-${null===(i=t.join("-"))||void 0===i?void 0:i.replace(/'/gu,"h")}-${s}-${a}`,warningMessageSubject:(0,o.getSnapDerivationPathName)(t,s)??`${e("unknownNetworkForKeyEntropy")}  ${t.join("/")} (${s})`},m=(0,o.getSnapDerivationPathName)(t,s);return m?{...c,label:e("permission_viewNamedBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},m)]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},m),k(n)])}:{...c,label:e("permission_viewBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} `," ",t.join("/")),s]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},t.join("/")),k(n)])}}),[u.RestrictedMethods.snap_getBip32Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map(({path:t,curve:s},a)=>{var i;const c={leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip32Entropy,id:`key-access-bip32-${null===(i=t.join("-"))||void 0===i?void 0:i.replace(/'/gu,"h")}-${s}-${a}`,warningMessageSubject:(0,o.getSnapDerivationPathName)(t,s)??`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${s})`},m=(0,o.getSnapDerivationPathName)(t,s);return m?{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},m)]),description:e("permission_manageBip44AndBip32KeysDescription",[k(n)])}:{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${s})`)]),description:e("permission_manageBip44AndBip32KeysDescription",[k(n)])}}),[u.RestrictedMethods.snap_getBip44Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map(({coinType:t},s)=>({label:e("permission_manageBip44Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`coin-type-${t}`},(0,o.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`)]),description:e("permission_manageBip44AndBip32KeysDescription",[k(n)]),leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip44Entropy,id:`key-access-bip44-${t}-${s}`,warningMessageSubject:(0,o.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`})),[u.RestrictedMethods.snap_getEntropy]:({t:e,subjectName:t})=>({label:e("permission_getEntropy",[k(t)]),description:e("permission_getEntropyDescription",[k(t)]),leftIcon:l.IconName.SecurityKey,weight:u.PermissionWeight.snap_getEntropy}),[u.RestrictedMethods.snap_manageState]:({t:e,subjectName:t})=>({label:e("permission_manageState"),description:e("permission_manageStateDescription",[k(t)]),leftIcon:l.IconName.AddSquare,weight:u.PermissionWeight.snap_manageState}),[u.RestrictedMethods.snap_getLocale]:({t:e,subjectName:t})=>({label:e("permission_getLocale"),description:e("permission_getLocaleDescription",[k(t)]),leftIcon:l.IconName.Global,weight:u.PermissionWeight.snap_getLocale}),[u.RestrictedMethods.snap_getPreferences]:({t:e,subjectName:t})=>({label:e("permission_getPreferences"),description:e("permission_getPreferencesDescription",[k(t)]),leftIcon:l.IconName.Customize,weight:4}),[u.RestrictedMethods.wallet_snap]:({t:e,permissionValue:t,getSubjectName:n})=>{const s=t.caveats[0].value,a={leftIcon:l.IconName.Flash,rightIcon:g,weight:u.PermissionWeight.wallet_snap};return Object.keys(s).map(t=>{const s=n(t);return s?{...a,label:e("permission_accessNamedSnap",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t},s)]),description:e("permission_accessSnapDescription",[s])}:{...a,label:e("permission_accessSnap",[t]),description:e("permission_accessSnapDescription",[t])}})},[u.EndowmentPermissions["endowment:network-access"]]:({t:e,subjectName:t})=>({label:e("permission_accessNetwork"),description:e("permission_accessNetworkDescription",[k(t)]),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.endowment_networkAccess}),[u.EndowmentPermissions["endowment:webassembly"]]:({t:e,subjectName:t})=>({label:e("permission_webAssembly"),description:e("permission_webAssemblyDescription",[k(t)]),leftIcon:l.IconName.DocumentCode,rightIcon:null,weight:u.PermissionWeight.endowment_webassembly}),[u.EndowmentPermissions["endowment:transaction-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Speedometer,weight:u.PermissionWeight.endowment_transactionInsight},r=[{...s,label:e("permission_transactionInsight"),description:e("permission_transactionInsightDescription",[k(n)])}];return(0,i.isNonEmptyArray)(t.caveats)&&t.caveats[0].type===o.SnapCaveatType.TransactionOrigin&&t.caveats[0].value&&r.push({...s,label:e("permission_transactionInsightOrigin"),description:e("permission_transactionInsightOriginDescription",[k(n)]),leftIcon:l.IconName.Explore}),r},[u.EndowmentPermissions["endowment:cronjob"]]:({t:e,subjectName:t})=>({label:e("permission_cronjob"),description:e("permission_cronjobDescription",[k(t)]),leftIcon:l.IconName.Clock,weight:u.PermissionWeight.endowment_cronjob}),[u.EndowmentPermissions["endowment:ethereum-provider"]]:({t:e,subjectName:t})=>({label:e("permission_ethereumProvider"),description:e("permission_ethereumProviderDescription",[k(t)]),leftIcon:l.IconName.Ethereum,weight:u.PermissionWeight.endowment_ethereumProvider,id:"ethereum-provider-access",message:e("ethereumProviderAccess",[k(t)])}),[u.EndowmentPermissions["endowment:rpc"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_rpc},{snaps:o,dapps:i,allowedOrigins:c}=(0,a.getRpcCaveatOrigins)(t),m=[];if(o&&m.push({...s,label:e("permission_rpc",[e("otherSnaps"),k(n)]),description:e("permission_rpcDescription",[e("otherSnaps"),k(n)])}),i&&m.push({...s,label:e("permission_rpc",[e("websites"),k(n)]),description:e("permission_rpcDescription",[e("websites"),k(n)])}),(null==c?void 0:c.length)>0){let t;if(1===c.length)t=r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},c[0]);else{const n=c.slice(-1);t=e("permission_rpcDescriptionOriginList",[c.slice(0,-1).map(e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},e),", ")),r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:"2",style:{lineBreak:"anywhere"}},n)])}m.push({...s,label:e("permission_rpc",[t,k(n)]),description:e("permission_rpcDescription",[t,k(n)])})}return m},[u.EndowmentPermissions["endowment:lifecycle-hooks"]]:({t:e,subjectName:t})=>({label:e("permission_lifecycleHooks"),description:e("permission_lifecycleHooksDescription",[k(t)]),leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_lifecycleHooks}),[u.EndowmentPermissions["endowment:page-home"]]:({t:e,subjectName:t})=>({label:e("permission_homePage"),description:e("permission_homePageDescription",[k(t)]),leftIcon:l.IconName.Home,weight:u.PermissionWeight.endowment_pageHome}),[u.RestrictedMethods.snap_manageAccounts]:({t:e,subjectName:t})=>({label:e("permission_manageAccounts"),description:e("permission_manageAccountsDescription",[k(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.snap_manageAccounts}),[u.EndowmentPermissions["endowment:keyring"]]:({t:e,subjectName:t})=>({label:e("permission_keyring"),description:e("permission_keyringDescription",[k(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.endowment_keyring}),[u.EndowmentPermissions["endowment:name-lookup"]]:({t:e})=>({label:e("permission_nameLookup"),description:e("permission_nameLookupDescription"),leftIcon:l.IconName.Search,weight:u.PermissionWeight.endowment_nameLookup}),[u.EndowmentPermissions["endowment:assets"]]:({t:e,subjectName:t})=>({label:e("permission_assets"),description:e("permission_assetsDescription",[k(t)]),leftIcon:l.IconName.Coin,weight:u.PermissionWeight.endowment_assets}),[u.EndowmentPermissions["endowment:protocol"]]:({t:e,subjectName:t})=>({label:e("permission_protocol"),description:e("permission_protocolDescription",[k(t)]),leftIcon:l.IconName.GlobalSearch,weight:u.PermissionWeight.endowment_protocol}),[u.EndowmentPermissions["endowment:signature-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Warning,weight:u.PermissionWeight.endowment_signatureInsight},r=[{...s,label:e("permission_signatureInsight"),description:e("permission_signatureInsightDescription",[k(n)])}];return(0,i.isNonEmptyArray)(t.caveats)&&t.caveats.find(e=>e.type===o.SnapCaveatType.SignatureOrigin&&e.value)&&r.push({...s,label:e("permission_signatureInsightOrigin"),description:e("permission_signatureInsightOriginDescription",[k(n)]),leftIcon:l.IconName.Explore}),r},[u.ConnectionPermission.connection_permission]:({t:e,permissionValue:t,subjectName:n})=>Object.keys(t).map(t=>{let s=(0,h.getURLHost)(t);return s||(s=t.replace("npm:","")),{label:e("snapConnectTo",[r.default.createElement(l.Text,{key:"connectToMain",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit,style:{lineBreak:"anywhere"}},s)]),description:e("snapConnectionPermissionDescription",[k(n),r.default.createElement(l.Text,{key:"connectToDescription",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},s)]),leftIcon:undefined,connection:t,connectionName:s,subjectName:n,weight:u.PermissionWeight.connection_permission}}),[f]:({t:e,permissionName:t})=>({label:e("permission_unknown",[t??"undefined"]),leftIcon:l.IconName.Question,rightIcon:null,weight:u.PermissionWeight.unknown_permission})}),v=({t:e,isRequestApprovalPermittedChains:t,permissionName:n,permissionValue:s,subjectName:r,getSubjectName:a})=>{let o=T[f];Object.hasOwnProperty.call(T,n)&&(o=T[n]);const i=o({t:e,isRequestApprovalPermittedChains:t,permissionName:n,permissionValue:s,subjectName:r,getSubjectName:a});return Array.isArray(i)?i.map(e=>({...e,permissionName:n,permissionValue:s})):[{...i,permissionName:n,permissionValue:s}]};n.getPermissionDescription=v}}},{package:"$root$",file:"ui/helpers/utils/permission.js"}],[6692,{"../../../shared/constants/permissions":5437,"@metamask/keyring-api":1994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsEthPermissionsAndNonEvmAccount=void 0;var s=e("@metamask/keyring-api"),r=e("../../../shared/constants/permissions");n.containsEthPermissionsAndNonEvmAccount=(e,t)=>{const n=Object.keys(r.RestrictedEthMethods),a=Object.keys(t).some(e=>n.includes(e)),o=e.some(e=>!(0,s.isEvmAccountType)(e.type));return a&&o}}}},{package:"$root$",file:"ui/helpers/utils/permissions.ts"}],[6693,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPortfolioUrl=function(e="",t="",n="",s=!1,r=!1,a,o){const i=new URL(e,"https://app.metamask.io");i.searchParams.append("metamaskEntry",t),i.searchParams.append("metametricsId",n),i.searchParams.append("metricsEnabled",String(s)),i.searchParams.append("marketingEnabled",String(r)),a&&i.searchParams.append("accountAddress",a);o&&i.searchParams.append("tab",o);return i.href}}}},{package:"$root$",file:"ui/helpers/utils/portfolio.js"}],[6694,{"../../../shared/modules/environment":5530,"../constants/settings":6651},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.colorText=l,n.escapeRegExp=void 0,n.getNumberOfSettingRoutesInTab=function(e,t){return u(e,t).length},n.getSettingsRoutes=c,n.getSpecificSettingsRoute=function(e,t,n){return c().find(s=>s.tabMessage(e)===t&&s.sectionMessage(e)===n)},n.handleSettingsRefs=function(e,t,n){const s=u(e,t),r=s.findIndex(e=>e.route.substring(1)===window.location.hash.substring(1));if(-1===r)return;const a=1===s.length?n:n[r];if(null!=a&&a.current){a.current.scrollIntoView({behavior:"smooth"}),a.current.focus();const e=window.location.hash.split("#")[1];window.location.hash=e}},n.highlightSearchedText=function(){const e=document.getElementById("search-settings"),t=new RegExp(d(e.value),"gi");[...document.querySelectorAll(".settings-page__header__search__list__item")].forEach(e=>{const n=e.querySelector(".settings-page__header__search__list__item__tab"),s=e.querySelector(".settings-page__header__search__list__item__section");l(n,t),l(s,t)})};var s,r=(s=e("../constants/settings"))&&s.__esModule?s:{default:s},a=e("../../../shared/modules/environment");let o;const i={METAMASK_SHIELD_ENABLED:a.getIsMetaMaskShieldFeatureEnabled,ENABLE_SETTINGS_PAGE_DEV_OPTIONS:a.getIsSettingsPageDevOptionsEnabled};function c(){return o||(o=r.default.filter(e=>(!e.featureFlag||function(e){const t=i[e];return t?t():(console.warn(`Unknown feature flag: ${e}`),!1)}(e.featureFlag))&&!e.hidden),o)}function u(e,t){return c().filter(n=>n.tabMessage(e)===t)}function l(e,t){if(null!==e){let n=e.innerHTML;n=n.replace("&amp;","&"),n=n.replace(/(<span class="settings-page__header__search__list__item__highlight">|<\/span>)/gim,""),e.innerHTML=n.replace(t,'<span class="settings-page__header__search__list__item__highlight">$&</span>')}}const d=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");n.escapeRegExp=d}}},{package:"$root$",file:"ui/helpers/utils/settings-search.js"}],[6696,{"../../../shared/constants/state-corruption":5446,"../../../shared/lib/error-utils":5497,"../../../shared/lib/get-first-preferred-lang-code":5500,"../../../shared/lib/switch-direction":5515,"../../../shared/lib/translate":5522,"../../../shared/lib/ui-utils":5523,lodash:4534,loglevel:4542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.displayStateCorruptionError=async function(e,t,n,r,o){s.default.error(n);const i=await m(a.VAULT_RECOVERY_LINK,r,o,a.SUPPORT_LINK);e.innerHTML=i;const c=e.querySelector("#critical-error-button");c&&(c.addEventListener("click",function e(){confirm((0,l.t)("stateCorruptionAreYouSure")??"")&&(this.removeEventListener("click",e),this.disabled=!0,this.innerText=r?(0,l.t)("stateCorruptionRestoringDatabase")??"":(0,l.t)("stateCorruptionResettingDatabase")??"",t.postMessage({data:{method:u.METHOD_REPAIR_DATABASE}}))}),setTimeout(()=>{c.disabled=!1},5e3))},n.getStateCorruptionErrorHtml=m;var s=d(e("loglevel")),r=e("lodash"),a=e("../../../shared/lib/ui-utils"),o=e("../../../shared/lib/error-utils"),i=e("../../../shared/lib/switch-direction"),c=d(e("../../../shared/lib/get-first-preferred-lang-code")),u=e("../../../shared/constants/state-corruption"),l=e("../../../shared/lib/translate");function d(e){return e&&e.__esModule?e:{default:e}}async function m(e,t,n,s){let a;n?(a=n,await(0,l.updateCurrentLocale)(n)):(a=await(0,c.default)(),await(0,l.updateCurrentLocale)(a)),(0,i.switchDirectionForPreferredLocale)(a);const u=`<a href="${(0,r.escape)(e)}" title="${(0,r.escape)((0,l.t)("stateCorruptionTheseInstructionsLinkTitle")??"")}" class="critical-error__link" target="_blank" rel="noopener noreferrer">${(0,r.escape)((0,l.t)("stateCorruptionTheseInstructions")??"")}</a>`;let d,m,h;t?(d=(0,l.t)("stateCorruptionDetectedWithBackup")??"",m=(0,l.t)("stateCorruptionCopyAndRestoreBeforeRecovery",u)??"",h=(0,l.t)("stateCorruptionRestoreAccountsFromBackup")??""):(d=(0,l.t)("stateCorruptionDetectedNoBackup")??"",m=(0,l.t)("stateCorruptionCopyAndRestoreBeforeReset",u)??"",h=(0,l.t)("stateCorruptionResetMetaMaskState")??"");const p=`\n    <h1>${(0,l.t)("stateCorruptionMetamaskDatabaseCannotBeAccessed")}</h1>\n  `,f=`\n    <p>${(0,r.escape)(d)}</p>\n    <p>${m}</p>\n    <button disabled id="critical-error-button" class="critical-error__button-restore button btn-primary">\n      ${h}\n    </button>\n  `,g=s?`<p class="critical-error__footer small">${(0,r.escape)((0,l.t)("unexpectedBehavior")??"")} <a\n        href="${(0,r.escape)(s)}"\n        class="critical-error__link"\n        target="_blank"\n        rel="noopener noreferrer">\n          ${(0,r.escape)((0,l.t)("sendBugReport")??"")}\n      </a>\n    </p>`:"";return(0,o.getErrorHtmlBase)(`\n    ${p}\n    ${f}\n    ${g}\n  `)}}}},{package:"$root$",file:"ui/helpers/utils/state-corruption-html.ts"}],[6697,{"../../../app/scripts/lib/util":290,"../../ducks/metamask/metamask":6632,"../../selectors":7539,"../../selectors/metamask-notifications/metamask-notifications":7540,"../../selectors/nft":7550},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getStartupTraceTags=function(e){var t;const n=(0,s.getEnvironmentType)(),c=(0,r.getIsUnlocked)(e),u=(0,a.getInternalAccounts)(e).length,l=(0,i.selectAllNftsFlat)(e).length,d=(0,o.getMetamaskNotifications)(e).length,m=(0,a.selectAllTokensFlat)(e).length,h=(0,a.getTransactions)(e).length,p=(0,a.getPendingApprovals)(e),f=null==p||null===(t=p[0])||void 0===t?void 0:t.type;return{"wallet.account_count":u,"wallet.nft_count":l,"wallet.notification_count":d,"wallet.pending_approval":f,"wallet.token_count":m,"wallet.transaction_count":h,"wallet.unlocked":c,"wallet.ui_type":n}};var s=e("../../../app/scripts/lib/util"),r=e("../../ducks/metamask/metamask"),a=e("../../selectors"),o=e("../../selectors/metamask-notifications/metamask-notifications"),i=e("../../selectors/nft")}}},{package:"$root$",file:"ui/helpers/utils/tags.ts"}],[6701,{"../../components/component-library":6097,"../../hooks/useTrustSignals":6817,"../constants/design-system":6645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTrustSignalIcon=function(e){if(!e)return null;switch(e){case a.TrustSignalDisplayState.Malicious:return{name:s.IconName.Danger,color:r.IconColor.errorDefault};case a.TrustSignalDisplayState.Verified:return{name:s.IconName.VerifiedFilled,color:r.IconColor.infoDefault};case a.TrustSignalDisplayState.Warning:return null;case a.TrustSignalDisplayState.Unknown:return{name:s.IconName.Question,color:undefined};case a.TrustSignalDisplayState.Petname:case a.TrustSignalDisplayState.Recognized:return null;default:return{name:s.IconName.Question,color:undefined}}};var s=e("../../components/component-library"),r=e("../constants/design-system"),a=e("../../hooks/useTrustSignals")}}},{package:"$root$",file:"ui/helpers/utils/trust-signals.ts"}],[6704,{"../../../app/scripts/lib/util":290,"../../../shared/constants/app":5415,"../../../shared/modules/browser-runtime.utils":5526},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("../../../shared/constants/app"),r=e("../../../app/scripts/lib/util"),a=e("../../../shared/modules/browser-runtime.utils");n.default=class{static async checkStatus(){const e=(0,r.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP,t=(0,a.getBrowserName)()===(s.PLATFORM_FIREFOX||s.PLATFORM_BRAVE),n=(await window.navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind),o=n.length>0,i=n.some(e=>e.label&&e.label.length>0);if(o){let n=!0;return(t&&e||e&&!i)&&(n=!1),{permissions:i,environmentReady:n}}const c=new Error("No webcam found");throw c.type="NO_WEBCAM_FOUND",c}}}}},{package:"$root$",file:"ui/helpers/utils/webcam-utils.js"}],[6705,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openWindow=void 0;n.openWindow=(e,t)=>{window.open(e,t||"_blank","noopener")}}}},{package:"$root$",file:"ui/helpers/utils/window.ts"}],[6706,{"../../../shared/constants/multichain/networks":5432,"../../selectors":7539,"./useMultichainWalletSnapClient":6708,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountCreationOnNetworkChange=void 0;var s=e("react-redux"),r=e("../../../shared/constants/multichain/networks"),a=e("../../selectors"),o=e("./useMultichainWalletSnapClient");n.useAccountCreationOnNetworkChange=()=>{const e=(0,o.useMultichainWalletSnapClient)(o.WalletClientType.Bitcoin),t=(0,o.useMultichainWalletSnapClient)(o.WalletClientType.Solana),n=(0,s.useSelector)(a.getMetaMaskAccountsOrdered);return{createAccount:async n=>{switch(n){case r.MultichainNetworks.BITCOIN:await e.createAccount({scope:r.MultichainNetworks.BITCOIN});break;case r.MultichainNetworks.SOLANA:await t.createAccount({scope:r.MultichainNetworks.SOLANA});break;default:throw new Error(`Unsupported chainId: ${n}`)}},hasAnyAccountsInNetwork:e=>n.some(({scopes:t})=>t.includes(e))}}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountCreationOnNetworkChange.ts"}],[6707,{"../../store/actions":7565,"../useI18nContext":6777,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountsOperationsLoadingStates=void 0;var s=e("react-redux"),r=e("react"),a=e("../useI18nContext"),o=e("../../store/actions");n.useAccountsOperationsLoadingStates=()=>{const e=(0,a.useI18nContext)(),t=(0,s.useDispatch)(),n=(0,s.useSelector)(e=>e.metamask.isAccountTreeSyncingInProgress);(0,r.useEffect)(()=>{(0,o.forceUpdateMetamaskState)(t)},[n]);const i=n,c=(0,r.useMemo)(()=>!0===n?e("syncing"):undefined,[n,e]);return{areAnyOperationsLoading:i,isAccountTreeSyncingInProgress:n,loadingMessage:c}}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountsOperationsLoadingStates.ts"}],[6708,{"../../../shared/lib/accounts":5456,"../../../shared/lib/accounts/bitcoin-wallet-snap":5455,"../../../shared/lib/accounts/solana-wallet-snap":5459,"../../store/actions":7565,"@metamask/keyring-controller":2004,"@metamask/snaps-utils":2677,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WalletClientType=n.MultichainWalletSnapSender=n.MultichainWalletSnapClient=n.EVM_WALLET_TYPE=void 0,n.useMultichainWalletSnapClient=function(e){return(0,a.useMemo)(()=>new y(e),[e])},n.useMultichainWalletSnapSender=function(e){return(0,a.useMemo)(()=>new k(e),[e])};var s=e("@metamask/keyring-controller"),r=e("@metamask/snaps-utils"),a=e("react"),o=e("../../../shared/lib/accounts"),i=e("../../../shared/lib/accounts/bitcoin-wallet-snap"),c=e("../../../shared/lib/accounts/solana-wallet-snap"),u=e("../../store/actions");function l(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function d(e,t){return e.get(h(e,t))}function m(e,t,n){return e.set(h(e,t),n),n}function h(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f=n.WalletClientType=function(e){return e.Bitcoin="bitcoin-wallet-snap",e.Solana="solana-wallet-snap",e}({});n.EVM_WALLET_TYPE="evm";const g={[f.Bitcoin]:{id:i.BITCOIN_WALLET_SNAP_ID,name:i.BITCOIN_WALLET_NAME},[f.Solana]:{id:c.SOLANA_WALLET_SNAP_ID,name:c.SOLANA_WALLET_NAME}};class k{constructor(e){p(this,"snapId",void 0),p(this,"send",async e=>await(0,u.handleSnapRequest)({origin:"metamask",snapId:this.snapId,handler:r.HandlerType.OnKeyringRequest,request:e})),this.snapId=e}}n.MultichainWalletSnapSender=k;var T=new WeakMap,v=new WeakMap;class y{constructor(e){l(this,T,void 0),l(this,v,void 0);const{id:t,name:n}=g[e];if(m(T,this,t),m(v,this,n),!d(T,this))throw new Error(`Unsupported client type: ${e}`)}getSnapId(){return d(T,this)}getSnapName(){return d(v,this)}async createAccount(e,t){return await(0,u.createSnapAccount)(d(T,this),e,t)}async getNextAvailableAccountName(e){return(0,o.getNextAvailableSnapAccountName)(async()=>(0,u.getNextAvailableAccountName)(s.KeyringTypes.snap),d(T,this),e)}}n.MultichainWalletSnapClient=y}}},{package:"$root$",file:"ui/hooks/accounts/useMultichainWalletSnapClient.ts"}],[6709,{"../../../shared/constants/bridge":5417,"../../../shared/constants/common":5418,"../../../shared/constants/multichain/networks":5432,"@metamask/bridge-controller":1229,"@metamask/transaction-controller":2754},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcTxMeta:t,nonEvmTransaction:n}){var u,l,d,m;if(!((null==t?void 0:t.type)&&[s.TransactionType.bridge,s.TransactionType.swap].includes(t.type)||n))return{srcNetwork:undefined,destNetwork:undefined};const{srcChainId:h,destChainId:p}=e?c(e):{srcChainId:(null==t?void 0:t.chainId)??(null==n?void 0:n.chain),destChainId:(null==t?void 0:t.chainId)??(null==n?void 0:n.chain)};if(!h||!p)return{srcNetwork:undefined,destNetwork:undefined};let f,g,k,T;try{f=(0,r.formatChainIdToCaip)(h),k=(0,r.getNativeAssetForChainId)(h),g=(0,r.formatChainIdToCaip)(p),T=(0,r.getNativeAssetForChainId)(p)}catch(e){return console.warn("Error getting XChain swaps network info",e),{srcNetwork:undefined,destNetwork:undefined}}const v=(0,r.isSolanaChainId)(h)?f:(0,r.formatChainIdToHex)(h),y={chainId:f,name:o.NETWORK_TO_SHORT_NETWORK_NAME_MAP[v],...(0,r.isSolanaChainId)(f)?{isEvm:!1,nativeCurrency:null===(u=k)||void 0===u?void 0:u.assetId,blockExplorerUrl:i.SOLANA_BLOCK_EXPLORER_URL}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[v]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(l=k)||void 0===l?void 0:l.symbol,isEvm:!0}},S=(0,r.isSolanaChainId)(p)?g:(0,r.formatChainIdToHex)(p),b={chainId:g,name:o.NETWORK_TO_SHORT_NETWORK_NAME_MAP[S],...(0,r.isSolanaChainId)(g)?{isEvm:!1,nativeCurrency:null===(d=T)||void 0===d?void 0:d.assetId,blockExplorerUrl:i.SOLANA_BLOCK_EXPLORER_URL}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[S]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(m=T)||void 0===m?void 0:m.symbol,isEvm:!0}};return{srcNetwork:y,destNetwork:b}};var s=e("@metamask/transaction-controller"),r=e("@metamask/bridge-controller"),a=e("../../../shared/constants/common"),o=e("../../../shared/constants/bridge"),i=e("../../../shared/constants/multichain/networks");const c=({quote:e})=>{const{srcChainId:t,destChainId:n}=e;return{srcChainId:t,destChainId:n}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeChainInfo.ts"}],[6710,{"../../ducks/bridge/bridge":6621,"../../ducks/bridge/selectors":6622,"../../ducks/bridge/utils":6623,"../../ducks/metamask/metamask":6632,"../../selectors":7539,"../../selectors/multichain":7548,"../useMultichainSelector":6787,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeExchangeRates=void 0;var s=e("react"),r=e("react-redux"),a=e("../../ducks/bridge/selectors"),o=e("../../selectors"),i=e("../../ducks/metamask/metamask"),c=e("../../ducks/bridge/bridge"),u=e("../../ducks/bridge/utils"),l=e("../useMultichainSelector"),d=e("../../selectors/multichain");n.useBridgeExchangeRates=()=>{const{srcTokenAddress:e,destTokenAddress:t}=(0,r.useSelector)(a.getQuoteRequest),{activeQuote:n}=(0,r.useSelector)(a.getBridgeQuotes),m=(0,l.useMultichainSelector)(d.getMultichainCurrentChainId),h=(0,r.useSelector)(a.getToChain),p=null==h?void 0:h.chainId,f=(0,r.useSelector)(o.getParticipateInMetaMetrics),g=(0,r.useDispatch)(),k=(0,r.useSelector)(i.getCurrentCurrency),T=n?n.quote.srcAsset.address:e,v=(0,r.useSelector)(a.getFromToken),y=(null==v?void 0:v.address)??T,S=n?n.quote.destAsset.address:t,b=(0,r.useSelector)(a.getToToken),w=(null==b?void 0:b.address)??S,I=(0,r.useSelector)(o.getMarketData),_=(0,s.useRef)(new AbortController),C=(0,s.useRef)(new AbortController);(0,s.useEffect)(()=>()=>{var e,t;null===(e=_.current)||void 0===e||e.abort(),_.current=null,null===(t=C.current)||void 0===t||t.abort(),C.current=null},[]),(0,s.useEffect)(()=>{var e;if(null===(e=_.current)||void 0===e||e.abort(),_.current=new AbortController,m&&y){(0,u.exchangeRateFromMarketData)(m,y,I)||g((0,c.setSrcTokenExchangeRates)({chainId:m,tokenAddress:y,currency:k,signal:_.current.signal}))}},[k,g,m,y,I]),(0,s.useEffect)(()=>{var e;if(null===(e=C.current)||void 0===e||e.abort(),C.current=new AbortController,p&&w){(0,u.exchangeRateFromMarketData)(p,w,I)||(g((0,c.setDestTokenExchangeRates)({chainId:p,tokenAddress:w,currency:k,signal:C.current.signal})),f&&"usd"!==k&&g((0,c.setDestTokenUsdExchangeRates)({chainId:p,tokenAddress:w,currency:"usd",signal:C.current.signal})))}},[k,g,f,I,p,w])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeExchangeRates.ts"}],[6711,{"../../../shared/lib/asset-utils":5460,"../../../shared/lib/deep-links/routes/swap":5476,"../../../shared/lib/transactions-controller-utils":5519,"../../ducks/bridge/actions":6620,"../../ducks/bridge/selectors":6622,"@metamask/bridge-controller":1229,"@metamask/utils":2799,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeQueryParams=void 0;var s=e("react"),r=e("react-redux"),a=e("react-router-dom"),o=e("@metamask/utils"),i=e("@metamask/bridge-controller"),c=e("../../../shared/lib/asset-utils"),u=e("../../../shared/lib/deep-links/routes/swap"),l=e("../../../shared/lib/transactions-controller-utils"),d=e("../../ducks/bridge/actions"),m=e("../../ducks/bridge/selectors");const h=e=>{if(!e)return null;try{const t=o.CaipAssetTypeStruct.create(e),{chainId:n,assetReference:s}=(0,o.parseCaipAssetType)(t);return{chainId:n,assetReference:s,assetId:t}}catch{return null}};n.useBridgeQueryParams=()=>{const e=(0,r.useDispatch)(),t=(0,r.useSelector)(m.getFromChains),n=(0,r.useSelector)(m.getFromChain),p=(0,r.useSelector)(m.getFromToken),f=(0,r.useSelector)(m.getFromAccount),g=(0,s.useRef)(new AbortController),{search:k}=(0,a.useLocation)(),T=(0,a.useHistory)(),v=(0,s.useMemo)(()=>new URLSearchParams(k),[k]),y=(0,s.useCallback)(e=>{const t=new URLSearchParams(k);e.forEach(e=>{t.get(e)&&t.delete(e)}),T.replace({search:t.toString()})},[k,T]),[S,b]=(0,s.useState)(null),[w,I]=(0,s.useState)(null),[_,C]=(0,s.useState)(null);(0,s.useEffect)(()=>()=>{g.current.abort()},[]);const[A,E]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=h(v.get(u.BridgeQueryParams.FROM)),t=h(v.get(u.BridgeQueryParams.TO)),n=v.get(u.BridgeQueryParams.AMOUNT);(e||t||n)&&(I(t),b(e),n&&C(n),y([u.BridgeQueryParams.FROM,u.BridgeQueryParams.TO,u.BridgeQueryParams.AMOUNT]),(null!=t&&t.assetId||null!=e&&e.assetId)&&(g.current.abort(),g.current=new AbortController,(async(e,t,n)=>{const s=[];if(t&&s.push(t),n&&s.push(n),0===s.length)return null;try{return await(0,c.fetchAssetMetadataForAssetIds)(s,e)}catch{return null}})(g.current.signal,null==e?void 0:e.assetId,null==t?void 0:t.assetId).then(e=>{E(e)})))},[v]);const N=(0,s.useCallback)((t,n,s,r,a)=>{const{chainId:c}=n;if(t){const{chainId:n,assetReference:u}=(0,o.parseCaipAssetType)(t.assetId),l=(0,i.getNativeAssetForChainId)(n),m=null==l?void 0:l.assetId.includes(u),h={...t,chainId:n,address:m||(0,i.isNativeAddress)(u)?(null==l?void 0:l.address)??"":u};if(a&&c===(0,i.formatChainIdToCaip)(a.chainId))e((0,d.setFromToken)(h));else{const t=s.find(e=>(0,i.formatChainIdToCaip)(e.chainId)===c);t&&e((0,d.setFromChain)({networkConfig:t,selectedAccount:r,token:h}))}}},[]),M=(0,s.useCallback)(async t=>{const{chainId:n,assetReference:s}=(0,o.parseCaipAssetType)(t.assetId);e((0,d.setToToken)({...t,chainId:n,address:s})),I(null)},[]);(0,s.useEffect)(()=>{if(!S||!A||!t.length)return;const e=(null==A?void 0:A[S.assetId])??(null==A?void 0:A[S.assetId.toLowerCase()]);N(e,S,t,f,n)},[A,S,t,n,f]),(0,s.useEffect)(()=>{if(!w)return;const e=(null==A?void 0:A[w.assetId])??(null==A?void 0:A[w.assetId.toLowerCase()]);e&&M(e)},[w,A]),(0,s.useEffect)(()=>{var t;S&&p&&(null===(t=p.assetId)||void 0===t?void 0:t.toLowerCase())===S.assetId.toLowerCase()&&(b(null),_&&(e((0,d.setFromTokenInputValue)((0,l.calcTokenAmount)(_,p.decimals).toFixed(p.decimals))),C(null)))},[_,S,p]),(0,s.useEffect)(()=>{S||v.get(u.BridgeQueryParams.FROM)||!p||(0,i.isCrossChain)(p.chainId,null==n?void 0:n.chainId)||!f||(e((0,d.setEVMSrcTokenBalance)(p,f.address)),e((0,d.setEVMSrcNativeBalance)({selectedAddress:f.address,chainId:p.chainId})))},[S,f,p,n,v])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeQueryParams.ts"}],[6712,{"../../../shared/lib/bridge-status/utils":5461,"../../ducks/bridge-status/selectors":6619,"../../helpers/constants/routes":6650,"@metamask/bridge-controller":1229,"@metamask/transaction-controller":2754,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FINAL_NON_CONFIRMED_STATUSES=void 0,n.useBridgeTxHistoryData=function({transactionGroup:e,isEarliestNonce:t}){const n=(0,a.useHistory)(),r=e.initialTransaction,d=r.id,m=(0,s.useSelector)(e=>(0,u.selectBridgeHistoryItemForTxMetaId)(e,d)),h=m?(null==m?void 0:m.status.status)===o.StatusTypes.FAILED:null,p=l.includes(r.status)?undefined:()=>{n.push({pathname:`${c.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/${d}`,state:{transactionGroup:e,isEarliestNonce:t}})};return{bridgeTxHistoryItem:m,isBridgeComplete:m?(0,i.isBridgeComplete)(m):null,isBridgeFailed:h,showBridgeTxDetails:p}};var s=e("react-redux"),r=e("@metamask/transaction-controller"),a=e("react-router-dom"),o=e("@metamask/bridge-controller"),i=e("../../../shared/lib/bridge-status/utils"),c=e("../../helpers/constants/routes"),u=e("../../ducks/bridge-status/selectors");const l=n.FINAL_NON_CONFIRMED_STATUSES=[r.TransactionStatus.failed,r.TransactionStatus.dropped,r.TransactionStatus.rejected]}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeTxHistoryData.ts"}],[6713,{"../../../shared/constants/bridge":5417,"../../../shared/constants/metametrics":5430,"../../../shared/constants/network":5433,"../../../shared/lib/asset-utils":5460,"../../../shared/lib/deep-links/routes/swap":5476,"../../../shared/lib/trace":5517,"../../contexts/metametrics":6608,"../../ducks/bridge/actions":6620,"../../ducks/bridge/selectors":6622,"../../helpers/constants/routes":6650,"../../selectors":7539,"../../selectors/multichain":7548,"@metamask/bridge-controller":1229,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),a=e("react-router-dom"),o=e("@metamask/bridge-controller"),i=e("../../ducks/bridge/actions"),c=e("../../selectors"),u=e("../../contexts/metametrics"),l=e("../../../shared/constants/metametrics"),d=e("../../helpers/constants/routes"),m=e("../../../shared/lib/deep-links/routes/swap"),h=e("../../../shared/lib/trace"),p=e("../../../shared/lib/asset-utils"),f=e("../../../shared/constants/bridge"),g=e("../../ducks/bridge/selectors"),k=e("../../selectors/multichain"),T=e("../../../shared/constants/network");n.default=()=>{const e=(0,a.useHistory)(),t=(0,r.useDispatch)(),n=(0,s.useContext)(u.MetaMetricsContext),v=(0,r.useSelector)(c.getMetaMetricsId),y=(0,r.useSelector)(c.getParticipateInMetaMetrics),S=(0,r.useSelector)(c.getDataCollectionForMarketing),b=(0,r.useSelector)(g.getLastSelectedChainId),w=(0,r.useSelector)(k.getMultichainProviderConfig);return{openBridgeExperience:(0,s.useCallback)((s,r)=>{let a=null!=r&&r.chainId&&f.ALL_ALLOWED_BRIDGE_CHAIN_IDS.includes(r.chainId)?(0,p.toAssetId)(r.address,(0,o.formatChainIdToCaip)(r.chainId)):undefined;const c=f.ALL_ALLOWED_BRIDGE_CHAIN_IDS.includes(b)?b:T.CHAIN_IDS.MAINNET;var u;a||c===(null==w?void 0:w.chainId)||(a=null===(u=(0,o.getNativeAssetForChainId)(c))||void 0===u?void 0:u.assetId);(0,h.trace)({name:h.TraceName.SwapViewLoaded,startTime:Date.now()}),n({event:l.MetaMetricsEventName.SwapLinkClicked,category:l.MetaMetricsEventCategory.Navigation,properties:{token_symbol:(null==r?void 0:r.symbol)??"",location:s,text:"Swap",chain_id:(null==r?void 0:r.chainId)??b}}),t((0,i.trackUnifiedSwapBridgeEvent)(o.UnifiedSwapBridgeEventName.ButtonClicked,{location:s,token_symbol_source:(null==r?void 0:r.symbol)??"ETH",token_symbol_destination:""})),t((0,i.resetInputFields)());let g=`${d.CROSS_CHAIN_SWAP_ROUTE}${d.PREPARE_SWAP_ROUTE}`;g+="?",a&&(g+=`${m.BridgeQueryParams.FROM}=${a}`),e.push(g)},[e,v,n,y,S,b,null==w?void 0:w.chainId])}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridging.ts"}],[6714,{"../../ducks/bridge/selectors":6622,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCountdownTimer=void 0;var s=e("react"),r=e("react-redux"),a=e("../../ducks/bridge/selectors");const o=1e3;n.useCountdownTimer=()=>{const{quotesLastFetchedMs:e}=(0,r.useSelector)(a.getBridgeQuotes),t=(0,r.useSelector)(a.getQuoteRefreshRate),[n,i]=(0,s.useState)(t),c=(0,s.useRef)(t);return(0,s.useEffect)(()=>{c.current=n},[n]),(0,s.useEffect)(()=>{e&&i(t-(Date.now()-e)+o)},[e,t]),(0,s.useEffect)(()=>{const e=setInterval(()=>{i(Math.max(0,c.current-o))},o);return()=>clearInterval(e)},[]),Math.floor(n/1e3)}}}},{package:"$root$",file:"ui/hooks/bridge/useCountdownTimer.ts"}],[6715,{"../../ducks/bridge/selectors":6622,"../../selectors/multichain":7548,"../useMultichainSelector":6787,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsTxSubmittable=void 0;var s=e("react-redux"),r=e("../../ducks/bridge/selectors"),a=e("../../selectors/multichain"),o=e("../useMultichainSelector");n.useIsTxSubmittable=()=>{const e=(0,s.useSelector)(r.getFromToken),t=(0,s.useSelector)(r.getToToken),n=(0,o.useMultichainSelector)(a.getMultichainCurrentChainId),i=(0,s.useSelector)(r.getFromAmount),{activeQuote:c}=(0,s.useSelector)(r.getBridgeQuotes),{isInsufficientBalance:u,isInsufficientGasBalance:l,isInsufficientGasForQuote:d,isTxAlertPresent:m}=(0,s.useSelector)(r.getValidationErrors);return Boolean(e&&t&&n&&i&&c&&!u&&!l&&!d&&!m)}}}},{package:"$root$",file:"ui/hooks/bridge/useIsTxSubmittable.ts"}],[6716,{"../../ducks/bridge/actions":6620,"../../ducks/bridge/selectors":6622,"@metamask/bridge-controller":1229,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useQuoteFetchEvents=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../ducks/bridge/selectors"),i=e("../../ducks/bridge/actions");n.useQuoteFetchEvents=()=>{const e=(0,r.useDispatch)(),{isLoading:t,quotesRefreshCount:n,quoteFetchError:c,activeQuote:u,recommendedQuote:l}=(0,r.useSelector)(o.getBridgeQuotes),{insufficientBal:d}=(0,r.useSelector)(o.getQuoteRequest),m=(0,r.useSelector)(o.getValidationErrors),h=(0,s.useMemo)(()=>{const{isEstimatedReturnLow:e,isNoQuotesAvailable:t,isInsufficientGasBalance:n,isInsufficientGasForQuote:s,isInsufficientBalance:r}=m,a=[];return e&&a.push("low_return"),t&&a.push("no_quotes"),n&&a.push("insufficient_gas_balance"),s&&a.push("insufficient_gas_for_selected_quote"),r&&a.push("insufficient_balance"),a},[m]);(0,s.useEffect)(()=>{var s,r,o,m,p;!t&&n>0&&!c&&e((0,i.trackUnifiedSwapBridgeEvent)(a.UnifiedSwapBridgeEventName.QuotesReceived,{can_submit:!d,gas_included:Boolean(null==u||null===(s=u.quote)||void 0===s?void 0:s.gasIncluded),gas_included_7702:Boolean(null==u||null===(r=u.quote)||void 0===r?void 0:r.gasIncluded7702),quoted_time_minutes:null!=u&&u.estimatedProcessingTimeInSeconds?u.estimatedProcessingTimeInSeconds/60:0,usd_quoted_gas:Number((null==u||null===(o=u.gasFee)||void 0===o||null===(o=o.effective)||void 0===o?void 0:o.usd)??0),usd_quoted_return:Number((null==u||null===(m=u.toTokenAmount)||void 0===m?void 0:m.usd)??0),best_quote_provider:l?(0,a.formatProviderLabel)(l.quote):undefined,provider:u?(0,a.formatProviderLabel)(u.quote):"_",warnings:h,price_impact:Number((null==u||null===(p=u.quote.priceData)||void 0===p?void 0:p.priceImpact)??0)}))},[n])}}}},{package:"$root$",file:"ui/hooks/bridge/useQuoteFetchEvents.ts"}],[6717,{"../../ducks/bridge/actions":6620,"../../pages/bridge/utils/slippage-service":6876,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSmartSlippage=function({fromChain:e,toChain:t,fromToken:n,toToken:i,isSwap:c}){const u=(0,r.useDispatch)(),l=(0,s.useCallback)(()=>{const s={fromChain:e,toChain:t,fromToken:n,toToken:i,isSwap:c},r=(0,a.calculateSlippage)(s);return r},[e,t,n,i,c]);(0,s.useEffect)(()=>{const e=l();u((0,o.setSlippage)(e))},[e,t,n,i,c,l,u])};var s=e("react"),r=e("react-redux"),a=e("../../pages/bridge/utils/slippage-service"),o=e("../../ducks/bridge/actions")}}},{package:"$root$",file:"ui/hooks/bridge/useSmartSlippage.ts"}],[6718,{"../../../shared/modules/bridge-utils/security-alerts-api.util":5525,"../../ducks/bridge/selectors":6622,"../useAsync":6760,"@metamask/bridge-controller":1229,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenAlerts=n.default=void 0;var s=e("react-redux"),r=e("@metamask/bridge-controller"),a=e("../../ducks/bridge/selectors"),o=e("../../../shared/modules/bridge-utils/security-alerts-api.util"),i=e("../useAsync");const c=()=>{const e=(0,s.useSelector)(a.getFromToken),t=(0,s.useSelector)(a.getFromChain),n=(0,s.useSelector)(a.getToToken),c=(0,s.useSelector)(a.getToChain),{value:u}=(0,i.useAsyncResult)(async()=>{if(e&&t&&n&&c&&!(0,r.isNativeAddress)(n.address)){const e=(0,o.convertChainIdToBlockAidChainName)(null==c?void 0:c.chainId);if(e)return await(0,o.fetchTokenAlert)(e,(0,r.formatAddressToCaipReference)(n.address))}return null},[null==n?void 0:n.address,null==c?void 0:c.chainId]);return{tokenAlert:u}};n.useTokenAlerts=c;n.default=c}}},{package:"$root$",file:"ui/hooks/bridge/useTokenAlerts.ts"}],[6719,{"../../../shared/constants/bridge":5417,"../../../shared/constants/multichain/networks":5432,"../../../shared/constants/network":5433,"../../../shared/constants/time":5449,"../../../shared/constants/transaction":5451,"../../../shared/lib/asset-utils":5460,"../../../shared/lib/fetch-with-cache":5498,"../../ducks/bridge/selectors":6622,"../../pages/swaps/swaps.util":7517,"../useAsync":6760,"../useMultichainBalances":6786,"@metamask/bridge-controller":1229,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokensWithFiltering=void 0;var s,r=e("react"),a=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("../../../shared/constants/transaction"),c=e("../../../shared/constants/network"),u=e("../useMultichainBalances"),l=e("../useAsync"),d=e("../../pages/swaps/swaps.util"),m=e("../../../shared/constants/time"),h=e("../../ducks/bridge/selectors"),p=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},f=e("../../../shared/constants/bridge"),g=e("../../../shared/lib/asset-utils"),k=e("../../../shared/constants/multichain/networks");const T=(e,t)=>{if(!e||!t)return undefined;const n={...t,chainId:(0,o.isSolanaChainId)(e)?(0,o.formatChainIdToCaip)(e):(0,o.formatChainIdToHex)(e),assetId:"assetId"in t?t.assetId:(0,g.toAssetId)(t.address,(0,o.formatChainIdToCaip)(e))};return(0,o.isNativeAddress)(t.address)?{...n,type:i.AssetType.native,address:"",image:c.CHAIN_ID_TOKEN_IMAGE_MAP[n.chainId]??(t.iconUrl||("icon"in t?t.icon:"")||""),balance:"0",string:"0"}:{...n,type:i.AssetType.token,image:t.iconUrl??("icon"in t?t.icon:"")??"",balance:"",string:undefined}};n.useTokensWithFiltering=(e,t,n,s)=>{const v=(0,a.useSelector)(t=>(0,h.getTopAssetsFromFeatureFlags)(t,e)),{assetsWithBalance:y}=(0,u.useMultichainBalances)(s),S=(0,a.useSelector)(e=>e.metamask.tokensChainsCache),b=(0,r.useMemo)(()=>{var t;if(!e)return undefined;if((0,o.isSolanaChainId)(e))return undefined;const n=(0,o.formatChainIdToHex)(e);return n?null===(t=S[n])||void 0===t?void 0:t.data:undefined},[e,S]),w=Boolean(b),{value:I,pending:_}=(0,l.useAsyncResult)(async()=>w||!e?{}:await(0,o.fetchBridgeTokens)(e,o.BridgeClientId.EXTENSION,async(e,t)=>{const{headers:n,...s}=t??{};return await(0,p.default)({url:e,...s,fetchOptions:{method:"GET",headers:n},cacheOptions:{cacheRefreshTime:10*m.MINUTE},functionName:"fetchBridgeTokens"})},f.BRIDGE_API_BASE_URL),[e,w]),C=(0,r.useMemo)(()=>b??I,[b,I]),{value:A,pending:E}=(0,l.useAsyncResult)(async()=>e?v?v.map(e=>({address:e})):await(0,d.fetchTopAssetsList)(e):[],[e,v]);return{filteredTokenListGenerator:(0,r.useCallback)(s=>function*(){const r=(e,t,r)=>{var a;const i=e=>e&&(0,o.isNativeAddress)(e)?"":e;return s(e,t,r)&&(!n||!r||!(n.symbol===e&&((0,o.isSolanaChainId)(r)?i(n.address)===i(t):(null===(a=n.address)||void 0===a?void 0:a.toLowerCase())===(null==t?void 0:t.toLowerCase()))&&n.chainId===(0,o.formatChainIdToCaip)(r)))};if(e&&A&&C&&0!==Object.keys(C).length){if(t){const n=T(e,C[t.address]??{symbol:t.symbol,address:t.address,decimals:t.decimals,iconUrl:t.image,name:t.symbol,occurrences:t.occurrences??1,aggregators:t.aggregators??[]});n&&(yield n)}for(const e of y){var a,u,l;if(r(e.symbol,e.address??undefined,e.chainId))if(!(0,o.isNativeAddress)(e.address)&&!e.isNative||(0,o.isSolanaChainId)(e.chainId))yield{...e,symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:e.address,type:i.AssetType.token,balance:e.balance??"",string:e.string??undefined,image:(e.image||(null==C||null===(a=C[e.address.toLowerCase()])||void 0===a?void 0:a.iconUrl))??(0,g.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId))??""};else yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:"",type:i.AssetType.native,balance:e.balance??"0",string:e.string??undefined,image:c.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??k.MULTICHAIN_TOKEN_IMAGE_MAP[e.chainId]??((null===(u=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===u?void 0:u.icon)||(null===(l=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===l?void 0:l.iconUrl)||(0,g.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId)))}}for(const t of A){const n=(null==C?void 0:C[t.address])??(null==C?void 0:C[t.address.toLowerCase()]),s=T(e,n);s&&r(s.symbol,s.address??undefined,e)&&(yield s)}for(const t of Object.values(C)){const n=T(e,t);n&&-1===n.symbol.indexOf("$")&&r(n.symbol,n.address??undefined,e)&&(yield n)}}}(),[y,A,e,C,n,t]),isLoading:_||E}}}}},{package:"$root$",file:"ui/hooks/bridge/useTokensWithFiltering.ts"}],[6720,{"../../../shared/constants/multichain/networks":5432,"../../ducks/bridge/actions":6620,"../../ducks/bridge/selectors":6622,"@metamask/bridge-controller":1229,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTxAlerts=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../../shared/constants/multichain/networks"),i=e("../../ducks/bridge/selectors"),c=e("../../ducks/bridge/actions");n.useTxAlerts=()=>{const e=(0,r.useDispatch)(),t=(0,r.useSelector)(i.getFromChain),{activeQuote:n}=(0,r.useSelector)(i.getBridgeQuotes),{trade:u}=n??{},l=(0,r.useSelector)(i.getFromAccount);(0,s.useEffect)(()=>{u&&"string"==typeof u&&null!=t&&t.chainId&&(0,a.isSolanaChainId)(t.chainId)&&null!=l&&l.address?e((0,c.setTxAlerts)({chainId:o.MultichainNetworks.SOLANA,trade:u,accountAddress:l.address})):e((0,c.setTxAlerts)(null))},[u,null==t?void 0:t.chainId,null==l?void 0:l.address])}}}},{package:"$root$",file:"ui/hooks/bridge/useTxAlerts.ts"}],[6721,{"../../store/actions":7565,"../../store/background-connection":7566},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deFiStartPolling=async function(){const e=await(0,r.submitRequestToBackground)("deFiStartPolling",[null]);return await(0,s.addPollingTokenToAppState)(e),e},n.deFiStopPolling=async function(e){await(0,r.submitRequestToBackground)("deFiStopPolling",[e]),await(0,s.removePollingTokenFromAppState)(e)};var s=e("../../store/actions"),r=e("../../store/background-connection")}}},{package:"$root$",file:"ui/hooks/defi/defiPollingActions.ts"}],[6722,{"../../ducks/metamask/metamask":6632,"../useMultiPolling":6782,"./defiPollingActions":6721,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../../ducks/metamask/metamask"),o=(s=e("../useMultiPolling"))&&s.__esModule?s:{default:s},i=e("./defiPollingActions");n.default=()=>{const e=(0,r.useSelector)(a.getCompletedOnboarding),t=(0,r.useSelector)(a.getIsUnlocked),n=e&&t;return(0,o.default)({startPolling:i.deFiStartPolling,stopPollingByPollingToken:i.deFiStopPolling,input:n?[null]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/defi/useDeFiPolling.ts"}],[6723,{"../../store/actions":7565,"../../store/controller-actions/gator-permissions-controller":7567,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGatorPermissions=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(!0),[i,c]=(0,s.useState)(undefined),[u,l]=(0,s.useState)(undefined);return(0,s.useEffect)(()=>{let t=!1;return async function(){try{l(undefined),n(!0);const s=await(0,a.fetchAndUpdateGatorPermissions)();t||(c(s),await(0,o.forceUpdateMetamaskState)(e))}catch(e){t||l(e)}finally{t||n(!1)}}(),()=>{t=!0}},[e]),{data:i,error:u,loading:t}};var s=e("react"),r=e("react-redux"),a=e("../../store/controller-actions/gator-permissions-controller"),o=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useGatorPermissions.ts"}],[6724,{"./useAccountSyncing":6725},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAccountSyncing",{enumerable:!0,get:function(){return s.useAccountSyncing}}),Object.defineProperty(n,"useDeleteAccountSyncingDataFromUserStorage",{enumerable:!0,get:function(){return s.useDeleteAccountSyncingDataFromUserStorage}}),Object.defineProperty(n,"useShouldDispatchAccountSyncing",{enumerable:!0,get:function(){return s.useShouldDispatchAccountSyncing}});var s=e("./useAccountSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/index.ts"}],[6725,{"../../../ducks/metamask/metamask":6632,"../../../selectors":7539,"../../../selectors/identity/authentication":7537,"../../../selectors/identity/backup-and-sync":7538,"../../../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldDispatchAccountSyncing=n.useDeleteAccountSyncingDataFromUserStorage=n.useAccountSyncing=void 0;var s,r=(s=e("loglevel"))&&s.__esModule?s:{default:s},a=e("react"),o=e("react-redux"),i=e("../../../store/actions"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,o.useSelector)(c.selectIsBackupAndSyncEnabled),t=(0,o.useSelector)(c.selectIsAccountSyncingEnabled),n=(0,o.useSelector)(u.getUseExternalServices),s=(0,o.useSelector)(l.getIsUnlocked),r=(0,o.useSelector)(d.selectIsSignedIn),a=(0,o.useSelector)(l.getCompletedOnboarding);return Boolean(n&&e&&t&&s&&r&&a)};n.useShouldDispatchAccountSyncing=m;n.useAccountSyncing=()=>{const e=(0,o.useDispatch)(),t=m(),n=(0,a.useCallback)(()=>{try{if(!t)return;e((0,i.syncAccountTreeWithUserStorage)())}catch(e){r.default.error(e)}},[e,t]);return{dispatchAccountSyncing:n,shouldDispatchAccountSyncing:t}};n.useDeleteAccountSyncingDataFromUserStorage=()=>{const e=(0,o.useDispatch)();return{dispatchDeleteAccountSyncingData:(0,a.useCallback)(async()=>{try{await e((0,i.deleteAccountSyncingDataFromUserStorage)())}catch{}},[e])}}}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/useAccountSyncing.ts"}],[6726,{"./useAutoSignIn":6727,"./useAutoSignOut":6728,"./useSignIn":6729,"./useSignOut":6730},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAutoSignIn",{enumerable:!0,get:function(){return a.useAutoSignIn}}),Object.defineProperty(n,"useAutoSignOut",{enumerable:!0,get:function(){return o.useAutoSignOut}}),Object.defineProperty(n,"useSignIn",{enumerable:!0,get:function(){return s.useSignIn}}),Object.defineProperty(n,"useSignOut",{enumerable:!0,get:function(){return r.useSignOut}});var s=e("./useSignIn"),r=e("./useSignOut"),a=e("./useAutoSignIn"),o=e("./useAutoSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/index.ts"}],[6727,{"../../../ducks/metamask/metamask":6632,"../../../selectors":7539,"../../../selectors/identity/authentication":7537,"./useSignIn":6729,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignIn=function(){const[e,t]=(0,s.useState)(!1),{signIn:n}=(0,c.useSignIn)(),u=Boolean((0,r.useSelector)(a.getIsUnlocked)),l=Boolean((0,r.useSelector)(o.getUseExternalServices)),d=Boolean((0,r.useSelector)(a.getCompletedOnboarding)),m=(0,r.useSelector)(i.selectIsSignedIn),h=(0,r.useSelector)(o.getMetaMaskKeyrings),p=(0,s.useRef)(h.length);(0,s.useEffect)(()=>{h.length!==p.current&&(p.current=h.length,t(!0))},[h.length]);const f=(0,s.useMemo)(()=>(!m||e)&&u&&l&&d,[m,u,l,d,e]);return{autoSignIn:(0,s.useCallback)(async()=>{f&&(e&&(await n(!0),t(!1)),await n())},[f,n,e]),shouldAutoSignIn:f}};var s=e("react"),r=e("react-redux"),a=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),c=e("./useSignIn")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignIn.ts"}],[6728,{"../../../ducks/metamask/metamask":6632,"../../../selectors":7539,"../../../selectors/identity/authentication":7537,"./useSignOut":6730,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignOut=function(){const{signOut:e}=(0,c.useSignOut)(),t=Boolean((0,r.useSelector)(a.getIsUnlocked)),n=Boolean((0,r.useSelector)(o.getUseExternalServices)),u=(0,r.useSelector)(i.selectIsSignedIn),l=(0,s.useMemo)(()=>u&&t&&!n,[u,t,n]),d=(0,s.useMemo)(()=>l,[l]);return{autoSignOut:(0,s.useCallback)(async()=>{d&&await e()},[d,e]),shouldAutoSignOut:d}};var s=e("react"),r=e("react-redux"),a=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),c=e("./useSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignOut.ts"}],[6729,{"../../../selectors/identity/authentication":7537,"../../../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignIn=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.selectIsSignedIn),n=(0,r.useMemo)(()=>!t,[t]);return{signIn:(0,r.useCallback)(async t=>{if(t??n)try{await e((0,c.performSignIn)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}},[e,n])}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignIn.ts"}],[6730,{"../../../selectors/identity/authentication":7537,"../../../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignOut=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.selectIsSignedIn),n=(0,r.useMemo)(()=>Boolean(t),[t]);return{signOut:(0,r.useCallback)(async()=>{if(n)try{await e((0,c.performSignOut)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}},[e,n])}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignOut.ts"}],[6731,{"./useBackupAndSync":6732},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useBackupAndSync",{enumerable:!0,get:function(){return s.useBackupAndSync}});var s=e("./useBackupAndSync")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/index.ts"}],[6732,{"../../../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBackupAndSync=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null),s=(0,r.useCallback)(async(t,s)=>{n(null);try{await e((0,i.setIsBackupAndSyncFeatureEnabled)(t,s))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),n(t)}finally{e((0,i.hideLoadingIndication)())}},[e]);return{error:t,setIsBackupAndSyncFeatureEnabled:s}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/useBackupAndSync.ts"}],[6733,{"./useContactSyncing":6734},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useContactSyncing",{enumerable:!0,get:function(){return s.useContactSyncing}}),Object.defineProperty(n,"useShouldDispatchContactSyncing",{enumerable:!0,get:function(){return s.useShouldDispatchContactSyncing}});var s=e("./useContactSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useContactSyncing/index.ts"}],[6734,{"../../../ducks/metamask/metamask":6632,"../../../selectors":7539,"../../../selectors/identity/authentication":7537,"../../../selectors/identity/backup-and-sync":7538,"../../../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldDispatchContactSyncing=n.useContactSyncing=void 0;var s,r=(s=e("loglevel"))&&s.__esModule?s:{default:s},a=e("react"),o=e("react-redux"),i=e("../../../store/actions"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,o.useSelector)(c.selectIsBackupAndSyncEnabled),t=(0,o.useSelector)(c.selectIsContactSyncingEnabled),n=(0,o.useSelector)(u.getUseExternalServices),s=(0,o.useSelector)(l.getIsUnlocked),r=(0,o.useSelector)(d.selectIsSignedIn),a=(0,o.useSelector)(l.getCompletedOnboarding);return Boolean(n&&e&&t&&s&&r&&a)};n.useShouldDispatchContactSyncing=m;n.useContactSyncing=()=>{const e=(0,o.useDispatch)(),t=m(),n=(0,a.useCallback)(()=>{try{if(!t)return;e((0,i.syncContactsWithUserStorage)())}catch(e){r.default.error(e)}},[e,t]);return{dispatchContactSyncing:n,shouldDispatchContactSyncing:t}}}}},{package:"$root$",file:"ui/hooks/identity/useContactSyncing/useContactSyncing.ts"}],[6735,{"../../selectors/metamask-notifications/metamask-notifications":7540,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useReadNotificationsCounter=function(){const{readSnapNotificationsCount:e}=a(),{featureAnnouncementsReadCount:t}=o(),{onChainMetamaskNotificationsReadCount:n}=i();return{notificationsReadCount:e+t+n}},n.useUnreadNotificationsCounter=function(){const{unreadSnapNotificationsCount:e}=a(),{featureAnnouncementsUnreadCount:t}=o(),{onChainMetamaskNotificationsUnreadCount:n}=i();return{notificationsUnreadCount:e+t+n}};var s=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications");const a=()=>({unreadSnapNotificationsCount:(0,s.useSelector)(r.getSnapNotificationsUnreadCount),readSnapNotificationsCount:(0,s.useSelector)(r.getSnapNotificationsReadCount)}),o=()=>{const e=(0,s.useSelector)(r.selectIsFeatureAnnouncementsEnabled),t=(0,s.useSelector)(r.getFeatureAnnouncementsUnreadCount),n=(0,s.useSelector)(r.getFeatureAnnouncementsReadCount);return e?{featureAnnouncementsUnreadCount:t,featureAnnouncementsReadCount:n}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0}},i=()=>{const e=(0,s.useSelector)(r.selectIsMetamaskNotificationsEnabled),t=(0,s.useSelector)(r.getOnChainMetamaskNotificationsUnreadCount),n=(0,s.useSelector)(r.getOnChainMetamaskNotificationsReadCount);return e?{onChainMetamaskNotificationsUnreadCount:t,onChainMetamaskNotificationsReadCount:n}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0}}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[6736,{"../../contexts/metamask-notifications/notification-storage-keys":6607,"../../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCreateNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{createNotifications:(0,r.useCallback)(async()=>{n(null);try{await e((0,i.createOnChainTriggers)()),await(0,c.updateNotificationSubscriptionExpiration)()}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}},[e]),error:t}},n.useDisableNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{disableNotifications:(0,r.useCallback)(async()=>{n(null);try{await e((0,i.disableMetamaskNotifications)()),await(0,c.setUserHasTurnedOffNotificationsOnce)()}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}},[e]),error:t}},n.useEnableNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{enableNotifications:(0,r.useCallback)(async()=>{n(null);try{await e((0,i.enableMetamaskNotifications)()),await(0,c.updateNotificationSubscriptionExpiration)()}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}},[e]),error:t}},n.useListNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null),[u,l]=(0,r.useState)(undefined);return{listNotifications:(0,r.useCallback)(async()=>{n(!0),c(null);const t=new URLSearchParams(window.location.search).get("previewToken");try{const n=await e((0,i.fetchAndUpdateMetamaskNotifications)(t??undefined));return l(n),n}catch(e){throw o.default.error(e),c(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1)}},[e]),notificationsData:u,isLoading:t,error:s}},n.useMarkNotificationAsRead=function(){const e=(0,a.useDispatch)();return{markNotificationAsRead:(0,r.useCallback)(async t=>{try{e((0,i.markMetamaskNotificationsAsRead)(t))}catch(e){throw o.default.error(e),e}},[e])}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../store/actions"),c=e("../../contexts/metamask-notifications/notification-storage-keys")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[6737,{"../../selectors/metamask-notifications/metamask-notifications":7540,"../../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountSettingsProps=function(e){const t=(0,a.useSelector)(c.getIsUpdatingMetamaskNotificationsAccount),n=(0,a.useSelector)(c.selectIsMetamaskNotificationsEnabled),s=function(){const e=(0,a.useDispatch)(),t=(0,r.useCallback)(async t=>{try{return await e((0,i.checkAccountsPresence)(t))}catch{return{}}},[]);return t}(),[o,u]=(0,r.useState)({}),[l,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),p=(0,r.useMemo)(()=>JSON.stringify(e),[e]),f=(0,r.useCallback)(async e=>{try{d(!0),h(null);const t=await s(e);u(t)}catch{h("Failed to get account settings")}finally{d(!1)}},[]);return(0,r.useEffect)(()=>{if(!n)return;const e=JSON.parse(p);f(e)},[p,s,n]),{data:o,initialLoading:l,error:m,accountsBeingUpdated:t,update:f}},n.useSwitchAccountNotificationsChange=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)(async(t,s)=>{n(null);try{s?await e((0,i.enableAccounts)(t)):await e((0,i.disableAccounts)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),n(t)}e((0,i.hideLoadingIndication)())},[e]),error:t}},n.useSwitchFeatureAnnouncementsChange=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)(async t=>{n(null);try{await e((0,i.setFeatureAnnouncementsEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t)}},[e]),error:t}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../store/actions"),c=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[6738,{"../../../shared/lib/snaps/snaps":5512,"../../selectors":7539,"../../selectors/accounts":7528,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHdKeyringsWithSnapAccounts=void 0;var s=e("react"),r=e("react-redux"),a=e("../../selectors/accounts"),o=e("../../selectors"),i=e("../../../shared/lib/snaps/snaps");n.useHdKeyringsWithSnapAccounts=()=>{const e=(0,r.useSelector)(o.getMetaMaskHdKeyrings),t=(0,r.useSelector)(a.getInternalAccounts);return(0,s.useMemo)(()=>e.map(e=>{const n=t.filter(t=>{var n;return t.metadata.snap&&(0,i.isSnapPreinstalled)(t.metadata.snap.id)&&(null===(n=t.options)||void 0===n?void 0:n.entropySource)===e.metadata.id}).map(e=>e.address);return{...e,accounts:[...e.accounts,...n]}}),[e,t])}}}},{package:"$root$",file:"ui/hooks/multi-srp/useHdKeyringsWithSnapAccounts.ts"}],[6739,{"../../components/app/assets/util/formatWithThreshold":5641,"../../ducks/locale/locale":6631,"../../ducks/metamask/metamask":6632,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayBalanceCalc=function(){const e=(0,s.useSelector)(o.getCurrentCurrency),t=(0,s.useSelector)(i.getIntlLocale);return(0,r.useCallback)((n=0,s=e)=>(0,a.formatWithThreshold)(n,.01,t,{style:"currency",currency:s}),[e,t])};var s=e("react-redux"),r=e("react"),a=e("../../components/app/assets/util/formatWithThreshold"),o=e("../../ducks/metamask/metamask"),i=e("../../ducks/locale/locale")}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useAccountBalance.ts"}],[6740,{"../../selectors/assets":7531,"./useAccountBalance":6739,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSingleWalletAccountsBalanceCallback=function(e){const t=(0,s.useMemo)(()=>(0,a.selectBalanceByWallet)(e),[e]),n=(0,r.useSelector)(t),i=(0,o.useDisplayBalanceCalc)();return(0,s.useCallback)(e=>{var t;const s=null===(t=n.groups)||void 0===t?void 0:t[e];if(!s)return undefined;return i(null==s?void 0:s.totalBalanceInUserCurrency,null==s?void 0:s.userCurrency)},[n,i])},n.useSingleWalletDisplayBalance=function(e){const t=(0,s.useMemo)(()=>(0,a.selectBalanceByWallet)(e),[e]),n=(0,r.useSelector)(t);return(0,o.useDisplayBalanceCalc)()(n.totalBalanceInUserCurrency,n.userCurrency)};var s=e("react"),r=e("react-redux"),a=e("../../selectors/assets"),o=e("./useAccountBalance")}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useWalletBalance.ts"}],[6741,{"../../ducks/metamask/metamask":6632,"../../selectors/multichain-accounts/account-tree":7543,"../multi-srp/useHdKeyringsWithSnapAccounts":6738,"./utils":6742,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useWalletInfo=void 0;var s=e("react"),r=e("react-redux"),a=e("../multi-srp/useHdKeyringsWithSnapAccounts"),o=e("../../selectors/multichain-accounts/account-tree"),i=e("../../ducks/metamask/metamask"),c=e("./utils");n.useWalletInfo=e=>{const t=(0,a.useHdKeyringsWithSnapAccounts)(),n=(0,r.useSelector)(i.getIsPrimarySeedPhraseBackedUp),u=(0,r.useSelector)(t=>(0,o.getMultichainAccountsByWalletId)(t,e)),l=Object.values(u??{});return(0,s.useMemo)(()=>{if(0===Object.entries(l||{}).length)return{multichainAccounts:l,keyringId:undefined};const s=t.findIndex(t=>t.metadata.id===(0,c.stripWalletTypePrefixFromWalletId)(e));if(-1===s)return{multichainAccounts:l,keyringId:undefined};const r=t[s],a=(null==r?void 0:r.metadata.id)??undefined,o=1===s+1?n:undefined;return{multichainAccounts:l,keyringId:a,isSRPBackedUp:o}},[l,t,n,e])}}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useWalletInfo.ts"}],[6743,{"../../../../shared/modules/selectors/networks":5547,"../../../selectors":7539,"@metamask/bridge-controller":1229,"@metamask/utils":2799,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.RampsMetaMaskEntry=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("@metamask/utils"),i=e("../../../../shared/modules/selectors/networks"),c=e("../../../selectors");let u=n.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});n.default=(e=u.BuySellButton)=>{const t=(0,r.useSelector)(i.getCurrentChainId),n=(0,r.useSelector)(c.getMetaMetricsId),l=(0,r.useSelector)(c.getParticipateInMetaMetrics),d=(0,r.useSelector)(c.getDataCollectionForMarketing),m=(0,s.useCallback)(t=>{try{const s=new URLSearchParams;s.set("metamaskEntry",e);let r="";r=(0,a.isSolanaChainId)(t)?t:(0,o.hexToNumber)(t).toString(),s.set("chainId",r),n&&s.set("metametricsId",n),s.set("metricsEnabled",String(l)),d&&s.set("marketingEnabled",String(d));const i=new URL("https://app.metamask.io");return i.pathname="buy",i.search=s.toString(),i.toString()}catch{return"https://app.metamask.io/buy"}},[d,l,n,e]);return{openBuyCryptoInPdapp:(0,s.useCallback)(e=>{const n=m(e||t);global.platform.openTab({url:n})},[t,m]),getBuyURI:m}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[6744,{"../../../shared/modules/conversion.utils":5529,"../../../shared/modules/hexstring-utils":5535,"../../selectors":7539,"../../selectors/multichain-accounts/account-tree":7543,"../../selectors/snaps":7560,"@metamask/utils":2799,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=void 0;var s=e("@metamask/utils"),r=e("react-redux"),a=e("../../selectors/snaps"),o=e("../../../shared/modules/hexstring-utils"),i=e("../../../shared/modules/conversion.utils"),c=e("../../selectors/multichain-accounts/account-tree"),u=e("../../selectors");n.useDisplayName=e=>{var t;const{address:n,chain:{namespace:l,reference:d}}=e,m=l===s.KnownCaipNamespace.Eip155,h=m?(0,o.toChecksumHexAddress)(n):n,p=(0,r.useSelector)(u.getIsMultichainAccountsState2Enabled),f=null===(t=(0,r.useSelector)(e=>(0,c.getAccountGroupsByAddress)(e,[h]))[0])||void 0===t?void 0:t.metadata.name,g=(0,r.useSelector)(e=>(0,a.getMemoizedAccountName)(e,h)),k=(0,r.useSelector)(e=>(0,a.getAddressBookEntryByNetwork)(e,h,`0x${(0,i.decimalToHex)(m?d:"0")}`));return p&&f||g||m&&(null==k?void 0:k.name)||undefined}}}},{package:"$root$",file:"ui/hooks/snaps/useDisplayName.ts"}],[6745,{"../../selectors":7539,"@metamask/snaps-sdk":2563,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useInsightSnaps=function(e){const t=(0,s.useSelector)(t=>(0,a.getSnapInsights)(t,e)),n=t?Object.values(t):[],o=n.filter(e=>e.severity===r.SeverityLevel.Critical);return{data:n,warnings:o}};var s=e("react-redux"),r=e("@metamask/snaps-sdk"),a=e("../../selectors")}}},{package:"$root$",file:"ui/hooks/snaps/useInsightSnaps.js"}],[6746,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=()=>{const e=(0,s.useRef)(null),[t,n]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{n(e.current&&e.current.offsetHeight<e.current.scrollHeight)},[e]),{contentRef:e,isOverflowing:t}}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[6747,{"../../store/actions":7565,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeWebsite=void 0;var s=e("react"),r=e("../../store/actions");n.useSafeWebsite=e=>{const[t,n]=(0,s.useState)();return(0,s.useEffect)(()=>{e&&(async()=>{(await(0,r.getPhishingResult)(e)).result||n(new URL(e))})()},[e]),t}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[6748,{"../../selectors":7539,"../../store/actions":7565,"@metamask/snaps-rpc-methods":2507,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNameResolution=function(){const e=(0,r.useSelector)(o.getNameLookupSnaps),t=(0,s.useCallback)((t,n)=>e.filter(({permission:e})=>{const s=(0,a.getChainIdsCaveat)(e);if(s&&!s.includes(t))return!1;const r=(0,a.getLookupMatchersCaveat)(e);if(r){const{tlds:e,schemes:t}=r;return(null==e?void 0:e.some(e=>n.endsWith(`.${e}`)))||(null==t?void 0:t.some(e=>n.startsWith(`${e}:`)))}return!0}).map(({id:e})=>e),[e]);return{fetchResolutions:(0,s.useCallback)(async(e,n)=>{const s=t(e,n);if(0===s.length)return[];return(await Promise.allSettled(s.map(t=>(0,i.handleSnapRequest)({snapId:t,origin:"metamask",handler:"onNameLookup",request:{jsonrpc:"2.0",method:" ",params:{chainId:e,domain:n}}})))).filter(e=>"fulfilled"===e.status&&e.value).flatMap(e=>e.value.resolvedAddresses)},[t])}};var s=e("react"),r=e("react-redux"),a=e("@metamask/snaps-rpc-methods"),o=e("../../selectors"),i=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNameResolution.ts"}],[6749,{"../../helpers/utils/util":6703,"@metamask/snaps-utils":2677,"react-router-dom-v5-compat":4924},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-router-dom-v5-compat"),r=e("@metamask/snaps-utils"),a=e("../../helpers/utils/util");n.default=()=>{const e=(0,s.useNavigate)();return{useSnapNavigate:t=>{let n;const s=(0,r.parseMetaMaskUrl)(t);n=s.snapId?(0,a.getSnapRoute)(s.snapId):s.path,e(n)}}}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNavigation.ts"}],[6750,{"../../store/actions":7565,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapSettings=function({snapId:e}){const t=(0,r.useDispatch)(),[n,o]=(0,s.useState)(!0),[i,c]=(0,s.useState)(undefined),[u,l]=(0,s.useState)(undefined);return(0,s.useEffect)(()=>{let n=!1;return e&&async function(e){try{l(undefined),o(!0);const s=await(0,a.handleSnapRequest)({snapId:e,origin:"metamask",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});n||(c(s),(0,a.forceUpdateMetamaskState)(t))}catch(e){n||l(e)}finally{n||o(!1)}}(e),()=>{n=!0}},[e]),{data:i,error:u,loading:n}};var s=e("react"),r=e("react-redux"),a=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[6751,{"../../selectors":7539,"../../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSyncSRPs=void 0;var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../store/actions"),c=e("../../selectors");n.useSyncSRPs=()=>{const e=(0,a.useDispatch)(),t=(0,a.useSelector)(c.getIsSocialLoginFlow),[n,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{if(t)try{s(!0),await e((0,i.syncSeedPhrases)())}catch(e){o.default.error("[useSyncSRPs] error",e)}finally{s(!1)}})()},[e,t]),{loading:n}}}}},{package:"$root$",file:"ui/hooks/social-sync/useSyncSRPs.ts"}],[6752,{"../../selectors/subscription":7561,"../../store/actions":7565,"../useAsync":6760,"@metamask/subscription-controller":2702,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserSubscriptions=n.useUserSubscriptionByProduct=n.useUpdateSubscriptionCardPaymentMethod=n.useUnCancelSubscription=n.useOpenGetSubscriptionBillingPortal=n.useCancelSubscription=void 0;var s=e("react-redux"),r=e("react"),a=e("@metamask/subscription-controller"),o=e("../../selectors/subscription"),i=e("../../store/actions"),c=e("../useAsync");n.useUserSubscriptions=()=>{const e=(0,s.useDispatch)(),{customerId:t,subscriptions:n,trialedProducts:r}=(0,s.useSelector)(o.getUserSubscriptions),a=(0,c.useAsyncResult)(async()=>await e((0,i.getSubscriptions)()),[e]);return{customerId:t,subscriptions:n,trialedProducts:r,loading:a.pending,error:a.error}};n.useUserSubscriptionByProduct=(e,t)=>(0,r.useMemo)(()=>null==t?void 0:t.find(t=>t.products.some(t=>t.name===e)),[t,e]);n.useCancelSubscription=({subscriptionId:e})=>{const t=(0,s.useDispatch)();return(0,c.useAsyncCallback)(async()=>{e&&await t((0,i.cancelSubscription)({subscriptionId:e}))},[t,e])};n.useUnCancelSubscription=({subscriptionId:e})=>{const t=(0,s.useDispatch)();return(0,c.useAsyncCallback)(async()=>{e&&await t((0,i.unCancelSubscription)({subscriptionId:e}))},[t,e])};n.useOpenGetSubscriptionBillingPortal=()=>{const e=(0,s.useDispatch)();return(0,c.useAsyncCallback)(async()=>{const{url:t}=await e((0,i.getSubscriptionBillingPortalUrl)());return await platform.openTab({url:t})},[e])};n.useUpdateSubscriptionCardPaymentMethod=({subscriptionId:e,recurringInterval:t})=>{const n=(0,s.useDispatch)();return(0,c.useAsyncCallback)(async()=>{if(!e||!t)throw new Error("Subscription ID and recurring interval are required");await n((0,i.updateSubscriptionCardPaymentMethod)({subscriptionId:e,paymentType:a.PAYMENT_TYPES.byCard,recurringInterval:t}))},[n,e,t])}}}},{package:"$root$",file:"ui/hooks/subscription/useSubscription.ts"}],[6753,{"../../../shared/constants/transaction":5451,"../../selectors":7539,"../../selectors/assets":7531,"../../selectors/subscription":7561,"../../store/actions":7565,"../useTokenBalances":6806,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSubscriptionProductPlans=n.useSubscriptionPricing=n.useSubscriptionPaymentMethods=n.useAvailableTokenBalances=void 0;var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../selectors/subscription"),c=e("../../store/actions"),u=e("../../selectors"),l=e("../../selectors/assets"),d=e("../useTokenBalances"),m=e("../../../shared/constants/transaction");n.useAvailableTokenBalances=e=>{const{paymentChains:t,price:n,productType:s}=e,i=(0,r.useMemo)(()=>null==t?void 0:t.map(e=>e.chainId),[t]),h=(0,r.useMemo)(()=>null==t?void 0:t.reduce((e,t)=>(e[t.chainId]=t.tokens,e),{}),[t]),p=(0,a.useSelector)(u.getSelectedAccount),f=(0,a.useSelector)(e=>(0,l.getTokenBalancesEvm)(e,p.address));(0,d.useTokenBalances)({chainIds:i});const[g,k]=(0,r.useState)([]),T=(0,r.useMemo)(()=>f.filter(e=>{const t=null==h?void 0:h[e.chainId];if(!Boolean(t))return!1;if(!(null==t?void 0:t.some(t=>t.address.toLowerCase()===e.address.toLowerCase())))return!1;return!!(e.balance&&parseFloat(e.balance)>0)}),[f,h]);return(0,r.useEffect)(()=>{if(!n||!h)return;(async()=>{const e=[];(await Promise.all(T.map(e=>{var t;return(null==h||null===(t=h[e.chainId])||void 0===t?void 0:t.find(t=>t.address.toLowerCase()===e.address.toLowerCase()))?(0,c.getSubscriptionCryptoApprovalAmount)({chainId:e.chainId,paymentTokenAddress:e.address,productType:s,interval:n.interval}):(o.default.error("[useAvailableTokenBalances] tokenPaymentInfo not found",e),null)}))).forEach((t,n)=>{const s=T[n];t&&e.push({...s,approvalAmount:t,type:s.isNative?m.AssetType.native:m.AssetType.token})}),k(e)})()},[n,s,h,T]),g};n.useSubscriptionPricing=()=>{const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.getSubscriptionPricing),[n,s]=(0,r.useState)(!1),[u,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{s(!0),await e((0,c.getSubscriptionPricing)())}catch(e){o.default.error("[useSubscriptionPricing] error",e),l(e)}finally{s(!1)}})()},[e]),{subscriptionPricing:t,loading:n,error:u}};n.useSubscriptionProductPlans=(e,t)=>(0,r.useMemo)(()=>{var n;return null==t||null===(n=t.products.find(t=>t.name===e))||void 0===n?void 0:n.prices},[t,e]);n.useSubscriptionPaymentMethods=(e,t)=>(0,r.useMemo)(()=>null==t?void 0:t.paymentMethods.find(t=>t.type===e),[t,e])}}},{package:"$root$",file:"ui/hooks/subscription/useSubscriptionPricing.ts"}],[6754,{"../../shared/lib/multichain/scope-utils":5507,"../selectors/multichain-accounts/account-tree":7543,"@metamask/chain-agnostic-permission":1281,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountGroupsForPermissions=n.supportsNamespaces=n.supportsChainIds=n.hasRequestedAccountIds=void 0;var s=e("react-redux"),r=e("@metamask/chain-agnostic-permission"),a=e("react"),o=e("../selectors/multichain-accounts/account-tree"),i=e("../../shared/lib/multichain/scope-utils");const c=(e,t)=>e.accounts.some(e=>(0,i.hasChainIdSupport)(e.scopes,t));n.supportsChainIds=c;const u=(e,t)=>e.accounts.some(e=>(0,i.hasNamespaceSupport)(e.scopes,t));n.supportsNamespaces=u;const l=(e,t)=>e.accounts.some(e=>{try{return(0,r.isInternalAccountInPermittedAccountIds)(e,t)}catch{return!1}});n.hasRequestedAccountIds=l;n.useAccountGroupsForPermissions=(e,t,n,d)=>{const m=(0,s.useSelector)(o.getSelectedAccountGroup),h=(0,s.useSelector)(o.getAccountGroupWithInternalAccounts),p=(0,a.useMemo)(()=>{const s=h.find(e=>e.id===m),a=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(e),o=new Set(d);let p=h;s&&(p=Array.from(new Set([s,...h])));const f=e=>((e,t)=>e.accounts.some(e=>{try{return(0,r.isInternalAccountInPermittedAccountIds)(e,t)}catch{return!1}}))(e,a),g=e=>n.length>0?c(e,n):u(e,o),k=e=>l(e,t),T=p.filter(f),v=p.filter(e=>g(e)&&!k(e)),y=p.filter(e=>f(e)&&k(e)),S=p.filter(e=>g(e)&&k(e)),b=p.filter(e=>f(e)||k(e)),w=Array.from(new Set([...(0,i.getCaip25AccountIdsFromAccountGroupAndScope)(b,n)])),I=S.length>0,_=v.length>0;let C=[];if(!I&&_){const e=s&&(n.length>0?c(s,n):u(s,o))?s:v[0];e&&(C=[e])}const A=new Set([...S,...C]);return{selectedAndRequestedAccountGroups:Array.from(A),supportedAccountGroups:Array.from(new Set([...S,...v])),connectedAccountGroups:Array.from(new Set([...y,...T])),connectedCaipAccountIds:a,connectedAccountGroupWithRequested:Array.from(new Set(b)),caipAccountIdsOfConnectedAndRequestedAccountGroups:w}},[h,e,d,n,m,t]);return{connectedAccountGroups:p.connectedAccountGroups,supportedAccountGroups:p.supportedAccountGroups,existingConnectedCaipAccountIds:p.connectedCaipAccountIds,connectedAccountGroupWithRequested:p.connectedAccountGroupWithRequested,caipAccountIdsOfConnectedAndRequestedAccountGroups:p.caipAccountIdsOfConnectedAndRequestedAccountGroups,selectedAndRequestedAccountGroups:p.selectedAndRequestedAccountGroups}}}}},{package:"$root$",file:"ui/hooks/useAccountGroupsForPermissions.ts"}],[6755,{"../../shared/constants/network":5433,"../../shared/modules/conversion.utils":5529,"../../shared/modules/selectors/networks":5547,"../ducks/metamask/metamask":6632,"../helpers/utils/token-util":6699,"../selectors":7539,"ethereumjs-util":4019,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalCrossChainFiatBalance=void 0;var s=e("react-redux"),r=e("ethereumjs-util"),a=e("react"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),l=e("../../shared/modules/selectors/networks"),d=e("../../shared/constants/network");n.useAccountTotalCrossChainFiatBalance=(e,t)=>{const n=(0,s.useSelector)(l.getNetworkConfigurationsByChainId),m=(0,s.useSelector)(i.getEnabledNetworks),h=(0,a.useMemo)(()=>Object.assign({},...Object.values(m??{})),[m]),p=(0,s.useSelector)(o.getCurrencyRates),f=(0,s.useSelector)(o.getCurrentCurrency),g=(0,s.useSelector)(i.getCrossChainTokenExchangeRates,s.shallowEqual),k=(0,s.useSelector)(i.getCrossChainMetaMaskCachedBalances),T=(0,a.useMemo)(()=>({...g}),[g]),v=(0,a.useMemo)(()=>t.map(e=>Object.keys(h).includes(e.chainId.toString())?e:null).filter(e=>null!==e),[t,h]),y=(0,a.useMemo)(()=>v.map(t=>{var s,a;const{tokensWithBalances:o}=t,i=d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[t.chainId]??n[t.chainId].nativeCurrency,l=null==p||null===(s=p[i])||void 0===s?void 0:s.conversionRate,m=o.map(e=>{var n;const s=null==T||null===(n=T[t.chainId])||void 0===n?void 0:n[(0,r.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(s,l,f,e.string,e.symbol,!1,!1)}),h=(null==k||null===(a=k[t.chainId])||void 0===a?void 0:a[null==e?void 0:e.address])??0,g=(0,c.getValueFromWeiHex)({value:h,toCurrency:f,conversionRate:l,numberOfDecimals:2});return{...t,tokenFiatBalances:m,nativeFiatValue:g}}),[v,n,p,T,k,null==e?void 0:e.address,f]);return{totalFiatBalance:(0,a.useMemo)(()=>y.reduce((e,t)=>{const n=t.tokenFiatBalances.filter(e=>e!==undefined),s=(0,c.sumDecimals)(t.nativeFiatValue,...n);return e+(s.toNumber?s.toNumber():Number(s))},0),[y]).toString(10),tokenFiatBalancesCrossChains:y}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[6756,{"../../shared/modules/conversion.utils":5529,"../../shared/modules/selectors/networks":5547,"../ducks/metamask/metamask":6632,"../helpers/utils/confirm-tx.util":6672,"../helpers/utils/token-util":6699,"../helpers/utils/util":6703,"../selectors":7539,"./useTokenBalances":6806,"ethereumjs-util":4019,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var s=e("react-redux"),r=e("ethereumjs-util"),a=e("react"),o=e("../../shared/modules/selectors/networks"),i=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),l=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),h=e("./useTokenBalances");n.useAccountTotalFiatBalance=(e,t)=>{const n=(0,s.useSelector)(o.getCurrentChainId),p=(0,s.useSelector)(u.getConversionRate),f=(0,s.useSelector)(u.getCurrentCurrency),g=(0,s.useSelector)(i.getTokenExchangeRates,s.shallowEqual),k=(0,s.useSelector)(i.getConfirmationExchangeRates),T=(0,s.useSelector)(i.getMetaMaskCachedBalances),v=(null==T?void 0:T[null==e?void 0:e.address])??0,y=(0,c.getValueFromWeiHex)({value:v,toCurrency:f,conversionRate:p,numberOfDecimals:2}),S=(0,s.useSelector)(i.getAllTokens),b=(0,a.useMemo)(()=>{var t;return(null==S||null===(t=S[n])||void 0===t?void 0:t[null==e?void 0:e.address])??[]},[null==e?void 0:e.address,n,S]),w=(0,s.useSelector)(i.getTokenList),I=(0,s.useSelector)(i.getNativeCurrencyImage),_=(0,s.useSelector)(u.getNativeCurrency),{tokensWithBalances:C}=(0,h.useTokenTracker)({chainId:n,tokens:b,address:null==e?void 0:e.address,hideZeroBalanceTokens:t}),A=(0,a.useMemo)(()=>({...g,...k}),[k,g]),E=(0,a.useMemo)(()=>C.map(e=>{const t=A[(0,r.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,p,f,e.string,e.symbol,!1,!1)}),[C,A,p,f]),N=(0,a.useMemo)(()=>((e,t)=>{const n=[];return t.forEach(t=>{const s=null==e?void 0:e[t.address.toLowerCase()];s&&n.push({...s,balance:t.balance,string:t.string,balanceError:t.balanceError})}),n})(w,C),[w,C]),M=(0,a.useMemo)(()=>[{iconUrl:I,symbol:_,fiatBalance:y},...N.map((e,t)=>({...e,fiatBalance:E[t]}))],[N,E,I,_,y]),P=(0,a.useMemo)(()=>M.sort((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)),[M]),O=(0,c.sumDecimals)(y,...E).toString(10),R=(0,a.useMemo)(()=>(C.forEach(e=>{e.string=(0,m.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=A[(0,r.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,p,f,e.string,e.symbol,!1,!1)||"0"}),C),[C,A,p,f]),D=(0,l.formatCurrency)(O,f);let x=(0,c.getWeiHexFromDecimalValue)({value:O,fromCurrency:f,conversionRate:p,invertConversionRate:!0});return"NaN"===x&&(x="0x0"),{formattedFiat:D,totalWeiBalance:x,totalFiatBalance:O,tokensWithBalances:R,loading:!1,orderedTokenList:P,mergedRates:A}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[6757,{"../ducks/metamask/metamask":6632,"../selectors":7539,"../selectors/selectors":7555,"../store/actions":7565,"./useMultiPolling":6782,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),c=e("../selectors/selectors"),u=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getNetworkClientIdsToPoll),t=(0,r.useSelector)(i.getCompletedOnboarding),n=(0,r.useSelector)(i.getIsUnlocked),s=(0,r.useSelector)(a.getEnabledNetworkClientIds),l=t&&n,d=c.isGlobalNetworkSelectorRemoved?s:e;(0,u.default)({startPolling:o.accountTrackerStartPolling,stopPollingByPollingToken:o.accountTrackerStopPollingByPollingToken,input:l?d:[]})}}}},{package:"$root$",file:"ui/hooks/useAccountTrackerPolling.ts"}],[6758,{"../ducks/confirm-alerts/confirm-alerts":6624,"../helpers/constants/design-system":6645,"../selectors/alerts":7529,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-redux"),r=e("react"),a=e("../selectors/alerts"),o=e("../ducks/confirm-alerts/confirm-alerts"),i=e("../helpers/constants/design-system");function c(e){const t={[i.Severity.Danger]:3,[i.Severity.Warning]:2,[i.Severity.Info]:1};return e.sort((e,n)=>t[n.severity]-t[e.severity])}n.default=e=>{const t=(0,s.useDispatch)(),n=c((0,s.useSelector)(t=>(0,a.selectAlerts)(t,e))),u=(0,s.useSelector)(t=>(0,a.selectConfirmedAlertKeys)(t,e)),l=c((0,s.useSelector)(t=>(0,a.selectGeneralAlerts)(t,e))),d=c((0,s.useSelector)(t=>(0,a.selectFieldAlerts)(t,e))),m=(0,r.useCallback)(e=>e?n.filter(t=>t.field===e):[],[n]),h=(0,r.useCallback)((n,s)=>{t((0,o.setAlertConfirmed)(e,n,s))},[t,o.setAlertConfirmed,e]),p=(0,r.useCallback)(e=>u.includes(e),[u]),f=n.filter(e=>!p(e.key)&&e.severity===i.Severity.Danger),g=n.length>0,k=n.filter(e=>e.severity===i.Severity.Danger),T=f.length>0,v=d.filter(e=>!p(e.key)&&e.severity===i.Severity.Danger);return{alerts:n,fieldAlerts:d,generalAlerts:l,getFieldAlerts:m,hasAlerts:g,dangerAlerts:k,hasDangerAlerts:(null==k?void 0:k.length)>0,hasUnconfirmedDangerAlerts:T,isAlertConfirmed:p,setAlertConfirmed:h,unconfirmedDangerAlerts:f,unconfirmedFieldDangerAlerts:v,hasUnconfirmedFieldDangerAlerts:v.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[6759,{"../selectors":7539,"../store/actions":7565,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAssetsUpdateAllAccountBalances=n.default=void 0;var s=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../store/actions");const i=()=>{const e=(0,r.useSelector)(a.getEnabledChainIds),t=(0,r.useDispatch)(),n=(0,s.useCallback)(async()=>{try{e.length>0&&await t((0,o.updateBalancesFoAccounts)(e,!0))}catch(e){console.warn("Error updating balances state for all accounts",e)}},[e,t]);return(0,s.useEffect)(()=>{0!==e.length&&n()},[e,n]),{updateBalances:n}};n.useAssetsUpdateAllAccountBalances=i;n.default=i}}},{package:"$root$",file:"ui/hooks/useAssetsUpdateAllAccountBalances.ts"}],[6760,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RESULT_PENDING=n.RESULT_IDLE=n.RESULT_BASE=void 0,n.createErrorResult=c,n.createSuccessResult=i,n.useAsyncCallback=u,n.useAsyncResult=l,n.useAsyncResultOrThrow=function(e,t=[]){const n=l(e,t);if("error"===n.status)throw n.error;return n};var s=e("react");const r=n.RESULT_BASE={idle:!1,pending:!1,value:undefined,error:undefined},a=n.RESULT_IDLE={...r,status:"idle",idle:!0},o=n.RESULT_PENDING={...r,status:"pending",pending:!0};function i(e){return{...r,status:"success",value:e}}function c(e){return{...r,status:"error",error:e}}function u(e,t=[]){const[n,r]=(0,s.useState)(a),u=(0,s.useRef)(!0);(0,s.useEffect)(()=>()=>{u.current=!1},[]);return[(0,s.useCallback)(async()=>{if(u.current){r(o);try{const t=await e();u.current&&r(i(t))}catch(e){u.current&&r(c(e))}}},t),n]}function l(e,t=[]){const[n,r]=u(e,t);return(0,s.useEffect)(()=>{n()},[n]),"idle"===r.status?o:r}}}},{package:"$root$",file:"ui/hooks/useAsync.ts"}],[6761,{"../../../package.json":5410,"../../../shared/modules/environment":5530,semver:5252},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchCarouselSlidesFromContentful=async function(){var e;const{accessToken:t,domain:n,environment:s,spaceId:r}=c();if(!r||!t)return{prioritySlides:[],regularSlides:[]};const a=new URL(`https://${n}/spaces/${r}/environments/${s}/entries`);a.searchParams.set("access_token",t),a.searchParams.set("content_type",i),a.searchParams.set("fields.showInExtension","true");const o=await fetch(a).then(e=>e.json()),l=(null===(e=o.includes)||void 0===e?void 0:e.Asset)||[],d=e=>{var t;const n=l.find(t=>{var n;return t.sys.id===(null==e||null===(n=e.sys)||void 0===n?void 0:n.id)}),s=(null==n||null===(t=n.fields)||void 0===t||null===(t=t.file)||void 0===t?void 0:t.url)||"";return s.startsWith("//")?`https:${s}`:s},m=[],h=[];for(const e of o.items){const{headline:t,teaser:n,image:s,linkUrl:r,undismissable:a,startDate:o,endDate:i,priorityPlacement:c,variableName:l,cardPlacement:p,extensionMinimumVersionNumber:f}=e.fields,g={id:`contentful-${e.sys.id}`,title:t,description:n,image:d(s),href:r,undismissable:a,dismissed:!1,startDate:o,endDate:i,priorityPlacement:c,variableName:l,cardPlacement:p};u(f)&&(c?m.push(g):h.push(g))}return{prioritySlides:m,regularSlides:h}},n.getContentfulEnvironmentDetails=void 0;var s=a(e("semver")),r=e("../../../shared/modules/environment");function a(e){return e&&e.__esModule?e:{default:e}}const o=a(e("../../../package.json")).default.version,i="promotionalBanner",c=()=>{const e="jdkgyfmyd9sw",t="mAYNB_k65snv4AXW4o8ksZN8BwWDQF9702HKV7yBDZI",n=new URLSearchParams(window.location.search).get("previewToken");if(n)return{environment:"master",domain:"preview.contentful.com",accessToken:n,spaceId:e};return(0,r.isProduction)()?{environment:"master",domain:"cdn.contentful.com",accessToken:t,spaceId:e}:{environment:"dev",domain:"preview.contentful.com",accessToken:t,spaceId:e}};function u(e){if(!e)return!0;try{return s.default.gte(o,e)}catch{return!1}}n.getContentfulEnvironmentDetails=c}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/fetchCarouselSlidesFromContentful.ts"}],[6762,{"./useCarouselManagement":6763},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./useCarouselManagement");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/index.ts"}],[6763,{"../../selectors":7539,"../../store/actions":7565,"./fetchCarouselSlidesFromContentful":6761,"@metamask/profile-sync-controller/sdk":2318,"bignumber.js":3648,lodash:4534,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isActive=h,n.useCarouselManagement=void 0;var s,r=e("lodash"),a=e("react"),o=e("react-redux"),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},c=e("bignumber.js"),u=e("@metamask/profile-sync-controller/sdk"),l=e("../../store/actions"),d=e("../../selectors"),m=e("./fetchCarouselSlidesFromContentful");function h(e,t=new Date){const n=e.startDate?new Date(e.startDate):null,s=e.endDate?new Date(e.endDate):null;return!(n&&t<n)&&!(s&&t>s)}n.useCarouselManagement=({testDate:e,enabled:t=!0}={})=>{const n=Boolean(!1),s=(0,o.useDispatch)(),p=(0,o.useSelector)(d.getSlides),f=(0,o.useSelector)(d.getRemoteFeatureFlags),g=(0,o.useSelector)(d.getSelectedAccountCachedBalance),k=(0,o.useSelector)(d.getSelectedInternalAccount),T=(0,o.useSelector)(d.getUseExternalServices),v=(0,o.useSelector)(d.getShowDownloadMobileAppSlide),y=(0,a.useRef)(),S=new c.BigNumber(g??"0x0").eq("0x0");return(0,a.useEffect)(()=>{if(!t){const e=[];return void((0,r.isEqual)(y.current,e)||(s((0,l.updateSlides)(e)),y.current=e))}const n=async()=>{const t=(null==f?void 0:f.contentfulCarouselEnabled)??!1;if(!t){const e=[];return void((0,r.isEqual)(y.current,e)||(s((0,l.updateSlides)(e)),y.current=e))}if(t)try{const{prioritySlides:t,regularSlides:n}=await(0,m.fetchCarouselSlidesFromContentful)(),a=[...t],o=[...n],i=t=>h(t,e?new Date(e):new Date),c=e=>e.map(e=>((e,t)=>{if(!e)return undefined;const n=t.find(t=>t.id===e.id);return{...e,dismissed:(null==n?void 0:n.dismissed)??!1,undismissable:e.undismissable||(null==n?void 0:n.undismissable)||!1}})(e,p)).filter(e=>Boolean(e)).filter(i),d=e=>"fund"===e.variableName?{...e,undismissable:S||e.undismissable}:e,f=await(async e=>{if(!T||!v)return!1;const t=await(0,l.getUserProfileLineage)();return!Boolean(null==t||null===(e=t.lineage)||void 0===e?void 0:e.some(e=>e.agent===u.Platform.MOBILE))})(),g=e=>"downloadMobileApp"!==e.variableName||f,k=c(a).map(d).filter(g),b=function(e){const t=[],n=[];for(const s of e){const e=s.cardPlacement,r="string"==typeof e?Number(e):e;if("number"==typeof r&&Number.isFinite(r)){const e=Math.max(0,Math.floor(r)-1);e>=t.length&&(t.length=e+1),t[e]=s}else n.push(s)}let s=0;for(let e=0;e<t.length&&s<n.length;e++)t[e]||(t[e]=n[s],s+=1);for(;s<n.length;)t.push(n[s]),s+=1;return t.filter(Boolean)}(c(o).map(d).filter(g)),w=[...k,...b];(0,r.isEqual)(y.current,w)||(s((0,l.updateSlides)(w)),y.current=w)}catch(e){i.default.warn("Failed to fetch Contentful slides:",e),(0,r.isEqual)(y.current,[])||(s((0,l.updateSlides)([])),y.current=[])}};(async()=>{try{await n()}catch(e){i.default.warn("Failed to load carousel slides:",e)}})()},[t,s,S,f,e,n,p,k.address,T,v]),{slides:p}}}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/useCarouselManagement.ts"}],[6764,{"../../shared/constants/copy":5419,"../../shared/constants/time":5449,"./useTimeout":6805,"copy-to-clipboard":3829,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=u,t={expireClipboard:!0}){const[n,s]=(0,r.useState)(!1),o=(0,c.useTimeout)(()=>{!0===n&&(t.expireClipboard&&(0,a.default)(" ",i.COPY_OPTIONS),s(!1))},e,!1),l=(0,r.useCallback)(e=>{s(!0),o(),(0,a.default)(e,i.COPY_OPTIONS)},[o]),d=(0,r.useCallback)(()=>{s(!1)},[]);return[n,l,d]};var s,r=e("react"),a=(s=e("copy-to-clipboard"))&&s.__esModule?s:{default:s},o=e("../../shared/constants/time"),i=e("../../shared/constants/copy"),c=e("./useTimeout");const u=o.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[6765,{"../../shared/constants/common":5418,"../../shared/constants/network":5433,"../../shared/modules/Numeric":5524,"../../shared/modules/conversion.utils":5529,"../ducks/metamask/metamask":6632,"../helpers/utils/confirm-tx.util":6672,"../helpers/utils/token-util":6699,"../selectors/multichain":7548,"./useFormatters":6773,"./useMultichainSelector":6787,"@metamask/multichain-network-controller":2095,"bignumber.js":3648,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MIN_AMOUNT=n.DEFAULT_PRECISION=void 0,n.useCurrencyDisplay=function(e,{account:t,displayValue:n,prefix:s,numberOfDecimals:a,denomination:k,currency:y,isAggregatedFiatOverviewBalance:S,...b},w=null){const{formatCurrency:I}=(0,f.useFormatters)(),_=(0,g.useMultichainSelector)(c.getMultichainIsEvm,t),C=(0,g.useMultichainSelector)(c.getMultichainCurrentCurrency,t),A=(0,g.useMultichainSelector)(c.getMultichainNativeCurrency,t),E=(0,g.useMultichainSelector)(c.getMultichainConversionRate,t),N=(0,g.useMultichainSelector)(p.getCurrencyRates,t),M=y===C,P=y===A||y===l.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[w],O=(0,r.useMemo)(()=>{if(n)return n;var t;if(!_&&!S)return function({tokenSymbol:e,isNativeCurrency:t,isUserPreferredCurrency:n,currency:s,currentCurrency:r,nativeCurrency:a,inputValue:o,conversionRate:c}){if(t||!n&&!a)return new d.Numeric(o,10).toString();if(n&&c){const t=(0,h.getTokenFiatAmount)(1,Number(c),r,o,e,!1,!1)??"0";return(0,i.formatCurrency)(t,s)}return null}({tokenSymbol:A,isNativeCurrency:P,isUserPreferredCurrency:M,currency:y,currentCurrency:C,nativeCurrency:A,inputValue:e,conversionRate:w?null==N||null===(t=N[l.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[w]])||void 0===t?void 0:t.conversionRate:E});if(S)return I(e,y);if(!P&&M&&E){const t=(0,u.getValueFromWeiHex)({value:e,fromCurrency:A,toCurrency:y,conversionRate:E,numberOfDecimals:a||2,toDenomination:k});return I(t,y)}return function({isNativeCurrency:e,isUserPreferredCurrency:t,nativeCurrency:n,inputValue:s,denomination:r,numberOfDecimals:a}){if(e||!t&&!n){const e=new d.Numeric(s,16,m.EtherDenomination.WEI).toDenomination(r||m.EtherDenomination.ETH).round(a||v).toBase(10).toString();return"0"===e&&s&&0!==Number(s)?T:e}return null}({isNativeCurrency:P,isUserPreferredCurrency:M,nativeCurrency:A,inputValue:e,denomination:k,numberOfDecimals:a})},[n,_,P,M,y,A,e,E,k,a,C,S,w,N,I]);let R;const D=S||!P;if(!b.hideLabel&&!D){const e=[...Object.values(l.TEST_NETWORK_TICKER_MAP),...Object.values(o.MULTICHAIN_NETWORK_TICKER)].includes(y)?y:null==y?void 0:y.toUpperCase();R=b.suffix||e}return[`${s||""}${O}${R?` ${R}`:""}`,{prefix:s,value:O,suffix:R}]};var s,r=e("react"),a=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},o=e("@metamask/multichain-network-controller"),i=e("../helpers/utils/confirm-tx.util"),c=e("../selectors/multichain"),u=e("../../shared/modules/conversion.utils"),l=e("../../shared/constants/network"),d=e("../../shared/modules/Numeric"),m=e("../../shared/constants/common"),h=e("../helpers/utils/token-util"),p=e("../ducks/metamask/metamask"),f=e("./useFormatters"),g=e("./useMultichainSelector");const k=n.MIN_AMOUNT=1e-6,T=`<${k}`,v=n.DEFAULT_PRECISION=new a.default(k).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[6766,{"../../shared/modules/selectors/networks":5547,"../ducks/metamask/metamask":6632,"../helpers/utils/isOriginalNativeTokenSymbol":6682,"../selectors":7539,"../selectors/multichain/networks":7549,"../selectors/selectors":7555,"../store/actions":7565,"./usePolling":6797,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react"),a=e("react-redux"),o=e("../selectors"),i=e("../selectors/multichain/networks"),c=e("../store/actions"),u=e("../ducks/metamask/metamask"),l=e("../selectors/selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../helpers/utils/isOriginalNativeTokenSymbol"),h=(s=e("./usePolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(()=>{const e=(0,a.useSelector)(u.getCompletedOnboarding),t=(0,a.useSelector)(u.getIsUnlocked),n=(0,a.useSelector)(o.getUseCurrencyRateCheck);return e&&t&&n})(),t=(e=>{const t=(0,a.useSelector)(d.getNetworkConfigurationsByChainId),n=(0,a.useSelector)(o.useSafeChainsListValidationSelector),[s,c]=(0,r.useState)([]),u=(0,a.useSelector)(o.getChainIdsToPoll),h=(0,a.useSelector)(i.getEnabledChainIds),p=l.isGlobalNetworkSelectorRemoved?h:u;return(0,r.useEffect)(()=>{(async()=>{const s=(await Promise.all(Object.values(t).map(async t=>{const s=await(0,m.getOriginalNativeTokenSymbol)({chainId:t.chainId,useAPICall:n&&e});return p.includes(t.chainId)?s??t.nativeCurrency:null}))).filter(e=>null!==e),r=[...new Set(s)];c(r)})()},[u,e,t,p,n]),s})(e),n=e&&t.length>0;(0,h.default)({startPolling:c.currencyRateStartPolling,stopPollingByPollingToken:c.currencyRateStopPollingByPollingToken,input:t,enabled:n})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[6767,{"../../shared/constants/swaps":5447,"../../shared/modules/selectors/networks":5547,"../../shared/modules/string-utils":5551,"../ducks/metamask/metamask":6632,"../helpers/constants/routes":6650,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,l=(0,s.useSelector)(a.getTokens),d=n&&l.find(({address:e})=>(0,u.isEqualCaseInsensitive)(e,n)),m=(0,s.useSelector)(o.getCurrentChainId);return d??(c.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[m]||c.ETH_SWAPS_TOKEN_OBJECT)};var s=e("react-redux"),r=e("react-router-dom"),a=e("../ducks/metamask/metamask"),o=e("../../shared/modules/selectors/networks"),i=e("../helpers/constants/routes"),c=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[6768,{"../../shared/constants/first-party-contracts":5422,"../../shared/modules/hexstring-utils":5535,"../ducks/domains":6626,"../helpers/utils/trust-signals":6701,"../pages/confirmations/selectors/accounts":7246,"../selectors":7539,"../selectors/multichain-accounts/account-tree":7543,"../selectors/nft":7550,"./useName":6789,"./useNftCollectionsMetadata":6791,"./useTrustSignals":6817,"@metamask/name-controller":2156,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=function(e){return k([e])[0]},n.useDisplayNames=k;var s=e("@metamask/name-controller"),r=e("react-redux"),a=e("react"),o=e("../../shared/constants/first-party-contracts"),i=e("../../shared/modules/hexstring-utils"),c=e("../ducks/domains"),u=e("../selectors"),l=e("../selectors/nft"),d=e("../helpers/utils/trust-signals"),m=e("../pages/confirmations/selectors/accounts"),h=e("../selectors/multichain-accounts/account-tree"),p=e("./useName"),f=e("./useNftCollectionsMetadata"),g=e("./useTrustSignals");function k(e){const t=(0,p.useNames)(e),n=e.map(({type:e,value:t,variation:n})=>{if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const r=t.toLowerCase();return Object.keys(o.FIRST_PARTY_CONTRACT_NAMES).find(e=>{var t;const s=null===(t=o.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t?void 0:t[n];return(null==s?void 0:s.toLowerCase())===r})});const k=(0,g.useTrustSignals)(e),T=function(e){const t=(0,r.useSelector)(u.selectERC20TokensByChain);return e.map(({preferContractSymbol:e,type:n,value:r,variation:a})=>{var o;if(n!==s.NameType.ETHEREUM_ADDRESS)return undefined;const i=r.toLowerCase(),{iconUrl:c,name:u,symbol:l}=(null==t||null===(o=t[a])||void 0===o||null===(o=o.data)||void 0===o?void 0:o[i])??{};return{name:e&&l?l:u,image:c}})}(e),v=function(e){const t=(0,r.useSelector)(l.getNftContractsByAddressByChain);return e.map(({type:e,value:n,variation:r})=>{var a;if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const o=n.toLowerCase(),i=t[r];return null==i||null===(a=i[o])||void 0===a?void 0:a.name})}(e),y=function(e){const t=e.filter(({type:e})=>e===s.NameType.ETHEREUM_ADDRESS).map(({value:e,variation:t})=>({chainId:t,contractAddress:e})),n=(0,f.useNftCollectionsMetadata)(t);return e.map(({type:e,value:t,variation:r})=>{var a;if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const o=null===(a=n[r])||void 0===a?void 0:a[t.toLowerCase()],i=!1!==(null==o?void 0:o.isSpam);if(!o||i)return undefined;const{name:c,image:u}=o;return{name:c,image:u}})}(e),S=function(e){const t=(0,r.useSelector)(c.getDomainResolutions);return e.map(({type:e,value:n})=>{if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const r=null==t?void 0:t.find(e=>(0,i.toChecksumHexAddress)(e.resolvedAddress)===(0,i.toChecksumHexAddress)(n));return null==r?void 0:r.domainName})}(e),b=function(e,t){const n=(0,r.useSelector)(u.getIsMultichainAccountsState2Enabled),o=(0,r.useSelector)(h.getAccountTree),{wallets:i}=o??{},c=(0,a.useMemo)(()=>Object.keys(i).length>1,[i]),l=(0,a.useMemo)(()=>e.map(({type:e,value:t},n)=>({address:e===s.NameType.ETHEREUM_ADDRESS?t:null,originalIndex:n})).filter(e=>null!==e.address),[e]),d=(0,r.useSelector)(e=>{const t={};return l.forEach(({address:n})=>{if(n){const s=(0,m.selectAccountGroupNameByInternalAccount)(e,n),r=(0,h.getWalletIdAndNameByAccountAddress)(e,n),a=(null==r?void 0:r.name)||null;t[n]={accountGroupName:s,walletName:a}}}),t});return(0,a.useMemo)(()=>e.map(({type:e,value:r},a)=>{const o=t[a],i=(null==d?void 0:d[r])||{accountGroupName:null,walletName:null};return e===s.NameType.ETHEREUM_ADDRESS&&n&&(null==o?void 0:o.origin)!==s.NameOrigin.API?{accountGroupName:i.accountGroupName,walletName:c?i.walletName:null}:{accountGroupName:null,walletName:null}}),[e,d,n,t,c])}(e,t);return e.map((e,s)=>{const r=t[s],a=n[s],o=k[s],i=T[s],c=v[s],u=y[s],l=S[s],{accountGroupName:m,walletName:h}=b[s],p=h;let f=m||(null==r?void 0:r.name)||a||(null==u?void 0:u.name)||(null==i?void 0:i.name)||c||l||null;const w=Boolean(null==r?void 0:r.name),I=function(e,t,n){if(e===g.TrustSignalDisplayState.Malicious)return g.TrustSignalDisplayState.Malicious;if(t)return g.TrustSignalDisplayState.Petname;if(e===g.TrustSignalDisplayState.Warning)return g.TrustSignalDisplayState.Warning;if(n)return g.TrustSignalDisplayState.Recognized;if(e===g.TrustSignalDisplayState.Verified)return g.TrustSignalDisplayState.Verified;if(e===g.TrustSignalDisplayState.Unknown)return g.TrustSignalDisplayState.Unknown;return g.TrustSignalDisplayState.Unknown}(null==o?void 0:o.state,w,f),_=(null==u?void 0:u.image)||(null==i?void 0:i.image),C=(0,d.getTrustSignalIcon)(I),A=null==o?void 0:o.label;return null===f&&A&&(f=A),{name:f,hasPetname:w,contractDisplayName:null==i?void 0:i.name,image:_,icon:C,displayState:I,subtitle:p}})}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[6769,{lodash:4534,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=r.isEqual){const[n,a]=(0,s.useState)(e);return(0,s.useLayoutEffect)(()=>{t(e,n)||a(e)},[e,t,n]),n};var s=e("react"),r=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[6770,{"../../shared/modules/conversion.utils":5529,"../ducks/metamask/metamask":6632,"../helpers/utils/confirm-tx.util":6672,"../selectors":7539,"bignumber.js":3648,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){const s=(0,a.useSelector)(u.getConversionRate),d=(0,a.useSelector)(u.getCurrentCurrency),m=(0,a.useSelector)(i.getShouldShowFiat),h=t.showFiat??m,p=(0,r.useMemo)(()=>(0,l.decEthToConvertedCurrency)(e,d,s),[s,d,e]);if(!h||"ETH"===d.toUpperCase()||s<=0||e===undefined)return undefined;const f=new o.default(e.toString()).times(s);if(e&&f.lt(new o.default(.01))&&f.greaterThan(new o.default(0)))return n?`< ${(0,c.formatCurrency)(.01,d)}`:`< ${(0,c.formatCurrency)(.01,d)} ${d.toUpperCase()}`;return n?(0,c.formatCurrency)(p,d):`${(0,c.formatCurrency)(p,d)} ${d.toUpperCase()}`};var s,r=e("react"),a=e("react-redux"),o=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},i=e("../selectors"),c=e("../helpers/utils/confirm-tx.util"),u=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[6771,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const[t,n]=(0,s.useState)(""),[r,a]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async()=>{if(e)try{const t=await fetch(e);if(!t.ok)return;let s=await t.text();s=s.replace(/,\s*}/g,"}").replace(/,\s*\]/g,"]");const r=JSON.parse(s);n(r.image),a(r.name)}catch{}})()},[e]),{image:t,name:r}}}}},{package:"$root$",file:"ui/hooks/useFetchNftDetailsFromTokenURI.ts"}],[6772,{"../ducks/locale/locale":6631,"../ducks/metamask/metamask":6632,"../helpers/utils/util":6703,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFiatFormatter=void 0;var s=e("react-redux"),r=e("../ducks/locale/locale"),a=e("../ducks/metamask/metamask"),o=e("../helpers/utils/util");n.useFiatFormatter=()=>{const e=(0,s.useSelector)(r.getIntlLocale),t=(0,s.useSelector)(a.getCurrentCurrency);return(n,s={})=>{const{shorten:r,truncatedCharLimit:a,truncatedStartChars:i}=s;try{const s=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!r)return s.format(n);const c=s.formatToParts(n);let u="",l="";c.forEach(e=>{"currency"===e.type?u+=e.value:l+=e.value});const d=(0,o.shortenString)(l,{truncatedCharLimit:a??15,truncatedStartChars:i??12,truncatedEndChars:0,skipCharacterInEnd:!0});return c.findIndex(e=>"currency"===e.type)<c.findIndex(e=>"integer"===e.type)?`${u}${d}`:`${d}${u}`}catch(s){const a=new Intl.NumberFormat(e).format(n),i=(0,o.shortenString)(a,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return r?`${i} ${t}`:`${a} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[6773,{"../ducks/locale/locale":6631,"@metamask/assets-controllers":1157,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFormatters=function(){const e=(0,r.useSelector)(o.getIntlLocale);return(0,s.useMemo)(()=>{const t=(0,a.createFormatters)({locale:e});return{...t,formatPercentWithMinThreshold:i.bind(null,t.formatNumber),formatCompact:c.bind(null,t.formatNumber)}},[e])};var s=e("react"),r=e("react-redux"),a=e("@metamask/assets-controllers"),o=e("../ducks/locale/locale");function i(e,t,n={}){const s=Number(t);if(!Number.isFinite(s))return"";return e(0===s?0:Math.sign(s)*Math.max(Math.abs(s),1e-4),{style:"percent",maximumFractionDigits:2,minimumFractionDigits:2,...n})}function c(e,t){return e(t,{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})}}}},{package:"$root$",file:"ui/hooks/useFormatters.ts"}],[6774,{"../../shared/modules/selectors/networks":5547,"../ducks/metamask/metamask":6632,"../store/actions":7565,"./usePolling":6797,"lodash/isEqual":4521,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(e,t=!0){const n=(0,r.useSelector)(c.getSelectedNetworkClientId),l=e??n,[d,m]=(0,a.useState)(""),h=(0,r.useSelector)(e=>(0,o.getGasEstimateTypeByChainId)(e,d)),p=(0,r.useSelector)(e=>(0,o.getGasFeeEstimatesByChainId)(e,d),s.default),f=(0,r.useSelector)(e=>(0,o.getIsGasEstimatesLoadingByChainId)(e,{chainId:d,networkClientId:l})),g=(0,r.useSelector)(e=>(0,o.getIsNetworkBusyByChainId)(e,d));return(0,a.useEffect)(()=>{if(!t)return()=>{};let e=!0;return(0,i.getNetworkConfigurationByNetworkClientId)(l).then(t=>{t&&e&&m(t.chainId)}),()=>{e=!1}},[l,t]),(0,u.default)({startPolling:e=>(0,i.gasFeeStartPollingByNetworkClientId)(e.networkClientId),stopPollingByPollingToken:i.gasFeeStopPollingByPollingToken,input:{networkClientId:l},enabled:t}),{gasFeeEstimates:p,gasEstimateType:h,isGasEstimatesLoading:f,isNetworkBusy:g}};var s=l(e("lodash/isEqual")),r=e("react-redux"),a=e("react"),o=e("../ducks/metamask/metamask"),i=e("../store/actions"),c=e("../../shared/modules/selectors/networks"),u=l(e("./usePolling"));function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[6775,{"../helpers/utils/util":6703,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("../helpers/utils/util");n.default=(e,t)=>{const[n,a]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async()=>{const n=await(0,r.getAssetImageURL)(e,t);a(n)})()},[e,t]),n}}}},{package:"$root$",file:"ui/hooks/useGetAssetImageUrl.ts"}],[6776,{"../../shared/modules/conversion.utils":5529,"../../shared/modules/selectors/networks":5547,"../selectors":7539,"./useTokenBalances":6806,"bn.js":3699,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGetFormattedTokensPerChain=void 0;var s=e("react-redux"),r=e("bn.js"),a=e("../selectors"),o=e("../../shared/modules/selectors/networks"),i=e("../../shared/modules/conversion.utils"),c=e("./useTokenBalances");n.useGetFormattedTokensPerChain=(e,t,n,u)=>{const l=(0,s.useSelector)(o.getCurrentChainId),d=(0,s.useSelector)(a.getAllTokens),m=(0,c.useTokenBalances)({chainIds:u});return{formattedTokensWithBalancesPerChain:(n?[l]:u).map(n=>{var s;const a=((null==d||null===(s=d[n])||void 0===s?void 0:s[null==e?void 0:e.address])??[]).reduce((s,a)=>{var o;const u=(null===(o=m.tokenBalances[e.address])||void 0===o||null===(o=o[n])||void 0===o?void 0:o[a.address])??"0x0";if("0x0"!==u||!t){const e=(0,i.hexToDecimal)(u);s.push({address:a.address,symbol:a.symbol,decimals:a.decimals,balance:e,string:(0,c.stringifyBalance)(new r.BN(e),new r.BN(a.decimals))})}return s},[]);return{chainId:n,tokensWithBalances:a}})}}}}},{package:"$root$",file:"ui/hooks/useGetFormattedTokensPerChain.ts"}],[6778,{"../../app/scripts/lib/util":290,"../../shared/lib/asset-utils":5460,"../helpers/utils/isOriginalNativeTokenSymbol":6682,"../selectors":7539,"../selectors/multichain":7548,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalNativeTokenSymbol=function(e,t,n,l=""){const[d,m]=(0,s.useState)(!1),h=(0,r.useSelector)(a.useSafeChainsListValidationSelector),p=(0,i.isEvmChainId)(e),f=(0,r.useSelector)(o.getMultichainCurrentNetwork);return(0,s.useEffect)(()=>{!async function(e){if(p)try{if((e=>{const t=(0,c.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(l))return void m(!0);const n=await(0,u.isOriginalNativeTokenSymbol)({ticker:t,chainId:e,useAPICall:h});m(n)}catch(e){m(!1)}else m(t===(null==f?void 0:f.ticker))}(e)},[d,e,t,n,l,h,p,null==f?void 0:f.ticker]),d};var s=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain"),i=e("../../shared/lib/asset-utils"),c=e("../../app/scripts/lib/util"),u=e("../helpers/utils/isOriginalNativeTokenSymbol")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.ts"}],[6779,{"../selectors":7539,"../store/actions":7565,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalTokenSymbol=function(e,t){const[n,i]=(0,s.useState)(null),c=(0,r.useSelector)(o.getTokenList);return(0,s.useEffect)(()=>{!async function(e){var n,s;let r=null===(n=c[null==e?void 0:e.toLowerCase()])||void 0===n?void 0:n.symbol;r||(r=await(0,a.getTokenSymbol)(e)),i((null===(s=r)||void 0===s?void 0:s.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)},[e,t]),n};var s=e("react"),r=e("react-redux"),a=e("../store/actions"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[6780,{"../store/actions":7565,loglevel:4542,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableMetametrics=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,o]=(0,r.useState)(null);return{disableMetametrics:(0,r.useCallback)(async()=>{n(!0),e((0,i.showLoadingIndication)()),o(null);try{await e((0,i.setParticipateInMetaMetrics)(!1))}catch(e){throw o(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())},[e]),loading:t,error:s}},n.useEnableMetametrics=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null);return{enableMetametrics:(0,r.useCallback)(async()=>{n(!0),e((0,i.showLoadingIndication)()),c(null);try{await e((0,i.setParticipateInMetaMetrics)(!0))}catch(e){throw c(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())},[e]),loading:t,error:s}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useMetametrics.ts"}],[6781,{"../store/actions":7565,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useModalProps=function(){const e=(0,s.useSelector)(e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props}),t=(0,s.useDispatch)();return{props:e,hideModal:()=>t((0,r.hideModal)())}};var s=e("react-redux"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[6782,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const t=(0,s.useRef)(new Map);(0,s.useEffect)(()=>{for(const n of e.input){const s=JSON.stringify(n);t.current.has(s)||e.startPolling(n).then(e=>t.current.set(s,e))}for(const[n,s]of t.current.entries()){e.input.some(e=>n===JSON.stringify(e))||(e.stopPollingByPollingToken(s),t.current.delete(n))}},[e.input&&JSON.stringify(e.input)]),(0,s.useEffect)(()=>()=>{for(const n of t.current.values())e.stopPollingByPollingToken(n)},[])}}}},{package:"$root$",file:"ui/hooks/useMultiPolling.ts"}],[6783,{"../../shared/constants/multichain/assets":5431,"../helpers/utils/confirm-tx.util":6672,"../helpers/utils/token-util":6699,"../selectors/multichain":7548,"./useAccountTotalFiatBalance":6756,"./useMultichainSelector":6787,"@metamask/keyring-api":1994,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountTotalFiatBalance=n.EMPTY_VALUES=void 0;var s=e("react-redux"),r=e("@metamask/keyring-api"),a=e("../selectors/multichain"),o=e("../helpers/utils/confirm-tx.util"),i=e("../../shared/constants/multichain/assets"),c=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),l=e("./useAccountTotalFiatBalance");const d=n.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};n.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var n;if((0,r.isEvmAccountType)(e.type))return(0,l.useAccountTotalFiatBalance)(e,t);const m=(0,u.useMultichainSelector)(a.getMultichainCurrentCurrency,e),{network:h}=(0,u.useMultichainSelector)(a.getMultichainNetwork,e),{ticker:p}=h,f=(0,u.useMultichainSelector)(a.getMultichainConversionRate,e),g=(0,u.useMultichainSelector)(a.getMultichainCurrencyImage,e),k=(0,s.useSelector)(a.getMultichainBalances),T=i.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[p];if(null==k||null===(n=k[e.id])||void 0===n||!n[T])return d;const{amount:v}=k[e.id][T],y=(0,c.getTokenFiatAmount)(1,Number(f),m,v,p,!1,!1)??"0",S={iconUrl:g,symbol:p,fiatBalance:y};return{formattedFiat:(0,o.formatCurrency)(y,m),totalFiatBalance:y,totalBalance:v,tokensWithBalances:[],loading:!1,orderedTokenList:[S]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[6784,{"../helpers/constants/routes":6650,"../selectors/multichain-accounts/feature-flags":7544,"../store/store":7570,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountsIntroModal=function(e,t){const[n,i]=(0,s.useState)(!1),c=(0,r.useAppSelector)(a.getIsMultichainAccountsState2Enabled),u=(0,r.useAppSelector)(e=>e.metamask.hasShownMultichainAccountsIntroModal),l=(0,r.useAppSelector)(e=>e.metamask.lastUpdatedAt);return(0,s.useEffect)(()=>{const n=t.pathname===o.DEFAULT_ROUTE;i(e&&c&&!u&&null!==l&&n)},[e,c,u,l,t.pathname]),{showMultichainIntroModal:n,setShowMultichainIntroModal:i}};var s=e("react"),r=e("../store/store"),a=e("../selectors/multichain-accounts/feature-flags"),o=e("../helpers/constants/routes")}}},{package:"$root$",file:"ui/hooks/useMultichainAccountsIntroModal.ts"}],[6785,{"../ducks/metamask/metamask":6632,"../selectors":7539,"../store/controller-actions/multichain-asset-rates-controller":7568,"./usePolling":6797,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../ducks/metamask/metamask"),o=e("../selectors"),i=e("../store/controller-actions/multichain-asset-rates-controller"),c=(s=e("./usePolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(()=>{const e=(0,r.useSelector)(a.getCompletedOnboarding),t=(0,r.useSelector)(a.getIsUnlocked),n=(0,r.useSelector)(o.getUseCurrencyRateCheck);return e&&t&&n})(),t=(()=>{const e=(0,r.useSelector)(o.getSelectedInternalAccount);return(null==e?void 0:e.id)??""})();(0,c.default)({startPolling:i.multichainAssetsRatesStartPolling,stopPollingByPollingToken:i.multichainAssetsRatesStopPollingByPollingToken,input:t,enabled:e})}}}},{package:"$root$",file:"ui/hooks/useMultichainAssetsRatesPolling.ts"}],[6786,{"../../shared/constants/transaction":5451,"../selectors/assets":7531,"../selectors/multichain":7548,"../selectors/multichain-accounts/account-tree":7543,"./useMultichainSelector":6787,"@metamask/keyring-api":1994,"@metamask/utils":2799,"bignumber.js":3648,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainBalances=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/utils"),o=e("@metamask/keyring-api"),i=e("bignumber.js"),c=e("../../shared/constants/transaction"),u=e("../selectors/assets"),l=e("../selectors/multichain"),d=e("../selectors/multichain-accounts/account-tree"),m=e("./useMultichainSelector");n.useMultichainBalances=e=>{const t=(0,r.useSelector)(d.getSelectedAccountGroup),[n]=(0,r.useSelector)(t=>(0,d.getAccountGroupsByAddress)(t,[e??""])),h=(null==n?void 0:n.id)??t,p=(0,r.useSelector)(e=>(0,d.getInternalAccountByGroupAndCaip)(e,h,"eip155:1")),f=(0,r.useSelector)(e=>(0,d.getInternalAccountByGroupAndCaip)(e,h,o.SolScope.Mainnet)),g=(0,r.useSelector)(e=>(0,u.getTokenBalancesEvm)(e,null==p?void 0:p.address)),k=(e=>{const t=(0,r.useSelector)(u.getAccountAssets),n=(0,r.useSelector)(u.getAssetsMetadata),o=(0,m.useMultichainSelector)(l.getMultichainBalances),d=(0,r.useSelector)(u.getAssetsRates);return(0,s.useMemo)(()=>{if(!e)return[];const s=null==t?void 0:t[e],r=null==o?void 0:o[e];return r&&s?s.filter(e=>n[e]).map(e=>{var t,s,o,u,l,m,h;const{chainId:p,assetReference:f,assetNamespace:g}=(0,a.parseCaipAssetType)(e);return{chainId:p,symbol:(null===(t=n[e])||void 0===t?void 0:t.symbol)??"",assetId:e,address:f,string:(null===(s=r[e])||void 0===s?void 0:s.amount)??"0",balance:(null===(o=r[e])||void 0===o?void 0:o.amount)??"0",decimals:null===(u=n[e])||void 0===u||null===(u=u.units[0])||void 0===u?void 0:u.decimals,image:(null===(l=n[e])||void 0===l?void 0:l.iconUrl)??"",type:"token"===g?c.AssetType.token:c.AssetType.native,tokenFiatAmount:new i.BigNumber((null===(m=r[e])||void 0===m?void 0:m.amount)??"1").times((null==d||null===(h=d[e])||void 0===h?void 0:h.rate)??"1").toNumber()}}).filter(Boolean):[]},[n,d,t,e,o])})(null==f?void 0:f.id);return{assetsWithBalance:(0,s.useMemo)(()=>[...g,...k].map(e=>({...e,type:e.isNative?c.AssetType.native:c.AssetType.token})).sort((e,t)=>(t.tokenFiatAmount??0)-(e.tokenFiatAmount??0)),[g,k]),balanceByChainId:(0,s.useMemo)(()=>[...g,...k].reduce((e,t)=>(e[t.chainId]||(e[t.chainId]=0),e[t.chainId]+=t.tokenFiatAmount??0,e),{}),[g,k])}}}}},{package:"$root$",file:"ui/hooks/useMultichainBalances.ts"}],[6787,{"../selectors":7539,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainSelector=function(e,t){return(0,s.useSelector)(n=>e(n,t||(0,r.getSelectedInternalAccount)(n)))};var s=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useMultichainSelector.ts"}],[6788,{"../../shared/constants/transaction":5451,"../components/app/assets/util/formatWithThreshold":5641,"../ducks/locale/locale":6631,"./useI18nContext":6777,"@metamask/keyring-api":1994,"@metamask/multichain-network-controller":2095,"@metamask/transaction-controller":2754,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KEYRING_TRANSACTION_STATUS_KEY=void 0,n.useMultichainTransactionDisplay=function(e,t){const n=(0,o.useSelector)(c.getIntlLocale),{chainId:r}=t,i=a.MULTICHAIN_NETWORK_DECIMAL_PLACES[r],u=(0,l.useI18nContext)(),m=d(e.from,!0,n,i),h=d(e.to,e.type===s.TransactionType.Send,n,i),p=d((e.fees||[]).filter(e=>"base"===e.type),!0,n),f=d((e.fees||[]).filter(e=>"priority"===e.type),!0,n),g={[s.TransactionType.Send]:u("sent"),[s.TransactionType.Receive]:u("received"),[s.TransactionType.Swap]:`${u("swap")} ${null==m?void 0:m.unit} ${u("to").toLowerCase()} ${null==h?void 0:h.unit}`,[s.TransactionType.Unknown]:u("interaction")};return{...e,title:g[e.type],from:m,to:h,baseFee:p,priorityFee:f,isRedeposit:0===e.to.length&&e.type===s.TransactionType.Send}};var s=e("@metamask/keyring-api"),r=e("@metamask/transaction-controller"),a=e("@metamask/multichain-network-controller"),o=e("react-redux"),i=e("../components/app/assets/util/formatWithThreshold"),c=e("../ducks/locale/locale"),u=e("../../shared/constants/transaction"),l=e("./useI18nContext");n.KEYRING_TRANSACTION_STATUS_KEY={[s.TransactionStatus.Failed]:r.TransactionStatus.failed,[s.TransactionStatus.Confirmed]:r.TransactionStatus.confirmed,[s.TransactionStatus.Unconfirmed]:u.TransactionGroupStatus.pending,[s.TransactionStatus.Submitted]:r.TransactionStatus.submitted};function d(e,t,n,s){const r={};for(const t of e){if(null==t||!t.asset.fungible)continue;const e=t.asset.type;r[e]?r[e].amount+=parseFloat(t.asset.amount):r[e]={amount:parseFloat(t.asset.amount),address:t.address,unit:t.asset.unit}}return Object.entries(r).map(([e,r])=>function(e,t,n,s){const r=1/10**(s||8),a=(0,i.formatWithThreshold)(e.amount,r,t,{minimumFractionDigits:0,maximumFractionDigits:s||8});let o=a;n&&(o=`-${a}`);return{...e,amount:o}}(r,n,t,s))[0]}}}},{package:"$root$",file:"ui/hooks/useMultichainTransactionDisplay.ts"}],[6789,{"../selectors":7539,"@metamask/name-controller":2156,lodash:4534,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useNames=i;var s=e("@metamask/name-controller"),r=e("react-redux"),a=e("lodash"),o=e("../selectors");function i(e){const t=(0,r.useSelector)(o.getNames,a.isEqual);return e.map(({value:e,type:n,variation:r})=>{var a;const o=function(e,t){if(t===s.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,n),i=(null===(a=t[n])||void 0===a?void 0:a[o])??{},c=i[r],u=i[s.FALLBACK_VARIATION],l=null!=c&&c.name||!u?c??{}:u,{name:d=null,sourceId:m=null,origin:h=null,proposedNames:p={}}=l;return{name:d,sourceId:m,proposedNames:p,origin:h}})}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[6790,{"../../shared/constants/metametrics":5430,"../../shared/constants/network":5433,"../../shared/lib/network-utils":5508,"../../shared/lib/only-keep-host":5509,"../../shared/modules/selectors/networks":5547,"../contexts/metametrics":6608,"../selectors/multichain/networks":7549,"../selectors/selectors":7555,"../store/actions":7565,"@metamask/utils":2799,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkConnectionBanner=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/utils"),o=e("../selectors/multichain/networks"),i=e("../selectors/selectors"),c=e("../store/actions"),u=e("../contexts/metametrics"),l=e("../../shared/constants/metametrics"),d=e("../../shared/constants/network"),m=e("../../shared/modules/selectors/networks"),h=e("../../shared/lib/only-keep-host"),p=e("../../shared/lib/network-utils");n.useNetworkConnectionBanner=()=>{const e=(0,r.useDispatch)(),t=(0,s.useContext)(u.MetaMetricsContext),n=(0,r.useSelector)(o.selectFirstUnavailableEvmNetwork),f=(0,r.useSelector)(i.getNetworkConnectionBanner),g=(0,r.useSelector)(m.getNetworkConfigurationsByChainId),k=(0,s.useRef)({}),T=(0,s.useCallback)(()=>{k.current.degradedTimer&&(clearTimeout(k.current.degradedTimer),k.current.degradedTimer=undefined)},[]),v=(0,s.useCallback)(()=>{k.current.unavailableTimer&&(clearTimeout(k.current.unavailableTimer),k.current.unavailableTimer=undefined)},[]),y=(0,s.useCallback)(()=>{T(),v()},[]),S=(0,s.useCallback)(({bannerType:e,eventName:n,networkClientId:s})=>{if(!d.infuraProjectId)return void console.warn("Infura project ID not found, cannot track network banner event");let r;for(const e of Object.values(g)){const t=e.rpcEndpoints.find(e=>e.networkClientId===s);if(t){r={chainId:e.chainId,url:t.url};break}}if(!r)return void console.warn(`RPC endpoint not found for network client ID: ${s}`);const o=r.url,i=(0,a.hexToNumber)(r.chainId),c=(0,p.isPublicEndpointUrl)(o,d.infuraProjectId)?(0,h.onlyKeepHost)(o):"custom";t({category:l.MetaMetricsEventCategory.Network,event:n,properties:{banner_type:e,chain_id_caip:`eip155:${i}`,rpc_endpoint_url:c}})},[g,t]),b=(0,s.useCallback)(()=>{v(),k.current.unavailableTimer=setTimeout(()=>{n&&(S({bannerType:"unavailable",eventName:l.MetaMetricsEventName.NetworkConnectionBannerShown,networkClientId:n.networkClientId}),e((0,c.updateNetworkConnectionBanner)({status:"unavailable",networkName:n.networkName,networkClientId:n.networkClientId,chainId:n.chainId})))},25e3)},[n,S,e,v]),w=(0,s.useCallback)(()=>{T(),k.current.degradedTimer=setTimeout(()=>{n&&(S({bannerType:"degraded",eventName:l.MetaMetricsEventName.NetworkConnectionBannerShown,networkClientId:n.networkClientId}),e((0,c.updateNetworkConnectionBanner)({status:"degraded",networkName:n.networkName,networkClientId:n.networkClientId,chainId:n.chainId})),b())},5e3)},[n,S,e,b,T]);return(0,s.useEffect)(()=>(n?"degraded"===f.status?b():"unknown"!==f.status&&"available"!==f.status||w():"available"!==f.status&&e((0,c.updateNetworkConnectionBanner)({status:"available"})),()=>{y()}),[n,y,e,f.status,w,b]),{...f,trackNetworkBannerEvent:S}}}}},{package:"$root$",file:"ui/hooks/useNetworkConnectionBanner.ts"}],[6791,{"../../shared/constants/transaction":5451,"../store/actions":7565,"./useAsync":6760},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftCollectionsMetadata=function(e){const{value:t}=(0,a.useAsyncResult)(()=>async function(e){const t=e.reduce((e,{chainId:t,contractAddress:n})=>(e[t]=[...e[t]??[],n.toLowerCase()],e),{}),n=Object.keys(t),s=await Promise.all(n.map(e=>async function(e,t){const n=await Promise.all(e.map(e=>(0,r.getTokenStandardAndDetails)(e,t))),s=e.filter((e,t)=>o.includes(n[t].standard));if(0===s.length)return{};const a=await(0,r.getNFTContractInfo)(s,t);return a.collections.reduce((e,t,n)=>(e[s[n]]={name:null==t?void 0:t.name,image:null==t?void 0:t.image,isSpam:null==t?void 0:t.isSpam},e),{})}(t[e],e)));return n.reduce((e,t,n)=>(e[t]=s[n],e),{})}(e),[JSON.stringify(e)]);return t??{}};var s=e("../../shared/constants/transaction"),r=e("../store/actions"),a=e("./useAsync");const o=[s.TokenStandard.ERC721]}}},{package:"$root$",file:"ui/hooks/useNftCollectionsMetadata.ts"}],[6792,{"../../shared/lib/trace":5517,"../../shared/modules/selectors/networks":5547,"../ducks/metamask/metamask":6632,"../selectors":7539,"../selectors/multichain/networks":7549,"./useI18nContext":6777,"./usePrevious":6798,lodash:4534,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNfts=function({overridePopularNetworkFilter:e=!1}={}){const t=(0,m.useI18nContext)(),n=(0,r.useSelector)(o.getAllNfts),{address:h}=(0,r.useSelector)(i.getSelectedInternalAccount),p=(0,r.useSelector)(u.getCurrentChainId),f=(0,r.useSelector)(i.getAllChainsToPoll),g=(0,r.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),k=(0,r.useSelector)(c.getEnabledNetworksByNamespace),T=(0,s.useMemo)(()=>{if(i.isGlobalNetworkSelectorRemoved){const t={};return e?(null==n?void 0:n[p])??[]:(Object.entries(n??{}).forEach(([e,n])=>{null!=k&&k[e]&&Array.isArray(n)&&(t[e]=n)}),t)}(0,l.trace)({name:l.TraceName.LoadCollectibles});const t=g||e?(null==n?void 0:n[p])??[]:n;return(0,l.endTrace)({name:l.TraceName.LoadCollectibles}),t},[g,e,n,p,k]),v=(0,r.useSelector)(o.getNftContracts),y=t("nftsPreviouslyOwned"),S=t("unknownCollection"),[b,w]=(0,s.useState)([]),[I,_]=(0,s.useState)([]),[C,A]=(0,s.useState)(()=>(null==T?void 0:T.length)>=0),E=(0,d.usePrevious)(T),N=(0,d.usePrevious)(f),M=(0,d.usePrevious)(h);return(0,s.useEffect)(()=>{(0,a.isEqual)(E,T)&&(0,a.isEqual)(M,h)&&(0,a.isEqual)(N,p)||(()=>{if(A(!0),h===undefined||f===undefined)return;const e=[],t=[];Object.values(T).flat().forEach(n=>{!1===(null==n?void 0:n.isCurrentlyOwned)?e.push(n):t.push(n)}),_(e),w(t),A(!1)})()},[T,E,v,A,p,N,h,M,y,S,f]),{loading:C,currentlyOwnedNfts:b,previouslyOwnedNfts:I}};var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("../selectors/multichain/networks"),u=e("../../shared/modules/selectors/networks"),l=e("../../shared/lib/trace"),d=e("./usePrevious"),m=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNfts.ts"}],[6793,{"../../shared/modules/selectors/networks":5547,"../ducks/metamask/metamask":6632,"../helpers/utils/nfts":6688,"../selectors":7539,"../selectors/multichain/networks":7549,"./useI18nContext":6777,"./usePrevious":6798,lodash:4534,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftsCollections=function(){const e=(0,m.useI18nContext)(),t=e("nftsPreviouslyOwned"),n=e("unknownCollection"),[h,p]=(0,s.useState)({}),[f,g]=(0,s.useState)({collectionName:t,nfts:[]}),k=(0,r.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),T=(0,r.useSelector)(o.getAllNfts),v=(0,r.useSelector)(c.getEnabledNetworksByNamespace),{address:y}=(0,r.useSelector)(i.getSelectedInternalAccount),S=(0,r.useSelector)(u.getCurrentChainId),b=(0,s.useMemo)(()=>{if(i.isGlobalNetworkSelectorRemoved){const e={};return Object.entries(T??{}).forEach(([t,n])=>{null!=v&&v[t]&&Array.isArray(n)&&(e[t]=n)}),e}return k?(null==T?void 0:T[S])??[]:T},[k,T,S,v]),[w,I]=(0,s.useState)(()=>(null==b?void 0:b.length)>=0),_=(0,r.useSelector)(o.getNftContracts),C=(0,d.usePrevious)(b),A=(0,d.usePrevious)(S),E=(0,d.usePrevious)(y);return(0,s.useEffect)(()=>{(0,a.isEqual)(C,b)&&(0,a.isEqual)(E,y)&&(0,a.isEqual)(A,S)||(()=>{if(I(!0),y===undefined||S===undefined)return;const e={},s={collectionName:t,nfts:[]};Object.values(b).flat().forEach(t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))s.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const s=_.find(({address:e})=>e===t.address);e[t.address]={collectionName:(null==s?void 0:s.name)||n,collectionImage:(null==s?void 0:s.logo)||(0,l.getNftImage)(t.image),nfts:[t]}}}),p(e),g(s),I(!1)})()},[b,C,_,I,S,A,y,E,t,n]),{nftsLoading:w,collections:h,previouslyOwnedCollection:f}};var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("../selectors/multichain/networks"),u=e("../../shared/modules/selectors/networks"),l=e("../helpers/utils/nfts"),d=e("./usePrevious"),m=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[6794,{"../helpers/constants/notifications":6648,"../store/actions":7565,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNotificationTimeouts=void 0;var s=e("react-redux"),r=e("../store/actions"),a=e("../helpers/constants/notifications");n.useSnapNotificationTimeouts=()=>{const e=(0,s.useDispatch)();return{setNotificationTimeout:t=>{setTimeout(()=>{e((0,r.deleteNotificationsById)([t]))},a.NOTIFICATIONS_EXPIRATION_DELAY)}}}}}},{package:"$root$",file:"ui/hooks/useNotificationTimeouts.ts"}],[6795,{"../selectors":7539,"@metamask/permission-controller":2260,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,r.useSelector)(t=>(0,a.getTargetSubjectMetadata)(t,e));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:s.SubjectType.Unknown}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var s=e("@metamask/permission-controller"),r=e("react-redux"),a=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[6796,{"../selectors/selectors":7555,"./useTrustSignals":6817,"@metamask/phishing-controller":2274,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginTrustSignals=function(e){let t;if(e)try{const n=new URL(e);t=n.hostname}catch(e){t=undefined}const n=(0,r.useSelector)(e=>(0,a.getUrlScanCacheResult)(e,t));return{state:i(n),label:null}};var s=e("@metamask/phishing-controller"),r=e("react-redux"),a=e("../selectors/selectors"),o=e("./useTrustSignals");function i(e){var t;const n=null==e||null===(t=e.data)||void 0===t?void 0:t.recommendedAction;if(!n)return o.TrustSignalDisplayState.Unknown;switch(n){case s.RecommendedAction.Block:return o.TrustSignalDisplayState.Malicious;case s.RecommendedAction.Warn:return o.TrustSignalDisplayState.Warning;case s.RecommendedAction.Verified:return o.TrustSignalDisplayState.Verified;case s.RecommendedAction.None:default:return o.TrustSignalDisplayState.Unknown}}}}},{package:"$root$",file:"ui/hooks/useOriginTrustSignals.ts"}],[6797,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const t=(0,s.useRef)(null),n=(0,s.useRef)(null);let r=!1;(0,s.useEffect)(()=>{if(!1===e.enabled)return()=>{};r=!0;const s=()=>{var s;t.current&&(e.stopPollingByPollingToken(t.current),null===(s=n.current)||void 0===s||s.call(n,t.current))};return e.startPolling(e.input).then(a=>{var o;t.current=a,n.current=(null===(o=e.callback)||void 0===o?void 0:o.call(e,a))||null,r||s()}),()=>{r=!1,s()}},[e.input&&JSON.stringify(e.input),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[6798,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,s.useRef)();return(0,s.useEffect)(()=>{t.current=e},[e]),t.current};var s=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[6799,{"./usePrevious":6798,lodash:4534,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var s=e("react"),r=e("lodash"),a=e("./usePrevious");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var n,o;const i=(0,s.useRef)(null),c=(0,a.usePrevious)(null===(n=i.current)||void 0===n?void 0:n.offsetHeight),[u,l]=(0,s.useState)(!1),[d,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(!1),f=()=>{if(!i.current)return;const e=i.current&&i.current.scrollHeight>i.current.clientHeight,n=e&&Math.round(i.current.scrollTop)+i.current.offsetHeight+t>=i.current.scrollHeight;e!==d&&(l(!1),m(e)),p(!e||n),e&&!n||l(!0)};(0,s.useEffect)(f,[i,...e]),(0,s.useEffect)(()=>{var e;c!==(null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&f()},[null===(o=i.current)||void 0===o?void 0:o.offsetHeight]);return{isScrollable:d,isScrolledToBottom:h,hasScrolledToBottom:u,scrollToBottom:()=>{p(!0),l(!0),i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:l,ref:i,onScroll:(0,r.debounce)(f,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[6800,{"../helpers/constants/routes":6650,"../selectors":7539,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:(0,a.getPaths)(),exact:!0,strict:!0}),t=((0,s.useSelector)(o.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:a.PATH_NAME_MAP.get(e.path),url:e.path}:undefined,referrer:n}};var s=e("react-redux"),r=e("react-router-dom"),a=e("../helpers/constants/routes"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[6801,{"../ducks/app/app":6617,"./useGasFeeEstimates":6774,lodash:4534,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,r.useDispatch)(),c=(0,r.useSelector)(o.getGasLoadingAnimationIsShowing),u=(0,s.useRef)(t),l=!(0,a.isEqual)(u.current,t),d=(0,a.isEqual)(u.current,{});l&&(u.current=t);const m=e||l&&!d;(0,s.useEffect)(()=>{!1===c&&!0===m&&n((0,o.toggleGasLoadingAnimation)(!0))},[n,c,m]),(0,s.useEffect)(()=>{let e;return c&&!m&&(e=setTimeout(()=>{n((0,o.toggleGasLoadingAnimation)(!1))},2e3)),()=>{e&&clearTimeout(e)}},[n,c,m])};var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[6802,{"../../shared/constants/time":5449,"../../shared/modules/selectors/networks":5547,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:i}=e,c=(0,r.useSelector)(o.getCurrentChainId),[u={}]=n,l=u.chainId===c,{submittedTime:d}=u,[m,h]=(0,s.useState)(()=>Date.now()-d>5e3&&t&&!i&&l);return(0,s.useEffect)(()=>{let e;return i||!t||m||(Date.now()-d>5*a.SECOND?h(!0):e=setTimeout(()=>{h(!0),clearTimeout(e)},5001-(Date.now()-d))),()=>{e&&clearTimeout(e)}},[d,m,i,t]),m};var s=e("react"),r=e("react-redux"),a=e("../../shared/constants/time"),o=e("../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[6803,{"../../shared/lib/transactions-controller-utils":5519,"../../shared/modules/selectors/networks":5547,"../../shared/modules/swaps.utils":5552,"./useTokenFiatAmount":6810,"@metamask/transaction-controller":2754,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:u,address:l}=t,{primaryTransaction:d,initialTransaction:m}=e,{type:h}=m,{from:p}=m.txParams||{},f=(0,s.useSelector)(i.getCurrentChainId),g=h===r.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,o.isSwapsDefaultTokenAddress)(t.address,f)&&(0,o.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,f)),k=[r.TransactionType.swap].includes(h)&&g?(0,a.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,m,l,p,u,null,f):[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(h)&&d.swapTokenValue,T="string"==typeof k&&-1===Math.sign(k),v=(0,c.useTokenFiatAmount)(l,k||"",n),y=(0,c.useTokenFiatAmount)(d.sourceTokenAddress,k,d.sourceTokenSymbol);let S;k&&(g?S=v:h===r.TransactionType.swapAndSend&&(S=y));return{swapTokenValue:k,swapTokenFiatAmount:S,isViewingReceivedTokenFromSwap:g,isNegative:T}};var s=e("react-redux"),r=e("@metamask/transaction-controller"),a=e("../../shared/lib/transactions-controller-utils"),o=e("../../shared/modules/swaps.utils"),i=e("../../shared/modules/selectors/networks"),c=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[6804,{"../../shared/constants/preferences":5438,"../selectors":7539,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,r.useSelector)(a.getTheme),[t,n]=(0,s.useState)(e);return(0,s.useEffect)(()=>{const t=e&&e!==o.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${o.ThemeType.light}".`),n(o.ThemeType.light)),n(t)},[e]),t};var s=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../../shared/constants/preferences");const i=Object.values(o.ThemeType).filter(e=>e!==o.ThemeType.os)}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[6805,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const r=(0,s.useRef)(),[a,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{r.current=e},[e]),(0,s.useEffect)(()=>{if("start"!==a)return undefined;const e=setTimeout(()=>{r.current()},t);return o(e),()=>{clearTimeout(a)}},[t,a]);const i=(0,s.useCallback)(()=>{clearTimeout(a),o("start")},[a]);n&&i();return i};var s=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[6806,{"../../shared/modules/conversion.utils":5529,"../ducks/metamask/metamask":6632,"../selectors/multichain/networks":7549,"../store/actions":7565,"./useMultiPolling":6782,"bn.js":3699,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringifyBalance=m,n.useTokenTracker=n.useTokenBalances=void 0;var s=e("react-redux"),r=l(e("bn.js")),a=e("../store/actions"),o=e("../ducks/metamask/metamask"),i=e("../../shared/modules/conversion.utils"),c=e("../selectors/multichain/networks"),u=l(e("./useMultiPolling"));function l(e){return e&&e.__esModule?e:{default:e}}const d=({chainIds:e}={})=>{const t=(0,s.useSelector)(o.getTokenBalances),n=(0,s.useSelector)(c.getEnabledChainIds),r=e&&e.length>0?e:n;return(0,u.default)({startPolling:a.tokenBalancesStartPolling,stopPollingByPollingToken:a.tokenBalancesStopPollingByPollingToken,input:[r]}),{tokenBalances:t}};n.useTokenBalances=d;function m(e,t,n=5){if(e.eq(new r.default(0)))return"0";const s=parseInt(t.toString(),10);if(0===s)return e.toString();let a=e.toString(),o=a.length,i=o-s,c="";if(i<=0){for(;c.length<=-1*i;)c+="0",o+=1;a=c+a,i=1}const u=a.substr(0,o-s);if(0===n)return u;const l=a.substr(i,n);if(/0+$/u.test(l)){let e=a.substr(i).replace(/0+$/u,"");return e.length>0&&(e=`.${e}`),`${u}${e}`}return`${u}.${l}`}n.useTokenTracker=({chainId:e,tokens:t,address:n,hideZeroBalanceTokens:s})=>{const{tokenBalances:a}=d({chainIds:[e]});return{tokensWithBalances:t.reduce((t,o)=>{var c;const u=(null===(c=a[n])||void 0===c||null===(c=c[e])||void 0===c?void 0:c[o.address])??"0x0";if("0x0"!==u||!s){const e=(0,i.hexToDecimal)(u);t.push({address:o.address,symbol:o.symbol,decimals:o.decimals,balance:e,balanceError:null,string:m(new r.default(e),new r.default(o.decimals))})}return t},[])}}}}},{package:"$root$",file:"ui/hooks/useTokenBalances.ts"}],[6807,{"../../shared/modules/transaction.utils":5553,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,s.useMemo)(()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null,[t,e])};var s=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[6808,{"../ducks/metamask/metamask":6632,"../selectors":7539,"../selectors/multichain/networks":7549,"../store/actions":7565,"./useMultiPolling":6782,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain/networks"),i=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getUseTokenDetection),t=(0,r.useSelector)(c.getCompletedOnboarding),n=(0,r.useSelector)(c.getIsUnlocked),s=(0,r.useSelector)(a.getChainIdsToPoll),l=(0,r.useSelector)(o.getEnabledChainIds),d=t&&n&&e,m=a.isGlobalNetworkSelectorRemoved?l:s;return(0,u.default)({startPolling:i.tokenDetectionStartPolling,stopPollingByPollingToken:i.tokenDetectionStopPollingByPollingToken,input:d?[m]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[6809,{"../../shared/lib/metamask-controller-utils":5503,"../../shared/lib/transactions-controller-utils":5519,"./useTokenData":6807,react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,o.useTokenData)(e,n),c=(0,r.getTokenValueParam)(i),u=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&c);return(0,s.useMemo)(()=>u?(0,a.calcTokenAmount)(c,t.decimals).toString(10):null,[u,c,t])};var s=e("react"),r=e("../../shared/lib/metamask-controller-utils"),a=e("../../shared/lib/transactions-controller-utils"),o=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[6811,{"../ducks/metamask/metamask":6632,"../selectors":7539,"../selectors/multichain/networks":7549,"../selectors/selectors":7555,"../store/actions":7565,"./useMultiPolling":6782,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain/networks"),i=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=e("../selectors/selectors"),l=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getUseTokenDetection),t=(0,r.useSelector)(a.getUseTransactionSimulations),n=(0,r.useSelector)(c.getCompletedOnboarding),s=(0,r.useSelector)(c.getIsUnlocked),d=(0,r.useSelector)(a.getUseExternalServices),m=(0,r.useSelector)(a.getChainIdsToPoll),h=(0,r.useSelector)(o.getEnabledChainIds),p=n&&s&&d&&(e||t),f=u.isGlobalNetworkSelectorRemoved?h:m;return(0,l.default)({startPolling:i.tokenListStartPolling,stopPollingByPollingToken:i.tokenListStopPollingByPollingToken,input:p?f:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[6812,{"../ducks/metamask/metamask":6632,"../selectors":7539,"../selectors/multichain/networks":7549,"../selectors/selectors":7555,"../store/actions":7565,"./useMultiPolling":6782,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain/networks"),i=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=e("../selectors/selectors"),l=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(c.getCompletedOnboarding),t=(0,r.useSelector)(c.getIsUnlocked),n=(0,r.useSelector)(a.getUseCurrencyRateCheck),s=(0,r.useSelector)(a.getChainIdsToPoll),d=(0,r.useSelector)(o.getEnabledChainIds),m=(0,r.useSelector)(a.getTokenExchangeRates),h=(0,r.useSelector)(a.getTokensMarketData),p=(0,r.useSelector)(a.getMarketData),f=e&&t&&n,g=u.isGlobalNetworkSelectorRemoved?d:s;return(0,l.default)({startPolling:i.tokenRatesStartPolling,stopPollingByPollingToken:i.tokenRatesStopPollingByPollingToken,input:f?[g]:[]}),{tokenExchangeRates:m,tokensMarketData:h,marketData:p}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[6813,{"../../shared/constants/time":5449,"../../shared/modules/selectors/networks":5547,"../../shared/modules/string-utils":5551,"../selectors":7539,"./useEqualityCheck":6769,"@metamask/eth-token-tracker":1888,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:s=!1}){const{chainId:m,rpcUrl:h}=(0,o.useSelector)(c.getProviderConfig),{address:p}=(0,o.useSelector)(i.getSelectedInternalAccount,o.shallowEqual),f=t??p,[g,k]=(0,r.useState)(()=>(null==e?void 0:e.length)>=0),[T,v]=(0,r.useState)([]),[y,S]=(0,r.useState)(null),b=(0,r.useRef)(null),w=(0,d.useEqualityCheck)(e),I=(0,r.useCallback)(e=>{const t=(s?e.filter(e=>Number(e.balance)>0):e).map(e=>{const t=w.find(t=>(0,l.isEqualCaseInsensitive)(t.address,e.address));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}});v(t),k(!1),S(null)},[s,w]),_=(0,r.useCallback)(e=>{S(e),k(!1)},[]),C=(0,r.useCallback)(()=>{b.current&&(b.current.stop(),b.current.removeAllListeners("update"),b.current.removeAllListeners("error"),b.current=null)},[]),A=(0,r.useCallback)((e,t)=>{C(),b.current=new a.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*u.SECOND,balanceDecimals:5}),b.current.on("update",I),b.current.on("error",_),b.current.updateBalances()},[I,n,_,C]);return(0,r.useEffect)(()=>C,[C]),(0,r.useEffect)(()=>{k(!0),f&&m!==undefined&&global.ethereumProvider?(0===w.length&&I([]),A(f,w)):C()},[f,C,m,h,w,I,A]),{loading:g,tokensWithBalances:T,error:y}};var s,r=e("react"),a=(s=e("@metamask/eth-token-tracker"))&&s.__esModule?s:{default:s},o=e("react-redux"),i=e("../selectors"),c=e("../../shared/modules/selectors/networks"),u=e("../../shared/constants/time"),l=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[6814,{"../helpers/utils/token-cache-utils":6698,"../selectors/selectors":7555,"./useTrustSignals":6817,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTrustSignalsForAddresses=function(e,t){const n=(0,r.useSelector)(n=>(0,a.getTokenScanResultsForAddresses)(n,e,t));return(0,s.useMemo)(()=>e&&t&&Array.isArray(t)?t.map(t=>{if(!t)return{state:i.TrustSignalDisplayState.Unknown,label:null};const s=(0,o.generateTokenCacheKey)(e,t);return{state:c(n[s]),label:null}}):[],[e,t,n])};var s=e("react"),r=e("react-redux"),a=e("../selectors/selectors"),o=e("../helpers/utils/token-cache-utils"),i=e("./useTrustSignals");function c(e){var t;const n=null==e||null===(t=e.data)||void 0===t?void 0:t.result_type;if(!n)return i.TrustSignalDisplayState.Unknown;switch(n){case"Malicious":return i.TrustSignalDisplayState.Malicious;case"Warning":return i.TrustSignalDisplayState.Warning;default:return i.TrustSignalDisplayState.Unknown}}}}},{package:"$root$",file:"ui/hooks/useTokenTrustSignals.ts"}],[6815,{"../../shared/constants/network":5433,"../../shared/constants/swaps":5447,"../../shared/modules/hexstring-utils":5535,"../../shared/modules/selectors/networks":5547,"../../shared/modules/swaps.utils":5552,"../ducks/metamask/metamask":6632,"../ducks/swaps/swaps":6641,"../helpers/utils/token-util":6699,"../selectors":7539,"./useEqualityCheck":6769,"@metamask/assets-controllers":1157,"bignumber.js":3648,lodash:4534,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=v,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:s=g.TokenBucketPriority.owned}){const c=(0,a.useSelector)(d.getCurrentChainId),u=(0,a.useSelector)(l.getTokenExchangeRates,i.isEqual),f=(0,a.useSelector)(m.getConversionRate),k=(0,a.useSelector)(m.getCurrentCurrency),y=(0,a.useSelector)(l.getSwapsDefaultToken,a.shallowEqual),S=(0,a.useSelector)(l.getTokenList,i.isEqual),b=(0,T.useEqualityCheck)(t),w=(0,T.useEqualityCheck)(e),I=v(y,u,f,k,c,S),_=(0,T.useEqualityCheck)(I),C=(0,a.useSelector)(h.getSwapsTokens,i.isEqual)||[],A=C.length?C:[_,...n.filter(e=>e.symbol!==_.symbol)],E=(0,T.useEqualityCheck)(A);return(0,r.useMemo)(()=>{const e=w.reduce((e,t)=>({...e,[t.address.toLowerCase()]:t}),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([_,...E,...w],e=>e.address.toLowerCase()).forEach(n=>{const r=v({...e[n.address.toLowerCase()],...n},u,f,k,c,S);s===g.TokenBucketPriority.owned?(0,p.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):b[n.address.toLowerCase()]?t.top[b[n.address.toLowerCase()].index]=r:t.others.push(r):b[n.address.toLowerCase()]?t.top[b[n.address.toLowerCase()].index]=r:(0,p.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):t.others.push(r)}),t.owned=t.owned.sort(({rawFiat:e},{rawFiat:t})=>new o.default(e||0).gt(t||0)?-1:1),t.top=t.top.filter(Boolean),s===g.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]},[E,w,b,u,f,k,_,c,S,s])};var s,r=e("react"),a=e("react-redux"),o=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},i=e("lodash"),c=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),l=e("../selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../ducks/metamask/metamask"),h=e("../ducks/swaps/swaps"),p=e("../../shared/modules/swaps.utils"),f=e("../../shared/modules/hexstring-utils"),g=e("../../shared/constants/swaps"),k=e("../../shared/constants/network"),T=e("./useEqualityCheck");function v(e,t,n,s,r,a){var i,l;const{symbol:d,name:m,address:h,iconUrl:g,string:T,balance:v,decimals:y}=e;let S;(0,p.isSwapsDefaultTokenSymbol)(d,r)?S=1:T&&n>0&&(S=t[(0,f.toChecksumHexAddress)(h)]);const b=(0,u.getTokenFiatAmount)(S,n,s,T,d,!0)||"",w=b?(0,u.getTokenFiatAmount)(S,n,s,T,d,!1):"",I=r===k.CHAIN_IDS.SEPOLIA?k.CHAIN_IDS.MAINNET:r,_=(d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.SEPOLIA||d===k.CURRENCY_SYMBOLS.BNB&&r===k.CHAIN_IDS.BSC||d===k.CURRENCY_SYMBOLS.MATIC&&r===k.CHAIN_IDS.POLYGON||d===k.CURRENCY_SYMBOLS.AVALANCHE&&r===k.CHAIN_IDS.AVALANCHE||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.OPTIMISM||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.ARBITRUM||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.LINEA_MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.ZKSYNC_ERA||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.BASE?g:(0,c.formatIconUrlWithProxy)({chainId:I,tokenAddress:h||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:m||(null===(i=a[null==h?void 0:h.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:T&&`${new o.default(T).round(6).toString()} ${d}`,rightSecondaryLabel:b,iconUrl:_,identiconAddress:_?null:h,balance:v,decimals:y,name:m||(null===(l=a[null==h?void 0:h.toLowerCase()])||void 0===l?void 0:l.name),rawFiat:w,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[6816,{"../../shared/constants/bridge":5417,"../../shared/constants/transaction":5451,"../../shared/lib/metamask-controller-utils":5503,"../../shared/lib/transactions-controller-utils":5519,"../../shared/modules/string-utils":5551,"../ducks/bridge-status/selectors":6619,"../ducks/locale/locale":6631,"../ducks/metamask/metamask":6632,"../helpers/constants/common":6643,"../helpers/constants/transactions":6656,"../helpers/utils/common.util":6671,"../helpers/utils/token-util":6699,"../helpers/utils/transactions.util":6700,"../helpers/utils/util":6703,"../pages/bridge/hooks/useBridgeTokenDisplayData":6841,"../pages/confirmations/components/simulation-details/formatAmount":7089,"../selectors/selectors":7555,"../store/actions":7565,"./bridge/useBridgeChainInfo":6709,"./useCurrencyDisplay":6765,"./useCurrentAsset":6767,"./useI18nContext":6777,"./useSwappedTokenValue":6803,"./useTokenData":6807,"./useTokenDisplayValue":6809,"./useTokenFiatAmount":6810,"./useUserPreferencedCurrency":6818,"@metamask/transaction-controller":2754,"bignumber.js":3648,react:4961,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,D,B,$,U,F,L,j;const W=(0,s.useDispatch)(),H=(0,s.useSelector)(S.getIntlLocale),G=(0,O.useCurrentAsset)(),V=(0,s.useSelector)(i.getAllTokens),K=(0,s.useSelector)(i.getSelectedAddress),Y=(0,s.useSelector)(p.getNfts),q=(0,s.useSelector)(i.getAllDetectedTokens),Q=(0,s.useSelector)(i.selectERC20TokensByChain),z=(0,_.useI18nContext)(),X=e.initialTransaction.id,J=(0,s.useSelector)(e=>(0,I.selectBridgeHistoryItemForTxMetaId)(e,X)),{destNetwork:Z}=(0,R.default)({bridgeHistoryItem:J,srcTxMeta:e.initialTransaction}),ee=b.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==Z?void 0:Z.chainId],{initialTransaction:te,primaryTransaction:ne}=e,{transferInformation:se,type:re}=te,{from:ae,to:oe}=te.txParams||{},ie=[a.TransactionType.swap,a.TransactionType.bridge].includes(re)&&Boolean(J),ce=(0,s.useSelector)(e=>{var t;return(0,i.getKnownMethodData)(e,null==te||null===(t=te.txParams)||void 0===t?void 0:t.data)})||{},ue=(0,c.getStatusKey)(ne),le=ue in h.PENDING_STATUS_HASH,de=ue===a.TransactionStatus.submitted,me=(0,r.useRef)(!0),he=null===(t=ne.txParams)||void 0===t?void 0:t.value,pe=(0,m.formatDateWithYearContext)(te.time);let fe,ge="-",ke=!1,Te=oe;const ve=ae,ye=null==te||null===(n=te.txParams)||void 0===n?void 0:n.data,Se=h.TOKEN_CATEGORY_HASH[re];let be=null;const[we,Ie]=(0,r.useState)(null);var _e,Ce,Ae,Ee,Ne,Me;Se&&(be=(null==V||null===(_e=V[null==e||null===(Ce=e.initialTransaction)||void 0===Ce?void 0:Ce.chainId])||void 0===_e||null===(_e=_e[K])||void 0===_e?void 0:_e.find(({address:e})=>(0,k.isEqualCaseInsensitive)(e,Te)))||(null==q||null===(Ae=q[null==e||null===(Ee=e.initialTransaction)||void 0===Ee?void 0:Ee.chainId])||void 0===Ae||null===(Ae=Ae[K])||void 0===Ae?void 0:Ae.find(({address:e})=>(0,k.isEqualCaseInsensitive)(e,Te)))||(null==Q||null===(Ne=Q[null==e||null===(Me=e.initialTransaction)||void 0===Me?void 0:Me.chainId])||void 0===Ne||null===(Ne=Ne.data)||void 0===Ne?void 0:Ne[Te.toLowerCase()]));(0,r.useEffect)(()=>()=>{me.current=!1},[]),(0,r.useEffect)(()=>{!async function(){if(Se&&!be)try{const e=await(0,d.getAssetDetails)(Te,ve,ye,Y);!0===me.current&&Ie(e)}catch(e){console.warn("Unable to set asset details",{error:e,transactionData:ye})}}()},[Se,be,Te,ve,Y,me,ye]),we&&(be={address:we.toAddress,symbol:we.symbol,decimals:we.decimals});const Pe=(0,M.useTokenData)(ye,Se),Oe=(0,d.getTokenIdParam)(Pe)??(0,T.getTokenValueParam)(Pe),Re=Se&&Y.find(({address:e,tokenId:t})=>(0,k.isEqualCaseInsensitive)(e,Te)&&t===Oe);let De=(0,N.useTokenDisplayValue)(ye,be,Se);null!=se&&se.decimals&&(De=(0,w.calcTokenAmount)(se.amount,se.decimals).toString(10));const xe=(0,C.useTokenFiatAmount)(null===(D=be)||void 0===D?void 0:D.address,De,null===(B=be)||void 0===B?void 0:B.symbol,undefined,!0),Be=(0,m.stripHttpSchemes)(te.origin||(null===($=te.msgParams)||void 0===$?void 0:$.origin)||"");let $e,Ue,Fe=Se?null===(U=be)||void 0===U?void 0:U.symbol:undefined,Le=Se?De:undefined,je=Se?xe:undefined;const{swapTokenValue:We,isNegative:He,swapTokenFiatAmount:Ge,isViewingReceivedTokenFromSwap:Ve}=(0,P.useSwappedTokenValue)(e,G),Ke=(0,v.useBridgeTokenDisplayData)(e);if(x.includes(re))$e=f.TransactionGroupCategory.signatureRequest,Ue=z("signatureRequest"),fe=Be,ke=!0;else if(re===a.TransactionType.swap){$e=f.TransactionGroupCategory.swap,Ue=z("swapTokenToToken",[Ke.sourceTokenSymbol??te.sourceTokenSymbol,Ke.destinationTokenSymbol??te.destinationTokenSymbol]),fe=Be,ke=!0;const e=Ke.sourceTokenSymbol??te.sourceTokenSymbol;Fe=Ve?G.symbol:e;const t=Ke.sourceTokenAmountSent??We;Le=t?(0,y.formatAmount)(H,new o.default(t)):undefined,je=Ke.displayCurrencyAmount??Ge,ge=He?"":Ve?"+":"-"}else if(re===a.TransactionType.swapAndSend){const e=te.swapAndSendRecipient===ve;Te=te.swapAndSendRecipient,$e=f.TransactionGroupCategory.swapAndSend,Ue=z("sentTokenAsToken",[te.sourceTokenSymbol,te.destinationTokenSymbol]),fe=Be,ke=!0,Fe=Ve&&e?G.symbol:te.sourceTokenSymbol,Le=We,je=Ge,ge=He?"":Ve&&e?"+":"-"}else if(re===a.TransactionType.swapApproval)$e=f.TransactionGroupCategory.approval,Ue=z("swapApproval",[Ke.sourceTokenSymbol??ne.sourceTokenSymbol]),fe=Be,ke=!0,Fe=Ke.sourceTokenSymbol??ne.sourceTokenSymbol;else if(re===a.TransactionType.tokenMethodApprove){var Ye;$e=f.TransactionGroupCategory.approval,ge="",Ue=z("approveSpendingCap",[(null===(Ye=be)||void 0===Ye?void 0:Ye.symbol)||z("token").toLowerCase()]),fe=Be,ke=!0}else if(re===a.TransactionType.tokenMethodSetApprovalForAll){var qe,Qe,ze;const e=!(null!=Pe&&null!==(qe=Pe.args)&&void 0!==qe&&qe[1]);$e=f.TransactionGroupCategory.approval,ge="",Ue=e?z("revokePermissionTitle",[(null===(Qe=be)||void 0===Qe?void 0:Qe.symbol)||(null==Re?void 0:Re.name)||z("token")]):z("setApprovalForAllTitle",[(null===(ze=be)||void 0===ze?void 0:ze.symbol)||z("token")]),fe=Be,ke=!0}else if(re===a.TransactionType.tokenMethodIncreaseAllowance){var Xe;$e=f.TransactionGroupCategory.approval,ge="",Ue=z("approveIncreaseAllowance",[(null===(Xe=be)||void 0===Xe?void 0:Xe.symbol)||z("token")]),fe=Be,ke=!0}else if(re===a.TransactionType.contractInteraction||re===a.TransactionType.batch||re===a.TransactionType.revokeDelegation){$e=f.TransactionGroupCategory.interaction;const e=(0,c.getTransactionTypeTitle)(z,re);Ue=(null==ce?void 0:ce.name)&&(0,u.camelCaseToCapitalize)(ce.name)||e,fe=Be,ke=!0}else if(re===a.TransactionType.deployContract)$e=f.TransactionGroupCategory.interaction,Ue=(0,c.getTransactionTypeTitle)(z,re),fe=Be,ke=!0;else if(re===a.TransactionType.incoming)$e=f.TransactionGroupCategory.receive,Ue=z("received"),ge="",fe=z("fromAddress",[(0,m.shortenAddress)(ve)]);else if(re===a.TransactionType.tokenMethodTransferFrom||re===a.TransactionType.tokenMethodTransfer){var Je;$e=f.TransactionGroupCategory.send,Ue=z("sentSpecifiedTokens",[(null===(Je=be)||void 0===Je?void 0:Je.symbol)||(null==Re?void 0:Re.name)||z("token")]),Te=(0,d.getTokenAddressParam)(Pe),fe=z("toAddress",[(0,m.shortenAddress)(Te)])}else re===a.TransactionType.tokenMethodSafeTransferFrom?($e=f.TransactionGroupCategory.send,Ue=z("safeTransferFrom"),Te=(0,d.getTokenAddressParam)(Pe),fe=z("toAddress",[(0,m.shortenAddress)(Te)])):re===a.TransactionType.simpleSend?($e=f.TransactionGroupCategory.send,Ue=z("sent"),fe=z("toAddress",[(0,m.shortenAddress)(Te)])):re===a.TransactionType.bridgeApproval?($e=f.TransactionGroupCategory.approval,Ue=z("bridgeApproval",[Ke.sourceTokenSymbol]),fe=Be,ke=!0,Fe=Ke.sourceTokenSymbol):re===a.TransactionType.bridge?(Ue=ee?z("bridgedToChain",[ee]):z("bridged"),$e=Ke.category,Fe=Ke.sourceTokenSymbol,Le=(0,y.formatAmount)(H,new o.default(Ke.sourceTokenAmountSent??0)),je=Ke.displayCurrencyAmount):W((0,g.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${re}`));const Ze=Ue,et=(0,A.useUserPreferencedCurrency)(l.PRIMARY,{},null==e||null===(F=e.initialTransaction)||void 0===F?void 0:F.chainId),tt=(0,A.useUserPreferencedCurrency)(l.SECONDARY),[nt]=(0,E.useCurrencyDisplay)(he,{prefix:ge,displayValue:Le,suffix:Fe,...et},null==e||null===(L=e.initialTransaction)||void 0===L?void 0:L.chainId),[st]=(0,E.useCurrencyDisplay)(he,{prefix:ge,displayValue:ie?Ke.displayCurrencyAmount:je,hideLabel:Se||Boolean(We),...tt},null==e||null===(j=e.initialTransaction)||void 0===j?void 0:j.chainId);!Te&&se&&(Te=oe);return{title:Ue,category:$e,date:pe,subtitle:fe,subtitleContainsOrigin:ke,primaryCurrency:re===a.TransactionType.swap&&le?"":nt,senderAddress:ve,recipientAddress:Te,secondaryCurrency:Se&&!xe||!ie&&[a.TransactionType.swap,a.TransactionType.swapAndSend].includes(re)&&!Ge||ie&&!st?undefined:st,displayedStatusKey:ue,isPending:le,isSubmitted:de,detailsTitle:Ze}};var s=e("react-redux"),r=e("react"),a=e("@metamask/transaction-controller"),o=D(e("bignumber.js")),i=e("../selectors/selectors"),c=e("../helpers/utils/transactions.util"),u=e("../helpers/utils/common.util"),l=e("../helpers/constants/common"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),h=e("../helpers/constants/transactions"),p=e("../ducks/metamask/metamask"),f=e("../../shared/constants/transaction"),g=e("../store/actions"),k=e("../../shared/modules/string-utils"),T=e("../../shared/lib/metamask-controller-utils"),v=e("../pages/bridge/hooks/useBridgeTokenDisplayData"),y=e("../pages/confirmations/components/simulation-details/formatAmount"),S=e("../ducks/locale/locale"),b=e("../../shared/constants/bridge"),w=e("../../shared/lib/transactions-controller-utils"),I=e("../ducks/bridge-status/selectors"),_=e("./useI18nContext"),C=e("./useTokenFiatAmount"),A=e("./useUserPreferencedCurrency"),E=e("./useCurrencyDisplay"),N=e("./useTokenDisplayValue"),M=e("./useTokenData"),P=e("./useSwappedTokenValue"),O=e("./useCurrentAsset"),R=D(e("./bridge/useBridgeChainInfo"));function D(e){return e&&e.__esModule?e:{default:e}}const x=[null,undefined,a.TransactionType.sign,a.TransactionType.personalSign,a.TransactionType.signTypedData,a.TransactionType.ethDecrypt,a.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[6817,{"../../app/scripts/lib/trust-signals/types":289,"../selectors":7539,"@metamask/name-controller":2156,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrustSignalDisplayState=void 0,n.useTrustSignal=function(e,t){return c([{value:e,type:t}])[0]},n.useTrustSignals=c;var s=e("react-redux"),r=e("@metamask/name-controller"),a=e("../selectors"),o=e("../../app/scripts/lib/trust-signals/types");let i=n.TrustSignalDisplayState=function(e){return e.Loading="loading",e.Malicious="malicious",e.Petname="petname",e.Verified="verified",e.Warning="warning",e.Recognized="recognized",e.Unknown="unknown",e}({});function c(e){return(0,s.useSelector)(t=>e.map(({value:e,type:n})=>{if(n!==r.NameType.ETHEREUM_ADDRESS)return{state:i.Unknown,label:null};const s=(0,a.getAddressSecurityAlertResponse)(t,e);if(!s)return{state:i.Unknown,label:null};const c=s.label||null,u=function(e){if(!e.result_type)return i.Unknown;switch(e.result_type){case o.ResultType.Loading:return i.Loading;case o.ResultType.Malicious:return i.Malicious;case o.ResultType.Warning:return i.Warning;case o.ResultType.Trusted:return i.Verified;case o.ResultType.Benign:case o.ResultType.ErrorResult:default:return i.Unknown}}(s);return{state:u,label:c}}))}}}},{package:"$root$",file:"ui/hooks/useTrustSignals.ts"}],[6818,{"../../shared/constants/common":5418,"../../shared/constants/network":5433,"../constants":6600,"../helpers/constants/common":6643,"../selectors":7539,"../selectors/multichain":7548,"./useMultichainSelector":6787,"react-redux":4905},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={},n=null){const d=(0,s.useSelector)(r.getSelectedInternalAccount),m=t.account??d,h=(0,l.useMultichainSelector)(a.getMultichainNativeCurrency,m),{showNativeTokenAsMainBalance:p}=(0,s.useSelector)(r.getPreferences,s.shallowEqual),f=(0,l.useMultichainSelector)(a.getMultichainShouldShowFiat,m),g={currency:(0,l.useMultichainSelector)(a.getMultichainCurrentCurrency,m),numberOfDecimals:t.numberOfDecimals||2},k={currency:n?u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]||h||i.EtherDenomination.ETH:h||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||c.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return k;if(t.showFiatOverride)return g;if(!f)return k;if(t.shouldCheckShowNativeToken&&p||!t.shouldCheckShowNativeToken)return e===o.PRIMARY?k:g;return e===o.PRIMARY?g:k};var s=e("react-redux"),r=e("../selectors"),a=e("../selectors/multichain"),o=e("../helpers/constants/common"),i=e("../../shared/constants/common"),c=e("../constants"),u=e("../../shared/constants/network"),l=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[6819,{react:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useWindowFocus=void 0;var s=e("react");n.useWindowFocus=()=>{const[e,t]=(0,s.useState)(document.hasFocus());return(0,s.useEffect)(()=>{const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("focus",e),window.addEventListener("blur",n),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",n)}},[]),e}}}},{package:"$root$",file:"ui/hooks/useWindowFocus.ts"}],[6820,{"../app/scripts/constants/sentry-state":7,"../app/scripts/lib/util":290,"../shared/constants/alerts":5413,"../shared/constants/app":5415,"../shared/constants/copy":5419,"../shared/lib/error-utils":5497,"../shared/lib/promise-with-resolvers":5510,"../shared/lib/sentry":5511,"../shared/lib/switch-direction":5515,"../shared/lib/trace":5517,"../shared/modules/object.utils":5540,"../shared/modules/selectors/networks":5547,"./constants":6600,"./ducks/alerts":6614,"./ducks/metamask/metamask":6632,"./helpers/utils/critical-startup-error-handler":6673,"./helpers/utils/display-critical-error":6674,"./helpers/utils/tags":6697,"./helpers/utils/tx-helper":6702,"./pages":7288,"./selectors":7539,"./store/actions":7565,"./store/background-connection":7566,"./store/store":7570,"@metamask/chain-agnostic-permission":1281,"copy-to-clipboard":3829,loglevel:4542,react:4961,"react-dom":4855,"webextension-polyfill":5398},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CriticalErrorTranslationKey",{enumerable:!0,get:function(){return P.CriticalErrorTranslationKey}}),Object.defineProperty(n,"CriticalStartupErrorHandler",{enumerable:!0,get:function(){return M.CriticalStartupErrorHandler}}),n.connectToBackground=void 0,n.default=async function(e){const{backgroundConnection:t,traceContext:n}=e,s=await(0,T.trace)({name:T.TraceName.GetState,parentContext:n},t.getState.bind(t)),i=await async function(e,t){const{traceContext:n}=t,s=(0,E.getStartupTraceTags)({metamask:e}),i=await(0,T.trace)({name:T.TraceName.SetupStore,parentContext:n,tags:s},()=>x(e,t.activeTab));return global.metamask={updateCurrentLocale:e=>{i.dispatch(y.updateCurrentLocale(e))},setFeatureFlag:(e,t)=>{i.dispatch(y.setFeatureFlag(e,t))}},await(0,T.trace)({name:T.TraceName.InitialActions,parentContext:n},()=>async function(e){const t=e.getState(),n=(0,b.getNetworkToAutomaticallySwitchTo)(t);n&&await e.dispatch(y.automaticallySwitchNetwork(n));if((0,l.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP){const t=Date.now();global.metamask.id=t,await e.dispatch(y.setCurrentExtensionPopupId(t))}try{const n=async t=>{(0,I.getIsUnlocked)(t)&&await e.dispatch(y.checkIsSeedlessPasswordOutdated())};await n(t),setInterval(()=>{const t=e.getState();n(t)},N.SEEDLESS_PASSWORD_OUTDATED_CHECK_INTERVAL_MS)}catch(e){r.default.error("[Metamask] checkIsSeedlessPasswordOutdated error",e)}}(i)),(0,T.trace)({name:T.TraceName.FirstRender,parentContext:n},()=>(0,o.render)(a.default.createElement(_.default,{store:i}),t.container)),i}(s,e);return await t.startPatches(),function(e){0;window.stateHooks.getCleanAppState=async function(){return B(e)},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,m.maskObject)(t,h.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort((e,t)=>e.timestamp-t.timestamp)}}(i),i},Object.defineProperty(n,"displayCriticalError",{enumerable:!0,get:function(){return P.displayCriticalError}}),n.getCleanAppState=B,n.setupInitialStore=x;var s=R(e("copy-to-clipboard")),r=R(e("loglevel")),a=R(e("react")),o=e("react-dom"),i=R(e("webextension-polyfill")),c=e("@metamask/chain-agnostic-permission"),u=(e("../shared/lib/sentry"),e("../shared/lib/promise-with-resolvers")),l=e("../app/scripts/lib/util"),d=e("../shared/constants/alerts"),m=e("../shared/modules/object.utils"),h=e("../app/scripts/constants/sentry-state"),p=e("../shared/constants/app"),f=e("../shared/constants/copy"),g=e("../shared/lib/switch-direction"),k=e("../shared/lib/error-utils"),T=e("../shared/lib/trace"),v=e("../shared/modules/selectors/networks"),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("./store/actions")),S=R(e("./store/store")),b=e("./selectors"),w=e("./ducks/alerts"),I=e("./ducks/metamask/metamask"),_=R(e("./pages")),C=R(e("./helpers/utils/tx-helper")),A=e("./store/background-connection"),E=e("./helpers/utils/tags"),N=e("./constants"),M=e("./helpers/utils/critical-startup-error-handler"),P=e("./helpers/utils/display-critical-error");function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function R(e){return e&&e.__esModule?e:{default:e}}r.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const D=(0,u.withResolvers)();async function x(e,t){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:n,enLocaleMessages:s}=await(0,k.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,g.switchDirection)("rtl");const r={activeTab:t,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:n,en:s}};if((0,l.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP){const{origin:e}=r.activeTab,t=(0,b.getAllPermittedAccountsForCurrentTab)(r),n=(0,b.getSelectedInternalAccount)(r),s=n&&(0,c.isInternalAccountInPermittedAccountIds)(n,t),a=(0,I.getUnconnectedAccountAlertShown)(r),o=(0,I.getUnconnectedAccountAlertEnabledness)(r);e&&o&&!a[e]&&t.length>0&&!s&&(r[d.AlertTypes.unconnectedAccount]={state:w.ALERT_STATE.OPEN},y.setUnconnectedAccountAlertShown(e))}const a=(0,S.default)(r);D.resolve(a);const o=(0,b.getUnapprovedTransactions)(e),i=(0,C.default)(o,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,(0,v.getCurrentChainId)({metamask:e}));return i.length>0&&a.dispatch(y.showConfTxPage({id:i[0].id})),a}async function B(e){const t={...e.getState()};return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t.metamask={...t.metamask,socialLoginEmail:undefined},t}n.connectToBackground=(e,t)=>{(0,A.setBackgroundConnection)(e),e.onNotification(async e=>{const{method:n}=e;if("sendUpdate"===n){(await D.promise).dispatch(y.updateMetamaskState(e.params[0]))}else{if("startUISync"!==n)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);await t()}})},window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();i.default.runtime.getPlatformInfo().then(s=>{t.platform=s,t.logs=n;const r=JSON.stringify(t,null,2);e(null,r)}).catch(t=>{e(t)})},window.logState=function(e){return window.logStateString((t,n)=>{t?console.error(t.message):e?((0,s.default)(n,f.COPY_OPTIONS),console.log("State log copied")):console.log(n)})}}}},{package:"$root$",file:"ui/index.js"}],[6821,{"../../../shared/modules/string-utils":5551,"../../components/app/assets/nfts/nft-details/nft-details":5616,"../../ducks/metamask/metamask":6632,"../../helpers/constants/routes":6650,"../../selectors/assets":7531,"./components/native-asset":6831,"./components/token-asset":6832,react:4961,"react-redux":4905,"react-router-dom":4929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),a=e("react-router-dom"),o=e("../../../shared/modules/string-utils"),i=h(e("../../components/app/assets/nfts/nft-details/nft-details")),c=e("../../ducks/metamask/metamask"),u=e("../../helpers/constants/routes"),l=e("../../selectors/assets"),d=h(e("./components/native-asset")),m=h(e("./components/token-asset"));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useParams)(),{chainId:t,asset:n,id:h}=e,p=n?decodeURIComponent(n):undefined,f=(0,r.useSelector)(e=>(0,c.getNFTsByChainId)(e,t)),g=(0,r.useSelector)(e=>(0,l.getTokenByAccountAndAddressAndChainId)(e,undefined,p,t)),k=f.find(({address:e,tokenId:t})=>(0,o.isEqualCaseInsensitive)(e,p)&&h===t.toString());(0,s.useEffect)(()=>{const e=document.querySelector(".app");null==e||e.scroll(0,0)},[]);const T=(()=>{if(k)return s.default.createElement(i.default,{nft:k});if(!g||!t)return s.default.createElement(a.Redirect,{to:{pathname:u.DEFAULT_ROUTE}});return!g.isNative&&g.address?s.default.createElement(m.default,{chainId:t,token:g}):s.default.createElement(d.default,{chainId:t,token:g})})();return s.default.createElement("div",{className:"main-container asset__container"},T)}}}},{package:"$root$",file:"ui/pages/asset/asset.tsx"}]],[],{});