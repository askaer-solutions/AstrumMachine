LavaPack.loadBundle([[5336,{"./observable/empty":5356,"./observable/of":5368,"./observable/throwError":5374,"./util/isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.observeNotification=r.Notification=r.NotificationKind=void 0;var n=e("./observable/empty"),i=e("./observable/of"),o=e("./observable/throwError"),s=e("./util/isFunction");!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(r.NotificationKind||(r.NotificationKind={}));var a=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){return u(this,e)},e.prototype.do=function(e,t,r){var n=this,i=n.kind,o=n.value,s=n.error;return"N"===i?null==e?void 0:e(o):"E"===i?null==t?void 0:t(s):null==r?void 0:r()},e.prototype.accept=function(e,t,r){var n;return s.isFunction(null===(n=e)||void 0===n?void 0:n.next)?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this,t=e.kind,r=e.value,s=e.error,a="N"===t?i.of(r):"E"===t?o.throwError(function(){return s}):"C"===t?n.EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+t);return a},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",undefined,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function u(e,t){var r,n,i,o=e,s=o.kind,a=o.value,u=o.error;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(r=t.next)||void 0===r||r.call(t,a):"E"===s?null===(n=t.error)||void 0===n||n.call(t,u):null===(i=t.complete)||void 0===i||i.call(t)}r.Notification=a,r.observeNotification=u}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/Notification.js"}],[5337,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r){return{kind:e,value:t,error:r}}Object.defineProperty(r,"__esModule",{value:!0}),r.createNotification=r.nextNotification=r.errorNotification=r.COMPLETE_NOTIFICATION=void 0,r.COMPLETE_NOTIFICATION=n("C",undefined,undefined),r.errorNotification=function(e){return n("E",undefined,e)},r.nextNotification=function(e){return n("N",e,undefined)},r.createNotification=n}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/NotificationFactories.js"}],[5338,{"./Subscriber":5342,"./Subscription":5343,"./config":5344,"./symbol/observable":5521,"./util/errorContext":5536,"./util/isFunction":5542,"./util/pipe":5553},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Observable=void 0;var n=e("./Subscriber"),i=e("./Subscription"),o=e("./symbol/observable"),s=e("./util/pipe"),a=e("./config"),u=e("./util/isFunction"),c=e("./util/errorContext"),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var o,s=this,a=(o=e)&&o instanceof n.Subscriber||function(e){return e&&u.isFunction(e.next)&&u.isFunction(e.error)&&u.isFunction(e.complete)}(o)&&i.isSubscription(o)?e:new n.SafeSubscriber(e,t,r);return c.errorContext(function(){var e=s,t=e.operator,r=e.source;a.add(t?t.call(a,r):r?s._subscribe(a):s._trySubscribe(a))}),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=f(t))(function(t,i){var o=new n.SafeSubscriber({next:function(t){try{e(t)}catch(e){i(e),o.unsubscribe()}},error:i,complete:t});r.subscribe(o)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!=e?e:a.config.Promise)&&void 0!==t?t:Promise}r.Observable=l}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/Observable.js"}],[5339,{"./Subject":5341,"./scheduler/dateTimestampProvider":5514},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReplaySubject=void 0;var o=e("./Subject"),s=e("./scheduler/dateTimestampProvider"),a=function(e){function t(t,r,n){void 0===t&&(t=Infinity),void 0===r&&(r=Infinity),void 0===n&&(n=s.dateTimestampProvider);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===Infinity,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return i(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,i=r._buffer,o=r._infiniteTimeWindow,s=r._timestampProvider,a=r._windowTime;n||(i.push(t),!o&&i.push(s.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,i=e._infiniteTimeWindow,o=(i?1:2)*t;if(t<Infinity&&o<n.length&&n.splice(0,n.length-o),!i){for(var s=r.now(),a=0,u=1;u<n.length&&n[u]<=s;u+=2)a=u;a&&n.splice(0,a+1)}},t}(o.Subject);r.ReplaySubject=a}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/ReplaySubject.js"}],[534,{"../../../shared/constants/network":5800,"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=s,function(e){const t=o.CHAIN_IDS.SEI;(0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.isObject)(e.NetworkController.networkConfigurationsByChainId)&&(0,n.hasProperty)(e.NetworkController.networkConfigurationsByChainId,t)&&(0,n.isObject)(e.NetworkController.networkConfigurationsByChainId[t])&&(0,n.hasProperty)(e.NetworkController.networkConfigurationsByChainId[t],"name")&&"Sei Network"===e.NetworkController.networkConfigurationsByChainId[t].name&&(e.NetworkController.networkConfigurationsByChainId[t].name="Sei Mainnet")}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash"),o=e("../../../shared/constants/network");const s=r.version=173}}},{package:"$root$",file:"app/scripts/migrations/173.ts"}],[5340,{"./scheduler/dateTimestampProvider":5514},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Scheduler=void 0;var n=e("./scheduler/dateTimestampProvider"),i=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=n.dateTimestampProvider.now,e}();r.Scheduler=i}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/Scheduler.js"}],[5341,{"./Observable":5338,"./Subscription":5343,"./util/ObjectUnsubscribedError":5527,"./util/arrRemove":5533,"./util/errorContext":5536},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.AnonymousSubject=r.Subject=void 0;var s=e("./Observable"),a=e("./Subscription"),u=e("./util/ObjectUnsubscribedError"),c=e("./util/arrRemove"),l=e("./util/errorContext"),f=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;l.errorContext(function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=o(t.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(e)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;l.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;l.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?a.EMPTY_SUBSCRIPTION:(this.currentObservers=null,o.push(e),new a.Subscription(function(){t.currentObservers=null,c.arrRemove(o,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new s.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(s.Observable);r.Subject=f;var d=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return i(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:a.EMPTY_SUBSCRIPTION},t}(f);r.AnonymousSubject=d}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/Subject.js"}],[5342,{"./NotificationFactories":5337,"./Subscription":5343,"./config":5344,"./scheduler/timeoutProvider":5519,"./util/errorContext":5536,"./util/isFunction":5542,"./util/noop":5551,"./util/reportUnhandledError":5554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.EMPTY_OBSERVER=r.SafeSubscriber=r.Subscriber=void 0;var o=e("./util/isFunction"),s=e("./Subscription"),a=e("./config"),u=e("./util/reportUnhandledError"),c=e("./util/noop"),l=e("./NotificationFactories"),f=e("./scheduler/timeoutProvider"),d=e("./util/errorContext"),h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,s.isSubscription(t)&&t.add(n)):n.destination=r.EMPTY_OBSERVER,n}return i(t,e),t.create=function(e,t,r){return new g(e,t,r)},t.prototype.next=function(e){this.isStopped?y(l.nextNotification(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?y(l.errorNotification(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?y(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(s.Subscription);r.Subscriber=h;var p=Function.prototype.bind;function b(e,t){return p.call(e,t)}var m=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){v(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){v(e)}else v(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){v(e)}},e}(),g=function(e){function t(t,r,n){var i,s,u=e.call(this)||this;o.isFunction(t)||!t?i={next:null!=t?t:undefined,error:null!=r?r:undefined,complete:null!=n?n:undefined}:u&&a.config.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},i={next:t.next&&b(t.next,s),error:t.error&&b(t.error,s),complete:t.complete&&b(t.complete,s)}):i=t;return u.destination=new m(i),u}return i(t,e),t}(h);function v(e){a.config.useDeprecatedSynchronousErrorHandling?d.captureError(e):u.reportUnhandledError(e)}function y(e,t){var r=a.config.onStoppedNotification;r&&f.timeoutProvider.setTimeout(function(){return r(e,t)})}r.SafeSubscriber=g,r.EMPTY_OBSERVER={closed:!0,next:c.noop,error:function(e){throw e},complete:c.noop}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/Subscriber.js"}],[5343,{"./util/UnsubscriptionError":5529,"./util/arrRemove":5533,"./util/isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.isSubscription=r.EMPTY_SUBSCRIPTION=r.Subscription=void 0;var s=e("./util/isFunction"),a=e("./util/UnsubscriptionError"),u=e("./util/arrRemove"),c=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,u,c;if(!this.closed){this.closed=!0;var f=this._parentage;if(f)if(this._parentage=null,Array.isArray(f))try{for(var d=n(f),h=d.next();!h.done;h=d.next()){h.value.remove(this)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}else f.remove(this);var p=this.initialTeardown;if(s.isFunction(p))try{p()}catch(e){c=e instanceof a.UnsubscriptionError?e.errors:[e]}var b=this._finalizers;if(b){this._finalizers=null;try{for(var m=n(b),g=m.next();!g.done;g=m.next()){var v=g.value;try{l(v)}catch(e){c=null!=c?c:[],e instanceof a.UnsubscriptionError?c=o(o([],i(c)),i(e.errors)):c.push(e)}}}catch(e){r={error:e}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(r)throw r.error}}}if(c)throw new a.UnsubscriptionError(c)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&u.arrRemove(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&u.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){s.isFunction(e)?e():e.unsubscribe()}r.Subscription=c,r.EMPTY_SUBSCRIPTION=c.EMPTY,r.isSubscription=function(e){return e instanceof c||e&&"closed"in e&&s.isFunction(e.remove)&&s.isFunction(e.add)&&s.isFunction(e.unsubscribe)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/Subscription.js"}],[5344,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.config=void 0,r.config={onUnhandledError:null,onStoppedNotification:null,Promise:undefined,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/config.js"}],[5345,{"./Subscriber":5342,"./util/EmptyError":5524},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.firstValueFrom=void 0;var n=e("./util/EmptyError"),i=e("./Subscriber");r.firstValueFrom=function(e,t){var r="object"==typeof t;return new Promise(function(o,s){var a=new i.SafeSubscriber({next:function(e){o(e),a.unsubscribe()},error:s,complete:function(){r?o(t.defaultValue):s(new n.EmptyError)}});e.subscribe(a)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/firstValueFrom.js"}],[5346,{"./util/EmptyError":5524},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lastValueFrom=void 0;var n=e("./util/EmptyError");r.lastValueFrom=function(e,t){var r="object"==typeof t;return new Promise(function(i,o){var s,a=!1;e.subscribe({next:function(e){s=e,a=!0},error:o,complete:function(){a?i(s):r?i(t.defaultValue):o(new n.EmptyError)}})})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/lastValueFrom.js"}],[5347,{"../Observable":5338,"../Subscription":5343,"../operators/OperatorSubscriber":5378,"../operators/refCount":5448,"../util/lift":5549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectableObservable=void 0;var o=e("../Observable"),s=e("../Subscription"),a=e("../operators/refCount"),u=e("../operators/OperatorSubscriber"),c=e("../util/lift"),l=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,c.hasLift(t)&&(n.lift=t.lift),n}return i(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new s.Subscription;var r=this.getSubject();t.add(this.source.subscribe(u.createOperatorSubscriber(r,undefined,function(){e._teardown(),r.complete()},function(t){e._teardown(),r.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=s.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return a.refCount()(this)},t}(o.Observable);r.ConnectableObservable=l}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/ConnectableObservable.js"}],[5348,{"./bindCallbackInternals":5349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bindCallback=void 0;var n=e("./bindCallbackInternals");r.bindCallback=function(e,t,r){return n.bindCallbackInternals(!1,e,t,r)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/bindCallback.js"}],[5349,{"../AsyncSubject":5334,"../Observable":5338,"../operators/observeOn":5438,"../operators/subscribeOn":5466,"../util/isScheduler":5548,"../util/mapOneOrManyArgs":5550},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.bindCallbackInternals=void 0;var o=e("../util/isScheduler"),s=e("../Observable"),a=e("../operators/subscribeOn"),u=e("../util/mapOneOrManyArgs"),c=e("../operators/observeOn"),l=e("../AsyncSubject");r.bindCallbackInternals=function e(t,r,f,d){if(f){if(!o.isScheduler(f))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t,r,d).apply(this,n).pipe(u.mapOneOrManyArgs(f))};d=f}return d?function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t,r).apply(this,n).pipe(a.subscribeOn(d),c.observeOn(d))}:function(){for(var e=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=new l.AsyncSubject,c=!0;return new s.Observable(function(s){var a=u.subscribe(s);if(c){c=!1;var l=!1,f=!1;r.apply(e,i(i([],n(o)),[function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(t){var n=e.shift();if(null!=n)return void u.error(n)}u.next(1<e.length?e:e[0]),f=!0,l&&u.complete()}])),f&&u.complete(),l=!0}return a})}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/bindCallbackInternals.js"}],[535,{"../../../shared/lib/sentry":5881,"@metamask/bridge-controller":1275,"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,o.cloneDeep)(e);return t.meta.version=a,t.data=function(e){const t=null==e?void 0:e.BridgeStatusController;if(!(0,i.isObject)(t))return e;const{txHistory:r}=t;if(!(0,i.isObject)(r))return e;try{return Object.entries(r).forEach(([e,t])=>{var i,o;const s=(0,n.isSolanaChainId)(null===(i=t.status)||void 0===i||null===(i=i.srcChain)||void 0===i?void 0:i.chainId),a=null===(o=t.status)||void 0===o||null===(o=o.srcChain)||void 0===o?void 0:o.txHash;s&&a&&a!==e&&(r[a]={...t,txMetaId:a},delete r[e])}),e}catch(t){return(0,s.captureException)(new Error(`Migration ${a}: Failed to update bridge txHistory for solana to use txHash as key and txMetaId. Error: ${t.message}`)),e}}(t.data),t},r.version=void 0;var n=e("@metamask/bridge-controller"),i=e("@metamask/utils"),o=e("lodash"),s=e("../../../shared/lib/sentry");const a=r.version=174}}},{package:"$root$",file:"app/scripts/migrations/174.ts"}],[5350,{"./bindCallbackInternals":5349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bindNodeCallback=void 0;var n=e("./bindCallbackInternals");r.bindNodeCallback=function(e,t,r){return n.bindCallbackInternals(!0,e,t,r)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/bindNodeCallback.js"}],[5351,{"../Observable":5338,"../operators/OperatorSubscriber":5378,"../util/args":5530,"../util/argsArgArrayOrObject":5531,"../util/createObject":5535,"../util/executeSchedule":5537,"../util/identity":5538,"../util/mapOneOrManyArgs":5550,"./from":5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatestInit=r.combineLatest=void 0;var n=e("../Observable"),i=e("../util/argsArgArrayOrObject"),o=e("./from"),s=e("../util/identity"),a=e("../util/mapOneOrManyArgs"),u=e("../util/args"),c=e("../util/createObject"),l=e("../operators/OperatorSubscriber"),f=e("../util/executeSchedule");function d(e,t,r){return void 0===r&&(r=s.identity),function(n){h(t,function(){for(var i=e.length,s=new Array(i),a=i,u=i,c=function(i){h(t,function(){var c=o.from(e[i],t),f=!1;c.subscribe(l.createOperatorSubscriber(n,function(e){s[i]=e,f||(f=!0,u--),u||n.next(r(s.slice()))},function(){--a||n.complete()}))},n)},f=0;f<i;f++)c(f)},n)}}function h(e,t,r){e?f.executeSchedule(r,e,t):t()}r.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=u.popScheduler(e),l=u.popResultSelector(e),f=i.argsArgArrayOrObject(e),h=f.args,p=f.keys;if(0===h.length)return o.from([],r);var b=new n.Observable(d(h,r,p?function(e){return c.createObject(p,e)}:s.identity));return l?b.pipe(a.mapOneOrManyArgs(l)):b},r.combineLatestInit=d}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/combineLatest.js"}],[5352,{"../operators/concatAll":5392,"../util/args":5530,"./from":5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concat=void 0;var n=e("../operators/concatAll"),i=e("../util/args"),o=e("./from");r.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.concatAll()(o.from(e,i.popScheduler(e)))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/concat.js"}],[5353,{"../Observable":5338,"../Subject":5341,"./defer":5354},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.connectable=void 0;var n=e("../Subject"),i=e("../Observable"),o=e("./defer"),s={connector:function(){return new n.Subject},resetOnDisconnect:!0};r.connectable=function(e,t){void 0===t&&(t=s);var r=null,n=t.connector,a=t.resetOnDisconnect,u=void 0===a||a,c=n(),l=new i.Observable(function(e){return c.subscribe(e)});return l.connect=function(){return r&&!r.closed||(r=o.defer(function(){return e}).subscribe(c),u&&r.add(function(){return c=n()})),r},l}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/connectable.js"}],[5354,{"../Observable":5338,"./innerFrom":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.defer=void 0;var n=e("../Observable"),i=e("./innerFrom");r.defer=function(e){return new n.Observable(function(t){i.innerFrom(e()).subscribe(t)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/defer.js"}],[5355,{"../../Observable":5338,"../../scheduler/animationFrameProvider":5511,"../../scheduler/performanceTimestampProvider":5517},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.animationFrames=void 0;var n=e("../../Observable"),i=e("../../scheduler/performanceTimestampProvider"),o=e("../../scheduler/animationFrameProvider");function s(e){return new n.Observable(function(t){var r=e||i.performanceTimestampProvider,n=r.now(),s=0,a=function(){t.closed||(s=o.animationFrameProvider.requestAnimationFrame(function(i){s=0;var o=r.now();t.next({timestamp:e?o:i,elapsed:o-n}),a()}))};return a(),function(){s&&o.animationFrameProvider.cancelAnimationFrame(s)}})}r.animationFrames=function(e){return e?s(e):a};var a=s()}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/dom/animationFrames.js"}],[5356,{"../Observable":5338},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.empty=r.EMPTY=void 0;var n=e("../Observable");r.EMPTY=new n.Observable(function(e){return e.complete()}),r.empty=function(e){return e?function(e){return new n.Observable(function(t){return e.schedule(function(){return t.complete()})})}(e):r.EMPTY}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/empty.js"}],[5357,{"../Observable":5338,"../operators/OperatorSubscriber":5378,"../util/args":5530,"../util/argsArgArrayOrObject":5531,"../util/createObject":5535,"../util/mapOneOrManyArgs":5550,"./innerFrom":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.forkJoin=void 0;var n=e("../Observable"),i=e("../util/argsArgArrayOrObject"),o=e("./innerFrom"),s=e("../util/args"),a=e("../operators/OperatorSubscriber"),u=e("../util/mapOneOrManyArgs"),c=e("../util/createObject");r.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.popResultSelector(e),l=i.argsArgArrayOrObject(e),f=l.args,d=l.keys,h=new n.Observable(function(e){var t=f.length;if(t)for(var r=new Array(t),n=t,i=t,s=function(t){var s=!1;o.innerFrom(f[t]).subscribe(a.createOperatorSubscriber(e,function(e){s||(s=!0,i--),r[t]=e},function(){return n--},undefined,function(){n&&s||(i||e.next(d?c.createObject(d,r):r),e.complete())}))},u=0;u<t;u++)s(u);else e.complete()});return r?h.pipe(u.mapOneOrManyArgs(r)):h}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/forkJoin.js"}],[5358,{"../scheduled/scheduled":5499,"./innerFrom":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.from=void 0;var n=e("../scheduled/scheduled"),i=e("./innerFrom");r.from=function(e,t){return t?n.scheduled(e,t):i.innerFrom(e)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/from.js"}],[5359,{"../Observable":5338,"../observable/innerFrom":5364,"../operators/mergeMap":5432,"../util/isArrayLike":5539,"../util/isFunction":5542,"../util/mapOneOrManyArgs":5550},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(r,"__esModule",{value:!0}),r.fromEvent=void 0;var i=e("../observable/innerFrom"),o=e("../Observable"),s=e("../operators/mergeMap"),a=e("../util/isArrayLike"),u=e("../util/isFunction"),c=e("../util/mapOneOrManyArgs"),l=["addListener","removeListener"],f=["addEventListener","removeEventListener"],d=["on","off"];function h(e,t){return function(r){return function(n){return e[r](t,n)}}}r.fromEvent=function e(t,r,p,b){if(u.isFunction(p)&&(b=p,p=undefined),b)return e(t,r,p).pipe(c.mapOneOrManyArgs(b));var m=n(function(e){return u.isFunction(e.addEventListener)&&u.isFunction(e.removeEventListener)}(t)?f.map(function(e){return function(n){return t[e](r,n,p)}}):function(e){return u.isFunction(e.addListener)&&u.isFunction(e.removeListener)}(t)?l.map(h(t,r)):function(e){return u.isFunction(e.on)&&u.isFunction(e.off)}(t)?d.map(h(t,r)):[],2),g=m[0],v=m[1];if(!g&&a.isArrayLike(t))return s.mergeMap(function(t){return e(t,r,p)})(i.innerFrom(t));if(!g)throw new TypeError("Invalid event target");return new o.Observable(function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return g(t),function(){return v(t)}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/fromEvent.js"}],[536,{"../../../shared/constants/network":5800,"../../../shared/lib/sentry":5881,"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=a,t.data=function(e){try{const t="0x9da",r=e.NetworkController;if((0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(r)&&(0,n.hasProperty)(r,"networkConfigurationsByChainId")&&(0,n.isObject)(r.networkConfigurationsByChainId))for(const e of Object.values(r.networkConfigurationsByChainId))!(0,n.isObject)(e)||e.chainId!==o.CHAIN_IDS.FRAX&&e.chainId!==t||(0,n.hasProperty)(e,"nativeCurrency")&&(e.nativeCurrency="FRAX");return e}catch(t){return(0,s.captureException)(new Error(`Migration ${a}: Failed to update native currency for FRAX network configuration. Error: ${t.message}`)),e}}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash"),o=e("../../../shared/constants/network"),s=e("../../../shared/lib/sentry");const a=r.version=175}}},{package:"$root$",file:"app/scripts/migrations/175.ts"}],[5360,{"../Observable":5338,"../util/isFunction":5542,"../util/mapOneOrManyArgs":5550},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fromEventPattern=void 0;var n=e("../Observable"),i=e("../util/isFunction"),o=e("../util/mapOneOrManyArgs");r.fromEventPattern=function e(t,r,s){return s?e(t,r).pipe(o.mapOneOrManyArgs(s)):new n.Observable(function(e){var n=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1===t.length?t[0]:t)},o=t(n);return i.isFunction(r)?function(){return r(n,o)}:undefined})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/fromEventPattern.js"}],[5361,{"../Observable":5338},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fromSubscribable=void 0;var n=e("../Observable");r.fromSubscribable=function(e){return new n.Observable(function(t){return e.subscribe(t)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/fromSubscribable.js"}],[5362,{"../scheduled/scheduleIterable":5495,"../util/identity":5538,"../util/isScheduler":5548,"./defer":5354},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.generate=void 0;var i=e("../util/identity"),o=e("../util/isScheduler"),s=e("./defer"),a=e("../scheduled/scheduleIterable");r.generate=function(e,t,r,u,c){var l,f,d,h;function p(){var e;return n(this,function(n){switch(n.label){case 0:e=h,n.label=1;case 1:return t&&!t(e)?[3,4]:[4,d(e)];case 2:n.sent(),n.label=3;case 3:return e=r(e),[3,1];case 4:return[2]}})}return 1===arguments.length?(h=(l=e).initialState,t=l.condition,r=l.iterate,f=l.resultSelector,d=void 0===f?i.identity:f,c=l.scheduler):(h=e,!u||o.isScheduler(u)?(d=i.identity,c=u):d=u),s.defer(c?function(){return a.scheduleIterable(p(),c)}:p)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/generate.js"}],[5363,{"./defer":5354},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.iif=void 0;var n=e("./defer");r.iif=function(e,t,r){return n.defer(function(){return e()?t:r})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/iif.js"}],[5364,{"../Observable":5338,"../symbol/observable":5521,"../util/isArrayLike":5539,"../util/isAsyncIterable":5540,"../util/isFunction":5542,"../util/isInteropObservable":5543,"../util/isIterable":5544,"../util/isPromise":5546,"../util/isReadableStreamLike":5547,"../util/reportUnhandledError":5554,"../util/throwUnobservableError":5555},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof s?s(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,i,(t=e[r](t)).done,t.value)})}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.fromReadableStreamLike=r.fromAsyncIterable=r.fromIterable=r.fromPromise=r.fromArrayLike=r.fromInteropObservable=r.innerFrom=void 0;var a=e("../util/isArrayLike"),u=e("../util/isPromise"),c=e("../Observable"),l=e("../util/isInteropObservable"),f=e("../util/isAsyncIterable"),d=e("../util/throwUnobservableError"),h=e("../util/isIterable"),p=e("../util/isReadableStreamLike"),b=e("../util/isFunction"),m=e("../util/reportUnhandledError"),g=e("../symbol/observable");function v(e){return new c.Observable(function(t){var r=e[g.observable]();if(b.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function y(e){return new c.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function w(e){return new c.Observable(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,m.reportUnhandledError)})}function _(e){return new c.Observable(function(t){var r,n;try{for(var i=s(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function j(e){return new c.Observable(function(t){(function(e,t){var r,s,a,u;return n(this,void 0,void 0,function(){var n,c;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),r=o(e),i.label=1;case 1:return[4,r.next()];case 2:if((s=i.sent()).done)return[3,4];if(n=s.value,t.next(n),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=i.sent(),a={error:c},[3,11];case 6:return i.trys.push([6,,9,10]),s&&!s.done&&(u=r.return)?[4,u.call(r)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function k(e){return j(p.readableStreamLikeToAsyncGenerator(e))}r.innerFrom=function(e){if(e instanceof c.Observable)return e;if(null!=e){if(l.isInteropObservable(e))return v(e);if(a.isArrayLike(e))return y(e);if(u.isPromise(e))return w(e);if(f.isAsyncIterable(e))return j(e);if(h.isIterable(e))return _(e);if(p.isReadableStreamLike(e))return k(e)}throw d.createInvalidObservableTypeError(e)},r.fromInteropObservable=v,r.fromArrayLike=y,r.fromPromise=w,r.fromIterable=_,r.fromAsyncIterable=j,r.fromReadableStreamLike=k}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/innerFrom.js"}],[5365,{"../scheduler/async":5513,"./timer":5375},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.interval=void 0;var n=e("../scheduler/async"),i=e("./timer");r.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=n.asyncScheduler),e<0&&(e=0),i.timer(e,e,t)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/interval.js"}],[5366,{"../operators/mergeAll":5430,"../util/args":5530,"./empty":5356,"./from":5358,"./innerFrom":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.merge=void 0;var n=e("../operators/mergeAll"),i=e("./innerFrom"),o=e("./empty"),s=e("../util/args"),a=e("./from");r.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.popScheduler(e),u=s.popNumber(e,Infinity),c=e;return c.length?1===c.length?i.innerFrom(c[0]):n.mergeAll(u)(a.from(c,r)):o.EMPTY}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/merge.js"}],[5367,{"../Observable":5338,"../util/noop":5551},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.never=r.NEVER=void 0;var n=e("../Observable"),i=e("../util/noop");r.NEVER=new n.Observable(i.noop),r.never=function(){return r.NEVER}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/never.js"}],[5368,{"../util/args":5530,"./from":5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.of=void 0;var n=e("../util/args"),i=e("./from");r.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.popScheduler(e);return i.from(e,r)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/of.js"}],[5369,{"../Observable":5338,"../operators/OperatorSubscriber":5378,"../util/argsOrArgArray":5532,"../util/noop":5551,"./innerFrom":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.onErrorResumeNext=void 0;var n=e("../Observable"),i=e("../util/argsOrArgArray"),o=e("../operators/OperatorSubscriber"),s=e("../util/noop"),a=e("./innerFrom");r.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.argsOrArgArray(e);return new n.Observable(function(e){var t=0,n=function(){if(t<r.length){var i=void 0;try{i=a.innerFrom(r[t++])}catch(e){return void n()}var u=new o.OperatorSubscriber(e,undefined,s.noop,s.noop);i.subscribe(u),u.add(n)}else e.complete()};n()})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/onErrorResumeNext.js"}],[537,{"../../../shared/lib/sentry":5881,"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=s,t.data=function(e){try{const t=e.AppStateController;return(0,n.hasProperty)(e,"AppStateController")&&(0,n.isObject)(t)&&(0,n.hasProperty)(t,"addressSecurityAlertResponses")&&(0,n.isObject)(t.addressSecurityAlertResponses)&&(t.addressSecurityAlertResponses={}),e}catch(t){return(0,o.captureException)(new Error(`Migration ${s}: Failed to clear addressSecurityAlertResponses cache. Error: ${t.message}`)),e}}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash"),o=e("../../../shared/lib/sentry");const s=r.version=176.1}}},{package:"$root$",file:"app/scripts/migrations/176.1.ts"}],[5370,{"./from":5358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pairs=void 0;var n=e("./from");r.pairs=function(e,t){return n.from(Object.entries(e),t)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/pairs.js"}],[5371,{"../operators/filter":5414,"../util/not":5552,"./innerFrom":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.partition=void 0;var n=e("../util/not"),i=e("../operators/filter"),o=e("./innerFrom");r.partition=function(e,t,r){return[i.filter(t,r)(o.innerFrom(e)),i.filter(n.not(t,r))(o.innerFrom(e))]}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/partition.js"}],[5372,{"../Observable":5338,"../operators/OperatorSubscriber":5378,"../util/argsOrArgArray":5532,"./innerFrom":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.raceInit=r.race=void 0;var n=e("../Observable"),i=e("./innerFrom"),o=e("../util/argsOrArgArray"),s=e("../operators/OperatorSubscriber");function a(e){return function(t){for(var r=[],n=function(n){r.push(i.innerFrom(e[n]).subscribe(s.createOperatorSubscriber(t,function(e){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}t.next(e)})))},o=0;r&&!t.closed&&o<e.length;o++)n(o)}}r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=o.argsOrArgArray(e)).length?i.innerFrom(e[0]):new n.Observable(a(e))},r.raceInit=a}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/race.js"}],[5373,{"../Observable":5338,"./empty":5356},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.range=void 0;var n=e("../Observable"),i=e("./empty");r.range=function(e,t,r){if(null==t&&(t=e,e=0),t<=0)return i.EMPTY;var o=t+e;return new n.Observable(r?function(t){var n=e;return r.schedule(function(){n<o?(t.next(n++),this.schedule()):t.complete()})}:function(t){for(var r=e;r<o&&!t.closed;)t.next(r++);t.complete()})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/range.js"}],[5374,{"../Observable":5338,"../util/isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.throwError=void 0;var n=e("../Observable"),i=e("../util/isFunction");r.throwError=function(e,t){var r=i.isFunction(e)?e:function(){return e},o=function(e){return e.error(r())};return new n.Observable(t?function(e){return t.schedule(o,0,e)}:o)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/throwError.js"}],[5375,{"../Observable":5338,"../scheduler/async":5513,"../util/isDate":5541,"../util/isScheduler":5548},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timer=void 0;var n=e("../Observable"),i=e("../scheduler/async"),o=e("../util/isScheduler"),s=e("../util/isDate");r.timer=function(e,t,r){void 0===e&&(e=0),void 0===r&&(r=i.async);var a=-1;return null!=t&&(o.isScheduler(t)?r=t:a=t),new n.Observable(function(t){var n=s.isValidDate(e)?+e-r.now():e;n<0&&(n=0);var i=0;return r.schedule(function(){t.closed||(t.next(i++),0<=a?this.schedule(undefined,a):t.complete())},n)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/timer.js"}],[5376,{"../Observable":5338,"./empty":5356,"./innerFrom":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.using=void 0;var n=e("../Observable"),i=e("./innerFrom"),o=e("./empty");r.using=function(e,t){return new n.Observable(function(r){var n=e(),s=t(n);return(s?i.innerFrom(s):o.EMPTY).subscribe(r),function(){n&&n.unsubscribe()}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/using.js"}],[5377,{"../Observable":5338,"../operators/OperatorSubscriber":5378,"../util/args":5530,"../util/argsOrArgArray":5532,"./empty":5356,"./innerFrom":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.zip=void 0;var o=e("../Observable"),s=e("./innerFrom"),a=e("../util/argsOrArgArray"),u=e("./empty"),c=e("../operators/OperatorSubscriber"),l=e("../util/args");r.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popResultSelector(e),f=a.argsOrArgArray(e);return f.length?new o.Observable(function(e){var t=f.map(function(){return[]}),o=f.map(function(){return!1});e.add(function(){t=o=null});for(var a=function(a){s.innerFrom(f[a]).subscribe(c.createOperatorSubscriber(e,function(s){if(t[a].push(s),t.every(function(e){return e.length})){var u=t.map(function(e){return e.shift()});e.next(r?r.apply(void 0,i([],n(u))):u),t.some(function(e,t){return!e.length&&o[t]})&&e.complete()}},function(){o[a]=!0,!t[a].length&&e.complete()}))},u=0;!e.closed&&u<f.length;u++)a(u);return function(){t=o=null}}):u.EMPTY}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/observable/zip.js"}],[5378,{"../Subscriber":5342},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.OperatorSubscriber=r.createOperatorSubscriber=void 0;var o=e("../Subscriber");r.createOperatorSubscriber=function(e,t,r,n,i){return new s(e,t,r,n,i)};var s=function(e){function t(t,r,n,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return i(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(o.Subscriber);r.OperatorSubscriber=s}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/OperatorSubscriber.js"}],[5379,{"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.audit=void 0;var n=e("../util/lift"),i=e("../observable/innerFrom"),o=e("./OperatorSubscriber");r.audit=function(e){return n.operate(function(t,r){var n=!1,s=null,a=null,u=!1,c=function(){if(null==a||a.unsubscribe(),a=null,n){n=!1;var e=s;s=null,r.next(e)}u&&r.complete()},l=function(){a=null,u&&r.complete()};t.subscribe(o.createOperatorSubscriber(r,function(t){n=!0,s=t,a||i.innerFrom(e(t)).subscribe(a=o.createOperatorSubscriber(r,c,l))},function(){u=!0,(!n||!a||a.closed)&&r.complete()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/audit.js"}],[538,{"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,function(e){if(!(0,n.hasProperty)(e,"MultichainTransactionsController")||!(0,n.isObject)(e.MultichainTransactionsController))return console.warn("Skipping migration. MultichainTransactionsController state not found."),e;const t=e.MultichainTransactionsController;if(!(0,n.hasProperty)(t,"nonEvmTransactions")||!(0,n.isObject)(t.nonEvmTransactions)){var r,i;return null===(r=global.sentry)||void 0===r||null===(i=r.captureException)||void 0===i||i.call(r,new Error("Invalid nonEvmTransactions state: "+typeof t.nonEvmTransactions)),e}const{nonEvmTransactions:o}=t,u={};for(const[e,t]of Object.entries(o)){if(!a(t))throw new Error(`Invalid transaction state entry for account ${e}: expected TransactionStateEntry, got ${typeof t}`);u[e]={[s]:{transactions:t.transactions,next:t.next,lastUpdated:t.lastUpdated}}}t.nonEvmTransactions=u}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=r.version=176,s="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp";function a(e){return"object"==typeof e&&null!==e&&(0,n.hasProperty)(e,"transactions")&&(0,n.hasProperty)(e,"next")&&(0,n.hasProperty)(e,"lastUpdated")&&Array.isArray(e.transactions)&&("string"==typeof e.next||null===e.next)&&"number"==typeof e.lastUpdated}}}},{package:"$root$",file:"app/scripts/migrations/176.ts"}],[5380,{"../observable/timer":5375,"../scheduler/async":5513,"./audit":5379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.auditTime=void 0;var n=e("../scheduler/async"),i=e("./audit"),o=e("../observable/timer");r.auditTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.audit(function(){return o.timer(e,t)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/auditTime.js"}],[5381,{"../observable/innerFrom":5364,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.buffer=void 0;var n=e("../util/lift"),i=e("../util/noop"),o=e("./OperatorSubscriber"),s=e("../observable/innerFrom");r.buffer=function(e){return n.operate(function(t,r){var n=[];return t.subscribe(o.createOperatorSubscriber(r,function(e){return n.push(e)},function(){r.next(n),r.complete()})),s.innerFrom(e).subscribe(o.createOperatorSubscriber(r,function(){var e=n;n=[],r.next(e)},i.noop)),function(){n=null}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/buffer.js"}],[5382,{"../util/arrRemove":5533,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferCount=void 0;var i=e("../util/lift"),o=e("./OperatorSubscriber"),s=e("../util/arrRemove");r.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,i.operate(function(r,i){var a=[],u=0;r.subscribe(o.createOperatorSubscriber(i,function(r){var o,c,l,f,d=null;u++%t===0&&a.push([]);try{for(var h=n(a),p=h.next();!p.done;p=h.next()){(g=p.value).push(r),e<=g.length&&(d=null!=d?d:[]).push(g)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(o)throw o.error}}if(d)try{for(var b=n(d),m=b.next();!m.done;m=b.next()){var g=m.value;s.arrRemove(a,g),i.next(g)}}catch(e){l={error:e}}finally{try{m&&!m.done&&(f=b.return)&&f.call(b)}finally{if(l)throw l.error}}},function(){var e,t;try{for(var r=n(a),o=r.next();!o.done;o=r.next()){var s=o.value;i.next(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}i.complete()},undefined,function(){a=null}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/bufferCount.js"}],[5383,{"../Subscription":5343,"../scheduler/async":5513,"../util/args":5530,"../util/arrRemove":5533,"../util/executeSchedule":5537,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferTime=void 0;var i=e("../Subscription"),o=e("../util/lift"),s=e("./OperatorSubscriber"),a=e("../util/arrRemove"),u=e("../scheduler/async"),c=e("../util/args"),l=e("../util/executeSchedule");r.bufferTime=function(e){for(var t,r,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=null!==(t=c.popScheduler(f))&&void 0!==t?t:u.asyncScheduler,p=null!==(r=f[0])&&void 0!==r?r:null,b=f[1]||Infinity;return o.operate(function(t,r){var o=[],u=!1,c=function(e){var t=e.buffer;e.subs.unsubscribe(),a.arrRemove(o,e),r.next(t),u&&f()},f=function(){if(o){var t=new i.Subscription;r.add(t);var n={buffer:[],subs:t};o.push(n),l.executeSchedule(t,h,function(){return c(n)},e)}};null!==p&&p>=0?l.executeSchedule(r,h,f,p,!0):u=!0,f();var d=s.createOperatorSubscriber(r,function(e){var t,r,i=o.slice();try{for(var s=n(i),a=s.next();!a.done;a=s.next()){var u=a.value,l=u.buffer;l.push(e),b<=l.length&&c(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}},function(){for(;null==o?void 0:o.length;)r.next(o.shift().buffer);null==d||d.unsubscribe(),r.complete(),r.unsubscribe()},undefined,function(){return o=null});t.subscribe(d)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/bufferTime.js"}],[5384,{"../Subscription":5343,"../observable/innerFrom":5364,"../util/arrRemove":5533,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.bufferToggle=void 0;var i=e("../Subscription"),o=e("../util/lift"),s=e("../observable/innerFrom"),a=e("./OperatorSubscriber"),u=e("../util/noop"),c=e("../util/arrRemove");r.bufferToggle=function(e,t){return o.operate(function(r,o){var l=[];s.innerFrom(e).subscribe(a.createOperatorSubscriber(o,function(e){var r=[];l.push(r);var n=new i.Subscription;n.add(s.innerFrom(t(e)).subscribe(a.createOperatorSubscriber(o,function(){c.arrRemove(l,r),o.next(r),n.unsubscribe()},u.noop)))},u.noop)),r.subscribe(a.createOperatorSubscriber(o,function(e){var t,r;try{for(var i=n(l),o=i.next();!o.done;o=i.next()){o.value.push(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},function(){for(;l.length>0;)o.next(l.shift());o.complete()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/bufferToggle.js"}],[5385,{"../observable/innerFrom":5364,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bufferWhen=void 0;var n=e("../util/lift"),i=e("../util/noop"),o=e("./OperatorSubscriber"),s=e("../observable/innerFrom");r.bufferWhen=function(e){return n.operate(function(t,r){var n=null,a=null,u=function(){null==a||a.unsubscribe();var t=n;n=[],t&&r.next(t),s.innerFrom(e()).subscribe(a=o.createOperatorSubscriber(r,u,i.noop))};u(),t.subscribe(o.createOperatorSubscriber(r,function(e){return null==n?void 0:n.push(e)},function(){n&&r.next(n),r.complete()},undefined,function(){return n=a=null}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/bufferWhen.js"}],[5386,{"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.catchError=void 0;var n=e("../observable/innerFrom"),i=e("./OperatorSubscriber"),o=e("../util/lift");r.catchError=function e(t){return o.operate(function(r,o){var s,a=null,u=!1;a=r.subscribe(i.createOperatorSubscriber(o,undefined,undefined,function(i){s=n.innerFrom(t(i,e(t)(r))),a?(a.unsubscribe(),a=null,s.subscribe(o)):u=!0})),u&&(a.unsubscribe(),a=null,s.subscribe(o))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/catchError.js"}],[5387,{"./combineLatestAll":5389},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combineAll=void 0;var n=e("./combineLatestAll");r.combineAll=n.combineLatestAll}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/combineAll.js"}],[5388,{"../observable/combineLatest":5351,"../util/args":5530,"../util/argsOrArgArray":5532,"../util/lift":5549,"../util/mapOneOrManyArgs":5550,"../util/pipe":5553},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatest=void 0;var o=e("../observable/combineLatest"),s=e("../util/lift"),a=e("../util/argsOrArgArray"),u=e("../util/mapOneOrManyArgs"),c=e("../util/pipe"),l=e("../util/args");r.combineLatest=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var f=l.popResultSelector(t);return f?c.pipe(e.apply(void 0,i([],n(t))),u.mapOneOrManyArgs(f)):s.operate(function(e,r){o.combineLatestInit(i([e],n(a.argsOrArgArray(t))))(r)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/combineLatest.js"}],[5389,{"../observable/combineLatest":5351,"./joinAllInternals":5423},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatestAll=void 0;var n=e("../observable/combineLatest"),i=e("./joinAllInternals");r.combineLatestAll=function(e){return i.joinAllInternals(n.combineLatest,e)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/combineLatestAll.js"}],[539,{"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,function(e){if(!(0,n.hasProperty)(e,"UserStorageController")||!(0,n.isObject)(e.UserStorageController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("Invalid UserStorageController state: "+typeof e.UserStorageController)),e}(0,n.hasProperty)(e.UserStorageController,"hasAccountSyncingSyncedAtLeastOnce")&&delete e.UserStorageController.hasAccountSyncingSyncedAtLeastOnce;(0,n.hasProperty)(e.UserStorageController,"isAccountSyncingReadyToBeDispatched")&&delete e.UserStorageController.isAccountSyncingReadyToBeDispatched;(0,n.hasProperty)(e.UserStorageController,"isAccountSyncingInProgress")&&delete e.UserStorageController.isAccountSyncingInProgress}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=r.version=177}}},{package:"$root$",file:"app/scripts/migrations/177.ts"}],[5390,{"./combineLatest":5388},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.combineLatestWith=void 0;var o=e("./combineLatest");r.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.combineLatest.apply(void 0,i([],n(e)))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/combineLatestWith.js"}],[5391,{"../observable/from":5358,"../util/args":5530,"../util/lift":5549,"./concatAll":5392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.concat=void 0;var o=e("../util/lift"),s=e("./concatAll"),a=e("../util/args"),u=e("../observable/from");r.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.popScheduler(e);return o.operate(function(t,o){s.concatAll()(u.from(i([t],n(e)),r)).subscribe(o)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/concat.js"}],[5392,{"./mergeAll":5430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concatAll=void 0;var n=e("./mergeAll");r.concatAll=function(){return n.mergeAll(1)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/concatAll.js"}],[5393,{"../util/isFunction":5542,"./mergeMap":5432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concatMap=void 0;var n=e("./mergeMap"),i=e("../util/isFunction");r.concatMap=function(e,t){return i.isFunction(t)?n.mergeMap(e,t,1):n.mergeMap(e,1)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/concatMap.js"}],[5394,{"../util/isFunction":5542,"./concatMap":5393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concatMapTo=void 0;var n=e("./concatMap"),i=e("../util/isFunction");r.concatMapTo=function(e,t){return i.isFunction(t)?n.concatMap(function(){return e},t):n.concatMap(function(){return e})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/concatMapTo.js"}],[5395,{"./concat":5391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.concatWith=void 0;var o=e("./concat");r.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.concat.apply(void 0,i([],n(e)))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/concatWith.js"}],[5396,{"../Subject":5341,"../observable/fromSubscribable":5361,"../observable/innerFrom":5364,"../util/lift":5549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.connect=void 0;var n=e("../Subject"),i=e("../observable/innerFrom"),o=e("../util/lift"),s=e("../observable/fromSubscribable"),a={connector:function(){return new n.Subject}};r.connect=function(e,t){void 0===t&&(t=a);var r=t.connector;return o.operate(function(t,n){var o=r();i.innerFrom(e(s.fromSubscribable(o))).subscribe(n),n.add(t.subscribe(o))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/connect.js"}],[5397,{"./reduce":5447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.count=void 0;var n=e("./reduce");r.count=function(e){return n.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/count.js"}],[5398,{"../observable/innerFrom":5364,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.debounce=void 0;var n=e("../util/lift"),i=e("../util/noop"),o=e("./OperatorSubscriber"),s=e("../observable/innerFrom");r.debounce=function(e){return n.operate(function(t,r){var n=!1,a=null,u=null,c=function(){if(null==u||u.unsubscribe(),u=null,n){n=!1;var e=a;a=null,r.next(e)}};t.subscribe(o.createOperatorSubscriber(r,function(t){null==u||u.unsubscribe(),n=!0,a=t,u=o.createOperatorSubscriber(r,c,i.noop),s.innerFrom(e(t)).subscribe(u)},function(){c(),r.complete()},undefined,function(){a=u=null}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/debounce.js"}],[5399,{"../scheduler/async":5513,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.debounceTime=void 0;var n=e("../scheduler/async"),i=e("../util/lift"),o=e("./OperatorSubscriber");r.debounceTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.operate(function(r,n){var i=null,s=null,a=null,u=function(){if(i){i.unsubscribe(),i=null;var e=s;s=null,n.next(e)}};function c(){var r=a+e,o=t.now();if(o<r)return i=this.schedule(undefined,r-o),void n.add(i);u()}r.subscribe(o.createOperatorSubscriber(n,function(r){s=r,a=t.now(),i||(i=t.schedule(c,e),n.add(i))},function(){u(),n.complete()},undefined,function(){s=i=null}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/debounceTime.js"}],[54,{"../../../shared/constants/logs":5794,"@metamask/logging-controller":2112},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LoggingControllerInit=void 0;var n=e("@metamask/logging-controller"),i=e("../../../shared/constants/logs");r.LoggingControllerInit=({controllerMessenger:e,persistedState:t,extension:r})=>{const o=new n.LoggingController({messenger:e,state:t.LoggingController});return r.runtime.onInstalled.addListener(e=>{"update"===e.reason&&o.add({type:n.LogType.GenericLog,data:{event:i.LOG_EVENT.VERSION_UPDATE,previousVersion:e.previousVersion,version:"13.7.0"}})}),{controller:o}}}}},{package:"$root$",file:"app/scripts/controller-init/logging-controller-init.ts"}],[540,{"../../../shared/constants/network":5800,"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CHAINS_TO_RENAME=void 0,r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=s,function(e){if(!((0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"networkConfigurationsByChainId")&&(0,n.isObject)(e.NetworkController.networkConfigurationsByChainId)))return;for(const t of a){const r=e.NetworkController.networkConfigurationsByChainId;if(!(0,n.hasProperty)(r,t.id))continue;const i=r[t.id];(0,n.isObject)(i)&&(0,n.hasProperty)(i,"name")&&i.name===t.fromName&&(i.name=t.toName)}}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash"),o=e("../../../shared/constants/network");const s=r.version=178,a=r.CHAINS_TO_RENAME=[{id:o.CHAIN_IDS.MAINNET,fromName:"Ethereum Mainnet",toName:"Ethereum"},{id:o.CHAIN_IDS.LINEA_MAINNET,fromName:"Linea Mainnet",toName:"Linea"},{id:o.CHAIN_IDS.BASE,fromName:"Base Mainnet",toName:"Base"},{id:o.CHAIN_IDS.ARBITRUM,fromName:"Arbitrum One",toName:"Arbitrum"},{id:o.CHAIN_IDS.AVALANCHE,fromName:"Avalanche Network C-Chain",toName:"Avalanche"},{id:o.CHAIN_IDS.BSC,fromName:"Binance Smart Chain",toName:"BNB Chain"},{id:o.CHAIN_IDS.OPTIMISM,fromName:"OP Mainnet",toName:"OP"},{id:o.CHAIN_IDS.POLYGON,fromName:"Polygon Mainnet",toName:"Polygon"},{id:o.CHAIN_IDS.SEI,fromName:"Sei Mainnet",toName:"Sei"},{id:o.CHAIN_IDS.ZKSYNC_ERA,fromName:"zkSync Era Mainnet",toName:"zkSync Era"}]}}},{package:"$root$",file:"app/scripts/migrations/178.ts"}],[5400,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.defaultIfEmpty=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");r.defaultIfEmpty=function(e){return n.operate(function(t,r){var n=!1;t.subscribe(i.createOperatorSubscriber(r,function(e){n=!0,r.next(e)},function(){n||r.next(e),r.complete()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/defaultIfEmpty.js"}],[5401,{"../observable/timer":5375,"../scheduler/async":5513,"./delayWhen":5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.delay=void 0;var n=e("../scheduler/async"),i=e("./delayWhen"),o=e("../observable/timer");r.delay=function(e,t){void 0===t&&(t=n.asyncScheduler);var r=o.timer(e,t);return i.delayWhen(function(){return r})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/delay.js"}],[5402,{"../observable/concat":5352,"../observable/innerFrom":5364,"./ignoreElements":5421,"./mapTo":5426,"./mergeMap":5432,"./take":5471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.delayWhen=void 0;var n=e("../observable/concat"),i=e("./take"),o=e("./ignoreElements"),s=e("./mapTo"),a=e("./mergeMap"),u=e("../observable/innerFrom");r.delayWhen=function e(t,r){return r?function(s){return n.concat(r.pipe(i.take(1),o.ignoreElements()),s.pipe(e(t)))}:a.mergeMap(function(e,r){return u.innerFrom(t(e,r)).pipe(i.take(1),s.mapTo(e))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/delayWhen.js"}],[5403,{"../Notification":5336,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dematerialize=void 0;var n=e("../Notification"),i=e("../util/lift"),o=e("./OperatorSubscriber");r.dematerialize=function(){return i.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,function(e){return n.observeNotification(e,t)}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/dematerialize.js"}],[5404,{"../observable/innerFrom":5364,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.distinct=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber"),o=e("../util/noop"),s=e("../observable/innerFrom");r.distinct=function(e,t){return n.operate(function(r,n){var a=new Set;r.subscribe(i.createOperatorSubscriber(n,function(t){var r=e?e(t):t;a.has(r)||(a.add(r),n.next(t))})),t&&s.innerFrom(t).subscribe(i.createOperatorSubscriber(n,function(){return a.clear()},o.noop))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/distinct.js"}],[5405,{"../util/identity":5538,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.distinctUntilChanged=void 0;var n=e("../util/identity"),i=e("../util/lift"),o=e("./OperatorSubscriber");function s(e,t){return e===t}r.distinctUntilChanged=function(e,t){return void 0===t&&(t=n.identity),e=null!=e?e:s,i.operate(function(r,n){var i,s=!0;r.subscribe(o.createOperatorSubscriber(n,function(r){var o=t(r);!s&&e(i,o)||(s=!1,i=o,n.next(r))}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/distinctUntilChanged.js"}],[5406,{"./distinctUntilChanged":5405},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.distinctUntilKeyChanged=void 0;var n=e("./distinctUntilChanged");r.distinctUntilKeyChanged=function(e,t){return n.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/distinctUntilKeyChanged.js"}],[5407,{"../util/ArgumentOutOfRangeError":5523,"./defaultIfEmpty":5400,"./filter":5414,"./take":5471,"./throwIfEmpty":5478},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.elementAt=void 0;var n=e("../util/ArgumentOutOfRangeError"),i=e("./filter"),o=e("./throwIfEmpty"),s=e("./defaultIfEmpty"),a=e("./take");r.elementAt=function(e,t){if(e<0)throw new n.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(u){return u.pipe(i.filter(function(t,r){return r===e}),a.take(1),r?s.defaultIfEmpty(t):o.throwIfEmpty(function(){return new n.ArgumentOutOfRangeError}))}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/elementAt.js"}],[5408,{"../observable/concat":5352,"../observable/of":5368},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.endWith=void 0;var o=e("../observable/concat"),s=e("../observable/of");r.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return o.concat(t,s.of.apply(void 0,i([],n(e))))}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/endWith.js"}],[5409,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.every=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");r.every=function(e,t){return n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(i){e.call(t,i,o++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/every.js"}],[541,{"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,function(e){if((0,n.hasProperty)(e,"PhishingController")&&(0,n.isObject)(e.PhishingController)){const t=e.PhishingController;(0,n.hasProperty)(t,"urlScanCache")&&(t.urlScanCache={})}}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=r.version=179}}},{package:"$root$",file:"app/scripts/migrations/179.ts"}],[5410,{"./exhaustAll":5411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.exhaust=void 0;var n=e("./exhaustAll");r.exhaust=n.exhaustAll}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/exhaust.js"}],[5411,{"../util/identity":5538,"./exhaustMap":5412},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.exhaustAll=void 0;var n=e("./exhaustMap"),i=e("../util/identity");r.exhaustAll=function(){return n.exhaustMap(i.identity)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/exhaustAll.js"}],[5412,{"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378,"./map":5425},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.exhaustMap=void 0;var n=e("./map"),i=e("../observable/innerFrom"),o=e("../util/lift"),s=e("./OperatorSubscriber");r.exhaustMap=function e(t,r){return r?function(o){return o.pipe(e(function(e,o){return i.innerFrom(t(e,o)).pipe(n.map(function(t,n){return r(e,t,o,n)}))}))}:o.operate(function(e,r){var n=0,o=null,a=!1;e.subscribe(s.createOperatorSubscriber(r,function(e){o||(o=s.createOperatorSubscriber(r,undefined,function(){o=null,a&&r.complete()}),i.innerFrom(t(e,n++)).subscribe(o))},function(){a=!0,!o&&r.complete()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/exhaustMap.js"}],[5413,{"../util/lift":5549,"./mergeInternals":5431},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expand=void 0;var n=e("../util/lift"),i=e("./mergeInternals");r.expand=function(e,t,r){return void 0===t&&(t=Infinity),t=(t||0)<1?Infinity:t,n.operate(function(n,o){return i.mergeInternals(n,o,e,t,undefined,!0,r)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/expand.js"}],[5414,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.filter=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");r.filter=function(e,t){return n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(r){return e.call(t,r,o++)&&n.next(r)}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/filter.js"}],[5415,{"../util/lift":5549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.finalize=void 0;var n=e("../util/lift");r.finalize=function(e){return n.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/finalize.js"}],[5416,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFind=r.find=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");function o(e,t,r){var n="index"===r;return function(r,o){var s=0;r.subscribe(i.createOperatorSubscriber(o,function(i){var a=s++;e.call(t,i,a,r)&&(o.next(n?a:i),o.complete())},function(){o.next(n?-1:undefined),o.complete()}))}}r.find=function(e,t){return n.operate(o(e,t,"value"))},r.createFind=o}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/find.js"}],[5417,{"../util/lift":5549,"./find":5416},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.findIndex=void 0;var n=e("../util/lift"),i=e("./find");r.findIndex=function(e,t){return n.operate(i.createFind(e,t,"index"))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/findIndex.js"}],[5418,{"../util/EmptyError":5524,"../util/identity":5538,"./defaultIfEmpty":5400,"./filter":5414,"./take":5471,"./throwIfEmpty":5478},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.first=void 0;var n=e("../util/EmptyError"),i=e("./filter"),o=e("./take"),s=e("./defaultIfEmpty"),a=e("./throwIfEmpty"),u=e("../util/identity");r.first=function(e,t){var r=arguments.length>=2;return function(c){return c.pipe(e?i.filter(function(t,r){return e(t,r,c)}):u.identity,o.take(1),r?s.defaultIfEmpty(t):a.throwIfEmpty(function(){return new n.EmptyError}))}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/first.js"}],[5419,{"./mergeMap":5432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.flatMap=void 0;var n=e("./mergeMap");r.flatMap=n.mergeMap}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/flatMap.js"}],[542,{"../../../shared/constants/network":5800,"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getBaseNetworkConfiguration=a,r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=s,t.data=function(e){if(!(0,i.hasProperty)(e,"NetworkController"))return console.warn(`Migration ${s}: NetworkController not found.`),e;const t=e.NetworkController;if(!(0,i.isObject)(t)){var r,n;return null===(r=global.sentry)||void 0===r||null===(n=r.captureException)||void 0===n||n.call(r,new Error(`Migration ${s}: NetworkController is not an object: ${typeof t}`)),e}if(!(0,i.hasProperty)(t,"networkConfigurationsByChainId")){var u,c;return null===(u=global.sentry)||void 0===u||null===(c=u.captureException)||void 0===c||c.call(u,new Error(`Migration ${s}: NetworkController missing property networkConfigurationsByChainId.`)),e}if(!(0,i.isObject)(t.networkConfigurationsByChainId)){var l,f;return null===(l=global.sentry)||void 0===l||null===(f=l.captureException)||void 0===f||f.call(l,new Error(`Migration ${s}: NetworkController.networkConfigurationsByChainId is not an object: ${typeof t.networkConfigurationsByChainId}.`)),e}const d=t.networkConfigurationsByChainId[o.CHAIN_IDS.BASE];if(d&&(0,i.isObject)(d)){if((0,i.hasProperty)(d,"rpcEndpoints")&&Array.isArray(d.rpcEndpoints)&&d.rpcEndpoints.some(e=>(0,i.isObject)(e)&&(0,i.hasProperty)(e,"networkClientId")&&(0,i.hasProperty)(e,"type")&&"base-mainnet"===e.networkClientId&&"infura"===e.type))return e;const r=a(),n={...d,rpcEndpoints:[...Array.isArray(d.rpcEndpoints)?d.rpcEndpoints:[],...r.rpcEndpoints]};t.networkConfigurationsByChainId[o.CHAIN_IDS.BASE]=n}else t.networkConfigurationsByChainId[o.CHAIN_IDS.BASE]=a();return e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils"),o=e("../../../shared/constants/network");const s=r.version=180;function a(){return{blockExplorerUrls:[],chainId:"0x2105",defaultRpcEndpointIndex:0,name:"Base",nativeCurrency:"ETH",rpcEndpoints:[{failoverUrls:(0,o.getFailoverUrlsForInfuraNetwork)("base-mainnet"),networkClientId:"base-mainnet",type:"infura",url:"https://base-mainnet.infura.io/v3/{infuraProjectId}"}]}}}}},{package:"$root$",file:"app/scripts/migrations/180.ts"}],[5420,{"../Observable":5338,"../Subject":5341,"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.groupBy=void 0;var n=e("../Observable"),i=e("../observable/innerFrom"),o=e("../Subject"),s=e("../util/lift"),a=e("./OperatorSubscriber");r.groupBy=function(e,t,r,u){return s.operate(function(s,c){var l;t&&"function"!=typeof t?(r=t.duration,l=t.element,u=t.connector):l=t;var f=new Map,d=function(e){f.forEach(e),e(c)},h=function(e){return d(function(t){return t.error(e)})},p=0,b=!1,m=new a.OperatorSubscriber(c,function(t){try{var s=e(t),d=f.get(s);if(!d){f.set(s,d=u?u():new o.Subject);var g=(y=s,w=d,(_=new n.Observable(function(e){p++;var t=w.subscribe(e);return function(){t.unsubscribe(),0===--p&&b&&m.unsubscribe()}})).key=y,_);if(c.next(g),r){var v=a.createOperatorSubscriber(d,function(){d.complete(),null==v||v.unsubscribe()},undefined,undefined,function(){return f.delete(s)});m.add(i.innerFrom(r(g)).subscribe(v))}}d.next(l?l(t):t)}catch(e){h(e)}var y,w,_},function(){return d(function(e){return e.complete()})},h,function(){return f.clear()},function(){return b=!0,0===p});s.subscribe(m)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/groupBy.js"}],[5421,{"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ignoreElements=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber"),o=e("../util/noop");r.ignoreElements=function(){return n.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,o.noop))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/ignoreElements.js"}],[5422,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isEmpty=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");r.isEmpty=function(){return n.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/isEmpty.js"}],[5423,{"../util/identity":5538,"../util/mapOneOrManyArgs":5550,"../util/pipe":5553,"./mergeMap":5432,"./toArray":5483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.joinAllInternals=void 0;var n=e("../util/identity"),i=e("../util/mapOneOrManyArgs"),o=e("../util/pipe"),s=e("./mergeMap"),a=e("./toArray");r.joinAllInternals=function(e,t){return o.pipe(a.toArray(),s.mergeMap(function(t){return e(t)}),t?i.mapOneOrManyArgs(t):n.identity)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/joinAllInternals.js"}],[5424,{"../util/EmptyError":5524,"../util/identity":5538,"./defaultIfEmpty":5400,"./filter":5414,"./takeLast":5472,"./throwIfEmpty":5478},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.last=void 0;var n=e("../util/EmptyError"),i=e("./filter"),o=e("./takeLast"),s=e("./throwIfEmpty"),a=e("./defaultIfEmpty"),u=e("../util/identity");r.last=function(e,t){var r=arguments.length>=2;return function(c){return c.pipe(e?i.filter(function(t,r){return e(t,r,c)}):u.identity,o.takeLast(1),r?a.defaultIfEmpty(t):s.throwIfEmpty(function(){return new n.EmptyError}))}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/last.js"}],[5425,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.map=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");r.map=function(e,t){return n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(r){n.next(e.call(t,r,o++))}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/map.js"}],[5426,{"./map":5425},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapTo=void 0;var n=e("./map");r.mapTo=function(e){return n.map(function(){return e})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/mapTo.js"}],[5427,{"../Notification":5336,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.materialize=void 0;var n=e("../Notification"),i=e("../util/lift"),o=e("./OperatorSubscriber");r.materialize=function(){return i.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,function(e){t.next(n.Notification.createNext(e))},function(){t.next(n.Notification.createComplete()),t.complete()},function(e){t.next(n.Notification.createError(e)),t.complete()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/materialize.js"}],[5428,{"../util/isFunction":5542,"./reduce":5447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.max=void 0;var n=e("./reduce"),i=e("../util/isFunction");r.max=function(e){return n.reduce(i.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/max.js"}],[5429,{"../observable/from":5358,"../util/args":5530,"../util/argsOrArgArray":5532,"../util/lift":5549,"./mergeAll":5430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.merge=void 0;var o=e("../util/lift"),s=e("../util/argsOrArgArray"),a=e("./mergeAll"),u=e("../util/args"),c=e("../observable/from");r.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=u.popScheduler(e),l=u.popNumber(e,Infinity);return e=s.argsOrArgArray(e),o.operate(function(t,o){a.mergeAll(l)(c.from(i([t],n(e)),r)).subscribe(o)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/merge.js"}],[543,{lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){const t=null==e?void 0:e.PreferencesController;t&&delete t.showIncomingTransactions}(t.data),t},r.version=void 0;var n=e("lodash");const i=r.version=181}}},{package:"$root$",file:"app/scripts/migrations/181.ts"}],[5430,{"../util/identity":5538,"./mergeMap":5432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeAll=void 0;var n=e("./mergeMap"),i=e("../util/identity");r.mergeAll=function(e){return void 0===e&&(e=Infinity),n.mergeMap(i.identity,e)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/mergeAll.js"}],[5431,{"../observable/innerFrom":5364,"../util/executeSchedule":5537,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeInternals=void 0;var n=e("../observable/innerFrom"),i=e("../util/executeSchedule"),o=e("./OperatorSubscriber");r.mergeInternals=function(e,t,r,s,a,u,c,l){var f=[],d=0,h=0,p=!1,b=function(){!p||f.length||d||t.complete()},m=function(e){return d<s?g(e):f.push(e)},g=function(e){u&&t.next(e),d++;var l=!1;n.innerFrom(r(e,h++)).subscribe(o.createOperatorSubscriber(t,function(e){null==a||a(e),u?m(e):t.next(e)},function(){l=!0},undefined,function(){if(l)try{d--;for(var e=function(){var e=f.shift();c?i.executeSchedule(t,c,function(){return g(e)}):g(e)};f.length&&d<s;)e();b()}catch(e){t.error(e)}}))};return e.subscribe(o.createOperatorSubscriber(t,m,function(){p=!0,b()})),function(){null==l||l()}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/mergeInternals.js"}],[5432,{"../observable/innerFrom":5364,"../util/isFunction":5542,"../util/lift":5549,"./map":5425,"./mergeInternals":5431},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMap=void 0;var n=e("./map"),i=e("../observable/innerFrom"),o=e("../util/lift"),s=e("./mergeInternals"),a=e("../util/isFunction");r.mergeMap=function e(t,r,u){return void 0===u&&(u=Infinity),a.isFunction(r)?e(function(e,o){return n.map(function(t,n){return r(e,t,o,n)})(i.innerFrom(t(e,o)))},u):("number"==typeof r&&(u=r),o.operate(function(e,r){return s.mergeInternals(e,r,t,u)}))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/mergeMap.js"}],[5433,{"../util/isFunction":5542,"./mergeMap":5432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMapTo=void 0;var n=e("./mergeMap"),i=e("../util/isFunction");r.mergeMapTo=function(e,t,r){return void 0===r&&(r=Infinity),i.isFunction(t)?n.mergeMap(function(){return e},t,r):("number"==typeof t&&(r=t),n.mergeMap(function(){return e},r))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/mergeMapTo.js"}],[5434,{"../util/lift":5549,"./mergeInternals":5431},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeScan=void 0;var n=e("../util/lift"),i=e("./mergeInternals");r.mergeScan=function(e,t,r){return void 0===r&&(r=Infinity),n.operate(function(n,o){var s=t;return i.mergeInternals(n,o,function(t,r){return e(s,t,r)},r,function(e){s=e},!1,undefined,function(){return s=null})})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/mergeScan.js"}],[5435,{"./merge":5429},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.mergeWith=void 0;var o=e("./merge");r.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.merge.apply(void 0,i([],n(e)))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/mergeWith.js"}],[5436,{"../util/isFunction":5542,"./reduce":5447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.min=void 0;var n=e("./reduce"),i=e("../util/isFunction");r.min=function(e){return n.reduce(i.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/min.js"}],[5437,{"../observable/ConnectableObservable":5347,"../util/isFunction":5542,"./connect":5396},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multicast=void 0;var n=e("../observable/ConnectableObservable"),i=e("../util/isFunction"),o=e("./connect");r.multicast=function(e,t){var r=i.isFunction(e)?e:function(){return e};return i.isFunction(t)?o.connect(t,{connector:r}):function(e){return new n.ConnectableObservable(e,r)}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/multicast.js"}],[5438,{"../util/executeSchedule":5537,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.observeOn=void 0;var n=e("../util/executeSchedule"),i=e("../util/lift"),o=e("./OperatorSubscriber");r.observeOn=function(e,t){return void 0===t&&(t=0),i.operate(function(r,i){r.subscribe(o.createOperatorSubscriber(i,function(r){return n.executeSchedule(i,e,function(){return i.next(r)},t)},function(){return n.executeSchedule(i,e,function(){return i.complete()},t)},function(r){return n.executeSchedule(i,e,function(){return i.error(r)},t)}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/observeOn.js"}],[5439,{"../observable/onErrorResumeNext":5369,"../util/argsOrArgArray":5532},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.onErrorResumeNext=r.onErrorResumeNextWith=void 0;var o=e("../util/argsOrArgArray"),s=e("../observable/onErrorResumeNext");function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.argsOrArgArray(e);return function(e){return s.onErrorResumeNext.apply(void 0,i([e],n(r)))}}r.onErrorResumeNextWith=a,r.onErrorResumeNext=a}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/onErrorResumeNextWith.js"}],[544,{"@metamask/transaction-controller":2862,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){return function(o){const s=(0,n.cloneDeep)(o);s.meta.version=e;try{const e=function(e,t,r){const n=e,{TransactionController:o}=n;if(o&&o.transactions){const{transactions:e}=o;n.TransactionController.transactions=e.map(e=>t(e)?(e.status=i.TransactionStatus.failed,e.err={message:r,note:`Tx automatically failed by migration because ${r}`},e):e)}return n}(s.data,r,t);s.data=e}catch(t){console.warn(`MetaMask Migration #${e}${t.stack}`)}return Promise.resolve(s)}};var n=e("lodash"),i=e("@metamask/transaction-controller")}}},{package:"$root$",file:"app/scripts/migrations/fail-tx.js"}],[5440,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pairwise=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");r.pairwise=function(){return n.operate(function(e,t){var r,n=!1;e.subscribe(i.createOperatorSubscriber(t,function(e){var i=r;r=e,n&&t.next([i,e]),n=!0}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/pairwise.js"}],[5441,{"./map":5425},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pluck=void 0;var n=e("./map");r.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return n.map(function(t){for(var n=t,i=0;i<r;i++){var o=null==n?void 0:n[e[i]];if(void 0===o)return undefined;n=o}return n})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/pluck.js"}],[5442,{"../Subject":5341,"./connect":5396,"./multicast":5437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.publish=void 0;var n=e("../Subject"),i=e("./multicast"),o=e("./connect");r.publish=function(e){return e?function(t){return o.connect(e)(t)}:function(e){return i.multicast(new n.Subject)(e)}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/publish.js"}],[5443,{"../BehaviorSubject":5335,"../observable/ConnectableObservable":5347},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.publishBehavior=void 0;var n=e("../BehaviorSubject"),i=e("../observable/ConnectableObservable");r.publishBehavior=function(e){return function(t){var r=new n.BehaviorSubject(e);return new i.ConnectableObservable(t,function(){return r})}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/publishBehavior.js"}],[5444,{"../AsyncSubject":5334,"../observable/ConnectableObservable":5347},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.publishLast=void 0;var n=e("../AsyncSubject"),i=e("../observable/ConnectableObservable");r.publishLast=function(){return function(e){var t=new n.AsyncSubject;return new i.ConnectableObservable(e,function(){return t})}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/publishLast.js"}],[5445,{"../ReplaySubject":5339,"../util/isFunction":5542,"./multicast":5437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.publishReplay=void 0;var n=e("../ReplaySubject"),i=e("./multicast"),o=e("../util/isFunction");r.publishReplay=function(e,t,r,s){r&&!o.isFunction(r)&&(s=r);var a=o.isFunction(r)?r:undefined;return function(r){return i.multicast(new n.ReplaySubject(e,t,s),a)(r)}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/publishReplay.js"}],[5446,{"../observable/race":5372,"../util/identity":5538,"../util/lift":5549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.raceWith=void 0;var o=e("../observable/race"),s=e("../util/lift"),a=e("../util/identity");r.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?s.operate(function(t,r){o.raceInit(i([t],n(e)))(r)}):a.identity}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/raceWith.js"}],[5447,{"../util/lift":5549,"./scanInternals":5456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reduce=void 0;var n=e("./scanInternals"),i=e("../util/lift");r.reduce=function(e,t){return i.operate(n.scanInternals(e,t,arguments.length>=2,!1,!0))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/reduce.js"}],[5448,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.refCount=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");r.refCount=function(){return n.operate(function(e,t){var r=null;e._refCount++;var n=i.createOperatorSubscriber(t,undefined,undefined,undefined,function(){if(!e||e._refCount<=0||0<--e._refCount)r=null;else{var n=e._connection,i=r;r=null,!n||i&&n!==i||n.unsubscribe(),t.unsubscribe()}});e.subscribe(n),n.closed||(r=e.connect())})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/refCount.js"}],[5449,{"../observable/empty":5356,"../observable/innerFrom":5364,"../observable/timer":5375,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.repeat=void 0;var n=e("../observable/empty"),i=e("../util/lift"),o=e("./OperatorSubscriber"),s=e("../observable/innerFrom"),a=e("../observable/timer");r.repeat=function(e){var t,r,u=Infinity;return null!=e&&("object"==typeof e?(t=e.count,u=void 0===t?Infinity:t,r=e.delay):u=e),u<=0?function(){return n.EMPTY}:i.operate(function(e,t){var n,i=0,c=function(){if(null==n||n.unsubscribe(),n=null,null!=r){var e="number"==typeof r?a.timer(r):s.innerFrom(r(i)),u=o.createOperatorSubscriber(t,function(){u.unsubscribe(),l()});e.subscribe(u)}else l()},l=function(){var r=!1;n=e.subscribe(o.createOperatorSubscriber(t,undefined,function(){++i<u?n?c():r=!0:t.complete()})),r&&c()};l()})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/repeat.js"}],[545,{"./002":334,"./003":335,"./004":336,"./005":337,"./006":338,"./007":339,"./008":340,"./009":341,"./010":342,"./011":343,"./012":344,"./013":345,"./014":346,"./015":347,"./016":348,"./017":349,"./018":350,"./019":351,"./020":352,"./021":353,"./022":354,"./023":355,"./024":356,"./025":357,"./026":358,"./027":359,"./028":360,"./029":361,"./030":362,"./031":363,"./032":364,"./033":365,"./034":366,"./035":367,"./036":368,"./037":369,"./038":370,"./039":371,"./040":372,"./041":373,"./042":374,"./043":375,"./044":376,"./045":377,"./046":378,"./047":379,"./048":380,"./049":381,"./050":382,"./051":383,"./052":384,"./053":385,"./054":386,"./055":387,"./056":388,"./057":389,"./058":390,"./059":391,"./060":392,"./061":393,"./062":394,"./063":395,"./064":396,"./065":397,"./066":398,"./067":399,"./068":400,"./069":401,"./070":402,"./071":403,"./072":404,"./073":405,"./074":406,"./075":407,"./076":408,"./077":413,"./078":414,"./079":415,"./080":416,"./081":417,"./082":418,"./083":419,"./084":420,"./085":421,"./086":422,"./087":423,"./088":424,"./089":425,"./090":426,"./091":427,"./092":431,"./092.1":428,"./092.2":429,"./092.3":430,"./093":432,"./094":433,"./095":434,"./096":435,"./097":436,"./098":437,"./099":438,"./100":439,"./101":440,"./102":441,"./103":442,"./104":443,"./105":444,"./106":445,"./107":446,"./108":447,"./109":448,"./110":449,"./111":450,"./112":451,"./113":452,"./114":453,"./115":454,"./116":455,"./117":456,"./118":457,"./119":458,"./120":464,"./120.1":459,"./120.2":460,"./120.4":461,"./120.5":462,"./120.6":463,"./121":467,"./121.1":465,"./121.2":466,"./122":468,"./123":469,"./124":470,"./125":472,"./125.1":471,"./126":474,"./126.1":473,"./127":475,"./128":476,"./129":477,"./130":478,"./131":480,"./131.1":479,"./132":481,"./133":484,"./133.1":482,"./133.2":483,"./134":486,"./134.1":485,"./135":487,"./136":488,"./137":489,"./138":490,"./139":491,"./140":492,"./141":493,"./142":494,"./143":496,"./143.1":495,"./144":497,"./145":498,"./146":500,"./146.1":499,"./147":501,"./148":502,"./149":503,"./150":504,"./151":505,"./152":508,"./152.1":506,"./152.2":507,"./153":509,"./154":510,"./155":511,"./156":513,"./156.1":512,"./157":514,"./158":515,"./159":516,"./160":517,"./161":519,"./161.1":518,"./162":520,"./163":521,"./164":522,"./165":523,"./166":524,"./167":525,"./168":527,"./168.1":526,"./169":528,"./170":531,"./170.1":529,"./170.2":530,"./171":532,"./172":533,"./173":534,"./174":535,"./175":536,"./176":538,"./176.1":537,"./177":539,"./178":540,"./179":541,"./180":542,"./181":543},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const n=[e("./002").default,e("./003").default,e("./004").default,e("./005").default,e("./006").default,e("./007").default,e("./008").default,e("./009").default,e("./010").default,e("./011").default,e("./012").default,e("./013").default,e("./014").default,e("./015").default,e("./016").default,e("./017").default,e("./018").default,e("./019").default,e("./020").default,e("./021").default,e("./022").default,e("./023").default,e("./024").default,e("./025").default,e("./026").default,e("./027").default,e("./028").default,e("./029").default,e("./030").default,e("./031").default,e("./032").default,e("./033").default,e("./034").default,e("./035").default,e("./036").default,e("./037").default,e("./038").default,e("./039").default,e("./040").default,e("./041").default,e("./042").default,e("./043").default,e("./044").default,e("./045").default,e("./046").default,e("./047").default,e("./048").default,e("./049").default,e("./050").default,e("./051").default,e("./052").default,e("./053").default,e("./054").default,e("./055").default,e("./056").default,e("./057").default,e("./058").default,e("./059").default,e("./060").default,e("./061").default,e("./062").default,e("./063").default,e("./064").default,e("./065").default,e("./066").default,e("./067").default,e("./068").default,e("./069").default,e("./070").default,e("./071").default,e("./072").default,e("./073").default,e("./074").default,e("./075").default,e("./076").default,e("./077").default,e("./078"),e("./079").default,e("./080").default,e("./081"),e("./082"),e("./083"),e("./084"),e("./085"),e("./086"),e("./087"),e("./088"),e("./089"),e("./090"),e("./091"),e("./092"),e("./092.1"),e("./092.2"),e("./092.3"),e("./093"),e("./094"),e("./095"),e("./096"),e("./097"),e("./098"),e("./099"),e("./100"),e("./101"),e("./102"),e("./103"),e("./104"),e("./105"),e("./106"),e("./107"),e("./108"),e("./109"),e("./110"),e("./111"),e("./112"),e("./113"),e("./114"),e("./115"),e("./116"),e("./117"),e("./118"),e("./119"),e("./120"),e("./120.1"),e("./120.2"),e("./120.4"),e("./120.5"),e("./120.6"),e("./121"),e("./121.1"),e("./121.2"),e("./122"),e("./123"),e("./124"),e("./125"),e("./125.1"),e("./126"),e("./126.1"),e("./127"),e("./128"),e("./129"),e("./130"),e("./131"),e("./131.1"),e("./132"),e("./133"),e("./133.1"),e("./133.2"),e("./134"),e("./134.1"),e("./135"),e("./136"),e("./137"),e("./138"),e("./139"),e("./140"),e("./141"),e("./142"),e("./143"),e("./143.1"),e("./144"),e("./145"),e("./146"),e("./146.1"),e("./147"),e("./148"),e("./149"),e("./150"),e("./151"),e("./152"),e("./152.1"),e("./152.2"),e("./153"),e("./154"),e("./155"),e("./156"),e("./156.1"),e("./157"),e("./158"),e("./159"),e("./160"),e("./161"),e("./161.1"),e("./162"),e("./163"),e("./164"),e("./165"),e("./166"),e("./167"),e("./168"),e("./168.1"),e("./169"),e("./170"),e("./170.1"),e("./170.2"),e("./171"),e("./172"),e("./173"),e("./174"),e("./175"),e("./176"),e("./176.1"),e("./177"),e("./178"),e("./179"),e("./180"),e("./181")];r.default=n}}},{package:"$root$",file:"app/scripts/migrations/index.js"}],[5450,{"../Subject":5341,"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.repeatWhen=void 0;var n=e("../observable/innerFrom"),i=e("../Subject"),o=e("../util/lift"),s=e("./OperatorSubscriber");r.repeatWhen=function(e){return o.operate(function(t,r){var o,a,u=!1,c=!1,l=!1,f=function(){return l&&c&&(r.complete(),!0)},d=function(){l=!1,o=t.subscribe(s.createOperatorSubscriber(r,undefined,function(){l=!0,!f()&&(a||(a=new i.Subject,n.innerFrom(e(a)).subscribe(s.createOperatorSubscriber(r,function(){o?d():u=!0},function(){c=!0,f()}))),a).next()})),u&&(o.unsubscribe(),o=null,u=!1,d())};d()})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/repeatWhen.js"}],[5451,{"../observable/innerFrom":5364,"../observable/timer":5375,"../util/identity":5538,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.retry=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber"),o=e("../util/identity"),s=e("../observable/timer"),a=e("../observable/innerFrom");r.retry=function(e){var t;void 0===e&&(e=Infinity);var r=(t=e&&"object"==typeof e?e:{count:e}).count,u=void 0===r?Infinity:r,c=t.delay,l=t.resetOnSuccess,f=void 0!==l&&l;return u<=0?o.identity:n.operate(function(e,t){var r,n=0,o=function(){var l=!1;r=e.subscribe(i.createOperatorSubscriber(t,function(e){f&&(n=0),t.next(e)},undefined,function(e){if(n++<u){var f=function(){r?(r.unsubscribe(),r=null,o()):l=!0};if(null!=c){var d="number"==typeof c?s.timer(c):a.innerFrom(c(e,n)),h=i.createOperatorSubscriber(t,function(){h.unsubscribe(),f()},function(){t.complete()});d.subscribe(h)}else f()}else t.error(e)})),l&&(r.unsubscribe(),r=null,o())};o()})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/retry.js"}],[5452,{"../Subject":5341,"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.retryWhen=void 0;var n=e("../observable/innerFrom"),i=e("../Subject"),o=e("../util/lift"),s=e("./OperatorSubscriber");r.retryWhen=function(e){return o.operate(function(t,r){var o,a,u=!1,c=function(){o=t.subscribe(s.createOperatorSubscriber(r,undefined,undefined,function(t){a||(a=new i.Subject,n.innerFrom(e(a)).subscribe(s.createOperatorSubscriber(r,function(){return o?c():u=!0}))),a&&a.next(t)})),u&&(o.unsubscribe(),o=null,u=!1,c())};c()})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/retryWhen.js"}],[5453,{"../observable/innerFrom":5364,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sample=void 0;var n=e("../observable/innerFrom"),i=e("../util/lift"),o=e("../util/noop"),s=e("./OperatorSubscriber");r.sample=function(e){return i.operate(function(t,r){var i=!1,a=null;t.subscribe(s.createOperatorSubscriber(r,function(e){i=!0,a=e})),n.innerFrom(e).subscribe(s.createOperatorSubscriber(r,function(){if(i){i=!1;var e=a;a=null,r.next(e)}},o.noop))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/sample.js"}],[5454,{"../observable/interval":5365,"../scheduler/async":5513,"./sample":5453},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sampleTime=void 0;var n=e("../scheduler/async"),i=e("./sample"),o=e("../observable/interval");r.sampleTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.sample(o.interval(e,t))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/sampleTime.js"}],[5455,{"../util/lift":5549,"./scanInternals":5456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.scan=void 0;var n=e("../util/lift"),i=e("./scanInternals");r.scan=function(e,t){return n.operate(i.scanInternals(e,t,arguments.length>=2,!0))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/scan.js"}],[5456,{"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.scanInternals=void 0;var n=e("./OperatorSubscriber");r.scanInternals=function(e,t,r,i,o){return function(s,a){var u=r,c=t,l=0;s.subscribe(n.createOperatorSubscriber(a,function(t){var r=l++;c=u?e(c,t,r):(u=!0,t),i&&a.next(c)},o&&function(){u&&a.next(c),a.complete()}))}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/scanInternals.js"}],[5457,{"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sequenceEqual=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber"),o=e("../observable/innerFrom");r.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),n.operate(function(r,n){var s={buffer:[],complete:!1},a={buffer:[],complete:!1},u=function(e){n.next(e),n.complete()},c=function(e,r){var o=i.createOperatorSubscriber(n,function(n){var i=r.buffer,o=r.complete;0===i.length?o?u(!1):e.buffer.push(n):!t(n,i.shift())&&u(!1)},function(){e.complete=!0;var t=r.complete,n=r.buffer;t&&u(0===n.length),null==o||o.unsubscribe()});return o};r.subscribe(c(s,a)),o.innerFrom(e).subscribe(c(a,s))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/sequenceEqual.js"}],[5458,{"../Subject":5341,"../Subscriber":5342,"../observable/innerFrom":5364,"../util/lift":5549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.share=void 0;var o=e("../observable/innerFrom"),s=e("../Subject"),a=e("../Subscriber"),u=e("../util/lift");function c(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(!0!==t){if(!1!==t){var u=new a.SafeSubscriber({next:function(){u.unsubscribe(),e()}});return o.innerFrom(t.apply(void 0,i([],n(r)))).subscribe(u)}}else e()}r.share=function(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new s.Subject}:t,n=e.resetOnError,i=void 0===n||n,l=e.resetOnComplete,f=void 0===l||l,d=e.resetOnRefCountZero,h=void 0===d||d;return function(e){var t,n,s,l=0,d=!1,p=!1,b=function(){null==n||n.unsubscribe(),n=undefined},m=function(){b(),t=s=undefined,d=p=!1},g=function(){var e=t;m(),null==e||e.unsubscribe()};return u.operate(function(e,u){l++,p||d||b();var v=s=null!=s?s:r();u.add(function(){0!==--l||p||d||(n=c(g,h))}),v.subscribe(u),!t&&l>0&&(t=new a.SafeSubscriber({next:function(e){return v.next(e)},error:function(e){p=!0,b(),n=c(m,i,e),v.error(e)},complete:function(){d=!0,b(),n=c(m,f),v.complete()}}),o.innerFrom(e).subscribe(t))})(e)}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/share.js"}],[5459,{"../ReplaySubject":5339,"./share":5458},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.shareReplay=void 0;var n=e("../ReplaySubject"),i=e("./share");r.shareReplay=function(e,t,r){var o,s,a,u,c=!1;return e&&"object"==typeof e?(o=e.bufferSize,u=void 0===o?Infinity:o,s=e.windowTime,t=void 0===s?Infinity:s,c=void 0!==(a=e.refCount)&&a,r=e.scheduler):u=null!=e?e:Infinity,i.share({connector:function(){return new n.ReplaySubject(u,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/shareReplay.js"}],[546,{"../../shared/constants/offscreen-communication":5802,"../../shared/lib/sentry":5881},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createOffscreen=async function(){const{chrome:e}=globalThis;if(!e.offscreen)return;let t;const r=new Promise(r=>{t=n=>{n.target===i.OffscreenCommunicationTarget.extensionMain&&n.isBooted&&(e.runtime.onMessage.removeListener(t),r())},e.runtime.onMessage.addListener(t)});try{const t=await async function(){const{chrome:e,clients:t}=globalThis;if("getContexts"in e.runtime){return(await e.runtime.getContexts({contextTypes:["OFFSCREEN_DOCUMENT"]})).length>0}const r=await t.matchAll(),n=e.runtime.getURL("offscreen.html");return r.some(e=>e.url===n)}();t&&(console.debug("Found existing offscreen document, closing."),await e.offscreen.closeDocument()),await e.offscreen.createDocument({url:"./offscreen.html",reasons:["IFRAME_SCRIPTING"],justification:"Used for Hardware Wallet and Snaps scripts to communicate with the extension."})}catch(r){return t&&e.runtime.onMessage.removeListener(t),void(0,n.captureException)(r)}const o=new Promise(e=>{setTimeout(e,i.OFFSCREEN_LOAD_TIMEOUT)});await Promise.race([r,o]),console.debug("Offscreen iframe loaded")};var n=e("../../shared/lib/sentry"),i=e("../../shared/constants/offscreen-communication")}}},{package:"$root$",file:"app/scripts/offscreen.js"}],[5460,{"../util/EmptyError":5524,"../util/NotFoundError":5526,"../util/SequenceError":5528,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.single=void 0;var n=e("../util/EmptyError"),i=e("../util/SequenceError"),o=e("../util/NotFoundError"),s=e("../util/lift"),a=e("./OperatorSubscriber");r.single=function(e){return s.operate(function(t,r){var s,u=!1,c=!1,l=0;t.subscribe(a.createOperatorSubscriber(r,function(n){c=!0,e&&!e(n,l++,t)||(u&&r.error(new i.SequenceError("Too many matching values")),u=!0,s=n)},function(){u?(r.next(s),r.complete()):r.error(c?new o.NotFoundError("No matching values"):new n.EmptyError)}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/single.js"}],[5461,{"./filter":5414},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.skip=void 0;var n=e("./filter");r.skip=function(e){return n.filter(function(t,r){return e<=r})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/skip.js"}],[5462,{"../util/identity":5538,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.skipLast=void 0;var n=e("../util/identity"),i=e("../util/lift"),o=e("./OperatorSubscriber");r.skipLast=function(e){return e<=0?n.identity:i.operate(function(t,r){var n=new Array(e),i=0;return t.subscribe(o.createOperatorSubscriber(r,function(t){var o=i++;if(o<e)n[o]=t;else{var s=o%e,a=n[s];n[s]=t,r.next(a)}})),function(){n=null}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/skipLast.js"}],[5463,{"../observable/innerFrom":5364,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.skipUntil=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber"),o=e("../observable/innerFrom"),s=e("../util/noop");r.skipUntil=function(e){return n.operate(function(t,r){var n=!1,a=i.createOperatorSubscriber(r,function(){null==a||a.unsubscribe(),n=!0},s.noop);o.innerFrom(e).subscribe(a),t.subscribe(i.createOperatorSubscriber(r,function(e){return n&&r.next(e)}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/skipUntil.js"}],[5464,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.skipWhile=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");r.skipWhile=function(e){return n.operate(function(t,r){var n=!1,o=0;t.subscribe(i.createOperatorSubscriber(r,function(t){return(n||(n=!e(t,o++)))&&r.next(t)}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/skipWhile.js"}],[5465,{"../observable/concat":5352,"../util/args":5530,"../util/lift":5549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.startWith=void 0;var n=e("../observable/concat"),i=e("../util/args"),o=e("../util/lift");r.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.popScheduler(e);return o.operate(function(t,i){(r?n.concat(e,t,r):n.concat(e,t)).subscribe(i)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/startWith.js"}],[5466,{"../util/lift":5549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subscribeOn=void 0;var n=e("../util/lift");r.subscribeOn=function(e,t){return void 0===t&&(t=0),n.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/subscribeOn.js"}],[5467,{"../util/identity":5538,"./switchMap":5468},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.switchAll=void 0;var n=e("./switchMap"),i=e("../util/identity");r.switchAll=function(){return n.switchMap(i.identity)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/switchAll.js"}],[5468,{"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.switchMap=void 0;var n=e("../observable/innerFrom"),i=e("../util/lift"),o=e("./OperatorSubscriber");r.switchMap=function(e,t){return i.operate(function(r,i){var s=null,a=0,u=!1,c=function(){return u&&!s&&i.complete()};r.subscribe(o.createOperatorSubscriber(i,function(r){null==s||s.unsubscribe();var u=0,l=a++;n.innerFrom(e(r,l)).subscribe(s=o.createOperatorSubscriber(i,function(e){return i.next(t?t(r,e,l,u++):e)},function(){s=null,c()}))},function(){u=!0,c()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/switchMap.js"}],[5469,{"../util/isFunction":5542,"./switchMap":5468},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.switchMapTo=void 0;var n=e("./switchMap"),i=e("../util/isFunction");r.switchMapTo=function(e,t){return i.isFunction(t)?n.switchMap(function(){return e},t):n.switchMap(function(){return e})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/switchMapTo.js"}],[5470,{"../util/lift":5549,"./switchMap":5468},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.switchScan=void 0;var n=e("./switchMap"),i=e("../util/lift");r.switchScan=function(e,t){return i.operate(function(r,i){var o=t;return n.switchMap(function(t,r){return e(o,t,r)},function(e,t){return o=t,t})(r).subscribe(i),function(){o=null}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/switchScan.js"}],[5471,{"../observable/empty":5356,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.take=void 0;var n=e("../observable/empty"),i=e("../util/lift"),o=e("./OperatorSubscriber");r.take=function(e){return e<=0?function(){return n.EMPTY}:i.operate(function(t,r){var n=0;t.subscribe(o.createOperatorSubscriber(r,function(t){++n<=e&&(r.next(t),e<=n&&r.complete())}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/take.js"}],[5472,{"../observable/empty":5356,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.takeLast=void 0;var i=e("../observable/empty"),o=e("../util/lift"),s=e("./OperatorSubscriber");r.takeLast=function(e){return e<=0?function(){return i.EMPTY}:o.operate(function(t,r){var i=[];t.subscribe(s.createOperatorSubscriber(r,function(t){i.push(t),e<i.length&&i.shift()},function(){var e,t;try{for(var o=n(i),s=o.next();!s.done;s=o.next()){var a=s.value;r.next(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}r.complete()},undefined,function(){i=null}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/takeLast.js"}],[5473,{"../observable/innerFrom":5364,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.takeUntil=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber"),o=e("../observable/innerFrom"),s=e("../util/noop");r.takeUntil=function(e){return n.operate(function(t,r){o.innerFrom(e).subscribe(i.createOperatorSubscriber(r,function(){return r.complete()},s.noop)),!r.closed&&t.subscribe(r)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/takeUntil.js"}],[5474,{"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.takeWhile=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber");r.takeWhile=function(e,t){return void 0===t&&(t=!1),n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(r){var i=e(r,o++);(i||t)&&n.next(r),!i&&n.complete()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/takeWhile.js"}],[5475,{"../util/identity":5538,"../util/isFunction":5542,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tap=void 0;var n=e("../util/isFunction"),i=e("../util/lift"),o=e("./OperatorSubscriber"),s=e("../util/identity");r.tap=function(e,t,r){var a=n.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return a?i.operate(function(e,t){var r;null===(r=a.subscribe)||void 0===r||r.call(a);var n=!0;e.subscribe(o.createOperatorSubscriber(t,function(e){var r;null===(r=a.next)||void 0===r||r.call(a,e),t.next(e)},function(){var e;n=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()},function(e){var r;n=!1,null===(r=a.error)||void 0===r||r.call(a,e),t.error(e)},function(){var e,t;n&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)}))}):s.identity}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/tap.js"}],[5476,{"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.throttle=void 0;var n=e("../util/lift"),i=e("./OperatorSubscriber"),o=e("../observable/innerFrom");r.throttle=function(e,t){return n.operate(function(r,n){var s=null!=t?t:{},a=s.leading,u=void 0===a||a,c=s.trailing,l=void 0!==c&&c,f=!1,d=null,h=null,p=!1,b=function(){null==h||h.unsubscribe(),h=null,l&&(v(),p&&n.complete())},m=function(){h=null,p&&n.complete()},g=function(t){return h=o.innerFrom(e(t)).subscribe(i.createOperatorSubscriber(n,b,m))},v=function(){if(f){f=!1;var e=d;d=null,n.next(e),!p&&g(e)}};r.subscribe(i.createOperatorSubscriber(n,function(e){f=!0,d=e,(!h||h.closed)&&(u?v():g(e))},function(){p=!0,(!(l&&f&&h)||h.closed)&&n.complete()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/throttle.js"}],[5477,{"../observable/timer":5375,"../scheduler/async":5513,"./throttle":5476},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.throttleTime=void 0;var n=e("../scheduler/async"),i=e("./throttle"),o=e("../observable/timer");r.throttleTime=function(e,t,r){void 0===t&&(t=n.asyncScheduler);var s=o.timer(e,t);return i.throttle(function(){return s},r)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/throttleTime.js"}],[5478,{"../util/EmptyError":5524,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.throwIfEmpty=void 0;var n=e("../util/EmptyError"),i=e("../util/lift"),o=e("./OperatorSubscriber");function s(){return new n.EmptyError}r.throwIfEmpty=function(e){return void 0===e&&(e=s),i.operate(function(t,r){var n=!1;t.subscribe(o.createOperatorSubscriber(r,function(e){n=!0,r.next(e)},function(){return n?r.complete():r.error(e())}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/throwIfEmpty.js"}],[5479,{"../scheduler/async":5513,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TimeInterval=r.timeInterval=void 0;var n=e("../scheduler/async"),i=e("../util/lift"),o=e("./OperatorSubscriber");r.timeInterval=function(e){return void 0===e&&(e=n.asyncScheduler),i.operate(function(t,r){var n=e.now();t.subscribe(o.createOperatorSubscriber(r,function(t){var i=e.now(),o=i-n;n=i,r.next(new s(t,o))}))})};var s=function(e,t){this.value=e,this.interval=t};r.TimeInterval=s}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/timeInterval.js"}],[548,{"../../../shared/modules/fetch-with-timeout":5904,"@metamask/utils":2908,cockatiel:4121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RETRIES=r.MAX_CONSECUTIVE_FAILURES=r.DataDeletionService=void 0;var n,i=e("@metamask/utils"),o=e("cockatiel"),s=(n=e("../../../shared/modules/fetch-with-timeout"))&&n.__esModule?n:{default:n};function a(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function u(e,t){return e.get(l(e,t))}function c(e,t,r){return e.set(l(e,t),r),r}function l(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}const f=r.RETRIES=3,d=r.MAX_CONSECUTIVE_FAILURES=3*(1+f);function h(e){return function(e){return(0,i.isObject)(e)&&(0,i.hasProperty)(e,"statusCode")&&"number"==typeof e.statusCode}(e)&&e.statusCode>=500}function p({circuitBreakDuration:e,degradedThreshold:t,maximumConsecutiveFailures:r,onBreak:n,onDegraded:i,retries:s}){const a=(0,o.retry)(o.handleAll.orWhenResult(h),{maxAttempts:s,backoff:new o.ExponentialBackoff}),u=(0,o.circuitBreaker)(o.handleAll,{halfOpenAfter:e,breaker:new o.ConsecutiveBreaker(r)});return n&&u.onBreak(n),i&&(a.onGiveUp(()=>{u.state===o.CircuitState.Closed&&i()}),a.onSuccess(({duration:e})=>{u.state===o.CircuitState.Closed&&e>t&&i()})),(0,o.wrap)(a,u)}var b=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap;r.DataDeletionService=class{constructor({analyticsDataDeletionEndpoint:e="https://proxy.api.cx.metamask.io/segment/v1",analyticsDataDeletionSourceId:t="mytXhbDHVobxqatxZKaZQX",circuitBreakDuration:r=18e5,degradedThreshold:n=5e3,onBreak:i,onDegraded:o,timeout:u}={}){if(a(this,b,void 0),a(this,m,void 0),a(this,g,void 0),a(this,v,void 0),a(this,y,void 0),!e)throw new Error("Missing ANALYTICS_DATA_DELETION_ENDPOINT");if(!t)throw new Error("Missing ANALYTICS_DATA_DELETION_SOURCE_ID");c(y,this,(0,s.default)(u)),c(b,this,e),c(m,this,t),c(v,this,p({circuitBreakDuration:r,degradedThreshold:n,maximumConsecutiveFailures:d,onBreak:i,onDegraded:o,retries:f})),c(g,this,p({circuitBreakDuration:r,degradedThreshold:n,maximumConsecutiveFailures:d,onBreak:i,onDegraded:o,retries:f}))}async createDataDeletionRegulationTask(e){const t=await u(v,this).execute(()=>u(y,this).call(this,`${u(b,this)}/regulations/sources/${u(m,this)}`,{method:"POST",headers:{"Content-Type":"application/vnd.segment.v1+json"},body:JSON.stringify({regulationType:"DELETE_ONLY",subjectType:"USER_ID",subjectIds:[e]})}));if(!t.ok)throw new Error(`Fetch failed with status '${t.status}' for request`);return(await t.json()).data.regulateId}async fetchDeletionRegulationStatus(e){const t=await u(g,this).execute(()=>u(y,this).call(this,`${u(b,this)}/regulations/${e}`,{method:"GET",headers:{"Content-Type":"application/vnd.segment.v1+json"}}));if(!t.ok)throw new Error(`Fetch failed with status '${t.status}' for request`);return(await t.json()).data.regulation.overallStatus}}}}},{package:"$root$",file:"app/scripts/services/data-deletion-service.ts"}],[5480,{"../observable/innerFrom":5364,"../scheduler/async":5513,"../util/createErrorClass":5534,"../util/executeSchedule":5537,"../util/isDate":5541,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeout=r.TimeoutError=void 0;var n=e("../scheduler/async"),i=e("../util/isDate"),o=e("../util/lift"),s=e("../observable/innerFrom"),a=e("../util/createErrorClass"),u=e("./OperatorSubscriber"),c=e("../util/executeSchedule");function l(e){throw new r.TimeoutError(e)}r.TimeoutError=a.createErrorClass(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}),r.timeout=function(e,t){var r=i.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,a=r.first,f=r.each,d=r.with,h=void 0===d?l:d,p=r.scheduler,b=void 0===p?null!=t?t:n.asyncScheduler:p,m=r.meta,g=void 0===m?null:m;if(null==a&&null==f)throw new TypeError("No timeout provided.");return o.operate(function(e,t){var r,n,i=null,o=0,l=function(e){n=c.executeSchedule(t,b,function(){try{r.unsubscribe(),s.innerFrom(h({meta:g,lastValue:i,seen:o})).subscribe(t)}catch(e){t.error(e)}},e)};r=e.subscribe(u.createOperatorSubscriber(t,function(e){null==n||n.unsubscribe(),o++,t.next(i=e),f>0&&l(f)},undefined,undefined,function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),i=null})),!o&&l(null!=a?"number"==typeof a?a:+a-b.now():f)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/timeout.js"}],[5481,{"../scheduler/async":5513,"../util/isDate":5541,"./timeout":5480},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeoutWith=void 0;var n=e("../scheduler/async"),i=e("../util/isDate"),o=e("./timeout");r.timeoutWith=function(e,t,r){var s,a,u;if(r=null!=r?r:n.async,i.isValidDate(e)?s=e:"number"==typeof e&&(a=e),!t)throw new TypeError("No observable provided to switch to");if(u=function(){return t},null==s&&null==a)throw new TypeError("No timeout provided.");return o.timeout({first:s,each:a,scheduler:r,with:u})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/timeoutWith.js"}],[5482,{"../scheduler/dateTimestampProvider":5514,"./map":5425},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timestamp=void 0;var n=e("../scheduler/dateTimestampProvider"),i=e("./map");r.timestamp=function(e){return void 0===e&&(e=n.dateTimestampProvider),i.map(function(t){return{value:t,timestamp:e.now()}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/timestamp.js"}],[5483,{"../util/lift":5549,"./reduce":5447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toArray=void 0;var n=e("./reduce"),i=e("../util/lift"),o=function(e,t){return e.push(t),e};r.toArray=function(){return i.operate(function(e,t){n.reduce(o,[])(e).subscribe(t)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/toArray.js"}],[5484,{"../Subject":5341,"../observable/innerFrom":5364,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.window=void 0;var n=e("../Subject"),i=e("../util/lift"),o=e("./OperatorSubscriber"),s=e("../util/noop"),a=e("../observable/innerFrom");r.window=function(e){return i.operate(function(t,r){var i=new n.Subject;r.next(i.asObservable());var u=function(e){i.error(e),r.error(e)};return t.subscribe(o.createOperatorSubscriber(r,function(e){return null==i?void 0:i.next(e)},function(){i.complete(),r.complete()},u)),a.innerFrom(e).subscribe(o.createOperatorSubscriber(r,function(){i.complete(),r.next(i=new n.Subject)},s.noop,u)),function(){null==i||i.unsubscribe(),i=null}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/window.js"}],[5485,{"../Subject":5341,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.windowCount=void 0;var i=e("../Subject"),o=e("../util/lift"),s=e("./OperatorSubscriber");r.windowCount=function(e,t){void 0===t&&(t=0);var r=t>0?t:e;return o.operate(function(t,o){var a=[new i.Subject],u=0;o.next(a[0].asObservable()),t.subscribe(s.createOperatorSubscriber(o,function(t){var s,c;try{for(var l=n(a),f=l.next();!f.done;f=l.next()){f.value.next(t)}}catch(e){s={error:e}}finally{try{f&&!f.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}var d=u-e+1;if(d>=0&&d%r===0&&a.shift().complete(),++u%r===0){var h=new i.Subject;a.push(h),o.next(h.asObservable())}},function(){for(;a.length>0;)a.shift().complete();o.complete()},function(e){for(;a.length>0;)a.shift().error(e);o.error(e)},function(){a=null}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/windowCount.js"}],[5486,{"../Subject":5341,"../Subscription":5343,"../scheduler/async":5513,"../util/args":5530,"../util/arrRemove":5533,"../util/executeSchedule":5537,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.windowTime=void 0;var n=e("../Subject"),i=e("../scheduler/async"),o=e("../Subscription"),s=e("../util/lift"),a=e("./OperatorSubscriber"),u=e("../util/arrRemove"),c=e("../util/args"),l=e("../util/executeSchedule");r.windowTime=function(e){for(var t,r,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=null!==(t=c.popScheduler(f))&&void 0!==t?t:i.asyncScheduler,p=null!==(r=f[0])&&void 0!==r?r:null,b=f[1]||Infinity;return s.operate(function(t,r){var i=[],s=!1,c=function(e){var t=e.window,r=e.subs;t.complete(),r.unsubscribe(),u.arrRemove(i,e),s&&f()},f=function(){if(i){var t=new o.Subscription;r.add(t);var s=new n.Subject,a={window:s,subs:t,seen:0};i.push(a),r.next(s.asObservable()),l.executeSchedule(t,h,function(){return c(a)},e)}};null!==p&&p>=0?l.executeSchedule(r,h,f,p,!0):s=!0,f();var d=function(e){return i.slice().forEach(e)},m=function(e){d(function(t){var r=t.window;return e(r)}),e(r),r.unsubscribe()};return t.subscribe(a.createOperatorSubscriber(r,function(e){d(function(t){t.window.next(e),b<=++t.seen&&c(t)})},function(){return m(function(e){return e.complete()})},function(e){return m(function(t){return t.error(e)})})),function(){i=null}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/windowTime.js"}],[5487,{"../Subject":5341,"../Subscription":5343,"../observable/innerFrom":5364,"../util/arrRemove":5533,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.windowToggle=void 0;var i=e("../Subject"),o=e("../Subscription"),s=e("../util/lift"),a=e("../observable/innerFrom"),u=e("./OperatorSubscriber"),c=e("../util/noop"),l=e("../util/arrRemove");r.windowToggle=function(e,t){return s.operate(function(r,s){var f=[],d=function(e){for(;0<f.length;)f.shift().error(e);s.error(e)};a.innerFrom(e).subscribe(u.createOperatorSubscriber(s,function(e){var r=new i.Subject;f.push(r);var n,h=new o.Subscription;try{n=a.innerFrom(t(e))}catch(e){return void d(e)}s.next(r.asObservable()),h.add(n.subscribe(u.createOperatorSubscriber(s,function(){l.arrRemove(f,r),r.complete(),h.unsubscribe()},c.noop,d)))},c.noop)),r.subscribe(u.createOperatorSubscriber(s,function(e){var t,r,i=f.slice();try{for(var o=n(i),s=o.next();!s.done;s=o.next()){s.value.next(e)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},function(){for(;0<f.length;)f.shift().complete();s.complete()},d,function(){for(;0<f.length;)f.shift().unsubscribe()}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/windowToggle.js"}],[5488,{"../Subject":5341,"../observable/innerFrom":5364,"../util/lift":5549,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.windowWhen=void 0;var n=e("../Subject"),i=e("../util/lift"),o=e("./OperatorSubscriber"),s=e("../observable/innerFrom");r.windowWhen=function(e){return i.operate(function(t,r){var i,a,u=function(e){i.error(e),r.error(e)},c=function(){var t;null==a||a.unsubscribe(),null==i||i.complete(),i=new n.Subject,r.next(i.asObservable());try{t=s.innerFrom(e())}catch(e){return void u(e)}t.subscribe(a=o.createOperatorSubscriber(r,c,c,u))};c(),t.subscribe(o.createOperatorSubscriber(r,function(e){return i.next(e)},function(){i.complete(),r.complete()},u,function(){null==a||a.unsubscribe(),i=null}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/windowWhen.js"}],[5489,{"../observable/innerFrom":5364,"../util/args":5530,"../util/identity":5538,"../util/lift":5549,"../util/noop":5551,"./OperatorSubscriber":5378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.withLatestFrom=void 0;var o=e("../util/lift"),s=e("./OperatorSubscriber"),a=e("../observable/innerFrom"),u=e("../util/identity"),c=e("../util/noop"),l=e("../util/args");r.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popResultSelector(e);return o.operate(function(t,o){for(var l=e.length,f=new Array(l),d=e.map(function(){return!1}),h=!1,p=function(t){a.innerFrom(e[t]).subscribe(s.createOperatorSubscriber(o,function(e){f[t]=e,h||d[t]||(d[t]=!0,(h=d.every(u.identity))&&(d=null))},c.noop))},b=0;b<l;b++)p(b);t.subscribe(s.createOperatorSubscriber(o,function(e){if(h){var t=i([e],n(f));o.next(r?r.apply(void 0,i([],n(t))):t)}}))})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/withLatestFrom.js"}],[549,{"./base-login-handler":550,"./utils":556,"@metamask/seedless-onboarding-controller":2505},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AppleLoginHandler=void 0;var n=e("@metamask/seedless-onboarding-controller"),i=e("./base-login-handler"),o=e("./utils");function s(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return e.get(function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}(e,t))}var c=new WeakMap;class l extends i.BaseLoginHandler{constructor(e){super(e),a(this,"OAUTH_SERVER_URL",void 0),s(this,c,["name","email"]),a(this,"serverRedirectUri",void 0),this.serverRedirectUri=`${e.authServerUrl}/api/v1/oauth/callback`,this.OAUTH_SERVER_URL=`${e.authServerUrl}/api/v1/oauth/initiate`}get authConnection(){return n.AuthConnection.Apple}get scope(){return u(c,this)}async getAuthUrl(){const e=new URL(this.OAUTH_SERVER_URL),t=this.options.webAuthenticator.getRedirectURL(),r=this.generateNonce(),{challenge:n}=await this.generateCodeVerifierChallenge();return e.searchParams.set("client_id",this.options.oAuthClientId),e.searchParams.set("response_type","code"),e.searchParams.set("redirect_uri",t),e.searchParams.set("response_mode","form_post"),e.searchParams.set("prompt",this.prompt),e.searchParams.set("state",JSON.stringify({client_redirect_back_uri:this.options.webAuthenticator.getRedirectURL(),nonce:r,code_challenge:n})),e.searchParams.set("scope",u(c,this).join(" ")),Promise.resolve(e.toString())}async getAuthIdToken(){const e=this.generateAuthTokenRequestData();return await this.requestVerifyAuthToken(e)}generateAuthTokenRequestData(){const{web3AuthNetwork:e}=this.options,t={code_verifier:this.codeVerifier,client_id:this.options.oAuthClientId,redirect_uri:this.serverRedirectUri,login_provider:this.authConnection,network:e,access_type:"offline"};return JSON.stringify(t)}async requestVerifyAuthToken(e){const t=await fetch(`${this.options.authServerUrl}/api/v1/oauth/callback/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:e});return await t.json()}async getUserInfo(e){const t=(0,o.decodeIdToken)(e),r=JSON.parse(t);return{email:r.email,sub:r.sub}}}r.AppleLoginHandler=l}}},{package:"$root$",file:"app/scripts/services/oauth/apple-login-handler.ts"}],[5490,{"../observable/zip":5377,"../util/lift":5549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.zip=void 0;var o=e("../observable/zip"),s=e("../util/lift");r.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.operate(function(t,r){o.zip.apply(void 0,i([t],n(e))).subscribe(r)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/zip.js"}],[5491,{"../observable/zip":5377,"./joinAllInternals":5423},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.zipAll=void 0;var n=e("../observable/zip"),i=e("./joinAllInternals");r.zipAll=function(e){return i.joinAllInternals(n.zip,e)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/zipAll.js"}],[5492,{"./zip":5490},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.zipWith=void 0;var o=e("./zip");r.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.zip.apply(void 0,i([],n(e)))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/operators/zipWith.js"}],[5493,{"../Observable":5338},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleArray=void 0;var n=e("../Observable");r.scheduleArray=function(e,t){return new n.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduled/scheduleArray.js"}],[5494,{"../Observable":5338,"../util/executeSchedule":5537},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleAsyncIterable=void 0;var n=e("../Observable"),i=e("../util/executeSchedule");r.scheduleAsyncIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new n.Observable(function(r){i.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();i.executeSchedule(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduled/scheduleAsyncIterable.js"}],[5495,{"../Observable":5338,"../symbol/iterator":5520,"../util/executeSchedule":5537,"../util/isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleIterable=void 0;var n=e("../Observable"),i=e("../symbol/iterator"),o=e("../util/isFunction"),s=e("../util/executeSchedule");r.scheduleIterable=function(e,t){return new n.Observable(function(r){var n;return s.executeSchedule(r,t,function(){n=e[i.iterator](),s.executeSchedule(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){return void r.error(e)}i?r.complete():r.next(t)},0,!0)}),function(){return o.isFunction(null==n?void 0:n.return)&&n.return()}})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduled/scheduleIterable.js"}],[5496,{"../observable/innerFrom":5364,"../operators/observeOn":5438,"../operators/subscribeOn":5466},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleObservable=void 0;var n=e("../observable/innerFrom"),i=e("../operators/observeOn"),o=e("../operators/subscribeOn");r.scheduleObservable=function(e,t){return n.innerFrom(e).pipe(o.subscribeOn(t),i.observeOn(t))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduled/scheduleObservable.js"}],[5497,{"../observable/innerFrom":5364,"../operators/observeOn":5438,"../operators/subscribeOn":5466},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.schedulePromise=void 0;var n=e("../observable/innerFrom"),i=e("../operators/observeOn"),o=e("../operators/subscribeOn");r.schedulePromise=function(e,t){return n.innerFrom(e).pipe(o.subscribeOn(t),i.observeOn(t))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduled/schedulePromise.js"}],[5498,{"../util/isReadableStreamLike":5547,"./scheduleAsyncIterable":5494},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleReadableStreamLike=void 0;var n=e("./scheduleAsyncIterable"),i=e("../util/isReadableStreamLike");r.scheduleReadableStreamLike=function(e,t){return n.scheduleAsyncIterable(i.readableStreamLikeToAsyncGenerator(e),t)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduled/scheduleReadableStreamLike.js"}],[5499,{"../util/isArrayLike":5539,"../util/isAsyncIterable":5540,"../util/isInteropObservable":5543,"../util/isIterable":5544,"../util/isPromise":5546,"../util/isReadableStreamLike":5547,"../util/throwUnobservableError":5555,"./scheduleArray":5493,"./scheduleAsyncIterable":5494,"./scheduleIterable":5495,"./scheduleObservable":5496,"./schedulePromise":5497,"./scheduleReadableStreamLike":5498},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.scheduled=void 0;var n=e("./scheduleObservable"),i=e("./schedulePromise"),o=e("./scheduleArray"),s=e("./scheduleIterable"),a=e("./scheduleAsyncIterable"),u=e("../util/isInteropObservable"),c=e("../util/isPromise"),l=e("../util/isArrayLike"),f=e("../util/isIterable"),d=e("../util/isAsyncIterable"),h=e("../util/throwUnobservableError"),p=e("../util/isReadableStreamLike"),b=e("./scheduleReadableStreamLike");r.scheduled=function(e,t){if(null!=e){if(u.isInteropObservable(e))return n.scheduleObservable(e,t);if(l.isArrayLike(e))return o.scheduleArray(e,t);if(c.isPromise(e))return i.schedulePromise(e,t);if(d.isAsyncIterable(e))return a.scheduleAsyncIterable(e,t);if(f.isIterable(e))return s.scheduleIterable(e,t);if(p.isReadableStreamLike(e))return b.scheduleReadableStreamLike(e,t)}throw h.createInvalidObservableTypeError(e)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduled/scheduled.js"}],[55,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountOrderControllerMessenger=function(e){return e.getRestricted({name:"AccountOrderController",allowedActions:[],allowedEvents:[]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/account-order-controller-messenger.ts"}],[550,{"../../../../shared/modules/error":5902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseLoginHandler=void 0;var n=e("../../../../shared/modules/error");function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.BaseLoginHandler=class{constructor(e){i(this,"options",void 0),i(this,"codeVerifier",void 0),i(this,"nonce",void 0),i(this,"prompt","select_account"),i(this,"CODE_CHALLENGE_METHOD","S256"),i(this,"AUTH_SERVER_TOKEN_PATH","/api/v1/oauth/token"),i(this,"AUTH_SERVER_REVOKE_PATH","/api/v2/oauth/revoke"),i(this,"AUTH_SERVER_RENEW_REFRESH_PATH","/api/v2/oauth/renew_refresh_token"),this.options=e}validateState(e){const t=new URL(e).searchParams.get("state");if("string"!=typeof t)throw new Error(n.OAuthErrorMessages.INVALID_OAUTH_STATE_ERROR);if(JSON.parse(t).nonce!==this.nonce)throw new Error(n.OAuthErrorMessages.INVALID_OAUTH_STATE_ERROR)}async refreshAuthToken(e){const{web3AuthNetwork:t}=this.options,r={client_id:this.options.oAuthClientId,login_provider:this.authConnection,network:t,refresh_token:e,grant_type:"refresh_token"};return await this.requestAuthToken(JSON.stringify(r))}async revokeRefreshToken(e){const t={revoke_token:e};if(!(await fetch(`${this.options.authServerUrl}${this.AUTH_SERVER_REVOKE_PATH}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to revoke refresh token")}async renewRefreshToken(e){const t={revoke_token:e},r=await fetch(`${this.options.authServerUrl}${this.AUTH_SERVER_RENEW_REFRESH_PATH}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to renew refresh token");const n=await r.json();return{refresh_token:n.refresh_token,revoke_token:n.revoke_token}}async requestAuthToken(e){const t=await fetch(`${this.options.authServerUrl}${this.AUTH_SERVER_TOKEN_PATH}`,{method:"POST",headers:{"Content-Type":"application/json"},body:e});if(!t.ok)throw new Error("Failed to get auth token");return await t.json()}generateNonce(){return this.nonce=this.options.webAuthenticator.generateNonce(),this.nonce}async generateCodeVerifierChallenge(){const{codeVerifier:e,challenge:t}=await this.options.webAuthenticator.generateCodeVerifierAndChallenge();return this.codeVerifier=e,{codeVerifier:e,challenge:t}}}}}},{package:"$root$",file:"app/scripts/services/oauth/base-login-handler.ts"}],[5500,{"../Subscription":5343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.Action=void 0;var o=function(e){function t(t,r){return e.call(this)||this}return i(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(e("../Subscription").Subscription);r.Action=o}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/Action.js"}],[5501,{"./AsyncAction":5505,"./animationFrameProvider":5511},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.AnimationFrameAction=void 0;var o=e("./AsyncAction"),s=e("./animationFrameProvider"),a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=s.animationFrameProvider.requestAnimationFrame(function(){return t.flush(undefined)})))},t.prototype.recycleAsyncId=function(t,r,n){var i;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var o=t.actions;return null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(s.animationFrameProvider.cancelAnimationFrame(r),t._scheduled=undefined),undefined},t}(o.AsyncAction);r.AnimationFrameAction=a}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/AnimationFrameAction.js"}],[5502,{"./AsyncScheduler":5506},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.AnimationFrameScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=undefined;var r,n=this.actions;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}},t}(e("./AsyncScheduler").AsyncScheduler);r.AnimationFrameScheduler=o}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/AnimationFrameScheduler.js"}],[5503,{"./AsyncAction":5505,"./immediateProvider":5515},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsapAction=void 0;var o=e("./AsyncAction"),s=e("./immediateProvider"),a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=s.immediateProvider.setImmediate(t.flush.bind(t,undefined))))},t.prototype.recycleAsyncId=function(t,r,n){var i;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var o=t.actions;return null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(s.immediateProvider.clearImmediate(r),t._scheduled===r&&(t._scheduled=undefined)),undefined},t}(o.AsyncAction);r.AsapAction=a}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/AsapAction.js"}],[5504,{"./AsyncScheduler":5506},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsapScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=undefined;var r,n=this.actions;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}},t}(e("./AsyncScheduler").AsyncScheduler);r.AsapScheduler=o}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/AsapScheduler.js"}],[5505,{"../util/arrRemove":5533,"./Action":5500,"./intervalProvider":5516},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncAction=void 0;var o=e("./Action"),s=e("./intervalProvider"),a=e("../util/arrRemove"),u=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return i(t,e),t.prototype.schedule=function(e,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),s.intervalProvider.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){return void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending?t:(null!=t&&s.intervalProvider.clearInterval(t),undefined)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a.arrRemove(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o.Action);r.AsyncAction=u}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/AsyncAction.js"}],[5506,{"../Scheduler":5340},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncScheduler=void 0;var o=e("../Scheduler"),s=function(e){function t(t,r){void 0===r&&(r=o.Scheduler.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return i(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(o.Scheduler);r.AsyncScheduler=s}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/AsyncScheduler.js"}],[5507,{"./AsyncAction":5505},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.QueueAction=void 0;var o=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.flush(this),0)},t}(e("./AsyncAction").AsyncAction);r.QueueAction=o}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/QueueAction.js"}],[5508,{"./AsyncScheduler":5506},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.QueueScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(e("./AsyncScheduler").AsyncScheduler);r.QueueScheduler=o}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/QueueScheduler.js"}],[5509,{"../Subscription":5343,"./AsyncAction":5505,"./AsyncScheduler":5506},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.VirtualAction=r.VirtualTimeScheduler=void 0;var o=e("./AsyncAction"),s=e("../Subscription"),a=function(e){function t(t,r){void 0===t&&(t=u),void 0===r&&(r=Infinity);var n=e.call(this,t,function(){return n.frame})||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return i(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(e("./AsyncScheduler").AsyncScheduler);r.VirtualTimeScheduler=a;var u=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.index=n,i.active=!0,i.index=t.index=n,i}return i(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}return s.Subscription.EMPTY},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,r){return void 0===r&&(r=0),undefined},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(o.AsyncAction);r.VirtualAction=u}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/VirtualTimeScheduler.js"}],[551,{"../../../../development/build/constants":562,"@metamask/seedless-onboarding-controller":2505},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OauthConfigMap=r.BuildTypeEnv=void 0,r.isDevOrTestBuild=a,r.loadOAuthConfig=function(){let e=o.DevMain;e=a()?o.DevMain:u()||c()?o.ProdMain:o.UatMain;return s[e]};var n=e("@metamask/seedless-onboarding-controller"),i=e("../../../../development/build/constants");let o=r.BuildTypeEnv=function(e){return e.DevMain="DevMain",e.DevFlask="DevFlask",e.UatMain="UatMain",e.UatFlask="UatFlask",e.ProdMain="ProdMain",e.ProdFlask="ProdFlask",e.Beta="Beta",e}({});const s=r.OauthConfigMap={[o.DevMain]:{googleAuthConnectionId:"mm-google-dev-extension",appleAuthConnectionId:"mm-apple-dev-common",googleGroupedAuthConnectionId:"mm-google-dev",appleGroupedAuthConnectionId:"mm-apple-dev",authServerUrl:"https://auth-service.dev-api.cx.metamask.io",web3AuthNetwork:n.Web3AuthNetwork.Devnet},[o.DevFlask]:{googleAuthConnectionId:"mm-google-flask-dev-extension",appleAuthConnectionId:"mm-apple-flask-dev-common",googleGroupedAuthConnectionId:"mm-google-flask-dev",appleGroupedAuthConnectionId:"mm-apple-flask-dev",authServerUrl:"https://auth-service.dev-api.cx.metamask.io",web3AuthNetwork:n.Web3AuthNetwork.Devnet},[o.UatMain]:{googleAuthConnectionId:"mm-google-uat-extension",appleAuthConnectionId:"mm-apple-uat-common",googleGroupedAuthConnectionId:"mm-google-uat",appleGroupedAuthConnectionId:"mm-apple-uat",authServerUrl:"https://auth-service.uat-api.cx.metamask.io",web3AuthNetwork:n.Web3AuthNetwork.Mainnet},[o.UatFlask]:{googleAuthConnectionId:"mm-google-flask-uat-extension",appleAuthConnectionId:"mm-apple-flask-uat-common",googleGroupedAuthConnectionId:"mm-google-flask-uat",appleGroupedAuthConnectionId:"mm-apple-flask-uat",authServerUrl:"https://auth-service.uat-api.cx.metamask.io",web3AuthNetwork:n.Web3AuthNetwork.Mainnet},[o.ProdMain]:{googleAuthConnectionId:"mm-google-main-extension",appleAuthConnectionId:"mm-apple-main-common",googleGroupedAuthConnectionId:"mm-google-main",appleGroupedAuthConnectionId:"mm-apple-main",authServerUrl:"https://auth-service.api.cx.metamask.io",web3AuthNetwork:n.Web3AuthNetwork.Mainnet},[o.ProdFlask]:{googleAuthConnectionId:"mm-google-flask-main-extension",appleAuthConnectionId:"mm-apple-flask-main-common",googleGroupedAuthConnectionId:"mm-google-flask-main",appleGroupedAuthConnectionId:"mm-apple-flask-main",authServerUrl:"https://auth-service.api.cx.metamask.io",web3AuthNetwork:n.Web3AuthNetwork.Mainnet},[o.Beta]:{googleAuthConnectionId:"mm-google-main-extension",appleAuthConnectionId:"mm-apple-main-common",googleGroupedAuthConnectionId:"mm-google-main",appleGroupedAuthConnectionId:"mm-apple-main",authServerUrl:"https://auth-service.api.cx.metamask.io",web3AuthNetwork:n.Web3AuthNetwork.Mainnet}};function a(){return"production"===i.ENVIRONMENT.DEVELOPMENT||"production"===i.ENVIRONMENT.TESTING}function u(){return"production"===i.ENVIRONMENT.PRODUCTION}function c(){return"production"===i.ENVIRONMENT.RELEASE_CANDIDATE}}}},{package:"$root$",file:"app/scripts/services/oauth/config.ts"}],[5510,{"./AnimationFrameAction":5501,"./AnimationFrameScheduler":5502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.animationFrame=r.animationFrameScheduler=void 0;var n=e("./AnimationFrameAction"),i=e("./AnimationFrameScheduler");r.animationFrameScheduler=new i.AnimationFrameScheduler(n.AnimationFrameAction),r.animationFrame=r.animationFrameScheduler}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/animationFrame.js"}],[5511,{"../Subscription":5343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.animationFrameProvider=void 0;var o=e("../Subscription");r.animationFrameProvider={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,i=r.animationFrameProvider.delegate;i&&(t=i.requestAnimationFrame,n=i.cancelAnimationFrame);var s=t(function(t){n=undefined,e(t)});return new o.Subscription(function(){return null==n?void 0:n(s)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=r.animationFrameProvider.delegate;return((null==o?void 0:o.requestAnimationFrame)||requestAnimationFrame).apply(void 0,i([],n(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=r.animationFrameProvider.delegate;return((null==o?void 0:o.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,i([],n(e)))},delegate:undefined}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/animationFrameProvider.js"}],[5512,{"./AsapAction":5503,"./AsapScheduler":5504},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asap=r.asapScheduler=void 0;var n=e("./AsapAction"),i=e("./AsapScheduler");r.asapScheduler=new i.AsapScheduler(n.AsapAction),r.asap=r.asapScheduler}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/asap.js"}],[5513,{"./AsyncAction":5505,"./AsyncScheduler":5506},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.async=r.asyncScheduler=void 0;var n=e("./AsyncAction"),i=e("./AsyncScheduler");r.asyncScheduler=new i.AsyncScheduler(n.AsyncAction),r.async=r.asyncScheduler}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/async.js"}],[5514,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dateTimestampProvider=void 0,r.dateTimestampProvider={now:function(){return(r.dateTimestampProvider.delegate||Date).now()},delegate:undefined}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/dateTimestampProvider.js"}],[5515,{"../util/Immediate":5525},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.immediateProvider=void 0;var o=e("../util/Immediate"),s=o.Immediate.setImmediate,a=o.Immediate.clearImmediate;r.immediateProvider={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=r.immediateProvider.delegate;return((null==o?void 0:o.setImmediate)||s).apply(void 0,i([],n(e)))},clearImmediate:function(e){var t=r.immediateProvider.delegate;return((null==t?void 0:t.clearImmediate)||a)(e)},delegate:undefined}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/immediateProvider.js"}],[5516,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.intervalProvider=void 0,r.intervalProvider={setInterval:function(e,t){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=r.intervalProvider.delegate;return(null==a?void 0:a.setInterval)?a.setInterval.apply(a,i([e,t],n(o))):setInterval.apply(void 0,i([e,t],n(o)))},clearInterval:function(e){var t=r.intervalProvider.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:undefined}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/intervalProvider.js"}],[5517,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.performanceTimestampProvider=void 0,r.performanceTimestampProvider={now:function(){return(r.performanceTimestampProvider.delegate||performance).now()},delegate:undefined}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/performanceTimestampProvider.js"}],[5518,{"./QueueAction":5507,"./QueueScheduler":5508},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.queue=r.queueScheduler=void 0;var n=e("./QueueAction"),i=e("./QueueScheduler");r.queueScheduler=new i.QueueScheduler(n.QueueAction),r.queue=r.queueScheduler}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/queue.js"}],[5519,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.timeoutProvider=void 0,r.timeoutProvider={setTimeout:function(e,t){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=r.timeoutProvider.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,i([e,t],n(o))):setTimeout.apply(void 0,i([e,t],n(o)))},clearTimeout:function(e){var t=r.timeoutProvider.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:undefined}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/scheduler/timeoutProvider.js"}],[552,{"./apple-login-handler":549,"./google-login-handler":553,"@metamask/seedless-onboarding-controller":2505},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLoginHandler=function(e,t,r){const s={web3AuthNetwork:t.web3AuthNetwork,authServerUrl:t.authServerUrl,webAuthenticator:r};switch(e){case n.AuthConnection.Google:return new o.GoogleLoginHandler({...s,oAuthClientId:t.googleClientId});case n.AuthConnection.Apple:return new i.AppleLoginHandler({...s,oAuthClientId:t.appleClientId});default:throw new Error(`Invalid social login provider: ${e}`)}};var n=e("@metamask/seedless-onboarding-controller"),i=e("./apple-login-handler"),o=e("./google-login-handler")}}},{package:"$root$",file:"app/scripts/services/oauth/create-login-handler.ts"}],[5520,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(r,"__esModule",{value:!0}),r.iterator=r.getSymbolIterator=void 0,r.getSymbolIterator=n,r.iterator=n()}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/symbol/iterator.js"}],[5521,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.observable=void 0,r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/symbol/observable.js"}],[5522,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/types.js"}],[5523,{"./createErrorClass":5534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ArgumentOutOfRangeError=void 0;var n=e("./createErrorClass");r.ArgumentOutOfRangeError=n.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/ArgumentOutOfRangeError.js"}],[5524,{"./createErrorClass":5534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EmptyError=void 0;var n=e("./createErrorClass");r.EmptyError=n.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/EmptyError.js"}],[5525,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TestTools=r.Immediate=void 0;var n,i=1,o={};function s(e){return e in o&&(delete o[e],!0)}r.Immediate={setImmediate:function(e){var t=i++;return o[t]=!0,n||(n=Promise.resolve()),n.then(function(){return s(t)&&e()}),t},clearImmediate:function(e){s(e)}},r.TestTools={pending:function(){return Object.keys(o).length}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/Immediate.js"}],[5526,{"./createErrorClass":5534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NotFoundError=void 0;var n=e("./createErrorClass");r.NotFoundError=n.createErrorClass(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/NotFoundError.js"}],[5527,{"./createErrorClass":5534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ObjectUnsubscribedError=void 0;var n=e("./createErrorClass");r.ObjectUnsubscribedError=n.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/ObjectUnsubscribedError.js"}],[5528,{"./createErrorClass":5534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SequenceError=void 0;var n=e("./createErrorClass");r.SequenceError=n.createErrorClass(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}})}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/SequenceError.js"}],[5529,{"./createErrorClass":5534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UnsubscriptionError=void 0;var n=e("./createErrorClass");r.UnsubscriptionError=n.createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/UnsubscriptionError.js"}],[553,{"./base-login-handler":550,"./utils":556,"@metamask/seedless-onboarding-controller":2505},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleLoginHandler=void 0;var n=e("@metamask/seedless-onboarding-controller"),i=e("./base-login-handler"),o=e("./utils");function s(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return e.get(function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}(e,t))}var c=new WeakMap;class l extends i.BaseLoginHandler{constructor(...e){super(...e),a(this,"OAUTH_SERVER_URL","https://accounts.google.com/o/oauth2/v2/auth"),s(this,c,["openid","profile","email"])}get authConnection(){return n.AuthConnection.Google}get scope(){return u(c,this)}async getAuthUrl(){const e=new URL(this.OAUTH_SERVER_URL),t=this.generateNonce(),{challenge:r}=await this.generateCodeVerifierChallenge(),n=this.options.webAuthenticator.getRedirectURL();return e.searchParams.set("client_id",this.options.oAuthClientId),e.searchParams.set("response_type","code"),e.searchParams.set("scope",u(c,this).join(" ")),e.searchParams.set("code_challenge_method",this.CODE_CHALLENGE_METHOD),e.searchParams.set("code_challenge",r),e.searchParams.set("state",JSON.stringify({nonce:t})),e.searchParams.set("redirect_uri",n),e.searchParams.set("prompt",this.prompt),e.toString()}async getAuthIdToken(e){const t=this.generateAuthTokenRequestData(e);return await this.requestAuthToken(t)}generateAuthTokenRequestData(e){const{web3AuthNetwork:t}=this.options,r=this.options.webAuthenticator.getRedirectURL(),n={code:e,client_id:this.options.oAuthClientId,redirect_uri:r,login_provider:this.authConnection,network:t,code_verifier:this.codeVerifier,access_type:"offline"};return JSON.stringify(n)}async getUserInfo(e){const t=(0,o.decodeIdToken)(e),r=JSON.parse(t);return{email:r.email,sub:r.sub}}}r.GoogleLoginHandler=l}}},{package:"$root$",file:"app/scripts/services/oauth/google-login-handler.ts"}],[5530,{"./isFunction":5542,"./isScheduler":5548},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.popNumber=r.popScheduler=r.popResultSelector=void 0;var n=e("./isFunction"),i=e("./isScheduler");function o(e){return e[e.length-1]}r.popResultSelector=function(e){return n.isFunction(o(e))?e.pop():undefined},r.popScheduler=function(e){return i.isScheduler(o(e))?e.pop():undefined},r.popNumber=function(e,t){return"number"==typeof o(e)?e.pop():t}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/args.js"}],[5531,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.argsArgArrayOrObject=void 0;var n=Array.isArray,i=Object.getPrototypeOf,o=Object.prototype,s=Object.keys;r.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(n(t))return{args:t,keys:null};if((a=t)&&"object"==typeof a&&i(a)===o){var r=s(t);return{args:r.map(function(e){return t[e]}),keys:r}}}var a;return{args:e,keys:null}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/argsArgArrayOrObject.js"}],[5532,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.argsOrArgArray=void 0;var n=Array.isArray;r.argsOrArgArray=function(e){return 1===e.length&&n(e[0])?e[0]:e}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/argsOrArgArray.js"}],[5533,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.arrRemove=void 0,r.arrRemove=function(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/arrRemove.js"}],[5534,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createErrorClass=void 0,r.createErrorClass=function(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/createErrorClass.js"}],[5535,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createObject=void 0,r.createObject=function(e,t){return e.reduce(function(e,r,n){return e[r]=t[n],e},{})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/createObject.js"}],[5536,{"../config":5344},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.captureError=r.errorContext=void 0;var n=e("../config"),i=null;r.errorContext=function(e){if(n.config.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var r=i,o=r.errorThrown,s=r.error;if(i=null,o)throw s}}else e()},r.captureError=function(e){n.config.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/errorContext.js"}],[5537,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.executeSchedule=void 0,r.executeSchedule=function(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/executeSchedule.js"}],[5538,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.identity=void 0,r.identity=function(e){return e}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/identity.js"}],[5539,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isArrayLike=void 0,r.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isArrayLike.js"}],[554,{"../../../../shared/lib/trace":5888,"../../../../shared/modules/browser-runtime.utils":5897,"../../../../shared/modules/error":5902,"./config":551,"./create-login-handler":552,"./types":555,"@metamask/seedless-onboarding-controller":2505,loglevel:4824},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=e("@metamask/seedless-onboarding-controller"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n},s=e("../../../../shared/modules/error"),a=e("../../../../shared/modules/browser-runtime.utils"),u=e("../../../../shared/lib/trace"),c=e("./create-login-handler"),l=e("./types"),f=e("./config");function d(e,t,r){h(e,t),t.set(e,r)}function h(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return e.get(g(e,t))}function m(e,t,r){return e.set(g(e,t),r),r}function g(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}const v="/api/v1/oauth/marketing_opt_in_status";var y=new WeakMap,w=new WeakMap,_=new WeakMap,j=new WeakMap,k=new WeakMap,S=new WeakSet;async function T(e){const t=await e.getAuthUrl();let r=!1,n=null;try{var i;null===(i=b(j,this))||void 0===i||i.call(this,{name:u.TraceName.OnboardingOAuthProviderLogin,op:u.TraceOperation.OnboardingSecurityOp}),n=await new Promise((r,n)=>{b(_,this).launchWebAuthFlow({interactive:!0,url:t},t=>{try{if(t)try{e.validateState(t),r(t)}catch(e){n(e)}else{if(g(S,this,A).call(this))return void n(new Error(s.OAuthErrorMessages.USER_CANCELLED_LOGIN_ERROR));n(new Error(s.OAuthErrorMessages.NO_REDIRECT_URL_FOUND_ERROR))}}catch(e){n(e)}})}),r=!0}catch(e){var o,a;const t=e instanceof Error?e.message:"Unknown error";throw null===(o=b(j,this))||void 0===o||o.call(this,{name:u.TraceName.OnboardingOAuthProviderLoginError,op:u.TraceOperation.OnboardingError,tags:{errorMessage:t}}),null===(a=b(k,this))||void 0===a||a.call(this,{name:u.TraceName.OnboardingOAuthProviderLoginError}),e}finally{var c;null===(c=b(k,this))||void 0===c||c.call(this,{name:u.TraceName.OnboardingOAuthProviderLogin,data:{success:r}})}let l=!1;try{var f;null===(f=b(j,this))||void 0===f||f.call(this,{name:u.TraceName.OnboardingOAuthBYOAServerGetAuthTokens,op:u.TraceOperation.OnboardingSecurityOp});const t=await g(S,this,O).call(this,e,n);return l=!0,t}catch(e){var d,h;const t=e instanceof Error?e.message:"Unknown error";throw null===(d=b(j,this))||void 0===d||d.call(this,{name:u.TraceName.OnboardingOAuthBYOAServerGetAuthTokensError,op:u.TraceOperation.OnboardingError,tags:{errorMessage:t}}),null===(h=b(k,this))||void 0===h||h.call(this,{name:u.TraceName.OnboardingOAuthBYOAServerGetAuthTokensError}),e}finally{var p;null===(p=b(k,this))||void 0===p||p.call(this,{name:u.TraceName.OnboardingOAuthBYOAServerGetAuthTokens,data:{success:l}})}}async function O(e,t){const{authConnection:r}=e,n=r===i.AuthConnection.Google?g(S,this,x).call(this,t):null;return await g(S,this,E).call(this,e,n)}async function E(e,t){let r="",n="";e.authConnection===i.AuthConnection.Google?(r=b(w,this).googleAuthConnectionId,n=b(w,this).googleGroupedAuthConnectionId):e.authConnection===i.AuthConnection.Apple&&(r=b(w,this).appleAuthConnectionId,n=b(w,this).appleGroupedAuthConnectionId);const o=await e.getAuthIdToken(t),s=o.id_token,a=await e.getUserInfo(s);return{authConnectionId:r,groupedAuthConnectionId:n,userId:a.sub||a.email,idTokens:[s],authConnection:e.authConnection,socialLoginEmail:a.email,refreshToken:o.refresh_token,revokeToken:o.revoke_token,accessToken:o.access_token,metadataAccessToken:o.metadata_access_token}}function x(e){return new URL(e).searchParams.get("code")}function A(){const e=(0,a.checkForLastError)();return(null==e?void 0:e.message)===s.OAuthErrorMessages.USER_CANCELLED_LOGIN_ERROR}r.default=class{constructor({messenger:e,env:t,webAuthenticator:r,bufferedTrace:n,bufferedEndTrace:i}){!function(e,t){h(e,t),t.add(e)}(this,S),p(this,"name",l.SERVICE_NAME),p(this,"state",null),d(this,y,void 0),d(this,w,void 0),d(this,_,void 0),d(this,j,void 0),d(this,k,void 0),m(y,this,e);const o=(0,f.loadOAuthConfig)();m(w,this,{...t,...o}),m(_,this,r),m(j,this,n),m(k,this,i),b(y,this).registerActionHandler(`${l.SERVICE_NAME}:startOAuthLogin`,this.startOAuthLogin.bind(this)),b(y,this).registerActionHandler(`${l.SERVICE_NAME}:getNewRefreshToken`,this.getNewRefreshToken.bind(this)),b(y,this).registerActionHandler(`${l.SERVICE_NAME}:revokeRefreshToken`,this.revokeRefreshToken.bind(this)),b(y,this).registerActionHandler(`${l.SERVICE_NAME}:renewRefreshToken`,this.renewRefreshToken.bind(this))}async startOAuthLogin(e){const t=(0,c.createLoginHandler)(e,b(w,this),b(_,this));return g(S,this,T).call(this,t)}async getNewRefreshToken(e){const{connection:t,refreshToken:r}=e,n=(0,c.createLoginHandler)(t,b(w,this),b(_,this)),i=await n.refreshAuthToken(r);return{idTokens:[i.id_token],accessToken:i.access_token,metadataAccessToken:i.metadata_access_token}}async renewRefreshToken(e){const{connection:t,revokeToken:r}=e,n=(0,c.createLoginHandler)(t,b(w,this),b(_,this)),i=await n.renewRefreshToken(r);return{newRefreshToken:i.refresh_token,newRevokeToken:i.revoke_token}}async revokeRefreshToken(e){const{connection:t,revokeToken:r}=e,n=(0,c.createLoginHandler)(t,b(w,this),b(_,this));await n.revokeRefreshToken(r)}async setMarketingConsent(e){const t=b(y,this).call("SeedlessOnboardingController:getState"),{accessToken:r}=t;if(!r)throw new Error("No access token found");const n={opt_in_status:e},i=await fetch(`${b(w,this).authServerUrl}${v}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(n)});if(!i.ok)throw new Error("Failed to post marketing opt in status");return i.ok}async getMarketingConsent(){try{const e=b(y,this).call("SeedlessOnboardingController:getState"),{accessToken:t}=e;if(!t)throw new Error("No access token found");const r=await fetch(`${b(w,this).authServerUrl}${v}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error("Failed to get marketing opt in status");const n=await r.json();return Boolean((null==n?void 0:n.is_opt_in)??!1)}catch(e){return o.default.error("Failed to get marketing opt in status",e),!1}}}}}},{package:"$root$",file:"app/scripts/services/oauth/oauth-service.ts"}],[5540,{"./isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isAsyncIterable=void 0;var n=e("./isFunction");r.isAsyncIterable=function(e){return Symbol.asyncIterator&&n.isFunction(null==e?void 0:e[Symbol.asyncIterator])}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isAsyncIterable.js"}],[5541,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isValidDate=void 0,r.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isDate.js"}],[5542,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=void 0,r.isFunction=function(e){return"function"==typeof e}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isFunction.js"}],[5543,{"../symbol/observable":5521,"./isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isInteropObservable=void 0;var n=e("../symbol/observable"),i=e("./isFunction");r.isInteropObservable=function(e){return i.isFunction(e[n.observable])}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isInteropObservable.js"}],[5544,{"../symbol/iterator":5520,"./isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isIterable=void 0;var n=e("../symbol/iterator"),i=e("./isFunction");r.isIterable=function(e){return i.isFunction(null==e?void 0:e[n.iterator])}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isIterable.js"}],[5545,{"../Observable":5338,"./isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isObservable=void 0;var n=e("../Observable"),i=e("./isFunction");r.isObservable=function(e){return!!e&&(e instanceof n.Observable||i.isFunction(e.lift)&&i.isFunction(e.subscribe))}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isObservable.js"}],[5546,{"./isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=void 0;var n=e("./isFunction");r.isPromise=function(e){return n.isFunction(null==e?void 0:e.then)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isPromise.js"}],[5547,{"./isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__await||function(e){return this instanceof i?(this.v=e,this):new i(e)},o=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||u(e,t)})})}function u(e,t){try{(r=o[e](t)).value instanceof i?Promise.resolve(r.value.v).then(c,l):f(s[0][2],r)}catch(e){f(s[0][3],e)}var r}function c(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),s.shift(),s.length&&u(s[0][0],s[0][1])}};Object.defineProperty(r,"__esModule",{value:!0}),r.isReadableStreamLike=r.readableStreamLikeToAsyncGenerator=void 0;var s=e("./isFunction");r.readableStreamLikeToAsyncGenerator=function(e){return o(this,arguments,function(){var t,r,o;return n(this,function(n){switch(n.label){case 0:t=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,i(t.read())];case 3:return r=n.sent(),o=r.value,r.done?[4,i(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,i(o)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},r.isReadableStreamLike=function(e){return s.isFunction(null==e?void 0:e.getReader)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isReadableStreamLike.js"}],[5548,{"./isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isScheduler=void 0;var n=e("./isFunction");r.isScheduler=function(e){return e&&n.isFunction(e.schedule)}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/isScheduler.js"}],[5549,{"./isFunction":5542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.operate=r.hasLift=void 0;var n=e("./isFunction");function i(e){return n.isFunction(null==e?void 0:e.lift)}r.hasLift=i,r.operate=function(e){return function(t){if(i(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/lift.js"}],[555,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SERVICE_NAME=void 0;r.SERVICE_NAME="OAuthService"}}},{package:"$root$",file:"app/scripts/services/oauth/types.ts"}],[5550,{"../operators/map":5425},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(r,"__esModule",{value:!0}),r.mapOneOrManyArgs=void 0;var o=e("../operators/map"),s=Array.isArray;r.mapOneOrManyArgs=function(e){return o.map(function(t){return function(e,t){return s(t)?e.apply(void 0,i([],n(t))):e(t)}(e,t)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/mapOneOrManyArgs.js"}],[5551,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.noop=void 0,r.noop=function(){}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/noop.js"}],[5552,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.not=void 0,r.not=function(e,t){return function(r,n){return!e.call(t,r,n)}}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/not.js"}],[5553,{"./identity":5538},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pipeFromArray=r.pipe=void 0;var n=e("./identity");function i(e){return 0===e.length?n.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}r.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},r.pipeFromArray=i}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/pipe.js"}],[5554,{"../config":5344,"../scheduler/timeoutProvider":5519},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reportUnhandledError=void 0;var n=e("../config"),i=e("../scheduler/timeoutProvider");r.reportUnhandledError=function(e){i.timeoutProvider.setTimeout(function(){var t=n.config.onUnhandledError;if(!t)throw e;t(e)})}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/reportUnhandledError.js"}],[5555,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createInvalidObservableTypeError=void 0,r.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}}}},{package:"wait-on>rxjs",file:"node_modules/rxjs/dist/cjs/internal/util/throwUnobservableError.js"}],[556,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){const t=e.length,r=4-t%4;if(4===r)return e;const n=t+r;return e.padEnd(n,"=")}function i(e){return e.replace(/\+/gu,"-").replace(/\//gu,"_").replace(/[=]+$/u,"")}function o(e){return e.replace(/-/gu,"+").replace(/_/gu,"/").replace(/[=]/gu,"")}function s(e){const t=o(e),r=atob(t),n=Uint8Array.from(r,e=>e.charCodeAt(0));return(new TextDecoder).decode(n)}Object.defineProperty(r,"__esModule",{value:!0}),r.applyUrlSafeReplacementsToBase64String=i,r.base64urlencode=function(e){let t="";const r=new Uint8Array(e);for(let e=0;e<r.byteLength;e++)t+=String.fromCharCode(r[e]);return i(btoa(t))},r.convertUrlSafeBase64StringToBase64String=o,r.decodeBase64WithSafeUrlReplacements=s,r.decodeIdToken=function(e){const[,t]=e.split(".");return s(o(n(t)))},r.padBase64String=n}}},{package:"$root$",file:"app/scripts/services/oauth/utils.ts"}],[557,{"./utils":556,"webextension-polyfill":5764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getIdentityAPI=u,r.webAuthenticatorFactory=function(){0;return{launchWebAuthFlow:c,generateCodeVerifierAndChallenge:s,generateNonce:a,getRedirectURL:l}};var n,i=(n=e("webextension-polyfill"))&&n.__esModule?n:{default:n},o=e("./utils");async function s(){const e=new Uint8Array(32);crypto.getRandomValues(e);const t=(0,o.base64urlencode)(e),r=await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t));return{codeVerifier:t,challenge:(0,o.base64urlencode)(r)}}function a(){return crypto.randomUUID()}function u(){var e;return null!==(e=chrome)&&void 0!==e&&e.identity&&"getRedirectURL"in chrome.identity&&"launchWebAuthFlow"in chrome.identity?chrome.identity:i.default.identity}async function c(e,t){return u().launchWebAuthFlow(e,t)}function l(){return u().getRedirectURL()}}}},{package:"$root$",file:"app/scripts/services/oauth/web-authenticator-factory.ts"}],[558,{"./types":559,"@metamask/subscription-controller":2810},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SubscriptionService=void 0;var n=e("@metamask/subscription-controller"),i=e("./types");function o(e,t,r){s(e,t),t.set(e,r)}function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return e.get(l(e,t))}function c(e,t,r){return e.set(l(e,t),r),r}function l(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var f=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakSet;async function b(e){const t=await u(d,this).openTab({url:e.url});await new Promise((r,n)=>{let i=!1;const o=(r,n)=>{r===t.id&&n.url&&n.url.startsWith(e.successUrl)&&(i=!0,u(d,this).closeTab(r))};u(d,this).addTabUpdatedListener(o);const s=e=>{const a=()=>{u(d,this).removeTabUpdatedListener(o),u(d,this).removeTabRemovedListener(s)};e===t.id&&(a(),i?r():n(new Error("Tab action failed")))};u(d,this).addTabRemovedListener(s)})}r.SubscriptionService=class{constructor({messenger:e,platform:t,webAuthenticator:r}){var n,u;s(n=this,u=p),u.add(n),a(this,"name",i.SERVICE_NAME),a(this,"state",null),o(this,f,void 0),o(this,d,void 0),o(this,h,void 0),c(f,this,e),c(d,this,t),c(h,this,r)}async updateSubscriptionCardPaymentMethod(e,t){const{paymentType:r}=e;if(r!==n.PAYMENT_TYPES.byCard)throw new Error("Only card payment type is supported");const i=u(h,this).getRedirectURL(),{redirectUrl:o}=await u(f,this).call("SubscriptionController:updatePaymentMethod",{...e,successUrl:i});await l(p,this,b).call(this,{url:o,successUrl:i}),t||u(d,this).openExtensionInBrowser("/settings/transaction-shield");return await u(f,this).call("SubscriptionController:getSubscriptions")}async updateSubscriptionCryptoPaymentMethod(e){const{paymentType:t}=e;if(t!==n.PAYMENT_TYPES.byCrypto)throw new Error("Only crypto payment type is supported");await u(f,this).call("SubscriptionController:updatePaymentMethod",e);return await u(f,this).call("SubscriptionController:getSubscriptions")}async startSubscriptionWithCard(e,t){const r=u(h,this).getRedirectURL(),{checkoutSessionUrl:n}=await u(f,this).call("SubscriptionController:startShieldSubscriptionWithCard",{...e,successUrl:r});await l(p,this,b).call(this,{url:n,successUrl:r}),t||u(d,this).openExtensionInBrowser("/settings/transaction-shield");return await u(f,this).call("SubscriptionController:getSubscriptions")}}}}},{package:"$root$",file:"app/scripts/services/subscription/subscription-service.ts"}],[559,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SERVICE_NAME=void 0;r.SERVICE_NAME="SubscriptionService"}}},{package:"$root$",file:"app/scripts/services/subscription/types.ts"}],[56,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountTrackerControllerInitMessenger=function(e){return e.getRestricted({name:"AccountTrackerControllerInit",allowedActions:["NetworkController:getSelectedNetworkClient","NetworkController:getState","RemoteFeatureFlagController:getState","PreferencesController:getState"],allowedEvents:["NetworkController:networkDidChange"]})},r.getAccountTrackerControllerMessenger=function(e){return e.getRestricted({name:"AccountTrackerController",allowedActions:["AccountsController:getSelectedAccount","NetworkController:getState","NetworkController:getNetworkClientById","OnboardingController:getState","PreferencesController:getState","RemoteFeatureFlagController:getState"],allowedEvents:["AccountsController:selectedEvmAccountChange","OnboardingController:stateChange","KeyringController:accountRemoved"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/account-tracker-controller-messenger.ts"}],[5667,{events:4361,"fast-fifo":4370,"queue-tick":5143},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{EventEmitter:n}=e("events"),i=new Error("Stream was destroyed"),o=new Error("Premature close"),s=e("queue-tick"),a=e("fast-fifo"),u=134217727,c=1^u,l=2^u,f=64,d=128,h=256,p=1024,b=2048,m=4096,g=8192,v=16384,y=32768,w=16^u,_=768^u,j=134184959,k=32^u,S=2<<17,T=4<<17,O=8<<17,E=16<<17,x=32<<17,A=64<<17,C=128<<17,I=256<<17,M=512<<17,P=100532223,N=133693439,R=117440511,F=131088,B=134086639,L=4210688,D=14,U=15,$=4210702,H=16809984,W=16809999,V=1179648,K=1179663,z=Symbol.asyncIterator||Symbol("asyncIterator");class G{constructor(e,{highWaterMark:t=16384,map:r=null,mapWritable:n,byteLength:i,byteLengthWritable:o}={}){this.stream=e,this.queue=new a,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||i||pe,this.map=n||r,this.afterWrite=ee.bind(this),this.afterUpdateNextTick=ne.bind(this)}get ended(){return 0!==(this.stream._duplexState&x)}push(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=O,!0):(this.stream._duplexState|=3145728,!1)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=133169151),e}end(e){"function"==typeof e?this.stream.once("finish",e):e!==undefined&&null!==e&&this.push(e),this.stream._duplexState=(this.stream._duplexState|M)&N}autoBatch(e,t){const r=[],n=this.stream;for(r.push(e);(n._duplexState&K)===V;)r.push(n._writableState.shift());if(0!==(n._duplexState&U))return t(null);n._writev(r,t)}update(){const e=this.stream;e._duplexState|=S;do{for(;(e._duplexState&K)===O;){const t=this.shift();e._duplexState|=33685504,e._write(t,this.afterWrite)}655360&e._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=133955583}updateNonPrimary(){const e=this.stream;if((72482831&e._duplexState)===M)return e._duplexState=67108863&e._duplexState|131072,void e._final(X.bind(this));4!==(e._duplexState&D)?1===(e._duplexState&W)&&(e._duplexState=(e._duplexState|F)&c,e._open(ie.bind(this))):0===(e._duplexState&H)&&(e._duplexState|=F,e._destroy(Z.bind(this)))}continueUpdate(){return 0!==(this.stream._duplexState&C)&&(this.stream._duplexState&=R,!0)}updateCallback(){(17563663&this.stream._duplexState)===T?this.update():this.updateNextTick()}updateNextTick(){0===(this.stream._duplexState&C)&&(this.stream._duplexState|=C,0===(this.stream._duplexState&S)&&s(this.afterUpdateNextTick))}}class q{constructor(e,{highWaterMark:t=16384,map:r=null,mapReadable:n,byteLength:i,byteLengthReadable:o}={}){this.stream=e,this.queue=new a,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||i||pe,this.map=n||r,this.pipeTo=null,this.afterRead=te.bind(this),this.afterUpdateNextTick=re.bind(this)}get ended(){return 0!==(this.stream._duplexState&v)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new J(this.stream,e,t),t&&this.stream.on("error",be),he(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",be),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),r=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",r),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",Q.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=134152127&t._duplexState|1024,!1):(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=134152191&t._duplexState|128,this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=134209407),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const r=t[e];this.buffered+=this.byteLength(r),this.queue.push(r)}this.push(t[t.length-1])}read(){const e=this.stream;if((16527&e._duplexState)===d){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=_),0!==(e._duplexState&b)&&e.emit("data",t),t}return null}drain(){const e=this.stream;for(;(16527&e._duplexState)===d&&768&e._duplexState;){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=_),0!==(e._duplexState&b)&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&!(82975&e._duplexState);)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=g,e.emit("readable")),80&e._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=k}updateNonPrimary(){const e=this.stream;(1167&e._duplexState)===p&&(e._duplexState=134216703&e._duplexState|16384,e.emit("end"),(e._duplexState&$)===L&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!==(e._duplexState&D)?1===(e._duplexState&W)&&(e._duplexState=(e._duplexState|F)&c,e._open(ie.bind(this))):0===(e._duplexState&H)&&(e._duplexState|=F,e._destroy(Z.bind(this)))}continueUpdate(){return 0!==(this.stream._duplexState&y)&&(this.stream._duplexState&=j,!0)}updateCallback(){(32879&this.stream._duplexState)===f?this.update():this.updateNextTick()}updateNextTick(){0===(this.stream._duplexState&y)&&(this.stream._duplexState|=y,32&this.stream._duplexState||s(this.afterUpdateNextTick))}}class Y{constructor(e){this.data=null,this.afterTransform=oe.bind(e),this.afterFinal=null}}class J{constructor(e,t,r){this.from=e,this.to=t,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0===(e._duplexState&v)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!==(this.from._duplexState&v)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function Q(){this.stream._duplexState|=512,this.updateCallback()}function X(e){const t=this.stream;e&&t.destroy(e),0===(t._duplexState&D)&&(t._duplexState|=x,t.emit("finish")),(t._duplexState&$)===L&&(t._duplexState|=4),t._duplexState&=P,0===(t._duplexState&S)?this.update():this.updateNextTick()}function Z(e){const t=this.stream;e||this.error===i||(e=this.error),e&&t.emit("error",e),t._duplexState|=8,t.emit("close");const r=t._readableState,n=t._writableState;if(null!==r&&null!==r.pipeline&&r.pipeline.done(t,e),null!==n){for(;null!==n.drains&&n.drains.length>0;)n.drains.shift().resolve(!1);null!==n.pipeline&&n.pipeline.done(t,e)}}function ee(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=P,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0===--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),(3276815&t._duplexState)===E&&(t._duplexState&=132120575,(t._duplexState&A)===A&&t.emit("drain")),this.updateCallback()}function te(e){e&&this.stream.destroy(e),this.stream._duplexState&=w,this.updateCallback()}function re(){32&this.stream._duplexState||(this.stream._duplexState&=j,this.update())}function ne(){0===(this.stream._duplexState&S)&&(this.stream._duplexState&=R,this.update())}function ie(e){const t=this.stream;e&&t.destroy(e),4&t._duplexState||(17423&t._duplexState||(t._duplexState|=f),71303183&t._duplexState||(t._duplexState|=T),t.emit("open")),t._duplexState&=B,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function oe(e,t){t!==undefined&&null!==t&&this.push(t),this._writableState.afterWrite(e)}class se extends n{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",me.bind(this)))}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||undefined}get writable(){return null!==this._writableState||undefined}get destroyed(){return!!(8&this._duplexState)}get destroying(){return 0!==(this._duplexState&D)}destroy(e){0===(this._duplexState&D)&&(e||(e=i),this._duplexState=133693375&this._duplexState|4,null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=l,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}on(e,t){return null!==this._readableState&&("data"===e&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=m,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=A,this._writableState.updateNextTick()),super.on(e,t)}}class ae extends se{constructor(e){super(e),this._duplexState|=4194305,this._readableState=new q(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=h,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=134217471,this}static _fromAsyncIterator(e,t){let r;const n=new ae({...t,read(t){e.next().then(i).then(t.bind(null,null)).catch(t)},predestroy(){r=e.return()},destroy(e){if(!r)return e(null);r.then(e.bind(null,null)).catch(e)}});return n;function i(e){e.done?n.push(null):n.push(e.value)}}static from(e,t){if(he(r=e)&&r.readable)return e;var r;if(e[z])return this._fromAsyncIterator(e[z](),t);Array.isArray(e)||(e=e===undefined?[]:[e]);let n=0;return new ae({...t,read(t){this.push(n===e.length?null:e[n++]),t(null)}})}static isBackpressured(e){return!!(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return 0===(e._duplexState&h)}[z](){const e=this;let t=null,r=null,n=null;return this.on("error",e=>{t=e}),this.on("readable",function(){null!==r&&o(e.read())}),this.on("close",function(){null!==r&&o(null)}),{[z](){return this},next:()=>new Promise(function(t,i){r=t,n=i;const s=e.read();null!==s?o(s):8&e._duplexState&&o(null)}),return:()=>s(null),throw:e=>s(e)};function o(o){null!==n&&(t?n(t):null===o&&0===(e._duplexState&v)?n(i):r({value:o,done:null===o}),n=r=null)}function s(t){return e.destroy(t),new Promise((r,n)=>{if(8&e._duplexState)return r({value:undefined,done:!0});e.once("close",function(){t?n(t):r({value:undefined,done:!0})})})}}}class ue extends ae{constructor(e){super(e),this._duplexState=1,this._writableState=new G(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class ce extends ue{constructor(e){super(e),this._transformState=new Y(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(le.bind(this))}}function le(e,t){const r=this._transformState.afterFinal;if(e)return r(e);null!==t&&t!==undefined&&this.push(t),this.push(null),r(null)}function fe(e,...t){const r=Array.isArray(e)?[...e,...t]:[e,...t],n=r.length&&"function"==typeof r[r.length-1]?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,a=null;for(let e=1;e<r.length;e++)s=r[e],he(i)?i.pipe(s,c):(u(i,!0,e>1,c),i.pipe(s)),i=s;if(n){let e=!1;const t=he(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",e=>{null===a&&(a=e)}),s.on("finish",()=>{e=!0,t||n(a)}),t&&s.on("close",()=>n(a||(e?null:o)))}return s;function u(e,t,r,n){e.on("error",n),e.on("close",function(){if(t&&e._readableState&&!e._readableState.ended)return n(o);if(r&&e._writableState&&!e._writableState.ended)return n(o)})}function c(e){if(e&&!a){a=e;for(const t of r)t.destroy(e)}}}function de(e){return!!e._readableState||!!e._writableState}function he(e){return"number"==typeof e._duplexState&&de(e)}function pe(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function be(){}function me(){this.destroy(new Error("Stream aborted."))}t.exports={pipeline:fe,pipelinePromise:function(...e){return new Promise((t,r)=>fe(...e,e=>{if(e)return r(e);t()}))},isStream:de,isStreamx:he,getStreamError:function(e){const t=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t===i?null:t},Stream:se,Writable:class extends se{constructor(e){super(e),this._duplexState|=16385,this._writableState=new G(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return!!(73400334&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState,r=t.queue.length+(e._duplexState&I?1:0);return 0===r?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise(e=>{t.drains.push({writes:r,resolve:e})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Readable:ae,Duplex:ue,Transform:ce,PassThrough:class extends ce{}}}}},{package:"@metamask/snaps-controllers>tar-stream>streamx",file:"node_modules/streamx/index.js"}],[5676,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new DataView(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new DataView(e);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}}}},{package:"base32-encode>to-data-view",file:"node_modules/to-data-view/index.js"}],[5690,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,o,s=void 0,a=(n=Object.prototype.toString,i=Object.prototype.hasOwnProperty,{Class:function(e){return n.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return i.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return 0|e},ToUint32:function(e){return e>>>0}}),u=Math.LN2,c=Math.abs,l=Math.floor,f=Math.log,d=Math.min,h=Math.pow,p=Math.round;function b(e){if(m&&o){var t,r=m(e);for(t=0;t<r.length;t+=1)o(e,r[t],{value:e[r[t]],writable:!1,enumerable:!1,configurable:!1})}}o=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,r){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return a.HasProperty(r,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,r.get),a.HasProperty(r,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,r.set),a.HasProperty(r,"value")&&(e[t]=r.value),e};var m=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)a.HasOwnProperty(e,t)&&r.push(t);return r};function g(e,t){var r=32-t;return e<<r>>r}function v(e,t){var r=32-t;return e<<r>>>r}function y(e){return[255&e]}function w(e){return g(e[0],8)}function _(e){return[255&e]}function j(e){return v(e[0],8)}function k(e){return[(e=p(Number(e)))<0?0:e>255?255:255&e]}function S(e){return[e>>8&255,255&e]}function T(e){return g(e[0]<<8|e[1],16)}function O(e){return[e>>8&255,255&e]}function E(e){return v(e[0]<<8|e[1],16)}function x(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function A(e){return g(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function C(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function I(e){return v(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function M(e,t,r){var n,i,o,s,a,p,b,m=(1<<t-1)-1;function g(e){var t=l(e),r=e-t;return r<.5?t:r>.5||t%2?t+1:t}for(e!=e?(i=(1<<t)-1,o=h(2,r-1),n=0):e===Infinity||e===-Infinity?(i=(1<<t)-1,o=0,n=e<0?1:0):0===e?(i=0,o=0,n=1/e===-Infinity?1:0):(n=e<0,(e=c(e))>=h(2,1-m)?(i=d(l(f(e)/u),1023),(o=g(e/h(2,i)*h(2,r)))/h(2,r)>=2&&(i+=1,o=1),i>m?(i=(1<<t)-1,o=0):(i+=m,o-=h(2,r))):(i=0,o=g(e/h(2,1-m-r)))),a=[],s=r;s;s-=1)a.push(o%2?1:0),o=l(o/2);for(s=t;s;s-=1)a.push(i%2?1:0),i=l(i/2);for(a.push(n?1:0),a.reverse(),p=a.join(""),b=[];p.length;)b.push(parseInt(p.substring(0,8),2)),p=p.substring(8);return b}function P(e,t,r){var n,i,o,s,a,u,c,l,f=[];for(n=e.length;n;n-=1)for(o=e[n-1],i=8;i;i-=1)f.push(o%2?1:0),o>>=1;return f.reverse(),s=f.join(""),a=(1<<t-1)-1,u=parseInt(s.substring(0,1),2)?-1:1,c=parseInt(s.substring(1,1+t),2),l=parseInt(s.substring(1+t),2),c===(1<<t)-1?0!==l?NaN:u*Infinity:c>0?u*h(2,c-a)*(1+l/h(2,r)):0!==l?u*h(2,-(a-1))*(l/h(2,r)):u<0?-0:0}function N(e){return P(e,11,52)}function R(e){return M(e,11,52)}function F(e){return P(e,8,23)}function B(e){return M(e,8,23)}!function(){var e=function(e){if((e=a.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;b(this)};r.ArrayBuffer=r.ArrayBuffer||e;var t=function(){};function n(r,n,i){var u;return u=function(t,r,n){var i,s,c,l;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===u)for(i=arguments[0],this.length=i.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)this._setter(c,i._getter(c));else if("object"!=typeof arguments[0]||(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===a.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=a.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=a.ToUint32(n),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(s=arguments[0],this.length=a.ToUint32(s.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,c=0;c<this.length;c+=1)l=s[c],this._setter(c,Number(l));else{if(this.length=a.ToInt32(arguments[0]),n<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=u,b(this),function(e){if(o){if(e.length>1e5)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)r(t)}function r(t){o(e,t,{get:function(){return e._getter(t)},set:function(r){e._setter(t,r)},enumerable:!0,configurable:!1})}}(this)},u.prototype=new t,u.prototype.BYTES_PER_ELEMENT=r,u.prototype._pack=n,u.prototype._unpack=i,u.BYTES_PER_ELEMENT=r,u.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return s;var t,r,n=[];for(t=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)},u.prototype.get=u.prototype._getter,u.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((e=a.ToUint32(e))>=this.length)return s;var r,n,i=this._pack(t);for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=i[r]},u.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var r,n,i,o,s,u,c,l,f,d;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(i=a.ToUint32(arguments[1]))+r.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(l=this.byteOffset+i*this.BYTES_PER_ELEMENT,f=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(d=[],s=0,u=r.byteOffset;s<f;s+=1,u+=1)d[s]=r.buffer._bytes[u];for(s=0,c=l;s<f;s+=1,c+=1)this.buffer._bytes[c]=d[s]}else for(s=0,u=r.byteOffset,c=l;s<f;s+=1,u+=1,c+=1)this.buffer._bytes[c]=r.buffer._bytes[u]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(n=arguments[0],o=a.ToUint32(n.length),(i=a.ToUint32(arguments[1]))+o>this.length)throw new RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)u=n[s],this._setter(i+s,Number(u))}},u.prototype.subarray=function(e,t){function r(e,t,r){return e<t?t:e>r?r:e}e=a.ToInt32(e),t=a.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=r(e,0,this.length);var n=(t=r(t,0,this.length))-e;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)},u}var i=n(1,y,w),u=n(1,_,j),c=n(1,k,j),l=n(2,S,T),f=n(2,O,E),d=n(4,x,A),h=n(4,C,I),p=n(4,B,F),m=n(8,R,N);r.Int8Array=r.Int8Array||i,r.Uint8Array=r.Uint8Array||u,r.Uint8ClampedArray=r.Uint8ClampedArray||c,r.Int16Array=r.Int16Array||l,r.Uint16Array=r.Uint16Array||f,r.Int32Array=r.Int32Array||d,r.Uint32Array=r.Uint32Array||h,r.Float32Array=r.Float32Array||p,r.Float64Array=r.Float64Array||m}(),function(){function e(e,t){return a.IsCallable(e.get)?e.get(t):e[t]}var t,n=(t=new r.Uint16Array([4660]),18===e(new r.Uint8Array(t.buffer),0)),i=function(e,t,n){if(0===arguments.length)e=new r.ArrayBuffer(0);else if(!(e instanceof r.ArrayBuffer||"ArrayBuffer"===a.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new r.ArrayBuffer(0),this.byteOffset=a.ToUint32(t),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteLength=arguments.length<3?this.buffer.byteLength-this.byteOffset:a.ToUint32(n),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");b(this)};function o(t){return function(i,o){if((i=a.ToUint32(i))+t.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");i+=this.byteOffset;var s,u=new r.Uint8Array(this.buffer,i,t.BYTES_PER_ELEMENT),c=[];for(s=0;s<t.BYTES_PER_ELEMENT;s+=1)c.push(e(u,s));return Boolean(o)===Boolean(n)&&c.reverse(),e(new t(new r.Uint8Array(c).buffer),0)}}function s(t){return function(i,o,s){if((i=a.ToUint32(i))+t.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var u,c=new t([o]),l=new r.Uint8Array(c.buffer),f=[];for(u=0;u<t.BYTES_PER_ELEMENT;u+=1)f.push(e(l,u));Boolean(s)===Boolean(n)&&f.reverse(),new r.Uint8Array(this.buffer,i,t.BYTES_PER_ELEMENT).set(f)}}i.prototype.getUint8=o(r.Uint8Array),i.prototype.getInt8=o(r.Int8Array),i.prototype.getUint16=o(r.Uint16Array),i.prototype.getInt16=o(r.Int16Array),i.prototype.getUint32=o(r.Uint32Array),i.prototype.getInt32=o(r.Int32Array),i.prototype.getFloat32=o(r.Float32Array),i.prototype.getFloat64=o(r.Float64Array),i.prototype.setUint8=s(r.Uint8Array),i.prototype.setInt8=s(r.Int8Array),i.prototype.setUint16=s(r.Uint16Array),i.prototype.setInt16=s(r.Int16Array),i.prototype.setUint32=s(r.Uint32Array),i.prototype.setInt32=s(r.Int32Array),i.prototype.setFloat32=s(r.Float32Array),i.prototype.setFloat64=s(r.Float64Array),r.DataView=r.DataView||i}()}}},{package:"browserify>concat-stream>typedarray",file:"node_modules/typedarray/index.js"}],[57,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountsControllerMessenger=function(e){return e.getRestricted({name:"AccountsController",allowedActions:["KeyringController:getState","KeyringController:getKeyringsByType"],allowedEvents:["SnapController:stateChange","KeyringController:stateChange","SnapKeyring:accountAssetListUpdated","SnapKeyring:accountBalancesUpdated","SnapKeyring:accountTransactionsUpdated","MultichainNetworkController:networkDidChange"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/accounts-controller-messenger.ts"}],[5752,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function e(t,r){var o,s=0,a=0,u=r=r||0,c=t.length;do{if(u>=c||a>49)throw e.bytes=0,new RangeError("Could not decode varint");o=t[u++],s+=a<28?(o&i)<<a:(o&i)*Math.pow(2,a),a+=7}while(o>=n);return e.bytes=u-r,s};var n=128,i=127}}},{package:"sass-embedded>varint",file:"node_modules/varint/decode.js"}],[5753,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function e(t,r,s){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");r=r||[];var a=s=s||0;for(;t>=o;)r[s++]=255&t|n,t/=128;for(;t&i;)r[s++]=255&t|n,t>>>=7;return r[s]=0|t,e.bytes=s-a+1,r};var n=128,i=-128,o=Math.pow(2,31)}}},{package:"sass-embedded>varint",file:"node_modules/varint/encode.js"}],[5754,{"./decode.js":5752,"./encode.js":5753,"./length.js":5755},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={encode:e("./encode.js"),decode:e("./decode.js"),encodingLength:e("./length.js")}}}},{package:"sass-embedded>varint",file:"node_modules/varint/index.js"}],[5755,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=Math.pow(2,7),i=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),a=Math.pow(2,35),u=Math.pow(2,42),c=Math.pow(2,49),l=Math.pow(2,56),f=Math.pow(2,63);t.exports=function(e){return e<n?1:e<i?2:e<o?3:e<s?4:e<a?5:e<u?6:e<c?7:e<l?8:e<f?9:10}}}},{package:"sass-embedded>varint",file:"node_modules/varint/length.js"}],[5763,{util:5731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){r.TextEncoder="undefined"!=typeof TextEncoder?TextEncoder:e("util").TextEncoder,r.TextDecoder="undefined"!=typeof TextDecoder?TextDecoder:e("util").TextDecoder}}},{package:"@ensdomains/content-hash>multihashes>web-encoding",file:"node_modules/web-encoding/src/lib.js"}],[5765,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){!function(e,n){"object"==typeof r&&void 0!==t?n(r):"function"==typeof define&&define.amd?define(["exports"],n):n(e.WHATWGFetch={})}(this,function(e){var t="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{},r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function p(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function b(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,o=h(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=p(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=n?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=l(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),f(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),f(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function y(e,r){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(r=r||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,r.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=r.credentials||this.credentials||"same-origin",!r.headers&&this.headers||(this.headers=new d(r.headers)),this.method=(n=r.method||this.method||"GET",i=n.toUpperCase(),v.indexOf(i)>-1?i:n),this.mode=r.mode||this.mode||null,this.signal=r.signal||this.signal||function(){if("AbortController"in t)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==r.cache&&"no-cache"!==r.cache)){var s=/([?&])_=[^&]*/;if(s.test(this.url))this.url=this.url.replace(s,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===undefined?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===undefined?"":""+t.statusText,this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},g.call(y.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var j=[301,302,303,307,308];_.redirect=function(e,t){if(-1===j.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function k(r,n){return new Promise(function(o,a){var u=new y(r,n);if(u.signal&&u.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var f=new XMLHttpRequest;function h(){f.abort()}if(f.onload=function(){var e,t,r={statusText:f.statusText,headers:(e=f.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===u.url.indexOf("file://")&&(f.status<200||f.status>599)?r.status=200:r.status=f.status,r.url="responseURL"in f?f.responseURL:r.headers.get("X-Request-URL");var n="response"in f?f.response:f.responseText;setTimeout(function(){o(new _(n,r))},0)},f.onerror=function(){setTimeout(function(){a(new TypeError("Network request failed"))},0)},f.ontimeout=function(){setTimeout(function(){a(new TypeError("Network request timed out"))},0)},f.onabort=function(){setTimeout(function(){a(new e.DOMException("Aborted","AbortError"))},0)},f.open(u.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(u.url),!0),"include"===u.credentials?f.withCredentials=!0:"omit"===u.credentials&&(f.withCredentials=!1),"responseType"in f&&(i?f.responseType="blob":s&&(f.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof d||t.Headers&&n.headers instanceof t.Headers)){var p=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){p.push(c(e)),f.setRequestHeader(e,l(n.headers[e]))}),u.headers.forEach(function(e,t){-1===p.indexOf(t)&&f.setRequestHeader(t,e)})}else u.headers.forEach(function(e,t){f.setRequestHeader(t,e)});u.signal&&(u.signal.addEventListener("abort",h),f.onreadystatechange=function(){4===f.readyState&&u.signal.removeEventListener("abort",h)}),f.send(void 0===u._bodyInit?null:u._bodyInit)})}k.polyfill=!0,t.fetch||(t.fetch=k,t.Headers=d,t.Request=y,t.Response=_),e.Headers=d,e.Request=y,e.Response=_,e.fetch=k,Object.defineProperty(e,"__esModule",{value:!0})})}}},{package:"@open-rpc/test-coverage>isomorphic-fetch>whatwg-fetch",file:"node_modules/whatwg-fetch/dist/fetch.umd.js"}],[5778,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM=r.AUTO_LOCK_TIMEOUT_ALARM=void 0;r.AUTO_LOCK_TIMEOUT_ALARM="AUTO_LOCK_TIMEOUT_ALARM",r.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM="METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM"}}},{package:"$root$",file:"shared/constants/alarms.js"}],[5787,{"@metamask/keyring-api":2060},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ETH_EOA_METHODS=r.ETH_4337_METHODS=void 0;var n=e("@metamask/keyring-api");r.ETH_EOA_METHODS=[n.EthMethod.PersonalSign,n.EthMethod.SignTransaction,n.EthMethod.SignTypedDataV1,n.EthMethod.SignTypedDataV3,n.EthMethod.SignTypedDataV4],r.ETH_4337_METHODS=[n.EthMethod.PrepareUserOperation,n.EthMethod.PatchUserOperation,n.EthMethod.SignUserOperation]}}},{package:"$root$",file:"shared/constants/eth-methods.ts"}],[5794,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LOG_EVENT=void 0;r.LOG_EVENT={VERSION_UPDATE:"Extension version update"}}}},{package:"$root$",file:"shared/constants/logs.ts"}],[5795,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EXTENSION_MESSAGES=void 0;r.EXTENSION_MESSAGES={READY:"METAMASK_EXTENSION_READY"}}}},{package:"$root$",file:"shared/constants/messages.ts"}],[58,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountTreeControllerInitMessenger=function(e){return e.getRestricted({name:"AccountTreeControllerInit",allowedActions:["MetaMetricsController:trackEvent","AccountsController:getAccount","AccountOrderController:getState"],allowedEvents:[]})},r.getAccountTreeControllerMessenger=function(e){return e.getRestricted({name:"AccountTreeController",allowedEvents:["AccountsController:accountAdded","AccountsController:accountRemoved","AccountsController:selectedAccountChange","UserStorageController:stateChange","MultichainAccountService:walletStatusChange"],allowedActions:["AccountsController:listMultichainAccounts","AccountsController:getAccount","AccountsController:getSelectedMultichainAccount","AccountsController:setSelectedAccount","UserStorageController:getState","UserStorageController:performGetStorage","UserStorageController:performGetStorageAllFeatureEntries","UserStorageController:performSetStorage","UserStorageController:performBatchSetStorage","AuthenticationController:getSessionProfile","MultichainAccountService:createMultichainAccountGroup","SnapController:get","KeyringController:getState"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/accounts/account-tree-controller-messenger.ts"}],[5806,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PRICE_API_CURRENCIES=void 0;r.PRICE_API_CURRENCIES=["aud","hkd","sgd","idr","inr","nzd","php","btc","cad","eur","gbp","jpy","ltc","rub","uah","usd","xlm","xrp","sek","aed","ars","bch","bnb","brl","clp","cny","czk","dkk","chf","dot","eos","eth","gel","huf","ils","krw","mxn","myr","ngn","nok","pln","thb","try","zar"]}}},{package:"$root$",file:"shared/constants/price-api-currencies.ts"}],[5807,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.METAMASK_REFERRAL_CODE=r.HYPERLIQUID_ORIGIN=void 0;r.HYPERLIQUID_ORIGIN="https://app.hyperliquid.xyz",r.METAMASK_REFERRAL_CODE="MMREFCSI"}}},{package:"$root$",file:"shared/constants/referrals.ts"}],[5847,{"@metamask/abi-utils":1101,buffer:4061,"ethereumjs-util":4319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.getCaveatArrayPacketHash=r.createCaveat=void 0;var n=e("@metamask/abi-utils"),i=e("ethereumjs-util");const o=e=>{const r=(0,n.encode)(["bytes32","address","bytes32"],["0x80ad7e1b04ee6d994a125f4714ca0720908bd80ed16063ec8aee4b88e9253e2d",e.enforcer,(0,i.keccak)((0,i.toBuffer)(e.terms))]);return(0,i.keccak)(t.from(r))};r.getCaveatArrayPacketHash=e=>{let r=t.from([]);for(const i of e){const e=o(i);r=t.from((0,n.encode)(["bytes","bytes32"],[r,e],!0))}return(0,i.keccak)(r)};r.createCaveat=(e,t,r="0x")=>({enforcer:e,terms:t,args:r})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"shared/lib/delegation/caveat.ts"}],[5848,{"../utils":5865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.allowedCalldataBuilder=r.allowedCalldata=void 0;var n=e("../utils");r.allowedCalldata="allowedCalldata";r.allowedCalldataBuilder=(e,t,r)=>{if(!(0,n.isHex)(r))throw new Error("Invalid value: must be a valid hex string");if(t<0)throw new Error("Invalid startIndex: must be zero or positive");if(!Number.isInteger(t))throw new Error("Invalid startIndex: must be a whole number");const i=(0,n.toHex)(t,{size:32}),o=(0,n.concat)([i,r]),{caveatEnforcers:{AllowedCalldataEnforcer:s}}=e;return{enforcer:s,terms:o,args:"0x"}}}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/allowedCalldataBuilder.ts"}],[5849,{"../utils":5865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.allowedMethodsBuilder=r.allowedMethods=void 0;var n=e("../utils");r.allowedMethods="allowedMethods";function i(e){if((0,n.isHex)(e)){if(10===e.length)return e;throw new Error("Invalid selector: must be a 4 byte hex string or abi function signature")}try{return(0,n.toFunctionSelector)(e)}catch(e){throw new Error("Invalid selector: must be a 4 byte hex string or abi function signature",{cause:e})}}r.allowedMethodsBuilder=(e,t)=>{if(0===t.length)throw new Error("Invalid selectors: must provide at least one selector");const r=t.map(i),o=(0,n.concat)(r),{caveatEnforcers:{AllowedMethodsEnforcer:s}}=e;return{enforcer:s,terms:o,args:"0x"}}}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/allowedMethodsBuilder.ts"}],[5850,{"../utils":5865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.allowedTargetsBuilder=r.allowedTargets=void 0;var n=e("../utils");r.allowedTargets="allowedTargets";r.allowedTargetsBuilder=(e,t)=>{if(0===t.length)throw new Error("Invalid targets: must provide at least one target address");if(t.filter(e=>!(0,n.isAddress)(e,{strict:!1})).length>0)throw new Error("Invalid targets: must be valid addresses");const r=(0,n.concat)(t),{caveatEnforcers:{AllowedTargetsEnforcer:i}}=e;return{enforcer:i,terms:r,args:"0x"}}}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/allowedTargetsBuilder.ts"}],[5851,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0}),r.resolveCaveats=r.CaveatBuilder=void 0;r.resolveCaveats=e=>Array.isArray(e)?e:e.build();class i{constructor(e,t={},r={},i=[]){n(this,"results",[]),n(this,"hasBeenBuilt",!1),n(this,"environment",void 0),n(this,"config",{}),n(this,"enforcerBuilders",{}),this.environment=e,this.config=t,this.enforcerBuilders=r,this.results=i}extend(e,t){return new i(this.environment,this.config,{...this.enforcerBuilders,[e]:t},this.results)}addCaveat(e,...t){if("object"==typeof e){const t={args:"0x",...e};return this.results.push(t),this}const r=e,n=this.enforcerBuilders[r];if("function"==typeof n){const e=n(this.environment,...t);return this.results.push(e),this}throw new Error(`Function "${String(r)}" does not exist.`)}build(){if(this.hasBeenBuilt)throw new Error("This CaveatBuilder has already been built.");if(0===this.results.length&&!this.config.allowEmptyCaveats)throw new Error("No caveats found. If you definitely want to create an empty caveat collection, set `allowEmptyCaveats`.");return this.hasBeenBuilt=!0,this.results}}r.CaveatBuilder=i}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/caveatBuilder.ts"}],[5852,{"../utils":5865,"@metamask/abi-utils":1101,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.erc1155BalanceChange=void 0,r.erc1155BalanceChangeBuilder=function(e,t,r,s,a,u){if("boolean"!=typeof t)throw new Error("Invalid enforceDecrease: must be a boolean");if(!(0,o.isAddress)(r,{strict:!1}))throw new Error("Invalid token: must be a valid address");if(!(0,o.isAddress)(s,{strict:!1}))throw new Error("Invalid recipient: must be a valid address");if("bigint"!=typeof a||a<0)throw new Error("Invalid tokenId: must be a non-negative number");if("bigint"!=typeof u||u<0)throw new Error("Invalid amount: must be a non-negative number");const c=(0,n.bytesToHex)((0,i.encodePacked)(["bool","address","address","uint256","uint256"],[t,r,s,a,u])),{caveatEnforcers:{ERC1155BalanceChangeEnforcer:l}}=e;return{enforcer:l,terms:c,args:"0x"}};var n=e("@metamask/utils"),i=e("@metamask/abi-utils"),o=e("../utils");r.erc1155BalanceChange="erc1155BalanceChange"}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/erc1155BalanceChangeBuilder.ts"}],[5853,{"../utils":5865,"@metamask/abi-utils":1101,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.erc20BalanceChange=void 0,r.erc20BalanceChangeBuilder=function(e,t,r,s,a){if("boolean"!=typeof t)throw new Error("Invalid enforceDecrease: must be a boolean");if(!(0,o.isAddress)(r,{strict:!1}))throw new Error("Invalid token: must be a valid address");if(!(0,o.isAddress)(s,{strict:!1}))throw new Error("Invalid recipient: must be a valid address");if("bigint"!=typeof a||a<0)throw new Error("Invalid amount: must be a non-negative number");const u=(0,n.bytesToHex)((0,i.encodePacked)(["bool","address","address","uint256"],[t,r,s,a])),{caveatEnforcers:{ERC20BalanceChangeEnforcer:c}}=e;return{enforcer:c,terms:u,args:"0x"}};var n=e("@metamask/utils"),i=e("@metamask/abi-utils"),o=e("../utils");r.erc20BalanceChange="erc20BalanceChange"}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/erc20BalanceChangeBuilder.ts"}],[5854,{"../utils":5865,"@metamask/abi-utils":1101,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.erc721BalanceChange=void 0,r.erc721BalanceChangeBuilder=function(e,t,r,s,a){if("boolean"!=typeof t)throw new Error("Invalid enforceDecrease: must be a boolean");if(!(0,o.isAddress)(r,{strict:!1}))throw new Error("Invalid token: must be a valid address");if(!(0,o.isAddress)(s,{strict:!1}))throw new Error("Invalid recipient: must be a valid address");if("bigint"!=typeof a||a<0)throw new Error("Invalid amount: must be a non-negative number");const u=(0,n.bytesToHex)((0,i.encodePacked)(["bool","address","address","uint256"],[t,r,s,a])),{caveatEnforcers:{ERC721BalanceChangeEnforcer:c}}=e;return{enforcer:c,terms:u,args:"0x"}};var n=e("@metamask/utils"),i=e("@metamask/abi-utils"),o=e("../utils");r.erc721BalanceChange="erc721BalanceChange"}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/erc721BalanceChangeBuilder.ts"}],[5855,{"../../../modules/conversion.utils":5900,"../execution":5863,"../utils":5865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.exactExecution=void 0,r.exactExecutionBuilder=function(e,t,r,s){if(!(0,o.isAddress)(t,{strict:!1}))throw new Error("Invalid to: must be a valid address");const a=Number((0,n.hexToDecimal)(r));if(!Number.isInteger(a))throw new Error("Invalid value: must be an integer");if(a<0)throw new Error("Invalid value: must be a positive integer or zero");const u=s!==undefined&&"0x"!==s?s:"0x";if("0x"!==u&&!(0,o.isHex)(u,{strict:!0}))throw new Error("Invalid data: must be a valid hex string");const c=BigInt(r),l=(0,i.encodeSingleExecution)({target:t,value:c,callData:u}),{caveatEnforcers:{ExactExecutionEnforcer:f}}=e;return{enforcer:f,terms:l,args:"0x"}};var n=e("../../../modules/conversion.utils"),i=e("../execution"),o=e("../utils");r.exactExecution="exactExecution"}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/exactExecutionBuilder.ts"}],[5856,{"./allowedCalldataBuilder":5848,"./allowedMethodsBuilder":5849,"./allowedTargetsBuilder":5850,"./caveatBuilder":5851,"./erc1155BalanceChangeBuilder":5852,"./erc20BalanceChangeBuilder":5853,"./erc721BalanceChangeBuilder":5854,"./exactExecutionBuilder":5855,"./limitedCallsBuilder":5857,"./nativeBalanceChangeBuilder":5858,"./redeemerBuilder":5859,"./specificActionERC20TransferBatchBuilder":5860},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"CaveatBuilder",{enumerable:!0,get:function(){return s.CaveatBuilder}}),r.createCaveatBuilder=void 0,Object.defineProperty(r,"resolveCaveats",{enumerable:!0,get:function(){return s.resolveCaveats}});var n=e("./allowedCalldataBuilder"),i=e("./allowedMethodsBuilder"),o=e("./allowedTargetsBuilder"),s=e("./caveatBuilder"),a=e("./erc1155BalanceChangeBuilder"),u=e("./erc20BalanceChangeBuilder"),c=e("./erc721BalanceChangeBuilder"),l=e("./exactExecutionBuilder"),f=e("./limitedCallsBuilder"),d=e("./nativeBalanceChangeBuilder"),h=e("./redeemerBuilder"),p=e("./specificActionERC20TransferBatchBuilder");r.createCaveatBuilder=(e,t)=>new s.CaveatBuilder(e,t).extend(i.allowedMethods,i.allowedMethodsBuilder).extend(o.allowedTargets,o.allowedTargetsBuilder).extend(n.allowedCalldata,n.allowedCalldataBuilder).extend(a.erc1155BalanceChange,a.erc1155BalanceChangeBuilder).extend(u.erc20BalanceChange,u.erc20BalanceChangeBuilder).extend(c.erc721BalanceChange,c.erc721BalanceChangeBuilder).extend(l.exactExecution,l.exactExecutionBuilder).extend(f.limitedCalls,f.limitedCallsBuilder).extend(d.nativeBalanceChange,d.nativeBalanceChangeBuilder).extend(p.specificActionERC20TransferBatch,p.specificActionERC20TransferBatchBuilder).extend(h.redeemer,h.redeemerBuilder)}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/index.ts"}],[5857,{"../utils":5865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.limitedCallsBuilder=r.limitedCalls=void 0;var n=e("../utils");r.limitedCalls="limitedCalls";r.limitedCallsBuilder=(e,t)=>{if(!Number.isInteger(t))throw new Error("Invalid limit: must be an integer");if(t<=0)throw new Error("Invalid limit: must be a positive integer");const r=(0,n.pad)((0,n.toHex)(t),{size:32}),{caveatEnforcers:{LimitedCallsEnforcer:i}}=e;return{enforcer:i,terms:r,args:"0x"}}}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/limitedCallsBuilder.ts"}],[5858,{"../utils":5865,"@metamask/abi-utils":1101,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nativeBalanceChange=void 0,r.nativeBalanceChangeBuilder=function(e,t,r,s){if("boolean"!=typeof t)throw new Error("Invalid enforceDecrease: must be a boolean");if(!(0,o.isAddress)(r,{strict:!1}))throw new Error("Invalid recipient: must be a valid address");if("bigint"!=typeof s||s<0)throw new Error("Invalid amount: must be a non-negative number");const a=(0,n.bytesToHex)((0,i.encodePacked)(["bool","address","uint256"],[t,r,s])),{caveatEnforcers:{NativeBalanceChangeEnforcer:u}}=e;return{enforcer:u,terms:a,args:"0x"}};var n=e("@metamask/utils"),i=e("@metamask/abi-utils"),o=e("../utils");r.nativeBalanceChange="nativeBalanceChange"}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/nativeBalanceChangeBuilder.ts"}],[5859,{"../utils":5865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.redeemerBuilder=r.redeemer=void 0;var n=e("../utils");r.redeemer="redeemer";r.redeemerBuilder=(e,t)=>{if(0===t.length)throw new Error("Invalid redeemers: must specify at least one redeemer address");for(const e of t)if(!(0,n.isAddress)(e))throw new Error("Invalid redeemers: must be a valid address");const r=(0,n.concat)(t.map(e=>e.toLowerCase())),{caveatEnforcers:{RedeemerEnforcer:i}}=e;return{enforcer:i,terms:r,args:"0x"}}}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/redeemerBuilder.ts"}],[5860,{"../../../modules/conversion.utils":5900,"../utils":5865,"@metamask/abi-utils":1101,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.specificActionERC20TransferBatch=void 0,r.specificActionERC20TransferBatchBuilder=function(e,t,r,a,u,c,l){if(!(0,s.isAddress)(t,{strict:!1}))throw new Error("Invalid tokenAddress: must be a valid address");if(!(0,s.isAddress)(r,{strict:!1}))throw new Error("Invalid recipient: must be a valid address");const f=Number((0,o.hexToDecimal)(a));if(!Number.isInteger(f))throw new Error("Invalid amount: must be an integer");if(f<0)throw new Error("Invalid amount: must be a positive integer or zero");if(!(0,s.isAddress)(u,{strict:!1}))throw new Error("Invalid firstTarget: must be a valid address");const d=Number((0,o.hexToDecimal)(c));if(!Number.isInteger(d))throw new Error("Invalid firstValue: must be an integer");if(d<0)throw new Error("Invalid firstValue: must be a positive integer or zero");const h=l!==undefined&&"0x"!==l?l:"0x";if("0x"!==h&&!(0,s.isHex)(h,{strict:!0}))throw new Error("Invalid firstCalldata: must be an hexadecimal string");const p=BigInt(a),b=BigInt(c),m=(0,i.bytesToHex)((0,n.encodePacked)(["address","address","uint256","address","uint256","bytes"],[t,r,p,u,b,h])),{caveatEnforcers:{SpecificActionERC20TransferBatchEnforcer:g}}=e;return{enforcer:g,terms:m,args:"0x"}};var n=e("@metamask/abi-utils"),i=e("@metamask/utils"),o=e("../../../modules/conversion.utils"),s=e("../utils");r.specificActionERC20TransferBatch="specificActionERC20TransferBatch"}}},{package:"$root$",file:"shared/lib/delegation/caveatBuilder/specificActionERC20TransferBatchBuilder.ts"}],[5861,{"./caveat":5847,"./caveatBuilder":5856,"./execution":5863,"./utils":5865,"@metamask/abi-utils":1101,"@metamask/utils":2908,buffer:4061,"ethereumjs-util":4319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.toDelegationStruct=r.resolveAuthority=r.getDelegationHashOffchain=r.encodeRedeemDelegations=r.encodePermissionContexts=r.encodeDisableDelegation=r.encodeDelegation=r.createOpenDelegation=r.createDelegation=r.ROOT_AUTHORITY=r.REDEEM_DELEGATIONS_SELECTOR=r.DELEGATION_TYPEHASH=r.ANY_BENEFICIARY=void 0;var n=e("@metamask/abi-utils"),i=e("@metamask/utils"),o=e("ethereumjs-util"),s=e("./caveat"),a=e("./caveatBuilder"),u=e("./utils"),c=e("./execution");const l=r.ROOT_AUTHORITY="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",f=r.ANY_BENEFICIARY="0x0000000000000000000000000000000000000a11",d=r.DELEGATION_TYPEHASH="0x88c1d2ecf185adf710588203a5f263f0ff61be0d33da39792cde19ba9aa4331e",h=(r.REDEEM_DELEGATIONS_SELECTOR="0xcef6d209",e=>{const t=e.caveats.map(e=>({enforcer:(0,i.getChecksumAddress)(e.enforcer),terms:e.terms,args:e.args})),r="0x"===e.salt?0n:BigInt(e.salt);return{delegate:(0,i.getChecksumAddress)(e.delegate),delegator:(0,i.getChecksumAddress)(e.delegator),authority:e.authority===undefined?l:e.authority,caveats:t,salt:r,signature:e.signature}});r.toDelegationStruct=h;const p=e=>{const t=e.map(h).map(e=>[e.delegate,e.delegator,e.authority,e.caveats.map(e=>[e.enforcer,e.terms,e.args]),e.salt,e.signature]);return(0,u.toHex)((0,n.encode)(["(address,address,bytes32,(address,bytes,bytes)[],uint256,bytes)[]"],[t]))};r.encodeDelegation=p;const b=e=>e.map(e=>p(e));r.encodePermissionContexts=b;const m=e=>{const r=h(e),i=(0,n.encode)(["bytes32","address","address","bytes32","bytes32","uint"],[d,r.delegate,r.delegator,r.authority,(0,s.getCaveatArrayPacketHash)(r.caveats),r.salt]);return(0,u.toHex)((0,o.keccak)(t.from(i)))};r.getDelegationHashOffchain=m;const g=e=>e?"string"==typeof e?e:m(e):l;r.resolveAuthority=g;r.createDelegation=e=>({delegate:e.to,delegator:e.from,authority:g(e.parentDelegation),caveats:(0,a.resolveCaveats)(e.caveats),salt:`0x${Math.random().toString(16).slice(2,10)}`,signature:"0x"});r.createOpenDelegation=e=>({delegate:f,delegator:e.from,authority:g(e.parentDelegation),caveats:(0,a.resolveCaveats)(e.caveats),salt:"0x",signature:"0x"});r.encodeDisableDelegation=({delegation:e})=>{const t=h(e),r=(0,u.toFunctionSelector)("disableDelegation((address,address,bytes32,(address,bytes,bytes)[],uint256,bytes))"),i=(0,u.toHex)((0,n.encode)(["(address,address,bytes32,(address,bytes,bytes)[],uint256,bytes)"],[[t.delegate,t.delegator,t.authority,t.caveats.map(e=>[e.enforcer,e.terms,e.args]),t.salt,t.signature]]));return(0,u.concat)([r,i])};r.encodeRedeemDelegations=({delegations:e,modes:t,executions:r})=>{const i=(0,u.toFunctionSelector)("redeemDelegations(bytes[],bytes32[],bytes[])"),o=b(e),s=(0,c.encodeExecutionCalldatas)(r),a=(0,u.toHex)((0,n.encode)(["bytes[]","bytes32[]","bytes[]"],[o,t,s]));return(0,u.concat)([i,a])}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"shared/lib/delegation/delegation.ts"}],[5862,{"@metamask/delegation-deployments":1363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PREFERRED_VERSION=void 0,r.getDeleGatorEnvironment=function(e,t=i){var r;const o=null===(r=n.DELEGATOR_CONTRACTS[t])||void 0===r?void 0:r[e];if(!o)throw new Error(`No contracts found for version ${t} chain ${e}`);return{EIP7702StatelessDeleGatorImpl:o.EIP7702StatelessDeleGatorImpl,DelegationManager:o.DelegationManager,EntryPoint:o.EntryPoint,SimpleFactory:o.SimpleFactory,implementations:{MultiSigDeleGatorImpl:o.MultiSigDeleGatorImpl,HybridDeleGatorImpl:o.HybridDeleGatorImpl},caveatEnforcers:{AllowedCalldataEnforcer:o.AllowedCalldataEnforcer,AllowedMethodsEnforcer:o.AllowedMethodsEnforcer,AllowedTargetsEnforcer:o.AllowedTargetsEnforcer,ArgsEqualityCheckEnforcer:o.ArgsEqualityCheckEnforcer,BlockNumberEnforcer:o.BlockNumberEnforcer,DeployedEnforcer:o.DeployedEnforcer,ERC20BalanceChangeEnforcer:o.ERC20BalanceChangeEnforcer,ERC20BalanceGteEnforcer:o.ERC20BalanceGteEnforcer,ERC20TransferAmountEnforcer:o.ERC20TransferAmountEnforcer,ERC20StreamingEnforcer:o.ERC20StreamingEnforcer,ERC721BalanceChangeEnforcer:o.ERC721BalanceChangeEnforcer,ERC721BalanceGteEnforcer:o.ERC721BalanceGteEnforcer,ERC721TransferEnforcer:o.ERC721TransferEnforcer,ERC1155BalanceChangeEnforcer:o.ERC1155BalanceChangeEnforcer,ERC1155BalanceGteEnforcer:o.ERC1155BalanceGteEnforcer,IdEnforcer:o.IdEnforcer,LimitedCallsEnforcer:o.LimitedCallsEnforcer,NonceEnforcer:o.NonceEnforcer,TimestampEnforcer:o.TimestampEnforcer,ValueLteEnforcer:o.ValueLteEnforcer,MultiTokenPeriodEnforcer:o.MultiTokenPeriodEnforcer,NativeTokenTransferAmountEnforcer:o.NativeTokenTransferAmountEnforcer,NativeBalanceChangeEnforcer:o.NativeBalanceChangeEnforcer,NativeBalanceGteEnforcer:o.NativeBalanceGteEnforcer,NativeTokenStreamingEnforcer:o.NativeTokenStreamingEnforcer,NativeTokenPaymentEnforcer:o.NativeTokenPaymentEnforcer,OwnershipTransferEnforcer:o.OwnershipTransferEnforcer,RedeemerEnforcer:o.RedeemerEnforcer,SpecificActionERC20TransferBatchEnforcer:"0x6649b61c873F6F9686A1E1ae9ee98aC380c7bA13",ERC20PeriodTransferEnforcer:o.ERC20PeriodTransferEnforcer,NativeTokenPeriodTransferEnforcer:o.NativeTokenPeriodTransferEnforcer,ExactCalldataBatchEnforcer:o.ExactCalldataBatchEnforcer,ExactCalldataEnforcer:o.ExactCalldataEnforcer,ExactExecutionEnforcer:o.ExactExecutionEnforcer,ExactExecutionBatchEnforcer:o.ExactExecutionBatchEnforcer}}};var n=e("@metamask/delegation-deployments");const i=r.PREFERRED_VERSION="1.3.0"}}},{package:"$root$",file:"shared/lib/delegation/environment.ts"}],[5863,{"./utils":5865,"@metamask/abi-utils":1101},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeSingleExecution=r.encodeExecutionCalldatas=r.encodeExecutionCalldata=r.encodeBatchExecution=r.createExecution=r.SINGLE_TRY_MODE=r.SINGLE_DEFAULT_MODE=r.BATCH_TRY_MODE=r.BATCH_DEFAULT_MODE=void 0;var n=e("@metamask/abi-utils"),i=e("./utils");r.createExecution=(e="0x0000000000000000000000000000000000000000",t=0n,r="0x")=>({target:e,value:t,callData:r});r.SINGLE_DEFAULT_MODE="0x0000000000000000000000000000000000000000000000000000000000000000",r.SINGLE_TRY_MODE="0x0001000000000000000000000000000000000000000000000000000000000000",r.BATCH_DEFAULT_MODE="0x0100000000000000000000000000000000000000000000000000000000000000",r.BATCH_TRY_MODE="0x0101000000000000000000000000000000000000000000000000000000000000";const o=e=>(0,i.toHex)((0,n.encode)(["address","uint256","bytes"],[e.target,e.value,e.callData],!0));r.encodeSingleExecution=o;const s=e=>(0,i.toHex)((0,n.encode)(["(address,uint256,bytes)[]"],[e.map(e=>[e.target,e.value,e.callData])]));r.encodeBatchExecution=s;const a=e=>{if(0===e.length)throw new Error("Error while getting the execution calldatas, executions is empty");if(1===e.length){const t=e[0];return o(t)}return s(e)};r.encodeExecutionCalldata=a;r.encodeExecutionCalldatas=e=>{if(0===e.length)throw new Error("Error while getting the execution calldatas, executionsBatch is empty");return e.map(a)}}}},{package:"$root$",file:"shared/lib/delegation/execution.ts"}],[5864,{"./caveat":5847,"./caveatBuilder":5856,"./delegation":5861,"./environment":5862,"./execution":5863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ANY_BENEFICIARY",{enumerable:!0,get:function(){return i.ANY_BENEFICIARY}}),Object.defineProperty(r,"BATCH_DEFAULT_MODE",{enumerable:!0,get:function(){return o.BATCH_DEFAULT_MODE}}),Object.defineProperty(r,"BATCH_TRY_MODE",{enumerable:!0,get:function(){return o.BATCH_TRY_MODE}}),Object.defineProperty(r,"ROOT_AUTHORITY",{enumerable:!0,get:function(){return i.ROOT_AUTHORITY}}),Object.defineProperty(r,"SINGLE_DEFAULT_MODE",{enumerable:!0,get:function(){return o.SINGLE_DEFAULT_MODE}}),Object.defineProperty(r,"SINGLE_TRY_MODE",{enumerable:!0,get:function(){return o.SINGLE_TRY_MODE}}),Object.defineProperty(r,"createCaveat",{enumerable:!0,get:function(){return s.createCaveat}}),Object.defineProperty(r,"createCaveatBuilder",{enumerable:!0,get:function(){return a.createCaveatBuilder}}),Object.defineProperty(r,"createDelegation",{enumerable:!0,get:function(){return i.createDelegation}}),Object.defineProperty(r,"createExecution",{enumerable:!0,get:function(){return o.createExecution}}),Object.defineProperty(r,"createOpenDelegation",{enumerable:!0,get:function(){return i.createOpenDelegation}}),Object.defineProperty(r,"encodeBatchExecution",{enumerable:!0,get:function(){return o.encodeBatchExecution}}),Object.defineProperty(r,"encodeDelegation",{enumerable:!0,get:function(){return i.encodeDelegation}}),Object.defineProperty(r,"encodeExecutionCalldata",{enumerable:!0,get:function(){return o.encodeExecutionCalldata}}),Object.defineProperty(r,"encodeExecutionCalldatas",{enumerable:!0,get:function(){return o.encodeExecutionCalldatas}}),Object.defineProperty(r,"encodePermissionContexts",{enumerable:!0,get:function(){return i.encodePermissionContexts}}),Object.defineProperty(r,"encodeSingleExecution",{enumerable:!0,get:function(){return o.encodeSingleExecution}}),Object.defineProperty(r,"getDeleGatorEnvironment",{enumerable:!0,get:function(){return n.getDeleGatorEnvironment}}),Object.defineProperty(r,"getDelegationHashOffchain",{enumerable:!0,get:function(){return i.getDelegationHashOffchain}}),Object.defineProperty(r,"toDelegationStruct",{enumerable:!0,get:function(){return i.toDelegationStruct}});var n=e("./environment"),i=e("./delegation"),o=e("./execution"),s=e("./caveat"),a=e("./caveatBuilder")}}},{package:"$root$",file:"shared/lib/delegation/index.ts"}],[5865,{"@metamask/utils":2908,buffer:4061,"ethereumjs-util":4319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.concat=function(e){return`0x${e.reduce((e,t)=>e+(0,n.remove0x)(t),"")}`},r.isAddress=function(e,t){const{strict:r=!0}=t||{},i=e;return r?(0,n.isValidChecksumAddress)(i):(0,n.isValidHexAddress)(i)},r.isHex=function(e,t){const{strict:r=!0}=t||{};return r?(0,n.isStrictHexString)(e):(0,n.isHexString)(e)},r.isHexEqual=function(e,t){return e.toLowerCase()===t.toLowerCase()},r.pad=s,r.toFunctionSelector=void 0,r.toHex=o;var n=e("@metamask/utils"),i=e("ethereumjs-util");function o(e,r){const{size:i}=r||{},o=e instanceof Uint8Array?(0,n.bytesToHex)(e):t.isBuffer(e)?`0x${e.toString("hex")}`:"number"==typeof e||"bigint"==typeof e?(0,n.numberToHex)(e):"string"==typeof e?function(e){return(0,n.bytesToHex)((0,n.stringToBytes)(e))}(e):"boolean"==typeof e?function(e){return`0x${Number(e)}`}(e):(0,n.bytesToHex)(e);return i?s(o,{size:i}):o}function s(e,t){const{dir:r="left",size:i=32}=t||{};if(null===i)return e;const o=(0,n.remove0x)(e);if(o.length>2*i)throw new Error(`Cannot pad 0x${o} to ${i} bytes`);return`0x${o["right"===r?"padEnd":"padStart"](2*i,"0")}`}function a(e){return(0,i.keccak)(t.from((0,n.stringToBytes)(function(e){let t=!0,r="",n=0,i="",o=!1;for(let s=0;s<e.length;s++){const a=e[s];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t)if(0!==n)" "!==a?(i+=a,r+=a):","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);else if(" "===a&&["event","function",""].includes(i))i="";else if(i+=a,")"===a){o=!0;break}}if(!o)throw new Error("Unable to normalize signature.");return i}(e))))}r.toFunctionSelector=e=>o(a(e).subarray(0,4))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"shared/lib/delegation/utils.ts"}],[5887,{"@ethersproject/contracts":697,"@ethersproject/providers":735,"@metamask/metamask-eth-abis":2130},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fetchERC1155Balance=async function(e,t,r,s){if(!t||!r)return null;const a=new o.Web3Provider(s),u=new i.Contract(e,n.abiERC1155,a),c=u?u.balanceOf(t,r):Promise.resolve();return await c},r.fetchTokenBalance=async function(e,t,r){const s=new o.Web3Provider(r),a=new i.Contract(e,n.abiERC20,s),u=a?a.balanceOf(t):Promise.resolve();return await u},r.getTokenIdParam=function(e={}){var t,r;return(null==e||null===(t=e.args)||void 0===t||null===(t=t._tokenId)||void 0===t?void 0:t.toString())??(null==e||null===(r=e.args)||void 0===r||null===(r=r.id)||void 0===r?void 0:r.toString())};var n=e("@metamask/metamask-eth-abis"),i=e("@ethersproject/contracts"),o=e("@ethersproject/providers")}}},{package:"$root$",file:"shared/lib/token-util.ts"}],[5898,{"@metamask/utils":2908,"readable-stream":5278},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCaipStream=r.CaipStream=void 0;var n=e("@metamask/utils"),i=e("readable-stream");function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s extends i.Duplex{constructor(e){super({objectMode:!0}),o(this,"parent",void 0),this.parent=e}_read(){return undefined}_write(e,t,r){this.parent.push({type:"caip-348",data:e}),r()}}class a extends i.Duplex{constructor(){super({objectMode:!0}),o(this,"substream",void 0),this.substream=new s(this)}_read(){return undefined}_write(e,t,r){(0,n.isObject)(e)&&"caip-348"===e.type&&this.substream.push(e.data),r()}}r.CaipStream=a;r.createCaipStream=e=>{var t,r;const n=new a,o=()=>{n.substream.destroyed||n.substream.writableEnded||n.substream.end()};return null===(t=e.once)||void 0===t||t.call(e,"close",o),null===(r=e.once)||void 0===r||r.call(e,"end",o),(0,i.pipeline)(e,n,e,e=>{n.substream.destroy(),e&&"Premature close"!==e.message&&console.error("MetaMask CAIP stream error:",e)}),n.substream}}}},{package:"$root$",file:"shared/modules/caip-stream.ts"}],[59,{"./account-tree-controller-messenger":58,"./institutional-snap-controller-messenger":60,"./multichain-account-service-messenger":61,"./snap-keyring-builder-messenger":62},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getAccountTreeControllerInitMessenger",{enumerable:!0,get:function(){return n.getAccountTreeControllerInitMessenger}}),Object.defineProperty(r,"getAccountTreeControllerMessenger",{enumerable:!0,get:function(){return n.getAccountTreeControllerMessenger}}),Object.defineProperty(r,"getInstitutionalSnapControllerMessenger",{enumerable:!0,get:function(){return o.getInstitutionalSnapControllerMessenger}}),Object.defineProperty(r,"getMultichainAccountServiceInitMessenger",{enumerable:!0,get:function(){return i.getMultichainAccountServiceInitMessenger}}),Object.defineProperty(r,"getMultichainAccountServiceMessenger",{enumerable:!0,get:function(){return i.getMultichainAccountServiceMessenger}}),Object.defineProperty(r,"getSnapKeyringBuilderInitMessenger",{enumerable:!0,get:function(){return s.getSnapKeyringBuilderInitMessenger}}),Object.defineProperty(r,"getSnapKeyringBuilderMessenger",{enumerable:!0,get:function(){return s.getSnapKeyringBuilderMessenger}});var n=e("./account-tree-controller-messenger"),i=e("./multichain-account-service-messenger"),o=e("./institutional-snap-controller-messenger"),s=e("./snap-keyring-builder-messenger")}}},{package:"$root$",file:"app/scripts/controller-init/messengers/accounts/index.ts"}],[5908,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getSmartTransactionMetricsProperties=void 0;r.getSmartTransactionMetricsProperties=(e,t)=>{var r;const n=e.getIsSmartTransaction(t.chainId),i={is_smart_transaction:n};if(!n)return i;i.gas_included=null===(r=t.swapMetaData)||void 0===r?void 0:r.gas_included;const o=e.getSmartTransactionByMinedTxHash(t.hash),s=null==o?void 0:o.statusMetadata;return s?(i.smart_transaction_timed_out=s.timedOut,i.smart_transaction_proxied=s.proxied,i):i}}}},{package:"$root$",file:"shared/modules/metametrics.ts"}],[5921,{"../lib/shield":5882,"@metamask/subscription-controller":2810},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateSubscriptionRemainingBillingCycles=function({currentPeriodEnd:e,endDate:t,interval:r}){if(r===n.RECURRING_INTERVALS.month){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())+1}return t.getFullYear()-e.getFullYear()+1},r.getShieldGatewayConfig=async function(e,t,r,n){const o=t();if(!o||!(0,i.getIsShieldSubscriptionActive)(o))return{newUrl:r,authorization:undefined};const s="https://shield-gateway.dev-api.cx.metamask.io";0;try{let t=`${s}/proxy?url=${encodeURIComponent(r)}`;const i=null==n?void 0:n.origin;i&&(t+=`&origin=${encodeURIComponent(i)}`);let o=await e();return o&&!o.startsWith("Bearer")&&(o=`Bearer ${o}`),{newUrl:t,authorization:o}}catch(e){return console.error("Failed to get bearer token",e),{newUrl:r,authorization:undefined}}};var n=e("@metamask/subscription-controller"),i=e("../lib/shield")}}},{package:"$root$",file:"shared/modules/shield.ts"}],[5925,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitizeMessageRecursively=function e(t,r,n){const i={},o=r[n];if(!o)return t;for(const n of o){const{name:o,type:s}=n;t[o]!==undefined&&(r[s]?i[o]=e(t[o],r,s):i[o]=t[o])}return i}}}},{package:"$root$",file:"shared/modules/typed-signature.ts"}],[5926,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UI_NOTIFICATIONS=void 0;r.UI_NOTIFICATIONS={}}}},{package:"$root$",file:"shared/notifications/index.ts"}],[597,{buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer");t.exports=class{constructor(e,t,r,i){this.name=e,this.code=t,this.codeBuf=n.from(this.code),this.alphabet=i,this.engine=r(i)}encode(e){return this.engine.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.engine.decode(e)}}}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/base.js"}],[598,{"./base.js":597,"./rfc4648":600,"./util":601,"base-x":3945},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("base-x"),i=e("./base.js"),o=e("./rfc4648"),{decodeText:s,encodeText:a}=e("./util"),u=[["identity","\0",()=>({encode:s,decode:a}),""],["base2","0",o(1),"01"],["base8","7",o(3),"01234567"],["base10","9",n,"0123456789"],["base16","f",o(4),"0123456789abcdef"],["base16upper","F",o(4),"0123456789ABCDEF"],["base32hex","v",o(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",o(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",o(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",o(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",o(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",n,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",n,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",n,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",n,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],c=u.reduce((e,t)=>(e[t[0]]=new i(t[0],t[1],t[2],t[3]),e),{}),l=u.reduce((e,t)=>(e[t[1]]=c[t[0]],e),{});t.exports={names:c,codes:l}}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/constants.js"}],[599,{"./constants":598,"./util":601,buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=e("./constants"),{decodeText:o,asBuffer:s}=e("./util");function a(e){if(i.names[e])return i.names[e];if(i.codes[e])return i.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(r=t.exports=function(e,t){if(!t)throw new Error("requires an encoded buffer");const{name:r,codeBuf:i}=a(e);!function(e,t){const r=a(e);r.decode(o(t))}(r,t);const s=n.alloc(i.length+t.length);return s.set(i,0),s.set(t,i.length),s}).encode=function(e,t){const r=a(e);return n.concat([r.codeBuf,n.from(r.encode(t))])},r.decode=function(e){ArrayBuffer.isView(e)&&(e=o(e));const t=e[0];["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase());const r=a(e[0]);return s(r.decode(e.substring(1)))},r.isEncoded=function(e){if(e instanceof Uint8Array&&(e=o(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return a(e[0]).name}catch(e){return!1}},r.encoding=a,r.encodingFromData=function(e){return e instanceof Uint8Array&&(e=o(e)),a(e[0])},r.names=Object.freeze(i.names),r.codes=Object.freeze(i.codes)}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/index.js"}],[6,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.COOKIE_ID_MARKETING_WHITELIST_ORIGINS=r.COOKIE_ID_MARKETING_WHITELIST=void 0;const n=r.COOKIE_ID_MARKETING_WHITELIST=["https://metamask.io","https://learn.metamask.io","https://mmi-support.zendesk.com","https://community.metamask.io","https://support.metamask.io"];r.COOKIE_ID_MARKETING_WHITELIST_ORIGINS=n.map(e=>new URL(e).origin)}}},{package:"$root$",file:"app/scripts/constants/marketing-site-whitelist.ts"}],[60,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getInstitutionalSnapControllerMessenger=function(e){return e.getRestricted({name:"InstitutionalSnapController",allowedActions:["AccountsController:getAccountByAddress","SnapController:handleRequest","TransactionController:updateCustodialTransaction"],allowedEvents:[]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/accounts/institutional-snap-controller-messenger.ts"}],[600,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e=>t=>({encode:r=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(r,t,e),decode:r=>((e,t,r)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const o=new Uint8Array(i*r/8|0);let s=0,a=0,u=0;for(let t=0;t<i;++t){const i=n[e[t]];if(i===undefined)throw new SyntaxError("Invalid character "+e[t]);a=a<<r|i,s+=r,s>=8&&(s-=8,o[u++]=255&a>>s)}if(s>=r||255&a<<8-s)throw new SyntaxError("Unexpected end of data");return o})(r,t,e)})}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/rfc4648.js"}],[601,{buffer:4061,"web-encoding":5763},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),{TextEncoder:i,TextDecoder:o}=e("web-encoding"),s=new o,a=new i;t.exports={decodeText:e=>s.decode(e),encodeText:e=>a.encode(e),asBuffer:({buffer:e,byteLength:t,byteOffset:r})=>n.from(e,r,t)}}}},{package:"@ensdomains/content-hash>multihashes>multibase",file:"node_modules/@ensdomains/content-hash/node_modules/multibase/src/util.js"}],[602,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});t.exports={names:n}}}},{package:"@ensdomains/content-hash>multihashes",file:"node_modules/@ensdomains/content-hash/node_modules/multihashes/src/constants.js"}],[603,{"./constants":602,buffer:4061,multibase:599,varint:606,"web-encoding":5763},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=e("multibase"),o=e("varint"),{names:s}=e("./constants"),{TextDecoder:a}=e("web-encoding"),u=new a,c={};for(const e in s)c[s[e]]=e;function l(e){r.decode(e)}r.names=s,r.codes=Object.freeze(c),r.toHexString=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return(n.isBuffer(e)?e:n.from(e.buffer,e.byteOffset,e.byteLength)).toString("hex")},r.fromHexString=function(e){return n.from(e,"hex")},r.toB58String=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return u.decode(i.encode("base58btc",e)).slice(1)},r.fromB58String=function(e){const t=e instanceof Uint8Array?u.decode(e):e;return i.decode("z"+t)},r.decode=function(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");let t=n.isBuffer(e)?e:n.from(e.buffer,e.byteOffset,e.byteLength);if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");const i=o.decode(t);if(!r.isValidCode(i))throw new Error(`multihash unknown function code: 0x${i.toString(16)}`);t=t.slice(o.decode.bytes);const s=o.decode(t);if(s<0)throw new Error(`multihash invalid length: ${s}`);if(t=t.slice(o.decode.bytes),t.length!==s)throw new Error(`multihash length inconsistent: 0x${t.toString("hex")}`);return{code:i,name:c[i],length:s,digest:t}},r.encode=function(e,t,i){if(!e||t===undefined)throw new Error("multihash encode requires at least two args: digest, code");const s=r.coerceCode(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==i&&(i=e.length),i&&e.length!==i)throw new Error("digest length should be equal to specified length.");const a=o.encode(s),u=o.encode(i),c=n.alloc(a.length+u.length+e.length);return c.set(a,0),c.set(u,a.length),c.set(e,a.length+u.length),c},r.coerceCode=function(e){let t=e;if("string"==typeof e){if(s[e]===undefined)throw new Error(`Unrecognized hash function named: ${e}`);t=s[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(c[t]===undefined&&!r.isAppCode(t))throw new Error(`Unrecognized function code: ${t}`);return t},r.isAppCode=function(e){return e>0&&e<16},r.isValidCode=function(e){return!!r.isAppCode(e)||!!c[e]},r.validate=l,r.prefix=function(e){return l(e),n.from(e.buffer,e.byteOffset,2)}}}},{package:"@ensdomains/content-hash>multihashes",file:"node_modules/@ensdomains/content-hash/node_modules/multihashes/src/index.js"}],[604,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function e(t,r){var o,s=0,a=0,u=r=r||0,c=t.length;do{if(u>=c)throw e.bytes=0,new RangeError("Could not decode varint");o=t[u++],s+=a<28?(o&i)<<a:(o&i)*Math.pow(2,a),a+=7}while(o>=n);return e.bytes=u-r,s};var n=128,i=127}}},{package:"@ensdomains/content-hash>multihashes>varint",file:"node_modules/@ensdomains/content-hash/node_modules/varint/decode.js"}],[605,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function e(t,r,s){r=r||[];var a=s=s||0;for(;t>=o;)r[s++]=255&t|n,t/=128;for(;t&i;)r[s++]=255&t|n,t>>>=7;return r[s]=0|t,e.bytes=s-a+1,r};var n=128,i=-128,o=Math.pow(2,31)}}},{package:"@ensdomains/content-hash>multihashes>varint",file:"node_modules/@ensdomains/content-hash/node_modules/varint/encode.js"}],[606,{"./decode.js":604,"./encode.js":605,"./length.js":607},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={encode:e("./encode.js"),decode:e("./decode.js"),encodingLength:e("./length.js")}}}},{package:"@ensdomains/content-hash>multihashes>varint",file:"node_modules/@ensdomains/content-hash/node_modules/varint/index.js"}],[607,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=Math.pow(2,7),i=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),a=Math.pow(2,35),u=Math.pow(2,42),c=Math.pow(2,49),l=Math.pow(2,56),f=Math.pow(2,63);t.exports=function(e){return e<n?1:e<i?2:e<o?3:e<s?4:e<a?5:e<u?6:e<c?7:e<l?8:e<f?9:10}}}},{package:"@ensdomains/content-hash>multihashes>varint",file:"node_modules/@ensdomains/content-hash/node_modules/varint/length.js"}],[608,{cids:4092},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("cids");r.cidForWeb=e=>{let t=new n(e);0===t.version&&(t=t.toV1());let r=t.toString("base32");if(r.length>63){const e=t.toString("base36");if(e.length<=63)return e;throw new TypeError("CID is longer than DNS limit of 63 characters and is not compatible with public gateways")}return r};r.cidV0ToV1Base32=e=>{let t=new n(e);return 0===t.version&&(t=t.toV1()),t.toString("base32")}}}},{package:"@ensdomains/content-hash",file:"node_modules/@ensdomains/content-hash/src/helpers.js"}],[609,{"./helpers":608,"./profiles":610,multicodec:4979,multihashes:603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("multicodec"),i=e("multihashes"),{hexStringToBuffer:o,profiles:s}=e("./profiles"),{cidForWeb:a,cidV0ToV1Base32:u}=e("./helpers");t.exports={helpers:{cidForWeb:a,cidV0ToV1Base32:u},decode:function(e){const t=o(e),r=n.getCodec(t),i=n.rmPrefix(t);let a=s[r];return a||(a=s.default),a.decode(i)},fromIpfs:function(e){return this.encode("ipfs-ns",e)},fromSkylink:function(e){return this.encode("skynet-ns",e)},fromSwarm:function(e){return this.encode("swarm-ns",e)},fromArweave:function(e){return this.encode("arweave-ns",e)},encode:function(e,t){let r=s[e];r||(r=s.default);const o=r.encode(t);return i.toHexString(n.addPrefix(e,o))},getCodec:function(e){let t=o(e);return n.getCodec(t)}}}}},{package:"@ensdomains/content-hash",file:"node_modules/@ensdomains/content-hash/src/index.js"}],[61,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMultichainAccountServiceInitMessenger=function(e){return e.getRestricted({name:"MultichainAccountServiceInit",allowedActions:["PreferencesController:getState","RemoteFeatureFlagController:getState"],allowedEvents:["PreferencesController:stateChange"]})},r.getMultichainAccountServiceMessenger=function(e){return e.getRestricted({name:"MultichainAccountService",allowedEvents:["KeyringController:stateChange","AccountsController:accountAdded","AccountsController:accountRemoved","RemoteFeatureFlagController:stateChange"],allowedActions:["AccountsController:listMultichainAccounts","AccountsController:getAccountByAddress","AccountsController:getAccount","SnapController:handleRequest","KeyringController:getState","KeyringController:withKeyring","KeyringController:addNewKeyring","KeyringController:getKeyringsByType","NetworkController:getNetworkClientById","NetworkController:findNetworkClientIdByChainId"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/accounts/multichain-account-service-messenger.ts"}],[610,{buffer:4061,cids:4092,"js-base64":4629,multihashes:603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){const n=e("cids"),i=e("multihashes"),o=e("js-base64"),s=e=>{let t=e.slice(0,2),r=e.slice(2),n="";return n="0x"===t?r:e,i.fromHexString(n)},a=e=>{try{const{multihash:t}=e;if(t.length<38){const e=i.decode(t);if("identity"===e.name&&e.length<36)return!1}return!0}catch(e){return!1}},u={skynet:e=>o.toUint8Array(e),swarm:e=>{const t=i.encode(s(e),"keccak-256");return new n(1,"swarm-manifest",t).bytes},ipfs:e=>new n(e).toV1().bytes,ipns:e=>{const t=new n(e);if(!a(t))throw Error("ipns-ns allows only valid cryptographic libp2p-key identifiers, try using ED25519 pubkey instead");return new n(1,"libp2p-key",t.multihash).bytes},utf8:e=>t.from(e,"utf8"),arweave:e=>o.toUint8Array(e)},c={hexMultiHash:e=>{const t=new n(e);return i.decode(t.multihash).digest.toString("hex")},ipfs:e=>{const t=new n(e).toV1();return t.toString("libp2p-key"===t.codec?"base36":"base32")},ipns:e=>{const t=new n(e).toV1();return a(t)?t.toString("base36"):(console.warn("[ensdomains/content-hash] use of non-cryptographic identifiers in ipns-ns is deprecated and will be removed, migrate to ED25519 libp2p-key"),String(i.decode(new n(e).multihash).digest))},utf8:e=>e.toString("utf8"),base64:e=>o.fromUint8Array(e,!0)},l={"skynet-ns":{encode:u.skynet,decode:c.base64},"swarm-ns":{encode:u.swarm,decode:c.hexMultiHash},"ipfs-ns":{encode:u.ipfs,decode:c.ipfs},"ipns-ns":{encode:u.ipns,decode:c.ipns},"arweave-ns":{encode:u.arweave,decode:c.base64},default:{encode:u.utf8,decode:c.utf8}};r.hexStringToBuffer=s,r.profiles=l}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ensdomains/content-hash",file:"node_modules/@ensdomains/content-hash/src/profiles.js"}],[62,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getSnapKeyringBuilderInitMessenger=function(e){return e.getRestricted({name:"SnapKeyringInit",allowedActions:["AccountsController:updateAccounts","KeyringController:persistAllKeyrings","MetaMetricsController:trackEvent"],allowedEvents:[]})},r.getSnapKeyringBuilderMessenger=function(e){return e.getRestricted({name:"SnapKeyring",allowedActions:["ApprovalController:addRequest","ApprovalController:acceptRequest","ApprovalController:rejectRequest","ApprovalController:startFlow","ApprovalController:endFlow","ApprovalController:showSuccess","ApprovalController:showError","PhishingController:testOrigin","PhishingController:maybeUpdateState","KeyringController:getAccounts","AccountsController:setSelectedAccount","AccountsController:getAccountByAddress","AccountsController:setAccountName","AccountsController:listMultichainAccounts","SnapController:handleRequest","SnapController:get","SnapController:isMinimumPlatformVersion","PreferencesController:getState"],allowedEvents:[]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/accounts/snap-keyring-builder-messenger.ts"}],[63,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAddressBookControllerMessenger=function(e){return e.getRestricted({name:"AddressBookController",allowedActions:[],allowedEvents:[]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/address-book-controller-messenger.ts"}],[64,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAlertControllerMessenger=function(e){return e.getRestricted({name:"AlertController",allowedActions:["AccountsController:getSelectedAccount"],allowedEvents:["AccountsController:selectedAccountChange"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/alert-controller-messenger.ts"}],[65,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAnnouncementControllerMessenger=function(e){return e.getRestricted({name:"AnnouncementController",allowedActions:[],allowedEvents:[]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/announcement-controller-messenger.ts"}],[66,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAppMetadataControllerMessenger=function(e){return e.getRestricted({name:"AppMetadataController",allowedActions:[],allowedEvents:[]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/app-metadata-controller-messenger.ts"}],[67,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAppStateControllerMessenger=function(e){return e.getRestricted({name:"AppStateController",allowedActions:["ApprovalController:addRequest","ApprovalController:acceptRequest","KeyringController:getState","PreferencesController:getState"],allowedEvents:["KeyringController:unlock","PreferencesController:stateChange"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/app-state-controller-messenger.ts"}],[68,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getApprovalControllerMessenger=function(e){return e.getRestricted({name:"ApprovalController",allowedActions:[],allowedEvents:[]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/approval-controller-messenger.ts"}],[69,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAssetsContractControllerInitMessenger=function(e){return e.getRestricted({name:"AssetsContractControllerInit",allowedActions:["NetworkController:getNetworkClientById","NetworkController:getState"],allowedEvents:[]})},r.getAssetsContractControllerMessenger=function(e){return e.getRestricted({name:"AssetsContractController",allowedActions:["NetworkController:getNetworkClientById","NetworkController:getNetworkConfigurationByNetworkClientId","NetworkController:getSelectedNetworkClient","NetworkController:getState"],allowedEvents:["PreferencesController:stateChange","NetworkController:networkDidChange"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/assets/assets-contract-controller-messenger.ts"}],[70,{"./assets-contract-controller-messenger":69,"./network-enablement-controller-messenger":71,"./network-order-controller-messenger":72,"./nft-controller-messenger":73,"./nft-detection-controller-messenger":74,"./token-rates-controller-messenger":75},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getAssetsContractControllerInitMessenger",{enumerable:!0,get:function(){return s.getAssetsContractControllerInitMessenger}}),Object.defineProperty(r,"getAssetsContractControllerMessenger",{enumerable:!0,get:function(){return s.getAssetsContractControllerMessenger}}),Object.defineProperty(r,"getNetworkEnablementControllerInitMessenger",{enumerable:!0,get:function(){return u.getNetworkEnablementControllerInitMessenger}}),Object.defineProperty(r,"getNetworkEnablementControllerMessenger",{enumerable:!0,get:function(){return u.getNetworkEnablementControllerMessenger}}),Object.defineProperty(r,"getNetworkOrderControllerMessenger",{enumerable:!0,get:function(){return a.getNetworkOrderControllerMessenger}}),Object.defineProperty(r,"getNftControllerInitMessenger",{enumerable:!0,get:function(){return i.getNftControllerInitMessenger}}),Object.defineProperty(r,"getNftControllerMessenger",{enumerable:!0,get:function(){return i.getNftControllerMessenger}}),Object.defineProperty(r,"getNftDetectionControllerMessenger",{enumerable:!0,get:function(){return o.getNftDetectionControllerMessenger}}),Object.defineProperty(r,"getTokenRatesControllerInitMessenger",{enumerable:!0,get:function(){return n.getTokenRatesControllerInitMessenger}}),Object.defineProperty(r,"getTokenRatesControllerMessenger",{enumerable:!0,get:function(){return n.getTokenRatesControllerMessenger}});var n=e("./token-rates-controller-messenger"),i=e("./nft-controller-messenger"),o=e("./nft-detection-controller-messenger"),s=e("./assets-contract-controller-messenger"),a=e("./network-order-controller-messenger"),u=e("./network-enablement-controller-messenger")}}},{package:"$root$",file:"app/scripts/controller-init/messengers/assets/index.ts"}],[71,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getNetworkEnablementControllerInitMessenger=function(e){return e.getRestricted({name:"NetworkEnablementControllerInit",allowedActions:["AccountTreeController:getAccountsFromSelectedAccountGroup"],allowedEvents:["AccountsController:selectedAccountChange","AccountTreeController:selectedAccountGroupChange"]})},r.getNetworkEnablementControllerMessenger=function(e){return e.getRestricted({name:"NetworkEnablementController",allowedActions:["NetworkController:getState","MultichainNetworkController:getState"],allowedEvents:["NetworkController:networkAdded","NetworkController:networkRemoved","NetworkController:stateChange","TransactionController:transactionSubmitted"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/assets/network-enablement-controller-messenger.ts"}],[72,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getNetworkOrderControllerMessenger=function(e){return e.getRestricted({name:"NetworkOrderController",allowedEvents:["NetworkController:stateChange","NetworkController:networkRemoved"],allowedActions:["NetworkController:getState","NetworkController:setActiveNetwork"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/assets/network-order-controller-messenger.ts"}],[73,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getNftControllerInitMessenger=function(e){return e.getRestricted({name:"NftControllerInit",allowedActions:["MetaMetricsController:trackEvent"],allowedEvents:[]})},r.getNftControllerMessenger=function(e){return e.getRestricted({name:"NftController",allowedEvents:["PreferencesController:stateChange","AccountsController:selectedEvmAccountChange"],allowedActions:["ApprovalController:addRequest","NetworkController:getNetworkClientById","AccountsController:getSelectedAccount","AccountsController:getAccount","AssetsContractController:getERC721AssetName","AssetsContractController:getERC721AssetSymbol","AssetsContractController:getERC721TokenURI","AssetsContractController:getERC721OwnerOf","AssetsContractController:getERC1155BalanceOf","AssetsContractController:getERC1155TokenURI","NetworkController:findNetworkClientIdByChainId","PhishingController:bulkScanUrls"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/assets/nft-controller-messenger.ts"}],[74,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getNftDetectionControllerMessenger=function(e){return e.getRestricted({name:"NftDetectionController",allowedEvents:["NetworkController:stateChange","PreferencesController:stateChange"],allowedActions:["ApprovalController:addRequest","NetworkController:getState","NetworkController:getNetworkClientById","AccountsController:getSelectedAccount","NetworkController:findNetworkClientIdByChainId","PhishingController:bulkScanUrls"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/assets/nft-detection-controller-messenger.ts"}],[75,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getTokenRatesControllerInitMessenger=function(e){return e.getRestricted({name:"TokenRatesControllerInit",allowedActions:["PreferencesController:getState"],allowedEvents:["PreferencesController:stateChange"]})},r.getTokenRatesControllerMessenger=function(e){return e.getRestricted({name:"TokenRatesController",allowedActions:["TokensController:getState","NetworkController:getNetworkClientById","NetworkController:getState","AccountsController:getAccount","AccountsController:getSelectedAccount"],allowedEvents:["NetworkController:stateChange","AccountsController:selectedEvmAccountChange","PreferencesController:stateChange","TokensController:stateChange"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/assets/token-rates-controller-messenger.ts"}],[76,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getBridgeControllerInitMessenger=function(e){return e.getRestricted({name:"BridgeControllerInit",allowedActions:["MetaMetricsController:trackEvent"],allowedEvents:[]})},r.getBridgeControllerMessenger=function(e){return e.getRestricted({name:"BridgeController",allowedActions:["AccountsController:getAccountByAddress","SnapController:handleRequest","NetworkController:getState","NetworkController:getNetworkClientById","NetworkController:findNetworkClientIdByChainId","TokenRatesController:getState","MultichainAssetsRatesController:getState","RemoteFeatureFlagController:getState","CurrencyRateController:getState"],allowedEvents:[]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/bridge-controller-messenger.ts"}],[77,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getBridgeStatusControllerMessenger=function(e){return e.getRestricted({name:"BridgeStatusController",allowedActions:["AccountsController:getAccountByAddress","NetworkController:getNetworkClientById","NetworkController:findNetworkClientIdByChainId","NetworkController:getState","BridgeController:getBridgeERC20Allowance","BridgeController:trackUnifiedSwapBridgeEvent","BridgeController:stopPollingForQuotes","GasFeeController:getState","AccountsController:getAccountByAddress","SnapController:handleRequest","TransactionController:getState","RemoteFeatureFlagController:getState"],allowedEvents:["MultichainTransactionsController:transactionConfirmed","TransactionController:transactionFailed","TransactionController:transactionConfirmed"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/bridge-status-controller-messenger.ts"}],[78,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountActivityServiceMessenger=function(e){return e.getRestricted({name:"AccountActivityService",allowedActions:["AccountsController:getSelectedAccount","BackendWebSocketService:connect","BackendWebSocketService:forceReconnection","BackendWebSocketService:subscribe","BackendWebSocketService:getConnectionInfo","BackendWebSocketService:channelHasSubscription","BackendWebSocketService:getSubscriptionsByChannel","BackendWebSocketService:findSubscriptionsByChannelPrefix","BackendWebSocketService:addChannelCallback","BackendWebSocketService:removeChannelCallback"],allowedEvents:["AccountsController:selectedAccountChange","BackendWebSocketService:connectionStateChanged"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/core-backend/account-activity-service-messenger.ts"}],[787,{"@firebase/component":788,"@firebase/logger":790,"@firebase/util":793,idb:4587},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"FirebaseError",{enumerable:!0,get:function(){return o.FirebaseError}}),r._DEFAULT_ENTRY_NAME=r.SDK_VERSION=void 0,r._addComponent=H,r._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},r._apps=void 0,r._clearComponents=function(){$.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,r._components=void 0,r._getProvider=V,r._isFirebaseApp=K,r._isFirebaseServerApp=function(e){return e.settings!==undefined},r._registerComponent=W,r._removeServiceInstance=function(e,t,r=B){V(e,t).clearInstance(r)},r._serverApps=void 0,r.deleteApp=Q,r.getApp=function(e=B){const t=D.get(e);if(!t&&e===B&&(0,o.getDefaultAppConfig)())return J();if(!t)throw G.create("no-app",{appName:e});return t},r.getApps=function(){return Array.from(D.values())},r.initializeApp=J,r.initializeServerApp=function(e,t){if((0,o.isBrowser)()&&!(0,o.isWebWorker)())throw G.create("invalid-server-app-environment");t.automaticDataCollectionEnabled===undefined&&(t.automaticDataCollectionEnabled=!1);let r;r=K(e)?e.options:e;const i=Object.assign(Object.assign({},t),r);i.releaseOnDeref!==undefined&&delete i.releaseOnDeref;if(t.releaseOnDeref!==undefined&&"undefined"==typeof FinalizationRegistry)throw G.create("finalization-registry-not-supported",{});const s=""+(u=JSON.stringify(i),[...u].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0)),a=U.get(s);var u;if(a)return a.incRefCount(t.releaseOnDeref),a;const c=new n.ComponentContainer(s);for(const e of $.values())c.addComponent(e);const l=new Y(r,t,s,c);return U.set(s,l),l},r.onLog=function(e,t){if(null!==e&&"function"!=typeof e)throw G.create("invalid-log-argument");(0,i.setUserLogHandler)(e,t)},r.registerVersion=X,r.setLogLevel=function(e){(0,i.setLogLevel)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */;var n=e("@firebase/component"),i=e("@firebase/logger"),o=e("@firebase/util"),s=e("idb");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const u="@firebase/app",c="0.10.18",l=new i.Logger("@firebase/app"),f="@firebase/app-compat",d="@firebase/analytics-compat",h="@firebase/analytics",p="@firebase/app-check-compat",b="@firebase/app-check",m="@firebase/auth",g="@firebase/auth-compat",v="@firebase/database",y="@firebase/data-connect",w="@firebase/database-compat",_="@firebase/functions",j="@firebase/functions-compat",k="@firebase/installations",S="@firebase/installations-compat",T="@firebase/messaging",O="@firebase/messaging-compat",E="@firebase/performance",x="@firebase/performance-compat",A="@firebase/remote-config",C="@firebase/remote-config-compat",I="@firebase/storage",M="@firebase/storage-compat",P="@firebase/firestore",N="@firebase/vertexai",R="@firebase/firestore-compat",F="firebase",B=r._DEFAULT_ENTRY_NAME="[DEFAULT]",L={[u]:"fire-core",[f]:"fire-core-compat",[h]:"fire-analytics",[d]:"fire-analytics-compat",[b]:"fire-app-check",[p]:"fire-app-check-compat",[m]:"fire-auth",[g]:"fire-auth-compat",[v]:"fire-rtdb",[y]:"fire-data-connect",[w]:"fire-rtdb-compat",[_]:"fire-fn",[j]:"fire-fn-compat",[k]:"fire-iid",[S]:"fire-iid-compat",[T]:"fire-fcm",[O]:"fire-fcm-compat",[E]:"fire-perf",[x]:"fire-perf-compat",[A]:"fire-rc",[C]:"fire-rc-compat",[I]:"fire-gcs",[M]:"fire-gcs-compat",[P]:"fire-fst",[R]:"fire-fst-compat",[N]:"fire-vertex","fire-js":"fire-js",[F]:"fire-js-all"},D=r._apps=new Map,U=r._serverApps=new Map,$=r._components=new Map;function H(e,t){try{e.container.addComponent(t)}catch(r){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function W(e){const t=e.name;if($.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;$.set(t,e);for(const t of D.values())H(t,e);for(const t of U.values())H(t,e);return!0}function V(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function K(e){return e.options!==undefined}const z={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},G=new o.ErrorFactory("app","Firebase",z);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class q{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new n.Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw G.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y extends q{constructor(e,t,r,n){const i=t.automaticDataCollectionEnabled!==undefined&&t.automaticDataCollectionEnabled,o={name:r,automaticDataCollectionEnabled:i};if(e.apiKey!==undefined)super(e,o,n);else{super(e.options,o,n)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=undefined,t.releaseOnDeref=undefined,X(u,c,"serverapp")}toJSON(){return undefined}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==undefined&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Q(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw G.create("server-app-deleted")}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */r.SDK_VERSION="11.2.0";function J(e,t={}){let r=e;if("object"!=typeof t){t={name:t}}const i=Object.assign({name:B,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!=typeof s||!s)throw G.create("bad-app-name",{appName:String(s)});if(r||(r=(0,o.getDefaultAppConfig)()),!r)throw G.create("no-options");const a=D.get(s);if(a){if((0,o.deepEqual)(r,a.options)&&(0,o.deepEqual)(i,a.config))return a;throw G.create("duplicate-app",{appName:s})}const u=new n.ComponentContainer(s);for(const e of $.values())u.addComponent(e);const c=new q(r,i,u);return D.set(s,c),c}async function Q(e){let t=!1;const r=e.name;if(D.has(r))t=!0,D.delete(r);else if(U.has(r)){e.decRefCount()<=0&&(U.delete(r),t=!0)}t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function X(e,t,r){var i;let o=null!==(i=L[e])&&void 0!==i?i:e;r&&(o+=`-${r}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}W(new n.Component(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=(0,s.openDB)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Z)}catch(e){console.warn(e)}}}).catch(e=>{throw G.create("idb-open",{originalErrorMessage:e.message})})),ee}async function re(e,t){try{const r=(await te()).transaction(Z,"readwrite"),n=r.objectStore(Z);await n.put(t,ne(e)),await r.done}catch(e){if(e instanceof o.FirebaseError)l.warn(e.message);else{const t=G.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});l.warn(t.message)}}}function ne(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new se(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=oe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){l.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=oe(),{heartbeatsToSend:r,unsentEntries:n}=function(e,t=1024){const r=[];let n=e.slice();for(const i of e){const e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ae(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ae(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),i=(0,o.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return l.warn(e),""}}}function oe(){return(new Date).toISOString().substring(0,10)}class se{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.isIndexedDBAvailable)()&&(0,o.validateIndexedDBOpenable)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction(Z),r=await t.objectStore(Z).get(ne(e));return await t.done,r}catch(e){if(e instanceof o.FirebaseError)l.warn(e.message);else{const t=G.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});l.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function ae(e){return(0,o.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;ue="",W(new n.Component("platform-logger",e=>new a(e),"PRIVATE")),W(new n.Component("heartbeat",e=>new ie(e),"PRIVATE")),X(u,c,ue),X(u,c,"esm2017"),X("fire-js","")}}},{package:"@metamask/notification-services-controller>firebase>@firebase/app",file:"node_modules/@firebase/app/dist/esm/index.esm2017.js"}],[788,{"@firebase/util":793},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Provider=r.ComponentContainer=r.Component=void 0;var n=e("@firebase/util");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.Component=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};const i="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new n.Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=i){return this.instances.has(e)}getOptions(e=i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[e,t]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(e)&&t.resolve(n)}return n}onInit(e,t){var r;const n=this.normalizeInstanceIdentifier(t),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===i?undefined:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}var n;return r||null}normalizeInstanceIdentifier(e=i){return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}r.Provider=o;r.ComponentContainer=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}}}},{package:"@metamask/notification-services-controller>firebase>@firebase/app>@firebase/component",file:"node_modules/@firebase/component/dist/esm/index.esm2017.js"}],[789,{"@firebase/app":787,"@firebase/component":788,"@firebase/util":793,idb:4587},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deleteInstallations=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e){const{appConfig:t}=e,r=await $(t,e=>e&&0===e.registrationStatus?undefined:e);if(r){if(1===r.registrationStatus)throw b.create("delete-pending-registration");if(2===r.registrationStatus){if(!navigator.onLine)throw b.create("app-offline");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
await async function(e,t){const r=function(e,{fid:t}){return`${g(e)}/${t}`}(e,t),n=_(e,t),i={method:"DELETE",headers:n},o=await j(()=>fetch(r,i));if(!o.ok)throw await y("Delete Installation",o)}(t,r),await U(t)}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,r.getId=J,r.getInstallations=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e=(0,n.getApp)()){return(0,n._getProvider)(e,"installations").getImmediate()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,r.getToken=Q,r.onIdChange=function(e,t){const{appConfig:r}=e;return function(e,t){M();const r=E(e);let n=x.get(r);n||(n=new Set,x.set(r,n));n.add(t)}(r,t),()=>{!function(e,t){const r=E(e),n=x.get(r);if(!n)return;n.delete(t),0===n.size&&x.delete(r);P()}(r,t)}};var n=e("@firebase/app"),i=e("@firebase/component"),o=e("@firebase/util"),s=e("idb");const a="@firebase/installations",u="0.6.12",c=1e4,l=`w:${u}`,f="FIS_v2",d="https://firebaseinstallations.googleapis.com/v1",h=36e5,p={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},b=new o.ErrorFactory("installations","Installations",p);function m(e){return e instanceof o.FirebaseError&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g({projectId:e}){return`${d}/projects/${e}/installations`}function v(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function y(e,t){const r=(await t.json()).error;return b.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function w({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function _(e,{refreshToken:t}){const r=w(e);return r.append("Authorization",function(e){return`${f} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),r}async function j(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(e){return new Promise(t=>{setTimeout(t,e)})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const S=/^[cdef][\w-]{21}$/,T="";function O(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(r=e,btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_"));var r;return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return S.test(t)?t:T}catch(e){return T}}function E(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x=new Map;function A(e,t){const r=E(e);C(r,t),function(e,t){const r=M();r&&r.postMessage({key:e,fid:t});P()}(r,t)}function C(e,t){const r=x.get(e);if(r)for(const e of r)e(t)}let I=null;function M(){return!I&&"BroadcastChannel"in self&&(I=new BroadcastChannel("[Firebase] FID Change"),I.onmessage=e=>{C(e.data.key,e.data.fid)}),I}function P(){0===x.size&&I&&(I.close(),I=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N="firebase-installations-database",R=1,F="firebase-installations-store";let B=null;function L(){return B||(B=(0,s.openDB)(N,R,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(F)}})),B}async function D(e,t){const r=E(e),n=(await L()).transaction(F,"readwrite"),i=n.objectStore(F),o=await i.get(r);return await i.put(t,r),await n.done,o&&o.fid===t.fid||A(e,t.fid),t}async function U(e){const t=E(e),r=(await L()).transaction(F,"readwrite");await r.objectStore(F).delete(t),await r.done}async function $(e,t){const r=E(e),n=(await L()).transaction(F,"readwrite"),i=n.objectStore(F),o=await i.get(r),s=t(o);return s===undefined?await i.delete(r):await i.put(s,r),await n.done,!s||o&&o.fid===s.fid||A(e,s.fid),s}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H(e){let t;const r=await $(e.appConfig,r=>{const n=function(e){const t=e||{fid:O(),registrationStatus:0};return K(t)}(r),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(b.create("app-offline"))}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(e,t){try{const r=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=g(e),i=w(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={fid:r,authVersion:f,appId:e.appId,sdkVersion:l},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await j(()=>fetch(n,a));if(u.ok){const e=await u.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:v(e.authToken)}}throw await y("Create Installation",u)}(e,t);return D(e.appConfig,r)}catch(r){throw m(r)&&409===r.customData.serverCode?await U(e.appConfig):await D(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}(e,r);return{installationEntry:r,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:W(e)}:{installationEntry:t}}(e,n);return t=i.registrationPromise,i.installationEntry});return r.fid===T?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}async function W(e){let t=await V(e.appConfig);for(;1===t.registrationStatus;)await k(100),t=await V(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:r}=await H(e);return r||t}return t}function V(e){return $(e,e=>{if(!e)throw b.create("installation-not-found");return K(e)})}function K(e){return 1===(t=e).registrationStatus&&t.registrationTime+c<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function z({appConfig:e,heartbeatServiceProvider:t},r){const n=function(e,{fid:t}){return`${g(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,r),i=_(e,r),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:l,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await j(()=>fetch(n,a));if(u.ok){return v(await u.json())}throw await y("Generate Auth Token",u)}async function G(e,t=!1){let r;const n=await $(e.appConfig,n=>{if(!Y(n))throw b.create("not-registered");const i=n.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+h}(e)}(i))return n;if(1===i.requestStatus)return r=async function(e,t){let r=await q(e.appConfig);for(;1===r.authToken.requestStatus;)await k(100),r=await q(e.appConfig);const n=r.authToken;return 0===n.requestStatus?G(e,t):n}(e,t),n;{if(!navigator.onLine)throw b.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(n);return r=async function(e,t){try{const r=await z(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await D(e.appConfig,n),r}catch(r){if(!m(r)||401!==r.customData.serverCode&&404!==r.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await D(e.appConfig,r)}else await U(e.appConfig);throw r}}(e,t),t}});return r?await r:n.authToken}function q(e){return $(e,e=>{if(!Y(e))throw b.create("not-registered");const t=e.authToken;return 1===(r=t).requestStatus&&r.requestTime+c<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var r;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */})}function Y(e){return e!==undefined&&2===e.registrationStatus}async function J(e){const t=e,{installationEntry:r,registrationPromise:n}=await H(t);return n?n.catch(console.error):G(t).catch(console.error),r.fid}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q(e,t=!1){const r=e;await async function(e){const{registrationPromise:t}=await H(e);t&&await t}(r);return(await G(r,t)).token}function X(e){return b.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z="installations",ee=e=>{const t=e.getProvider("app").getImmediate(),r=function(e){if(!e||!e.options)throw X("App Configuration");if(!e.name)throw X("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw X(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:r,heartbeatServiceProvider:(0,n._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},te=e=>{const t=e.getProvider("app").getImmediate(),r=(0,n._getProvider)(t,Z).getImmediate();return{getId:()=>J(r),getToken:e=>Q(r,e)}};(0,n._registerComponent)(new i.Component(Z,ee,"PUBLIC")),(0,n._registerComponent)(new i.Component("installations-internal",te,"PRIVATE")),(0,n.registerVersion)(a,u),(0,n.registerVersion)(a,u,"esm2017")}}},{package:"@metamask/notification-services-controller>firebase>@firebase/installations",file:"node_modules/@firebase/installations/dist/esm/index.esm2017.js"}],[79,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getBackendWebSocketServiceInitMessenger=function(e){return e.getRestricted({name:"BackendWebSocketServiceInit",allowedEvents:[],allowedActions:["RemoteFeatureFlagController:getState","AuthenticationController:getBearerToken"]})},r.getBackendWebSocketServiceMessenger=function(e){return e.getRestricted({name:"BackendWebSocketService",allowedActions:["AuthenticationController:getBearerToken"],allowedEvents:["AuthenticationController:stateChange","KeyringController:lock","KeyringController:unlock"]})}}}},{package:"$root$",file:"app/scripts/controller-init/messengers/core-backend/backend-websocket-service-messenger.ts"}],[790,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=[];var i;r.LogLevel=void 0,(i=r.LogLevel||(r.LogLevel={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";const o={debug:r.LogLevel.DEBUG,verbose:r.LogLevel.VERBOSE,info:r.LogLevel.INFO,warn:r.LogLevel.WARN,error:r.LogLevel.ERROR,silent:r.LogLevel.SILENT},s=r.LogLevel.INFO,a={[r.LogLevel.DEBUG]:"log",[r.LogLevel.VERBOSE]:"log",[r.LogLevel.INFO]:"info",[r.LogLevel.WARN]:"warn",[r.LogLevel.ERROR]:"error"},u=(e,t,...r)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${n}]  ${e.name}:`,...r)};r.Logger=class{constructor(e){this.name=e,this._logLevel=s,this._logHandler=u,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r.LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.LogLevel.DEBUG,...e),this._logHandler(this,r.LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.LogLevel.VERBOSE,...e),this._logHandler(this,r.LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.LogLevel.INFO,...e),this._logHandler(this,r.LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.LogLevel.WARN,...e),this._logHandler(this,r.LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.LogLevel.ERROR,...e),this._logHandler(this,r.LogLevel.ERROR,...e)}},r.setLogLevel=function(e){n.forEach(t=>{t.setLogLevel(e)})},r.setUserLogHandler=function(e,t){for(const i of n){let n=null;t&&t.level&&(n=o[t.level]),i.userLogHandler=null===e?null:(t,i,...o)=>{const s=o.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");i>=(null!=n?n:t.logLevel)&&e({level:r.LogLevel[i].toLowerCase(),message:s,args:o,type:t.name})}}}}}},{package:"@metamask/notification-services-controller>firebase>@firebase/app>@firebase/logger",file:"node_modules/@firebase/logger/dist/index.cjs.js"}],[791,{"@firebase/app":787,"@firebase/component":788,"@firebase/installations":789,"@firebase/util":793,idb:4587},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deleteToken=function(e){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e){if(!navigator)throw A.create("only-available-in-window");e.swRegistration||await U(e);return async function(e){const t=await T(e.firebaseDependencies);t&&(await C(e.firebaseDependencies,t.token),await async function(e){const t=E(e),r=(await S()).transaction(j,"readwrite");await r.objectStore(j).delete(t),await r.done}(e.firebaseDependencies));const r=await e.swRegistration.pushManager.getSubscription();if(r)return r.unsubscribe();return!0}(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=(0,o.getModularInstance)(e))},r.getMessaging=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e=(0,s.getApp)()){return q().then(e=>{if(!e)throw A.create("unsupported-browser")},e=>{throw A.create("indexed-db-unsupported")}),(0,s._getProvider)((0,o.getModularInstance)(e),"messaging").getImmediate()},r.getToken=async function(e,t){return $(e=(0,o.getModularInstance)(e),t)},r.isSupported=q,r.onMessage=function(e,t){return function(e,t){if(!navigator)throw A.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=(0,o.getModularInstance)(e),t)},e("@firebase/installations");var n=e("@firebase/component"),i=e("idb"),o=e("@firebase/util"),s=e("@firebase/app");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const a="/firebase-messaging-sw.js",u="/firebase-cloud-messaging-push-scope",c="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",l="https://fcmregistrations.googleapis.com/v1",f="google.c.a.c_id",d=1e4;var h,p;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function b(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),n=new Uint8Array(r.length);for(let e=0;e<r.length;++e)n[e]=r.charCodeAt(e);return n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(h||(h={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(p||(p={}));const g="fcm_token_details_db",v=5,y="fcm_token_object_Store";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const w="firebase-messaging-database",_=1,j="firebase-messaging-store";let k=null;function S(){return k||(k=(0,i.openDB)(w,_,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(j)}})),k}async function T(e){const t=E(e),r=await S(),n=await r.transaction(j).objectStore(j).get(t);if(n)return n;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(g))return null}let t=null;return(await(0,i.openDB)(g,v,{upgrade:async(r,n,i,o)=>{var s;if(n<2)return;if(!r.objectStoreNames.contains(y))return;const a=o.objectStore(y),u=await a.index("fcmSenderId").get(e);if(await a.clear(),u)if(2===n){const e=u;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:b(e.vapidKey)}}}else if(3===n){const e=u;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:b(e.auth),p256dh:b(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:b(e.vapidKey)}}}else if(4===n){const e=u;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:b(e.auth),p256dh:b(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:b(e.vapidKey)}}}}})).close(),await(0,i.deleteDB)(g),await(0,i.deleteDB)("fcm_vapid_details_db"),await(0,i.deleteDB)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await O(e,t),t}}async function O(e,t){const r=E(e),n=(await S()).transaction(j,"readwrite");return await n.objectStore(j).put(t,r),await n.done,t}function E({appConfig:e}){return e.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},A=new o.ErrorFactory("messaging","Messaging",x);async function C(e,t){const r={method:"DELETE",headers:await M(e)};try{const n=await fetch(`${I(e.appConfig)}/${t}`,r),i=await n.json();if(i.error){const e=i.error.message;throw A.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw A.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function I({projectId:e}){return`${l}/projects/${e}/registrations`}async function M({appConfig:e,installations:t}){const r=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function P({p256dh:e,auth:t,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:t,p256dh:e}};return n!==c&&(i.web.applicationPubKey=n),i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=6048e5;async function R(e){const t=await async function(e,t){const r=await e.pushManager.getSubscription();if(r)return r;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:m(t)})}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:b(t.getKey("auth")),p256dh:b(t.getKey("p256dh"))},n=await T(e.firebaseDependencies);if(n){if(function(e,t){const r=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return r&&n&&i&&o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n.subscriptionOptions,r))return Date.now()>=n.createTime+N?async function(e,t){try{const r=await async function(e,t){const r=await M(e),n=P(t.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let o;try{const r=await fetch(`${I(e.appConfig)}/${t.token}`,i);o=await r.json()}catch(e){throw A.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw A.create("token-update-failed",{errorInfo:e})}if(!o.token)throw A.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),n=Object.assign(Object.assign({},t),{token:r,createTime:Date.now()});return await O(e.firebaseDependencies,n),r}catch(e){throw e}}(e,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await C(e.firebaseDependencies,n.token)}catch(e){console.warn(e)}return F(e.firebaseDependencies,r)}return F(e.firebaseDependencies,r)}async function F(e,t){const r=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await async function(e,t){const r=await M(e),n=P(t),i={method:"POST",headers:r,body:JSON.stringify(n)};let o;try{const t=await fetch(I(e.appConfig),i);o=await t.json()}catch(e){throw A.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw A.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw A.create("token-subscribe-no-token");return o.token}(e,t),n={token:r,createTime:Date.now(),subscriptionOptions:t};return await O(e,n),n.token}function B(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const n=t.notification.body;n&&(e.notification.body=n);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var r,n,i,o,s;if(!t.fcmOptions&&!(null===(r=t.notification)||void 0===r?void 0:r.click_action))return;e.fcmOptions={};const a=null!==(i=null===(n=t.fcmOptions)||void 0===n?void 0:n.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const u=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),t}function L(e){return A.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){const r=[];for(let n=0;n<e.length;n++)r.push(e.charAt(n)),n<t.length&&r.push(t.charAt(n));r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class D{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=function(e){if(!e||!e.options)throw L("App Configuration Object");if(!e.name)throw L("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const e of t)if(!r[e])throw L(e);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:n,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U(e){try{e.swRegistration=await navigator.serviceWorker.register(a,{scope:u}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${d} ms`)),d),i=e.installing||e.waiting;e.active?(clearTimeout(n),t()):i?i.onstatechange=e=>{var r;"activated"===(null===(r=e.target)||void 0===r?void 0:r.state)&&(i.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.swRegistration)}catch(e){throw A.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function $(e,t){if(!navigator)throw A.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw A.create("permission-blocked");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=c)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await U(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw A.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),R(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H(e,t,r){const n=function(e){switch(e){case p.NOTIFICATION_CLICKED:return"notification_open";case p.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[f],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function W(e,t){const r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===p.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(B(r)):e.onMessageHandler.next(B(r)));const n=r.data;var i;"object"==typeof(i=n)&&i&&f in i&&"1"===n["google.c.a.e"]&&await H(e,r.messageType,n)}const V="@firebase/messaging",K="0.12.16",z=e=>{const t=new D(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>W(t,e)),t},G=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>$(t,e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function q(){try{await(0,o.validateIndexedDBOpenable)()}catch(e){return!1}return"undefined"!=typeof window&&(0,o.isIndexedDBAvailable)()&&(0,o.areCookiesEnabled)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}(0,s._registerComponent)(new n.Component("messaging",z,"PUBLIC")),(0,s._registerComponent)(new n.Component("messaging-internal",G,"PRIVATE")),(0,s.registerVersion)(V,K),(0,s.registerVersion)(V,K,"esm2017")}}},{package:"@metamask/notification-services-controller>firebase>@firebase/messaging",file:"node_modules/@firebase/messaging/dist/esm/index.esm2017.js"}],[792,{"@firebase/app":787,"@firebase/component":788,"@firebase/installations":789,"@firebase/util":793,idb:4587},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),e("@firebase/installations");var n=e("@firebase/component"),i=e("idb"),o=e("@firebase/util"),s=e("@firebase/app");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const a="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",u="FCM_MSG";var c,l;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),n=new Uint8Array(r.length);for(let e=0;e<r.length;++e)n[e]=r.charCodeAt(e);return n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(c||(c={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(l||(l={}));const h="fcm_token_details_db",p="fcm_token_object_Store";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const b="firebase-messaging-store";let m=null;function g(){return m||(m=i.openDB("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(b)}})),m}async function v(e){const t=w(e),r=await g(),n=await r.transaction(b).objectStore(b).get(t);if(n)return n;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(h))return null}let t=null;return(await i.openDB(h,5,{upgrade:async(r,n,i,o)=>{var s;if(n<2)return;if(!r.objectStoreNames.contains(p))return;const a=o.objectStore(p),u=await a.index("fcmSenderId").get(e);if(await a.clear(),u)if(2===n){const e=u;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:f(e.vapidKey)}}}else if(3===n){const e=u;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:f(e.auth),p256dh:f(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:f(e.vapidKey)}}}else if(4===n){const e=u;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:f(e.auth),p256dh:f(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:f(e.vapidKey)}}}}})).close(),await i.deleteDB(h),await i.deleteDB("fcm_vapid_details_db"),await i.deleteDB("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await y(e,t),t}}async function y(e,t){const r=w(e),n=(await g()).transaction(b,"readwrite");return await n.objectStore(b).put(t,r),await n.done,t}function w({appConfig:e}){return e.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},j=new o.ErrorFactory("messaging","Messaging",_);async function k(e,t){const r={method:"DELETE",headers:await T(e)};try{const n=await fetch(`${S(e.appConfig)}/${t}`,r),i=await n.json();if(i.error){const e=i.error.message;throw j.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw j.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function S({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function T({appConfig:e,installations:t}){const r=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function O({p256dh:e,auth:t,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:t,p256dh:e}};return n!==a&&(i.web.applicationPubKey=n),i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E(e){const t=await async function(e,t){const r=await e.pushManager.getSubscription();if(r)return r;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:d(t)})}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:f(t.getKey("auth")),p256dh:f(t.getKey("p256dh"))},n=await v(e.firebaseDependencies);if(n){if(function(e,t){const r=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return r&&n&&i&&o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n.subscriptionOptions,r))return Date.now()>=n.createTime+6048e5?async function(e,t){try{const r=await async function(e,t){const r=await T(e),n=O(t.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let o;try{const r=await fetch(`${S(e.appConfig)}/${t.token}`,i);o=await r.json()}catch(e){throw j.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw j.create("token-update-failed",{errorInfo:e})}if(!o.token)throw j.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),n=Object.assign(Object.assign({},t),{token:r,createTime:Date.now()});return await y(e.firebaseDependencies,n),r}catch(e){throw e}}(e,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await k(e.firebaseDependencies,n.token)}catch(e){console.warn(e)}return A(e.firebaseDependencies,r)}return A(e.firebaseDependencies,r)}async function x(e){const t=await v(e.firebaseDependencies);t&&(await k(e.firebaseDependencies,t.token),await async function(e){const t=w(e),r=(await g()).transaction(b,"readwrite");await r.objectStore(b).delete(t),await r.done}(e.firebaseDependencies));const r=await e.swRegistration.pushManager.getSubscription();return!r||r.unsubscribe()}async function A(e,t){const r=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await async function(e,t){const r=await T(e),n=O(t),i={method:"POST",headers:r,body:JSON.stringify(n)};let o;try{const t=await fetch(S(e.appConfig),i);o=await t.json()}catch(e){throw j.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw j.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw j.create("token-subscribe-no-token");return o.token}(e,t),n={token:r,createTime:Date.now(),subscriptionOptions:t};return await y(e,n),n.token}async function C(e,t){const r=function(e,t){var r,n;const i={};e.from&&(i.project_number=e.from);e.fcmMessageId&&(i.message_id=e.fcmMessageId);i.instance_id=t,e.notification?i.message_type=c.DISPLAY_NOTIFICATION.toString():i.message_type=c.DATA_MESSAGE.toString();i.sdk_platform=3..toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),!e.collapse_key||(i.collapse_key=e.collapse_key);i.event=1..toString(),!(null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label)||(i.analytics_label=null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label);return i}(t,await e.firebaseDependencies.installations.getId());!function(e,t,r){const n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify({messaging_client_event:t}),!r||(n.compliance_data=function(e){const t={privacy_context:{prequest:{origin_associated_product_id:e}}};return t}(r));e.logEvents.push(n)}(e,r,t.productId)}async function I(e,t){const r=function({data:e}){if(!e)return null;try{return e.json()}catch(e){return null}}(e);if(!r)return;t.deliveryMetricsExportedToBigQueryEnabled&&await C(t,r);const n=await P();if(function(e){return e.some(e=>"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://"))}(n))return function(e,t){t.isFirebaseMessaging=!0,t.messageType=l.PUSH_RECEIVED;for(const r of e)r.postMessage(t)}(n,r);if(r.notification&&await function(e){var t;const{actions:r}=e,{maxActions:n}=Notification;r&&n&&r.length>n&&console.warn(`This browser only supports ${n} actions. The remaining actions will not be displayed.`);return self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}(function(e){const t=Object.assign({},e.notification);return t.data={[u]:e},t}(r)),t&&t.onBackgroundMessageHandler){const e=function(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const n=t.notification.body;n&&(e.notification.body=n);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var r,n,i,o,s;if(!t.fcmOptions&&!(null===(r=t.notification)||void 0===r?void 0:r.click_action))return;e.fcmOptions={};const a=null!==(i=null===(n=t.fcmOptions)||void 0===n?void 0:n.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const u=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),t}(r);"function"==typeof t.onBackgroundMessageHandler?await t.onBackgroundMessageHandler(e):t.onBackgroundMessageHandler.next(e)}}async function M(e){var t,r;const n=null===(r=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===r?void 0:r[u];if(!n)return;if(e.action)return;e.stopImmediatePropagation(),e.notification.close();const i=function(e){var t,r,n;const i=null!==(r=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==r?r:null===(n=e.notification)||void 0===n?void 0:n.click_action;if(i)return i;return o=e.data,"object"==typeof o&&o&&"google.c.a.c_id"in o?self.location.origin:null;var o;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n);if(!i)return;const o=new URL(i,self.location.href),s=new URL(self.location.origin);if(o.host!==s.host)return;let a=await async function(e){const t=await P();for(const r of t){const t=new URL(r.url,self.location.href);if(e.host===t.host)return r}return null}(o);var c;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return a?a=await a.focus():(a=await self.clients.openWindow(i),await(c=3e3,new Promise(e=>{setTimeout(e,c)}))),a?(n.messageType=l.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,a.postMessage(n)):void 0}function P(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function N(e){return j.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e,t){const r=[];for(let n=0;n<e.length;n++)r.push(e.charAt(n)),n<t.length&&r.push(t.charAt(n));r.join("")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class R{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=function(e){if(!e||!e.options)throw N("App Configuration Object");if(!e.name)throw N("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const e of t)if(!r[e])throw N(e);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:n,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=e=>{const t=new R(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",e=>{e.waitUntil(I(e,t))}),self.addEventListener("pushsubscriptionchange",e=>{e.waitUntil(async function(e,t){var r,n;const{newSubscription:i}=e;if(!i)return void await x(t);const o=await v(t.firebaseDependencies);await x(t),t.vapidKey=null!==(n=null===(r=null==o?void 0:o.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==n?n:a,await E(t)}(e,t))}),self.addEventListener("notificationclick",e=>{e.waitUntil(M(e))}),t};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function B(){return o.isIndexedDBAvailable()&&await o.validateIndexedDBOpenable()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */s._registerComponent(new n.Component("messaging-sw",F,"PUBLIC")),r.experimentalSetDeliveryMetricsExportedToBigQueryEnabled=function(e,t){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e,t){e.deliveryMetricsExportedToBigQueryEnabled=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=o.getModularInstance(e),t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,r.getMessaging=function(e=s.getApp()){return B().then(e=>{if(!e)throw j.create("unsupported-browser")},e=>{throw j.create("indexed-db-unsupported")}),s._getProvider(o.getModularInstance(e),"messaging-sw").getImmediate()},r.isSupported=B,r.onBackgroundMessage=function(e,t){return function(e,t){if(self.document!==undefined)throw j.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,()=>{e.onBackgroundMessageHandler=null}}(e=o.getModularInstance(e),t)}}}},{package:"@metamask/notification-services-controller>firebase>@firebase/messaging",file:"node_modules/@firebase/messaging/dist/index.sw.cjs"}]],[],{});