LavaPack.loadBundle([[6997,{"../../../shared/lib/transactions-controller-utils":5890,"../../../shared/modules/Numeric":5895,"../../../shared/modules/selectors/networks":5918,"../../selectors/multichain-accounts/account-tree":7951,reselect:5310},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectReceivedSwapsTokenAmountFromTxMeta=n.selectIncomingBridgeHistory=n.selectBridgeHistoryItemForTxMetaId=n.selectBridgeHistoryForApprovalTxId=n.selectBridgeHistoryForAccountGroup=void 0;var s=e("reselect"),r=e("../../../shared/modules/Numeric"),a=e("../../../shared/modules/selectors/networks"),o=e("../../../shared/lib/transactions-controller-utils"),i=e("../../selectors/multichain-accounts/account-tree");const c=e=>e.metamask.txHistory,u=(0,s.createSelector)([(e,t)=>t,c],(e,t)=>e&&0!==e.length?Object.keys(t).reduce((n,s)=>{const r=t[s];return e.includes(r.account)&&(n[s]=r),n},{}):t),l=n.selectBridgeHistoryForAccountGroup=(0,s.createSelector)([c,i.getSelectedAccountGroup,e=>e],(e,t,n)=>{if(!t)return e;const s=(0,i.getInternalAccountsFromGroupById)(n,t).map(e=>e.address);return u(n,s)}),d=n.selectBridgeHistoryItemForTxMetaId=(0,s.createSelector)([c,(e,t)=>t],(e,t)=>t?e[t]:undefined);n.selectBridgeHistoryForApprovalTxId=(0,s.createSelector)([c,(e,t)=>t],(e,t)=>Object.values(e).find(e=>e.approvalTxId===t)),n.selectReceivedSwapsTokenAmountFromTxMeta=(0,s.createSelector)([d,(e,t,n)=>n,(e,t,n,s)=>s],(e,t,n)=>{if(!e)return null;const{quote:{destAsset:s},account:r}=e;return(0,o.getSwapsTokensReceivedFromTxMeta)(s.symbol,t,s.address,r,s.decimals,n,s.chainId)}),n.selectIncomingBridgeHistory=(0,s.createSelector)(l,a.getCurrentChainId,(e,t)=>Object.values(e).filter(e=>new r.Numeric(e.quote.destChainId,10).toPrefixedHexString()===t).sort((e,t)=>e.startTime&&t.startTime?t.startTime-e.startTime:0))}}},{package:"$root$",file:"ui/ducks/bridge-status/selectors.ts"}],[6998,{"../../../shared/lib/trace":5888,"../../store/actions":7975,"../../store/background-connection":7976,"./bridge":6999,"./utils":7001,"@metamask/bridge-controller":1275},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.restoreQuoteRequestFromState=n.resetInputFields=n.resetBridgeState=void 0,Object.defineProperty(n,"setDestTokenExchangeRates",{enumerable:!0,get:function(){return i.setDestTokenExchangeRates}}),Object.defineProperty(n,"setDestTokenUsdExchangeRates",{enumerable:!0,get:function(){return i.setDestTokenUsdExchangeRates}}),Object.defineProperty(n,"setEVMSrcNativeBalance",{enumerable:!0,get:function(){return i.setEVMSrcNativeBalance}}),n.setSortOrder=n.setSlippage=n.setSelectedQuote=n.setFromTokenInputValue=n.setFromToken=n.setFromChain=n.setEVMSrcTokenBalance=void 0,Object.defineProperty(n,"setSrcTokenExchangeRates",{enumerable:!0,get:function(){return i.setSrcTokenExchangeRates}}),n.setToToken=n.setToChainId=void 0,Object.defineProperty(n,"setTxAlerts",{enumerable:!0,get:function(){return i.setTxAlerts}}),n.updateQuoteRequestParams=n.trackUnifiedSwapBridgeEvent=n.setWasTxDeclined=void 0;var s=e("@metamask/bridge-controller"),r=e("../../../shared/lib/trace"),a=e("../../store/actions"),o=e("../../store/background-connection"),i=e("./bridge"),c=e("./utils");const{setToChainId:u,setFromToken:l,setToToken:d,setFromTokenInputValue:m,resetInputFields:h,setSortOrder:p,setSelectedQuote:g,setWasTxDeclined:f,setSlippage:k,restoreQuoteRequestFromState:T}=i.bridgeSlice.actions;n.restoreQuoteRequestFromState=T,n.setSlippage=k,n.setWasTxDeclined=f,n.setSelectedQuote=g,n.setSortOrder=p,n.resetInputFields=h,n.setFromTokenInputValue=m,n.setToToken=d,n.setFromToken=l,n.setToChainId=u;const v=(e,...t)=>async n=>{await(0,o.submitRequestToBackground)(e,t),await(0,a.forceUpdateMetamaskState)(n)};n.resetBridgeState=()=>async e=>{e(h()),e(v(s.BridgeBackgroundAction.RESET_STATE))};n.trackUnifiedSwapBridgeEvent=(e,t)=>async n=>{await n(v(s.BridgeBackgroundAction.TRACK_METAMETRICS_EVENT,e,t))};n.updateQuoteRequestParams=(...[e,t])=>async n=>{await n(v(s.BridgeUserAction.UPDATE_QUOTE_PARAMS,e,t))};n.setEVMSrcTokenBalance=(e,t)=>async n=>{e&&((0,r.trace)({name:r.TraceName.BridgeBalancesUpdated,data:{srcChainId:(0,s.formatChainIdToCaip)(e.chainId),isNative:(0,s.isNativeAddress)(e.address)},startTime:Date.now()}),await n((0,i.setEVMSrcTokenBalance)({selectedAddress:t,tokenAddress:e.address,chainId:e.chainId})))};n.setFromChain=({networkConfig:e,selectedAccount:t,token:n=null})=>async o=>{if(!e)return;const u=(0,c.isNonEvmChain)(e.chainId);if(u)o((0,a.setActiveNetworkWithError)(e.chainId));else{var d;const t=(0,c.isNetworkAdded)(e)?null===(d=e.rpcEndpoints)||void 0===d||null===(d=d[e.defaultRpcEndpointIndex])||void 0===d?void 0:d.networkClientId:null;t&&o((0,a.setActiveNetworkWithError)(t))}if(n)o(l(n));else if(u){const t=(0,s.getNativeAssetForChainId)(e.chainId);t&&o(l({...t,chainId:e.chainId}))}t&&!u&&((0,r.trace)({name:r.TraceName.BridgeBalancesUpdated,data:{srcChainId:(0,s.formatChainIdToCaip)(e.chainId),isNative:!0},startTime:Date.now()}),await o((0,i.setEVMSrcNativeBalance)({selectedAddress:t.address,chainId:e.chainId})))}}}},{package:"$root$",file:"ui/ducks/bridge/actions.ts"}],[6999,{"../../../shared/lib/trace":5888,"../../../shared/modules/bridge-utils/security-alerts-api.util":5896,"./utils":7001,"@metamask/bridge-controller":1275,"@reduxjs/toolkit":2980,"ethereumjs-util":4319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setTxAlerts=n.setSrcTokenExchangeRates=n.setEVMSrcTokenBalance=n.setEVMSrcNativeBalance=n.setDestTokenUsdExchangeRates=n.setDestTokenExchangeRates=n.default=n.bridgeSlice=void 0;var s=e("@reduxjs/toolkit"),r=e("@metamask/bridge-controller"),a=e("ethereumjs-util"),o=e("../../../shared/modules/bridge-utils/security-alerts-api.util"),i=e("../../../shared/lib/trace"),c=e("./utils");const u={toChainId:null,fromToken:null,toToken:null,fromTokenInputValue:null,fromTokenExchangeRate:null,toTokenExchangeRate:null,toTokenUsdExchangeRate:null,fromTokenBalance:null,fromNativeBalance:null,sortOrder:r.SortOrder.COST_ASC,selectedQuote:null,wasTxDeclined:!1,slippage:r.BRIDGE_DEFAULT_SLIPPAGE,txAlert:null},l=n.setSrcTokenExchangeRates=(0,s.createAsyncThunk)("bridge/setSrcTokenExchangeRates",c.getTokenExchangeRate),d=n.setDestTokenExchangeRates=(0,s.createAsyncThunk)("bridge/setDestTokenExchangeRates",c.getTokenExchangeRate),m=n.setDestTokenUsdExchangeRates=(0,s.createAsyncThunk)("bridge/setDestTokenUsdExchangeRates",c.getTokenExchangeRate),h=n.setTxAlerts=(0,s.createAsyncThunk)("bridge/setTxAlerts",o.fetchTxAlerts),p=async({selectedAddress:e,tokenAddress:t,chainId:n})=>{var s;return(0,r.isNonEvmChainId)(n)||!e?null:null===(s=await(0,r.calcLatestSrcBalance)(global.ethereumProvider,e,t,(0,r.formatChainIdToHex)(n)))||void 0===s?void 0:s.toString()},g=n.setEVMSrcNativeBalance=(0,s.createAsyncThunk)("bridge/setEVMSrcNativeBalance",async({selectedAddress:e,chainId:t})=>await p({selectedAddress:e,tokenAddress:(0,a.zeroAddress)(),chainId:t})),f=n.setEVMSrcTokenBalance=(0,s.createAsyncThunk)("bridge/setEVMSrcTokenBalance",p),k=n.bridgeSlice=(0,s.createSlice)({name:"bridge",initialState:{...u},reducers:{setToChainId:(e,{payload:t})=>{e.toChainId=t?(0,r.formatChainIdToCaip)(t):null,e.toToken=null},setFromToken:(e,{payload:t})=>{var n,s,r,a;e.fromToken=(0,c.toBridgeToken)(t),e.fromTokenBalance=null,null!==(n=e.fromToken)&&void 0!==n&&n.assetId&&null!==(s=e.toToken)&&void 0!==s&&s.assetId&&(null===(r=e.fromToken.assetId)||void 0===r?void 0:r.toLowerCase())===(null===(a=e.toToken.assetId)||void 0===a?void 0:a.toLowerCase())&&(e.toToken=null)},setToToken:(e,{payload:t})=>{var n;const s=(0,c.toBridgeToken)(t);e.toToken=s?{...s,address:s.address||(null===(n=(0,r.getNativeAssetForChainId)(s.chainId))||void 0===n?void 0:n.address)}:s,null==s||!s.chainId||e.toChainId&&(0,r.formatChainIdToCaip)(s.chainId)===(0,r.formatChainIdToCaip)(e.toChainId)||(e.toChainId=(0,r.formatChainIdToCaip)(s.chainId))},setFromTokenInputValue:(e,{payload:t})=>{e.fromTokenInputValue=t},resetInputFields:()=>({...u}),restoreQuoteRequestFromState:(e,{payload:t})=>{e.fromToken=(0,c.toBridgeToken)(t.srcAsset),e.toToken=(0,c.toBridgeToken)(t.destAsset),e.toChainId=(0,r.formatChainIdToCaip)(t.destChainId)},setSortOrder:(e,t)=>{e.sortOrder=t.payload},setSelectedQuote:(e,t)=>{e.selectedQuote=t.payload},setWasTxDeclined:(e,t)=>{e.wasTxDeclined=t.payload},setSlippage:(e,t)=>{e.slippage=t.payload}},extraReducers:e=>{e.addCase(d.pending,e=>{e.toTokenExchangeRate=null}),e.addCase(m.pending,e=>{e.toTokenUsdExchangeRate=null}),e.addCase(l.pending,e=>{e.fromTokenExchangeRate=null}),e.addCase(d.fulfilled,(e,t)=>{e.toTokenExchangeRate=t.payload??null}),e.addCase(m.fulfilled,(e,t)=>{e.toTokenUsdExchangeRate=t.payload??null}),e.addCase(l.fulfilled,(e,t)=>{e.fromTokenExchangeRate=t.payload??null}),e.addCase(h.pending,e=>{e.txAlert=null}),e.addCase(h.fulfilled,(e,t)=>{e.txAlert=t.payload}),e.addCase(h.rejected,e=>{e.txAlert=null}),e.addCase(f.fulfilled,(e,t)=>{var n,s;var a;!(0,r.isCrossChain)(t.meta.arg.chainId,null===(n=e.fromToken)||void 0===n?void 0:n.chainId)&&null!==(s=e.fromToken)&&void 0!==s&&s.address&&t.meta.arg.tokenAddress!==e.fromToken.address||(e.fromTokenBalance=(null===(a=t.payload)||void 0===a?void 0:a.toString())??null);(0,i.endTrace)({name:i.TraceName.BridgeBalancesUpdated})}),e.addCase(f.rejected,e=>{e.fromTokenBalance=null,(0,i.endTrace)({name:i.TraceName.BridgeBalancesUpdated})}),e.addCase(g.fulfilled,(e,t)=>{var n;e.fromNativeBalance=(null===(n=t.payload)||void 0===n?void 0:n.toString())??null,(0,i.endTrace)({name:i.TraceName.BridgeBalancesUpdated})}),e.addCase(g.rejected,e=>{e.fromNativeBalance=null,(0,i.endTrace)({name:i.TraceName.BridgeBalancesUpdated})})}});n.default=k.reducer}}},{package:"$root$",file:"ui/ducks/bridge/bridge.ts"}],[7e3,{"../../../shared/constants/bridge":5783,"../../../shared/constants/hardware-wallets":5790,"../../../shared/constants/multichain/assets":5798,"../../../shared/constants/multichain/networks":5799,"../../../shared/constants/network":5800,"../../../shared/lib/asset-utils":5828,"../../../shared/modules/Numeric":5895,"../../../shared/modules/selectors":5916,"../../../shared/modules/selectors/networks":5918,"../../../shared/modules/selectors/util":5920,"../../selectors/accounts":7936,"../../selectors/assets":7939,"../../selectors/multichain":7956,"../../selectors/multichain-accounts/account-tree":7951,"../../selectors/multichain/networks":7957,"../../selectors/remote-feature-flags":7960,"../../selectors/selectors":7963,"./utils":7001,"@metamask/bridge-controller":1275,"@metamask/keyring-api":2060,"@metamask/notification-services-controller/push-services":2274,"@metamask/utils":2908,"bignumber.js":3949,lodash:4816,reselect:5310},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectNoFeeAssets=n.needsSolanaAccountForDestination=n.needsBitcoinAccountForDestination=n.getWasTxDeclined=n.getValidationErrors=n.getTxAlerts=n.getTopAssetsFromFeatureFlags=n.getToTokenConversionRate=n.getToToken=n.getToChains=n.getToChain=n.getToAccounts=n.getSlippage=n.getQuoteRequest=n.getQuoteRefreshRate=n.getPriceImpactThresholds=n.getLastSelectedChainId=n.getIsToOrFromNonEvm=n.getIsSwap=n.getIsStxEnabled=n.getIsSolanaSwap=n.getIsQuoteExpired=n.getIsGasIncluded=n.getIsBridgeTx=n.getHardwareWalletName=n.getFromTokenConversionRate=n.getFromTokenBalance=n.getFromToken=n.getFromChains=n.getFromChain=n.getFromAmountInCurrency=n.getFromAmount=n.getFromAccount=n.getDefaultTokenPair=n.getBridgeSortOrder=n.getBridgeQuotes=n.getAllBridgeableNetworks=n.getAccountGroupNameByInternalAccount=void 0;var s=e("@metamask/bridge-controller"),r=e("@metamask/keyring-api"),a=e("lodash"),o=e("reselect"),i=e("bignumber.js"),c=e("@metamask/notification-services-controller/push-services"),u=e("@metamask/utils"),l=e("../../../shared/constants/multichain/networks"),d=e("../../selectors/selectors"),m=e("../../../shared/constants/bridge"),h=e("../../../shared/modules/selectors/util"),p=e("../../../shared/modules/selectors/networks"),g=e("../../../shared/constants/network"),f=e("../../selectors/multichain"),k=e("../../selectors/assets"),T=e("../../../shared/constants/hardware-wallets"),v=e("../../../shared/lib/asset-utils"),y=e("../../../shared/constants/multichain/assets"),S=e("../../../shared/modules/Numeric"),b=e("../../../shared/modules/selectors"),I=e("../../selectors/accounts"),w=e("../../selectors/remote-feature-flags"),C=e("../../selectors/multichain-accounts/account-tree"),_=e("../../selectors/multichain/networks"),A=e("./utils");const E=(e,t,n)=>(0,s.isSolanaChainId)(e)?(0,s.isNativeAddress)(t)?y.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.SOL:n??t:(0,s.isBitcoinChainId)(e)?y.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.BTC:n??t,N=e=>{var t;const n=(null===(t=e.metamask.internalAccounts)||void 0===t?void 0:t.accounts)||{};return Object.values(n).some(e=>{const{DataAccount:t}=r.SolAccountType;return Boolean(e&&e.type===t)})},M=e=>{var t;const n=(null===(t=e.metamask.internalAccounts)||void 0===t?void 0:t.accounts)||{};return Object.values(n).some(e=>{const{P2wpkh:t}=r.BtcAccountType;return Boolean(e&&e.type===t)})},P=n.getAllBridgeableNetworks=(0,h.createDeepEqualSelector)(p.getNetworkConfigurationsByChainId,e=>(0,a.uniqBy)([...Object.values(e),{...l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.SOLANA],blockExplorerUrls:[],name:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.SOLANA].nickname,nativeCurrency:l.MULTICHAIN_PROVIDER_CONFIGS[l.MultichainNetworks.SOLANA].ticker,rpcEndpoints:[{url:"",type:"",networkClientId:""}],defaultRpcEndpointIndex:0,chainId:l.MultichainNetworks.SOLANA}],"chainId").filter(({chainId:e})=>m.ALLOWED_BRIDGE_CHAIN_IDS.includes(e))),R=(0,h.createDeepEqualSelector)([e=>(0,w.getRemoteFeatureFlags)(e).bridgeConfig],e=>(0,s.selectBridgeFeatureFlags)({remoteFeatureFlags:{bridgeConfig:e}})),O=(n.getPriceImpactThresholds=(0,h.createDeepEqualSelector)(R,e=>null==e?void 0:e.priceImpactThreshold),n.getFromChains=(0,h.createDeepEqualSelector)(P,R,e=>N(e),e=>M(e),(e,t,n,r)=>{let a=n?e:e.filter(({chainId:e})=>!(0,s.isSolanaChainId)(e));return a=r?a:a.filter(({chainId:e})=>!(0,s.isBitcoinChainId)(e)),a.filter(({chainId:e})=>{var n;return null===(n=t.chains[(0,s.formatChainIdToCaip)(e)])||void 0===n?void 0:n.isActiveSrc})})),D=(n.getLastSelectedChainId=(0,o.createSelector)([_.getAllEnabledNetworksForAllNamespaces],e=>e[0]),n.getFromChain=(0,h.createDeepEqualSelector)([O,f.getMultichainProviderConfig],(e,t)=>e.find(({chainId:e})=>e===(null==t?void 0:t.chainId)))),x=n.getToChains=(0,h.createDeepEqualSelector)(P,R,D,(e,t,n)=>{const r=(0,a.uniqBy)([...e,...g.FEATURED_RPCS],"chainId").filter(({chainId:e})=>{var n;return null==t||null===(n=t.chains)||void 0===n||null===(n=n[(0,s.formatChainIdToCaip)(e)])||void 0===n?void 0:n.isActiveDest});return n&&(0,s.isBitcoinChainId)(n.chainId)?r.filter(({chainId:e})=>!(0,s.isBitcoinChainId)(e)):r});n.getTopAssetsFromFeatureFlags=(e,t)=>{var n;if(!t)return undefined;const r=R(e);return null==r||null===(n=r.chains[(0,s.formatChainIdToCaip)(t)])||void 0===n?void 0:n.topAssets};const B=n.getToChain=(0,o.createSelector)([D,x,e=>{var t;return null===(t=e.bridge)||void 0===t?void 0:t.toChainId}],(e,t,n)=>n?t.find(({chainId:e})=>e===n||(0,s.formatChainIdToCaip)(e)===n):e),$=(n.getDefaultTokenPair=(0,h.createDeepEqualSelector)([e=>{var t;return null===(t=D(e))||void 0===t?void 0:t.chainId},e=>R(e).bip44DefaultPairs],(e,t)=>{var n;if(!e)return null;const{namespace:r}=(0,u.parseCaipChainId)((0,s.formatChainIdToCaip)(e)),a=null==t||null===(n=t[r])||void 0===n?void 0:n.standard;return a?Object.entries(a).flat():null}),n.getFromToken=(0,o.createSelector)([e=>e.bridge.fromToken,e=>{var t;return null===(t=D(e))||void 0===t?void 0:t.chainId}],(e,t)=>{if(!t)return null;if(null!=e&&e.address)return e;const{iconUrl:n,...r}=(0,s.getNativeAssetForChainId)(t),a=(0,A.toBridgeToken)(r);return a?{...a,chainId:(0,s.formatChainIdToCaip)(t)}:a})),U=n.getToToken=(0,o.createSelector)([$,B,e=>e.bridge.toToken],(e,t,n)=>{if(!t||!e)return null;if(n)return n;const r=(0,A.getDefaultToToken)((0,s.formatChainIdToCaip)(t.chainId),e);return r?(0,A.toBridgeToken)(r):null}),F=e=>e.bridge.fromTokenInputValue;n.getFromAmount=F;const L=n.getAccountGroupNameByInternalAccount=(0,o.createSelector)([C.getAllAccountGroups,(e,t)=>t],(e,t)=>{var n,s;return null!=t&&t.id?(null===(n=e.find(({accounts:e})=>e.includes(t.id)))||void 0===n?void 0:n.metadata.name)??(null==t||null===(s=t.metadata)||void 0===s?void 0:s.name):null}),j=n.getFromAccount=(0,o.createSelector)([e=>{var t;return null===(t=D(e))||void 0===t?void 0:t.chainId},e=>e,I.getSelectedInternalAccount],(e,t,n)=>e?(0,C.getInternalAccountBySelectedAccountGroupAndCaip)(t,(0,s.formatChainIdToCaip)(e))??n:null),W=(n.getToAccounts=(0,o.createSelector)([B,C.getWalletsWithAccounts,e=>e],(e,t,n)=>{if(!e)return[];return(0,I.getInternalAccountsByScope)(n,(0,s.formatChainIdToCaip)(e.chainId)).map(e=>{var s,r,a;return{...e,isExternal:!1,walletName:"mnemonic"===(null===(s=e.options.entropy)||void 0===s?void 0:s.type)?null===(r=t[`entropy:${e.options.entropy.id}`])||void 0===r?void 0:r.metadata.name:null===(a=t[`keyring:${e.metadata.keyring.type}`])||void 0===a?void 0:a.metadata.name,displayName:L(n,e)??e.metadata.name??e.address}})}),(0,o.createSelector)([D,e=>e.bridge.fromNativeBalance,f.getMultichainBalances,e=>{var t;return null===(t=j(e))||void 0===t?void 0:t.id}],(e,t,n,r)=>{if(!e||!r)return null;const{chainId:a}=e,{decimals:o,address:i,assetId:c}=(0,s.getNativeAssetForChainId)(a);if((0,A.isNonEvmChain)(a)){var u;const e=E(a,i,c);return(null==n||null===(u=n[r])||void 0===u||null===(u=u[e])||void 0===u?void 0:u.amount)??null}return t?S.Numeric.from(t,10).shiftedBy(o).toString():null})),H=n.getFromTokenBalance=(0,o.createSelector)($,D,e=>e.bridge.fromTokenBalance,f.getMultichainBalances,j,(e,t,n,s,r)=>{if(!e||!t||!r)return null;const{id:a}=r,{chainId:o,decimals:i,address:c,assetId:u}=e;if((0,A.isNonEvmChain)(o)){var l;const t=E(o,c,u);return(null==s||null===(l=s[a])||void 0===l||null===(l=l[t])||void 0===l?void 0:l.amount)??e.string??null}return n?S.Numeric.from(n,10).shiftedBy(i).toString():null});n.getSlippage=e=>e.bridge.slippage;const G=e=>{const{quoteRequest:t}=e.metamask;return t};n.getQuoteRequest=G;n.getQuoteRefreshRate=(0,o.createSelector)(R,D,(e,t)=>{var n;return(t&&(null===(n=e.chains[(0,s.formatChainIdToCaip)(t.chainId)])||void 0===n?void 0:n.refreshRate))??e.refreshRate});n.getBridgeSortOrder=e=>e.bridge.sortOrder;const V=n.getFromTokenConversionRate=(0,o.createSelector)([D,e=>e.metamask.marketData,k.getAssetsRates,$,f.getMultichainCoinRates,e=>e.metamask.currencyRates,e=>e.bridge.fromTokenExchangeRate],(e,t,n,r,a,o,i)=>{if(null!=e&&e.chainId&&r){var c,u,l,d,m,h,p,g,f;const I=null===(c=(0,s.getNativeAssetForChainId)(e.chainId))||void 0===c?void 0:c.assetId,w=(0,v.toAssetId)(r.address,(0,s.formatChainIdToCaip)(e.chainId)),C=(0,A.isNonEvmChain)(e.chainId)?Number((null==a||null===(u=a[null===(l=e.nativeCurrency)||void 0===l?void 0:l.toLowerCase()])||void 0===u?void 0:u.conversionRate)??(null==n||null===(d=n[I])||void 0===d?void 0:d.rate)??null):(null===(m=o[e.nativeCurrency])||void 0===m?void 0:m.conversionRate)??null,_=(0,A.isNonEvmChain)(e.chainId)?Number((null==a||null===(h=a[null===(p=e.nativeCurrency)||void 0===p?void 0:p.toLowerCase()])||void 0===h?void 0:h.usdConversionRate)??(null==n||null===(g=n[I])||void 0===g?void 0:g.rate)??null):(null===(f=o[e.nativeCurrency])||void 0===f?void 0:f.usdConversionRate)??null;if((0,s.isNativeAddress)(r.address))return{valueInCurrency:C,usd:_};if((0,s.isSolanaChainId)(e.chainId)&&I&&w){var k,T,y;const e=(0,A.tokenPriceInNativeAsset)(Number((null==n||null===(k=n[w])||void 0===k?void 0:k.rate)??i??null),Number((null==n||null===(T=n[I])||void 0===T?void 0:T.rate)??(null==a||null===(y=a.sol)||void 0===y?void 0:y.conversionRate)??null));return(0,A.exchangeRatesFromNativeAndCurrencyRates)(e,Number(C),Number(_))}if((0,s.isBitcoinChainId)(e.chainId)&&I&&w){var S,b;const e=Number((null==n||null===(S=n[I])||void 0===S?void 0:S.rate)??null),t=(0,A.tokenPriceInNativeAsset)(Number((null==n||null===(b=n[w])||void 0===b?void 0:b.rate)??i??null),e);return(0,A.exchangeRatesFromNativeAndCurrencyRates)(t,Number(C),Number(_))}const E=(0,A.exchangeRateFromMarketData)(e.chainId,r.address,t)??(0,A.tokenPriceInNativeAsset)(i,C);return(0,A.exchangeRatesFromNativeAndCurrencyRates)(E,C,_)}return(0,A.exchangeRatesFromNativeAndCurrencyRates)()});n.getToTokenConversionRate=(0,h.createDeepEqualSelector)([B,e=>e.metamask.marketData,k.getAssetsRates,U,p.getNetworkConfigurationsByChainId,e=>({state:e,toTokenExchangeRate:e.bridge.toTokenExchangeRate,toTokenUsdExchangeRate:e.bridge.toTokenUsdExchangeRate}),f.getMultichainCoinRates],(e,t,n,r,a,{state:o,toTokenExchangeRate:i,toTokenUsdExchangeRate:c},u)=>{if(null!=e&&e.chainId&&!a[e.chainId]&&i)return{valueInCurrency:i,usd:c};if(null!=e&&e.chainId&&r){var l;const a=null===(l=(0,s.getNativeAssetForChainId)(e.chainId))||void 0===l?void 0:l.assetId,c=(0,v.toAssetId)(r.address,(0,s.formatChainIdToCaip)(e.chainId));if((0,s.isSolanaChainId)(e.chainId)&&a&&c){var m,h,p,g,f,k;const t=(0,A.tokenPriceInNativeAsset)(Number((null==n||null===(m=n[c])||void 0===m?void 0:m.rate)??null),Number((null==n||null===(h=n[a])||void 0===h?void 0:h.rate)??null));return(0,A.exchangeRatesFromNativeAndCurrencyRates)(t,(null==u||null===(p=u[null===(g=e.nativeCurrency)||void 0===g?void 0:g.toLowerCase()])||void 0===p?void 0:p.conversionRate)??null,(null==u||null===(f=u[null===(k=e.nativeCurrency)||void 0===k?void 0:k.toLowerCase()])||void 0===f?void 0:f.usdConversionRate)??null)}if((0,s.isBitcoinChainId)(e.chainId)&&a&&c){var T,y,S,b,I,w;const t=Number((null==n||null===(T=n[a])||void 0===T?void 0:T.rate)??null),s=(0,A.tokenPriceInNativeAsset)(Number((null==n||null===(y=n[c])||void 0===y?void 0:y.rate)??null),t);return(0,A.exchangeRatesFromNativeAndCurrencyRates)(s,(null==u||null===(S=u[null===(b=e.nativeCurrency)||void 0===b?void 0:b.toLowerCase()])||void 0===S?void 0:S.conversionRate)??null,(null==u||null===(I=u[null===(w=e.nativeCurrency)||void 0===w?void 0:w.toLowerCase()])||void 0===I?void 0:I.usdConversionRate)??null)}const{chainId:C}=e,_=(0,d.selectConversionRateByChainId)(o,C),E=(0,d.getUSDConversionRateByChainId)(C)(o);if((0,s.isNativeAddress)(r.address))return{valueInCurrency:_,usd:E};const N=(0,A.exchangeRateFromMarketData)(C,r.address,t)??(0,A.tokenPriceInNativeAsset)(i,_);return(0,A.exchangeRatesFromNativeAndCurrencyRates)(N,_,E)}return(0,A.exchangeRatesFromNativeAndCurrencyRates)()});n.getIsQuoteExpired=({metamask:e},t)=>(0,s.selectIsQuoteExpired)(e,{},t);const K=n.getBridgeQuotes=(0,o.createSelector)([({metamask:e})=>e,({bridge:{sortOrder:e}})=>e,({bridge:{selectedQuote:e}})=>e],(e,t,n)=>(0,s.selectBridgeQuotes)(e,{sortOrder:t,selectedQuote:n})),Y=(n.getIsBridgeTx=(0,h.createDeepEqualSelector)(D,B,(e,t)=>!(!t||null==e||!e.chainId)&&e.chainId!==t.chainId),n.getIsSwap=(0,h.createDeepEqualSelector)(G,({srcChainId:e,destChainId:t})=>Boolean(e&&t&&(0,s.formatChainIdToCaip)(e)===(0,s.formatChainIdToCaip)(t))),(0,o.createSelector)($,e=>e.metamask.quoteRequest.srcTokenAmount,(e,t)=>t&&null!=e&&e.decimals?(0,c.calcTokenAmount)(t,Number(e.decimals)).toString():null)),q=(n.getFromAmountInCurrency=(0,o.createSelector)($,D,Y,V,(e,t,n,{valueInCurrency:s,usd:r})=>null!=e&&e.symbol&&null!=t&&t.chainId&&n&&s?{valueInCurrency:new i.BigNumber(n).mul(new i.BigNumber(s.toString()??1)),usd:new i.BigNumber(n).mul(new i.BigNumber((null==r?void 0:r.toString())??1))}:{valueInCurrency:new i.BigNumber(0),usd:new i.BigNumber(0)}),e=>e.bridge.txAlert);n.getTxAlerts=q;n.getValidationErrors=(0,h.createDeepEqualSelector)(K,Y,$,F,({metamask:e})=>(0,s.selectMinimumBalanceForRentExemptionInSOL)(e),G,q,W,H,({activeQuote:e,quotesLastFetchedMs:t,isLoading:n,quotesRefreshCount:r},a,o,c,u,l,d,m,h)=>{var p,g,f;const{gasIncluded:k,gasIncluded7702:T}=(null==e?void 0:e.quote)??{},v=T||k,y=l.srcChainId??(null==e||null===(p=e.quote)||void 0===p?void 0:p.srcChainId),S=y&&(0,s.isSolanaChainId)(y)?u:"0";return{isTxAlertPresent:Boolean(d),isNoQuotesAvailable:Boolean(!e&&(0,s.isValidQuoteRequest)(l)&&t&&!n&&r>0),isInsufficientGasBalance:Boolean(m&&!e&&a&&o&&!v&&((0,s.isNativeAddress)(o.address)?new i.BigNumber(m).sub(S).lte(a):new i.BigNumber(m).lte(0))),isInsufficientGasForQuote:Boolean(m&&e&&o&&c&&!v&&((0,s.isNativeAddress)(o.address)?new i.BigNumber(m).sub(e.totalMaxNetworkFee.amount).sub(e.sentAmount.amount).sub(S).lte(0):new i.BigNumber(m).lte(e.totalMaxNetworkFee.amount))),isInsufficientBalance:!(!a||!h||isNaN(Number(h)))&&new i.BigNumber(h).lt(a),isEstimatedReturnLow:!!(null!=e&&null!==(g=e.sentAmount)&&void 0!==g&&g.valueInCurrency&&null!=e&&null!==(f=e.adjustedReturn)&&void 0!==f&&f.valueInCurrency&&c)&&new i.BigNumber(e.adjustedReturn.valueInCurrency).lt(new i.BigNumber(1-s.BRIDGE_QUOTE_MAX_RETURN_DIFFERENCE_PERCENTAGE).times(e.sentAmount.valueInCurrency))}});n.getWasTxDeclined=e=>e.bridge.wasTxDeclined;n.needsSolanaAccountForDestination=(0,h.createDeepEqualSelector)(B,e=>N(e),(e,t)=>{if(!e)return!1;return(0,s.isSolanaChainId)(e.chainId)&&!t}),n.needsBitcoinAccountForDestination=(0,h.createDeepEqualSelector)(B,e=>M(e),(e,t)=>{if(!e)return!1;return(0,s.isBitcoinChainId)(e.chainId)&&!t}),n.getIsToOrFromNonEvm=(0,o.createSelector)(D,B,(e,t)=>{if(null==e||!e.chainId||null==t||!t.chainId)return!1;const n=(0,s.formatChainIdToCaip)(e.chainId),r=(0,s.formatChainIdToCaip)(t.chainId),{namespace:a}=(0,u.parseCaipChainId)(n),{namespace:o}=(0,u.parseCaipChainId)(r);return a!==o}),n.getIsSolanaSwap=(0,o.createSelector)(D,B,(e,t)=>{if(null==e||!e.chainId||null==t||!t.chainId)return!1;const n=(0,s.isSolanaChainId)(e.chainId),r=(0,s.isSolanaChainId)(t.chainId);return n&&r});n.getHardwareWalletName=e=>{switch((0,d.getHardwareWalletType)(e)){case T.HardwareKeyringType.ledger:return T.HardwareKeyringNames.ledger;case T.HardwareKeyringType.trezor:return T.HardwareKeyringNames.trezor;case T.HardwareKeyringType.lattice:return T.HardwareKeyringNames.lattice;case T.HardwareKeyringType.oneKey:return T.HardwareKeyringNames.oneKey;default:return undefined}};n.selectNoFeeAssets=(0,o.createSelector)([R,(e,t)=>t],(e,t)=>{var n;if(!t)return[];const r=(0,s.formatChainIdToCaip)(t);return(null==e||null===(n=e.chains)||void 0===n||null===(n=n[r])||void 0===n?void 0:n.noFeeAssets)??[]});const Q=(0,o.createSelector)([e=>{var t;return null===(t=D(e))||void 0===t?void 0:t.chainId},e=>{var t;return null===(t=B(e))||void 0===t?void 0:t.chainId},(e,t)=>t],(e,t,n)=>{if(!e)return!1;return!(0,s.isCrossChain)(e,t)&&n}),z=n.getIsStxEnabled=(0,o.createSelector)([e=>{var t;return null===(t=D(e))||void 0===t?void 0:t.chainId},e=>e],(e,t)=>(0,b.getIsSmartTransaction)(t,e));n.getIsGasIncluded=(0,o.createSelector)([z,Q],(e,t)=>e&&t)}}},{package:"$root$",file:"ui/ducks/bridge/selectors.ts"}],[7001,{"../../../shared/constants/bridge":5783,"../../../shared/constants/multichain/networks":5799,"../../../shared/constants/network":5800,"../../../shared/lib/asset-utils":5828,"../../../shared/modules/Numeric":5895,"../../../shared/modules/conversion.utils":5900,"../../pages/swaps/swaps.util":7925,"@metamask/bridge-controller":1275,"@metamask/controller-utils":1349,"@metamask/utils":2908,"bignumber.js":3949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNetworkAdded=n.getTxGasEstimates=n.getTokenExchangeRate=n.getNativeTokenName=n.getHexMaxGasLimit=n.getDefaultToToken=n.exchangeRatesFromNativeAndCurrencyRates=n.exchangeRateFromMarketData=n.bpsToPercentage=void 0,Object.defineProperty(n,"isNonEvmChain",{enumerable:!0,get:function(){return a.isNonEvmChainId}}),n.tokenPriceInNativeAsset=n.tokenAmountToCurrency=n.toBridgeToken=void 0;var s=e("@metamask/utils"),r=e("bignumber.js"),a=e("@metamask/bridge-controller"),o=e("@metamask/controller-utils"),i=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("../../pages/swaps/swaps.util"),l=e("../../../shared/lib/asset-utils"),d=e("../../../shared/constants/bridge"),m=e("../../../shared/constants/network"),h=e("../../../shared/constants/multichain/networks");n.getNativeTokenName=e=>{try{var t;return null===(t=(0,a.getNativeAssetForChainId)(e))||void 0===t?void 0:t.name}catch{return undefined}};n.getHexMaxGasLimit=e=>new c.Numeric(new r.BigNumber(e).toString(),10).toPrefixedHexString();n.bpsToPercentage=e=>{if(e===undefined||null===e)return undefined;const t="string"==typeof e?parseFloat(e):e;return isNaN(t)?undefined:(t/100).toString()};n.getTxGasEstimates=async({networkAndAccountSupports1559:e,networkGasFeeEstimates:t,txParams:n,hexChainId:s})=>{if(e){var r;const{estimatedBaseFee:e="0"}=t,a=(0,i.decGWEIToHexWEI)(e);return await(0,u.getTransaction1559GasFeeEstimates)({...n,chainId:s,gasLimit:null===(r=n.gasLimit)||void 0===r?void 0:r.toString()},a,s)}return{baseAndPriorityFeePerGas:undefined,maxFeePerGas:undefined,maxPriorityFeePerGas:undefined}};n.getTokenExchangeRate=async e=>{const{chainId:t,tokenAddress:n,currency:s,signal:r}=e,i=await(async(e,t,n,...s)=>{const r=s.map(t=>(0,l.toAssetId)(t,(0,a.formatChainIdToCaip)(e))).filter(Boolean);if(0===r.length)return{};const i=`https://price.api.cx.metamask.io/v3/spot-prices?${new URLSearchParams({assetIds:r.join(","),includeMarketData:"true",vsCurrency:t})}`,c=await(0,o.handleFetch)(i,{method:"GET",headers:{"X-Client-Id":a.BridgeClientId.EXTENSION},signal:n});return Object.entries(c).reduce((e,[t,n])=>(e[t]=n.price,e),{})})(t,s,r,n),c=(0,l.toAssetId)(n,(0,a.formatChainIdToCaip)(t));return c?null==i?void 0:i[c]:undefined};n.exchangeRateFromMarketData=(e,t,n)=>{var r;return(0,s.isStrictHexString)(t)&&(0,s.isStrictHexString)(e)?null==n||null===(r=n[e])||void 0===r||null===(r=r[t])||void 0===r?void 0:r.price:undefined};n.tokenAmountToCurrency=(e,t)=>new c.Numeric(e,10).applyConversionRate(new r.BigNumber(t.toString(),10)).toNumber();n.tokenPriceInNativeAsset=(e,t)=>e&&t?e/t:null;n.exchangeRatesFromNativeAndCurrencyRates=(e,t,n)=>({valueInCurrency:e&&t?e*t:null,usd:e&&n?e*n:null});n.isNetworkAdded=e=>e!==undefined&&"networkClientId"in e.rpcEndpoints[e.defaultRpcEndpointIndex];const p=e=>{if(!e)return"";const{image:t,iconUrl:n,icon:s,chainId:r,address:o,assetId:i}=e,c=(0,a.formatChainIdToCaip)(r);if((0,a.isNativeAddress)(o))return(0,a.isNonEvmChainId)(r)?h.MULTICHAIN_TOKEN_IMAGE_MAP[c]:m.CHAIN_ID_TOKEN_IMAGE_MAP[(0,a.formatChainIdToHex)(r)];const u=t??n??s;if(u)return u;const d=i??(0,l.toAssetId)(o,c);return(d&&(0,l.getAssetImageUrl)(d,c))??""},g=e=>{if(!e)return null;const t=(0,a.formatChainIdToCaip)(e.chainId);return{...e,balance:e.balance??"0",string:e.string??"0",chainId:e.chainId,image:p(e),assetId:e.assetId??(0,l.toAssetId)(e.address,t)}};n.toBridgeToken=g;const f=(e,t)=>{const{assetId:n,...s}=e;return g({...s,chainId:t})};n.getDefaultToToken=(e,t)=>{const n=d.BRIDGE_CHAINID_COMMON_TOKEN_PAIR[e];if(n){var s;if((0,a.isNativeAddress)(t.address))return f(n,e);if((null===(s=t.address)||void 0===s?void 0:s.toLowerCase())===n.address.toLowerCase()){const t=(0,a.getNativeAssetForChainId)(e);if(t)return f(t,e)}return f(n,e)}const r=(0,a.getNativeAssetForChainId)(e);return r?f(r,e):null}}}},{package:"$root$",file:"ui/ducks/bridge/utils.ts"}],[7002,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.clearAlerts=function(e){return{type:"CLEAR_ALERTS",ownerId:e}},n.default=function(e=s,t){switch(t.type){case"UPDATE_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:t.alerts}};case"SET_ALERT_CONFIRMED":return{...e,confirmed:{...e.confirmed,[t.ownerId]:{...e.confirmed[t.ownerId],[t.alertKey]:t.isConfirmed}}};case"CLEAR_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:[]},confirmed:{...e.confirmed,[t.ownerId]:{}}};default:return e}},n.setAlertConfirmed=function(e,t,n){return{type:"SET_ALERT_CONFIRMED",ownerId:e,alertKey:t,isConfirmed:n}},n.updateAlerts=function(e,t){return{type:"UPDATE_ALERTS",alerts:t,ownerId:e}};const s={alerts:{},confirmed:{}}}}},{package:"$root$",file:"ui/ducks/confirm-alerts/confirm-alerts.ts"}],[7007,{"../../helpers/constants/routes":7028,"@reduxjs/toolkit":2980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setRedirectAfterDefaultPage=n.pageChanged=n.getRedirectAfterDefaultPage=n.getMostRecentOverviewPage=n.default=n.clearRedirectAfterDefaultPage=void 0;var s=e("@reduxjs/toolkit"),r=e("../../helpers/constants/routes");const a={mostRecentOverviewPage:r.DEFAULT_ROUTE,redirectAfterDefaultPage:null},o="history",i=(0,s.createSlice)({name:o,initialState:a,reducers:{pageChanged:(e,t)=>{const n=t.payload;var s;(n===r.DEFAULT_ROUTE||n.startsWith(r.ASSET_ROUTE))&&(e.mostRecentOverviewPage=n,n===r.DEFAULT_ROUTE&&null!==(s=e.redirectAfterDefaultPage)&&void 0!==s&&s.shouldRedirect&&(e.redirectAfterDefaultPage.shouldRedirect=!1))},setRedirectAfterDefaultPage:(e,t)=>{const{path:n,address:s}=t.payload;e.redirectAfterDefaultPage={path:n,shouldRedirect:!0,address:s}},clearRedirectAfterDefaultPage:e=>{e.redirectAfterDefaultPage=null}}}),{actions:c,reducer:u}=i;n.default=u;n.getMostRecentOverviewPage=e=>e[o].mostRecentOverviewPage;n.getRedirectAfterDefaultPage=e=>e[o].redirectAfterDefaultPage;const{pageChanged:l,setRedirectAfterDefaultPage:d,clearRedirectAfterDefaultPage:m}=c;n.clearRedirectAfterDefaultPage=m,n.setRedirectAfterDefaultPage=d,n.pageChanged=l}}},{package:"$root$",file:"ui/ducks/history/history.js"}],[7008,{"../../shared/constants/alerts":5779,"./alerts":6992,"./app/app":6995,"./bridge/bridge":6999,"./confirm-alerts/confirm-alerts":7002,"./confirm-transaction/confirm-transaction.duck":7003,"./domains":7004,"./gas/gas.duck":7006,"./history/history":7007,"./locale/locale":7009,"./metamask/metamask":7010,"./ramps/ramps":7013,"./send/send":7016,"./smart-accounts/smart-accounts":7018,"./swaps/swaps":7019,redux:5302},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("redux"),r=e("../../shared/constants/alerts"),a=v(e("./metamask/metamask")),o=v(e("./locale/locale")),i=v(e("./send/send")),c=v(e("./domains")),u=v(e("./app/app")),l=v(e("./confirm-transaction/confirm-transaction.duck")),d=v(e("./gas/gas.duck")),m=e("./alerts"),h=v(e("./swaps/swaps")),p=v(e("./bridge/bridge")),g=v(e("./history/history")),f=v(e("./ramps/ramps")),k=v(e("./confirm-alerts/confirm-alerts")),T=v(e("./smart-accounts/smart-accounts"));function v(e){return e&&e.__esModule?e:{default:e}}n.default=(0,s.combineReducers)({[r.AlertTypes.invalidCustomNetwork]:m.invalidCustomNetwork,[r.AlertTypes.unconnectedAccount]:m.unconnectedAccount,activeTab:e=>e===undefined?null:e,metamask:a.default,appState:u.default,DNS:c.default,history:g.default,send:i.default,confirmAlerts:k.default,confirmTransaction:l.default,swaps:h.default,ramps:f.default,bridge:p.default,gas:d.default,localeMessages:o.default,smartAccounts:T.default})}}},{package:"$root$",file:"ui/ducks/index.js"}],[7011,{"../../../shared/constants/network":5800},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultBuyableChains=void 0;var s=e("../../../shared/constants/network");n.defaultBuyableChains=[{active:!0,chainId:1,chainName:s.MAINNET_DISPLAY_NAME,shortName:"Ethereum",nativeTokenSupported:!0},{active:!0,chainId:10,chainName:s.OPTIMISM_DISPLAY_NAME,shortName:"Optimism",nativeTokenSupported:!0},{active:!0,chainId:25,chainName:"Cronos Mainnet",shortName:"Cronos",nativeTokenSupported:!0},{active:!0,chainId:56,chainName:s.BNB_DISPLAY_NAME,shortName:"BNB Chain",nativeTokenSupported:!0},{active:!0,chainId:100,chainName:"Gnosis Mainnet",shortName:"Gnosis",nativeTokenSupported:!0},{active:!0,chainId:137,chainName:s.POLYGON_DISPLAY_NAME,shortName:"Polygon",nativeTokenSupported:!0},{active:!0,chainId:250,chainName:"Fantom Mainnet",shortName:"Fantom",nativeTokenSupported:!0},{active:!0,chainId:324,chainName:s.ZK_SYNC_ERA_DISPLAY_NAME,shortName:"zkSync Era",nativeTokenSupported:!0},{active:!0,chainId:1101,chainName:"Polygon zkEVM",shortName:"Polygon zkEVM",nativeTokenSupported:!0},{active:!0,chainId:1284,chainName:"Moonbeam Mainnet",shortName:"Moonbeam",nativeTokenSupported:!0},{active:!0,chainId:1285,chainName:"Moonriver Mainnet",shortName:"Moonriver",nativeTokenSupported:!0},{active:!0,chainId:8453,chainName:s.BASE_DISPLAY_NAME,shortName:"Base",nativeTokenSupported:!0},{active:!0,chainId:42161,chainName:s.ARBITRUM_DISPLAY_NAME,shortName:"Arbitrum",nativeTokenSupported:!0},{active:!0,chainId:42220,chainName:s.CELO_DISPLAY_NAME,shortName:"Celo",nativeTokenSupported:!1},{active:!0,chainId:43114,chainName:s.AVALANCHE_DISPLAY_NAME,shortName:"Avalanche C-Chain",nativeTokenSupported:!0},{active:!0,chainId:59144,chainName:s.LINEA_MAINNET_DISPLAY_NAME,shortName:"Linea",nativeTokenSupported:!0},{active:!0,chainId:1313161554,chainName:"Aurora Mainnet",shortName:"Aurora",nativeTokenSupported:!1},{active:!0,chainId:16666e5,chainName:"Harmony Mainnet (Shard 0)",shortName:"Harmony (Shard 0)",nativeTokenSupported:!0},{active:!0,chainId:11297108109,chainName:"Palm Mainnet",shortName:"Palm",nativeTokenSupported:!1}]}}},{package:"$root$",file:"ui/ducks/ramps/constants.ts"}],[7012,{"./ramps":7013},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ramps");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/ducks/ramps/index.ts"}],[7013,{"../../../shared/constants/multichain/networks":5799,"../../../shared/modules/conversion.utils":5900,"../../../shared/modules/selectors/networks":5918,"../../helpers/ramps/rampApi/rampAPI":7047,"../../selectors":7947,"../../selectors/multichain":7956,"./constants":7011,"@reduxjs/toolkit":2980,reselect:5310},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsSolanaBuyable=n.getIsNativeTokenBuyable=n.getIsBitcoinBuyable=n.getBuyableChains=n.fetchBuyableChains=n.default=void 0;var s,r=e("reselect"),a=e("@reduxjs/toolkit"),o=e("../../../shared/modules/selectors/networks"),i=e("../../selectors"),c=(s=e("../../helpers/ramps/rampApi/rampAPI"))&&s.__esModule?s:{default:s},u=e("../../../shared/modules/conversion.utils"),l=e("../../selectors/multichain"),d=e("../../../shared/constants/multichain/networks"),m=e("./constants");const h=n.fetchBuyableChains=(0,a.createAsyncThunk)("ramps/fetchBuyableChains",async(e,{getState:t})=>{const n=t(),{isFetched:s}=n.ramps;return(0,i.getUseExternalServices)(n)?s?n.ramps.buyableChains:await c.default.getNetworks():m.defaultBuyableChains}),p=(0,a.createSlice)({name:"ramps",initialState:{buyableChains:m.defaultBuyableChains,isFetched:!1},reducers:{setBuyableChains:(e,t)=>{Array.isArray(t.payload)&&t.payload.length>0&&t.payload.every(e=>null==e?void 0:e.chainId)?(e.buyableChains=t.payload,e.isFetched=!0):e.buyableChains=m.defaultBuyableChains}},extraReducers:e=>{e.addCase(h.fulfilled,(e,t)=>{const n=t.payload;n&&n.length>0?e.buyableChains=n:e.buyableChains=m.defaultBuyableChains,e.isFetched=!0}).addCase(h.rejected,e=>{e.buyableChains=m.defaultBuyableChains,e.isFetched=!0})}}),{reducer:g}=p,f=e=>{var t;return(null===(t=e.ramps)||void 0===t?void 0:t.buyableChains)??m.defaultBuyableChains};n.getBuyableChains=f;const k=n.getIsBitcoinBuyable=(0,r.createSelector)([f],e=>e.filter(Boolean).some(e=>e.chainId===d.MultichainNetworks.BITCOIN&&e.active)),T=n.getIsSolanaBuyable=(0,r.createSelector)([f],e=>e.filter(Boolean).some(e=>e.chainId===d.MultichainNetworks.SOLANA&&e.active));n.getIsNativeTokenBuyable=(0,r.createSelector)([o.getCurrentChainId,f,k,l.getMultichainIsBitcoin,T,l.getMultichainIsSolana],(e,t,n,s,r,a)=>{try{return s?n:a?r:t.filter(Boolean).some(t=>String(t.chainId)===(0,u.hexToDecimal)(e))}catch(e){return!1}});n.default=g}}},{package:"$root$",file:"ui/ducks/ramps/ramps.ts"}],[7018,{"@reduxjs/toolkit":2980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setToggleState=n.selectToggleState=n.default=void 0;const s=(0,e("@reduxjs/toolkit").createSlice)({name:"smartAccounts",initialState:{toggleStates:{}},reducers:{setToggleState:(e,t)=>{const{address:n,chainId:s,value:r}=t.payload;e.toggleStates[n]||(e.toggleStates[n]={}),null===r?(delete e.toggleStates[n][s],0===Object.keys(e.toggleStates[n]).length&&delete e.toggleStates[n]):e.toggleStates[n][s]=r}}}),{setToggleState:r}=s.actions;n.setToggleState=r;n.selectToggleState=(e,t,n)=>{var s;return(null===(s=e.smartAccounts.toggleStates[t])||void 0===s?void 0:s[n])??null};n.default=s.reducer}}},{package:"$root$",file:"ui/ducks/smart-accounts/smart-accounts.ts"}],[7020,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=[{code:"aud",name:"Australian Dollar"},{code:"hkd",name:"Hong Kong Dollar"},{code:"sgd",name:"Singapore Dollar"},{code:"idr",name:"Indonesian Rupiah"},{code:"inr",name:"Indian Rupee"},{code:"nzd",name:"New Zealand Dollar"},{code:"php",name:"Philippine Peso"},{code:"btc",name:"Bitcoin"},{code:"cad",name:"Canadian Dollar"},{code:"eur",name:"Euro"},{code:"gbp",name:"Pound Sterling"},{code:"jpy",name:"Japanese Yen"},{code:"ltc",name:"Litecoin"},{code:"rub",name:"Russian Ruble"},{code:"uah",name:"Ukrainian Hryvnia"},{code:"usd",name:"United States Dollar"},{code:"xlm",name:"Stellar Lumen"},{code:"xrp",name:"Ripple"},{code:"sek",name:"Swedish Krona"},{code:"aed",name:"United Arab Emirates Dirham"},{code:"ars",name:"Argentine Peso"},{code:"bch",name:"Bitcoin Cash"},{code:"bnb",name:"Binance Coin"},{code:"brl",name:"Brazilian Real"},{code:"clp",name:"Chilean Peso"},{code:"cny",name:"Chinese Yuan"},{code:"czk",name:"Czech Koruna"},{code:"dkk",name:"Danish Krone"},{code:"chf",name:"Swiss Franc"},{code:"dot",name:"Polkadot"},{code:"eos",name:"EOS"},{code:"eth",name:"Ethereum"},{code:"gel",name:"Georgian Lari"},{code:"huf",name:"Hungarian Forint"},{code:"ils",name:"Israeli Shekel"},{code:"krw",name:"South Korean Won"},{code:"mxn",name:"Mexican Peso"},{code:"myr",name:"Malaysian Ringgit"},{code:"ngn",name:"Nigerian Naira"},{code:"nok",name:"Norwegian Krone"},{code:"pln",name:"Polish Zloty"},{code:"thb",name:"Thai Baht"},{code:"try",name:"Turkish Lira"},{code:"zar",name:"South African Rand"}]}}},{package:"$root$",file:"ui/helpers/constants/available-conversions.json"}],[7022,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.STATUS_NOT_CONNECTED=n.STATUS_CONNECTED_TO_SNAP=n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT=n.STATUS_CONNECTED=void 0;n.STATUS_CONNECTED="STATUS_CONNECTED",n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT="STATUS_CONNECTED_TO_ANOTHER_ACCOUNT",n.STATUS_NOT_CONNECTED="STATUS_NOT_CONNECTED",n.STATUS_CONNECTED_TO_SNAP="STATUS_CONNECTED_TO_SNAP"}}},{package:"$root$",file:"ui/helpers/constants/connected-sites.js"}],[7025,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIORITY_LEVEL_ICON_MAP=n.GAS_FORM_ERRORS=void 0,n.getGasFormErrorText=function(e,t,{minimumGasLimit:n}={}){switch(e){case s.GAS_LIMIT_OUT_OF_BOUNDS:return t("editGasLimitOutOfBounds",[n]);case s.MAX_PRIORITY_FEE_TOO_LOW:return t("editGasMaxPriorityFeeLow");case s.MAX_FEE_TOO_LOW:return t("editGasMaxFeeLow");case s.MAX_PRIORITY_FEE_BELOW_MINIMUM:return t("editGasMaxPriorityFeeBelowMinimum");case s.MAX_PRIORITY_FEE_HIGH_WARNING:return t("editGasMaxPriorityFeeHigh");case s.MAX_FEE_HIGH_WARNING:return t("editGasMaxFeeHigh");case s.MAX_FEE_IMBALANCE:return t("editGasMaxFeePriorityImbalance");case s.GAS_PRICE_TOO_LOW:return t("editGasPriceTooLow");default:return""}};const s=n.GAS_FORM_ERRORS={GAS_LIMIT_OUT_OF_BOUNDS:"editGasLimitOutOfBounds",MAX_PRIORITY_FEE_TOO_LOW:"editGasMaxPriorityFeeLow",MAX_FEE_TOO_LOW:"editGasMaxFeeLow",MAX_PRIORITY_FEE_BELOW_MINIMUM:"editGasMaxPriorityFeeBelowMinimum",MAX_PRIORITY_FEE_HIGH_WARNING:"editGasMaxPriorityFeeHigh",MAX_FEE_HIGH_WARNING:"editGasMaxFeeHigh",MAX_FEE_IMBALANCE:"editGasMaxFeeImbalance",GAS_PRICE_TOO_LOW:"editGasPriceTooLow"};n.PRIORITY_LEVEL_ICON_MAP={low:"ðŸ¢",medium:"ðŸ¦Š",high:"ðŸ¦",dappSuggested:"ðŸŒ",dappSuggestedHigh:"ðŸŒ",swapSuggested:"ðŸ”„",tenPercentIncreased:"â¬†",custom:"âš™ï¸"}}}},{package:"$root$",file:"ui/helpers/constants/gas.js"}],[7027,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIVACY_POLICY_DATE=void 0;n.PRIVACY_POLICY_DATE="2024-06-18T12:00:00Z"}}},{package:"$root$",file:"ui/helpers/constants/privacy-policy.ts"}],[7029,{"../../../shared/constants/app":5781,"../../../shared/modules/browser-runtime.utils":5897,"../../components/component-library":6469,"./routes":7028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("../../../shared/constants/app"),r=e("../../../shared/modules/browser-runtime.utils"),a=e("../../components/component-library"),o=e("./routes");const i=[{tabMessage:e=>e("general"),sectionMessage:e=>e("currencyConversion"),descriptionMessage:e=>e("currencyConversion"),route:`${o.GENERAL_ROUTE}#currency-conversion`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("showNativeTokenAsMainBalance"),descriptionMessage:e=>e("showNativeTokenAsMainBalance"),route:`${o.GENERAL_ROUTE}#show-native-token-as-main-balance`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("currentLanguage"),descriptionMessage:e=>e("currentLanguage"),route:`${o.GENERAL_ROUTE}#current-language`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("theme"),descriptionMessage:e=>e("themeDescription"),route:`${o.GENERAL_ROUTE}#theme`,icon:"fa fa-flask"},{tabMessage:e=>e("general"),sectionMessage:e=>e("accountIdenticon"),descriptionMessage:e=>e("accountIdenticon"),route:`${o.GENERAL_ROUTE}#account-identicon`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("hideZeroBalanceTokens"),descriptionMessage:e=>e("hideZeroBalanceTokens"),route:`${o.GENERAL_ROUTE}#zero-balancetokens`,iconName:a.IconName.Setting},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("stateLogs"),descriptionMessage:e=>e("stateLogsDescription"),route:`${o.ADVANCED_ROUTE}#state-logs`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("clearActivity"),descriptionMessage:e=>e("clearActivityDescription"),route:`${o.ADVANCED_ROUTE}#clear-activity`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("smartTransactions"),descriptionMessage:e=>e("stxOptInSupportedNetworksDescription"),route:`${o.ADVANCED_ROUTE}#smart-transactions`,icon:"fas fa-upload"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showHexData"),descriptionMessage:e=>e("showHexDataDescription"),route:`${o.ADVANCED_ROUTE}#show-hexdata`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showFiatConversionInTestnets"),descriptionMessage:e=>e("showFiatConversionInTestnetsDescription"),route:`${o.ADVANCED_ROUTE}#conversion-testnetworks`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showTestnetNetworks"),descriptionMessage:e=>e("showTestnetNetworksDescription"),route:`${o.ADVANCED_ROUTE}#show-testnets`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("autoLockTimeLimit"),descriptionMessage:e=>e("autoLockTimeLimitDescription"),route:`${o.ADVANCED_ROUTE}#autolock-timer`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showExtensionInFullSizeView"),descriptionMessage:e=>e("showExtensionInFullSizeViewDescription"),route:`${o.ADVANCED_ROUTE}#extension-full-size-view`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("dismissReminderField"),descriptionMessage:e=>e("dismissReminderDescriptionField"),route:`${o.ADVANCED_ROUTE}#dismiss-secretrecovery`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("exportYourData"),descriptionMessage:e=>e("exportYourDataDescription"),route:`${o.ADVANCED_ROUTE}#export-data`,icon:"fas fa-download"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("overrideContentSecurityPolicyHeader"),descriptionMessage:e=>e("overrideContentSecurityPolicyHeaderDescription"),route:`${o.ADVANCED_ROUTE}#override-content-security-policy-header`,icon:"fas fa-sliders-h",hidden:(0,r.getBrowserName)()!==s.PLATFORM_FIREFOX},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncEnable"),descriptionMessage:e=>e("backupAndSyncEnable"),route:`${o.BACKUPANDSYNC_ROUTE}#backup-and-sync-toggle`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncFeatureAccounts"),descriptionMessage:e=>e("backupAndSyncFeatureAccounts"),route:`${o.BACKUPANDSYNC_ROUTE}#backup-and-sync-features-toggles-account-syncing`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncFeatureContacts"),descriptionMessage:e=>e("backupAndSyncFeatureContacts"),route:`${o.BACKUPANDSYNC_ROUTE}#backup-and-sync-features-toggles-contact-syncing`,iconName:a.IconName.SecurityTime},{tabMessage:e=>e("contacts"),sectionMessage:e=>e("contacts"),descriptionMessage:e=>e("contacts"),route:o.CONTACT_LIST_ROUTE,iconName:a.IconName.Book},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("basicConfigurationLabel"),descriptionMessage:e=>e("basicConfigurationDescription"),route:`${o.SECURITY_ROUTE}#basic-functionality-toggle`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("revealSeedWords"),descriptionMessage:e=>e("revealSeedWords"),route:`${o.SECURITY_ROUTE}#reveal-secretrecovery`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityChangePassword"),descriptionMessage:e=>e("securityChangePassword"),route:o.SECURITY_PASSWORD_CHANGE_ROUTE,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("usePhishingDetection"),descriptionMessage:e=>e("usePhishingDetectionDescription"),route:`${o.SECURITY_ROUTE}#phishing-detection`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("skipDeepLinkInterstitial"),descriptionMessage:e=>e("skipDeepLinkInterstitialDescription"),route:`${o.SECURITY_ROUTE}#skip-deep-link-interstitial`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("use4ByteResolution"),descriptionMessage:e=>e("toggleDecodeDescription"),route:`${o.SECURITY_ROUTE}#decode-smart-contracts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("participateInMetaMetrics"),descriptionMessage:e=>e("participateInMetaMetricsDescription"),route:`${o.SECURITY_ROUTE}#metametrics`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("networkProvider"),descriptionMessage:e=>`${e("chooseYourNetwork")} ${e("chooseYourNetworkDescription")}`,route:`${o.SECURITY_ROUTE}#network-provider`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ipfsGateway"),descriptionMessage:e=>e("ipfsGatewayDescription"),route:`${o.SECURITY_ROUTE}#add-custom-ipfs-gateway`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("autoDetectTokens"),descriptionMessage:e=>e("autoDetectTokensDescription"),route:`${o.SECURITY_ROUTE}#auto-detect-tokens`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useMultiAccountBalanceChecker"),descriptionMessage:e=>e("useMultiAccountBalanceCheckerSettingDescription"),route:`${o.SECURITY_ROUTE}#batch-account-balance-requests`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("currencyRateCheckToggle"),descriptionMessage:e=>e("currencyRateCheckToggleDescription"),route:`${o.SECURITY_ROUTE}#price-checker`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ensDomainsSettingTitle"),descriptionMessage:e=>e("ensDomainsSettingDescriptionIntroduction"),route:`${o.SECURITY_ROUTE}#ens-domains`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("displayNftMedia"),descriptionMessage:e=>e("displayNftMediaDescription"),route:`${o.SECURITY_ROUTE}#display-nft-media`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useNftDetection"),descriptionMessage:e=>e("useNftDetectionDescriptionText"),route:`${o.SECURITY_ROUTE}#autodetect-nfts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useSafeChainsListValidation"),descriptionMessage:e=>e("useSafeChainsListValidationDescription"),route:`${o.SECURITY_ROUTE}#network-details-check`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("externalNameSourcesSetting"),descriptionMessage:e=>e("externalNameSourcesSettingDescription"),route:`${o.SECURITY_ROUTE}#proposed-nicknames`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityAlerts"),descriptionMessage:e=>e("securityAlertsDescription"),route:`${o.SECURITY_ROUTE}#security-alerts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("blockaid"),descriptionMessage:e=>e("blockaidMessage"),route:`${o.SECURITY_ROUTE}#security-alerts-blockaid`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("simulationsSettingSubHeader"),descriptionMessage:e=>e("simulationsSettingDescription"),route:`${o.SECURITY_ROUTE}#transaction-simulations`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("dataCollectionForMarketing"),descriptionMessage:e=>e("dataCollectionForMarketingDescription"),route:`${o.SECURITY_ROUTE}#dataCollectionForMarketing`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("deleteMetaMetricsData"),descriptionMessage:e=>e("deleteMetaMetricsDataDescription"),route:`${o.SECURITY_ROUTE}#delete-metametrics-data`,icon:"fa fa-lock"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("mainnet"),descriptionMessage:e=>e("mainnet"),route:`${o.NETWORKS_ROUTE}#networks-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaMainnet"),descriptionMessage:e=>e("lineaMainnet"),route:`${o.NETWORKS_ROUTE}#networks-linea-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("goerli"),descriptionMessage:e=>e("goerli"),route:`${o.NETWORKS_ROUTE}#networks-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("sepolia"),descriptionMessage:e=>e("sepolia"),route:`${o.NETWORKS_ROUTE}#networks-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaGoerli"),descriptionMessage:e=>e("lineaGoerli"),route:`${o.NETWORKS_ROUTE}#networks-linea-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaSepolia"),descriptionMessage:e=>e("lineaSepolia"),route:`${o.NETWORKS_ROUTE}#networks-linea-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("localhost"),descriptionMessage:e=>e("localhost"),route:`${o.NETWORKS_ROUTE}#networks-localhost`,icon:"fa fa-plug"},{tabMessage:e=>e("about"),sectionMessage:e=>e("metamaskVersion"),descriptionMessage:e=>e("builtAroundTheWorld"),route:`${o.ABOUT_US_ROUTE}#version`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("links"),descriptionMessage:e=>e("links"),route:`${o.ABOUT_US_ROUTE}#links`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("privacyMsg"),descriptionMessage:e=>e("privacyMsg"),route:`${o.ABOUT_US_ROUTE}#privacy-policy`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("terms"),descriptionMessage:e=>e("terms"),route:`${o.ABOUT_US_ROUTE}#terms`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("attributions"),descriptionMessage:e=>e("attributions"),route:`${o.ABOUT_US_ROUTE}#attributions`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("supportCenter"),descriptionMessage:e=>e("supportCenter"),route:`${o.ABOUT_US_ROUTE}#supportcenter`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("visitWebSite"),descriptionMessage:e=>e("visitWebSite"),route:`${o.ABOUT_US_ROUTE}#visitwebsite`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("contactUs"),descriptionMessage:e=>e("contactUs"),route:`${o.ABOUT_US_ROUTE}#contactus`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("betaTerms"),descriptionMessage:e=>e("betaTerms"),route:`${o.ABOUT_US_ROUTE}#beta-terms`,iconName:a.IconName.Info},{featureFlag:"METAMASK_SHIELD_ENABLED",tabMessage:e=>e("shieldTx"),sectionMessage:e=>e("shieldTx"),descriptionMessage:e=>e("shieldTx"),route:`${o.TRANSACTION_SHIELD_ROUTE}`,iconName:a.IconName.ShieldLock},{featureFlag:"METAMASK_SHIELD_ENABLED",tabMessage:e=>e("shieldClaim"),sectionMessage:e=>e("shieldClaim"),descriptionMessage:e=>e("shieldClaim"),route:`${o.TRANSACTION_SHIELD_CLAIM_ROUTE}`,iconName:a.IconName.ShieldLock},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("notificationsFeatureToggle"),descriptionMessage:e=>e("notificationsFeatureToggleDescription"),route:`${o.EXPERIMENTAL_ROUTE}#notifications`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("snaps"),descriptionMessage:e=>e("addSnapAccountToggle"),route:`${o.EXPERIMENTAL_ROUTE}#snaps`,icon:"fas fa-flask"},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Reset States",descriptionMessage:()=>"Reset States",route:`${o.DEVELOPER_OPTIONS_ROUTE}#reset-states`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Announcements",descriptionMessage:()=>"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.",route:`${o.DEVELOPER_OPTIONS_ROUTE}#reset-states-announcements`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Service Worker Keep Alive",descriptionMessage:()=>'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.',route:`${o.DEVELOPER_OPTIONS_ROUTE}#reset-states-onboarding`,iconName:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:()=>"Service Worker Keep Alive",descriptionMessage:()=>"Results in a timestamp being continuously saved to session.storage",route:`${o.DEVELOPER_OPTIONS_ROUTE}#service-worker-keep-alive`,iconName:a.IconName.CodeCircle}];n.default=i}}},{package:"$root$",file:"ui/helpers/constants/settings.js"}],[7030,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDelineatorTitle=n.DelineatorType=void 0;let s=n.DelineatorType=function(e){return e.Content="content",e.Error="error",e.Insights="insights",e.Description="description",e.Warning="warning",e}({});n.getDelineatorTitle=e=>{switch(e){case s.Error:return"errorWithSnap";case s.Insights:return"insightsFromSnap";case s.Description:return"descriptionFromSnap";case s.Warning:return"warningFromSnap";default:return"contentFromSnap"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/delineator.ts"}],[7031,{"./delineator":7030,"./insights":7032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./delineator");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))});var r=e("./insights");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))})}}},{package:"$root$",file:"ui/helpers/constants/snaps/index.js"}],[7032,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InsightWarningLanguage=void 0;n.InsightWarningLanguage={confirming:{noun:"transaction",imperative:"confirm"},signing:{noun:"signature",imperative:"sign"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/insights.ts"}],[7033,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SURVEY_START_TIME=n.SURVEY_START_HOUR=n.SURVEY_GMT=n.SURVEY_END_TIME=n.SURVEY_END_HOUR=n.SURVEY_DATE=void 0;n.SURVEY_DATE="February 28 2024";const s=n.SURVEY_GMT="GMT-0600",r=n.SURVEY_START_HOUR="12:00:00",a=n.SURVEY_END_HOUR="13:00:00";n.SURVEY_START_TIME=`${r} ${s}`,n.SURVEY_END_TIME=`${a} ${s}`}}},{package:"$root$",file:"ui/helpers/constants/survey.ts"}],[7036,{"../../constants/routes":7028,react:5258,"react-redux":5202,"react-router-dom":5226,"react-router-dom-v5-compat":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("react-redux"),o=e("react-router-dom-v5-compat"),i=e("react-router-dom"),c=e("../../constants/routes");n.default=({children:e})=>{const t=(0,i.useLocation)(),n=(0,a.useSelector)(e=>e.metamask.isUnlocked);return(0,a.useSelector)(e=>e.metamask.completedOnboarding)?n?r.default.createElement(r.default.Fragment,null,e):r.default.createElement(o.Navigate,{to:c.UNLOCK_ROUTE,replace:!0,state:{from:t}}):r.default.createElement(o.Navigate,{to:c.ONBOARDING_ROUTE,replace:!0})}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated-v5-compat.tsx"}],[7037,{"../../constants/routes":7028,"prop-types":5074,react:5258,"react-router-dom":5226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var s=i(e("react")),r=i(e("prop-types")),a=e("react-router-dom"),o=e("../../constants/routes");function i(e){return e&&e.__esModule?e:{default:e}}const c={pathname:o.ONBOARDING_ROUTE};function u(e){const{isUnlocked:t,completedOnboarding:n}=e,r=(0,a.useLocation)();switch(!0){case t&&n:return s.default.createElement(a.Route,e);case!n:return s.default.createElement(a.Redirect,{to:c});default:return s.default.createElement(a.Redirect,{to:{pathname:o.UNLOCK_ROUTE,state:{from:r}}})}}u.propTypes={isUnlocked:r.default.bool,completedOnboarding:r.default.bool,path:r.default.string,component:r.default.elementType,exact:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.component.js"}],[7038,{"./authenticated.component":7037,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=(s=e("./authenticated.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{const{metamask:{isUnlocked:t,completedOnboarding:n}}=e;return{isUnlocked:t,completedOnboarding:n}})(a.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.container.js"}],[7039,{"./authenticated.container":7038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./authenticated.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/index.js"}],[7040,{"prop-types":5074,react:5258,"react-router-dom":5226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=(s=e("prop-types"))&&s.__esModule?s:{default:s},o=e("react-router-dom");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function c({flag:e,redirectRoute:t,...n}){const s=(0,r.useMemo)(()=>({pathname:t}),[t]);return e?r.default.createElement(o.Route,n):r.default.createElement(o.Redirect,{to:s})}c.propTypes={flag:a.default.bool.isRequired,redirectRoute:a.default.string.isRequired}}}},{package:"$root$",file:"ui/helpers/higher-order-components/feature-toggled-route.js"}],[7041,{"./initialized.container":7043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./initialized.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/index.js"}],[7042,{"../../constants/routes":7028,"prop-types":5074,react:5258,"react-router-dom":5226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var s=o(e("react")),r=o(e("prop-types")),a=e("react-router-dom");function o(e){return e&&e.__esModule?e:{default:e}}const i={pathname:e("../../constants/routes").ONBOARDING_ROUTE};function c(e){return e.completedOnboarding?s.default.createElement(a.Route,e):s.default.createElement(a.Redirect,{to:i})}c.propTypes={completedOnboarding:r.default.bool,path:r.default.string,component:r.default.object,exact:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.component.js"}],[7043,{"./initialized.component":7042,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=(s=e("./initialized.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)(e=>{const{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}})(a.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.container.js"}],[7044,{"./with-modal-props":7045},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./with-modal-props"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/index.js"}],[7045,{"../../../store/actions":7975,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,s.connect)(a,o)(e)};var s=e("react-redux"),r=e("../../../store/actions");const a=e=>{const{appState:t}=e,{props:n}=t.modal.modalState;return{...n}},o=e=>({hideModal:()=>e((0,r.hideModal)())})}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/with-modal-props.js"}],[7046,{react:5258,"react-router-dom-v5-compat":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},a=e("react-router-dom-v5-compat");function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(null,arguments)}n.default=function(e){const t=t=>{const n=(0,a.useNavigate)(),s=(0,a.useLocation)(),i=(0,a.useParams)();return r.default.createElement(e,o({},t,{navigate:n,location:s,params:i}))};return t.displayName=`withRouterHooks(${e.displayName||e.name||"Component"})`,t}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-router-hooks/with-router-hooks.tsx"}],[7047,{"../../../../shared/modules/fetch-with-timeout":5904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var s;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r=(0,((s=e("../../../../shared/modules/fetch-with-timeout"))&&s.__esModule?s:{default:s}).default)(),a={async getNetworks(){const e=new URL("/regions/networks","https://on-ramp-content.api.cx.metamask.io"),t=await r(e.toString()),{networks:n}=await t.json();return n}};n.default=a}}},{package:"$root$",file:"ui/helpers/ramps/rampApi/rampAPI.ts"}],[7048,{"../../../shared/constants/hardware-wallets":5790,"../../../shared/constants/keyring":5792,"../../../shared/constants/multichain/accounts":5797,"../../../shared/constants/network":5800,"../../../shared/lib/snaps/snaps":5883,"../../../shared/lib/translate":5893,"../../components/component-library":6469,"../constants/design-system":7023,"@metamask/snaps-sdk/jsx":2755,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountLabels=function(e,t,n,a){if(!t)return[];const o=[],i=n.filter(e=>e.type===c.KeyringType.hdKeyTree);switch(e){case c.KeyringType.hdKeyTree:if(i.length>1){const e=i.findIndex(e=>e.accounts.includes(t.address));o.push({label:h(e),icon:null})}break;case c.KeyringType.imported:o.push({label:(0,l.t)("imported"),icon:null});break;case c.KeyringType.qr:o.push({label:u.HardwareKeyringNames.qr,icon:null});break;case c.KeyringType.trezor:o.push({label:u.HardwareKeyringNames.trezor,icon:null});break;case c.KeyringType.ledger:o.push({label:u.HardwareKeyringNames.ledger,icon:null});break;case c.KeyringType.oneKey:o.push({label:u.HardwareKeyringNames.oneKey,icon:null});break;case c.KeyringType.lattice:o.push({label:u.HardwareKeyringNames.lattice,icon:null});break;case c.KeyringType.snap:{const{entropySource:e}=t.options;if(e&&i.length>1){const t=i.findIndex(t=>t.metadata.id===e);o.push({label:h(t),icon:null})}if((0,d.isSnapPreinstalled)(t.metadata.snap.id))break;if(a){o.push({label:`${a} (${(0,l.t)("beta")})`,icon:s.IconName.Snaps});break}o.push({label:`${(0,l.t)("snaps")} (${(0,l.t)("beta")})`,icon:s.IconName.Snaps});break}}const{namespace:p}=(0,r.parseCaipChainId)(t.type);p===r.KnownCaipNamespace.Bip122&&o.push({label:`${m.MULTICHAIN_ACCOUNT_TYPE_TO_NAME[t.type]}`,icon:null});return o},n.getAccountNameErrorMessage=function(e,t,n,s){const r=e.some(e=>{var t;return(null===(t=e.metadata)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.toLowerCase())===(null==n?void 0:n.toLowerCase())}),o=!n||""===n,i=t.t("newAccountNumberName").replace(" $1",""),c=new RegExp(`^\\s*${i} \\d+\\s*$`,"iu").test(n||""),u=(null==n?void 0:n.toLowerCase())===(null==s?void 0:s.toLowerCase())||!r&&!c&&!o;let l;u?l=a.InvisibleCharacter:r?l=t.t("accountNameDuplicate"):c?l=t.t("accountNameReserved"):o&&(l=t.t("required"));return{isValidAccountName:u,errorMessage:l}},n.getAvatarNetworkColor=function(e){switch(e){case o.GOERLI_DISPLAY_NAME:return i.BackgroundColor.goerli;case o.LINEA_GOERLI_DISPLAY_NAME:return i.BackgroundColor.lineaGoerli;case o.LINEA_SEPOLIA_DISPLAY_NAME:return i.BackgroundColor.lineaSepolia;case o.SEPOLIA_DISPLAY_NAME:return i.BackgroundColor.sepolia;default:return undefined}};var s=e("@metamask/snaps-sdk/jsx"),r=e("@metamask/utils"),a=e("../../components/component-library"),o=e("../../../shared/constants/network"),i=e("../constants/design-system"),c=e("../../../shared/constants/keyring"),u=e("../../../shared/constants/hardware-wallets"),l=e("../../../shared/lib/translate"),d=e("../../../shared/lib/snaps/snaps"),m=e("../../../shared/constants/multichain/accounts");const h=e=>`SRP #${e+1}`}}},{package:"$root$",file:"ui/helpers/utils/accounts.js"}],[7050,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.camelCaseToCapitalize=function(e=""){return e.replace(/([A-Z])/gu," $1").replace(/^./u,e=>e.toUpperCase())},n.getCurrencySymbol=function(e){const t={EUR:"â‚¬",HKD:"$",JPY:"Â¥",PHP:"â‚±",RUB:"â‚½",SGD:"$",USD:"$"};if(t[e.toUpperCase()])return t[e.toUpperCase()];return e.toUpperCase()}}}},{package:"$root$",file:"ui/helpers/utils/common.util.js"}],[7052,{"../../../shared/constants/background-liveness-check":5782,"../../../shared/constants/start-up-errors":5812,"../../../shared/constants/state-corruption":5813,"./display-critical-error":7053,"./state-corruption-html":7075,"@metamask/utils":2908,loglevel:4824},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalStartupErrorHandler=void 0;var s,r=e("@metamask/utils"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../../shared/constants/state-corruption"),i=e("../../../shared/constants/background-liveness-check"),c=e("../../../shared/constants/start-up-errors"),u=e("./state-corruption-html"),l=e("./display-critical-error");function d(e,t,n){m(e,t),t.set(e,n)}function m(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t){return e.get(g(e,t))}function p(e,t,n){return e.set(g(e,t),n),n}function g(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var f=new WeakMap,k=new WeakMap,T=new WeakMap,v=new WeakMap,y=new WeakSet,S=new WeakMap;async function b(){const{promise:e,resolve:t}=(0,r.createDeferredPromise)();p(v,this,t);const n=new Promise((e,t)=>{p(T,this,setTimeout(()=>t(new Error("Background connection unresponsive")),1e4))});try{await Promise.race([e,n])}catch(e){await(0,l.displayCriticalError)(h(k,this),l.CriticalErrorTranslationKey.TroubleStarting,e)}finally{clearTimeout(h(T,this))}}n.CriticalStartupErrorHandler=class{constructor(e,t){!function(e,t){m(e,t),t.add(e)}(this,y),d(this,f,void 0),d(this,k,void 0),d(this,T,void 0),d(this,v,void 0),d(this,S,async e=>{if(!(0,r.isObject)(e)||!(0,r.hasProperty)(e,"data"))return;const{data:t}=e;if(!(0,r.isObject)(t)||!(0,r.hasProperty)(t,"method"))return;const{method:n}=t;if(n===i.BACKGROUND_LIVENESS_METHOD)h(v,this)?h(v,this).call(this):await(0,l.displayCriticalError)(h(k,this),l.CriticalErrorTranslationKey.TroubleStarting,new Error("Unreachable error, liveness check not initialized"));else if(n===c.RELOAD_WINDOW)window.location.reload();else if(n===o.METHOD_DISPLAY_STATE_CORRUPTION_ERROR){if(!(0,r.hasProperty)(t,"params")||!(0,r.isObject)(t.params))return void a.default.error("Received state corruption error message without valid params:",e);const{error:n,hasBackup:s,currentLocale:o}=t.params;(0,u.displayStateCorruptionError)(h(k,this),h(f,this),n,s,o)}else if(n===c.DISPLAY_GENERAL_STARTUP_ERROR){if(!(0,r.hasProperty)(t,"params")||!(0,r.isObject)(t.params))return void a.default.error("Received general start up error message without valid params:",e);const{error:n,currentLocale:s}=t.params;await(0,l.displayCriticalError)(h(k,this),l.CriticalErrorTranslationKey.TroubleStarting,n,s)}}),p(f,this,e),p(k,this,t)}install(){h(f,this).onMessage.addListener(h(S,this)),g(y,this,b).call(this)}uninstall(){h(f,this).onMessage.removeListener(h(S,this)),clearTimeout(h(T,this)),h(v,this)&&(h(v,this).call(this),p(v,this,undefined))}}}}},{package:"$root$",file:"ui/helpers/utils/critical-startup-error-handler.ts"}],[7053,{"../../../shared/lib/error-utils":5866,"../../../shared/lib/ui-utils":5894,loglevel:4824,uuid:5732,"webextension-polyfill":5764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalErrorTranslationKey=void 0,n.displayCriticalError=async function(e,t,n,c){const l=await(0,o.maybeGetLocaleContext)(c);e.innerHTML=(0,o.getErrorHtml)(t,n,l,i.SUPPORT_LINK);const d=e.querySelector("#critical-error-button"),m=e.querySelector("#critical-error-checkbox");throw null==d||d.addEventListener("click",async()=>{const e=(null==m?void 0:m.checked)??!1;await async function(e,t){t&&await async function(e){const t=function(){0;return"https://3567c198f8a8412082d32655da2961d0@sentry.io/273505"}();if(!t)return;try{var n,r;const o=(0,a.v4)().replace(/-/gu,""),i={event_id:o,timestamp:Math.floor(Date.now()/1e3),platform:"javascript",level:"error",message:(null==e?void 0:e.message)||"MetaMask extension crash critical error",release:(null===(n=s.default.runtime.getManifest())||void 0===n?void 0:n.version)||"unknown",extra:{error_details:e&&"object"==typeof e?e:{message:String(e)},user_agent:(null===(r=globalThis.navigator)||void 0===r?void 0:r.userAgent)||"unknown"}},c={event_id:o,dsn:t,sent_at:(new Date).toISOString()},l=JSON.stringify(i),d={type:"event",length:l.length},m=`${JSON.stringify(c)}\n${JSON.stringify(d)}\n${l}`,h=u(t);await fetch(h,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:m})}catch(e){console.error("Error sending report to Sentry:",e)}}(e);s.default.runtime.reload()}(n,e)}),r.default.error(n.stack),n},n.extractEnvelopeUrlFromDsn=u;var s=c(e("webextension-polyfill")),r=c(e("loglevel")),a=e("uuid"),o=e("../../../shared/lib/error-utils"),i=e("../../../shared/lib/ui-utils");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){try{const t=new URL(e),n=t.pathname.slice(1),s=t.hostname.split("."),r=s[0];return`https://${r}.${s.slice(1).join(".")}/api/${n}/envelope/`}catch(e){throw new Error("Invalid Sentry DSN format")}}n.CriticalErrorTranslationKey=function(e){return e.TroubleStarting="troubleStarting",e.SomethingIsWrong="somethingIsWrong",e}({})}}},{package:"$root$",file:"ui/helpers/utils/display-critical-error.ts"}],[7054,{buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.ExportableContentType=void 0,n.exportAsFile=async function(t,n,r){if(!s[r])throw new Error(`Unsupported file type: ${r}`);"undefined"!=typeof window&&void 0!==window.showSaveFilePicker&&void 0!==window.Blob?await async function(e,t,n){const r=new window.Blob([t],{contentType:n}),a=s[n],o=await window.showSaveFilePicker({suggestedName:e,types:[{description:e,accept:{[n]:[a]}}]}),i=await o.createWritable();await i.write(r),await i.close()}(t,n,r):function(t,n,s){const r=e.from(n,"utf8").toString("base64"),a=document.createElement("a");a.href=`data:${s};Base64,${r}`,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}(t,n,r)};const t=n.ExportableContentType={JSON:"application/json",TXT:"text/plain"},s={[t.JSON]:".json",[t.TXT]:".txt"}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/helpers/utils/export-utils.js"}],[7056,{"../../../shared/constants/gas":5789,"../../../shared/modules/Numeric":5895,"../../../shared/modules/conversion.utils":5900,"./util":7082,"bignumber.js":3949,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addTenPercentAndRound=d,n.editGasModeIsSpeedUpOrCancel=function(e){return e===o.EditGasModes.cancel||e===o.EditGasModes.speedUp},n.formatGasFeeOrFeeRange=function(e,{precision:t=2}={}){if((0,u.isNullish)(e)||Array.isArray(e)&&0===e.length)return null;const n=Array.isArray(e)?e.slice(0,2):[e],s=Array.isArray(t)?t.slice(0,2):(0,r.times)(n.length,(0,r.constant)(t));return`${(0,r.uniq)((0,r.zip)(n,s).map(([e,t])=>t===undefined?e:(0,u.roundToDecimalPlacesRemovingExtraZeroes)(e,t))).join(" - ")} GWEI`},n.gasEstimateGreaterThanGasUsedPlusTenPercent=void 0,n.isMetamaskSuggestedGasEstimate=function(e){return[o.GasRecommendations.high,o.GasRecommendations.medium,o.GasRecommendations.low].includes(e)};var s,r=e("lodash"),a=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},o=e("../../../shared/constants/gas"),i=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("./util");const l=new c.Numeric(1.1,10);function d(e){return e===undefined?undefined:new c.Numeric(e,16).times(l).round(0).toPrefixedHexString()}n.gasEstimateGreaterThanGasUsedPlusTenPercent=(e,t,n)=>{var s;let{maxFeePerGas:r}=e;r=new a.default((0,i.hexWEIToDecGWEI)(d(r)));const o=null==t||null===(s=t[n])||void 0===s?void 0:s.suggestedMaxFeePerGas;return(0,u.bnGreaterThan)(o,r)}}}},{package:"$root$",file:"ui/helpers/utils/gas.js"}],[7057,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHardwareKeyring=function(e=""){return e.includes("Hardware")}}}},{package:"$root$",file:"ui/helpers/utils/hardware.js"}],[7059,{"../../../shared/modules/hexstring-utils":5906},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.IconFactory=void 0,n.default=function(e){o||(o=new a(e));return o};var s=e("../../../shared/modules/hexstring-utils");function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t=i){r(this,"jazzicon",void 0),r(this,"generateSeed",void 0),r(this,"cache",void 0),this.jazzicon=e,this.generateSeed=t,this.cache={}}iconForAddress(e,t,n){return function(e,t){if(null==t||!t.iconUrl)return!1;return(0,s.isValidHexAddress)(e,{allowNonPrefixed:!1})}(e,n)?function(e){const t=document.createElement("img");return t.src=e.iconUrl,t.style.width="100%",t}(n):this.generateIdenticonSvg(e,t)}generateIdenticonSvg(e,t){const n=`${e}:${t}`;return(this.cache[n]||(this.cache[n]=this.generateNewIdenticon(e,t))).cloneNode(!0)}generateNewIdenticon(e,t){const n=this.generateSeed(e);return this.jazzicon(t,n)}}let o;function i(e){const t=e.slice(2,10);return parseInt(t,16)}n.IconFactory=a}}},{package:"$root$",file:"ui/helpers/utils/icon-factory.ts"}],[7060,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=()=>window.matchMedia("screen and (max-width: 575px)").matches}}},{package:"$root$",file:"ui/helpers/utils/is-mobile-view.js"}],[7061,{"../../../shared/constants/network":5800,"../../../shared/constants/time":5817,"../../../shared/lib/fetch-with-cache":5867},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOriginalNativeTokenSymbol=n.getOriginalNativeTokenSymbol=void 0;var s,r=e("../../../shared/constants/network"),a=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},o=e("../../../shared/constants/time");const i=async({chainId:e,useAPICall:t=!1})=>{try{var n;const s=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(s)return s;const i=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(null!=i&&i[0].currencySymbol)return i[0].currencySymbol;if(!t)return null;const c=(await(0,a.default)({url:r.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:o.DAY},functionName:"getSafeChainsList"})).find(t=>t.chainId===parseInt(e,16));return(null==c||null===(n=c.nativeCurrency)||void 0===n?void 0:n.symbol)??null}catch(e){return null}};n.getOriginalNativeTokenSymbol=i;n.isOriginalNativeTokenSymbol=async({ticker:e,chainId:t,useAPICall:n=!1})=>{const s=await i({chainId:t,useAPICall:n});return null===s||s===e}}}},{package:"$root$",file:"ui/helpers/utils/isOriginalNativeTokenSymbol.ts"}],[7063,{"../../../shared/lib/manifestFlags":5871,"../../../shared/lib/trace":5888,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mmLazy=function(e){return a.default.lazy(async()=>{const t=Date.now(),n=await e(),{componentName:s,component:r}=function(e){let t;if(!e.default){const n=Object.keys(e);if(1===n.length)return t=n[0],{componentName:t,component:{default:e[t]}};throw new Error("mmLazy: You cannot lazy-load a component when there are multiple exported components in one file")}t=e.default.WrappedComponent?e.default.WrappedComponent.name:e.default.name||e.default.displayName;return{componentName:t,component:e}}(n);return c&&Math.random()<c&&((0,i.trace)({name:i.TraceName.LazyLoadComponent,data:{componentName:s},startTime:t}),(0,i.endTrace)({name:i.TraceName.LazyLoadComponent})),r})};var s,r,a=(s=e("react"))&&s.__esModule?s:{default:s},o=e("../../../shared/lib/manifestFlags"),i=e("../../../shared/lib/trace");const c=null===(r=(0,o.getManifestFlags)().sentry)||void 0===r?void 0:r.lazyLoadSubSampleRate}}},{package:"$root$",file:"ui/helpers/utils/mm-lazy.ts"}],[7064,{"../../../../app/scripts/lib/multichain/address":262,"../../../../shared/lib/multichain/networks":5876,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMultichainBlockExplorerUrl=n.getMultichainAccountUrl=void 0;var s=e("@metamask/utils"),r=e("../../../../app/scripts/lib/multichain/address"),a=e("../../../../shared/lib/multichain/networks");n.getMultichainBlockExplorerUrl=e=>{var t;return(null===(t=e.network)||void 0===t||null===(t=t.rpcPrefs)||void 0===t?void 0:t.blockExplorerUrl)??""};n.getMultichainAccountUrl=(e,t)=>{const{namespace:n}=(0,s.parseCaipChainId)(t.chainId);if(n===s.KnownCaipNamespace.Eip155){return`https://etherscan.io/address/${(0,r.normalizeSafeAddress)(e)}#asset-multichain`}const{blockExplorerFormatUrls:o}=t.network;return o?(0,a.formatBlockExplorerAddressUrl)(o,e):""}}}},{package:"$root$",file:"ui/helpers/utils/multichain/blockExplorer.ts"}],[7065,{"../../../../shared/constants/common":5784,"../../../../shared/constants/multichain/networks":5799,"../../../../shared/lib/multichain/networks":5876,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBlockExplorerInfo=void 0;var s=e("@metamask/utils"),r=e("../../../../shared/constants/common"),a=e("../../../../shared/constants/multichain/networks"),o=e("../../../../shared/lib/multichain/networks");n.getBlockExplorerInfo=(e,t,n)=>{const{chainId:i,blockExplorerUrl:c}=n;if(i){if(i===a.MultichainNetworks.BITCOIN||i===a.MultichainNetworks.BITCOIN_TESTNET||i===a.MultichainNetworks.BITCOIN_SIGNET){const n=a.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[i];if(n){const s="Blockstream";return{addressUrl:(0,o.formatBlockExplorerAddressUrl)(n,t),name:s,buttonText:e("viewAddressOnExplorer",[s])}}}if(i===a.MultichainNetworks.SOLANA||i===a.MultichainNetworks.SOLANA_DEVNET||i===a.MultichainNetworks.SOLANA_TESTNET){const n=a.MULTICHAIN_NETWORK_BLOCK_EXPLORER_FORMAT_URLS_MAP[i];if(n){const s="Solscan";return{addressUrl:(0,o.formatBlockExplorerAddressUrl)(n,t),name:s,buttonText:e("viewAddressOnExplorer",[s])}}}}if(null!=i&&i.startsWith(s.KnownCaipNamespace.Eip155)){const n=`0x${parseInt(i.split(":")[1],10).toString(16)}`;if(c){const s=r.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[n]||"Block Explorer";return{addressUrl:`${c}/address/${t}`,name:s,buttonText:e("viewAddressOnExplorer",[s])}}const s=r.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[n];if(s){var u;const a=null===(u=r.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[n])||void 0===u?void 0:u.replace(/\/$/u,"");if(a)return{addressUrl:`${a}/address/${t}`,name:s,buttonText:e("viewAddressOnExplorer",[s])}}}return null}}}},{package:"$root$",file:"ui/helpers/utils/multichain/getBlockExplorerInfo.ts"}],[7066,{"../../../shared/constants/network":5800,"../../../shared/modules/network.utils":5910,"@metamask/multichain-network-controller":2161,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isTestNetwork=n.getMatchedSymbols=n.getMatchedNames=n.getMatchedChain=void 0;var s=e("@metamask/multichain-network-controller"),r=e("@metamask/utils"),a=e("../../../shared/constants/network"),o=e("../../../shared/modules/network.utils");n.getMatchedChain=(e,t)=>t.find(t=>t.chainId.toString()===e);n.getMatchedSymbols=(e,t)=>t.reduce((t,n)=>{var s;n.chainId.toString()===e&&t.push(null===(s=n.nativeCurrency)||void 0===s?void 0:s.symbol);return t},[]);n.getMatchedNames=(e,t)=>t.reduce((t,n)=>(n.chainId.toString()===e&&t.push(null==n?void 0:n.name),t),[]);n.isTestNetwork=e=>(0,r.isCaipChainId)(e)?e.startsWith("eip155:")?a.TEST_CHAINS.includes((0,o.convertCaipToHexChainId)(e)):s.NON_EVM_TESTNET_IDS.includes(e):a.TEST_CHAINS.includes(e)}}},{package:"$root$",file:"ui/helpers/utils/network-helper.ts"}],[7067,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.nftTruncateAltText=n.getNftImageAlt=n.getNftImage=void 0;const s=(e,t)=>{if(e.length<=t)return e;const n=e.substring(0,t),s=n.lastIndexOf(" ");return s>0?`${n.substring(0,s)}...`:`${n}...`};n.nftTruncateAltText=s;n.getNftImageAlt=({name:e,tokenId:t,description:n})=>{if(!e&&!t&&!n)return"";const r=n??`${e??""} ${t??""}`.trim();return s(r,100)};n.getNftImage=e=>"string"==typeof e?e:Array.isArray(e)?e[0]:undefined}}},{package:"$root$",file:"ui/helpers/utils/nfts.ts"}],[7068,{"../../../shared/constants/network":5800,"../../../shared/lib/transactions-controller-utils":5890,"../../../shared/modules/conversion.utils":5900,"@ethersproject/providers":735,"@metamask/notification-services-controller/notification-services/ui":2271,"bignumber.js":3949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatAmount=n.createTextItems=void 0,n.formatIsoDateString=function(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},n.formatMenuItemDate=function(e){const t=new Date;if(u(t,e))return new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric",hour12:!1}).format(e);if(l(t,e))return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(-1,"day");if(d(t,e))return new Intl.DateTimeFormat("en",{month:"short",day:"numeric"}).format(e);return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}).format(e)},n.getLeadingZeroCount=n.getAmount=void 0,n.getNetworkDetailsByChainId=function(e){const t=e.toString(),n=`0x${(0,c.decimalToHex)(e)}`;if(Object.values(a.NOTIFICATION_CHAINS_ID).includes(t)){const e=t;return{nativeCurrencyName:a.NOTIFICATION_NETWORK_CURRENCY_NAME[e]??"",nativeCurrencySymbol:a.NOTIFICATION_NETWORK_CURRENCY_SYMBOL[e]??"",nativeCurrencyLogo:o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[n],blockExplorerConfig:a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[e]}}return{nativeCurrencyName:o.NETWORK_TO_NAME_MAP[n]??"",nativeCurrencySymbol:o.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]??"",nativeCurrencyLogo:o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[n],blockExplorerConfig:a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[t]}},n.getRandomKey=n.getNetworkNameByChainId=n.getNetworkFees=void 0,n.getRpcUrlByChainId=g,n.getUsdAmount=void 0,n.hasNetworkFeeFields=f,n.isIpfsURL=void 0;var s=e("bignumber.js"),r=e("@ethersproject/providers"),a=e("@metamask/notification-services-controller/notification-services/ui"),o=e("../../../shared/constants/network"),i=e("../../../shared/lib/transactions-controller-utils"),c=e("../../../shared/modules/conversion.utils");const u=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),l=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()-1),u(n,t)},d=(e,t)=>e.getFullYear()===t.getFullYear();const m={decimalPlaces:4},h=e=>{var t;return(null===(t=(new s.BigNumber(e,10).toString(10).split(".")[1]??"").match(/^0*/u))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.length)||0};n.getLeadingZeroCount=h;const p=(e,t)=>{const n={...m,...t},s=h(e),r=e.toString().includes(".")||s>0||e.toString().includes("e-");if(e>999)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:2}).format(e);if(r){const t=(a=n.decimalPlaces,Boolean(null==n?void 0:n.shouldEllipse)&&s>=a),r=Intl.NumberFormat("en-US",{minimumFractionDigits:t?n.decimalPlaces:undefined,maximumFractionDigits:n.decimalPlaces}).format(e);return t?`${r}...`:r}var a;return e.toString()};n.formatAmount=p;n.getRandomKey=(e,t)=>`${e.replace(/\s+/gu,"_").replace(/[^\w-]/gu,"")}-${t}-${Math.random().toString(36).substring(2,15)}`;n.createTextItems=(e,t)=>({items:e.map((e,t)=>({text:e,highlighted:t%2==1})),variant:t});n.getAmount=(e,t,n)=>{if(!e||!t)return"";const s=(0,i.calcTokenAmount)(e,parseFloat(t)).toNumber();return p(s,n)};n.getUsdAmount=(e,t,n)=>{if(!e||!t||!n)return"";const s=(0,i.calcTokenAmount)(e,parseFloat(t)).toNumber(),r=parseFloat(`${s}`)*parseFloat(n);return p(r)};function g(e){const t=o.FEATURED_RPCS.find(t=>t.chainId===e);if(t)return t.rpcEndpoints[0].url;switch(e){case o.CHAIN_IDS.MAINNET:return o.MAINNET_RPC_URL;case o.CHAIN_IDS.GOERLI:return o.GOERLI_RPC_URL;case o.CHAIN_IDS.SEPOLIA:return o.SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_GOERLI:return o.LINEA_GOERLI_RPC_URL;case o.CHAIN_IDS.LINEA_SEPOLIA:return o.LINEA_SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_MAINNET:return o.LINEA_MAINNET_RPC_URL;case o.CHAIN_IDS.LOCALHOST:return o.LOCALHOST_RPC_URL;default:return o.MAINNET_RPC_URL}}function f(e){return"network_fee"in e.data}n.getNetworkNameByChainId=e=>o.NETWORK_TO_NAME_MAP[e];n.getNetworkFees=async e=>{if(!f(e))throw new Error("Invalid notification type");const t=(0,c.decimalToHex)(e.chain_id),n={url:g(`0x${t}`),headers:{"Infura-Source":"metamask/metamask"}},s=new r.JsonRpcProvider(n);if(!s)throw new Error(`No provider found for chainId ${t}`);try{const[t,n,r]=await Promise.all([s.getTransactionReceipt(e.tx_hash),s.getTransaction(e.tx_hash),s.getBlock(e.block_number)]),a=(t,n)=>p(parseFloat(t)*parseFloat(e.data.network_fee.native_token_price_in_usd),{decimalPlaces:n||4}),o=(0,c.hexWEIToDecETH)(t.gasUsed.mul(t.effectiveGasPrice)._hex),i=a(o),u=n.gasLimit.toNumber(),l=t.gasUsed.toNumber(),d=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(r.baseFeePerGas._hex):null,m=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(t.effectiveGasPrice.sub(r.baseFeePerGas)._hex):null;return{transactionFeeInEth:o,transactionFeeInUsd:i,gasLimit:u,gasUsed:l,baseFee:d,priorityFee:m,maxFeePerGas:n.maxFeePerGas?(0,c.hexWEIToDecGWEI)(n.maxFeePerGas._hex):null}}catch(e){throw new Error(`Error fetching network fees for chainId ${t}: ${e}`)}};n.isIpfsURL=e=>e.startsWith("ipfs://")}}},{package:"$root$",file:"ui/helpers/utils/notification.util.ts"}],[7069,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isZeroAmount=function(e){if(null===e||e===undefined)return!0;if("number"==typeof e)return 0===e;const t=e.replace(/\D+/gu,"").trim();return/^0*$/u.test(t)}}}},{package:"$root$",file:"ui/helpers/utils/number-utils.ts"}],[7070,{"../../../app/scripts/controllers/permissions":212,"../../../shared/constants/permissions":5804,"../../components/component-library":6469,"../constants/design-system":7023,"./util":7082,"@metamask/chain-agnostic-permission":1329,"@metamask/controller-utils":1349,"@metamask/snaps-rpc-methods":2615,"@metamask/snaps-utils":2785,"deep-freeze-strict":4213,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionDescription=void 0,n.getWeightedPermissions=function({t:e,isRequestApprovalPermittedChains:t,permissions:n,getSubjectName:s,subjectName:r}){return Object.entries(n).reduce((n,[a,o])=>n.concat(v({t:e,isRequestApprovalPermittedChains:t,permissionName:a,permissionValue:o,subjectName:r,getSubjectName:s})),[]).sort((e,t)=>e.weight-t.weight)};var s=p(e("deep-freeze-strict")),r=p(e("react")),a=e("@metamask/snaps-rpc-methods"),o=e("@metamask/snaps-utils"),i=e("@metamask/controller-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("../../../shared/constants/permissions"),l=e("../../components/component-library"),d=e("../constants/design-system"),m=e("../../../app/scripts/controllers/permissions"),h=e("./util");function p(e){return e&&e.__esModule?e:{default:e}}const g=Symbol("unknown"),f=r.default.createElement(l.Icon,{name:l.IconName.Info,size:l.IconSize.Sm,color:d.IconColor.iconMuted});function k(e){return r.default.createElement(l.Text,{fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},e)}const T=(0,s.default)({[c.Caip25EndowmentPermissionName]:({t:e,isRequestApprovalPermittedChains:t})=>t?{label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}:{label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts},[u.RestrictedMethods.eth_accounts]:({t:e})=>({label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts}),[m.PermissionNames.permittedChains]:({t:e})=>({label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}),[u.RestrictedMethods.snap_dialog]:({t:e,subjectName:t})=>({label:e("permission_dialog"),description:e("permission_dialogDescription",[k(t)]),leftIcon:l.IconName.Messages,weight:u.PermissionWeight.snap_dialog}),[u.RestrictedMethods.snap_notify]:({t:e,subjectName:t})=>({label:e("permission_notifications"),description:e("permission_notificationsDescription",[k(t)]),leftIcon:l.IconName.Notification,weight:u.PermissionWeight.snap_notify}),[u.RestrictedMethods.snap_getBip32PublicKey]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map(({path:t,curve:s},a)=>{var i;const c={leftIcon:l.IconName.SecuritySearch,weight:u.PermissionWeight.snap_getBip32PublicKey,id:`public-key-access-bip32-${null===(i=t.join("-"))||void 0===i?void 0:i.replace(/'/gu,"h")}-${s}-${a}`,warningMessageSubject:(0,o.getSnapDerivationPathName)(t,s)??`${e("unknownNetworkForKeyEntropy")}  ${t.join("/")} (${s})`},m=(0,o.getSnapDerivationPathName)(t,s);return m?{...c,label:e("permission_viewNamedBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},m)]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},m),k(n)])}:{...c,label:e("permission_viewBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} `," ",t.join("/")),s]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},t.join("/")),k(n)])}}),[u.RestrictedMethods.snap_getBip32Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map(({path:t,curve:s},a)=>{var i;const c={leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip32Entropy,id:`key-access-bip32-${null===(i=t.join("-"))||void 0===i?void 0:i.replace(/'/gu,"h")}-${s}-${a}`,warningMessageSubject:(0,o.getSnapDerivationPathName)(t,s)??`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${s})`},m=(0,o.getSnapDerivationPathName)(t,s);return m?{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},m)]),description:e("permission_manageBip44AndBip32KeysDescription",[k(n)])}:{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${s})`)]),description:e("permission_manageBip44AndBip32KeysDescription",[k(n)])}}),[u.RestrictedMethods.snap_getBip44Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map(({coinType:t},s)=>({label:e("permission_manageBip44Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`coin-type-${t}`},(0,o.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`)]),description:e("permission_manageBip44AndBip32KeysDescription",[k(n)]),leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip44Entropy,id:`key-access-bip44-${t}-${s}`,warningMessageSubject:(0,o.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`})),[u.RestrictedMethods.snap_getEntropy]:({t:e,subjectName:t})=>({label:e("permission_getEntropy",[k(t)]),description:e("permission_getEntropyDescription",[k(t)]),leftIcon:l.IconName.SecurityKey,weight:u.PermissionWeight.snap_getEntropy}),[u.RestrictedMethods.snap_manageState]:({t:e,subjectName:t})=>({label:e("permission_manageState"),description:e("permission_manageStateDescription",[k(t)]),leftIcon:l.IconName.AddSquare,weight:u.PermissionWeight.snap_manageState}),[u.RestrictedMethods.snap_getLocale]:({t:e,subjectName:t})=>({label:e("permission_getLocale"),description:e("permission_getLocaleDescription",[k(t)]),leftIcon:l.IconName.Global,weight:u.PermissionWeight.snap_getLocale}),[u.RestrictedMethods.snap_getPreferences]:({t:e,subjectName:t})=>({label:e("permission_getPreferences"),description:e("permission_getPreferencesDescription",[k(t)]),leftIcon:l.IconName.Customize,weight:4}),[u.RestrictedMethods.wallet_snap]:({t:e,permissionValue:t,getSubjectName:n})=>{const s=t.caveats[0].value,a={leftIcon:l.IconName.Flash,rightIcon:f,weight:u.PermissionWeight.wallet_snap};return Object.keys(s).map(t=>{const s=n(t);return s?{...a,label:e("permission_accessNamedSnap",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t},s)]),description:e("permission_accessSnapDescription",[s])}:{...a,label:e("permission_accessSnap",[t]),description:e("permission_accessSnapDescription",[t])}})},[u.EndowmentPermissions["endowment:network-access"]]:({t:e,subjectName:t})=>({label:e("permission_accessNetwork"),description:e("permission_accessNetworkDescription",[k(t)]),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.endowment_networkAccess}),[u.EndowmentPermissions["endowment:webassembly"]]:({t:e,subjectName:t})=>({label:e("permission_webAssembly"),description:e("permission_webAssemblyDescription",[k(t)]),leftIcon:l.IconName.DocumentCode,rightIcon:null,weight:u.PermissionWeight.endowment_webassembly}),[u.EndowmentPermissions["endowment:transaction-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Speedometer,weight:u.PermissionWeight.endowment_transactionInsight},r=[{...s,label:e("permission_transactionInsight"),description:e("permission_transactionInsightDescription",[k(n)])}];return(0,i.isNonEmptyArray)(t.caveats)&&t.caveats[0].type===o.SnapCaveatType.TransactionOrigin&&t.caveats[0].value&&r.push({...s,label:e("permission_transactionInsightOrigin"),description:e("permission_transactionInsightOriginDescription",[k(n)]),leftIcon:l.IconName.Explore}),r},[u.EndowmentPermissions["endowment:cronjob"]]:({t:e,subjectName:t})=>({label:e("permission_cronjob"),description:e("permission_cronjobDescription",[k(t)]),leftIcon:l.IconName.Clock,weight:u.PermissionWeight.endowment_cronjob}),[u.EndowmentPermissions["endowment:ethereum-provider"]]:({t:e,subjectName:t})=>({label:e("permission_ethereumProvider"),description:e("permission_ethereumProviderDescription",[k(t)]),leftIcon:l.IconName.Ethereum,weight:u.PermissionWeight.endowment_ethereumProvider,id:"ethereum-provider-access",message:e("ethereumProviderAccess",[k(t)])}),[u.EndowmentPermissions["endowment:rpc"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_rpc},{snaps:o,dapps:i,allowedOrigins:c}=(0,a.getRpcCaveatOrigins)(t),m=[];if(o&&m.push({...s,label:e("permission_rpc",[e("otherSnaps"),k(n)]),description:e("permission_rpcDescription",[e("otherSnaps"),k(n)])}),i&&m.push({...s,label:e("permission_rpc",[e("websites"),k(n)]),description:e("permission_rpcDescription",[e("websites"),k(n)])}),(null==c?void 0:c.length)>0){let t;if(1===c.length)t=r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},c[0]);else{const n=c.slice(-1);t=e("permission_rpcDescriptionOriginList",[c.slice(0,-1).map(e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},e),", ")),r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:"2",style:{lineBreak:"anywhere"}},n)])}m.push({...s,label:e("permission_rpc",[t,k(n)]),description:e("permission_rpcDescription",[t,k(n)])})}return m},[u.EndowmentPermissions["endowment:lifecycle-hooks"]]:({t:e,subjectName:t})=>({label:e("permission_lifecycleHooks"),description:e("permission_lifecycleHooksDescription",[k(t)]),leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_lifecycleHooks}),[u.EndowmentPermissions["endowment:page-home"]]:({t:e,subjectName:t})=>({label:e("permission_homePage"),description:e("permission_homePageDescription",[k(t)]),leftIcon:l.IconName.Home,weight:u.PermissionWeight.endowment_pageHome}),[u.RestrictedMethods.snap_manageAccounts]:({t:e,subjectName:t})=>({label:e("permission_manageAccounts"),description:e("permission_manageAccountsDescription",[k(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.snap_manageAccounts}),[u.EndowmentPermissions["endowment:keyring"]]:({t:e,subjectName:t})=>({label:e("permission_keyring"),description:e("permission_keyringDescription",[k(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.endowment_keyring}),[u.EndowmentPermissions["endowment:name-lookup"]]:({t:e})=>({label:e("permission_nameLookup"),description:e("permission_nameLookupDescription"),leftIcon:l.IconName.Search,weight:u.PermissionWeight.endowment_nameLookup}),[u.EndowmentPermissions["endowment:assets"]]:({t:e,subjectName:t})=>({label:e("permission_assets"),description:e("permission_assetsDescription",[k(t)]),leftIcon:l.IconName.Coin,weight:u.PermissionWeight.endowment_assets}),[u.EndowmentPermissions["endowment:protocol"]]:({t:e,subjectName:t})=>({label:e("permission_protocol"),description:e("permission_protocolDescription",[k(t)]),leftIcon:l.IconName.GlobalSearch,weight:u.PermissionWeight.endowment_protocol}),[u.EndowmentPermissions["endowment:signature-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Warning,weight:u.PermissionWeight.endowment_signatureInsight},r=[{...s,label:e("permission_signatureInsight"),description:e("permission_signatureInsightDescription",[k(n)])}];return(0,i.isNonEmptyArray)(t.caveats)&&t.caveats.find(e=>e.type===o.SnapCaveatType.SignatureOrigin&&e.value)&&r.push({...s,label:e("permission_signatureInsightOrigin"),description:e("permission_signatureInsightOriginDescription",[k(n)]),leftIcon:l.IconName.Explore}),r},[u.ConnectionPermission.connection_permission]:({t:e,permissionValue:t,subjectName:n})=>Object.keys(t).map(t=>{let s=(0,h.getURLHost)(t);return s||(s=t.replace("npm:","")),{label:e("snapConnectTo",[r.default.createElement(l.Text,{key:"connectToMain",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit,style:{lineBreak:"anywhere"}},s)]),description:e("snapConnectionPermissionDescription",[k(n),r.default.createElement(l.Text,{key:"connectToDescription",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},s)]),leftIcon:undefined,connection:t,connectionName:s,subjectName:n,weight:u.PermissionWeight.connection_permission}}),[g]:({t:e,permissionName:t})=>({label:e("permission_unknown",[t??"undefined"]),leftIcon:l.IconName.Question,rightIcon:null,weight:u.PermissionWeight.unknown_permission})}),v=({t:e,isRequestApprovalPermittedChains:t,permissionName:n,permissionValue:s,subjectName:r,getSubjectName:a})=>{let o=T[g];Object.hasOwnProperty.call(T,n)&&(o=T[n]);const i=o({t:e,isRequestApprovalPermittedChains:t,permissionName:n,permissionValue:s,subjectName:r,getSubjectName:a});return Array.isArray(i)?i.map(e=>({...e,permissionName:n,permissionValue:s})):[{...i,permissionName:n,permissionValue:s}]};n.getPermissionDescription=v}}},{package:"$root$",file:"ui/helpers/utils/permission.js"}],[7071,{"../../../shared/constants/permissions":5804,"@metamask/keyring-api":2060},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsEthPermissionsAndNonEvmAccount=void 0;var s=e("@metamask/keyring-api"),r=e("../../../shared/constants/permissions");n.containsEthPermissionsAndNonEvmAccount=(e,t)=>{const n=Object.keys(r.RestrictedEthMethods),a=Object.keys(t).some(e=>n.includes(e)),o=e.some(e=>!(0,s.isEvmAccountType)(e.type));return a&&o}}}},{package:"$root$",file:"ui/helpers/utils/permissions.ts"}],[7072,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPortfolioUrl=function(e="",t="",n="",s=!1,r=!1,a,o){const i=new URL(e,"https://app.metamask.io");i.searchParams.append("metamaskEntry",t),i.searchParams.append("metametricsId",n),i.searchParams.append("metricsEnabled",String(s)),i.searchParams.append("marketingEnabled",String(r)),a&&i.searchParams.append("accountAddress",a);o&&i.searchParams.append("tab",o);return i.href}}}},{package:"$root$",file:"ui/helpers/utils/portfolio.js"}],[7073,{"../../../shared/modules/environment":5901,"../constants/settings":7029},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.colorText=l,n.escapeRegExp=void 0,n.getNumberOfSettingRoutesInTab=function(e,t){return u(e,t).length},n.getSettingsRoutes=c,n.getSpecificSettingsRoute=function(e,t,n){return c().find(s=>s.tabMessage(e)===t&&s.sectionMessage(e)===n)},n.handleSettingsRefs=function(e,t,n){const s=u(e,t),r=s.findIndex(e=>e.route.substring(1)===window.location.hash.substring(1));if(-1===r)return;const a=1===s.length?n:n[r];if(null!=a&&a.current){a.current.scrollIntoView({behavior:"smooth"}),a.current.focus();const e=window.location.hash.split("#")[1];window.location.hash=e}},n.highlightSearchedText=function(){const e=document.getElementById("search-settings"),t=new RegExp(d(e.value),"gi");[...document.querySelectorAll(".settings-page__header__search__list__item")].forEach(e=>{const n=e.querySelector(".settings-page__header__search__list__item__tab"),s=e.querySelector(".settings-page__header__search__list__item__section");l(n,t),l(s,t)})};var s,r=(s=e("../constants/settings"))&&s.__esModule?s:{default:s},a=e("../../../shared/modules/environment");let o;const i={METAMASK_SHIELD_ENABLED:a.getIsMetaMaskShieldFeatureEnabled,ENABLE_SETTINGS_PAGE_DEV_OPTIONS:a.getIsSettingsPageDevOptionsEnabled};function c(){return o||(o=r.default.filter(e=>(!e.featureFlag||function(e){const t=i[e];return t?t():(console.warn(`Unknown feature flag: ${e}`),!1)}(e.featureFlag))&&!e.hidden),o)}function u(e,t){return c().filter(n=>n.tabMessage(e)===t)}function l(e,t){if(null!==e){let n=e.innerHTML;n=n.replace("&amp;","&"),n=n.replace(/(<span class="settings-page__header__search__list__item__highlight">|<\/span>)/gim,""),e.innerHTML=n.replace(t,'<span class="settings-page__header__search__list__item__highlight">$&</span>')}}const d=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");n.escapeRegExp=d}}},{package:"$root$",file:"ui/helpers/utils/settings-search.js"}],[7075,{"../../../shared/constants/state-corruption":5813,"../../../shared/lib/error-utils":5866,"../../../shared/lib/get-first-preferred-lang-code":5869,"../../../shared/lib/switch-direction":5886,"../../../shared/lib/translate":5893,"../../../shared/lib/ui-utils":5894,lodash:4816,loglevel:4824},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.displayStateCorruptionError=async function(e,t,n,r,o){s.default.error(n);const i=await m(a.VAULT_RECOVERY_LINK,r,o,a.SUPPORT_LINK);e.innerHTML=i;const c=e.querySelector("#critical-error-button");c&&(c.addEventListener("click",function e(){confirm((0,l.t)("stateCorruptionAreYouSure")??"")&&(this.removeEventListener("click",e),this.disabled=!0,this.innerText=r?(0,l.t)("stateCorruptionRestoringDatabase")??"":(0,l.t)("stateCorruptionResettingDatabase")??"",t.postMessage({data:{method:u.METHOD_REPAIR_DATABASE}}))}),setTimeout(()=>{c.disabled=!1},5e3))},n.getStateCorruptionErrorHtml=m;var s=d(e("loglevel")),r=e("lodash"),a=e("../../../shared/lib/ui-utils"),o=e("../../../shared/lib/error-utils"),i=e("../../../shared/lib/switch-direction"),c=d(e("../../../shared/lib/get-first-preferred-lang-code")),u=e("../../../shared/constants/state-corruption"),l=e("../../../shared/lib/translate");function d(e){return e&&e.__esModule?e:{default:e}}async function m(e,t,n,s){let a;n?(a=n,await(0,l.updateCurrentLocale)(n)):(a=await(0,c.default)(),await(0,l.updateCurrentLocale)(a)),(0,i.switchDirectionForPreferredLocale)(a);const u=`<a href="${(0,r.escape)(e)}" title="${(0,r.escape)((0,l.t)("stateCorruptionTheseInstructionsLinkTitle")??"")}" class="critical-error__link" target="_blank" rel="noopener noreferrer">${(0,r.escape)((0,l.t)("stateCorruptionTheseInstructions")??"")}</a>`;let d,m,h;t?(d=(0,l.t)("stateCorruptionDetectedWithBackup")??"",m=(0,l.t)("stateCorruptionCopyAndRestoreBeforeRecovery",u)??"",h=(0,l.t)("stateCorruptionRestoreAccountsFromBackup")??""):(d=(0,l.t)("stateCorruptionDetectedNoBackup")??"",m=(0,l.t)("stateCorruptionCopyAndRestoreBeforeReset",u)??"",h=(0,l.t)("stateCorruptionResetMetaMaskState")??"");const p=`\n    <h1>${(0,l.t)("stateCorruptionMetamaskDatabaseCannotBeAccessed")}</h1>\n  `,g=`\n    <p>${(0,r.escape)(d)}</p>\n    <p>${m}</p>\n    <button disabled id="critical-error-button" class="critical-error__button-restore button btn-primary">\n      ${h}\n    </button>\n  `,f=s?`<p class="critical-error__footer small">${(0,r.escape)((0,l.t)("unexpectedBehavior")??"")} <a\n        href="${(0,r.escape)(s)}"\n        class="critical-error__link"\n        target="_blank"\n        rel="noopener noreferrer">\n          ${(0,r.escape)((0,l.t)("sendBugReport")??"")}\n      </a>\n    </p>`:"";return(0,o.getErrorHtmlBase)(`\n    ${p}\n    ${g}\n    ${f}\n  `)}}}},{package:"$root$",file:"ui/helpers/utils/state-corruption-html.ts"}],[7076,{"../../../app/scripts/lib/util":332,"../../ducks/metamask/metamask":7010,"../../selectors":7947,"../../selectors/metamask-notifications/metamask-notifications":7948,"../../selectors/nft":7958},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getStartupTraceTags=function(e){var t;const n=(0,s.getEnvironmentType)(),c=(0,r.getIsUnlocked)(e),u=(0,a.getInternalAccounts)(e).length,l=(0,i.selectAllNftsFlat)(e).length,d=(0,o.getMetamaskNotifications)(e).length,m=(0,a.selectAllTokensFlat)(e).length,h=(0,a.getTransactions)(e).length,p=(0,a.getPendingApprovals)(e),g=null==p||null===(t=p[0])||void 0===t?void 0:t.type;return{"wallet.account_count":u,"wallet.nft_count":l,"wallet.notification_count":d,"wallet.pending_approval":g,"wallet.token_count":m,"wallet.transaction_count":h,"wallet.unlocked":c,"wallet.ui_type":n}};var s=e("../../../app/scripts/lib/util"),r=e("../../ducks/metamask/metamask"),a=e("../../selectors"),o=e("../../selectors/metamask-notifications/metamask-notifications"),i=e("../../selectors/nft")}}},{package:"$root$",file:"ui/helpers/utils/tags.ts"}],[7080,{"../../components/component-library":6469,"../../hooks/useTrustSignals":7197,"../constants/design-system":7023},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTrustSignalIcon=function(e){if(!e)return null;switch(e){case a.TrustSignalDisplayState.Malicious:return{name:s.IconName.Danger,color:r.IconColor.errorDefault};case a.TrustSignalDisplayState.Verified:return{name:s.IconName.VerifiedFilled,color:r.IconColor.infoDefault};case a.TrustSignalDisplayState.Warning:return null;case a.TrustSignalDisplayState.Unknown:return{name:s.IconName.Question,color:undefined};case a.TrustSignalDisplayState.Petname:case a.TrustSignalDisplayState.Recognized:return null;default:return{name:s.IconName.Question,color:undefined}}};var s=e("../../components/component-library"),r=e("../constants/design-system"),a=e("../../hooks/useTrustSignals")}}},{package:"$root$",file:"ui/helpers/utils/trust-signals.ts"}],[7083,{"../../../app/scripts/lib/util":332,"../../../shared/constants/app":5781,"../../../shared/modules/browser-runtime.utils":5897},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("../../../shared/constants/app"),r=e("../../../app/scripts/lib/util"),a=e("../../../shared/modules/browser-runtime.utils");n.default=class{static async checkStatus(){const e=(0,r.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP,t=(0,a.getBrowserName)()===(s.PLATFORM_FIREFOX||s.PLATFORM_BRAVE),n=(await window.navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind),o=n.length>0,i=n.some(e=>e.label&&e.label.length>0);if(o){let n=!0;return(t&&e||e&&!i)&&(n=!1),{permissions:i,environmentReady:n}}const c=new Error("No webcam found");throw c.type="NO_WEBCAM_FOUND",c}}}}},{package:"$root$",file:"ui/helpers/utils/webcam-utils.js"}],[7084,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openWindow=void 0;n.openWindow=(e,t)=>{window.open(e,t||"_blank","noopener")}}}},{package:"$root$",file:"ui/helpers/utils/window.ts"}],[7085,{"../../../shared/constants/multichain/networks":5799,"../../selectors":7947,"./useMultichainWalletSnapClient":7087,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountCreationOnNetworkChange=void 0;var s=e("react-redux"),r=e("../../../shared/constants/multichain/networks"),a=e("../../selectors"),o=e("./useMultichainWalletSnapClient");n.useAccountCreationOnNetworkChange=()=>{const e=(0,o.useMultichainWalletSnapClient)(o.WalletClientType.Bitcoin),t=(0,o.useMultichainWalletSnapClient)(o.WalletClientType.Solana),n=(0,s.useSelector)(a.getMetaMaskAccountsOrdered);return{createAccount:async n=>{switch(n){case r.MultichainNetworks.BITCOIN:await e.createAccount({scope:r.MultichainNetworks.BITCOIN});break;case r.MultichainNetworks.SOLANA:await t.createAccount({scope:r.MultichainNetworks.SOLANA});break;default:throw new Error(`Unsupported chainId: ${n}`)}},hasAnyAccountsInNetwork:e=>n.some(({scopes:t})=>t.includes(e))}}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountCreationOnNetworkChange.ts"}],[7086,{"../../store/actions":7975,"../useI18nContext":7157,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountsOperationsLoadingStates=void 0;var s=e("react-redux"),r=e("react"),a=e("../useI18nContext"),o=e("../../store/actions");n.useAccountsOperationsLoadingStates=()=>{const e=(0,a.useI18nContext)(),t=(0,s.useDispatch)(),n=(0,s.useSelector)(e=>e.metamask.isAccountTreeSyncingInProgress);(0,r.useEffect)(()=>{(0,o.forceUpdateMetamaskState)(t)},[n]);const i=n,c=(0,r.useMemo)(()=>!0===n?e("syncing"):undefined,[n,e]);return{areAnyOperationsLoading:i,isAccountTreeSyncingInProgress:n,loadingMessage:c}}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountsOperationsLoadingStates.ts"}],[7087,{"../../../shared/lib/accounts":5824,"../../../shared/lib/accounts/bitcoin-wallet-snap":5823,"../../../shared/lib/accounts/solana-wallet-snap":5827,"../../store/actions":7975,"@metamask/keyring-controller":2070,"@metamask/snaps-utils":2785,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WalletClientType=n.MultichainWalletSnapSender=n.MultichainWalletSnapClient=n.EVM_WALLET_TYPE=void 0,n.useMultichainWalletSnapClient=function(e){return(0,a.useMemo)(()=>new y(e),[e])},n.useMultichainWalletSnapSender=function(e){return(0,a.useMemo)(()=>new k(e),[e])};var s=e("@metamask/keyring-controller"),r=e("@metamask/snaps-utils"),a=e("react"),o=e("../../../shared/lib/accounts"),i=e("../../../shared/lib/accounts/bitcoin-wallet-snap"),c=e("../../../shared/lib/accounts/solana-wallet-snap"),u=e("../../store/actions");function l(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function d(e,t){return e.get(h(e,t))}function m(e,t,n){return e.set(h(e,t),n),n}function h(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=n.WalletClientType=function(e){return e.Bitcoin="bitcoin-wallet-snap",e.Solana="solana-wallet-snap",e}({});n.EVM_WALLET_TYPE="evm";const f={[g.Bitcoin]:{id:i.BITCOIN_WALLET_SNAP_ID,name:i.BITCOIN_WALLET_NAME},[g.Solana]:{id:c.SOLANA_WALLET_SNAP_ID,name:c.SOLANA_WALLET_NAME}};class k{constructor(e){p(this,"snapId",void 0),p(this,"send",async e=>await(0,u.handleSnapRequest)({origin:"metamask",snapId:this.snapId,handler:r.HandlerType.OnKeyringRequest,request:e})),this.snapId=e}}n.MultichainWalletSnapSender=k;var T=new WeakMap,v=new WeakMap;class y{constructor(e){l(this,T,void 0),l(this,v,void 0);const{id:t,name:n}=f[e];if(m(T,this,t),m(v,this,n),!d(T,this))throw new Error(`Unsupported client type: ${e}`)}getSnapId(){return d(T,this)}getSnapName(){return d(v,this)}async createAccount(e,t){return await(0,u.createSnapAccount)(d(T,this),e,t)}async getNextAvailableAccountName(e){return(0,o.getNextAvailableSnapAccountName)(async()=>(0,u.getNextAvailableAccountName)(s.KeyringTypes.snap),d(T,this),e)}}n.MultichainWalletSnapClient=y}}},{package:"$root$",file:"ui/hooks/accounts/useMultichainWalletSnapClient.ts"}],[7088,{"../../../shared/constants/bridge":5783,"../../../shared/constants/common":5784,"../../../shared/constants/multichain/networks":5799,"@metamask/bridge-controller":1275,"@metamask/transaction-controller":2862},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcTxMeta:t,nonEvmTransaction:n}){var u,l,d,m;if(!((null==t?void 0:t.type)&&[s.TransactionType.bridge,s.TransactionType.swap].includes(t.type)||n))return{srcNetwork:undefined,destNetwork:undefined};const{srcChainId:h,destChainId:p}=e?c(e):{srcChainId:(null==t?void 0:t.chainId)??(null==n?void 0:n.chain),destChainId:(null==t?void 0:t.chainId)??(null==n?void 0:n.chain)};if(!h||!p)return{srcNetwork:undefined,destNetwork:undefined};let g,f,k,T;try{g=(0,r.formatChainIdToCaip)(h),k=(0,r.getNativeAssetForChainId)(h),f=(0,r.formatChainIdToCaip)(p),T=(0,r.getNativeAssetForChainId)(p)}catch(e){return console.warn("Error getting XChain swaps network info",e),{srcNetwork:undefined,destNetwork:undefined}}const v=(0,r.isSolanaChainId)(h)||(0,r.isBitcoinChainId)(h)?g:(0,r.formatChainIdToHex)(h),y={chainId:g,name:o.NETWORK_TO_SHORT_NETWORK_NAME_MAP[v],...(0,r.isSolanaChainId)(g)||(0,r.isBitcoinChainId)(g)?{isEvm:!1,nativeCurrency:null===(u=k)||void 0===u?void 0:u.assetId,blockExplorerUrl:(0,r.isSolanaChainId)(g)?i.SOLANA_BLOCK_EXPLORER_URL:i.BITCOIN_BLOCK_EXPLORER_URL}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[v]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(l=k)||void 0===l?void 0:l.symbol,isEvm:!0}},S=(0,r.isSolanaChainId)(p)||(0,r.isBitcoinChainId)(p)?f:(0,r.formatChainIdToHex)(p),b={chainId:f,name:o.NETWORK_TO_SHORT_NETWORK_NAME_MAP[S],...(0,r.isSolanaChainId)(f)||(0,r.isBitcoinChainId)(f)?{isEvm:!1,nativeCurrency:null===(d=T)||void 0===d?void 0:d.assetId,blockExplorerUrl:(0,r.isSolanaChainId)(f)?i.SOLANA_BLOCK_EXPLORER_URL:i.BITCOIN_BLOCK_EXPLORER_URL}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[a.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[S]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(m=T)||void 0===m?void 0:m.symbol,isEvm:!0}};return{srcNetwork:y,destNetwork:b}};var s=e("@metamask/transaction-controller"),r=e("@metamask/bridge-controller"),a=e("../../../shared/constants/common"),o=e("../../../shared/constants/bridge"),i=e("../../../shared/constants/multichain/networks");const c=({quote:e})=>{const{srcChainId:t,destChainId:n}=e;return{srcChainId:t,destChainId:n}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeChainInfo.ts"}],[7089,{"../../ducks/bridge/bridge":6999,"../../ducks/bridge/selectors":7e3,"../../ducks/bridge/utils":7001,"../../ducks/metamask/metamask":7010,"../../selectors":7947,"../../selectors/multichain":7956,"../useMultichainSelector":7167,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeExchangeRates=void 0;var s=e("react"),r=e("react-redux"),a=e("../../ducks/bridge/selectors"),o=e("../../selectors"),i=e("../../ducks/metamask/metamask"),c=e("../../ducks/bridge/bridge"),u=e("../../ducks/bridge/utils"),l=e("../useMultichainSelector"),d=e("../../selectors/multichain");n.useBridgeExchangeRates=()=>{const{srcTokenAddress:e,destTokenAddress:t}=(0,r.useSelector)(a.getQuoteRequest),{activeQuote:n}=(0,r.useSelector)(a.getBridgeQuotes),m=(0,l.useMultichainSelector)(d.getMultichainCurrentChainId),h=(0,r.useSelector)(a.getToChain),p=null==h?void 0:h.chainId,g=(0,r.useSelector)(o.getParticipateInMetaMetrics),f=(0,r.useDispatch)(),k=(0,r.useSelector)(i.getCurrentCurrency),T=n?n.quote.srcAsset.address:e,v=(0,r.useSelector)(a.getFromToken),y=(null==v?void 0:v.address)??T,S=n?n.quote.destAsset.address:t,b=(0,r.useSelector)(a.getToToken),I=(null==b?void 0:b.address)??S,w=(0,r.useSelector)(o.getMarketData),C=(0,s.useRef)(new AbortController),_=(0,s.useRef)(new AbortController);(0,s.useEffect)(()=>()=>{var e,t;null===(e=C.current)||void 0===e||e.abort(),C.current=null,null===(t=_.current)||void 0===t||t.abort(),_.current=null},[]),(0,s.useEffect)(()=>{var e;if(null===(e=C.current)||void 0===e||e.abort(),C.current=new AbortController,m&&y){(0,u.exchangeRateFromMarketData)(m,y,w)||f((0,c.setSrcTokenExchangeRates)({chainId:m,tokenAddress:y,currency:k,signal:C.current.signal}))}},[k,f,m,y,w]),(0,s.useEffect)(()=>{var e;if(null===(e=_.current)||void 0===e||e.abort(),_.current=new AbortController,p&&I){(0,u.exchangeRateFromMarketData)(p,I,w)||(f((0,c.setDestTokenExchangeRates)({chainId:p,tokenAddress:I,currency:k,signal:_.current.signal})),g&&"usd"!==k&&f((0,c.setDestTokenUsdExchangeRates)({chainId:p,tokenAddress:I,currency:"usd",signal:_.current.signal})))}},[k,f,g,w,p,I])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeExchangeRates.ts"}],[7090,{"../../../shared/lib/asset-utils":5828,"../../../shared/lib/deep-links/routes/swap":5845,"../../../shared/lib/transactions-controller-utils":5890,"../../ducks/bridge/actions":6998,"../../ducks/bridge/selectors":7e3,"@metamask/bridge-controller":1275,"@metamask/utils":2908,react:5258,"react-redux":5202,"react-router-dom":5226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeQueryParams=void 0;var s=e("react"),r=e("react-redux"),a=e("react-router-dom"),o=e("@metamask/utils"),i=e("@metamask/bridge-controller"),c=e("../../../shared/lib/asset-utils"),u=e("../../../shared/lib/deep-links/routes/swap"),l=e("../../../shared/lib/transactions-controller-utils"),d=e("../../ducks/bridge/actions"),m=e("../../ducks/bridge/selectors");const h=e=>{if(!e)return null;try{const t=o.CaipAssetTypeStruct.create(e),{chainId:n,assetReference:s}=(0,o.parseCaipAssetType)(t);return{chainId:n,assetReference:s,assetId:t}}catch{return null}};n.useBridgeQueryParams=()=>{const e=(0,r.useDispatch)(),t=(0,r.useSelector)(m.getFromChains),n=(0,r.useSelector)(m.getFromChain),p=(0,r.useSelector)(m.getFromToken),g=(0,r.useSelector)(m.getFromAccount),f=(0,s.useRef)(new AbortController),{search:k}=(0,a.useLocation)(),T=(0,a.useHistory)(),v=(0,s.useMemo)(()=>new URLSearchParams(k),[k]),y=(0,s.useCallback)(e=>{const t=new URLSearchParams(k);e.forEach(e=>{t.get(e)&&t.delete(e)}),T.replace({search:t.toString()})},[k,T]),[S,b]=(0,s.useState)(null),[I,w]=(0,s.useState)(null),[C,_]=(0,s.useState)(null);(0,s.useEffect)(()=>()=>{f.current.abort()},[]);const[A,E]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=h(v.get(u.BridgeQueryParams.FROM)),t=h(v.get(u.BridgeQueryParams.TO)),n=v.get(u.BridgeQueryParams.AMOUNT);(e||t||n)&&(w(t),b(e),n&&_(n),y([u.BridgeQueryParams.FROM,u.BridgeQueryParams.TO,u.BridgeQueryParams.AMOUNT]),(null!=t&&t.assetId||null!=e&&e.assetId)&&(f.current.abort(),f.current=new AbortController,(async(e,t,n)=>{const s=[];if(t&&s.push(t),n&&s.push(n),0===s.length)return null;try{return await(0,c.fetchAssetMetadataForAssetIds)(s,e)}catch{return null}})(f.current.signal,null==e?void 0:e.assetId,null==t?void 0:t.assetId).then(e=>{E(e)})))},[v]);const N=(0,s.useCallback)((t,n,s,r,a)=>{const{chainId:c}=n;if(t){const{chainId:n,assetReference:u}=(0,o.parseCaipAssetType)(t.assetId),l=(0,i.getNativeAssetForChainId)(n),m=null==l?void 0:l.assetId.includes(u),h={...t,chainId:n,address:m||(0,i.isNativeAddress)(u)?(null==l?void 0:l.address)??"":u};if(a&&c===(0,i.formatChainIdToCaip)(a.chainId))e((0,d.setFromToken)(h));else{const t=s.find(e=>(0,i.formatChainIdToCaip)(e.chainId)===c);t&&e((0,d.setFromChain)({networkConfig:t,selectedAccount:r,token:h}))}}},[]),M=(0,s.useCallback)(async t=>{const{chainId:n,assetReference:s}=(0,o.parseCaipAssetType)(t.assetId);e((0,d.setToToken)({...t,chainId:n,address:s})),w(null)},[]);(0,s.useEffect)(()=>{if(!S||!A||!t.length)return;const e=(null==A?void 0:A[S.assetId])??(null==A?void 0:A[S.assetId.toLowerCase()]);N(e,S,t,g,n)},[A,S,t,n,g]),(0,s.useEffect)(()=>{if(!I)return;const e=(null==A?void 0:A[I.assetId])??(null==A?void 0:A[I.assetId.toLowerCase()]);e&&M(e)},[I,A]),(0,s.useEffect)(()=>{var t;S&&p&&(null===(t=p.assetId)||void 0===t?void 0:t.toLowerCase())===S.assetId.toLowerCase()&&(b(null),C&&(e((0,d.setFromTokenInputValue)((0,l.calcTokenAmount)(C,p.decimals).toFixed(p.decimals))),_(null)))},[C,S,p]),(0,s.useEffect)(()=>{S||v.get(u.BridgeQueryParams.FROM)||!p||(0,i.isCrossChain)(p.chainId,null==n?void 0:n.chainId)||!g||(e((0,d.setEVMSrcTokenBalance)(p,g.address)),e((0,d.setEVMSrcNativeBalance)({selectedAddress:g.address,chainId:p.chainId})))},[S,g,p,n,v])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeQueryParams.ts"}],[7091,{"../../../shared/lib/bridge-status/utils":5829,"../../ducks/bridge-status/selectors":6997,"../../helpers/constants/routes":7028,"@metamask/bridge-controller":1275,"@metamask/transaction-controller":2862,"react-redux":5202,"react-router-dom":5226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FINAL_NON_CONFIRMED_STATUSES=void 0,n.useBridgeTxHistoryData=function({transactionGroup:e,isEarliestNonce:t}){const n=(0,a.useHistory)(),r=e.initialTransaction,d=r.id,m=(0,s.useSelector)(e=>(0,u.selectBridgeHistoryItemForTxMetaId)(e,d)),h=m?(null==m?void 0:m.status.status)===o.StatusTypes.FAILED:null,p=l.includes(r.status)?undefined:()=>{n.push({pathname:`${c.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/${d}`,state:{transactionGroup:e,isEarliestNonce:t}})};return{bridgeTxHistoryItem:m,isBridgeComplete:m?(0,i.isBridgeComplete)(m):null,isBridgeFailed:h,showBridgeTxDetails:p}};var s=e("react-redux"),r=e("@metamask/transaction-controller"),a=e("react-router-dom"),o=e("@metamask/bridge-controller"),i=e("../../../shared/lib/bridge-status/utils"),c=e("../../helpers/constants/routes"),u=e("../../ducks/bridge-status/selectors");const l=n.FINAL_NON_CONFIRMED_STATUSES=[r.TransactionStatus.failed,r.TransactionStatus.dropped,r.TransactionStatus.rejected]}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeTxHistoryData.ts"}],[7092,{"../../../shared/constants/bridge":5783,"../../../shared/constants/metametrics":5796,"../../../shared/constants/network":5800,"../../../shared/lib/asset-utils":5828,"../../../shared/lib/deep-links/routes/swap":5845,"../../../shared/lib/trace":5888,"../../contexts/metametrics":6985,"../../ducks/bridge/actions":6998,"../../ducks/bridge/selectors":7e3,"../../helpers/constants/routes":7028,"../../selectors":7947,"../../selectors/multichain":7956,"@metamask/bridge-controller":1275,react:5258,"react-redux":5202,"react-router-dom":5226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),a=e("react-router-dom"),o=e("@metamask/bridge-controller"),i=e("../../ducks/bridge/actions"),c=e("../../selectors"),u=e("../../contexts/metametrics"),l=e("../../../shared/constants/metametrics"),d=e("../../helpers/constants/routes"),m=e("../../../shared/lib/deep-links/routes/swap"),h=e("../../../shared/lib/trace"),p=e("../../../shared/lib/asset-utils"),g=e("../../../shared/constants/bridge"),f=e("../../ducks/bridge/selectors"),k=e("../../selectors/multichain"),T=e("../../../shared/constants/network");n.default=()=>{const e=(0,a.useHistory)(),t=(0,r.useDispatch)(),n=(0,s.useContext)(u.MetaMetricsContext),v=(0,r.useSelector)(c.getMetaMetricsId),y=(0,r.useSelector)(c.getParticipateInMetaMetrics),S=(0,r.useSelector)(c.getDataCollectionForMarketing),b=(0,r.useSelector)(f.getLastSelectedChainId),I=(0,r.useSelector)(k.getMultichainProviderConfig);return{openBridgeExperience:(0,s.useCallback)((s,r)=>{let a=null!=r&&r.chainId&&g.ALL_ALLOWED_BRIDGE_CHAIN_IDS.includes(r.chainId)?(0,p.toAssetId)(r.address,(0,o.formatChainIdToCaip)(r.chainId)):undefined;const c=g.ALL_ALLOWED_BRIDGE_CHAIN_IDS.includes(b)?b:T.CHAIN_IDS.MAINNET;var u;a||c===(null==I?void 0:I.chainId)||(a=null===(u=(0,o.getNativeAssetForChainId)(c))||void 0===u?void 0:u.assetId);(0,h.trace)({name:h.TraceName.SwapViewLoaded,startTime:Date.now()}),n({event:l.MetaMetricsEventName.SwapLinkClicked,category:l.MetaMetricsEventCategory.Navigation,properties:{token_symbol:(null==r?void 0:r.symbol)??"",location:s,text:"Swap",chain_id:(null==r?void 0:r.chainId)??b}}),t((0,i.trackUnifiedSwapBridgeEvent)(o.UnifiedSwapBridgeEventName.ButtonClicked,{location:s,token_symbol_source:(null==r?void 0:r.symbol)??"ETH",token_symbol_destination:""})),t((0,i.resetInputFields)());let f=`${d.CROSS_CHAIN_SWAP_ROUTE}${d.PREPARE_SWAP_ROUTE}`;f+="?",a&&(f+=`${m.BridgeQueryParams.FROM}=${a}`),s===l.MetaMetricsSwapsEventSource.TransactionShield&&(f+=(a?"&":"")+"isFromTransactionShield=true"),e.push(f)},[e,v,n,y,S,b,null==I?void 0:I.chainId])}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridging.ts"}],[7093,{"../../ducks/bridge/selectors":7e3,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCountdownTimer=void 0;var s=e("react"),r=e("react-redux"),a=e("../../ducks/bridge/selectors");const o=1e3;n.useCountdownTimer=()=>{const{quotesLastFetchedMs:e}=(0,r.useSelector)(a.getBridgeQuotes),t=(0,r.useSelector)(a.getQuoteRefreshRate),[n,i]=(0,s.useState)(t),c=(0,s.useRef)(t);return(0,s.useEffect)(()=>{c.current=n},[n]),(0,s.useEffect)(()=>{e&&i(t-(Date.now()-e)+o)},[e,t]),(0,s.useEffect)(()=>{const e=setInterval(()=>{i(Math.max(0,c.current-o))},o);return()=>clearInterval(e)},[]),Math.floor(n/1e3)}}}},{package:"$root$",file:"ui/hooks/bridge/useCountdownTimer.ts"}],[7094,{"../../ducks/bridge/selectors":7e3,"../../selectors/multichain":7956,"../useMultichainSelector":7167,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsTxSubmittable=void 0;var s=e("react-redux"),r=e("../../ducks/bridge/selectors"),a=e("../../selectors/multichain"),o=e("../useMultichainSelector");n.useIsTxSubmittable=()=>{const e=(0,s.useSelector)(r.getFromToken),t=(0,s.useSelector)(r.getToToken),n=(0,o.useMultichainSelector)(a.getMultichainCurrentChainId),i=(0,s.useSelector)(r.getFromAmount),{activeQuote:c}=(0,s.useSelector)(r.getBridgeQuotes),{isInsufficientBalance:u,isInsufficientGasBalance:l,isInsufficientGasForQuote:d,isTxAlertPresent:m}=(0,s.useSelector)(r.getValidationErrors);return Boolean(e&&t&&n&&i&&c&&!u&&!l&&!d&&!m)}}}},{package:"$root$",file:"ui/hooks/bridge/useIsTxSubmittable.ts"}],[7095,{"../../ducks/bridge/actions":6998,"../../ducks/bridge/selectors":7e3,"@metamask/bridge-controller":1275,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useQuoteFetchEvents=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../ducks/bridge/selectors"),i=e("../../ducks/bridge/actions");n.useQuoteFetchEvents=()=>{const e=(0,r.useDispatch)(),{isLoading:t,quotesRefreshCount:n,quoteFetchError:c,activeQuote:u,recommendedQuote:l}=(0,r.useSelector)(o.getBridgeQuotes),{insufficientBal:d}=(0,r.useSelector)(o.getQuoteRequest),m=(0,r.useSelector)(o.getValidationErrors),h=(0,s.useMemo)(()=>{const{isEstimatedReturnLow:e,isNoQuotesAvailable:t,isInsufficientGasBalance:n,isInsufficientGasForQuote:s,isInsufficientBalance:r}=m,a=[];return e&&a.push("low_return"),t&&a.push("no_quotes"),n&&a.push("insufficient_gas_balance"),s&&a.push("insufficient_gas_for_selected_quote"),r&&a.push("insufficient_balance"),a},[m]);(0,s.useEffect)(()=>{var s,r,o,m,p;!t&&n>0&&!c&&e((0,i.trackUnifiedSwapBridgeEvent)(a.UnifiedSwapBridgeEventName.QuotesReceived,{can_submit:!d,gas_included:Boolean(null==u||null===(s=u.quote)||void 0===s?void 0:s.gasIncluded),gas_included_7702:Boolean(null==u||null===(r=u.quote)||void 0===r?void 0:r.gasIncluded7702),quoted_time_minutes:null!=u&&u.estimatedProcessingTimeInSeconds?u.estimatedProcessingTimeInSeconds/60:0,usd_quoted_gas:Number((null==u||null===(o=u.gasFee)||void 0===o||null===(o=o.effective)||void 0===o?void 0:o.usd)??0),usd_quoted_return:Number((null==u||null===(m=u.toTokenAmount)||void 0===m?void 0:m.usd)??0),best_quote_provider:l?(0,a.formatProviderLabel)(l.quote):undefined,provider:u?(0,a.formatProviderLabel)(u.quote):"_",warnings:h,price_impact:Number((null==u||null===(p=u.quote.priceData)||void 0===p?void 0:p.priceImpact)??0)}))},[n])}}}},{package:"$root$",file:"ui/hooks/bridge/useQuoteFetchEvents.ts"}],[7096,{"../../ducks/bridge/actions":6998,"../../pages/bridge/utils/slippage-service":7256,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSmartSlippage=function({fromChain:e,toChain:t,fromToken:n,toToken:i,isSwap:c}){const u=(0,r.useDispatch)(),l=(0,s.useCallback)(()=>{const s={fromChain:e,toChain:t,fromToken:n,toToken:i,isSwap:c},r=(0,a.calculateSlippage)(s);return r},[e,t,n,i,c]);(0,s.useEffect)(()=>{const e=l();u((0,o.setSlippage)(e))},[e,t,n,i,c,l,u])};var s=e("react"),r=e("react-redux"),a=e("../../pages/bridge/utils/slippage-service"),o=e("../../ducks/bridge/actions")}}},{package:"$root$",file:"ui/hooks/bridge/useSmartSlippage.ts"}],[7097,{"../../../shared/modules/bridge-utils/security-alerts-api.util":5896,"../../ducks/bridge/selectors":7e3,"../useAsync":7140,"@metamask/bridge-controller":1275,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenAlerts=n.default=void 0;var s=e("react-redux"),r=e("@metamask/bridge-controller"),a=e("../../ducks/bridge/selectors"),o=e("../../../shared/modules/bridge-utils/security-alerts-api.util"),i=e("../useAsync");const c=()=>{const e=(0,s.useSelector)(a.getFromToken),t=(0,s.useSelector)(a.getFromChain),n=(0,s.useSelector)(a.getToToken),c=(0,s.useSelector)(a.getToChain),{value:u}=(0,i.useAsyncResult)(async()=>{if(e&&t&&n&&c&&!(0,r.isNativeAddress)(n.address)){const e=(0,o.convertChainIdToBlockAidChainName)(null==c?void 0:c.chainId);if(e)return await(0,o.fetchTokenAlert)(e,(0,r.formatAddressToCaipReference)(n.address))}return null},[null==n?void 0:n.address,null==c?void 0:c.chainId]);return{tokenAlert:u}};n.useTokenAlerts=c;n.default=c}}},{package:"$root$",file:"ui/hooks/bridge/useTokenAlerts.ts"}],[7098,{"../../../shared/constants/bridge":5783,"../../../shared/constants/multichain/networks":5799,"../../../shared/constants/network":5800,"../../../shared/constants/time":5817,"../../../shared/constants/transaction":5819,"../../../shared/lib/asset-utils":5828,"../../../shared/lib/fetch-with-cache":5867,"../../ducks/bridge/selectors":7e3,"../../pages/swaps/swaps.util":7925,"../useAsync":7140,"../useMultichainBalances":7166,"@metamask/bridge-controller":1275,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokensWithFiltering=void 0;var s,r=e("react"),a=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("../../../shared/constants/transaction"),c=e("../../../shared/constants/network"),u=e("../useMultichainBalances"),l=e("../useAsync"),d=e("../../pages/swaps/swaps.util"),m=e("../../../shared/constants/time"),h=e("../../ducks/bridge/selectors"),p=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},g=e("../../../shared/constants/bridge"),f=e("../../../shared/lib/asset-utils"),k=e("../../../shared/constants/multichain/networks");const T=(e,t)=>{if(!e||!t)return undefined;const n={...t,chainId:(0,o.isSolanaChainId)(e)||(0,o.isBitcoinChainId)(e)?(0,o.formatChainIdToCaip)(e):(0,o.formatChainIdToHex)(e),assetId:"assetId"in t?t.assetId:(0,f.toAssetId)(t.address,(0,o.formatChainIdToCaip)(e))};if((0,o.isNativeAddress)(t.address)){const s=(0,o.isSolanaChainId)(e)||(0,o.isBitcoinChainId)(e)?k.MULTICHAIN_TOKEN_IMAGE_MAP[n.chainId]:c.CHAIN_ID_TOKEN_IMAGE_MAP[n.chainId];return{...n,type:i.AssetType.native,address:"",image:s??(t.iconUrl||("icon"in t?t.icon:"")||""),balance:"0",string:"0"}}return{...n,type:i.AssetType.token,image:t.iconUrl??("icon"in t?t.icon:"")??"",balance:"",string:undefined}};n.useTokensWithFiltering=(e,t,n,s)=>{const v=(0,a.useSelector)(t=>(0,h.getTopAssetsFromFeatureFlags)(t,e)),{assetsWithBalance:y}=(0,u.useMultichainBalances)(s),S=(0,a.useSelector)(e=>e.metamask.tokensChainsCache),b=(0,r.useMemo)(()=>{var t;if(!e)return undefined;if((0,o.isBitcoinChainId)(e)){const t=(0,o.getNativeAssetForChainId)(e);if(t){const e=t.address??"";return{[e]:t}}return undefined}if((0,o.isSolanaChainId)(e))return undefined;const n=(0,o.formatChainIdToHex)(e);return n?null===(t=S[n])||void 0===t?void 0:t.data:undefined},[e,S]),I=Boolean(b),{value:w,pending:C}=(0,l.useAsyncResult)(async()=>I||!e?{}:await(0,o.fetchBridgeTokens)(e,o.BridgeClientId.EXTENSION,async(e,t)=>{const{headers:n,...s}=t??{};return await(0,p.default)({url:e,...s,fetchOptions:{method:"GET",headers:n},cacheOptions:{cacheRefreshTime:10*m.MINUTE},functionName:"fetchBridgeTokens"})},g.BRIDGE_API_BASE_URL,"13.7.0"),[e,I]),_=(0,r.useMemo)(()=>b??w,[b,w]),{value:A,pending:E}=(0,l.useAsyncResult)(async()=>e?v?v.map(e=>({address:e})):await(0,d.fetchTopAssetsList)(e):[],[e,v]);return{filteredTokenListGenerator:(0,r.useCallback)(s=>function*(){const r=(e,t,r)=>{var a;const i=e=>e&&(0,o.isNativeAddress)(e)?"":e;return s(e,t,r)&&(!n||!r||!(n.symbol===e&&((0,o.isSolanaChainId)(r)?i(n.address)===i(t):(null===(a=n.address)||void 0===a?void 0:a.toLowerCase())===(null==t?void 0:t.toLowerCase()))&&n.chainId===(0,o.formatChainIdToCaip)(r)))};if(e&&A&&_&&0!==Object.keys(_).length){if(t){const n=T(e,_[t.address]??{symbol:t.symbol,address:t.address,decimals:t.decimals,iconUrl:t.image,name:t.symbol,occurrences:t.occurrences??1,aggregators:t.aggregators??[]});n&&(yield n)}for(const e of y){var a,u,l;if(r(e.symbol,e.address??undefined,e.chainId))if((0,o.isNativeAddress)(e.address)||e.isNative)yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:"",type:i.AssetType.native,balance:e.balance??"0",string:e.string??undefined,image:c.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??k.MULTICHAIN_TOKEN_IMAGE_MAP[e.chainId]??((null===(a=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===a?void 0:a.icon)||(null===(u=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===u?void 0:u.iconUrl)||(0,f.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId)))};else yield{...e,symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:e.address,type:i.AssetType.token,balance:e.balance??"",string:e.string??undefined,image:(e.image||e.address&&(null==_||null===(l=_[e.address.toLowerCase()])||void 0===l?void 0:l.iconUrl))??(0,f.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId))??""}}for(const t of A){const n=(null==_?void 0:_[t.address])??(null==_?void 0:_[t.address.toLowerCase()]),s=T(e,n);s&&r(s.symbol,s.address??undefined,e)&&(yield s)}for(const t of Object.values(_)){const n=T(e,t);n&&-1===n.symbol.indexOf("$")&&r(n.symbol,n.address??undefined,e)&&(yield n)}}}(),[y,A,e,_,n,t]),isLoading:C||E}}}}},{package:"$root$",file:"ui/hooks/bridge/useTokensWithFiltering.ts"}],[7099,{"../../../shared/constants/multichain/networks":5799,"../../ducks/bridge/actions":6998,"../../ducks/bridge/selectors":7e3,"@metamask/bridge-controller":1275,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTxAlerts=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../../shared/constants/multichain/networks"),i=e("../../ducks/bridge/selectors"),c=e("../../ducks/bridge/actions");n.useTxAlerts=()=>{const e=(0,r.useDispatch)(),t=(0,r.useSelector)(i.getFromChain),{activeQuote:n}=(0,r.useSelector)(i.getBridgeQuotes),{trade:u}=n??{},l=(0,r.useSelector)(i.getFromAccount),d=(0,s.useRef)(new AbortController);(0,s.useEffect)(()=>()=>{var e;null===(e=d.current)||void 0===e||e.abort(),d.current=null},[]),(0,s.useEffect)(()=>{var n;null===(n=d.current)||void 0===n||n.abort(),u&&"string"==typeof u&&null!=t&&t.chainId&&(0,a.isSolanaChainId)(t.chainId)&&null!=l&&l.address?(d.current=new AbortController,e((0,c.setTxAlerts)({signal:d.current.signal,chainId:o.MultichainNetworks.SOLANA,trade:u,accountAddress:l.address}))):e((0,c.setTxAlerts)(null))},[u,null==t?void 0:t.chainId,null==l?void 0:l.address])}}}},{package:"$root$",file:"ui/hooks/bridge/useTxAlerts.ts"}],[7100,{react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useClaimState=void 0;var s=e("react");n.useClaimState=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),[i,c]=(0,s.useState)(""),[u,l]=(0,s.useState)(""),[d,m]=(0,s.useState)();return{email:e,setEmail:t,impactedWalletAddress:n,setImpactedWalletAddress:r,impactedTransactionHash:a,setImpactedTransactionHash:o,reimbursementWalletAddress:i,setReimbursementWalletAddress:c,caseDescription:u,setCaseDescription:l,files:d,setFiles:m,clear:()=>{t(""),r(""),o(""),c(""),l(""),m(undefined)}}}}}},{package:"$root$",file:"ui/hooks/claims/useClaimState.ts"}],[7101,{"../../store/actions":7975,"../../store/background-connection":7976},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deFiStartPolling=async function(){const e=await(0,r.submitRequestToBackground)("deFiStartPolling",[null]);return await(0,s.addPollingTokenToAppState)(e),e},n.deFiStopPolling=async function(e){await(0,r.submitRequestToBackground)("deFiStopPolling",[e]),await(0,s.removePollingTokenFromAppState)(e)};var s=e("../../store/actions"),r=e("../../store/background-connection")}}},{package:"$root$",file:"ui/hooks/defi/defiPollingActions.ts"}],[7102,{"../../ducks/metamask/metamask":7010,"../useMultiPolling":7162,"./defiPollingActions":7101,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../../ducks/metamask/metamask"),o=(s=e("../useMultiPolling"))&&s.__esModule?s:{default:s},i=e("./defiPollingActions");n.default=()=>{const e=(0,r.useSelector)(a.getCompletedOnboarding),t=(0,r.useSelector)(a.getIsUnlocked),n=e&&t;return(0,o.default)({startPolling:i.deFiStartPolling,stopPollingByPollingToken:i.deFiStopPolling,input:n?[null]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/defi/useDeFiPolling.ts"}],[7103,{"../../selectors/gator-permissions/gator-permissions":7944,"../../store/controller-actions/gator-permissions-controller":7978,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGatorPermissions=function(e={}){const{refreshInBackground:t=!0}=e,n=(0,r.useDispatch)(),i=(0,r.useSelector)(e=>{try{return(0,o.getGatorPermissionsMap)(e)}catch(e){return undefined}}),[c,u]=(0,s.useState)(!i),[l,d]=(0,s.useState)(!1),[m,h]=(0,s.useState)(undefined),p=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{let e=!1;return i&&!t?u(!1):p.current||(async()=>{try{h(undefined),i?d(!0):u(!0),await(0,a.fetchAndUpdateGatorPermissions)()}catch(t){e||h(t)}finally{e||(u(!1),d(!1))}})().then(()=>{p.current=!0}).catch(()=>{}),()=>{e=!0}},[n,t]),{data:i,error:m,loading:c,isRefreshing:l}};var s=e("react"),r=e("react-redux"),a=e("../../store/controller-actions/gator-permissions-controller"),o=e("../../selectors/gator-permissions/gator-permissions")}}},{package:"$root$",file:"ui/hooks/gator-permissions/useGatorPermissions.ts"}],[7104,{"./useAccountSyncing":7105},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAccountSyncing",{enumerable:!0,get:function(){return s.useAccountSyncing}}),Object.defineProperty(n,"useDeleteAccountSyncingDataFromUserStorage",{enumerable:!0,get:function(){return s.useDeleteAccountSyncingDataFromUserStorage}}),Object.defineProperty(n,"useShouldDispatchAccountSyncing",{enumerable:!0,get:function(){return s.useShouldDispatchAccountSyncing}});var s=e("./useAccountSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/index.ts"}],[7105,{"../../../ducks/metamask/metamask":7010,"../../../selectors":7947,"../../../selectors/identity/authentication":7945,"../../../selectors/identity/backup-and-sync":7946,"../../../store/actions":7975,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldDispatchAccountSyncing=n.useDeleteAccountSyncingDataFromUserStorage=n.useAccountSyncing=void 0;var s,r=(s=e("loglevel"))&&s.__esModule?s:{default:s},a=e("react"),o=e("react-redux"),i=e("../../../store/actions"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,o.useSelector)(c.selectIsBackupAndSyncEnabled),t=(0,o.useSelector)(c.selectIsAccountSyncingEnabled),n=(0,o.useSelector)(u.getUseExternalServices),s=(0,o.useSelector)(l.getIsUnlocked),r=(0,o.useSelector)(d.selectIsSignedIn),a=(0,o.useSelector)(l.getCompletedOnboarding);return Boolean(n&&e&&t&&s&&r&&a)};n.useShouldDispatchAccountSyncing=m;n.useAccountSyncing=()=>{const e=(0,o.useDispatch)(),t=m(),n=(0,a.useCallback)(()=>{try{if(!t)return;e((0,i.syncAccountTreeWithUserStorage)())}catch(e){r.default.error(e)}},[e,t]);return{dispatchAccountSyncing:n,shouldDispatchAccountSyncing:t}};n.useDeleteAccountSyncingDataFromUserStorage=()=>{const e=(0,o.useDispatch)();return{dispatchDeleteAccountSyncingData:(0,a.useCallback)(async()=>{try{await e((0,i.deleteAccountSyncingDataFromUserStorage)())}catch{}},[e])}}}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/useAccountSyncing.ts"}],[7106,{"./useAutoSignIn":7107,"./useAutoSignOut":7108,"./useSignIn":7109,"./useSignOut":7110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAutoSignIn",{enumerable:!0,get:function(){return a.useAutoSignIn}}),Object.defineProperty(n,"useAutoSignOut",{enumerable:!0,get:function(){return o.useAutoSignOut}}),Object.defineProperty(n,"useSignIn",{enumerable:!0,get:function(){return s.useSignIn}}),Object.defineProperty(n,"useSignOut",{enumerable:!0,get:function(){return r.useSignOut}});var s=e("./useSignIn"),r=e("./useSignOut"),a=e("./useAutoSignIn"),o=e("./useAutoSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/index.ts"}],[7107,{"../../../ducks/metamask/metamask":7010,"../../../selectors":7947,"../../../selectors/identity/authentication":7945,"./useSignIn":7109,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignIn=function(){const[e,t]=(0,s.useState)(!1),{signIn:n}=(0,c.useSignIn)(),u=Boolean((0,r.useSelector)(a.getIsUnlocked)),l=Boolean((0,r.useSelector)(o.getUseExternalServices)),d=Boolean((0,r.useSelector)(a.getCompletedOnboarding)),m=(0,r.useSelector)(i.selectIsSignedIn),h=(0,r.useSelector)(o.getMetaMaskKeyrings),p=(0,s.useRef)(h.length);(0,s.useEffect)(()=>{h.length!==p.current&&(p.current=h.length,t(!0))},[h.length]);const g=(0,s.useMemo)(()=>(!m||e)&&u&&l&&d,[m,u,l,d,e]);return{autoSignIn:(0,s.useCallback)(async()=>{g&&(e&&(await n(!0),t(!1)),await n())},[g,n,e]),shouldAutoSignIn:g}};var s=e("react"),r=e("react-redux"),a=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),c=e("./useSignIn")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignIn.ts"}],[7108,{"../../../ducks/metamask/metamask":7010,"../../../selectors":7947,"../../../selectors/identity/authentication":7945,"./useSignOut":7110,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignOut=function(){const{signOut:e}=(0,c.useSignOut)(),t=Boolean((0,r.useSelector)(a.getIsUnlocked)),n=Boolean((0,r.useSelector)(o.getUseExternalServices)),u=(0,r.useSelector)(i.selectIsSignedIn),l=(0,s.useMemo)(()=>u&&t&&!n,[u,t,n]),d=(0,s.useMemo)(()=>l,[l]);return{autoSignOut:(0,s.useCallback)(async()=>{d&&await e()},[d,e]),shouldAutoSignOut:d}};var s=e("react"),r=e("react-redux"),a=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),c=e("./useSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignOut.ts"}],[7109,{"../../../selectors/identity/authentication":7945,"../../../store/actions":7975,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignIn=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.selectIsSignedIn),n=(0,r.useMemo)(()=>!t,[t]);return{signIn:(0,r.useCallback)(async t=>{if(t??n)try{await e((0,c.performSignIn)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}},[e,n])}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignIn.ts"}],[7110,{"../../../selectors/identity/authentication":7945,"../../../store/actions":7975,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignOut=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.selectIsSignedIn),n=(0,r.useMemo)(()=>Boolean(t),[t]);return{signOut:(0,r.useCallback)(async()=>{if(n)try{await e((0,c.performSignOut)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}},[e,n])}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignOut.ts"}],[7111,{"./useBackupAndSync":7112},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useBackupAndSync",{enumerable:!0,get:function(){return s.useBackupAndSync}});var s=e("./useBackupAndSync")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/index.ts"}],[7112,{"../../../store/actions":7975,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBackupAndSync=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null),s=(0,r.useCallback)(async(t,s)=>{n(null);try{await e((0,i.setIsBackupAndSyncFeatureEnabled)(t,s))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),n(t)}finally{e((0,i.hideLoadingIndication)())}},[e]);return{error:t,setIsBackupAndSyncFeatureEnabled:s}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/useBackupAndSync.ts"}],[7113,{"./useContactSyncing":7114},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useContactSyncing",{enumerable:!0,get:function(){return s.useContactSyncing}}),Object.defineProperty(n,"useShouldDispatchContactSyncing",{enumerable:!0,get:function(){return s.useShouldDispatchContactSyncing}});var s=e("./useContactSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useContactSyncing/index.ts"}],[7114,{"../../../ducks/metamask/metamask":7010,"../../../selectors":7947,"../../../selectors/identity/authentication":7945,"../../../selectors/identity/backup-and-sync":7946,"../../../store/actions":7975,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldDispatchContactSyncing=n.useContactSyncing=void 0;var s,r=(s=e("loglevel"))&&s.__esModule?s:{default:s},a=e("react"),o=e("react-redux"),i=e("../../../store/actions"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,o.useSelector)(c.selectIsBackupAndSyncEnabled),t=(0,o.useSelector)(c.selectIsContactSyncingEnabled),n=(0,o.useSelector)(u.getUseExternalServices),s=(0,o.useSelector)(l.getIsUnlocked),r=(0,o.useSelector)(d.selectIsSignedIn),a=(0,o.useSelector)(l.getCompletedOnboarding);return Boolean(n&&e&&t&&s&&r&&a)};n.useShouldDispatchContactSyncing=m;n.useContactSyncing=()=>{const e=(0,o.useDispatch)(),t=m(),n=(0,a.useCallback)(()=>{try{if(!t)return;e((0,i.syncContactsWithUserStorage)())}catch(e){r.default.error(e)}},[e,t]);return{dispatchContactSyncing:n,shouldDispatchContactSyncing:t}}}}},{package:"$root$",file:"ui/hooks/identity/useContactSyncing/useContactSyncing.ts"}],[7115,{"../../selectors/metamask-notifications/metamask-notifications":7948,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useReadNotificationsCounter=function(){const{readSnapNotificationsCount:e}=a(),{featureAnnouncementsReadCount:t}=o(),{onChainMetamaskNotificationsReadCount:n}=i();return{notificationsReadCount:e+t+n}},n.useUnreadNotificationsCounter=function(){const{unreadSnapNotificationsCount:e}=a(),{featureAnnouncementsUnreadCount:t}=o(),{onChainMetamaskNotificationsUnreadCount:n}=i();return{notificationsUnreadCount:e+t+n}};var s=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications");const a=()=>({unreadSnapNotificationsCount:(0,s.useSelector)(r.getSnapNotificationsUnreadCount),readSnapNotificationsCount:(0,s.useSelector)(r.getSnapNotificationsReadCount)}),o=()=>{const e=(0,s.useSelector)(r.selectIsFeatureAnnouncementsEnabled),t=(0,s.useSelector)(r.getFeatureAnnouncementsUnreadCount),n=(0,s.useSelector)(r.getFeatureAnnouncementsReadCount);return e?{featureAnnouncementsUnreadCount:t,featureAnnouncementsReadCount:n}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0}},i=()=>{const e=(0,s.useSelector)(r.selectIsMetamaskNotificationsEnabled),t=(0,s.useSelector)(r.getOnChainMetamaskNotificationsUnreadCount),n=(0,s.useSelector)(r.getOnChainMetamaskNotificationsReadCount);return e?{onChainMetamaskNotificationsUnreadCount:t,onChainMetamaskNotificationsReadCount:n}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0}}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[7116,{"../../contexts/metamask-notifications/notification-storage-keys":6984,"../../store/actions":7975,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCreateNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{createNotifications:(0,r.useCallback)(async()=>{n(null);try{await e((0,i.createOnChainTriggers)()),await(0,c.updateNotificationSubscriptionExpiration)()}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}},[e]),error:t}},n.useDisableNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{disableNotifications:(0,r.useCallback)(async()=>{n(null);try{await e((0,i.disableMetamaskNotifications)()),await(0,c.setUserHasTurnedOffNotificationsOnce)()}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}},[e]),error:t}},n.useEnableNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{enableNotifications:(0,r.useCallback)(async()=>{n(null);try{await e((0,i.enableMetamaskNotifications)()),await(0,c.updateNotificationSubscriptionExpiration)()}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}},[e]),error:t}},n.useListNotifications=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null),[u,l]=(0,r.useState)(undefined);return{listNotifications:(0,r.useCallback)(async()=>{n(!0),c(null);const t=new URLSearchParams(window.location.search).get("previewToken");try{const n=await e((0,i.fetchAndUpdateMetamaskNotifications)(t??undefined));return l(n),n}catch(e){throw o.default.error(e),c(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1)}},[e]),notificationsData:u,isLoading:t,error:s}},n.useMarkNotificationAsRead=function(){const e=(0,a.useDispatch)();return{markNotificationAsRead:(0,r.useCallback)(async t=>{try{e((0,i.markMetamaskNotificationsAsRead)(t))}catch(e){throw o.default.error(e),e}},[e])}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../store/actions"),c=e("../../contexts/metamask-notifications/notification-storage-keys")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[7117,{"../../selectors/metamask-notifications/metamask-notifications":7948,"../../store/actions":7975,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountSettingsProps=function(e){const t=(0,a.useSelector)(c.getIsUpdatingMetamaskNotificationsAccount),n=(0,a.useSelector)(c.selectIsMetamaskNotificationsEnabled),s=function(){const e=(0,a.useDispatch)(),t=(0,r.useCallback)(async t=>{try{return await e((0,i.checkAccountsPresence)(t))}catch{return{}}},[]);return t}(),[o,u]=(0,r.useState)({}),[l,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),p=(0,r.useMemo)(()=>JSON.stringify(e),[e]),g=(0,r.useCallback)(async e=>{try{d(!0),h(null);const t=await s(e);u(t)}catch{h("Failed to get account settings")}finally{d(!1)}},[]);return(0,r.useEffect)(()=>{if(!n)return;const e=JSON.parse(p);g(e)},[p,s,n]),{data:o,initialLoading:l,error:m,accountsBeingUpdated:t,update:g}},n.useSwitchAccountNotificationsChange=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)(async(t,s)=>{n(null);try{s?await e((0,i.enableAccounts)(t)):await e((0,i.disableAccounts)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),n(t)}e((0,i.hideLoadingIndication)())},[e]),error:t}},n.useSwitchFeatureAnnouncementsChange=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)(async t=>{n(null);try{await e((0,i.setFeatureAnnouncementsEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t)}},[e]),error:t}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../store/actions"),c=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[7118,{"../../../shared/lib/snaps/snaps":5883,"../../selectors":7947,"../../selectors/accounts":7936,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHdKeyringsWithSnapAccounts=void 0;var s=e("react"),r=e("react-redux"),a=e("../../selectors/accounts"),o=e("../../selectors"),i=e("../../../shared/lib/snaps/snaps");n.useHdKeyringsWithSnapAccounts=()=>{const e=(0,r.useSelector)(o.getMetaMaskHdKeyrings),t=(0,r.useSelector)(a.getInternalAccounts);return(0,s.useMemo)(()=>e.map(e=>{const n=t.filter(t=>{var n;return t.metadata.snap&&(0,i.isSnapPreinstalled)(t.metadata.snap.id)&&(null===(n=t.options)||void 0===n?void 0:n.entropySource)===e.metadata.id}).map(e=>e.address);return{...e,accounts:[...e.accounts,...n]}}),[e,t])}}}},{package:"$root$",file:"ui/hooks/multi-srp/useHdKeyringsWithSnapAccounts.ts"}],[7119,{"../../components/app/assets/util/formatWithThreshold":6012,"../../ducks/locale/locale":7009,"../../ducks/metamask/metamask":7010,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayBalanceCalc=function(){const e=(0,s.useSelector)(o.getCurrentCurrency),t=(0,s.useSelector)(i.getIntlLocale);return(0,r.useCallback)((n=0,s=e)=>(0,a.formatWithThreshold)(n,.01,t,{style:"currency",currency:s}),[e,t])};var s=e("react-redux"),r=e("react"),a=e("../../components/app/assets/util/formatWithThreshold"),o=e("../../ducks/metamask/metamask"),i=e("../../ducks/locale/locale")}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useAccountBalance.ts"}],[7120,{"../../selectors/assets":7939,"./useAccountBalance":7119,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSingleWalletAccountsBalanceCallback=function(e){const t=(0,s.useMemo)(()=>(0,a.selectBalanceByWallet)(e),[e]),n=(0,r.useSelector)(t),i=(0,o.useDisplayBalanceCalc)();return(0,s.useCallback)(e=>{var t;const s=null===(t=n.groups)||void 0===t?void 0:t[e];if(!s)return undefined;return i(null==s?void 0:s.totalBalanceInUserCurrency,null==s?void 0:s.userCurrency)},[n,i])},n.useSingleWalletDisplayBalance=function(e){const t=(0,s.useMemo)(()=>(0,a.selectBalanceByWallet)(e),[e]),n=(0,r.useSelector)(t);return(0,o.useDisplayBalanceCalc)()(n.totalBalanceInUserCurrency,n.userCurrency)};var s=e("react"),r=e("react-redux"),a=e("../../selectors/assets"),o=e("./useAccountBalance")}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useWalletBalance.ts"}],[7121,{"../../ducks/metamask/metamask":7010,"../../selectors/multichain-accounts/account-tree":7951,"../multi-srp/useHdKeyringsWithSnapAccounts":7118,"./utils":7122,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useWalletInfo=void 0;var s=e("react"),r=e("react-redux"),a=e("../multi-srp/useHdKeyringsWithSnapAccounts"),o=e("../../selectors/multichain-accounts/account-tree"),i=e("../../ducks/metamask/metamask"),c=e("./utils");n.useWalletInfo=e=>{const t=(0,a.useHdKeyringsWithSnapAccounts)(),n=(0,r.useSelector)(i.getIsPrimarySeedPhraseBackedUp),u=(0,r.useSelector)(t=>(0,o.getMultichainAccountsByWalletId)(t,e)),l=Object.values(u??{});return(0,s.useMemo)(()=>{if(0===Object.entries(l||{}).length)return{multichainAccounts:l,keyringId:undefined};const s=t.findIndex(t=>t.metadata.id===(0,c.stripWalletTypePrefixFromWalletId)(e));if(-1===s)return{multichainAccounts:l,keyringId:undefined};const r=t[s],a=(null==r?void 0:r.metadata.id)??undefined,o=1===s+1?n:undefined;return{multichainAccounts:l,keyringId:a,isSRPBackedUp:o}},[l,t,n,e])}}}},{package:"$root$",file:"ui/hooks/multichain-accounts/useWalletInfo.ts"}],[7123,{"../../../../shared/modules/selectors/networks":5918,"../../../selectors":7947,"@metamask/bridge-controller":1275,"@metamask/utils":2908,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.RampsMetaMaskEntry=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("@metamask/utils"),i=e("../../../../shared/modules/selectors/networks"),c=e("../../../selectors");let u=n.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});n.default=(e=u.BuySellButton)=>{const t=(0,r.useSelector)(i.getCurrentChainId),n=(0,r.useSelector)(c.getMetaMetricsId),l=(0,r.useSelector)(c.getParticipateInMetaMetrics),d=(0,r.useSelector)(c.getDataCollectionForMarketing),m=(0,s.useCallback)(t=>{try{const s=new URLSearchParams;s.set("metamaskEntry",e);let r="";r=(0,a.isSolanaChainId)(t)?t:(0,o.hexToNumber)(t).toString(),s.set("chainId",r),n&&s.set("metametricsId",n),s.set("metricsEnabled",String(l)),d&&s.set("marketingEnabled",String(d));const i=new URL("https://app.metamask.io");return i.pathname="buy",i.search=s.toString(),i.toString()}catch{return"https://app.metamask.io/buy"}},[d,l,n,e]);return{openBuyCryptoInPdapp:(0,s.useCallback)(e=>{const n=m(e||t);global.platform.openTab({url:n})},[t,m]),getBuyURI:m}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[7124,{"../../../shared/modules/conversion.utils":5900,"../../../shared/modules/hexstring-utils":5906,"../../selectors":7947,"../../selectors/multichain-accounts/account-tree":7951,"../../selectors/snaps":7970,"@metamask/utils":2908,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=void 0;var s=e("@metamask/utils"),r=e("react-redux"),a=e("../../selectors/snaps"),o=e("../../../shared/modules/hexstring-utils"),i=e("../../../shared/modules/conversion.utils"),c=e("../../selectors/multichain-accounts/account-tree"),u=e("../../selectors");n.useDisplayName=e=>{var t;const{address:n,chain:{namespace:l,reference:d}}=e,m=l===s.KnownCaipNamespace.Eip155,h=m?(0,o.toChecksumHexAddress)(n):n,p=(0,r.useSelector)(u.getIsMultichainAccountsState2Enabled),g=null===(t=(0,r.useSelector)(e=>(0,c.getAccountGroupsByAddress)(e,[h]))[0])||void 0===t?void 0:t.metadata.name,f=(0,r.useSelector)(e=>(0,a.getMemoizedAccountName)(e,h)),k=(0,r.useSelector)(e=>(0,a.getAddressBookEntryByNetwork)(e,h,`0x${(0,i.decimalToHex)(m?d:"0")}`));return p&&g||f||m&&(null==k?void 0:k.name)||undefined}}}},{package:"$root$",file:"ui/hooks/snaps/useDisplayName.ts"}],[7125,{"../../selectors":7947,"@metamask/snaps-sdk":2671,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useInsightSnaps=function(e){const t=(0,s.useSelector)(t=>(0,a.getSnapInsights)(t,e)),n=t?Object.values(t):[],o=n.filter(e=>e.severity===r.SeverityLevel.Critical);return{data:n,warnings:o}};var s=e("react-redux"),r=e("@metamask/snaps-sdk"),a=e("../../selectors")}}},{package:"$root$",file:"ui/hooks/snaps/useInsightSnaps.js"}],[7126,{react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=()=>{const e=(0,s.useRef)(null),[t,n]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{n(e.current&&e.current.offsetHeight<e.current.scrollHeight)},[e]),{contentRef:e,isOverflowing:t}}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[7127,{"../../store/actions":7975,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeWebsite=void 0;var s=e("react"),r=e("../../store/actions");n.useSafeWebsite=e=>{const[t,n]=(0,s.useState)();return(0,s.useEffect)(()=>{e&&(async()=>{(await(0,r.getPhishingResult)(e)).result||n(new URL(e))})()},[e]),t}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[7128,{"../../selectors":7947,"../../store/actions":7975,"@metamask/snaps-rpc-methods":2615,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNameResolution=function(){const e=(0,r.useSelector)(o.getNameLookupSnaps),t=(0,s.useCallback)((t,n)=>e.filter(({permission:e})=>{const s=(0,a.getChainIdsCaveat)(e);if(s&&!s.includes(t))return!1;const r=(0,a.getLookupMatchersCaveat)(e);if(r){const{tlds:e,schemes:t}=r;return(null==e?void 0:e.some(e=>n.endsWith(`.${e}`)))||(null==t?void 0:t.some(e=>n.startsWith(`${e}:`)))}return!0}).map(({id:e})=>e),[e]);return{fetchResolutions:(0,s.useCallback)(async(e,n)=>{const s=t(e,n);if(0===s.length)return[];return(await Promise.allSettled(s.map(t=>(0,i.handleSnapRequest)({snapId:t,origin:"metamask",handler:"onNameLookup",request:{jsonrpc:"2.0",method:" ",params:{chainId:e,domain:n}}})))).filter(e=>"fulfilled"===e.status&&e.value).flatMap(e=>e.value.resolvedAddresses)},[t])}};var s=e("react"),r=e("react-redux"),a=e("@metamask/snaps-rpc-methods"),o=e("../../selectors"),i=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNameResolution.ts"}],[7129,{"../../helpers/utils/util":7082,"@metamask/snaps-utils":2785,"react-router-dom-v5-compat":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-router-dom-v5-compat"),r=e("@metamask/snaps-utils"),a=e("../../helpers/utils/util");n.default=()=>{const e=(0,s.useNavigate)();return{useSnapNavigate:t=>{let n;const s=(0,r.parseMetaMaskUrl)(t);n=s.snapId?(0,a.getSnapRoute)(s.snapId):s.path,e(n)}}}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNavigation.ts"}],[7130,{"../../store/actions":7975,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapSettings=function({snapId:e}){const t=(0,r.useDispatch)(),[n,o]=(0,s.useState)(!0),[i,c]=(0,s.useState)(undefined),[u,l]=(0,s.useState)(undefined);return(0,s.useEffect)(()=>{let n=!1;return e&&async function(e){try{l(undefined),o(!0);const s=await(0,a.handleSnapRequest)({snapId:e,origin:"metamask",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});n||(c(s),(0,a.forceUpdateMetamaskState)(t))}catch(e){n||l(e)}finally{n||o(!1)}}(e),()=>{n=!0}},[e]),{data:i,error:u,loading:n}};var s=e("react"),r=e("react-redux"),a=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[7131,{"../../selectors":7947,"../../store/actions":7975,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSyncSRPs=void 0;var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../../store/actions"),c=e("../../selectors");n.useSyncSRPs=()=>{const e=(0,a.useDispatch)(),t=(0,a.useSelector)(c.getIsSocialLoginFlow),[n,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{if(t)try{s(!0),await e((0,i.syncSeedPhrases)())}catch(e){o.default.error("[useSyncSRPs] error",e)}finally{s(!1)}})()},[e,t]),{loading:n}}}}},{package:"$root$",file:"ui/hooks/social-sync/useSyncSRPs.ts"}],[7132,{"../../../shared/lib/shield":5882,"../../../shared/modules/conversion.utils":5900,"../../ducks/metamask/metamask":7010,"../../helpers/constants/routes":7028,"../../pages/confirmations/send-legacy/send.utils":7659,"../../selectors":7947,"../../selectors/identity/authentication":7945,"../../selectors/multichain-accounts/account-tree":7951,"../../selectors/subscription":7971,"../../store/actions":7975,"../useAsync":7140,"./useSubscriptionPricing":7133,"@metamask/subscription-controller":2810,"@metamask/transaction-controller":2862,loglevel:4824,react:5258,"react-redux":5202,"react-router-dom-v5-compat":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserSubscriptions=n.useUserSubscriptionByProduct=n.useUpdateSubscriptionCardPaymentMethod=n.useUnCancelSubscription=n.useSubscriptionEligibility=n.useSubscriptionCryptoApprovalTransaction=n.useOpenGetSubscriptionBillingPortal=n.useCancelSubscription=void 0;var s,r=e("react-redux"),a=e("react"),o=e("@metamask/subscription-controller"),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},c=e("react-router-dom-v5-compat"),u=e("@metamask/transaction-controller"),l=e("../../selectors/subscription"),d=e("../../store/actions"),m=e("../useAsync"),h=e("../../selectors/identity/authentication"),p=e("../../ducks/metamask/metamask"),g=e("../../../shared/lib/shield"),f=e("../../pages/confirmations/send-legacy/send.utils"),k=e("../../../shared/modules/conversion.utils"),T=e("../../helpers/constants/routes"),v=e("../../selectors/multichain-accounts/account-tree"),y=e("../../selectors"),S=e("./useSubscriptionPricing");n.useUserSubscriptions=({refetch:e}={refetch:!1})=>{const t=(0,r.useDispatch)(),n=(0,r.useSelector)(h.selectIsSignedIn),s=(0,r.useSelector)(p.getIsUnlocked),{customerId:a,subscriptions:o,trialedProducts:i}=(0,r.useSelector)(l.getUserSubscriptions),c=(0,m.useAsyncResult)(async()=>n&&e&&s?await t((0,d.getSubscriptions)()):undefined,[e,t,n,s]);return{customerId:a,subscriptions:o,trialedProducts:i,loading:c.pending,error:c.error}};n.useUserSubscriptionByProduct=(e,t)=>(0,a.useMemo)(()=>null==t?void 0:t.find(t=>t.products.some(t=>t.name===e)),[t,e]);n.useCancelSubscription=({subscriptionId:e})=>{const t=(0,r.useDispatch)();return(0,m.useAsyncCallback)(async()=>{e&&await t((0,d.cancelSubscription)({subscriptionId:e}))},[t,e])};n.useUnCancelSubscription=({subscriptionId:e})=>{const t=(0,r.useDispatch)();return(0,m.useAsyncCallback)(async()=>{e&&await t((0,d.unCancelSubscription)({subscriptionId:e}))},[t,e])};n.useOpenGetSubscriptionBillingPortal=()=>{const e=(0,r.useDispatch)();return(0,m.useAsyncCallback)(async()=>{const{url:t}=await e((0,d.getSubscriptionBillingPortalUrl)());return await platform.openTab({url:t})},[e])};n.useUpdateSubscriptionCardPaymentMethod=({subscriptionId:e,recurringInterval:t})=>{const n=(0,r.useDispatch)();return(0,m.useAsyncCallback)(async()=>{if(!e||!t)throw new Error("Subscription ID and recurring interval are required");await n((0,d.updateSubscriptionCardPaymentMethod)({subscriptionId:e,paymentType:o.PAYMENT_TYPES.byCard,recurringInterval:t}))},[n,e,t])};n.useSubscriptionCryptoApprovalTransaction=e=>{var t;const n=(0,c.useNavigate)(),{subscriptionPricing:s}=(0,S.useSubscriptionPricing)(),i=(0,r.useSelector)(e=>(0,v.getInternalAccountBySelectedAccountGroupAndCaip)(e,"eip155:1")),l=(0,r.useSelector)(t=>(0,y.selectNetworkConfigurationByChainId)(t,null==e?void 0:e.chainId)),m=null==l||null===(t=l.rpcEndpoints[l.defaultRpcEndpointIndex??0])||void 0===t?void 0:t.networkClientId;return{execute:(0,a.useCallback)(async()=>{var t;if(!s)throw new Error("Subscription pricing not found");if(!e)throw new Error("No token selected");const r=null==s||null===(t=s.paymentMethods)||void 0===t||null===(t=t.find(e=>e.type===o.PAYMENT_TYPES.byCrypto))||void 0===t||null===(t=t.chains)||void 0===t||null===(t=t.find(t=>t.chainId===(null==e?void 0:e.chainId)))||void 0===t?void 0:t.paymentAddress,a=(0,f.generateERC20ApprovalData)({spenderAddress:r,amount:(0,k.decimalToHex)(e.approvalAmount.approveAmount)}),c={from:null==i?void 0:i.address,to:e.address,value:"0x0",data:a},l={type:u.TransactionType.shieldSubscriptionApprove,networkClientId:m};await(0,d.addTransaction)(c,l),n(T.CONFIRM_TRANSACTION_ROUTE)},[n,s,i,e,m])}};n.useSubscriptionEligibility=e=>{const t=(0,r.useDispatch)(),n=(0,r.useSelector)(h.selectIsSignedIn),s=(0,r.useSelector)(p.getIsUnlocked);return{getSubscriptionEligibility:(0,a.useCallback)(async()=>{try{if(!n||!s)return undefined;const r=await t((0,d.getSubscriptions)());if(!(0,g.getIsShieldSubscriptionActive)(r)){return(await t((0,d.getSubscriptionsEligibilities)())).find(t=>t.product===e)}return undefined}catch(e){return i.default.error("[useSubscriptionEligibility] error",e),undefined}},[n,s,t,e])}}}}},{package:"$root$",file:"ui/hooks/subscription/useSubscription.ts"}],[7133,{"../../../shared/constants/transaction":5819,"../../selectors":7947,"../../selectors/assets":7939,"../../selectors/subscription":7971,"../../store/actions":7975,"../useAsync":7140,"../useTokenBalances":7186,"@metamask/subscription-controller":2810,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSubscriptionProductPlans=n.useSubscriptionPricing=n.useSubscriptionPaymentMethods=n.useShieldSubscriptionPricingFromTokenApproval=n.useAvailableTokenBalances=void 0;var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("@metamask/subscription-controller"),c=e("../../selectors/subscription"),u=e("../../store/actions"),l=e("../../selectors"),d=e("../../selectors/assets"),m=e("../useTokenBalances"),h=e("../../../shared/constants/transaction"),p=e("../useAsync");n.useAvailableTokenBalances=e=>{const{paymentChains:t,price:n,productType:s}=e,i=(0,r.useMemo)(()=>null==t?void 0:t.map(e=>e.chainId),[t]),c=(0,r.useMemo)(()=>null==t?void 0:t.reduce((e,t)=>(e[t.chainId]=t.tokens,e),{}),[t]),p=(0,a.useSelector)(l.getSelectedAccount),g=(0,a.useSelector)(e=>(0,d.getTokenBalancesEvm)(e,p.address));(0,m.useTokenBalances)({chainIds:i});const[f,k]=(0,r.useState)([]),T=(0,r.useMemo)(()=>g.filter(e=>{const t=null==c?void 0:c[e.chainId];if(!Boolean(t))return!1;if(!(null==t?void 0:t.some(t=>t.address.toLowerCase()===e.address.toLowerCase())))return!1;return!!(e.balance&&parseFloat(e.balance)>0)}),[g,c]);return(0,r.useEffect)(()=>{if(!n||!c)return;(async()=>{const e=[];(await Promise.all(T.map(e=>{var t;return(null==c||null===(t=c[e.chainId])||void 0===t?void 0:t.find(t=>t.address.toLowerCase()===e.address.toLowerCase()))?(0,u.getSubscriptionCryptoApprovalAmount)({chainId:e.chainId,paymentTokenAddress:e.address,productType:s,interval:n.interval}):(o.default.error("[useAvailableTokenBalances] tokenPaymentInfo not found",e),null)}))).forEach((t,n)=>{const s=T[n];if(!s.balance)return;const r=10n**6n,a=BigInt(Math.round(Number(s.balance)*Number(r)))/r;t&&a*BigInt(10**s.decimals)>=BigInt(t.approveAmount)&&e.push({...s,approvalAmount:{approveAmount:t.approveAmount,chainId:s.chainId,paymentAddress:t.paymentAddress,paymentTokenAddress:t.paymentTokenAddress},type:s.isNative?h.AssetType.native:h.AssetType.token})}),k(e)})()},[n,s,c,T]),f};const g=({refetch:e}={refetch:!1})=>{const t=(0,a.useDispatch)(),n=(0,a.useSelector)(c.getSubscriptionPricing),{pending:s,error:r}=(0,p.useAsyncResult)(async()=>e?await t((0,u.getSubscriptionPricing)()):undefined,[t,e]);return{subscriptionPricing:n,loading:s,error:r}};n.useSubscriptionPricing=g;const f=(e,t)=>(0,r.useMemo)(()=>{var n;return null==t||null===(n=t.products.find(t=>t.name===e))||void 0===n?void 0:n.prices},[t,e]);n.useSubscriptionProductPlans=f;const k=(e,t)=>(0,r.useMemo)(()=>null==t?void 0:t.paymentMethods.find(t=>t.type===e),[t,e]);n.useSubscriptionPaymentMethods=k;n.useShieldSubscriptionPricingFromTokenApproval=({transactionMeta:e,decodedApprovalAmount:t})=>{const{subscriptionPricing:n}=g(),s=f(i.PRODUCT_TYPES.SHIELD,n),a=k(i.PAYMENT_TYPES.byCrypto,n),o=(0,r.useMemo)(()=>{var t;return null==a||null===(t=a.chains)||void 0===t||null===(t=t.find(t=>t.chainId.toLowerCase()===(null==e?void 0:e.chainId.toLowerCase())))||void 0===t?void 0:t.tokens.find(t=>{var n;return t.address.toLowerCase()===(null==e||null===(n=e.txParams)||void 0===n||null===(n=n.to)||void 0===n?void 0:n.toLowerCase())})},[a,e]),{value:c,pending:l}=(0,p.useAsyncResult)(async()=>{if(o){const r={chainId:null==e?void 0:e.chainId,paymentTokenAddress:o.address,productType:i.PRODUCT_TYPES.SHIELD},a=Object.values(i.RECURRING_INTERVALS),c=await Promise.all(a.map(e=>(0,u.getSubscriptionCryptoApprovalAmount)({...r,interval:e})));for(let e=0;e<c.length;e++){var n;if((null===(n=c[e])||void 0===n?void 0:n.approveAmount)===t)return null==s?void 0:s.find(t=>t.interval===a[e])}}return undefined},[e,o,t,s]);return{productPrice:c,pending:l}}}}},{package:"$root$",file:"ui/hooks/subscription/useSubscriptionPricing.ts"}],[7134,{"../../shared/lib/multichain/scope-utils":5877,"../selectors/multichain-accounts/account-tree":7951,"@metamask/chain-agnostic-permission":1329,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountGroupsForPermissions=n.supportsNamespaces=n.supportsChainIds=n.hasRequestedAccountIds=void 0;var s=e("react-redux"),r=e("@metamask/chain-agnostic-permission"),a=e("react"),o=e("../selectors/multichain-accounts/account-tree"),i=e("../../shared/lib/multichain/scope-utils");const c=(e,t)=>e.accounts.some(e=>(0,i.hasChainIdSupport)(e.scopes,t));n.supportsChainIds=c;const u=(e,t)=>e.accounts.some(e=>(0,i.hasNamespaceSupport)(e.scopes,t));n.supportsNamespaces=u;const l=(e,t)=>e.accounts.some(e=>{try{return(0,r.isInternalAccountInPermittedAccountIds)(e,t)}catch{return!1}});n.hasRequestedAccountIds=l;n.useAccountGroupsForPermissions=(e,t,n,d)=>{const m=(0,s.useSelector)(o.getSelectedAccountGroup),h=(0,s.useSelector)(o.getAccountGroupWithInternalAccounts),p=(0,a.useMemo)(()=>{const s=h.find(e=>e.id===m),a=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(e),o=new Set(d);let p=h;s&&(p=Array.from(new Set([s,...h])));const g=e=>((e,t)=>e.accounts.some(e=>{try{return(0,r.isInternalAccountInPermittedAccountIds)(e,t)}catch{return!1}}))(e,a),f=e=>n.length>0?c(e,n):u(e,o),k=e=>l(e,t),T=p.filter(g),v=p.filter(e=>f(e)&&!k(e)),y=p.filter(e=>g(e)&&k(e)),S=p.filter(e=>f(e)&&k(e)),b=p.filter(e=>g(e)||k(e)),I=Array.from(new Set([...(0,i.getCaip25AccountIdsFromAccountGroupAndScope)(b,n)])),w=S.length>0,C=v.length>0;let _=[];if(!w&&C){const e=s&&(n.length>0?c(s,n):u(s,o))?s:v[0];e&&(_=[e])}const A=new Set([...S,..._]);return{selectedAndRequestedAccountGroups:Array.from(A),supportedAccountGroups:Array.from(new Set([...S,...v])),connectedAccountGroups:Array.from(new Set([...y,...T])),connectedCaipAccountIds:a,connectedAccountGroupWithRequested:Array.from(new Set(b)),caipAccountIdsOfConnectedAndRequestedAccountGroups:I}},[h,e,d,n,m,t]);return{connectedAccountGroups:p.connectedAccountGroups,supportedAccountGroups:p.supportedAccountGroups,existingConnectedCaipAccountIds:p.connectedCaipAccountIds,connectedAccountGroupWithRequested:p.connectedAccountGroupWithRequested,caipAccountIdsOfConnectedAndRequestedAccountGroups:p.caipAccountIdsOfConnectedAndRequestedAccountGroups,selectedAndRequestedAccountGroups:p.selectedAndRequestedAccountGroups}}}}},{package:"$root$",file:"ui/hooks/useAccountGroupsForPermissions.ts"}],[7135,{"../../shared/constants/network":5800,"../../shared/modules/conversion.utils":5900,"../../shared/modules/selectors/networks":5918,"../ducks/metamask/metamask":7010,"../helpers/utils/token-util":7078,"../selectors":7947,"ethereumjs-util":4319,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalCrossChainFiatBalance=void 0;var s=e("react-redux"),r=e("ethereumjs-util"),a=e("react"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),l=e("../../shared/modules/selectors/networks"),d=e("../../shared/constants/network");n.useAccountTotalCrossChainFiatBalance=(e,t)=>{const n=(0,s.useSelector)(l.getNetworkConfigurationsByChainId),m=(0,s.useSelector)(i.getEnabledNetworks),h=(0,a.useMemo)(()=>Object.assign({},...Object.values(m??{})),[m]),p=(0,s.useSelector)(o.getCurrencyRates),g=(0,s.useSelector)(o.getCurrentCurrency),f=(0,s.useSelector)(i.getCrossChainTokenExchangeRates,s.shallowEqual),k=(0,s.useSelector)(i.getCrossChainMetaMaskCachedBalances),T=(0,a.useMemo)(()=>({...f}),[f]),v=(0,a.useMemo)(()=>t.map(e=>Object.keys(h).includes(e.chainId.toString())?e:null).filter(e=>null!==e),[t,h]),y=(0,a.useMemo)(()=>v.map(t=>{var s,a;const{tokensWithBalances:o}=t,i=d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[t.chainId]??n[t.chainId].nativeCurrency,l=null==p||null===(s=p[i])||void 0===s?void 0:s.conversionRate,m=o.map(e=>{var n;const s=null==T||null===(n=T[t.chainId])||void 0===n?void 0:n[(0,r.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(s,l,g,e.string,e.symbol,!1,!1)}),h=(null==k||null===(a=k[t.chainId])||void 0===a?void 0:a[null==e?void 0:e.address])??0,f=(0,c.getValueFromWeiHex)({value:h,toCurrency:g,conversionRate:l,numberOfDecimals:2});return{...t,tokenFiatBalances:m,nativeFiatValue:f}}),[v,n,p,T,k,null==e?void 0:e.address,g]);return{totalFiatBalance:(0,a.useMemo)(()=>y.reduce((e,t)=>{const n=t.tokenFiatBalances.filter(e=>e!==undefined),s=(0,c.sumDecimals)(t.nativeFiatValue,...n);return e+(s.toNumber?s.toNumber():Number(s))},0),[y]).toString(10),tokenFiatBalancesCrossChains:y}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[7136,{"../../shared/modules/conversion.utils":5900,"../../shared/modules/selectors/networks":5918,"../ducks/metamask/metamask":7010,"../helpers/utils/confirm-tx.util":7051,"../helpers/utils/token-util":7078,"../helpers/utils/util":7082,"../selectors":7947,"./useTokenBalances":7186,"ethereumjs-util":4319,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var s=e("react-redux"),r=e("ethereumjs-util"),a=e("react"),o=e("../../shared/modules/selectors/networks"),i=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),l=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),h=e("./useTokenBalances");n.useAccountTotalFiatBalance=(e,t,n=!1)=>{const p=(0,s.useSelector)(o.getCurrentChainId);let g=(0,s.useSelector)(u.getConversionRate);const f=(0,s.useSelector)(i.getUSDConversionRate);let k=(0,s.useSelector)(u.getCurrentCurrency);n&&(g=f,k="usd");const T=(0,s.useSelector)(i.getTokenExchangeRates,s.shallowEqual),v=(0,s.useSelector)(i.getConfirmationExchangeRates),y=(0,s.useSelector)(i.getMetaMaskCachedBalances),S=(null==y?void 0:y[null==e?void 0:e.address])??0,b=(0,c.getValueFromWeiHex)({value:S,toCurrency:k,conversionRate:g,numberOfDecimals:2}),I=(0,s.useSelector)(i.getAllTokens),w=(0,a.useMemo)(()=>{var t;return(null==I||null===(t=I[p])||void 0===t?void 0:t[null==e?void 0:e.address])??[]},[null==e?void 0:e.address,p,I]),C=(0,s.useSelector)(i.getTokenList),_=(0,s.useSelector)(i.getNativeCurrencyImage),A=(0,s.useSelector)(u.getNativeCurrency),{tokensWithBalances:E}=(0,h.useTokenTracker)({chainId:p,tokens:w,address:null==e?void 0:e.address,hideZeroBalanceTokens:t}),N=(0,a.useMemo)(()=>({...T,...v}),[v,T]),M=(0,a.useMemo)(()=>E.map(e=>{const t=N[(0,r.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,g,k,e.string,e.symbol,!1,!1)}),[E,N,g,k]),P=(0,a.useMemo)(()=>((e,t)=>{const n=[];return t.forEach(t=>{const s=null==e?void 0:e[t.address.toLowerCase()];s&&n.push({...s,balance:t.balance,string:t.string,balanceError:t.balanceError})}),n})(C,E),[C,E]),R=(0,a.useMemo)(()=>[{iconUrl:_,symbol:A,fiatBalance:b},...P.map((e,t)=>({...e,fiatBalance:M[t]}))],[P,M,_,A,b]),O=(0,a.useMemo)(()=>R.sort((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)),[R]),D=(0,c.sumDecimals)(b,...M).toString(10),x=(0,a.useMemo)(()=>(E.forEach(e=>{e.string=(0,m.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=N[(0,r.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,g,k,e.string,e.symbol,!1,!1)||"0"}),E),[E,N,g,k]),B=(0,l.formatCurrency)(D,k);let $=(0,c.getWeiHexFromDecimalValue)({value:D,fromCurrency:k,conversionRate:g,invertConversionRate:!0});return"NaN"===$&&($="0x0"),{formattedFiat:B,totalWeiBalance:$,totalFiatBalance:D,tokensWithBalances:x,loading:!1,orderedTokenList:O,mergedRates:N}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[7137,{"../ducks/metamask/metamask":7010,"../selectors":7947,"../selectors/selectors":7963,"../store/actions":7975,"./useMultiPolling":7162,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),c=e("../selectors/selectors"),u=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getNetworkClientIdsToPoll),t=(0,r.useSelector)(i.getCompletedOnboarding),n=(0,r.useSelector)(i.getIsUnlocked),s=(0,r.useSelector)(a.getEnabledNetworkClientIds),l=t&&n,d=c.isGlobalNetworkSelectorRemoved?s:e;(0,u.default)({startPolling:o.accountTrackerStartPolling,stopPollingByPollingToken:o.accountTrackerStopPollingByPollingToken,input:l?d:[]})}}}},{package:"$root$",file:"ui/hooks/useAccountTrackerPolling.ts"}],[7138,{"../ducks/confirm-alerts/confirm-alerts":7002,"../helpers/constants/design-system":7023,"../selectors/alerts":7937,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-redux"),r=e("react"),a=e("../selectors/alerts"),o=e("../ducks/confirm-alerts/confirm-alerts"),i=e("../helpers/constants/design-system");function c(e){const t={[i.Severity.Danger]:3,[i.Severity.Warning]:2,[i.Severity.Info]:1,[i.Severity.Success]:0};return e.sort((e,n)=>t[n.severity]-t[e.severity])}n.default=e=>{const t=(0,s.useDispatch)(),n=c((0,s.useSelector)(t=>(0,a.selectAlerts)(t,e))),u=(0,s.useSelector)(t=>(0,a.selectConfirmedAlertKeys)(t,e)),l=c((0,s.useSelector)(t=>(0,a.selectGeneralAlerts)(t,e))),d=c((0,s.useSelector)(t=>(0,a.selectFieldAlerts)(t,e))),m=(0,r.useCallback)(e=>e?n.filter(t=>t.field===e):[],[n]),h=(0,r.useCallback)((n,s)=>{t((0,o.setAlertConfirmed)(e,n,s))},[t,e]),p=(0,r.useCallback)(e=>u.includes(e),[u]),g=n.filter(e=>!p(e.key)&&e.severity===i.Severity.Danger),f=n.length>0,k=n.filter(e=>e.severity===i.Severity.Danger),T=g.length>0,v=d.filter(e=>!p(e.key)&&e.severity===i.Severity.Danger);return{alerts:n,fieldAlerts:d,generalAlerts:l,getFieldAlerts:m,hasAlerts:f,dangerAlerts:k,hasDangerAlerts:(null==k?void 0:k.length)>0,hasUnconfirmedDangerAlerts:T,isAlertConfirmed:p,setAlertConfirmed:h,unconfirmedDangerAlerts:g,unconfirmedFieldDangerAlerts:v,hasUnconfirmedFieldDangerAlerts:v.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[7139,{"../selectors":7947,"../store/actions":7975,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAssetsUpdateAllAccountBalances=n.default=void 0;var s=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../store/actions");const i=()=>{const e=(0,r.useSelector)(a.getEnabledChainIds),t=(0,r.useDispatch)(),n=(0,s.useCallback)(async()=>{try{e.length>0&&await t((0,o.updateBalancesFoAccounts)(e,!0))}catch(e){console.warn("Error updating balances state for all accounts",e)}},[e,t]);return(0,s.useEffect)(()=>{0!==e.length&&n()},[e,n]),{updateBalances:n}};n.useAssetsUpdateAllAccountBalances=i;n.default=i}}},{package:"$root$",file:"ui/hooks/useAssetsUpdateAllAccountBalances.ts"}],[7140,{react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RESULT_PENDING=n.RESULT_IDLE=n.RESULT_BASE=void 0,n.createErrorResult=c,n.createSuccessResult=i,n.useAsyncCallback=u,n.useAsyncResult=l,n.useAsyncResultOrThrow=function(e,t=[]){const n=l(e,t);if("error"===n.status)throw n.error;return n};var s=e("react");const r=n.RESULT_BASE={idle:!1,pending:!1,value:undefined,error:undefined},a=n.RESULT_IDLE={...r,status:"idle",idle:!0},o=n.RESULT_PENDING={...r,status:"pending",pending:!0};function i(e){return{...r,status:"success",value:e}}function c(e){return{...r,status:"error",error:e}}function u(e,t=[]){const[n,r]=(0,s.useState)(a),u=(0,s.useRef)(!0);(0,s.useEffect)(()=>()=>{u.current=!1},[]);return[(0,s.useCallback)(async()=>{if(u.current){r(o);try{const t=await e();u.current&&r(i(t))}catch(e){u.current&&r(c(e))}}},t),n]}function l(e,t=[]){const[n,r]=u(e,t);return(0,s.useEffect)(()=>{n()},[n]),"idle"===r.status?o:r}}}},{package:"$root$",file:"ui/hooks/useAsync.ts"}],[7141,{"../../../package.json":5776,"../../../shared/modules/environment":5901,semver:5589},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchCarouselSlidesFromContentful=async function(){var e;const{accessToken:t,domain:n,environment:s,spaceId:r}=c();if(!r||!t)return{prioritySlides:[],regularSlides:[]};const a=new URL(`https://${n}/spaces/${r}/environments/${s}/entries`);a.searchParams.set("access_token",t),a.searchParams.set("content_type",i),a.searchParams.set("fields.showInExtension","true");const o=await fetch(a).then(e=>e.json()),l=(null===(e=o.includes)||void 0===e?void 0:e.Asset)||[],d=e=>{var t;const n=l.find(t=>{var n;return t.sys.id===(null==e||null===(n=e.sys)||void 0===n?void 0:n.id)}),s=(null==n||null===(t=n.fields)||void 0===t||null===(t=t.file)||void 0===t?void 0:t.url)||"";return s.startsWith("//")?`https:${s}`:s},m=[],h=[];for(const e of o.items){const{headline:t,teaser:n,image:s,linkUrl:r,undismissable:a,startDate:o,endDate:i,priorityPlacement:c,variableName:l,cardPlacement:p,extensionMinimumVersionNumber:g}=e.fields,f={id:`contentful-${e.sys.id}`,title:t,description:n,image:d(s),href:r,undismissable:a,dismissed:!1,startDate:o,endDate:i,priorityPlacement:c,variableName:l,cardPlacement:p};u(g)&&(c?m.push(f):h.push(f))}return{prioritySlides:m,regularSlides:h}},n.getContentfulEnvironmentDetails=void 0;var s=a(e("semver")),r=e("../../../shared/modules/environment");function a(e){return e&&e.__esModule?e:{default:e}}const o=a(e("../../../package.json")).default.version,i="promotionalBanner",c=()=>{const e="jdkgyfmyd9sw",t="mAYNB_k65snv4AXW4o8ksZN8BwWDQF9702HKV7yBDZI",n=new URLSearchParams(window.location.search).get("previewToken");if(n)return{environment:"master",domain:"preview.contentful.com",accessToken:n,spaceId:e};return(0,r.isProduction)()?{environment:"master",domain:"cdn.contentful.com",accessToken:t,spaceId:e}:{environment:"dev",domain:"preview.contentful.com",accessToken:t,spaceId:e}};function u(e){if(!e)return!0;try{return s.default.gte(o,e)}catch{return!1}}n.getContentfulEnvironmentDetails=c}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/fetchCarouselSlidesFromContentful.ts"}],[7142,{"./useCarouselManagement":7143},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./useCarouselManagement");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))})}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/index.ts"}],[7143,{"../../selectors":7947,"../../store/actions":7975,"./fetchCarouselSlidesFromContentful":7141,"@metamask/profile-sync-controller/sdk":2404,"bignumber.js":3949,lodash:4816,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isActive=h,n.useCarouselManagement=void 0;var s,r=e("lodash"),a=e("react"),o=e("react-redux"),i=(s=e("loglevel"))&&s.__esModule?s:{default:s},c=e("bignumber.js"),u=e("@metamask/profile-sync-controller/sdk"),l=e("../../store/actions"),d=e("../../selectors"),m=e("./fetchCarouselSlidesFromContentful");function h(e,t=new Date){const n=e.startDate?new Date(e.startDate):null,s=e.endDate?new Date(e.endDate):null;return!(n&&t<n)&&!(s&&t>s)}n.useCarouselManagement=({testDate:e,enabled:t=!0}={})=>{const n=Boolean(!1),s=(0,o.useDispatch)(),p=(0,o.useSelector)(d.getSlides),g=(0,o.useSelector)(d.getRemoteFeatureFlags),f=(0,o.useSelector)(d.getSelectedAccountCachedBalance),k=(0,o.useSelector)(d.getSelectedInternalAccount),T=(0,o.useSelector)(d.getUseExternalServices),v=(0,o.useSelector)(d.getShowDownloadMobileAppSlide),y=(0,a.useRef)(),S=new c.BigNumber(f??"0x0").eq("0x0"),b=(null==g?void 0:g.contentfulCarouselEnabled)??!1,[I,w]=(0,a.useState)(!1),[C,_]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!(b&&T&&v))return w(!1),_(!0),()=>undefined;_(!1);let e=!1;return(async()=>{try{const n=await(0,l.getUserProfileLineage)();if(!e){var t;const e=Boolean(null==n||null===(t=n.lineage)||void 0===t?void 0:t.some(e=>e.agent===u.Platform.MOBILE));w(!e),_(!0)}}catch(t){e||(i.default.warn("Failed to fetch user profile lineage:",t),w(!1),_(!0))}})(),()=>{e=!0}},[k.address,T,v,b]),(0,a.useEffect)(()=>{if(!C)return;if(!t){const e=[];return void((0,r.isEqual)(y.current,e)||(s((0,l.updateSlides)(e)),y.current=e))}const n=async()=>{if(!b){const e=[];return void((0,r.isEqual)(y.current,e)||(s((0,l.updateSlides)(e)),y.current=e))}if(b)try{const{prioritySlides:t,regularSlides:n}=await(0,m.fetchCarouselSlidesFromContentful)(),a=[...t],o=[...n],i=t=>h(t,e?new Date(e):new Date),c=e=>e.map(e=>((e,t)=>{if(!e)return undefined;const n=t.find(t=>t.id===e.id);return{...e,dismissed:(null==n?void 0:n.dismissed)??!1,undismissable:e.undismissable||(null==n?void 0:n.undismissable)||!1}})(e,p)).filter(e=>Boolean(e)).filter(i),u=e=>"fund"===e.variableName?{...e,undismissable:S||e.undismissable}:e,d=e=>"downloadMobileApp"!==e.variableName||I,g=c(a).map(u).filter(d),f=function(e){const t=[],n=[];for(const s of e){const e=s.cardPlacement,r="string"==typeof e?Number(e):e;if("number"==typeof r&&Number.isFinite(r)){const e=Math.max(0,Math.floor(r)-1);e>=t.length&&(t.length=e+1),t[e]=s}else n.push(s)}let s=0;for(let e=0;e<t.length&&s<n.length;e++)t[e]||(t[e]=n[s],s+=1);for(;s<n.length;)t.push(n[s]),s+=1;return t.filter(Boolean)}(c(o).map(u).filter(d)),k=[...g,...f];(0,r.isEqual)(y.current,k)||(s((0,l.updateSlides)(k)),y.current=k)}catch(e){i.default.warn("Failed to fetch Contentful slides:",e),(0,r.isEqual)(y.current,[])||(s((0,l.updateSlides)([])),y.current=[])}};(async()=>{try{await n()}catch(e){i.default.warn("Failed to load carousel slides:",e)}})()},[t,s,S,b,e,n,p,C]),{slides:p}}}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/useCarouselManagement.ts"}],[7144,{"../../shared/constants/copy":5785,"../../shared/constants/time":5817,"./useTimeout":7185,"copy-to-clipboard":4129,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=u,t={expireClipboard:!0}){const[n,s]=(0,r.useState)(!1),o=(0,c.useTimeout)(()=>{!0===n&&(t.expireClipboard&&(0,a.default)(" ",i.COPY_OPTIONS),s(!1))},e,!1),l=(0,r.useCallback)(e=>{s(!0),o(),(0,a.default)(e,i.COPY_OPTIONS)},[o]),d=(0,r.useCallback)(()=>{s(!1)},[]);return[n,l,d]};var s,r=e("react"),a=(s=e("copy-to-clipboard"))&&s.__esModule?s:{default:s},o=e("../../shared/constants/time"),i=e("../../shared/constants/copy"),c=e("./useTimeout");const u=o.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[7145,{"../../shared/constants/common":5784,"../../shared/constants/network":5800,"../../shared/modules/Numeric":5895,"../../shared/modules/conversion.utils":5900,"../ducks/metamask/metamask":7010,"../helpers/utils/confirm-tx.util":7051,"../helpers/utils/token-util":7078,"../selectors/multichain":7956,"./useFormatters":7153,"./useMultichainSelector":7167,"@metamask/multichain-network-controller":2161,"bignumber.js":3949,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MIN_AMOUNT=n.DEFAULT_PRECISION=void 0,n.useCurrencyDisplay=function(e,{account:t,displayValue:n,prefix:s,numberOfDecimals:a,denomination:k,currency:y,isAggregatedFiatOverviewBalance:S,...b},I=null){const{formatCurrency:w}=(0,g.useFormatters)(),C=(0,f.useMultichainSelector)(c.getMultichainIsEvm,t),_=(0,f.useMultichainSelector)(c.getMultichainCurrentCurrency,t),A=(0,f.useMultichainSelector)(c.getMultichainNativeCurrency,t),E=(0,f.useMultichainSelector)(c.getMultichainConversionRate,t),N=(0,f.useMultichainSelector)(p.getCurrencyRates,t),M=y===_,P=y===A||y===l.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[I],R=(0,r.useMemo)(()=>{if(n)return n;var t;if(!C&&!S)return function({tokenSymbol:e,isNativeCurrency:t,isUserPreferredCurrency:n,currency:s,currentCurrency:r,nativeCurrency:a,inputValue:o,conversionRate:c}){if(t||!n&&!a)return new d.Numeric(o,10).toString();if(n&&c){const t=(0,h.getTokenFiatAmount)(1,Number(c),r,o,e,!1,!1)??"0";return(0,i.formatCurrency)(t,s)}return null}({tokenSymbol:A,isNativeCurrency:P,isUserPreferredCurrency:M,currency:y,currentCurrency:_,nativeCurrency:A,inputValue:e,conversionRate:I?null==N||null===(t=N[l.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[I]])||void 0===t?void 0:t.conversionRate:E});if(S)return w(e,y);if(!P&&M&&E){const t=(0,u.getValueFromWeiHex)({value:e,fromCurrency:A,toCurrency:y,conversionRate:E,numberOfDecimals:a||2,toDenomination:k});return w(t,y)}return function({isNativeCurrency:e,isUserPreferredCurrency:t,nativeCurrency:n,inputValue:s,denomination:r,numberOfDecimals:a}){if(e||!t&&!n){const e=new d.Numeric(s,16,m.EtherDenomination.WEI).toDenomination(r||m.EtherDenomination.ETH).round(a||v).toBase(10).toString();return"0"===e&&s&&0!==Number(s)?T:e}return null}({isNativeCurrency:P,isUserPreferredCurrency:M,nativeCurrency:A,inputValue:e,denomination:k,numberOfDecimals:a})},[n,C,P,M,y,A,e,E,k,a,_,S,I,N,w]);let O;const D=S||!P;if(!b.hideLabel&&!D){const e=[...Object.values(l.TEST_NETWORK_TICKER_MAP),...Object.values(o.MULTICHAIN_NETWORK_TICKER)].includes(y)?y:null==y?void 0:y.toUpperCase();O=b.suffix||e}return[`${s||""}${R}${O?` ${O}`:""}`,{prefix:s,value:R,suffix:O}]};var s,r=e("react"),a=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},o=e("@metamask/multichain-network-controller"),i=e("../helpers/utils/confirm-tx.util"),c=e("../selectors/multichain"),u=e("../../shared/modules/conversion.utils"),l=e("../../shared/constants/network"),d=e("../../shared/modules/Numeric"),m=e("../../shared/constants/common"),h=e("../helpers/utils/token-util"),p=e("../ducks/metamask/metamask"),g=e("./useFormatters"),f=e("./useMultichainSelector");const k=n.MIN_AMOUNT=1e-6,T=`<${k}`,v=n.DEFAULT_PRECISION=new a.default(k).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[7146,{"../../shared/modules/selectors/networks":5918,"../ducks/metamask/metamask":7010,"../helpers/utils/isOriginalNativeTokenSymbol":7061,"../selectors":7947,"../selectors/multichain/networks":7957,"../selectors/selectors":7963,"../store/actions":7975,"./usePolling":7177,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react"),a=e("react-redux"),o=e("../selectors"),i=e("../selectors/multichain/networks"),c=e("../store/actions"),u=e("../ducks/metamask/metamask"),l=e("../selectors/selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../helpers/utils/isOriginalNativeTokenSymbol"),h=(s=e("./usePolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(()=>{const e=(0,a.useSelector)(u.getCompletedOnboarding),t=(0,a.useSelector)(u.getIsUnlocked),n=(0,a.useSelector)(o.getUseCurrencyRateCheck);return e&&t&&n})(),t=(e=>{const t=(0,a.useSelector)(d.getNetworkConfigurationsByChainId),n=(0,a.useSelector)(o.useSafeChainsListValidationSelector),[s,c]=(0,r.useState)([]),u=(0,a.useSelector)(o.getChainIdsToPoll),h=(0,a.useSelector)(i.getEnabledChainIds),p=l.isGlobalNetworkSelectorRemoved?h:u;return(0,r.useEffect)(()=>{(async()=>{const s=(await Promise.all(Object.values(t).map(async t=>{const s=await(0,m.getOriginalNativeTokenSymbol)({chainId:t.chainId,useAPICall:n&&e});return p.includes(t.chainId)?s??t.nativeCurrency:null}))).filter(e=>null!==e),r=[...new Set(s)];c(r)})()},[u,e,t,p,n]),s})(e),n=e&&t.length>0;(0,h.default)({startPolling:c.currencyRateStartPolling,stopPollingByPollingToken:c.currencyRateStopPollingByPollingToken,input:t,enabled:n})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[7147,{"../../shared/constants/swaps":5815,"../../shared/modules/selectors/networks":5918,"../../shared/modules/string-utils":5922,"../ducks/metamask/metamask":7010,"../helpers/constants/routes":7028,"react-redux":5202,"react-router-dom":5226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,l=(0,s.useSelector)(a.getTokens),d=n&&l.find(({address:e})=>(0,u.isEqualCaseInsensitive)(e,n)),m=(0,s.useSelector)(o.getCurrentChainId);return d??(c.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[m]||c.ETH_SWAPS_TOKEN_OBJECT)};var s=e("react-redux"),r=e("react-router-dom"),a=e("../ducks/metamask/metamask"),o=e("../../shared/modules/selectors/networks"),i=e("../helpers/constants/routes"),c=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[7148,{"../../shared/constants/first-party-contracts":5788,"../../shared/modules/hexstring-utils":5906,"../ducks/domains":7004,"../helpers/utils/trust-signals":7080,"../pages/confirmations/selectors/accounts":7651,"../selectors":7947,"../selectors/multichain-accounts/account-tree":7951,"../selectors/nft":7958,"./useName":7169,"./useNftCollectionsMetadata":7171,"./useTrustSignals":7197,"@metamask/name-controller":2222,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=function(e){return k([e])[0]},n.useDisplayNames=k;var s=e("@metamask/name-controller"),r=e("react-redux"),a=e("react"),o=e("../../shared/constants/first-party-contracts"),i=e("../../shared/modules/hexstring-utils"),c=e("../ducks/domains"),u=e("../selectors"),l=e("../selectors/nft"),d=e("../helpers/utils/trust-signals"),m=e("../pages/confirmations/selectors/accounts"),h=e("../selectors/multichain-accounts/account-tree"),p=e("./useName"),g=e("./useNftCollectionsMetadata"),f=e("./useTrustSignals");function k(e){const t=(0,p.useNames)(e),n=e.map(({type:e,value:t,variation:n})=>{if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const r=t.toLowerCase();return Object.keys(o.FIRST_PARTY_CONTRACT_NAMES).find(e=>{var t;const s=null===(t=o.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t?void 0:t[n];return(null==s?void 0:s.toLowerCase())===r})});const k=(0,f.useTrustSignals)(e),T=function(e){const t=(0,r.useSelector)(u.selectERC20TokensByChain);return e.map(({preferContractSymbol:e,type:n,value:r,variation:a})=>{var o;if(n!==s.NameType.ETHEREUM_ADDRESS)return undefined;const i=r.toLowerCase(),{iconUrl:c,name:u,symbol:l}=(null==t||null===(o=t[a])||void 0===o||null===(o=o.data)||void 0===o?void 0:o[i])??{};return{name:e&&l?l:u,image:c}})}(e),v=function(e){const t=(0,r.useSelector)(l.getNftContractsByAddressByChain);return e.map(({type:e,value:n,variation:r})=>{var a;if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const o=n.toLowerCase(),i=t[r];return null==i||null===(a=i[o])||void 0===a?void 0:a.name})}(e),y=function(e){const t=e.filter(({type:e})=>e===s.NameType.ETHEREUM_ADDRESS).map(({value:e,variation:t})=>({chainId:t,contractAddress:e})),n=(0,g.useNftCollectionsMetadata)(t);return e.map(({type:e,value:t,variation:r})=>{var a;if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const o=null===(a=n[r])||void 0===a?void 0:a[t.toLowerCase()],i=!1!==(null==o?void 0:o.isSpam);if(!o||i)return undefined;const{name:c,image:u}=o;return{name:c,image:u}})}(e),S=function(e){const t=(0,r.useSelector)(c.getDomainResolutions);return e.map(({type:e,value:n})=>{if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const r=null==t?void 0:t.find(e=>(0,i.toChecksumHexAddress)(e.resolvedAddress)===(0,i.toChecksumHexAddress)(n));return null==r?void 0:r.domainName})}(e),b=function(e,t){const n=(0,r.useSelector)(u.getIsMultichainAccountsState2Enabled),o=(0,r.useSelector)(h.getAccountTree),{wallets:i}=o??{},c=(0,a.useMemo)(()=>Object.keys(i).length>1,[i]),l=(0,a.useMemo)(()=>e.map(({type:e,value:t},n)=>({address:e===s.NameType.ETHEREUM_ADDRESS?t:null,originalIndex:n})).filter(e=>null!==e.address),[e]),d=(0,r.useSelector)(e=>{const t={};return l.forEach(({address:n})=>{if(n){const s=(0,m.selectAccountGroupNameByInternalAccount)(e,n),r=(0,h.getWalletIdAndNameByAccountAddress)(e,n),a=(null==r?void 0:r.name)||null;t[n]={accountGroupName:s,walletName:a}}}),t});return(0,a.useMemo)(()=>e.map(({type:e,value:r},a)=>{const o=t[a],i=(null==d?void 0:d[r])||{accountGroupName:null,walletName:null};return e===s.NameType.ETHEREUM_ADDRESS&&n&&(null==o?void 0:o.origin)!==s.NameOrigin.API?{accountGroupName:i.accountGroupName,walletName:c?i.walletName:null}:{accountGroupName:null,walletName:null}}),[e,d,n,t,c])}(e,t);return e.map((e,s)=>{const r=t[s],a=n[s],o=k[s],i=T[s],c=v[s],u=y[s],l=S[s],{accountGroupName:m,walletName:h}=b[s],p=h;let g=m||(null==r?void 0:r.name)||a||(null==u?void 0:u.name)||(null==i?void 0:i.name)||c||l||null;const I=Boolean(null==r?void 0:r.name),w=function(e,t,n){if(e===f.TrustSignalDisplayState.Malicious)return f.TrustSignalDisplayState.Malicious;if(t)return f.TrustSignalDisplayState.Petname;if(e===f.TrustSignalDisplayState.Warning)return f.TrustSignalDisplayState.Warning;if(n)return f.TrustSignalDisplayState.Recognized;if(e===f.TrustSignalDisplayState.Verified)return f.TrustSignalDisplayState.Verified;if(e===f.TrustSignalDisplayState.Unknown)return f.TrustSignalDisplayState.Unknown;return f.TrustSignalDisplayState.Unknown}(null==o?void 0:o.state,I,g),C=(null==u?void 0:u.image)||(null==i?void 0:i.image),_=(0,d.getTrustSignalIcon)(w),A=null==o?void 0:o.label;return null===g&&A&&(g=A),{contractDisplayName:null==i?void 0:i.name,displayState:w,hasPetname:I,icon:_,image:C,isAccount:null!==m,name:g,subtitle:p}})}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[7149,{lodash:4816,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=r.isEqual){const[n,a]=(0,s.useState)(e);return(0,s.useLayoutEffect)(()=>{t(e,n)||a(e)},[e,t,n]),n};var s=e("react"),r=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[7150,{"../../shared/modules/conversion.utils":5900,"../ducks/metamask/metamask":7010,"../helpers/utils/confirm-tx.util":7051,"../selectors":7947,"bignumber.js":3949,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){const s=(0,a.useSelector)(u.getConversionRate),d=(0,a.useSelector)(u.getCurrentCurrency),m=(0,a.useSelector)(i.getShouldShowFiat),h=t.showFiat??m,p=(0,r.useMemo)(()=>(0,l.decEthToConvertedCurrency)(e,d,s),[s,d,e]);if(!h||"ETH"===d.toUpperCase()||s<=0||e===undefined)return undefined;const g=new o.default(e.toString()).times(s);if(e&&g.lt(new o.default(.01))&&g.greaterThan(new o.default(0)))return n?`< ${(0,c.formatCurrency)(.01,d)}`:`< ${(0,c.formatCurrency)(.01,d)} ${d.toUpperCase()}`;return n?(0,c.formatCurrency)(p,d):`${(0,c.formatCurrency)(p,d)} ${d.toUpperCase()}`};var s,r=e("react"),a=e("react-redux"),o=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},i=e("../selectors"),c=e("../helpers/utils/confirm-tx.util"),u=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[7151,{react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const[t,n]=(0,s.useState)(""),[r,a]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async()=>{if(e)try{const t=await fetch(e);if(!t.ok)return;let s=await t.text();s=s.replace(/,\s*}/g,"}").replace(/,\s*\]/g,"]");const r=JSON.parse(s);n(r.image),a(r.name)}catch{}})()},[e]),{image:t,name:r}}}}},{package:"$root$",file:"ui/hooks/useFetchNftDetailsFromTokenURI.ts"}],[7152,{"../ducks/locale/locale":7009,"../ducks/metamask/metamask":7010,"../helpers/utils/util":7082,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFiatFormatter=void 0;var s=e("react-redux"),r=e("../ducks/locale/locale"),a=e("../ducks/metamask/metamask"),o=e("../helpers/utils/util");n.useFiatFormatter=()=>{const e=(0,s.useSelector)(r.getIntlLocale),t=(0,s.useSelector)(a.getCurrentCurrency);return(n,s={})=>{const{shorten:r,truncatedCharLimit:a,truncatedStartChars:i}=s;try{const s=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!r)return s.format(n);const c=s.formatToParts(n);let u="",l="";c.forEach(e=>{"currency"===e.type?u+=e.value:l+=e.value});const d=(0,o.shortenString)(l,{truncatedCharLimit:a??15,truncatedStartChars:i??12,truncatedEndChars:0,skipCharacterInEnd:!0});return c.findIndex(e=>"currency"===e.type)<c.findIndex(e=>"integer"===e.type)?`${u}${d}`:`${d}${u}`}catch(s){const a=new Intl.NumberFormat(e).format(n),i=(0,o.shortenString)(a,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return r?`${i} ${t}`:`${a} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[7153,{"../ducks/locale/locale":7009,"@metamask/assets-controllers":1203,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFormatters=function(){const e=(0,r.useSelector)(o.getIntlLocale);return(0,s.useMemo)(()=>{const t=(0,a.createFormatters)({locale:e});return{...t,formatPercentWithMinThreshold:i.bind(null,t.formatNumber),formatCompact:c.bind(null,t.formatNumber)}},[e])};var s=e("react"),r=e("react-redux"),a=e("@metamask/assets-controllers"),o=e("../ducks/locale/locale");function i(e,t,n={}){const s=Number(t);if(!Number.isFinite(s))return"";return e(0===s?0:Math.sign(s)*Math.max(Math.abs(s),1e-4),{style:"percent",maximumFractionDigits:2,minimumFractionDigits:2,...n})}function c(e,t){return e(t,{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})}}}},{package:"$root$",file:"ui/hooks/useFormatters.ts"}],[7154,{"../../shared/modules/selectors/networks":5918,"../ducks/metamask/metamask":7010,"../store/actions":7975,"./usePolling":7177,"lodash/isEqual":4803,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(e,t=!0){const n=(0,r.useSelector)(c.getSelectedNetworkClientId),l=e??n,[d,m]=(0,a.useState)(""),h=(0,r.useSelector)(e=>(0,o.getGasEstimateTypeByChainId)(e,d)),p=(0,r.useSelector)(e=>(0,o.getGasFeeEstimatesByChainId)(e,d),s.default),g=(0,r.useSelector)(e=>(0,o.getIsGasEstimatesLoadingByChainId)(e,{chainId:d,networkClientId:l})),f=(0,r.useSelector)(e=>(0,o.getIsNetworkBusyByChainId)(e,d));return(0,a.useEffect)(()=>{if(!t)return()=>{};let e=!0;return(0,i.getNetworkConfigurationByNetworkClientId)(l).then(t=>{t&&e&&m(t.chainId)}),()=>{e=!1}},[l,t]),(0,u.default)({startPolling:e=>(0,i.gasFeeStartPollingByNetworkClientId)(e.networkClientId),stopPollingByPollingToken:i.gasFeeStopPollingByPollingToken,input:{networkClientId:l},enabled:t}),{gasFeeEstimates:p,gasEstimateType:h,isGasEstimatesLoading:g,isNetworkBusy:f}};var s=l(e("lodash/isEqual")),r=e("react-redux"),a=e("react"),o=e("../ducks/metamask/metamask"),i=e("../store/actions"),c=e("../../shared/modules/selectors/networks"),u=l(e("./usePolling"));function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[7155,{"../helpers/utils/util":7082,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("../helpers/utils/util");n.default=(e,t)=>{const[n,a]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async()=>{const n=await(0,r.getAssetImageURL)(e,t);a(n)})()},[e,t]),n}}}},{package:"$root$",file:"ui/hooks/useGetAssetImageUrl.ts"}],[7156,{"../../shared/modules/conversion.utils":5900,"../../shared/modules/selectors/networks":5918,"../selectors":7947,"./useTokenBalances":7186,"bn.js":4e3,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGetFormattedTokensPerChain=void 0;var s=e("react-redux"),r=e("bn.js"),a=e("../selectors"),o=e("../../shared/modules/selectors/networks"),i=e("../../shared/modules/conversion.utils"),c=e("./useTokenBalances");n.useGetFormattedTokensPerChain=(e,t,n,u)=>{const l=(0,s.useSelector)(o.getCurrentChainId),d=(0,s.useSelector)(a.getAllTokens),m=(0,c.useTokenBalances)({chainIds:u});return{formattedTokensWithBalancesPerChain:(n?[l]:u).map(n=>{var s;const a=((null==d||null===(s=d[n])||void 0===s?void 0:s[null==e?void 0:e.address])??[]).reduce((s,a)=>{var o;const u=(null===(o=m.tokenBalances[e.address])||void 0===o||null===(o=o[n])||void 0===o?void 0:o[a.address])??"0x0";if("0x0"!==u||!t){const e=(0,i.hexToDecimal)(u);s.push({address:a.address,symbol:a.symbol,decimals:a.decimals,balance:e,string:(0,c.stringifyBalance)(new r.BN(e),new r.BN(a.decimals))})}return s},[]);return{chainId:n,tokensWithBalances:a}})}}}}},{package:"$root$",file:"ui/hooks/useGetFormattedTokensPerChain.ts"}],[7158,{"../../app/scripts/lib/util":332,"../../shared/lib/asset-utils":5828,"../helpers/utils/isOriginalNativeTokenSymbol":7061,"../selectors":7947,"../selectors/multichain":7956,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalNativeTokenSymbol=function(e,t,n,l=""){const[d,m]=(0,s.useState)(!1),h=(0,r.useSelector)(a.useSafeChainsListValidationSelector),p=(0,i.isEvmChainId)(e),g=(0,r.useSelector)(o.getMultichainCurrentNetwork);return(0,s.useEffect)(()=>{!async function(e){if(p)try{if((e=>{const t=(0,c.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(l))return void m(!0);const n=await(0,u.isOriginalNativeTokenSymbol)({ticker:t,chainId:e,useAPICall:h});m(n)}catch(e){m(!1)}else m(t===(null==g?void 0:g.ticker))}(e)},[d,e,t,n,l,h,p,null==g?void 0:g.ticker]),d};var s=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain"),i=e("../../shared/lib/asset-utils"),c=e("../../app/scripts/lib/util"),u=e("../helpers/utils/isOriginalNativeTokenSymbol")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.ts"}],[7159,{"../selectors":7947,"../store/actions":7975,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalTokenSymbol=function(e,t){const[n,i]=(0,s.useState)(null),c=(0,r.useSelector)(o.getTokenList);return(0,s.useEffect)(()=>{!async function(e){var n,s;let r=null===(n=c[null==e?void 0:e.toLowerCase()])||void 0===n?void 0:n.symbol;r||(r=await(0,a.getTokenSymbol)(e)),i((null===(s=r)||void 0===s?void 0:s.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)},[e,t]),n};var s=e("react"),r=e("react-redux"),a=e("../store/actions"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[7160,{"../store/actions":7975,loglevel:4824,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableMetametrics=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,o]=(0,r.useState)(null);return{disableMetametrics:(0,r.useCallback)(async()=>{n(!0),e((0,i.showLoadingIndication)()),o(null);try{await e((0,i.setParticipateInMetaMetrics)(!1))}catch(e){throw o(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())},[e]),loading:t,error:s}},n.useEnableMetametrics=function(){const e=(0,a.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null);return{enableMetametrics:(0,r.useCallback)(async()=>{n(!0),e((0,i.showLoadingIndication)()),c(null);try{await e((0,i.setParticipateInMetaMetrics)(!0))}catch(e){throw c(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())},[e]),loading:t,error:s}};var s,r=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useMetametrics.ts"}],[7161,{"../store/actions":7975,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useModalProps=function(){const e=(0,s.useSelector)(e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props}),t=(0,s.useDispatch)();return{props:e,hideModal:()=>t((0,r.hideModal)())}};var s=e("react-redux"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[7162,{"../ducks/metamask/metamask":7010,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),a=e("../ducks/metamask/metamask");n.default=e=>{const t=(0,r.useSelector)(a.getCompletedOnboarding),n=(0,s.useRef)(new Map);(0,s.useEffect)(()=>{if(t){for(const t of e.input){const s=JSON.stringify(t);n.current.has(s)||e.startPolling(t).then(e=>n.current.set(s,e))}for(const[t,s]of n.current.entries()){e.input.some(e=>t===JSON.stringify(e))||(e.stopPollingByPollingToken(s),n.current.delete(t))}}},[t,e.input&&JSON.stringify(e.input)]),(0,s.useEffect)(()=>()=>{for(const t of n.current.values())e.stopPollingByPollingToken(t)},[])}}}},{package:"$root$",file:"ui/hooks/useMultiPolling.ts"}],[7163,{"../../shared/constants/multichain/assets":5798,"../helpers/utils/confirm-tx.util":7051,"../helpers/utils/token-util":7078,"../selectors/multichain":7956,"./useAccountTotalFiatBalance":7136,"./useMultichainSelector":7167,"@metamask/keyring-api":2060,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountTotalFiatBalance=n.EMPTY_VALUES=void 0;var s=e("react-redux"),r=e("@metamask/keyring-api"),a=e("../selectors/multichain"),o=e("../helpers/utils/confirm-tx.util"),i=e("../../shared/constants/multichain/assets"),c=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),l=e("./useAccountTotalFiatBalance");const d=n.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};n.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var n;if((0,r.isEvmAccountType)(e.type))return(0,l.useAccountTotalFiatBalance)(e,t);const m=(0,u.useMultichainSelector)(a.getMultichainCurrentCurrency,e),{network:h}=(0,u.useMultichainSelector)(a.getMultichainNetwork,e),{ticker:p}=h,g=(0,u.useMultichainSelector)(a.getMultichainConversionRate,e),f=(0,u.useMultichainSelector)(a.getMultichainCurrencyImage,e),k=(0,s.useSelector)(a.getMultichainBalances),T=i.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[p];if(null==k||null===(n=k[e.id])||void 0===n||!n[T])return d;const{amount:v}=k[e.id][T],y=(0,c.getTokenFiatAmount)(1,Number(g),m,v,p,!1,!1)??"0",S={iconUrl:f,symbol:p,fiatBalance:y};return{formattedFiat:(0,o.formatCurrency)(y,m),totalFiatBalance:y,totalBalance:v,tokensWithBalances:[],loading:!1,orderedTokenList:[S]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[7164,{"../helpers/constants/routes":7028,"../selectors/multichain-accounts/feature-flags":7952,"../store/store":7981,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountsIntroModal=function(e,t){const[n,i]=(0,s.useState)(!1),c=(0,r.useAppSelector)(a.getIsMultichainAccountsState2Enabled),u=(0,r.useAppSelector)(e=>e.metamask.hasShownMultichainAccountsIntroModal),l=(0,r.useAppSelector)(e=>e.metamask.lastUpdatedAt);return(0,s.useEffect)(()=>{const n=t.pathname===o.DEFAULT_ROUTE;i(e&&c&&!u&&null!==l&&n)},[e,c,u,l,t.pathname]),{showMultichainIntroModal:n,setShowMultichainIntroModal:i}};var s=e("react"),r=e("../store/store"),a=e("../selectors/multichain-accounts/feature-flags"),o=e("../helpers/constants/routes")}}},{package:"$root$",file:"ui/hooks/useMultichainAccountsIntroModal.ts"}],[7165,{"../ducks/metamask/metamask":7010,"../selectors":7947,"../store/controller-actions/multichain-asset-rates-controller":7979,"./usePolling":7177,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../ducks/metamask/metamask"),o=e("../selectors"),i=e("../store/controller-actions/multichain-asset-rates-controller"),c=(s=e("./usePolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(()=>{const e=(0,r.useSelector)(a.getCompletedOnboarding),t=(0,r.useSelector)(a.getIsUnlocked),n=(0,r.useSelector)(o.getUseCurrencyRateCheck);return e&&t&&n})(),t=(()=>{const e=(0,r.useSelector)(o.getSelectedInternalAccount);return(null==e?void 0:e.id)??""})();(0,c.default)({startPolling:i.multichainAssetsRatesStartPolling,stopPollingByPollingToken:i.multichainAssetsRatesStopPollingByPollingToken,input:t,enabled:e})}}}},{package:"$root$",file:"ui/hooks/useMultichainAssetsRatesPolling.ts"}],[7166,{"../../shared/constants/transaction":5819,"../selectors/assets":7939,"../selectors/multichain":7956,"../selectors/multichain-accounts/account-tree":7951,"./useMultichainSelector":7167,"@metamask/keyring-api":2060,"@metamask/utils":2908,"bignumber.js":3949,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainBalances=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/utils"),o=e("@metamask/keyring-api"),i=e("bignumber.js"),c=e("../../shared/constants/transaction"),u=e("../selectors/assets"),l=e("../selectors/multichain"),d=e("../selectors/multichain-accounts/account-tree"),m=e("./useMultichainSelector");const h=e=>{const t=(0,r.useSelector)(u.getAccountAssets),n=(0,r.useSelector)(u.getAssetsMetadata),o=(0,m.useMultichainSelector)(l.getMultichainBalances),d=(0,r.useSelector)(u.getAssetsRates);return(0,s.useMemo)(()=>{if(!e)return[];const s=null==t?void 0:t[e],r=null==o?void 0:o[e];return r&&s?s.filter(e=>n[e]).map(e=>{var t,s,o,u,l,m,h;const{chainId:p,assetReference:g,assetNamespace:f}=(0,a.parseCaipAssetType)(e);return{chainId:p,symbol:(null===(t=n[e])||void 0===t?void 0:t.symbol)??"",assetId:e,address:g,string:(null===(s=r[e])||void 0===s?void 0:s.amount)??"0",balance:(null===(o=r[e])||void 0===o?void 0:o.amount)??"0",decimals:null===(u=n[e])||void 0===u||null===(u=u.units[0])||void 0===u?void 0:u.decimals,image:(null===(l=n[e])||void 0===l?void 0:l.iconUrl)??"",type:"token"===f?c.AssetType.token:c.AssetType.native,tokenFiatAmount:new i.BigNumber((null===(m=r[e])||void 0===m?void 0:m.amount)??"1").times((null==d||null===(h=d[e])||void 0===h?void 0:h.rate)??"1").toNumber()}}).filter(Boolean):[]},[n,d,t,e,o])};n.useMultichainBalances=e=>{const t=(0,r.useSelector)(d.getSelectedAccountGroup),[n]=(0,r.useSelector)(t=>(0,d.getAccountGroupsByAddress)(t,[e??""])),a=(null==n?void 0:n.id)??t,i=(0,r.useSelector)(e=>(0,d.getInternalAccountByGroupAndCaip)(e,a,"eip155:1")),l=(0,r.useSelector)(e=>(0,d.getInternalAccountByGroupAndCaip)(e,a,o.SolScope.Mainnet)),m=(0,r.useSelector)(e=>(0,d.getInternalAccountByGroupAndCaip)(e,a,o.BtcScope.Mainnet)),p=(0,r.useSelector)(e=>(0,u.getTokenBalancesEvm)(e,null==i?void 0:i.address)),g=h(null==l?void 0:l.id),f=h(null==m?void 0:m.id);return{assetsWithBalance:(0,s.useMemo)(()=>[...p,...g,...f].map(e=>({...e,type:e.isNative?c.AssetType.native:c.AssetType.token})).sort((e,t)=>(t.tokenFiatAmount??0)-(e.tokenFiatAmount??0)),[p,g,f]),balanceByChainId:(0,s.useMemo)(()=>[...p,...g,...f].reduce((e,t)=>(e[t.chainId]||(e[t.chainId]=0),e[t.chainId]+=t.tokenFiatAmount??0,e),{}),[p,g,f])}}}}},{package:"$root$",file:"ui/hooks/useMultichainBalances.ts"}],[7167,{"../selectors":7947,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainSelector=function(e,t){return(0,s.useSelector)(n=>e(n,t||(0,r.getSelectedInternalAccount)(n)))};var s=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useMultichainSelector.ts"}],[7168,{"../../shared/constants/transaction":5819,"../components/app/assets/util/formatWithThreshold":6012,"../ducks/locale/locale":7009,"./useI18nContext":7157,"@metamask/keyring-api":2060,"@metamask/multichain-network-controller":2161,"@metamask/transaction-controller":2862,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KEYRING_TRANSACTION_STATUS_KEY=void 0,n.useMultichainTransactionDisplay=function(e,t){const n=(0,o.useSelector)(c.getIntlLocale),{chainId:r}=t,i=a.MULTICHAIN_NETWORK_DECIMAL_PLACES[r],u=(0,l.useI18nContext)(),m=d(e.from,!0,n,i),h=d(e.to,e.type===s.TransactionType.Send,n,i),p=d((e.fees||[]).filter(e=>"base"===e.type),!0,n),g=d((e.fees||[]).filter(e=>"priority"===e.type),!0,n),f={[s.TransactionType.Send]:u("sent"),[s.TransactionType.Receive]:u("received"),[s.TransactionType.Swap]:`${u("swap")} ${null==m?void 0:m.unit} ${u("to").toLowerCase()} ${null==h?void 0:h.unit}`,[s.TransactionType.Unknown]:u("interaction")};return{...e,title:f[e.type],from:m,to:h,baseFee:p,priorityFee:g,isRedeposit:0===e.to.length&&e.type===s.TransactionType.Send}};var s=e("@metamask/keyring-api"),r=e("@metamask/transaction-controller"),a=e("@metamask/multichain-network-controller"),o=e("react-redux"),i=e("../components/app/assets/util/formatWithThreshold"),c=e("../ducks/locale/locale"),u=e("../../shared/constants/transaction"),l=e("./useI18nContext");n.KEYRING_TRANSACTION_STATUS_KEY={[s.TransactionStatus.Failed]:r.TransactionStatus.failed,[s.TransactionStatus.Confirmed]:r.TransactionStatus.confirmed,[s.TransactionStatus.Unconfirmed]:u.TransactionGroupStatus.pending,[s.TransactionStatus.Submitted]:r.TransactionStatus.submitted};function d(e,t,n,s){const r={};for(const t of e){if(null==t||!t.asset.fungible)continue;const e=t.asset.type;r[e]?r[e].amount+=parseFloat(t.asset.amount):r[e]={amount:parseFloat(t.asset.amount),address:t.address,unit:t.asset.unit}}return Object.entries(r).map(([e,r])=>function(e,t,n,s){const r=1/10**(s||8),a=(0,i.formatWithThreshold)(e.amount,r,t,{minimumFractionDigits:0,maximumFractionDigits:s||8});let o=a;n&&(o=`-${a}`);return{...e,amount:o}}(r,n,t,s))[0]}}}},{package:"$root$",file:"ui/hooks/useMultichainTransactionDisplay.ts"}],[7169,{"../selectors":7947,"@metamask/name-controller":2222,lodash:4816,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useNames=i;var s=e("@metamask/name-controller"),r=e("react-redux"),a=e("lodash"),o=e("../selectors");function i(e){const t=(0,r.useSelector)(o.getNames,a.isEqual);return e.map(({value:e,type:n,variation:r})=>{var a;const o=function(e,t){if(t===s.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,n),i=(null===(a=t[n])||void 0===a?void 0:a[o])??{},c=i[r],u=i[s.FALLBACK_VARIATION],l=null!=c&&c.name||!u?c??{}:u,{name:d=null,sourceId:m=null,origin:h=null,proposedNames:p={}}=l;return{name:d,sourceId:m,proposedNames:p,origin:h}})}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[7170,{"../../shared/constants/metametrics":5796,"../../shared/constants/network":5800,"../../shared/lib/network-utils":5878,"../../shared/lib/only-keep-host":5879,"../../shared/modules/selectors/networks":5918,"../contexts/metametrics":6985,"../selectors/multichain/networks":7957,"../selectors/selectors":7963,"../store/actions":7975,"@metamask/utils":2908,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkConnectionBanner=void 0;var s=e("react"),r=e("react-redux"),a=e("@metamask/utils"),o=e("../selectors/multichain/networks"),i=e("../selectors/selectors"),c=e("../store/actions"),u=e("../contexts/metametrics"),l=e("../../shared/constants/metametrics"),d=e("../../shared/constants/network"),m=e("../../shared/modules/selectors/networks"),h=e("../../shared/lib/only-keep-host"),p=e("../../shared/lib/network-utils");n.useNetworkConnectionBanner=()=>{const e=(0,r.useDispatch)(),t=(0,s.useContext)(u.MetaMetricsContext),n=(0,r.useSelector)(o.selectFirstUnavailableEvmNetwork),g=(0,r.useSelector)(i.getNetworkConnectionBanner),f=(0,r.useSelector)(m.getNetworkConfigurationsByChainId),k=(0,s.useRef)({}),T=(0,s.useCallback)(()=>{k.current.degradedTimer&&(clearTimeout(k.current.degradedTimer),k.current.degradedTimer=undefined)},[]),v=(0,s.useCallback)(()=>{k.current.unavailableTimer&&(clearTimeout(k.current.unavailableTimer),k.current.unavailableTimer=undefined)},[]),y=(0,s.useCallback)(()=>{T(),v()},[T,v]),S=(0,s.useCallback)(({bannerType:e,eventName:n,networkClientId:s})=>{if(!d.infuraProjectId)return void console.warn("Infura project ID not found, cannot track network banner event");let r;for(const e of Object.values(f)){const t=e.rpcEndpoints.find(e=>e.networkClientId===s);if(t){r={chainId:e.chainId,url:t.url};break}}if(!r)return void console.warn(`RPC endpoint not found for network client ID: ${s}`);const o=r.url,i=(0,a.hexToNumber)(r.chainId),c=(0,p.isPublicEndpointUrl)(o,d.infuraProjectId)?(0,h.onlyKeepHost)(o):"custom";t({category:l.MetaMetricsEventCategory.Network,event:n,properties:{banner_type:e,chain_id_caip:`eip155:${i}`,rpc_endpoint_url:c}})},[f,t]),b=(0,s.useCallback)(()=>{v(),k.current.unavailableTimer=setTimeout(()=>{n&&(S({bannerType:"unavailable",eventName:l.MetaMetricsEventName.NetworkConnectionBannerShown,networkClientId:n.networkClientId}),e((0,c.updateNetworkConnectionBanner)({status:"unavailable",networkName:n.networkName,networkClientId:n.networkClientId,chainId:n.chainId,isInfuraEndpoint:n.isInfuraEndpoint})))},25e3)},[n,S,e,v]),I=(0,s.useCallback)(()=>{T(),k.current.degradedTimer=setTimeout(()=>{n&&(S({bannerType:"degraded",eventName:l.MetaMetricsEventName.NetworkConnectionBannerShown,networkClientId:n.networkClientId}),e((0,c.updateNetworkConnectionBanner)({status:"degraded",networkName:n.networkName,networkClientId:n.networkClientId,chainId:n.chainId,isInfuraEndpoint:n.isInfuraEndpoint})),b())},5e3)},[n,S,e,b,T]);return(0,s.useEffect)(()=>(n?"degraded"===g.status?b():"unknown"!==g.status&&"available"!==g.status||I():"available"!==g.status&&e((0,c.updateNetworkConnectionBanner)({status:"available"})),()=>{y()}),[n,y,e,g.status,I,b]),{...g,trackNetworkBannerEvent:S}}}}},{package:"$root$",file:"ui/hooks/useNetworkConnectionBanner.ts"}],[7171,{"../../shared/constants/transaction":5819,"../store/actions":7975,"./useAsync":7140},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftCollectionsMetadata=function(e){const{value:t}=(0,a.useAsyncResult)(()=>async function(e){const t=e.reduce((e,{chainId:t,contractAddress:n})=>(e[t]=[...e[t]??[],n.toLowerCase()],e),{}),n=Object.keys(t),s=await Promise.all(n.map(e=>async function(e,t){const n=await Promise.all(e.map(e=>(0,r.getTokenStandardAndDetails)(e,t))),s=e.filter((e,t)=>o.includes(n[t].standard));if(0===s.length)return{};const a=await(0,r.getNFTContractInfo)(s,t);return a.collections.reduce((e,t,n)=>(e[s[n]]={name:null==t?void 0:t.name,image:null==t?void 0:t.image,isSpam:null==t?void 0:t.isSpam},e),{})}(t[e],e)));return n.reduce((e,t,n)=>(e[t]=s[n],e),{})}(e),[JSON.stringify(e)]);return t??{}};var s=e("../../shared/constants/transaction"),r=e("../store/actions"),a=e("./useAsync");const o=[s.TokenStandard.ERC721]}}},{package:"$root$",file:"ui/hooks/useNftCollectionsMetadata.ts"}],[7172,{"../../shared/lib/trace":5888,"../../shared/modules/selectors/networks":5918,"../ducks/metamask/metamask":7010,"../selectors":7947,"../selectors/multichain/networks":7957,"./useI18nContext":7157,"./usePrevious":7178,lodash:4816,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNfts=function({overridePopularNetworkFilter:e=!1}={}){const t=(0,m.useI18nContext)(),n=(0,r.useSelector)(o.getAllNfts),{address:h}=(0,r.useSelector)(i.getSelectedInternalAccount),p=(0,r.useSelector)(u.getCurrentChainId),g=(0,r.useSelector)(i.getAllChainsToPoll),f=(0,r.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),k=(0,r.useSelector)(c.getEnabledNetworksByNamespace),T=(0,s.useMemo)(()=>{if(i.isGlobalNetworkSelectorRemoved){const t={};return e?(null==n?void 0:n[p])??[]:(Object.entries(n??{}).forEach(([e,n])=>{null!=k&&k[e]&&Array.isArray(n)&&(t[e]=n)}),t)}(0,l.trace)({name:l.TraceName.LoadCollectibles});const t=f||e?(null==n?void 0:n[p])??[]:n;return(0,l.endTrace)({name:l.TraceName.LoadCollectibles}),t},[f,e,n,p,k]),v=(0,r.useSelector)(o.getNftContracts),y=t("nftsPreviouslyOwned"),S=t("unknownCollection"),[b,I]=(0,s.useState)([]),[w,C]=(0,s.useState)([]),[_,A]=(0,s.useState)(()=>(null==T?void 0:T.length)>=0),E=(0,d.usePrevious)(T),N=(0,d.usePrevious)(g),M=(0,d.usePrevious)(h);return(0,s.useEffect)(()=>{(0,a.isEqual)(E,T)&&(0,a.isEqual)(M,h)&&(0,a.isEqual)(N,p)||(()=>{if(A(!0),h===undefined||g===undefined)return;const e=[],t=[];Object.values(T).flat().forEach(n=>{!1===(null==n?void 0:n.isCurrentlyOwned)?e.push(n):t.push(n)}),C(e),I(t),A(!1)})()},[T,E,v,A,p,N,h,M,y,S,g]),{loading:_,currentlyOwnedNfts:b,previouslyOwnedNfts:w}};var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("../selectors/multichain/networks"),u=e("../../shared/modules/selectors/networks"),l=e("../../shared/lib/trace"),d=e("./usePrevious"),m=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNfts.ts"}],[7173,{"../../shared/modules/selectors/networks":5918,"../ducks/metamask/metamask":7010,"../helpers/utils/nfts":7067,"../selectors":7947,"../selectors/multichain/networks":7957,"./useI18nContext":7157,"./usePrevious":7178,lodash:4816,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftsCollections=function(){const e=(0,m.useI18nContext)(),t=e("nftsPreviouslyOwned"),n=e("unknownCollection"),[h,p]=(0,s.useState)({}),[g,f]=(0,s.useState)({collectionName:t,nfts:[]}),k=(0,r.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),T=(0,r.useSelector)(o.getAllNfts),v=(0,r.useSelector)(c.getEnabledNetworksByNamespace),{address:y}=(0,r.useSelector)(i.getSelectedInternalAccount),S=(0,r.useSelector)(u.getCurrentChainId),b=(0,s.useMemo)(()=>{if(i.isGlobalNetworkSelectorRemoved){const e={};return Object.entries(T??{}).forEach(([t,n])=>{null!=v&&v[t]&&Array.isArray(n)&&(e[t]=n)}),e}return k?(null==T?void 0:T[S])??[]:T},[k,T,S,v]),[I,w]=(0,s.useState)(()=>(null==b?void 0:b.length)>=0),C=(0,r.useSelector)(o.getNftContracts),_=(0,d.usePrevious)(b),A=(0,d.usePrevious)(S),E=(0,d.usePrevious)(y);return(0,s.useEffect)(()=>{(0,a.isEqual)(_,b)&&(0,a.isEqual)(E,y)&&(0,a.isEqual)(A,S)||(()=>{if(w(!0),y===undefined||S===undefined)return;const e={},s={collectionName:t,nfts:[]};Object.values(b).flat().forEach(t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))s.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const s=C.find(({address:e})=>e===t.address);e[t.address]={collectionName:(null==s?void 0:s.name)||n,collectionImage:(null==s?void 0:s.logo)||(0,l.getNftImage)(t.image),nfts:[t]}}}),p(e),f(s),w(!1)})()},[b,_,C,w,S,A,y,E,t,n]),{nftsLoading:I,collections:h,previouslyOwnedCollection:g}};var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("../selectors/multichain/networks"),u=e("../../shared/modules/selectors/networks"),l=e("../helpers/utils/nfts"),d=e("./usePrevious"),m=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[7174,{"../helpers/constants/notifications":7026,"../store/actions":7975,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNotificationTimeouts=void 0;var s=e("react-redux"),r=e("../store/actions"),a=e("../helpers/constants/notifications");n.useSnapNotificationTimeouts=()=>{const e=(0,s.useDispatch)();return{setNotificationTimeout:t=>{setTimeout(()=>{e((0,r.deleteNotificationsById)([t]))},a.NOTIFICATIONS_EXPIRATION_DELAY)}}}}}},{package:"$root$",file:"ui/hooks/useNotificationTimeouts.ts"}],[7175,{"../selectors":7947,"@metamask/permission-controller":2334,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,r.useSelector)(t=>(0,a.getTargetSubjectMetadata)(t,e));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:s.SubjectType.Unknown}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var s=e("@metamask/permission-controller"),r=e("react-redux"),a=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[7176,{"../selectors/selectors":7963,"./useTrustSignals":7197,"@metamask/phishing-controller":2348,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginTrustSignals=function(e){let t;if(e)try{const n=new URL(e);t=n.hostname}catch(e){t=undefined}const n=(0,r.useSelector)(e=>(0,a.getUrlScanCacheResult)(e,t));return{state:i(n),label:null}};var s=e("@metamask/phishing-controller"),r=e("react-redux"),a=e("../selectors/selectors"),o=e("./useTrustSignals");function i(e){var t;const n=null==e||null===(t=e.data)||void 0===t?void 0:t.recommendedAction;if(!n)return o.TrustSignalDisplayState.Unknown;switch(n){case s.RecommendedAction.Block:return o.TrustSignalDisplayState.Malicious;case s.RecommendedAction.Warn:return o.TrustSignalDisplayState.Warning;case s.RecommendedAction.Verified:return o.TrustSignalDisplayState.Verified;case s.RecommendedAction.None:default:return o.TrustSignalDisplayState.Unknown}}}}},{package:"$root$",file:"ui/hooks/useOriginTrustSignals.ts"}],[7177,{react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const t=(0,s.useRef)(null),n=(0,s.useRef)(null);let r=!1;(0,s.useEffect)(()=>{if(!1===e.enabled)return()=>{};r=!0;const s=()=>{var s;t.current&&(e.stopPollingByPollingToken(t.current),null===(s=n.current)||void 0===s||s.call(n,t.current))};return e.startPolling(e.input).then(a=>{var o;t.current=a,n.current=(null===(o=e.callback)||void 0===o?void 0:o.call(e,a))||null,r||s()}),()=>{r=!1,s()}},[e.input&&JSON.stringify(e.input),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[7178,{react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,s.useRef)();return(0,s.useEffect)(()=>{t.current=e},[e]),t.current};var s=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[7179,{"./usePrevious":7178,lodash:4816,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var s=e("react"),r=e("lodash"),a=e("./usePrevious");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var n,o;const i=(0,s.useRef)(null),c=(0,a.usePrevious)(null===(n=i.current)||void 0===n?void 0:n.offsetHeight),[u,l]=(0,s.useState)(!1),[d,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(!1),g=()=>{if(!i.current)return;const e=i.current&&i.current.scrollHeight>i.current.clientHeight,n=e&&Math.round(i.current.scrollTop)+i.current.offsetHeight+t>=i.current.scrollHeight;e!==d&&(l(!1),m(e)),p(!e||n),e&&!n||l(!0)};(0,s.useEffect)(g,[i,...e]),(0,s.useEffect)(()=>{var e;c!==(null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&g()},[null===(o=i.current)||void 0===o?void 0:o.offsetHeight]);return{isScrollable:d,isScrolledToBottom:h,hasScrolledToBottom:u,scrollToBottom:()=>{p(!0),l(!0),i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:l,ref:i,onScroll:(0,r.debounce)(g,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[7180,{"../helpers/constants/routes":7028,"../selectors":7947,"react-redux":5202,"react-router-dom":5226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:(0,a.getPaths)(),exact:!0,strict:!0}),t=((0,s.useSelector)(o.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:a.PATH_NAME_MAP.get(e.path),url:e.path}:undefined,referrer:n}};var s=e("react-redux"),r=e("react-router-dom"),a=e("../helpers/constants/routes"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[7181,{"../ducks/app/app":6995,"./useGasFeeEstimates":7154,lodash:4816,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,r.useDispatch)(),c=(0,r.useSelector)(o.getGasLoadingAnimationIsShowing),u=(0,s.useRef)(t),l=!(0,a.isEqual)(u.current,t),d=(0,a.isEqual)(u.current,{});l&&(u.current=t);const m=e||l&&!d;(0,s.useEffect)(()=>{!1===c&&!0===m&&n((0,o.toggleGasLoadingAnimation)(!0))},[n,c,m]),(0,s.useEffect)(()=>{let e;return c&&!m&&(e=setTimeout(()=>{n((0,o.toggleGasLoadingAnimation)(!1))},2e3)),()=>{e&&clearTimeout(e)}},[n,c,m])};var s=e("react"),r=e("react-redux"),a=e("lodash"),o=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[7182,{"../../shared/constants/time":5817,"../../shared/modules/selectors/networks":5918,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:i}=e,c=(0,r.useSelector)(o.getCurrentChainId),[u={}]=n,l=u.chainId===c,{submittedTime:d}=u,[m,h]=(0,s.useState)(()=>Date.now()-d>5e3&&t&&!i&&l);return(0,s.useEffect)(()=>{let e;return i||!t||m||(Date.now()-d>5*a.SECOND?h(!0):e=setTimeout(()=>{h(!0),clearTimeout(e)},5001-(Date.now()-d))),()=>{e&&clearTimeout(e)}},[d,m,i,t]),m};var s=e("react"),r=e("react-redux"),a=e("../../shared/constants/time"),o=e("../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[7183,{"../../shared/lib/transactions-controller-utils":5890,"../../shared/modules/selectors/networks":5918,"../../shared/modules/swaps.utils":5923,"./useTokenFiatAmount":7190,"@metamask/transaction-controller":2862,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:u,address:l}=t,{primaryTransaction:d,initialTransaction:m}=e,{type:h}=m,{from:p}=m.txParams||{},g=(0,s.useSelector)(i.getCurrentChainId),f=h===r.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,o.isSwapsDefaultTokenAddress)(t.address,g)&&(0,o.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,g)),k=[r.TransactionType.swap].includes(h)&&f?(0,a.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,m,l,p,u,null,g):[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(h)&&d.swapTokenValue,T="string"==typeof k&&-1===Math.sign(k),v=(0,c.useTokenFiatAmount)(l,k||"",n),y=(0,c.useTokenFiatAmount)(d.sourceTokenAddress,k,d.sourceTokenSymbol);let S;k&&(f?S=v:h===r.TransactionType.swapAndSend&&(S=y));return{swapTokenValue:k,swapTokenFiatAmount:S,isViewingReceivedTokenFromSwap:f,isNegative:T}};var s=e("react-redux"),r=e("@metamask/transaction-controller"),a=e("../../shared/lib/transactions-controller-utils"),o=e("../../shared/modules/swaps.utils"),i=e("../../shared/modules/selectors/networks"),c=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[7184,{"../../shared/constants/preferences":5805,"../selectors":7947,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,r.useSelector)(a.getTheme),[t,n]=(0,s.useState)(e);return(0,s.useEffect)(()=>{const t=e&&e!==o.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${o.ThemeType.light}".`),n(o.ThemeType.light)),n(t)},[e]),t};var s=e("react"),r=e("react-redux"),a=e("../selectors"),o=e("../../shared/constants/preferences");const i=Object.values(o.ThemeType).filter(e=>e!==o.ThemeType.os)}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[7185,{react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const r=(0,s.useRef)(),[a,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{r.current=e},[e]),(0,s.useEffect)(()=>{if("start"!==a)return undefined;const e=setTimeout(()=>{r.current()},t);return o(e),()=>{clearTimeout(a)}},[t,a]);const i=(0,s.useCallback)(()=>{clearTimeout(a),o("start")},[a]);n&&i();return i};var s=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[7186,{"../../shared/modules/conversion.utils":5900,"../ducks/metamask/metamask":7010,"../selectors/multichain/networks":7957,"../store/actions":7975,"./useMultiPolling":7162,"bn.js":4e3,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringifyBalance=m,n.useTokenTracker=n.useTokenBalances=void 0;var s=e("react-redux"),r=l(e("bn.js")),a=e("../store/actions"),o=e("../ducks/metamask/metamask"),i=e("../../shared/modules/conversion.utils"),c=e("../selectors/multichain/networks"),u=l(e("./useMultiPolling"));function l(e){return e&&e.__esModule?e:{default:e}}const d=({chainIds:e}={})=>{const t=(0,s.useSelector)(o.getTokenBalances),n=(0,s.useSelector)(c.getEnabledChainIds),r=e&&e.length>0?e:n;return(0,u.default)({startPolling:a.tokenBalancesStartPolling,stopPollingByPollingToken:a.tokenBalancesStopPollingByPollingToken,input:[r]}),{tokenBalances:t}};n.useTokenBalances=d;function m(e,t,n=5){if(e.eq(new r.default(0)))return"0";const s=parseInt(t.toString(),10);if(0===s)return e.toString();let a=e.toString(),o=a.length,i=o-s,c="";if(i<=0){for(;c.length<=-1*i;)c+="0",o+=1;a=c+a,i=1}const u=a.substr(0,o-s);if(0===n)return u;const l=a.substr(i,n);if(/0+$/u.test(l)){let e=a.substr(i).replace(/0+$/u,"");return e.length>0&&(e=`.${e}`),`${u}${e}`}return`${u}.${l}`}n.useTokenTracker=({chainId:e,tokens:t,address:n,hideZeroBalanceTokens:s})=>{const{tokenBalances:a}=d({chainIds:[e]});return{tokensWithBalances:t.reduce((t,o)=>{var c;const u=(null===(c=a[n])||void 0===c||null===(c=c[e])||void 0===c?void 0:c[o.address])??"0x0";if("0x0"!==u||!s){const e=(0,i.hexToDecimal)(u);t.push({address:o.address,symbol:o.symbol,decimals:o.decimals,balance:e,balanceError:null,string:m(new r.default(e),new r.default(o.decimals))})}return t},[])}}}}},{package:"$root$",file:"ui/hooks/useTokenBalances.ts"}],[7187,{"../../shared/modules/transaction.utils":5924,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,s.useMemo)(()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null,[t,e])};var s=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[7188,{"../ducks/metamask/metamask":7010,"../selectors":7947,"../selectors/multichain/networks":7957,"../store/actions":7975,"./useMultiPolling":7162,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain/networks"),i=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getUseTokenDetection),t=(0,r.useSelector)(c.getCompletedOnboarding),n=(0,r.useSelector)(c.getIsUnlocked),s=(0,r.useSelector)(a.getChainIdsToPoll),l=(0,r.useSelector)(o.getEnabledChainIds),d=t&&n&&e,m=a.isGlobalNetworkSelectorRemoved?l:s;return(0,u.default)({startPolling:i.tokenDetectionStartPolling,stopPollingByPollingToken:i.tokenDetectionStopPollingByPollingToken,input:d?[m]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[7189,{"../../shared/lib/metamask-controller-utils":5872,"../../shared/lib/transactions-controller-utils":5890,"./useTokenData":7187,react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,o.useTokenData)(e,n),c=(0,r.getTokenValueParam)(i),u=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&c);return(0,s.useMemo)(()=>u?(0,a.calcTokenAmount)(c,t.decimals).toString(10):null,[u,c,t])};var s=e("react"),r=e("../../shared/lib/metamask-controller-utils"),a=e("../../shared/lib/transactions-controller-utils"),o=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[7191,{"../ducks/metamask/metamask":7010,"../selectors":7947,"../selectors/multichain/networks":7957,"../selectors/selectors":7963,"../store/actions":7975,"./useMultiPolling":7162,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain/networks"),i=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=e("../selectors/selectors"),l=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(a.getUseTokenDetection),t=(0,r.useSelector)(a.getUseTransactionSimulations),n=(0,r.useSelector)(c.getCompletedOnboarding),s=(0,r.useSelector)(c.getIsUnlocked),d=(0,r.useSelector)(a.getUseExternalServices),m=(0,r.useSelector)(a.getChainIdsToPoll),h=(0,r.useSelector)(o.getEnabledChainIds),p=n&&s&&d&&(e||t),g=u.isGlobalNetworkSelectorRemoved?h:m;return(0,l.default)({startPolling:i.tokenListStartPolling,stopPollingByPollingToken:i.tokenListStopPollingByPollingToken,input:p?g:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[7192,{"../ducks/metamask/metamask":7010,"../selectors":7947,"../selectors/multichain/networks":7957,"../selectors/selectors":7963,"../store/actions":7975,"./useMultiPolling":7162,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),a=e("../selectors"),o=e("../selectors/multichain/networks"),i=e("../store/actions"),c=e("../ducks/metamask/metamask"),u=e("../selectors/selectors"),l=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(c.getCompletedOnboarding),t=(0,r.useSelector)(c.getIsUnlocked),n=(0,r.useSelector)(a.getUseCurrencyRateCheck),s=(0,r.useSelector)(a.getChainIdsToPoll),d=(0,r.useSelector)(o.getEnabledChainIds),m=(0,r.useSelector)(a.getTokenExchangeRates),h=(0,r.useSelector)(a.getTokensMarketData),p=(0,r.useSelector)(a.getMarketData),g=e&&t&&n,f=u.isGlobalNetworkSelectorRemoved?d:s;return(0,l.default)({startPolling:i.tokenRatesStartPolling,stopPollingByPollingToken:i.tokenRatesStopPollingByPollingToken,input:g?[f]:[]}),{tokenExchangeRates:m,tokensMarketData:h,marketData:p}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[7193,{"../../shared/constants/time":5817,"../../shared/modules/selectors/networks":5918,"../../shared/modules/string-utils":5922,"../selectors":7947,"./useEqualityCheck":7149,"@metamask/eth-token-tracker":1939,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:s=!1}){const{chainId:m,rpcUrl:h}=(0,o.useSelector)(c.getProviderConfig),{address:p}=(0,o.useSelector)(i.getSelectedInternalAccount,o.shallowEqual),g=t??p,[f,k]=(0,r.useState)(()=>(null==e?void 0:e.length)>=0),[T,v]=(0,r.useState)([]),[y,S]=(0,r.useState)(null),b=(0,r.useRef)(null),I=(0,d.useEqualityCheck)(e),w=(0,r.useCallback)(e=>{const t=(s?e.filter(e=>Number(e.balance)>0):e).map(e=>{const t=I.find(t=>(0,l.isEqualCaseInsensitive)(t.address,e.address));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}});v(t),k(!1),S(null)},[s,I]),C=(0,r.useCallback)(e=>{S(e),k(!1)},[]),_=(0,r.useCallback)(()=>{b.current&&(b.current.stop(),b.current.removeAllListeners("update"),b.current.removeAllListeners("error"),b.current=null)},[]),A=(0,r.useCallback)((e,t)=>{_(),b.current=new a.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*u.SECOND,balanceDecimals:5}),b.current.on("update",w),b.current.on("error",C),b.current.updateBalances()},[w,n,C,_]);return(0,r.useEffect)(()=>_,[_]),(0,r.useEffect)(()=>{k(!0),g&&m!==undefined&&global.ethereumProvider?(0===I.length&&w([]),A(g,I)):_()},[g,_,m,h,I,w,A]),{loading:f,tokensWithBalances:T,error:y}};var s,r=e("react"),a=(s=e("@metamask/eth-token-tracker"))&&s.__esModule?s:{default:s},o=e("react-redux"),i=e("../selectors"),c=e("../../shared/modules/selectors/networks"),u=e("../../shared/constants/time"),l=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[7194,{"../helpers/utils/token-cache-utils":7077,"../selectors/selectors":7963,"./useTrustSignals":7197,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTrustSignalsForAddresses=function(e,t){const n=(0,r.useSelector)(n=>(0,a.getTokenScanResultsForAddresses)(n,e,t));return(0,s.useMemo)(()=>e&&t&&Array.isArray(t)?t.map(t=>{if(!t)return{state:i.TrustSignalDisplayState.Unknown,label:null};const s=(0,o.generateTokenCacheKey)(e,t);return{state:c(n[s]),label:null}}):[],[e,t,n])};var s=e("react"),r=e("react-redux"),a=e("../selectors/selectors"),o=e("../helpers/utils/token-cache-utils"),i=e("./useTrustSignals");function c(e){var t;const n=null==e||null===(t=e.data)||void 0===t?void 0:t.result_type;if(!n)return i.TrustSignalDisplayState.Unknown;switch(n){case"Malicious":return i.TrustSignalDisplayState.Malicious;case"Warning":return i.TrustSignalDisplayState.Warning;default:return i.TrustSignalDisplayState.Unknown}}}}},{package:"$root$",file:"ui/hooks/useTokenTrustSignals.ts"}],[7195,{"../../shared/constants/network":5800,"../../shared/constants/swaps":5815,"../../shared/modules/hexstring-utils":5906,"../../shared/modules/selectors/networks":5918,"../../shared/modules/swaps.utils":5923,"../ducks/metamask/metamask":7010,"../ducks/swaps/swaps":7019,"../helpers/utils/token-util":7078,"../selectors":7947,"./useEqualityCheck":7149,"@metamask/assets-controllers":1203,"bignumber.js":3949,lodash:4816,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=v,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:s=f.TokenBucketPriority.owned}){const c=(0,a.useSelector)(d.getCurrentChainId),u=(0,a.useSelector)(l.getTokenExchangeRates,i.isEqual),g=(0,a.useSelector)(m.getConversionRate),k=(0,a.useSelector)(m.getCurrentCurrency),y=(0,a.useSelector)(l.getSwapsDefaultToken,a.shallowEqual),S=(0,a.useSelector)(l.getTokenList,i.isEqual),b=(0,T.useEqualityCheck)(t),I=(0,T.useEqualityCheck)(e),w=v(y,u,g,k,c,S),C=(0,T.useEqualityCheck)(w),_=(0,a.useSelector)(h.getSwapsTokens,i.isEqual)||[],A=_.length?_:[C,...n.filter(e=>e.symbol!==C.symbol)],E=(0,T.useEqualityCheck)(A);return(0,r.useMemo)(()=>{const e=I.reduce((e,t)=>({...e,[t.address.toLowerCase()]:t}),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([C,...E,...I],e=>e.address.toLowerCase()).forEach(n=>{const r=v({...e[n.address.toLowerCase()],...n},u,g,k,c,S);s===f.TokenBucketPriority.owned?(0,p.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):b[n.address.toLowerCase()]?t.top[b[n.address.toLowerCase()].index]=r:t.others.push(r):b[n.address.toLowerCase()]?t.top[b[n.address.toLowerCase()].index]=r:(0,p.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):t.others.push(r)}),t.owned=t.owned.sort(({rawFiat:e},{rawFiat:t})=>new o.default(e||0).gt(t||0)?-1:1),t.top=t.top.filter(Boolean),s===f.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]},[E,I,b,u,g,k,C,c,S,s])};var s,r=e("react"),a=e("react-redux"),o=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},i=e("lodash"),c=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),l=e("../selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../ducks/metamask/metamask"),h=e("../ducks/swaps/swaps"),p=e("../../shared/modules/swaps.utils"),g=e("../../shared/modules/hexstring-utils"),f=e("../../shared/constants/swaps"),k=e("../../shared/constants/network"),T=e("./useEqualityCheck");function v(e,t,n,s,r,a){var i,l;const{symbol:d,name:m,address:h,iconUrl:f,string:T,balance:v,decimals:y}=e;let S;(0,p.isSwapsDefaultTokenSymbol)(d,r)?S=1:T&&n>0&&(S=t[(0,g.toChecksumHexAddress)(h)]);const b=(0,u.getTokenFiatAmount)(S,n,s,T,d,!0)||"",I=b?(0,u.getTokenFiatAmount)(S,n,s,T,d,!1):"",w=r===k.CHAIN_IDS.SEPOLIA?k.CHAIN_IDS.MAINNET:r,C=(d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.SEPOLIA||d===k.CURRENCY_SYMBOLS.BNB&&r===k.CHAIN_IDS.BSC||d===k.CURRENCY_SYMBOLS.MATIC&&r===k.CHAIN_IDS.POLYGON||d===k.CURRENCY_SYMBOLS.AVALANCHE&&r===k.CHAIN_IDS.AVALANCHE||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.OPTIMISM||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.ARBITRUM||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.LINEA_MAINNET||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.ZKSYNC_ERA||d===k.CURRENCY_SYMBOLS.ETH&&r===k.CHAIN_IDS.BASE?f:(0,c.formatIconUrlWithProxy)({chainId:w,tokenAddress:h||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:m||(null===(i=a[null==h?void 0:h.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:T&&`${new o.default(T).round(6).toString()} ${d}`,rightSecondaryLabel:b,iconUrl:C,identiconAddress:C?null:h,balance:v,decimals:y,name:m||(null===(l=a[null==h?void 0:h.toLowerCase()])||void 0===l?void 0:l.name),rawFiat:I,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[7196,{"../../shared/constants/bridge":5783,"../../shared/constants/transaction":5819,"../../shared/lib/metamask-controller-utils":5872,"../../shared/lib/transactions-controller-utils":5890,"../../shared/modules/string-utils":5922,"../ducks/bridge-status/selectors":6997,"../ducks/locale/locale":7009,"../ducks/metamask/metamask":7010,"../helpers/constants/common":7021,"../helpers/constants/transactions":7034,"../helpers/utils/common.util":7050,"../helpers/utils/token-util":7078,"../helpers/utils/transactions.util":7079,"../pages/bridge/hooks/useBridgeTokenDisplayData":7221,"../pages/confirmations/components/simulation-details/formatAmount":7488,"../selectors/selectors":7963,"../store/actions":7975,"./bridge/useBridgeChainInfo":7088,"./useCurrencyDisplay":7145,"./useCurrentAsset":7147,"./useI18nContext":7157,"./useSwappedTokenValue":7183,"./useTokenData":7187,"./useTokenDisplayValue":7189,"./useTokenFiatAmount":7190,"./useUserPreferencedCurrency":7198,"@metamask/transaction-controller":2862,"bignumber.js":3949,react:5258,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,O,x,B,$,U,F;const L=(0,s.useDispatch)(),j=(0,s.useSelector)(y.getIntlLocale),W=(0,P.useCurrentAsset)(),H=(0,s.useSelector)(i.getAllTokens),G=(0,s.useSelector)(i.getSelectedAddress),V=(0,s.useSelector)(h.getNfts),K=(0,s.useSelector)(i.getAllDetectedTokens),Y=(0,s.useSelector)(i.selectERC20TokensByChain),q=(0,w.useI18nContext)(),Q=e.initialTransaction.id,z=(0,s.useSelector)(e=>(0,I.selectBridgeHistoryItemForTxMetaId)(e,Q)),{destNetwork:X}=(0,R.default)({bridgeHistoryItem:z,srcTxMeta:e.initialTransaction}),J=S.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==X?void 0:X.chainId],{initialTransaction:Z,primaryTransaction:ee}=e,{transferInformation:te,type:ne}=Z,{from:se,to:re}=Z.txParams||{},ae=[a.TransactionType.swap,a.TransactionType.bridge].includes(ne)&&Boolean(z),oe=(0,s.useSelector)(e=>{var t;return(0,i.getKnownMethodData)(e,null==Z||null===(t=Z.txParams)||void 0===t?void 0:t.data)})||{},ie=(0,c.getStatusKey)(ee),ce=ie in m.PENDING_STATUS_HASH,ue=(0,r.useRef)(!0),le=null===(t=ee.txParams)||void 0===t?void 0:t.value;let de="-",me=re;const he=se,pe=null==Z||null===(n=Z.txParams)||void 0===n?void 0:n.data,ge=m.TOKEN_CATEGORY_HASH[ne];let fe=null;const[ke,Te]=(0,r.useState)(null);var ve,ye,Se,be,Ie,we;ge&&(fe=(null==H||null===(ve=H[null==e||null===(ye=e.initialTransaction)||void 0===ye?void 0:ye.chainId])||void 0===ve||null===(ve=ve[G])||void 0===ve?void 0:ve.find(({address:e})=>(0,f.isEqualCaseInsensitive)(e,me)))||(null==K||null===(Se=K[null==e||null===(be=e.initialTransaction)||void 0===be?void 0:be.chainId])||void 0===Se||null===(Se=Se[G])||void 0===Se?void 0:Se.find(({address:e})=>(0,f.isEqualCaseInsensitive)(e,me)))||(null==Y||null===(Ie=Y[null==e||null===(we=e.initialTransaction)||void 0===we?void 0:we.chainId])||void 0===Ie||null===(Ie=Ie.data)||void 0===Ie?void 0:Ie[me.toLowerCase()]));(0,r.useEffect)(()=>()=>{ue.current=!1},[]),(0,r.useEffect)(()=>{!async function(){if(ge&&!fe)try{const e=await(0,d.getAssetDetails)(me,he,pe,V);!0===ue.current&&Te(e)}catch(e){console.warn("Unable to set asset details",{error:e,transactionData:pe})}}()},[ge,fe,me,he,V,ue,pe]),ke&&(fe={address:ke.toAddress,symbol:ke.symbol,decimals:ke.decimals});const Ce=(0,N.useTokenData)(pe,ge),_e=(0,d.getTokenIdParam)(Ce)??(0,k.getTokenValueParam)(Ce),Ae=ge&&V.find(({address:e,tokenId:t})=>(0,f.isEqualCaseInsensitive)(e,me)&&t===_e);let Ee=(0,E.useTokenDisplayValue)(pe,fe,ge);null!=te&&te.decimals&&(Ee=(0,b.calcTokenAmount)(te.amount,te.decimals).toString(10));const Ne=(0,C.useTokenFiatAmount)(null===(O=fe)||void 0===O?void 0:O.address,Ee,null===(x=fe)||void 0===x?void 0:x.symbol,undefined,!0);let Me,Pe,Re=ge?null===(B=fe)||void 0===B?void 0:B.symbol:undefined,Oe=ge?Ee:undefined,De=ge?Ne:undefined;const{swapTokenValue:xe,isNegative:Be,swapTokenFiatAmount:$e,isViewingReceivedTokenFromSwap:Ue}=(0,M.useSwappedTokenValue)(e,W),Fe=(0,T.useBridgeTokenDisplayData)(e);if(D.includes(ne))Me=p.TransactionGroupCategory.signatureRequest,Pe=q("signatureRequest");else if(ne===a.TransactionType.swap){Me=p.TransactionGroupCategory.swap,Pe=q("swapTokenToToken",[Fe.sourceTokenSymbol??Z.sourceTokenSymbol,Fe.destinationTokenSymbol??Z.destinationTokenSymbol]);const e=Fe.sourceTokenSymbol??Z.sourceTokenSymbol;Re=Ue?W.symbol:e;const t=Fe.sourceTokenAmountSent??xe;Oe=t?(0,v.formatAmount)(j,new o.default(t)):undefined,De=Fe.displayCurrencyAmount??$e,de=Be?"":Ue?"+":"-"}else if(ne===a.TransactionType.swapAndSend){const e=Z.swapAndSendRecipient===he;me=Z.swapAndSendRecipient,Me=p.TransactionGroupCategory.swapAndSend,Pe=q("sentTokenAsToken",[Z.sourceTokenSymbol,Z.destinationTokenSymbol]),Re=Ue&&e?W.symbol:Z.sourceTokenSymbol,Oe=xe,De=$e,de=Be?"":Ue&&e?"+":"-"}else if(ne===a.TransactionType.swapApproval)Me=p.TransactionGroupCategory.approval,Pe=q("swapApproval",[Fe.sourceTokenSymbol??ee.sourceTokenSymbol]),Re=Fe.sourceTokenSymbol??ee.sourceTokenSymbol;else if(ne===a.TransactionType.tokenMethodApprove){var Le;Me=p.TransactionGroupCategory.approval,de="",Pe=q("approveSpendingCap",[(null===(Le=fe)||void 0===Le?void 0:Le.symbol)||q("token").toLowerCase()])}else if(ne===a.TransactionType.tokenMethodSetApprovalForAll){var je,We,He;const e=!(null!=Ce&&null!==(je=Ce.args)&&void 0!==je&&je[1]);Me=p.TransactionGroupCategory.approval,de="",Pe=e?q("revokePermissionTitle",[(null===(We=fe)||void 0===We?void 0:We.symbol)||(null==Ae?void 0:Ae.name)||q("token")]):q("setApprovalForAllTitle",[(null===(He=fe)||void 0===He?void 0:He.symbol)||q("token")])}else if(ne===a.TransactionType.tokenMethodIncreaseAllowance){var Ge;Me=p.TransactionGroupCategory.approval,de="",Pe=q("approveIncreaseAllowance",[(null===(Ge=fe)||void 0===Ge?void 0:Ge.symbol)||q("token")])}else if(ne===a.TransactionType.contractInteraction||ne===a.TransactionType.batch||ne===a.TransactionType.revokeDelegation){Me=p.TransactionGroupCategory.interaction;const e=(0,c.getTransactionTypeTitle)(q,ne);Pe=(null==oe?void 0:oe.name)&&(0,u.camelCaseToCapitalize)(oe.name)||e}else if(ne===a.TransactionType.deployContract)Me=p.TransactionGroupCategory.interaction,Pe=(0,c.getTransactionTypeTitle)(q,ne);else if(ne===a.TransactionType.incoming)Me=p.TransactionGroupCategory.receive,Pe=q("received"),de="";else if(ne===a.TransactionType.tokenMethodTransferFrom||ne===a.TransactionType.tokenMethodTransfer){var Ve;Me=p.TransactionGroupCategory.send,Pe=q("sentSpecifiedTokens",[(null===(Ve=fe)||void 0===Ve?void 0:Ve.symbol)||(null==Ae?void 0:Ae.name)||q("token")]),me=(0,d.getTokenAddressParam)(Ce)}else ne===a.TransactionType.tokenMethodSafeTransferFrom?(Me=p.TransactionGroupCategory.send,Pe=q("safeTransferFrom"),me=(0,d.getTokenAddressParam)(Ce)):ne===a.TransactionType.simpleSend?(Me=p.TransactionGroupCategory.send,Pe=q("sent")):ne===a.TransactionType.bridgeApproval?(Me=p.TransactionGroupCategory.approval,Pe=q("bridgeApproval",[Fe.sourceTokenSymbol]),Re=Fe.sourceTokenSymbol):ne===a.TransactionType.bridge?(Pe=J?q("bridgedToChain",[J]):q("bridged"),Me=Fe.category,Re=Fe.sourceTokenSymbol,Oe=(0,v.formatAmount)(j,new o.default(Fe.sourceTokenAmountSent??0)),De=Fe.displayCurrencyAmount):L((0,g.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${ne}`));const Ke=Pe,Ye=(0,_.useUserPreferencedCurrency)(l.PRIMARY,{},null==e||null===($=e.initialTransaction)||void 0===$?void 0:$.chainId),qe=(0,_.useUserPreferencedCurrency)(l.SECONDARY),[Qe]=(0,A.useCurrencyDisplay)(le,{prefix:de,displayValue:Oe,suffix:Re,...Ye},null==e||null===(U=e.initialTransaction)||void 0===U?void 0:U.chainId),[ze]=(0,A.useCurrencyDisplay)(le,{prefix:de,displayValue:ae?Fe.displayCurrencyAmount:De,hideLabel:ge||Boolean(xe),...qe},null==e||null===(F=e.initialTransaction)||void 0===F?void 0:F.chainId);!me&&te&&(me=re);return{title:Pe,category:Me,primaryCurrency:ne===a.TransactionType.swap&&ce?"":Qe,senderAddress:he,recipientAddress:me,secondaryCurrency:ge&&!Ne||!ae&&[a.TransactionType.swap,a.TransactionType.swapAndSend].includes(ne)&&!$e||ae&&!ze?undefined:ze,displayedStatusKey:ie,isPending:ce,detailsTitle:Ke}};var s=e("react-redux"),r=e("react"),a=e("@metamask/transaction-controller"),o=O(e("bignumber.js")),i=e("../selectors/selectors"),c=e("../helpers/utils/transactions.util"),u=e("../helpers/utils/common.util"),l=e("../helpers/constants/common"),d=e("../helpers/utils/token-util"),m=e("../helpers/constants/transactions"),h=e("../ducks/metamask/metamask"),p=e("../../shared/constants/transaction"),g=e("../store/actions"),f=e("../../shared/modules/string-utils"),k=e("../../shared/lib/metamask-controller-utils"),T=e("../pages/bridge/hooks/useBridgeTokenDisplayData"),v=e("../pages/confirmations/components/simulation-details/formatAmount"),y=e("../ducks/locale/locale"),S=e("../../shared/constants/bridge"),b=e("../../shared/lib/transactions-controller-utils"),I=e("../ducks/bridge-status/selectors"),w=e("./useI18nContext"),C=e("./useTokenFiatAmount"),_=e("./useUserPreferencedCurrency"),A=e("./useCurrencyDisplay"),E=e("./useTokenDisplayValue"),N=e("./useTokenData"),M=e("./useSwappedTokenValue"),P=e("./useCurrentAsset"),R=O(e("./bridge/useBridgeChainInfo"));function O(e){return e&&e.__esModule?e:{default:e}}const D=[null,undefined,a.TransactionType.sign,a.TransactionType.personalSign,a.TransactionType.signTypedData,a.TransactionType.ethDecrypt,a.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[7197,{"../../app/scripts/lib/trust-signals/types":331,"../selectors":7947,"@metamask/name-controller":2222,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrustSignalDisplayState=void 0,n.useTrustSignal=function(e,t){return c([{value:e,type:t}])[0]},n.useTrustSignals=c;var s=e("react-redux"),r=e("@metamask/name-controller"),a=e("../selectors"),o=e("../../app/scripts/lib/trust-signals/types");let i=n.TrustSignalDisplayState=function(e){return e.Loading="loading",e.Malicious="malicious",e.Petname="petname",e.Verified="verified",e.Warning="warning",e.Recognized="recognized",e.Unknown="unknown",e}({});function c(e){return(0,s.useSelector)(t=>e.map(({value:e,type:n})=>{if(n!==r.NameType.ETHEREUM_ADDRESS)return{state:i.Unknown,label:null};const s=(0,a.getAddressSecurityAlertResponse)(t,e);if(!s)return{state:i.Unknown,label:null};const c=s.label||null,u=function(e){if(!e.result_type)return i.Unknown;switch(e.result_type){case o.ResultType.Loading:return i.Loading;case o.ResultType.Malicious:return i.Malicious;case o.ResultType.Warning:return i.Warning;case o.ResultType.Trusted:return i.Verified;case o.ResultType.Benign:case o.ResultType.ErrorResult:default:return i.Unknown}}(s);return{state:u,label:c}}))}}}},{package:"$root$",file:"ui/hooks/useTrustSignals.ts"}],[7198,{"../../shared/constants/common":5784,"../../shared/constants/network":5800,"../constants":6977,"../helpers/constants/common":7021,"../selectors":7947,"../selectors/multichain":7956,"./useMultichainSelector":7167,"react-redux":5202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={},n=null){const d=(0,s.useSelector)(r.getSelectedInternalAccount),m=t.account??d,h=(0,l.useMultichainSelector)(a.getMultichainNativeCurrency,m),{showNativeTokenAsMainBalance:p}=(0,s.useSelector)(r.getPreferences,s.shallowEqual),g=(0,l.useMultichainSelector)(a.getMultichainShouldShowFiat,m),f={currency:(0,l.useMultichainSelector)(a.getMultichainCurrentCurrency,m),numberOfDecimals:t.numberOfDecimals||2},k={currency:n?u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]||h||i.EtherDenomination.ETH:h||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||c.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return k;if(t.showFiatOverride)return f;if(!g)return k;if(t.shouldCheckShowNativeToken&&p||!t.shouldCheckShowNativeToken)return e===o.PRIMARY?k:f;return e===o.PRIMARY?f:k};var s=e("react-redux"),r=e("../selectors"),a=e("../selectors/multichain"),o=e("../helpers/constants/common"),i=e("../../shared/constants/common"),c=e("../constants"),u=e("../../shared/constants/network"),l=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[7199,{react:5258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useWindowFocus=void 0;var s=e("react");n.useWindowFocus=()=>{const[e,t]=(0,s.useState)(document.hasFocus());return(0,s.useEffect)(()=>{const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("focus",e),window.addEventListener("blur",n),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",n)}},[]),e}}}},{package:"$root$",file:"ui/hooks/useWindowFocus.ts"}]],[],{});