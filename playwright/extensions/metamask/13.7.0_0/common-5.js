LavaPack.loadBundle([[2864,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,o,s,i,a,c,u,l,d,f;Object.defineProperty(n,"__esModule",{value:!0}),n.SimulationErrorCode=n.SimulationTokenStandard=n.GasFeeEstimateType=n.GasFeeEstimateLevel=n.UserFeeLevel=n.TransactionEnvelopeType=n.TransactionContainerType=n.TransactionType=n.WalletDevice=n.TransactionStatus=void 0,function(e){e.unapproved="unapproved",e.approved="approved",e.signed="signed",e.submitted="submitted",e.confirmed="confirmed",e.failed="failed",e.dropped="dropped",e.rejected="rejected",e.cancelled="cancelled"}(r||(n.TransactionStatus=r={})),function(e){e.MM_MOBILE="metamask_mobile",e.MM_EXTENSION="metamask_extension",e.OTHER="other_device"}(o||(n.WalletDevice=o={})),function(e){e.batch="batch",e.bridge="bridge",e.bridgeApproval="bridgeApproval",e.cancel="cancel",e.contractInteraction="contractInteraction",e.deployContract="contractDeployment",e.ethDecrypt="eth_decrypt",e.ethGetEncryptionPublicKey="eth_getEncryptionPublicKey",e.gasPayment="gas_payment",e.incoming="incoming",e.lendingDeposit="lendingDeposit",e.lendingWithdraw="lendingWithdraw",e.perpsDeposit="perpsDeposit",e.personalSign="personal_sign",e.predictBuy="predictBuy",e.predictClaim="predictClaim",e.predictDeposit="predictDeposit",e.predictSell="predictSell",e.retry="retry",e.revokeDelegation="revokeDelegation",e.simpleSend="simpleSend",e.signTypedData="eth_signTypedData",e.smart="smart",e.stakingClaim="stakingClaim",e.stakingDeposit="stakingDeposit",e.stakingUnstake="stakingUnstake",e.swap="swap",e.swapAndSend="swapAndSend",e.swapApproval="swapApproval",e.tokenMethodApprove="approve",e.tokenMethodSafeTransferFrom="safetransferfrom",e.tokenMethodTransfer="transfer",e.tokenMethodTransferFrom="transferfrom",e.tokenMethodSetApprovalForAll="setapprovalforall",e.tokenMethodIncreaseAllowance="increaseAllowance",e.shieldSubscriptionApprove="shieldSubscriptionApprove"}(s||(n.TransactionType=s={})),function(e){e.EnforcedSimulations="enforcedSimulations"}(i||(n.TransactionContainerType=i={})),function(e){e.legacy="0x0",e.accessList="0x1",e.feeMarket="0x2",e.setCode="0x4"}(a||(n.TransactionEnvelopeType=a={})),function(e){e.CUSTOM="custom",e.DAPP_SUGGESTED="dappSuggested",e.MEDIUM="medium"}(c||(n.UserFeeLevel=c={})),function(e){e.Low="low",e.Medium="medium",e.High="high"}(u||(n.GasFeeEstimateLevel=u={})),function(e){e.FeeMarket="fee-market",e.Legacy="legacy",e.GasPrice="eth_gasPrice"}(l||(n.GasFeeEstimateType=l={})),function(e){e.erc20="erc20",e.erc721="erc721",e.erc1155="erc1155"}(d||(n.SimulationTokenStandard=d={})),function(e){e.ChainNotSupported="chain-not-supported",e.Disabled="disabled",e.InvalidResponse="invalid-response",e.Reverted="reverted"}(f||(n.SimulationErrorCode=f={}))}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/types.cjs"}],[2865,{"../api/simulation-api.cjs":2841,"../constants.cjs":2842,"../errors.cjs":2843,"../logger.cjs":2863,"../types.cjs":2864,"@ethersproject/abi":674,"@metamask/controller-utils":1349,"@metamask/metamask-eth-abis":2130,"@metamask/utils":2908,"bn.js":4e3},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getBalanceChanges=n.SupportedToken=void 0;const o=e("@ethersproject/abi"),s=e("@metamask/controller-utils"),i=e("@metamask/metamask-eth-abis"),a=e("@metamask/utils"),c=r(e("bn.js")),u=e("../api/simulation-api.cjs"),l=e("../constants.cjs"),d=e("../errors.cjs"),f=e("../logger.cjs"),h=e("../types.cjs");var p;!function(e){e.ERC20="erc20",e.ERC721="erc721",e.ERC1155="erc1155",e.ERC20_WRAPPED="erc20Wrapped",e.ERC721_LEGACY="erc721Legacy"}(p||(n.SupportedToken=p={}));const g=(0,a.createModuleLogger)(f.projectLogger,"balance-changes"),m=["Transfer","TransferSingle","TransferBatch","Deposit","Withdrawal"],_={[p.ERC20]:{abi:i.abiERC20,standard:h.SimulationTokenStandard.erc20},[p.ERC721]:{abi:i.abiERC721,standard:h.SimulationTokenStandard.erc721},[p.ERC1155]:{abi:i.abiERC1155,standard:h.SimulationTokenStandard.erc1155},[p.ERC20_WRAPPED]:{abi:l.ABI_SIMULATION_ERC20_WRAPPED,standard:h.SimulationTokenStandard.erc20},[p.ERC721_LEGACY]:{abi:l.ABI_SIMULATION_ERC721_LEGACY,standard:h.SimulationTokenStandard.erc721}},E=["execution reverted","insufficient funds for gas"];function b(e){if(Array.isArray(e))return e.map(b);let t=e;return t=t.toHexString?.()??t,t=t.toLowerCase?.()??t,t}function y(e){return"Transfer"===e.name&&e.tokenStandard===h.SimulationTokenStandard.erc721&&0===parseInt(e.args.from,16)}function w(e){return e.tokenStandard===h.SimulationTokenStandard.erc721?[e.args.tokenId]:e.tokenStandard===h.SimulationTokenStandard.erc1155&&"TransferSingle"===e.name?[e.args.id]:e.tokenStandard===h.SimulationTokenStandard.erc1155&&"TransferBatch"===e.name?e.args.ids:[undefined]}function S(e){switch(e){case h.SimulationTokenStandard.erc721:return new o.Interface(i.abiERC721);case h.SimulationTokenStandard.erc1155:return new o.Interface(i.abiERC1155);default:return new o.Interface(i.abiERC20)}}function R(e,t,n){const r=S(t.standard);try{if(t.standard===h.SimulationTokenStandard.erc721){const t=r.decodeFunctionResult("ownerOf",n.return);return t[0].toLowerCase()===e.toLowerCase()?"0x1":"0x0"}const o=r.decodeFunctionResult("balanceOf",n.return);return(0,s.toHex)(o[0])}catch(e){throw g("Failed to decode balance transaction",e,{token:t,response:n}),new d.SimulationError(`Failed to decode balance transaction for token ${t.address}: ${String(e)}`)}}function A(e,t,n){const r=S(e);switch(e){case h.SimulationTokenStandard.erc721:return r.encodeFunctionData("ownerOf",[n]);case h.SimulationTokenStandard.erc1155:return r.encodeFunctionData("balanceOf",[t,n]);default:return r.encodeFunctionData("balanceOf",[t])}}function T(e){return[...e.logs??[],...(e.calls??[]).map(e=>T(e)).flat()]}function O(e,t,n=0){const r=(0,s.hexToBN)(t).add(new c.default(n)),o=(0,s.hexToBN)(e),i=r.sub(o),a=i.isNeg(),u=(0,s.toHex)(i.abs());return i.isZero()?(g("Balance change is zero"),undefined):{previousBalance:e,newBalance:(0,s.toHex)(r),difference:u,isDecrease:a}}async function v({request:e,params:t,before:n=[],after:r=[]}){const{blockTime:o,chainId:i,ethQuery:a,getSimulationConfig:l,txParams:d}=e,{authorizationList:f}=d,h=d.from,p=f?.map(e=>({address:e.address,from:h})),m=[...n,{authorizationList:p,data:d.data,from:d.from,gas:d.gas,maxFeePerGas:d.maxFeePerGas??d.gasPrice,maxPriorityFeePerGas:d.maxPriorityFeePerGas??d.gasPrice,to:d.to,value:d.value},...r],_=function(e){const{txParams:t}=e,n=(0,s.hexToBN)(t.gas??"0x0"),r=(0,s.hexToBN)(t.maxFeePerGas??t.gasPrice??"0x0"),o=(0,s.hexToBN)(t.value??"0x0"),i=(e.nestedTransactions??[]).map(e=>(0,s.hexToBN)(e.value??"0x0")).reduce((e,t)=>e.add(t),new c.default(0));return n.mul(r).add(o).add(i)}(e),E=(0,s.toHex)(_);g("Required balance",E);const b=await(0,s.query)(a,"getBalance",[h,"latest"]),y=(0,s.hexToBN)(b);g("Current balance",b);const w=y.lt(_);return await(0,u.simulateTransactions)(i,{...t,getSimulationConfig:l,transactions:m,withGas:!0,withDefaultBlockOverrides:!0,...o&&{blockOverrides:{...t?.blockOverrides,time:(0,s.toHex)(o)}},...w&&{overrides:{...t?.overrides,[h]:{...t?.overrides?.[h],balance:E}}}})}n.getBalanceChanges=async function(e){g("Request",e);try{const t=await v({request:e,params:{withCallTrace:!0,withLogs:!0}}),n=t.transactions?.[0]?.error;if(n)throw new d.SimulationError(n);const r=function(e,t){const n=t.transactions[0];if(!n)return undefined;const{txParams:r}=e,o=r.from,{stateDiff:s}=n,i=s?.pre?.[o]?.balance,a=s?.post?.[o]?.balance;if(!i||!a)return undefined;return O(i,a,n.gasCost)}(e,t),s=function(e){const t=T(e.transactions[0]?.callTrace??{});g("Extracted logs",t);const n=function(){const e=Object.values(p);return new Map(e.map(e=>{const{abi:t}=_[e];return[e,new o.Interface(t)]}))}();return t.map(e=>{const t=function(e,t){const n=Object.values(p);for(const r of n)try{const n=t.get(r),{abi:o,standard:s}=_[r];return{...n.parseLog(e),abi:o,standard:s}}catch(e){continue}return undefined}(e,n);if(!t)return g("Failed to parse log",e),undefined;const r=t.abi.find(e=>e.name===t.name)?.inputs;if(!r)return g("Failed to find inputs for event",t),undefined;if(!m.includes(t.name))return g("Ignoring unsupported event",t.name,t),undefined;g("Normalizing event args",t.name,t);const o=function(e,t){return e.reduce((e,n,r)=>{const o=t[r].name.replace("_",""),s=b(n);return e[o]=s,e},{})}(t.args,r);return{contractAddress:e.address,tokenStandard:t.standard,name:t.name,args:o,abi:t.abi}}).filter(e=>e!==undefined)}(t);g("Parsed events",s);const i=await async function(e,t){const{txParams:n}=e,r=n.from,o=function(e,t){const n=new Set,r=new Map,o=new Map,s=e.txParams.from,i=t.filter(e=>[e.args.from,e.args.to].includes(s));g("Filtered user events",i);for(const e of i){const t=w(e);g("Extracted token IDs",t);for(const i of t){const t={address:e.contractAddress,standard:e.tokenStandard,id:i},a=JSON.stringify(t);if(n.has(a)){g("Ignoring additional event with same contract and token ID",t);continue}n.add(a);const c=A(e.tokenStandard,s,i),u={from:s,to:e.contractAddress,data:c};y(e)||r.set(t,u),o.set(t,u)}}return{before:r,after:o}}(e,t);g("Generated balance transactions",[...o.after.values()]);const s=o.before.size+o.after.size+1;if(1===s)return[];const i=await v({request:e,before:[...o.before.values()],after:[...o.after.values()]});if(g("Balance simulation response",i),i.transactions.length!==s)throw new d.SimulationInvalidResponseError;let a=0;return[...o.after.keys()].map((e,t)=>{const n=O(!o.before.get(e)?"0x0":R(r,e,i.transactions[a++]),R(r,e,i.transactions[t+o.before.size+1]));return n?{...e,...n}:undefined}).filter(e=>e!==undefined)}(e,s),a=t.transactions?.[0]?.gasUsed;return{simulationData:{nativeBalanceChange:r,tokenBalanceChanges:i},gasUsed:a}}catch(t){g("Failed to get balance changes",t,e);let n=t;E.some(e=>n.message?.includes(e))&&(n=new d.SimulationRevertedError);const{code:r,message:o}=n;return{simulationData:{tokenBalanceChanges:[],error:{code:r,message:o}},gasUsed:undefined}}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/balance-changes.cjs"}],[2866,{"../gas-flows/DefaultGasFeeFlow.cjs":2844,"../helpers/GasFeePoller.cjs":2852,"../hooks/CollectPublishHook.cjs":2859,"../hooks/SequentialPublishBatchHook.cjs":2861,"../index.cjs":2862,"../logger.cjs":2863,"../types.cjs":2864,"./eip7702.cjs":2867,"./feature-flags.cjs":2869,"./gas.cjs":2874,"./validation.cjs":2884,"@metamask/controller-utils":1349,"@metamask/rpc-errors":2485,"@metamask/utils":2908,uuid:5732},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isAtomicBatchSupported=n.addTransactionBatch=n.ERROR_MESSAGE_NO_UPGRADE_CONTRACT=void 0;const r=e("@metamask/controller-utils"),o=e("@metamask/rpc-errors"),s=e("@metamask/utils"),i=e("uuid"),a=e("./eip7702.cjs"),c=e("./feature-flags.cjs"),u=e("./gas.cjs"),l=e("./validation.cjs"),d=e("../index.cjs"),f=e("../gas-flows/DefaultGasFeeFlow.cjs"),h=e("../helpers/GasFeePoller.cjs"),p=e("../hooks/CollectPublishHook.cjs"),g=e("../hooks/SequentialPublishBatchHook.cjs"),m=e("../logger.cjs"),_=e("../types.cjs"),E=(0,s.createModuleLogger)(m.projectLogger,"batch");function b(){const e=(0,i.v4)(),t=new Uint8Array((0,i.parse)(e));return(0,s.bytesToHex)(t)}async function y(e,t,n,o,s,i){const{assetsFiatValues:a,existingTransaction:c,params:u,type:l}=t,{addTransaction:f,getTransaction:p,request:g,signTransaction:m,updateTransaction:_}=o,{from:b,networkClientId:y,origin:w}=g;if(c){const{id:t,onPublish:o}=c;let s=p(t);const a=s.txParams.nonce;let{signedTransaction:l}=c;const d=a?parseInt(a,16):undefined,f=i>0&&d!==undefined?d+i:undefined;if(_({transactionId:t},t=>{t.batchId=e,f&&(t.txParams.nonce=(0,r.toHex)(f))}),f){E("Re-signing existing transaction",{currentNonce:d,newNonce:f});const e=p(t),n=await m(e);if(!n)throw new Error("Failed to resign transaction");l=n,s=p(t),E("New signature",l)}return n(s,l).then(o).catch(()=>{}),E("Processed existing transaction with hook",{id:t,params:u}),{id:t,params:u}}const S={...s,txParams:{...u,from:b,gas:s?.gas??u.gas}};s&&(0,h.updateTransactionGasEstimates)({txMeta:S,userFeeLevel:d.GasFeeEstimateLevel.Medium});const{transactionMeta:R}=await f(S.txParams,{assetsFiatValues:a,batchId:e,disableGasBuffer:!0,networkClientId:y,origin:w,publishHook:n,requireApproval:!1,type:l}),{id:A,txParams:T}=R,O={data:T.data,gas:T.gas,maxFeePerGas:T.maxFeePerGas,maxPriorityFeePerGas:T.maxPriorityFeePerGas,to:T.to,value:T.value};return E("Processed new transaction with hook",{id:A,params:O,type:l}),{id:A,params:O,type:l}}n.ERROR_MESSAGE_NO_UPGRADE_CONTRACT="Upgrade contract address not found",n.addTransactionBatch=async function(e){const{getInternalAccounts:t,messenger:s,request:i}=e,h=(0,c.getBatchSizeLimit)(s);if((0,l.validateBatchRequest)({internalAccounts:t(),request:i,sizeLimit:h}),E("Adding",i),!i.disable7702)try{return await async function(e){const{addTransaction:t,getChainId:r,getTransaction:s,messenger:i,publicKeyEIP7702:u,request:l}=e,{batchId:f,from:h,networkClientId:p,origin:g,requireApproval:m,securityAlertId:y,transactions:w,validateSecurity:S}=l,R=r(p),A=e.getEthQuery(p),T=(0,a.doesChainSupportEIP7702)(R,i);if(!T)throw E("Chain does not support EIP-7702",R),o.rpcErrors.internal("Chain does not support EIP-7702");if(!u)throw o.rpcErrors.internal(a.ERROR_MESSGE_PUBLIC_KEY);const{delegationAddress:O,isSupported:v}=await(0,a.isAccountUpgradedToEIP7702)(h,R,u,i,A);if(E("Account",{delegationAddress:O,isSupported:v}),!v&&O)throw E("Account upgraded to unsupported contract",h,O),o.rpcErrors.internal("Account upgraded to unsupported contract");const I=await Promise.all(w.map(e=>async function(e,t,n){const{from:r}=e,{params:o,type:s}=t,{type:i}=await(0,d.determineTransactionType)({from:r,...o},n),a=s??i;return{...o,type:a}}(l,e,A))),N=w.find(e=>e.existingTransaction),C=N?s(N.existingTransaction?.id):undefined,x=(0,a.generateEIP7702BatchTransaction)(h,I),P={from:h,...x},L=C?.txParams?.nonce;L&&(P.nonce=L);if(!v){const e=(0,c.getEIP7702UpgradeContractAddress)(R,i,u);if(!e)throw o.rpcErrors.internal(n.ERROR_MESSAGE_NO_UPGRADE_CONTRACT);P.type=_.TransactionEnvelopeType.setCode,P.authorizationList=[{address:e}]}if(S){const e={method:"eth_sendTransaction",params:[{...P,authorizationList:undefined,type:_.TransactionEnvelopeType.feeMarket}],delegationMock:P.authorizationList?.[0]?.address,origin:g};E("Security request",e),S(e,R).catch(e=>{E("Security validation failed",e)})}E("Adding batch transaction",P,p);const B=f??b(),k=y?{securityAlertId:y}:undefined,{result:D}=await t(P,{batchId:B,isGasFeeIncluded:l.isGasFeeIncluded,nestedTransactions:I,networkClientId:p,origin:g,requireApproval:m,securityAlertResponse:k,type:_.TransactionType.batch}),U=await D;return N?.existingTransaction?.onPublish?.({transactionHash:U}),{batchId:B}}(e)}catch(e){if(!(e instanceof o.JsonRpcError&&"Chain does not support EIP-7702"===e.message))throw e}return await async function(e){const{messenger:t,publishBatchHook:n,request:s,update:i}=e,{from:a,networkClientId:c,origin:l,requireApproval:h,transactions:m}=s;let _,w=!1;E("Adding transaction batch using hook",s);const S=new g.SequentialPublishBatchHook({publishTransaction:e.publishTransaction,getTransaction:e.getTransaction,getEthQuery:e.getEthQuery,getPendingTransactionTracker:e.getPendingTransactionTracker});let{disable7702:R,disableSequential:A}=s;const{disableHook:T,useHook:O}=s;O&&(R=!0,A=!0);let v,I=null;!T&&n?I=n:A||(I=S.getHook(),w=!0);if(!I)throw E("No supported batch methods found",{disable7702:R,disableHook:T,disableSequential:A}),o.rpcErrors.internal("Can't process batch");const N=b(),C=m.map(e=>({...e,origin:l})),x=C.length,P=new p.CollectPublishHook(x);try{h&&(v=await async function({batchId:e,request:t}){const{messenger:n,request:r,isSimulationEnabled:o,getChainId:s,getEthQuery:i,getGasFeeEstimates:a,getSimulationConfig:c,update:l}=t,{from:h,origin:p,networkClientId:g,transactions:m}=r,_=i(g);if(!o())throw new Error("Cannot create transaction batch as simulation not supported");E("Preparing approval data for batch");const b=s(g),{gasLimit:y}=await(0,u.simulateGasBatch)({chainId:b,from:h,getSimulationConfig:c,transactions:m}),w=(T={chainId:b,from:h,gas:y,id:e,networkClientId:g,origin:p,transactions:m},{...T,status:d.TransactionStatus.unapproved}),S=new f.DefaultGasFeeFlow,R=await a({networkClientId:g}),A=await S.getGasFees({ethQuery:_,gasFeeControllerData:R,messenger:n,transactionMeta:{...w,txParams:{from:h,gas:y},time:Date.now()}});var T;return w.gasFeeEstimates=A.estimates,E("Saving transaction batch metadata",w),function(e,t){t(t=>{t.transactionBatches=[...t.transactionBatches,e]})}(w,l),w}({batchId:N,request:e}),_=(await async function(e,t){const n=String(e.id),{origin:o}=e,s=r.ApprovalType.TransactionBatch,i={txBatchId:n};return E("Requesting approval for transaction batch",n),await t.call("ApprovalController:addRequest",{id:n,origin:o||r.ORIGIN_METAMASK,requestData:i,expectsResult:!0,type:s},!0)}(v,t)).resultCallbacks);const n=P.getHook(),o=[];let s=0;for(const t of C){const r=await y(N,t,n,e,v,s);o.push(r),s+=1}const{signedTransactions:i}=await P.ready(),l={from:a,networkClientId:c,transactions:o.map((e,t)=>({...e,signedTx:i[t]}))};E("Calling publish batch hook",l);let p=await I(l);if(E("Publish batch hook result",p),!p&&!w&&!A){E("Fallback to sequential publish batch hook due to empty results");const e=S.getHook();p=await e(l)}if(!p?.results?.length)throw new Error("Publish batch hook did not return a result");const g=p.results.map(({transactionHash:e})=>e);return P.success(g),_?.success(),E("Completed batch transaction with hook",g),{batchId:N}}catch(e){throw E("Publish batch hook failed",e),P.error(e),_?.error(e),e}finally{E("Cleaning up publish batch hook",N),function(e,t){e(e=>{e.transactionBatches=e.transactionBatches.filter(e=>e.id!==t)})}(i,N)}}(e)},n.isAtomicBatchSupported=async function(e){const{address:t,chainIds:n,getEthQuery:r,messenger:s,publicKeyEIP7702:i}=e;if(!i)throw o.rpcErrors.internal(a.ERROR_MESSGE_PUBLIC_KEY);const u=(0,c.getEIP7702SupportedChains)(s).filter(e=>!n||n.includes(e)),l=(await Promise.all(u.map(async e=>{try{const n=r(e),{isSupported:o,delegationAddress:u}=await(0,a.isAccountUpgradedToEIP7702)(t,e,i,s,n);return{chainId:e,delegationAddress:u,isSupported:o,upgradeContractAddress:(0,c.getEIP7702UpgradeContractAddress)(e,s,i)}}catch(t){return E("Error checking atomic batch support",e,t),undefined}}))).filter(e=>Boolean(e));return E("Atomic batch supported results",l),l}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/batch.cjs"}],[2867,{"../constants.cjs":2842,"../logger.cjs":2863,"./feature-flags.cjs":2869,"@ethersproject/abi":674,"@ethersproject/contracts":697,"@metamask/controller-utils":1349,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.signAuthorizationList=n.generateEIP7702BatchTransaction=n.isAccountUpgradedToEIP7702=n.getDelegationAddress=n.doesChainSupportEIP7702=n.ERROR_MESSGE_PUBLIC_KEY=n.CALLS_SIGNATURE=n.BATCH_FUNCTION_NAME=n.DELEGATION_PREFIX=void 0;const r=e("@ethersproject/abi"),o=e("@ethersproject/contracts"),s=e("@metamask/controller-utils"),i=e("@metamask/utils"),a=e("./feature-flags.cjs"),c=e("../constants.cjs"),u=e("../logger.cjs");n.DELEGATION_PREFIX="0xef0100",n.BATCH_FUNCTION_NAME="execute",n.CALLS_SIGNATURE="(address,uint256,bytes)[]",n.ERROR_MESSGE_PUBLIC_KEY="EIP-7702 public key not specified";const l=(0,i.createModuleLogger)(u.projectLogger,"eip-7702");async function d(e,t){const r=await(0,s.query)(t,"eth_getCode",[e]),o=(0,i.add0x)(r?.toLowerCase?.()??"");return 48===r?.length&&o.startsWith(n.DELEGATION_PREFIX)?(0,i.add0x)(o.slice(n.DELEGATION_PREFIX.length)):undefined}async function f(e,t,n,r){const o=function(e,t,n){const{chainId:r,nonce:o}=e,{txParams:i,chainId:a}=t,{nonce:c}=i,u=r??a;let d=o;d===undefined&&(d=(0,s.toHex)(parseInt(c,16)+1+n));const f={...e,chainId:u,nonce:d};return l("Prepared authorization",f),f}(e,t,r),{txParams:a}=t,{from:c}=a,{address:u,chainId:d,nonce:f}=o,h=parseInt(d,16),p=parseInt(f,16),g=await n.call("KeyringController:signEip7702Authorization",{chainId:h,contractAddress:u,from:c,nonce:p}),m=g.slice(0,66),_=(0,i.add0x)(g.slice(66,130)),E=parseInt(g.slice(130,132),16),b={address:u,chainId:d,nonce:f,r:m,s:_,yParity:(0,s.toHex)(E-27==0?0:1)};return l("Signed authorization",b),b}n.doesChainSupportEIP7702=function(e,t){return(0,a.getEIP7702SupportedChains)(t).some(t=>t.toLowerCase()===e.toLowerCase())},n.getDelegationAddress=d,n.isAccountUpgradedToEIP7702=async function(e,t,n,r,o){const s=(0,a.getEIP7702ContractAddresses)(t,r,n),i=await d(e,o),c=Boolean(i&&s.some(e=>e.toLowerCase()===i.toLowerCase()));return{delegationAddress:i,isSupported:c}},n.generateEIP7702BatchTransaction=function(e,t){const s=o.Contract.getInterface(c.ABI_IERC7821),i=t.map(e=>{const{data:t,to:n,value:r}=e;return[n??"0x0000000000000000000000000000000000000000",r??"0x0",t??"0x"]}),a="0x01".padEnd(66,"0"),u=r.defaultAbiCoder.encode([n.CALLS_SIGNATURE],[i]),d=s.encodeFunctionData(n.BATCH_FUNCTION_NAME,[a,u]);return l("Transaction data",d),{data:d,to:e}},n.signAuthorizationList=async function({authorizationList:e,messenger:t,transactionMeta:n}){if(!e)return undefined;const r=[];let o=0;for(const s of e){const e=await f(s,n,t,o);r.push(e),o+=1}return r}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/eip7702.cjs"}],[2868,{"../types.cjs":2864,"@metamask/rpc-errors":2485},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateConfirmedExternalTransaction=void 0;const r=e("@metamask/rpc-errors"),o=e("../types.cjs");n.validateConfirmedExternalTransaction=function(e,t,n){if(!e||!e.txParams)throw r.rpcErrors.invalidParams('"transactionMeta" or "transactionMeta.txParams" is missing');if(e.status!==o.TransactionStatus.confirmed)throw r.rpcErrors.invalidParams('External transaction status should be "confirmed"');const s=e.txParams.nonce;if(n&&n.length>0){if(n.find(e=>e.txParams?.nonce===s))throw r.rpcErrors.invalidParams("External transaction nonce should not be in pending txs")}if(t&&t.length>0){if(t.find(e=>e.txParams?.nonce===s))throw r.rpcErrors.invalidParams("External transaction nonce should not be in confirmed txs")}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/external-transactions.cjs"}],[2869,{"../logger.cjs":2863,"./signature.cjs":2880,"./utils.cjs":2883,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIncomingTransactionsPollingInterval=n.getGasEstimateBuffer=n.getGasEstimateFallback=n.getGasFeeRandomisation=n.getAcceleratedPollingParams=n.getBatchSizeLimit=n.getEIP7702UpgradeContractAddress=n.getEIP7702ContractAddresses=n.getEIP7702SupportedChains=n.FeatureFlag=void 0;const r=e("@metamask/utils"),o=e("./signature.cjs"),s=e("./utils.cjs"),i=e("../logger.cjs");var a;!function(e){e.EIP7702="confirmations_eip_7702",e.GasBuffer="confirmations_gas_buffer",e.IncomingTransactions="confirmations_incoming_transactions",e.Transactions="confirmations_transactions"}(a||(n.FeatureFlag=a={}));const c=(0,r.createModuleLogger)(i.projectLogger,"feature-flags");function u(e,t,n){const r=l(t);return(r?.[a.EIP7702]?.contracts?.[e.toLowerCase()]??[]).filter(t=>(0,o.isValidSignature)([t.address,(0,s.padHexToEvenLength)(e)],t.signature,n)).map(e=>e.address)}function l(e){const t=e.call("RemoteFeatureFlagController:getState").remoteFeatureFlags;return c("Retrieved feature flags",t),t}n.getEIP7702SupportedChains=function(e){const t=l(e);return t?.[a.EIP7702]?.supportedChains??[]},n.getEIP7702ContractAddresses=u,n.getEIP7702UpgradeContractAddress=function(e,t,n){return u(e,t,n)?.[0]},n.getBatchSizeLimit=function(e){const t=l(e);return t?.[a.Transactions]?.batchSizeLimit??10},n.getAcceleratedPollingParams=function(e,t){const n=l(t),r=n?.[a.Transactions]?.acceleratedPolling;return{countMax:r?.perChainConfig?.[e]?.countMax||r?.defaultCountMax||10,intervalMs:r?.perChainConfig?.[e]?.intervalMs||r?.defaultIntervalMs||3e3}},n.getGasFeeRandomisation=function(e){const t=l(e),n=t?.[a.Transactions]?.gasFeeRandomisation||{};return{randomisedGasFeeDigits:n.randomisedGasFeeDigits||{},preservedNumberOfDigits:n.preservedNumberOfDigits}},n.getGasEstimateFallback=function(e,t){const n=l(t),r=n?.[a.Transactions]?.gasEstimateFallback,o=r?.perChainConfig?.[e],s=o?.percentage??r?.default?.percentage??35;return{fixed:o?.fixed??r?.default?.fixed,percentage:s}},n.getGasEstimateBuffer=function({chainId:e,isCustomRPC:t,isUpgradeWithDataToSelf:n,messenger:r}){const o=l(r),s=o?.[a.GasBuffer],i=s?.perChainConfig?.[e],c=t?undefined:i?.included,u=t?undefined:s?.included;return(n?i?.eip7702:undefined)??c??i?.base??u??s?.default??1},n.getIncomingTransactionsPollingInterval=function(e){const t=l(e);return t?.[a.IncomingTransactions]?.pollingIntervalMs??24e4}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/feature-flags.cjs"}],[2870,{"../api/accounts-api.cjs":2840,"../logger.cjs":2863,"./transaction-type.cjs":2882,"./validation.cjs":2884,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.updateFirstTimeInteraction=void 0;const r=e("@metamask/utils"),o=e("./transaction-type.cjs"),s=e("./validation.cjs"),i=e("../api/accounts-api.cjs"),a=e("../logger.cjs");n.updateFirstTimeInteraction=async function({existingTransactions:e,getTransaction:t,isFirstTimeInteractionEnabled:n,trace:c,traceContext:u,transactionMeta:l,updateTransaction:d}){if(!n())return;const{chainId:f,id:h,txParams:{data:p,from:g,to:m}}=l;let _;if(p){const e=(0,o.decodeTransactionData)(p);_=e?.args?._to||e?.args?.to}_||(_=m);const E={chainId:(0,r.hexToNumber)(f),to:_,from:g};if((0,s.validateParamTo)(_),!e.find(e=>e.chainId===f&&e.txParams.from.toLowerCase()===g.toLowerCase()&&e.txParams.to?.toLowerCase()===m?.toLowerCase()&&e.id!==h))try{const{count:e}=await c({name:"Account Address Relationship",parentContext:u},()=>(0,i.getAccountAddressRelationship)(E)),n=e===undefined?undefined:0===e;if(!t(h))return void(0,a.projectLogger)("Cannot update first time interaction as transaction not found",h);d({transactionId:h,note:"TransactionController#updateFirstInteraction - Update first time interaction"},e=>{e.isFirstTimeInteraction=n}),(0,a.projectLogger)("Updated first time interaction",h,{isFirstTimeInteraction:n})}catch(e){(0,a.projectLogger)("Error fetching account address relationship, skipping first time interaction update",e)}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/first-time-interaction.cjs"}],[2871,{"../api/simulation-api.cjs":2841,"../logger.cjs":2863,"./batch.cjs":2866,"./eip7702.cjs":2867,"./feature-flags.cjs":2869,"@metamask/rpc-errors":2485,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getGasFeeTokens=void 0;const r=e("@metamask/rpc-errors"),o=e("@metamask/utils"),s=e("./batch.cjs"),i=e("./eip7702.cjs"),a=e("./feature-flags.cjs"),c=e("../api/simulation-api.cjs"),u=e("../logger.cjs"),l=(0,o.createModuleLogger)(u.projectLogger,"gas-fee-tokens");n.getGasFeeTokens=async function({chainId:e,isEIP7702GasFeeTokensEnabled:t,messenger:n,publicKeyEIP7702:o,transactionMeta:u,getSimulationConfig:d}){const{delegationAddress:f,txParams:h}=u,{authorizationList:p}=h,g=h.data,m=h.from,_=h.to,E=h.value;l("Request",{chainId:e,txParams:h});const b=await t(u)&&(0,i.doesChainSupportEIP7702)(e,n);let y=p?.map(e=>({address:e.address,from:m}));!b||f||y||(y=function({chainId:e,from:t,messenger:n,publicKeyEIP7702:o}){if(!o)throw r.rpcErrors.internal(i.ERROR_MESSGE_PUBLIC_KEY);const c=(0,a.getEIP7702UpgradeContractAddress)(e,n,o);if(!c)throw r.rpcErrors.internal(s.ERROR_MESSAGE_NO_UPGRADE_CONTRACT);return[{address:c,from:t}]}({chainId:e,from:m,messenger:n,publicKeyEIP7702:o}));try{const t=await(0,c.simulateTransactions)(e,{getSimulationConfig:d,transactions:[{authorizationList:y,data:g,from:m,to:_,value:E}],suggestFees:{withTransfer:!0,withFeeTransfer:!0,with7702:b}});l("Response",t);const n=function(e){const t=e.transactions?.[0]?.fees?.[0],n=e.sponsorship?.isSponsored??!1;return{gasFeeTokens:(t?.tokenFees??[]).map(e=>({amount:e.balanceNeededToken,balance:e.currentBalanceToken,decimals:e.token.decimals,fee:e.serviceFee,gas:t.gas,gasTransfer:e.transferEstimate,maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas,rateWei:e.rateWei,recipient:e.feeRecipient,symbol:e.token.symbol,tokenAddress:e.token.address})),isGasFeeSponsored:n}}(t);return l("Gas fee tokens",n),n}catch(e){return l("Failed to gas fee tokens",e),{gasFeeTokens:[],isGasFeeSponsored:!1}}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-fee-tokens.cjs"}],[2872,{"../logger.cjs":2863,"../types.cjs":2864,"./gas-flow.cjs":2873,"./swaps.cjs":2881,"@metamask/controller-utils":1349,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.gweiDecimalToWeiDecimal=n.gweiDecimalToWeiHex=n.updateGasFees=void 0;const r=e("@metamask/controller-utils"),o=e("@metamask/utils"),s=e("./gas-flow.cjs"),i=e("./swaps.cjs"),a=e("../logger.cjs"),c=e("../types.cjs"),u=(0,o.createModuleLogger)(a.projectLogger,"gas-fees");function l(e){return(0,r.toHex)((0,r.gweiDecToWEIBN)(e))}n.updateGasFees=async function(e){const{txMeta:t}=e,n={...t.txParams},a=i.SWAP_TRANSACTION_TYPES.includes(t.type)?undefined:e.getSavedGasFees(t.chainId),d=await async function(e){const{eip1559:t,ethQuery:n,gasFeeFlows:i,getGasFeeEstimates:a,messenger:l,txMeta:d}=e,{networkClientId:f}=d;if(!t&&d.txParams.gasPrice||t&&d.txParams.maxFeePerGas&&d.txParams.maxPriorityFeePerGas)return{};const h=(0,s.getGasFeeFlow)(d,i,l);try{const e=await a({networkClientId:f}),t=await h.getGasFees({ethQuery:n,gasFeeControllerData:e,messenger:l,transactionMeta:d}),r=t.estimates?.type;switch(r){case c.GasFeeEstimateType.FeeMarket:return t.estimates.medium;case c.GasFeeEstimateType.Legacy:return{gasPrice:t.estimates.medium};case c.GasFeeEstimateType.GasPrice:return{gasPrice:t.estimates.gasPrice};default:throw new Error(`Unsupported gas fee estimate type returned from flow: ${r}`)}}catch(e){u("Failed to get suggested gas fees",e)}const p=await(0,r.query)(n,"gasPrice");return{gasPrice:p?(0,o.add0x)(p.toString(16)):undefined}}(e);u("Suggested gas fees",d);const f={...e,initialParams:n,savedGasFees:a,suggestedGasFees:d};t.txParams.maxFeePerGas=function(e){const{savedGasFees:t,eip1559:n,initialParams:r,suggestedGasFees:o}=e;if(!n)return undefined;if(t){const e=l(t.maxBaseFee);return u("Using maxFeePerGas from savedGasFees",e),e}if(r.maxFeePerGas)return u("Using maxFeePerGas from request",r.maxFeePerGas),r.maxFeePerGas;if(r.gasPrice&&!r.maxPriorityFeePerGas)return u("Setting maxFeePerGas to gasPrice from request",r.gasPrice),r.gasPrice;if(o.maxFeePerGas)return u("Using suggested maxFeePerGas",o.maxFeePerGas),o.maxFeePerGas;if(o.gasPrice)return u("Setting maxFeePerGas to suggested gasPrice",o.gasPrice),o.gasPrice;return u("maxFeePerGas not set"),undefined}(f),t.txParams.maxPriorityFeePerGas=function(e){const{eip1559:t,initialParams:n,savedGasFees:r,suggestedGasFees:o,txMeta:s}=e;if(!t)return undefined;if(r){const e=l(r.priorityFee);return u("Using maxPriorityFeePerGas from savedGasFees.priorityFee",e),e}if(n.maxPriorityFeePerGas)return u("Using maxPriorityFeePerGas from request",n.maxPriorityFeePerGas),n.maxPriorityFeePerGas;if(n.gasPrice&&!n.maxFeePerGas)return u("Setting maxPriorityFeePerGas to gasPrice from request",n.gasPrice),n.gasPrice;if(o.maxPriorityFeePerGas)return u("Using suggested maxPriorityFeePerGas",o.maxPriorityFeePerGas),o.maxPriorityFeePerGas;if(s.txParams.maxFeePerGas)return u("Setting maxPriorityFeePerGas to maxFeePerGas",s.txParams.maxFeePerGas),s.txParams.maxFeePerGas;return u("maxPriorityFeePerGas not set"),undefined}(f),t.txParams.gasPrice=function(e){const{eip1559:t,initialParams:n,suggestedGasFees:r}=e;if(t)return undefined;if(n.gasPrice)return u("Using gasPrice from request",n.gasPrice),n.gasPrice;if(r.maxFeePerGas)return u("Using suggested maxFeePerGas",r.maxFeePerGas),r.maxFeePerGas;if(r.gasPrice)return u("Using suggested gasPrice",r.gasPrice),r.gasPrice;return u("gasPrice not set"),undefined}(f),t.userFeeLevel=function(e){const{initialParams:t,savedGasFees:n,suggestedGasFees:o,txMeta:s}=e;if(n)return c.UserFeeLevel.CUSTOM;if(!t.maxFeePerGas&&!t.maxPriorityFeePerGas&&t.gasPrice)return s.origin===r.ORIGIN_METAMASK?c.UserFeeLevel.CUSTOM:c.UserFeeLevel.DAPP_SUGGESTED;if(!t.maxFeePerGas&&!t.maxPriorityFeePerGas&&o.maxFeePerGas&&o.maxPriorityFeePerGas)return c.UserFeeLevel.MEDIUM;if(!t.maxFeePerGas&&!t.maxPriorityFeePerGas&&o.gasPrice)return c.UserFeeLevel.MEDIUM;if(s.origin===r.ORIGIN_METAMASK)return c.UserFeeLevel.MEDIUM;return c.UserFeeLevel.DAPP_SUGGESTED}(f),u("Updated gas fee properties",{maxFeePerGas:t.txParams.maxFeePerGas,maxPriorityFeePerGas:t.txParams.maxPriorityFeePerGas,gasPrice:t.txParams.gasPrice}),(t.txParams.maxFeePerGas||t.txParams.maxPriorityFeePerGas)&&delete t.txParams.gasPrice,t.txParams.gasPrice&&(delete t.txParams.maxFeePerGas,delete t.txParams.maxPriorityFeePerGas),function(e){e.defaultGasEstimates||(e.defaultGasEstimates={});e.defaultGasEstimates.maxFeePerGas=e.txParams.maxFeePerGas,e.defaultGasEstimates.maxPriorityFeePerGas=e.txParams.maxPriorityFeePerGas,e.defaultGasEstimates.gasPrice=e.txParams.gasPrice,e.defaultGasEstimates.estimateType=e.userFeeLevel}(t)},n.gweiDecimalToWeiHex=l,n.gweiDecimalToWeiDecimal=function(e){return(1e9*Number(e)).toString().split(".")[0]}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-fees.cjs"}],[2873,{"../types.cjs":2864,"@metamask/controller-utils":1349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeGasFeeEstimates=n.getGasFeeFlow=void 0;const r=e("@metamask/controller-utils"),o=e("../types.cjs");function s(e,t){return(0,r.weiHexToGweiDec)(e[t])}n.getGasFeeFlow=function(e,t,n){return t.find(t=>t.matchesTransaction({transactionMeta:e,messenger:n}))},n.mergeGasFeeEstimates=function({gasFeeControllerEstimates:e,transactionGasFeeEstimates:t}){const n=t.type;return n===o.GasFeeEstimateType.FeeMarket?Object.values(o.GasFeeEstimateLevel).reduce((n,o)=>{return{...n,[o]:(s=e?.[o],i=t[o],{...s,suggestedMaxFeePerGas:(0,r.weiHexToGweiDec)(i.maxFeePerGas),suggestedMaxPriorityFeePerGas:(0,r.weiHexToGweiDec)(i.maxPriorityFeePerGas)})};var s,i},{...e}):n===o.GasFeeEstimateType.Legacy?Object.values(o.GasFeeEstimateLevel).reduce((e,n)=>({...e,[n]:s(t,n)}),{}):n===o.GasFeeEstimateType.GasPrice?{gasPrice:(i=t,(0,r.weiHexToGweiDec)(i.gasPrice))}:e;var i}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-flow.cjs"}],[2874,{"../api/simulation-api.cjs":2841,"../logger.cjs":2863,"../types.cjs":2864,"./eip7702.cjs":2867,"./feature-flags.cjs":2869,"@metamask/controller-utils":1349,"@metamask/utils":2908,"bn.js":4e3},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.simulateGasBatch=n.addGasBuffer=n.estimateGas=n.updateGas=n.DUMMY_AUTHORIZATION_SIGNATURE=n.INTRINSIC_GAS=n.MAX_GAS_BLOCK_PERCENT=n.DEFAULT_GAS_MULTIPLIER=n.FIXED_GAS=n.log=void 0;const r=e("@metamask/controller-utils"),o=e("@metamask/utils"),s=e("bn.js"),i=e("./eip7702.cjs"),a=e("./feature-flags.cjs"),c=e("../api/simulation-api.cjs"),u=e("../logger.cjs"),l=e("../types.cjs");async function d({chainId:e,ethQuery:t,ignoreDelegationSignatures:s,isSimulationEnabled:i,getSimulationConfig:c,messenger:u,txParams:d}){const f={...d},{authorizationList:g,data:m,from:_,value:E,to:b}=f;if(s&&!i)throw new Error("Gas estimation with ignored delegation signatures is not supported as simulation disabled");const{gasLimit:y,number:w}=await async function(e){return await(0,r.query)(e,"getBlockByNumber",["latest",!1])}(t),S=(0,r.hexToBN)(y),{percentage:R,fixed:A}=(0,a.getGasEstimateFallback)(e,u),T=A?(0,r.toHex)(A):(0,r.BNToHex)((0,r.fractionBN)(S,R,100));(0,n.log)("Estimation fallback values",T),f.data=m?(0,o.add0x)(m):m,f.value=E||"0x0",f.authorizationList=function(e,t){return e?.map(e=>({...e,chainId:e.chainId??t,nonce:e.nonce??"0x1",r:e.r??n.DUMMY_AUTHORIZATION_SIGNATURE,s:e.s??n.DUMMY_AUTHORIZATION_SIGNATURE,yParity:e.yParity??"0x1"}))}(f.authorizationList,e),delete f.gasPrice,delete f.maxFeePerGas,delete f.maxPriorityFeePerGas;let O,v=T;const I=d.type===l.TransactionEnvelopeType.setCode&&Boolean(g?.length)&&Boolean(m)&&"0x"!==m&&_?.toLowerCase()===b?.toLowerCase();try{v=i&&I?await async function(e,t,o,s){const i=await(0,r.query)(t,"estimateGas",[{...e,data:"0x"}]);(0,n.log)("Upgrade only gas",i);const a=e.authorizationList?.[0].address;let c;try{c=await h({chainId:o,delegationAddress:a,getSimulationConfig:s,transaction:e})}catch(e){(0,n.log)("Error while simulating data portion of upgrade",e)}if(c===undefined){try{c=await p(t,{...e,authorizationList:undefined,type:undefined},a)}catch(e){throw(0,n.log)("Error while estimating data portion of upgrade",e),e}(0,n.log)("Success estimating data portion of upgrade",c)}(0,n.log)("Execute gas",c);const u=(0,r.BNToHex)((0,r.hexToBN)(i).add((0,r.hexToBN)(c)).subn(n.INTRINSIC_GAS));return(0,n.log)("Total type 4 gas",u),u}(f,t,e,c):s&&i?await h({chainId:e,getSimulationConfig:c,transaction:f}):await p(t,f)}catch(e){O={reason:e.message,errorKey:e.errorKey,debug:{blockNumber:w,blockGasLimit:y}},(0,n.log)("Estimation failed",{...O,fallback:T})}return{blockGasLimit:y,estimatedGas:v,isUpgradeWithDataToSelf:I,simulationFails:O}}function f(e,t,s){const i=(0,r.hexToBN)(e),a=(0,r.fractionBN)((0,r.hexToBN)(t),n.MAX_GAS_BLOCK_PERCENT,100),c=(0,r.fractionBN)(i,100*s,100);if(i.gt(a)){const t=(0,o.add0x)(e);return(0,n.log)("Using estimated value",t),t}if(c.lt(a)){const e=(0,o.add0x)((0,r.BNToHex)(c));return(0,n.log)("Using padded estimate",e,s),e}const u=(0,o.add0x)((0,r.BNToHex)(a));return(0,n.log)("Using 90% of block gas limit",u),u}async function h({chainId:e,delegationAddress:t,getSimulationConfig:n,transaction:r}){const s=await(0,c.simulateTransactions)(e,{getSimulationConfig:n,transactions:[{to:r.to,from:r.from,data:r.data,value:r.value}],overrides:{[r.from]:{code:t&&i.DELEGATION_PREFIX+(0,o.remove0x)(t)}}}),a=s?.transactions?.[0].gasLimit;if(!a)throw new Error("No simulated gas returned");return a}function p(e,t,n){const{from:s}=t,a=[t];return n&&(a.push("latest"),a.push({[s]:{code:i.DELEGATION_PREFIX+(0,o.remove0x)(n)}})),(0,r.query)(e,"estimateGas",a)}n.log=(0,o.createModuleLogger)(u.projectLogger,"gas"),n.FIXED_GAS="0x5208",n.DEFAULT_GAS_MULTIPLIER=1.5,n.MAX_GAS_BLOCK_PERCENT=90,n.INTRINSIC_GAS=21e3,n.DUMMY_AUTHORIZATION_SIGNATURE="0x1111111111111111111111111111111111111111111111111111111111111111",n.updateGas=async function(e){const{txMeta:t}=e,o={...t.txParams},[s,i,c]=await async function(e){const{chainId:t,isCustomNetwork:o,isSimulationEnabled:s,getSimulationConfig:i,messenger:c,txMeta:u}=e,{disableGasBuffer:h}=u;if(u.txParams.gas)return(0,n.log)("Using value from request",u.txParams.gas),[u.txParams.gas,undefined,u.txParams.gas];if(await async function({ethQuery:e,txMeta:t,isCustomNetwork:n}){const{txParams:{to:o,data:s,type:i}}=t;if(n||!o||s||i===l.TransactionEnvelopeType.setCode)return!1;const a=await async function(e,t){return await(0,r.query)(e,"getCode",[t])}(e,o);return!a||"0x"===a}(e))return(0,n.log)("Using fixed value",n.FIXED_GAS),[n.FIXED_GAS,undefined,n.FIXED_GAS];const{blockGasLimit:p,estimatedGas:g,isUpgradeWithDataToSelf:m,simulationFails:_}=await d({chainId:t,ethQuery:e.ethQuery,isSimulationEnabled:s,getSimulationConfig:i,messenger:c,txParams:u.txParams});(0,n.log)("Original estimated gas",g),_&&(0,n.log)("Using original fallback estimate as simulation failed");h&&(0,n.log)("Gas buffer disabled");if(_||h)return[g,_,g];const E=(0,a.getGasEstimateBuffer)({chainId:t,isCustomRPC:o,isUpgradeWithDataToSelf:m,messenger:c});(0,n.log)("Buffer",E);const b=f(g,p,E);return(0,n.log)("Buffered gas",b),[b,_,g]}(e);t.txParams.gas=s,t.simulationFails=i,t.gasLimitNoBuffer=c,o.gas||(t.originalGasEstimate=t.txParams.gas),t.defaultGasEstimates||(t.defaultGasEstimates={}),t.defaultGasEstimates.gas=t.txParams.gas},n.estimateGas=d,n.addGasBuffer=f,n.simulateGasBatch=async function({chainId:e,from:t,getSimulationConfig:o,transactions:i}){try{const n=await(0,c.simulateTransactions)(e,{getSimulationConfig:o,transactions:i.map(e=>({...e.params,from:t}))});if(!n?.transactions||n.transactions.length!==i.length)throw new Error("Simulation response does not match transaction count");const a=n.transactions.reduce((e,t)=>{const n=t?.gasLimit;if(!n)throw new Error("No simulated gas returned for one of the transactions");return e.add((0,r.hexToBN)(n))},new s.BN(0));return{gasLimit:(0,r.BNToHex)(a)}}catch(e){throw(0,n.log)("Error while simulating gas batch",e),new Error("Cannot estimate transaction batch total gas as simulation failed")}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas.cjs"}],[2875,{"fast-json-patch":4374,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateTransactionHistory=n.addInitialHistorySnapshot=n.DISPLAYED_TRANSACTION_HISTORY_PATHS=n.MAX_TRANSACTION_HISTORY_LENGTH=void 0;const o=r(e("fast-json-patch")),s=e("lodash");function i(e,t,n){const r=o.default.compare(e,t);return r[0]&&(n&&(r[0].note=n),r[0].timestamp=Date.now()),r}function a(e){return(0,s.cloneDeep)(e).reduce((e,t)=>o.default.applyPatch(e,t).newDocument)}function c(e){const t={...e};return delete t.history,(0,s.cloneDeep)(t)}n.MAX_TRANSACTION_HISTORY_LENGTH=100,n.DISPLAYED_TRANSACTION_HISTORY_PATHS=["/status","/txParams/gasPrice","/txParams/gas","/estimatedBaseFee","/blockTimestamp"],n.addInitialHistorySnapshot=function(e){const t=c(e);return(0,s.merge)({},e,{history:[t]})},n.updateTransactionHistory=function(e,t){if(!e.history)return e;const r=c(e),o=i(a(e.history),r,t);if(0===o.length)return e;let u=[...e.history,o];return u.length>n.MAX_TRANSACTION_HISTORY_LENGTH&&(u=function(e){const t=e[0],r=e.slice(1),o=r.findIndex(e=>!e.some(({path:e})=>n.DISPLAYED_TRANSACTION_HISTORY_PATHS.includes(e)));if(-1===o)return e;const s=o===r.length-1?o-1:o+1,c=Math.min(o,s),u=r[c],l=r[c+1],d=a([t,...r.slice(0,c)]),f=a([d,u,l]),h=i(d,f,`${String(u[0].note)}, ${String(l[0].note)}`);return r.splice(c,2,h),[t,...r]}(u)),(0,s.merge)({},e,{history:u})}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/history.cjs"}],[2876,{"../logger.cjs":2863,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionLayer1GasFee=n.updateTransactionLayer1GasFee=void 0;const r=e("@metamask/utils"),o=e("../logger.cjs"),s=(0,r.createModuleLogger)(o.projectLogger,"layer-1-gas-fee-flow");async function i({layer1GasFeeFlows:e,messenger:t,provider:n,transactionMeta:r}){const o=function(e,t,n){return t.find(t=>t.matchesTransaction({transactionMeta:e,messenger:n}))}(r,e,t);if(!o)return undefined;s("Found layer 1 gas fee flow",o.constructor.name,r.id);try{const{layer1Fee:e}=await o.getLayer1Fee({provider:n,transactionMeta:r});return e}catch(e){return s("Failed to get layer 1 gas fee",r.id,e),undefined}}n.updateTransactionLayer1GasFee=async function(e){const t=await i(e);if(!t)return;const{transactionMeta:n}=e;n.layer1GasFee=t,s("Updated layer 1 gas fee",t,n.id)},n.getTransactionLayer1GasFee=i}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/layer1-gas-fee-flow.cjs"}],[2877,{"../logger.cjs":2863,"@metamask/controller-utils":1349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAndFormatTransactionsForNonceTracker=n.getNextNonce=void 0;const r=e("@metamask/controller-utils"),o=e("../logger.cjs"),s=(0,o.createModuleLogger)(o.projectLogger,"nonce");n.getNextNonce=async function(e,t){const{customNonceValue:n,isExternalSign:o,txParams:{from:i,nonce:a}}=e;if(o)return[undefined,undefined];const c=n?(0,r.toHex)(n):undefined;if(c)return s("Using custom nonce",c),[c,undefined];if(a)return s("Using existing nonce",a),[a,undefined];const u=await t(i),l=(0,r.toHex)(u.nextNonce),d=u.releaseLock.bind(u);return s("Using nonce from nonce tracker",l,u.nonceDetails),[l,d]},n.getAndFormatTransactionsForNonceTracker=function(e,t,n,r){return r.filter(({chainId:r,isTransfer:o,isUserOperation:s,status:i,txParams:{from:a}})=>!o&&!s&&r===e&&n.includes(i)&&a.toLowerCase()===t.toLowerCase()).map(({status:e,txParams:{from:t,gas:n,value:r,nonce:o}})=>({status:e,history:[{}],txParams:{from:t??"",gas:n??"",value:r??"",nonce:o??""}}))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/nonce.cjs"}],[2878,{"@ethereumjs/common":617,"@ethereumjs/tx":634,"@metamask/utils":2908,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.serializeTransaction=n.prepareTransaction=n.HARDFORK=void 0;const r=e("@ethereumjs/common"),o=e("@ethereumjs/tx"),s=e("@metamask/utils"),i=e("lodash");function a(e){const t={chainId:parseInt(e,16),defaultHardfork:n.HARDFORK};return r.Common.custom(t,{eips:[7702]})}function c(e){return e?"0x0"===e?"0x":e.replace?.(/^0x(00)+/u,"0x")??e:e}n.HARDFORK=r.Hardfork.Prague,n.prepareTransaction=function(e,t){const n=function(e){const t=(0,i.cloneDeep)(e);return function(e){if(!e)return;for(const t of e)t.nonce=c(t.nonce),t.r=c(t.r),t.s=c(t.s),t.yParity=c(t.yParity)}(t.authorizationList),t}(t);return o.TransactionFactory.fromTxData(n,{freeze:!1,common:a(e)})},n.serializeTransaction=function(e){return(0,s.bytesToHex)(e.serialize())}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/prepare.cjs"}],[2879,{"@metamask/controller-utils":1349,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionParamsWithIncreasedGasFee=void 0;const r=e("@metamask/controller-utils"),o=e("@metamask/utils");function s(e,t){const n=(0,r.convertHexToDecimal)(e),s=parseInt(""+n*t,10);return(0,o.add0x)(s.toString(16))}n.getTransactionParamsWithIncreasedGasFee=function(e,t,n){const r=function(e,t,n){if(n&&"gasPrice"in n)return n.gasPrice;const r=e.gasPrice;if(!r||"0x0"===r)return undefined;return s(r,t)}(e,t,n),o=function(e,t,n){if(n&&"maxFeePerGas"in n&&"maxPriorityFeePerGas"in n)return n;const r=e.maxFeePerGas,o=e.maxPriorityFeePerGas;if(!r||!o||"0x0"===r||"0x0"===o)return undefined;const i=s(r,t),a=s(o,t);return{maxFeePerGas:i,maxPriorityFeePerGas:a}}(e,t,n);if(o){const t={...e,...o};return delete t.gasPrice,t}if(r){const t={...e,gasPrice:r};return delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,t}throw new Error("Cannot increase gas fee as no current values and no new values were provided")}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/retry.cjs"}],[2880,{"@ethersproject/wallet":771,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isValidSignature=void 0;const r=e("@ethersproject/wallet"),o=e("@metamask/utils");n.isValidSignature=function(e,t,n){try{const s=(0,o.add0x)(e.map(o.remove0x).join("")),i=(0,o.hexToBytes)(s);return(0,r.verifyMessage)(i,t).toLowerCase()===n.toLowerCase()}catch{return!1}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/signature.cjs"}],[2881,{"../constants.cjs":2842,"../logger.cjs":2863,"../types.cjs":2864,"./utils.cjs":2883,"@metamask/controller-utils":1349,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.updatePostTransactionBalance=n.updateSwapsTransaction=n.SWAP_TRANSACTION_TYPES=n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP=n.DEFAULT_TOKEN_ADDRESS=n.UPDATE_POST_TX_BALANCE_ATTEMPTS=n.UPDATE_POST_TX_BALANCE_TIMEOUT=void 0;const r=e("@metamask/controller-utils"),o=e("lodash"),s=e("./utils.cjs"),i=e("../constants.cjs"),a=e("../logger.cjs"),c=e("../types.cjs"),u=(0,a.createModuleLogger)(a.projectLogger,"swaps");n.UPDATE_POST_TX_BALANCE_TIMEOUT=5e3,n.UPDATE_POST_TX_BALANCE_ATTEMPTS=6;const l="0x539";n.DEFAULT_TOKEN_ADDRESS="0x0000000000000000000000000000000000000000";const d={name:"Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},f={name:"Binance Coin",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},h={name:"Matic",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},p={name:"Avalanche",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},g={name:"Test Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},m={name:"Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},_={...d},E={...d},b={...d},y={name:"Sei",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18};function w(e,t){return!(!e||!t)&&e===n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[t]?.address}function S(e){return new Promise(t=>setTimeout(t,e))}n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP={[i.CHAIN_IDS.MAINNET]:d,[l]:g,[i.CHAIN_IDS.BSC]:f,[i.CHAIN_IDS.POLYGON]:h,[i.CHAIN_IDS.GOERLI]:m,[i.CHAIN_IDS.AVALANCHE]:p,[i.CHAIN_IDS.OPTIMISM]:E,[i.CHAIN_IDS.ARBITRUM]:_,[i.CHAIN_IDS.ZKSYNC_ERA]:b,[i.CHAIN_IDS.SEI]:y},n.SWAP_TRANSACTION_TYPES=[c.TransactionType.swap,c.TransactionType.swapAndSend,c.TransactionType.swapApproval],n.updateSwapsTransaction=function(e,t,r,{isSwapsDisabled:i,cancelTransaction:a,messenger:u}){if(i||!n.SWAP_TRANSACTION_TYPES.includes(t))return e;if(t===c.TransactionType.swap&&!1===r?.hasApproveTx&&e.simulationFails)throw a(e.id),new Error("Simulation failed");const l=r?.meta;if(!l)return e;let d=e;return t===c.TransactionType.swapApproval&&(d=function(e,{type:t,sourceTokenSymbol:n}){(0,s.validateIfTransactionUnapproved)(e,"updateSwapApprovalTransaction");let r={type:t,sourceTokenSymbol:n};return r=(0,o.pickBy)({type:t,sourceTokenSymbol:n}),(0,o.merge)({},e,r)}(e,l),u.publish("TransactionController:transactionNewSwapApproval",{transactionMeta:d})),t===c.TransactionType.swapAndSend&&(d=function(e,{approvalTxId:t,destinationTokenAddress:n,destinationTokenAmount:r,destinationTokenDecimals:i,destinationTokenSymbol:a,estimatedBaseFee:c,sourceTokenAddress:u,sourceTokenAmount:l,sourceTokenDecimals:d,sourceTokenSymbol:f,swapAndSendRecipient:h,swapMetaData:p,swapTokenValue:g,type:m}){(0,s.validateIfTransactionUnapproved)(e,"updateSwapTransaction");let _={approvalTxId:t,destinationTokenAddress:n,destinationTokenAmount:r,destinationTokenDecimals:i,destinationTokenSymbol:a,estimatedBaseFee:c,sourceTokenAddress:u,sourceTokenAmount:l,sourceTokenDecimals:d,sourceTokenSymbol:f,swapAndSendRecipient:h,swapMetaData:p,swapTokenValue:g,type:m};return _=(0,o.pickBy)(_),(0,o.merge)({},e,_)}(e,l),u.publish("TransactionController:transactionNewSwapAndSend",{transactionMeta:d})),t===c.TransactionType.swap&&(d=function(e,{sourceTokenSymbol:t,destinationTokenSymbol:n,type:r,destinationTokenDecimals:i,destinationTokenAddress:a,swapMetaData:c,swapTokenValue:u,estimatedBaseFee:l,approvalTxId:d}){(0,s.validateIfTransactionUnapproved)(e,"updateSwapTransaction");let f={sourceTokenSymbol:t,destinationTokenSymbol:n,type:r,destinationTokenDecimals:i,destinationTokenAddress:a,swapMetaData:c,swapTokenValue:u,estimatedBaseFee:l,approvalTxId:d};return f=(0,o.pickBy)(f),(0,o.merge)({},e,f)}(e,l),u.publish("TransactionController:transactionNewSwap",{transactionMeta:d})),d},n.updatePostTransactionBalance=async function(e,{ethQuery:t,getTransaction:o,updateTransaction:s}){u("Updating post transaction balance",e.id);const i=e.id;let a,c;for(let s=0;s<n.UPDATE_POST_TX_BALANCE_ATTEMPTS;s++){u("Querying balance",{attempt:s});const l=await(0,r.query)(t,"getBalance",[e.txParams.from]);a={...o(i)??{}},c=a.approvalTxId?o(a.approvalTxId):undefined,a.postTxBalance=l.toString(16);const d=w(e.destinationTokenAddress,e.chainId);if(!d||e.preTxBalance!==a.postTxBalance){u("Finishing post balance update",{isDefaultTokenAddress:d,preTxBalance:e.preTxBalance,postTxBalance:a.postTxBalance});break}u("Waiting for balance to update",{delay:n.UPDATE_POST_TX_BALANCE_TIMEOUT}),await S(n.UPDATE_POST_TX_BALANCE_TIMEOUT)}return s(a,"TransactionController#updatePostTransactionBalance - Add post transaction balance"),u("Completed post balance update",a?.postTxBalance),{updatedTransactionMeta:a,approvalTransactionMeta:c}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/swaps.cjs"}],[2882,{"../types.cjs":2864,"./eip7702.cjs":2867,"@ethersproject/abi":674,"@metamask/controller-utils":1349,"@metamask/metamask-eth-abis":2130},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeTransactionData=n.determineTransactionType=n.ESTIMATE_GAS_ERROR=void 0;const r=e("@ethersproject/abi"),o=e("@metamask/controller-utils"),s=e("@metamask/metamask-eth-abis"),i=e("./eip7702.cjs"),a=e("../types.cjs");n.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error";const c=new r.Interface(s.abiERC20),u=new r.Interface(s.abiERC721),l=new r.Interface(s.abiERC1155),d=new r.Interface(s.abiFiatTokenV2);function f(e,t){if(!e||e.length<10)return undefined;const n=e.substring(0,10).toLowerCase();for(const r of[c,u,l,d])try{return t?.getMethodName?r.getFunction(n)?.name:r.parseTransaction({data:e})}catch{}return undefined}n.determineTransactionType=async function(e,t){const{data:n,to:r}=e;if(n&&!r)return{type:a.TransactionType.deployContract,getCodeResponse:undefined};let s,c=Boolean(n?.length);if(t){const e=await async function(e,t){let n;try{n=await(0,o.query)(e,"getCode",[t])}catch(e){n=null}const r=!!n&&("0x"!==n&&"0x0"!==n&&!n.startsWith(i.DELEGATION_PREFIX));return{contractCode:n,isContractAddress:r}}(t,r);s=e.contractCode,c=e.isContractAddress}if(!c)return{type:a.TransactionType.simpleSend,getCodeResponse:s};const u=0!==Number(e.value??"0"),l={type:a.TransactionType.contractInteraction,getCodeResponse:s};if(!n||u)return l;const d=function(e){return f(e,{getMethodName:!0})}(n);if(!d)return l;const h=[a.TransactionType.tokenMethodApprove,a.TransactionType.tokenMethodSetApprovalForAll,a.TransactionType.tokenMethodTransfer,a.TransactionType.tokenMethodTransferFrom,a.TransactionType.tokenMethodSafeTransferFrom,a.TransactionType.tokenMethodIncreaseAllowance].find(e=>e.toLowerCase()===d.toLowerCase());return h?{type:h,getCodeResponse:s}:l},n.decodeTransactionData=f}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/transaction-type.cjs"}],[2883,{"../types.cjs":2864,"@metamask/utils":2908,"bn.js":4e3},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.setEnvelopeType=n.getPercentageChange=n.padHexToEvenLength=n.normalizeGasFeeValues=n.normalizeTxError=n.validateIfTransactionUnapproved=n.validateGasValues=n.isEIP1559Transaction=n.normalizeTransactionParams=n.ESTIMATE_GAS_ERROR=void 0;const o=e("@metamask/utils"),s=r(e("bn.js")),i=e("../types.cjs");n.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error";const a={accessList:e=>e,authorizationList:e=>e,data:e=>(0,o.add0x)(u(e)),from:e=>(0,o.add0x)(e).toLowerCase(),gas:e=>(0,o.add0x)(e),gasLimit:e=>(0,o.add0x)(e),gasPrice:e=>(0,o.add0x)(e),nonce:e=>(0,o.add0x)(e),to:e=>(0,o.add0x)(e).toLowerCase(),value:e=>(0,o.add0x)(e),maxFeePerGas:e=>(0,o.add0x)(e),maxPriorityFeePerGas:e=>(0,o.add0x)(e),estimatedBaseFee:e=>(0,o.add0x)(e),type:e=>(0,o.add0x)(e)};n.normalizeTransactionParams=function(e){const t={from:""};for(const n of(0,o.getKnownPropertyNames)(a))e[n]&&(t[n]=a[n](e[n]));return t.value||(t.value="0x0"),t.gasLimit&&!t.gas&&(t.gas=t.gasLimit),t},n.isEIP1559Transaction=function(e){const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);return t(e,"maxFeePerGas")&&t(e,"maxPriorityFeePerGas")};function c(e){try{return JSON.parse(JSON.stringify(e)),!0}catch{return!1}}function u(e){const t=e.toLowerCase().startsWith("0x")?e.slice(0,2):"",n=t?e.slice(2):e;return t+(n.length%2==0?n:`0${n}`)}n.validateGasValues=e=>{Object.keys(e).forEach(t=>{const n=e[t];if("string"!=typeof n||!(0,o.isStrictHexString)(n))throw new TypeError(`expected hex string for ${t} but received: ${n}`)})},n.validateIfTransactionUnapproved=function(e,t){if(e?.status!==i.TransactionStatus.unapproved)throw new Error(`TransactionsController: Can only call ${t} on an unapproved transaction.\n      Current tx status: ${e?.status}`)},n.normalizeTxError=function(e){return{name:e.name,message:e.message,stack:e.stack,code:e.code,rpc:c(e.value)?e.value:undefined}},n.normalizeGasFeeValues=function(e){const t=e=>"string"==typeof e?(0,o.add0x)(e):e;return"gasPrice"in e?{gasPrice:t(e.gasPrice)}:{maxFeePerGas:t(e.maxFeePerGas),maxPriorityFeePerGas:t(e.maxPriorityFeePerGas)}},n.padHexToEvenLength=u,n.getPercentageChange=function(e,t){const n=new s.default(10).pow(new s.default(18)),r=e.mul(n),o=t.mul(n),i=o.sub(r);return i.isZero()?0:r.isZero()&&!o.isZero()?100:i.muln(100).div(r).abs().toNumber()},n.setEnvelopeType=function(e,t){e.accessList?e.type=i.TransactionEnvelopeType.accessList:e.authorizationList?e.type=i.TransactionEnvelopeType.setCode:e.type=t?i.TransactionEnvelopeType.feeMarket:i.TransactionEnvelopeType.legacy}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/utils.cjs"}],[2884,{"../types.cjs":2864,"./utils.cjs":2883,"@ethersproject/abi":674,"@metamask/controller-utils":1349,"@metamask/metamask-eth-abis":2130,"@metamask/rpc-errors":2485,"@metamask/utils":2908},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateBatchRequest=n.validateParamTo=n.validateTxParams=n.validateTransactionOrigin=n.ErrorCode=void 0;const r=e("@ethersproject/abi"),o=e("@metamask/controller-utils"),s=e("@metamask/metamask-eth-abis"),i=e("@metamask/rpc-errors"),a=e("@metamask/utils"),c=e("./utils.cjs"),u=e("../types.cjs");var l;!function(e){e[e.DuplicateBundleId=5720]="DuplicateBundleId",e[e.BundleTooLarge=5740]="BundleTooLarge",e[e.RejectedUpgrade=5750]="RejectedUpgrade"}(l||(n.ErrorCode=l={}));const d=[u.TransactionEnvelopeType.feeMarket,u.TransactionEnvelopeType.setCode];function f(e,t){const n=e.type;switch(t){case"authorizationList":if(n&&n!==u.TransactionEnvelopeType.setCode)throw i.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${n}" but including authorizationList requires type: "${u.TransactionEnvelopeType.setCode}"`);break;case"maxFeePerGas":case"maxPriorityFeePerGas":if(n&&!d.includes(n))throw i.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${n}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "${d.join(", ")}"`);break;default:if(n&&d.includes(n))throw i.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${n}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function h(e,t,n){if(void 0!==e[n])throw i.rpcErrors.invalidParams(`Invalid transaction params: specified ${t} but also included ${n}, these cannot be mixed`)}function p(e,t){const n=e[t];if("string"!=typeof n||!(0,a.isStrictHexString)(n))throw i.rpcErrors.invalidParams(`Invalid transaction params: ${String(t)} is not a valid hexadecimal string. got: (${String(n)})`)}function g(e){p(e,"address"),function(e,t,n){const r=(0,a.remove0x)(e).length/2;if(r!==t)throw i.rpcErrors.invalidParams(`Invalid transaction params: ${n} must be ${t} bytes. got: ${r} bytes`)}(e.address,20,"address");for(const t of["chainId","nonce","r","s"])e[t]&&p(e,t);const{yParity:t}=e;if(t&&!["0x0","0x1"].includes(t))throw i.rpcErrors.invalidParams(`Invalid transaction params: yParity must be '0x0' or '0x1'. got: ${t}`)}n.validateTransactionOrigin=async function({data:e,from:t,internalAccounts:n,origin:r,permittedAddresses:s,txParams:a,type:c}){if(!r||r===o.ORIGIN_METAMASK)return;const{authorizationList:l,to:d,type:f}=a;if(s&&!s.includes(t))throw i.providerErrors.unauthorized({data:{origin:r}});if(c===u.TransactionType.batch)return;if(l||f===u.TransactionEnvelopeType.setCode)throw i.rpcErrors.invalidParams("External EIP-7702 transactions are not supported");if(Boolean(e&&"0x"!==e)&&n?.some(e=>e.toLowerCase()===d?.toLowerCase()))throw i.rpcErrors.invalidParams("External transactions to internal accounts cannot include data")},n.validateTxParams=function(e,t=!0,n){!function(e){if(e&&!Object.values(u.TransactionEnvelopeType).includes(e))throw i.rpcErrors.invalidParams(`Invalid transaction envelope type: "${e}". Must be one of: ${Object.values(u.TransactionEnvelopeType).join(", ")}`)}(e.type),function(e,t){if((0,c.isEIP1559Transaction)(e)&&!t)throw i.rpcErrors.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559")}(e,t),function(e){if(!e||"string"!=typeof e)throw i.rpcErrors.invalidParams(`Invalid "from" address ${e}: not a string.`);if(!(0,o.isValidHexAddress)(e))throw i.rpcErrors.invalidParams('Invalid "from" address.')}(e.from),function(e){if("0x"===e.to||e.to===undefined){if(!e.data)throw i.rpcErrors.invalidParams('Invalid "to" address.');delete e.to}else if(e.to!==undefined&&!(0,o.isValidHexAddress)(e.to))throw i.rpcErrors.invalidParams('Invalid "to" address.')}(e),function(e){if(e!==undefined){if(e.includes("-"))throw i.rpcErrors.invalidParams(`Invalid transaction value "${e}": not a positive number.`);if(e.includes("."))throw i.rpcErrors.invalidParams(`Invalid transaction value "${e}": number must be in wei.`);const t=parseInt(e,10);if(!(Number.isFinite(t)&&!Number.isNaN(t)&&!isNaN(Number(e))&&Number.isSafeInteger(t)))throw i.rpcErrors.invalidParams(`Invalid transaction value ${e}: number must be a valid number.`)}}(e.value),function(e){if(e){const t=new r.Interface(s.abiERC20);try{t.parseTransaction({data:e})}catch(e){if(e.message.match(/BUFFER_OVERRUN/u))throw i.rpcErrors.invalidParams("Invalid transaction params: data out-of-bounds, BUFFER_OVERRUN.")}}}(e.data),function(e,t){if(e&&t&&e.toLowerCase?.()!==t.toLowerCase())throw i.rpcErrors.invalidParams(`Invalid transaction params: chainId must match the network client, got: ${e}, expected: ${t}`)}(e.chainId,n),function(e){e.gasPrice&&(f(e,"gasPrice"),h(e,"gasPrice","maxFeePerGas"),h(e,"gasPrice","maxPriorityFeePerGas"),p(e,"gasPrice"));e.maxFeePerGas&&(f(e,"maxFeePerGas"),h(e,"maxFeePerGas","gasPrice"),p(e,"maxFeePerGas"));e.maxPriorityFeePerGas&&(f(e,"maxPriorityFeePerGas"),h(e,"maxPriorityFeePerGas","gasPrice"),p(e,"maxPriorityFeePerGas"));e.gasLimit&&p(e,"gasLimit");e.gas&&p(e,"gas")}(e),function(e){const{authorizationList:t}=e;if(!t)return;if(f(e,"authorizationList"),!Array.isArray(t))throw i.rpcErrors.invalidParams("Invalid transaction params: authorizationList must be an array");for(const e of t)g(e)}(e)},n.validateParamTo=function(e){if(!e||"string"!=typeof e)throw i.rpcErrors.invalidParams('Invalid "to" address')},n.validateBatchRequest=function({internalAccounts:e,request:t,sizeLimit:n}){const{origin:r}=t,s=r&&r!==o.ORIGIN_METAMASK,a=e.map(e=>e.toLowerCase());if(s&&t.transactions.some(e=>{const t=e.params.to?.toLowerCase(),n=e.params.data,r=a.includes(t),o=Boolean(n&&"0x"!==n);return r&&o}))throw i.rpcErrors.invalidParams("External calls to internal accounts cannot include data");if(s&&t.transactions.length>n)throw new i.JsonRpcError(l.BundleTooLarge,`Batch size cannot exceed ${n}. got: ${t.transactions.length}`)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/validation.cjs"}],[2898,{"./errors.cjs":2906,"@metamask/superstruct":2813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("@metamask/superstruct"),o=e("./errors.cjs");function s(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class i extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=i,n.assert=function(e,t="Assertion failed.",n=i){if(!e){if(t instanceof Error)throw t;throw s(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",a=i){try{(0,r.assert)(e,t)}catch(e){throw s(a,`${n}: ${function(e){return(0,o.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/assert.cjs"}],[2899,{"./assert.cjs":2898,"@metamask/superstruct":2813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("@metamask/superstruct"),o=e("./assert.cjs");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,s=t.characterSet??"base64";let i,a;return"base64"===s?i=String.raw`[A-Za-z0-9+\/]`:((0,o.assert)("base64url"===s),i=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/base64.cjs"}],[2900,{"./assert.cjs":2898,"./hex.cjs":2907,"@scure/base":2985,buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.areUint8ArraysEqual=n.createDataView=n.concatBytes=n.valueToBytes=n.base64ToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToBase64=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("@scure/base"),o=e("./assert.cjs"),s=e("./hex.cjs");const i=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function a(e){return e instanceof Uint8Array}function c(e){(0,o.assert)(a(e),"Value must be a Uint8Array.")}function u(e){if(c(e),0===e.length)return"0x";const t=i(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,s.add0x)(n.join(""))}function l(e){c(e);const t=u(e);return BigInt(t)}function d(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),o=n.charCodeAt(2*e+1),s=t-(t<58?48:87),i=o-(o<58?48:87);r[e]=16*s+i}return r}function f(e){(0,o.assert)("bigint"==typeof e,"Value must be a bigint."),(0,o.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return d(e.toString(16))}function h(e){(0,o.assert)("number"==typeof e,"Value must be a number."),(0,o.assert)(e>=0,"Value must be a non-negative number."),(0,o.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return d(e.toString(16))}function p(e){return(0,o.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function g(e){if("bigint"==typeof e)return f(e);if("number"==typeof e)return h(e);if("string"==typeof e)return e.startsWith("0x")?d(e):p(e);if(a(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=a,n.assertIsBytes=c,n.bytesToHex=u,n.bytesToBigInt=l,n.bytesToSignedBigInt=function(e){c(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){c(e);const t=l(e);return(0,o.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return c(e),(new TextDecoder).decode(e)},n.bytesToBase64=function(e){return c(e),r.base64.encode(e)},n.hexToBytes=d,n.bigIntToBytes=f,n.signedBigIntToBytes=function(e,t){(0,o.assert)("bigint"==typeof e,"Value must be a bigint."),(0,o.assert)("number"==typeof t,"Byte length must be a number."),(0,o.assert)(t>0,"Byte length must be greater than 0."),(0,o.assert)(function(e,t){(0,o.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const r=new Uint8Array(t);for(let e=0;e<r.length;e++)r[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()},n.numberToBytes=h,n.stringToBytes=p,n.base64ToBytes=function(e){return(0,o.assert)("string"==typeof e,"Value must be a string."),r.base64.decode(e)},n.valueToBytes=g,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const o=g(e[r]);t[r]=o,n+=o.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)},n.areUint8ArraysEqual=function(e,t){let n=e.byteLength^t.byteLength;const r=Math.max(e.byteLength,t.byteLength);for(let o=0;o<r;o++){n|=(e[o]??0)^(t[o]??0)}return 0===n}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/bytes.cjs"}],[2901,{"./superstruct.cjs":2916},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toCaipAssetId=n.toCaipAssetType=n.toCaipAccountId=n.toCaipChainId=n.parseCaipAssetId=n.parseCaipAssetType=n.parseCaipAccountId=n.parseCaipChainId=n.isCaipAssetId=n.isCaipAssetType=n.isCaipTokenId=n.isCaipAssetReference=n.isCaipAssetNamespace=n.isCaipAccountAddress=n.isCaipAccountId=n.isCaipReference=n.isCaipNamespace=n.isCaipChainId=n.KnownCaipNamespace=n.CaipAssetTypeOrIdStruct=n.CaipAssetIdStruct=n.CaipAssetTypeStruct=n.CaipTokenIdStruct=n.CaipAssetReferenceStruct=n.CaipAssetNamespaceStruct=n.CaipAccountAddressStruct=n.CaipAccountIdStruct=n.CaipReferenceStruct=n.CaipNamespaceStruct=n.CaipChainIdStruct=n.CAIP_ASSET_ID_REGEX=n.CAIP_ASSET_TYPE_REGEX=n.CAIP_TOKEN_ID_REGEX=n.CAIP_ASSET_REFERENCE_REGEX=n.CAIP_ASSET_NAMESPACE_REGEX=n.CAIP_ACCOUNT_ADDRESS_REGEX=n.CAIP_ACCOUNT_ID_REGEX=n.CAIP_REFERENCE_REGEX=n.CAIP_NAMESPACE_REGEX=n.CAIP_CHAIN_ID_REGEX=void 0;const r=e("./superstruct.cjs");n.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,n.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,n.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_ASSET_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_ASSET_REFERENCE_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_TOKEN_ID_REGEX=/^[-.%a-zA-Z0-9]{1,78}$/u,n.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u;function o(e){return"string"==typeof e&&n.CAIP_NAMESPACE_REGEX.test(e)}function s(e){return"string"==typeof e&&n.CAIP_REFERENCE_REGEX.test(e)}function i(e){return"string"==typeof e&&n.CAIP_ACCOUNT_ADDRESS_REGEX.test(e)}function a(e){return"string"==typeof e&&n.CAIP_ASSET_NAMESPACE_REGEX.test(e)}function c(e){return"string"==typeof e&&n.CAIP_ASSET_REFERENCE_REGEX.test(e)}function u(e){return"string"==typeof e&&n.CAIP_TOKEN_ID_REGEX.test(e)}n.CaipChainIdStruct=(0,r.definePattern)("CaipChainId",n.CAIP_CHAIN_ID_REGEX),n.CaipNamespaceStruct=(0,r.definePattern)("CaipNamespace",n.CAIP_NAMESPACE_REGEX),n.CaipReferenceStruct=(0,r.definePattern)("CaipReference",n.CAIP_REFERENCE_REGEX),n.CaipAccountIdStruct=(0,r.definePattern)("CaipAccountId",n.CAIP_ACCOUNT_ID_REGEX),n.CaipAccountAddressStruct=(0,r.definePattern)("CaipAccountAddress",n.CAIP_ACCOUNT_ADDRESS_REGEX),n.CaipAssetNamespaceStruct=(0,r.definePattern)("CaipAssetNamespace",n.CAIP_ASSET_NAMESPACE_REGEX),n.CaipAssetReferenceStruct=(0,r.definePattern)("CaipAssetReference",n.CAIP_ASSET_REFERENCE_REGEX),n.CaipTokenIdStruct=(0,r.definePattern)("CaipTokenId",n.CAIP_TOKEN_ID_REGEX),n.CaipAssetTypeStruct=(0,r.definePattern)("CaipAssetType",n.CAIP_ASSET_TYPE_REGEX),n.CaipAssetIdStruct=(0,r.definePattern)("CaipAssetId",n.CAIP_ASSET_ID_REGEX),n.CaipAssetTypeOrIdStruct=(0,r.definePattern)("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u),function(e){e.Bip122="bip122",e.Solana="solana",e.Tron="tron",e.Eip155="eip155",e.Wallet="wallet"}(n.KnownCaipNamespace||(n.KnownCaipNamespace={})),n.isCaipChainId=function(e){return"string"==typeof e&&n.CAIP_CHAIN_ID_REGEX.test(e)},n.isCaipNamespace=o,n.isCaipReference=s,n.isCaipAccountId=function(e){return"string"==typeof e&&n.CAIP_ACCOUNT_ID_REGEX.test(e)},n.isCaipAccountAddress=i,n.isCaipAssetNamespace=a,n.isCaipAssetReference=c,n.isCaipTokenId=u,n.isCaipAssetType=function(e){return"string"==typeof e&&n.CAIP_ASSET_TYPE_REGEX.test(e)},n.isCaipAssetId=function(e){return"string"==typeof e&&n.CAIP_ASSET_ID_REGEX.test(e)},n.parseCaipChainId=function(e){const t=n.CAIP_CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},n.parseCaipAccountId=function(e){const t=n.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetType=function(e){const t=n.CAIP_ASSET_TYPE_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset type.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetId=function(e){const t=n.CAIP_ASSET_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset ID.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,tokenId:t.groups.tokenId,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.toCaipChainId=function(e,t){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${t}`},n.toCaipAccountId=function(e,t,r){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!i(r))throw new Error(`Invalid "accountAddress", must match: ${n.CAIP_ACCOUNT_ADDRESS_REGEX.toString()}`);return`${e}:${t}:${r}`},n.toCaipAssetType=function(e,t,r,i){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!a(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!c(i))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);return`${e}:${t}/${r}:${i}`},n.toCaipAssetId=function(e,t,r,i,l){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!a(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!c(i))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);if(!u(l))throw new Error(`Invalid "tokenId", must match: ${n.CAIP_TOKEN_ID_REGEX.toString()}`);return`${e}:${t}/${r}:${i}/${l}`}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/caip-types.cjs"}],[2902,{"./base64.cjs":2899,"@metamask/superstruct":2813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("@metamask/superstruct"),o=e("./base64.cjs");n.ChecksumStruct=(0,r.size)((0,o.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/checksum.cjs"}],[2903,{"./assert.cjs":2898,"./bytes.cjs":2900,"./hex.cjs":2907,"@metamask/superstruct":2813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("@metamask/superstruct"),o=e("./assert.cjs"),s=e("./bytes.cjs"),i=e("./hex.cjs"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),i.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([i.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([i.StrictHexStruct]),s.hexToBytes)),d=(0,r.coerce)(i.StrictHexStruct,(0,r.instance)(Uint8Array),s.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,o.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/coercers.cjs"}],[2904,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,o,s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},i=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class a{get size(){return s(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return s(this,r,"f")[Symbol.iterator]()}constructor(e){r.set(this,void 0),i(this,r,new Map(e),"f"),Object.freeze(this)}entries(){return s(this,r,"f").entries()}forEach(e,t){return s(this,r,"f").forEach((n,r,o)=>e.call(t,n,r,this))}get(e){return s(this,r,"f").get(e)}has(e){return s(this,r,"f").has(e)}keys(){return s(this,r,"f").keys()}values(){return s(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}}n.FrozenMap=a;class c{get size(){return s(this,o,"f").size}[(o=new WeakMap,Symbol.iterator)](){return s(this,o,"f")[Symbol.iterator]()}constructor(e){o.set(this,void 0),i(this,o,new Set(e),"f"),Object.freeze(this)}entries(){return s(this,o,"f").entries()}forEach(e,t){return s(this,o,"f").forEach((n,r,o)=>e.call(t,n,r,this))}has(e){return s(this,o,"f").has(e)}keys(){return s(this,o,"f").keys()}values(){return s(this,o,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/collections.cjs"}],[2905,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/encryption-types.cjs"}],[2906,{"./misc.cjs":2912,"pony-cause":5063},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wrapError=n.getErrorMessage=n.isErrorWithStack=n.isErrorWithMessage=n.isErrorWithCode=void 0;const r=e("pony-cause"),o=e("./misc.cjs");function s(e){return"object"==typeof e&&null!==e&&"code"in e}function i(e){return"object"==typeof e&&null!==e&&"message"in e}n.isErrorWithCode=s,n.isErrorWithMessage=i,n.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},n.getErrorMessage=function(e){return i(e)&&"string"==typeof e.message?e.message:(0,o.isNullOrUndefined)(e)?"":String(e)},n.wrapError=function(e,t){if((n=e)instanceof Error||(0,o.isObject)(n)&&"Error"===n.constructor.name){let n;return n=2===Error.length?new Error(t,{cause:e}):new r.ErrorWithCause(t,{cause:e}),s(e)&&(n.code=e.code),n}var n;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/errors.cjs"}],[2907,{"./assert.cjs":2898,"@metamask/superstruct":2813,"@noble/hashes/sha3":2962,lodash:4816},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidHexAddress=n.isValidHexAddressUnmemoized=n.isValidChecksumAddress=n.isValidChecksumAddressUnmemoized=n.getChecksumAddress=n.getChecksumAddressUnmemoized=n.assertIsStrictHexString=n.assertIsHexString=n.isHexChecksumAddress=n.isHexAddress=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@metamask/superstruct"),o=e("@noble/hashes/sha3"),s=e("lodash"),i=e("./assert.cjs"),a=/^(?:0x)?[0-9a-f]+$/iu,c=/^0x[0-9a-f]+$/iu,u=/^0x[0-9a-f]{40}$/u,l=/^0x[0-9a-fA-F]{40}$/u;n.HexStruct=(0,r.pattern)((0,r.string)(),a),n.StrictHexStruct=(0,r.pattern)((0,r.string)(),c),n.HexAddressStruct=(0,r.pattern)((0,r.string)(),u),n.HexChecksumAddressStruct=(0,r.pattern)((0,r.string)(),l);const d=e=>"string"==typeof e;function f(e){return d(e)&&a.test(e)}function h(e){return d(e)&&c.test(e)}function p(e){return d(e)&&u.test(e)}function g(e){return d(e)&&l.test(e)}function m(e){(0,i.assert)(g(e),"Invalid hex address.");const t=b(e).toLowerCase(),n=(0,o.keccak_256)(t),{length:r}=t,s=new Array(r);for(let e=0;e<r;e++){const r=1&e,o=n[e>>1],i=0===r?o>>4:15&o;s[e]=i>=8?t[e].toUpperCase():t[e]}return`0x${s.join("")}`}function _(e){return!!g(e)&&(0,n.getChecksumAddress)(e)===e}function E(e){return p(e)||(0,n.isValidChecksumAddress)(e)}function b(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.isHexString=f,n.isStrictHexString=h,n.isHexAddress=p,n.isHexChecksumAddress=g,n.assertIsHexString=function(e){(0,i.assert)(f(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,i.assert)(h(e),'Value must be a hexadecimal string, starting with "0x".')},n.getChecksumAddressUnmemoized=m,n.getChecksumAddress=(0,s.memoize)(m),n.isValidChecksumAddressUnmemoized=_,n.isValidChecksumAddress=(0,s.memoize)(_),n.isValidHexAddressUnmemoized=E,n.isValidHexAddress=(0,s.memoize)(E),n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=b}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/hex.cjs"}],[2908,{"./assert.cjs":2898,"./base64.cjs":2899,"./bytes.cjs":2900,"./caip-types.cjs":2901,"./checksum.cjs":2902,"./coercers.cjs":2903,"./collections.cjs":2904,"./encryption-types.cjs":2905,"./errors.cjs":2906,"./hex.cjs":2907,"./json.cjs":2909,"./keyring.cjs":2910,"./logging.cjs":2911,"./misc.cjs":2912,"./number.cjs":2913,"./opaque.cjs":2914,"./promise.cjs":2915,"./superstruct.cjs":2916,"./time.cjs":2917,"./transaction-types.cjs":2918,"./unitsConversion.cjs":2919,"./versions.cjs":2920},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.unitMap=n.getValueOfUnit=n.numberToString=n.fromWei=n.toWei=n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isHexChecksumAddress=n.isHexAddress=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0,o(e("./assert.cjs"),n),o(e("./base64.cjs"),n),o(e("./bytes.cjs"),n),o(e("./caip-types.cjs"),n),o(e("./checksum.cjs"),n),o(e("./coercers.cjs"),n),o(e("./collections.cjs"),n),o(e("./encryption-types.cjs"),n),o(e("./errors.cjs"),n);var s=e("./hex.cjs");Object.defineProperty(n,"HexStruct",{enumerable:!0,get:function(){return s.HexStruct}}),Object.defineProperty(n,"StrictHexStruct",{enumerable:!0,get:function(){return s.StrictHexStruct}}),Object.defineProperty(n,"HexAddressStruct",{enumerable:!0,get:function(){return s.HexAddressStruct}}),Object.defineProperty(n,"HexChecksumAddressStruct",{enumerable:!0,get:function(){return s.HexChecksumAddressStruct}}),Object.defineProperty(n,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(n,"isStrictHexString",{enumerable:!0,get:function(){return s.isStrictHexString}}),Object.defineProperty(n,"isHexAddress",{enumerable:!0,get:function(){return s.isHexAddress}}),Object.defineProperty(n,"isHexChecksumAddress",{enumerable:!0,get:function(){return s.isHexChecksumAddress}}),Object.defineProperty(n,"assertIsHexString",{enumerable:!0,get:function(){return s.assertIsHexString}}),Object.defineProperty(n,"assertIsStrictHexString",{enumerable:!0,get:function(){return s.assertIsStrictHexString}}),Object.defineProperty(n,"isValidHexAddress",{enumerable:!0,get:function(){return s.isValidHexAddress}}),Object.defineProperty(n,"getChecksumAddress",{enumerable:!0,get:function(){return s.getChecksumAddress}}),Object.defineProperty(n,"isValidChecksumAddress",{enumerable:!0,get:function(){return s.isValidChecksumAddress}}),Object.defineProperty(n,"add0x",{enumerable:!0,get:function(){return s.add0x}}),Object.defineProperty(n,"remove0x",{enumerable:!0,get:function(){return s.remove0x}}),o(e("./json.cjs"),n),o(e("./keyring.cjs"),n),o(e("./logging.cjs"),n),o(e("./misc.cjs"),n),o(e("./number.cjs"),n),o(e("./opaque.cjs"),n),o(e("./promise.cjs"),n),o(e("./superstruct.cjs"),n),o(e("./time.cjs"),n),o(e("./transaction-types.cjs"),n),o(e("./versions.cjs"),n);var i=e("./unitsConversion.cjs");Object.defineProperty(n,"toWei",{enumerable:!0,get:function(){return i.toWei}}),Object.defineProperty(n,"fromWei",{enumerable:!0,get:function(){return i.fromWei}}),Object.defineProperty(n,"numberToString",{enumerable:!0,get:function(){return i.numberToString}}),Object.defineProperty(n,"getValueOfUnit",{enumerable:!0,get:function(){return i.getValueOfUnit}}),Object.defineProperty(n,"unitMap",{enumerable:!0,get:function(){return i.unitMap}})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/index.cjs"}],[2909,{"./assert.cjs":2898,"./misc.cjs":2912,"@metamask/superstruct":2813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=n.exactOptional=n.object=void 0;const r=e("@metamask/superstruct"),o=e("./assert.cjs"),s=e("./misc.cjs");function i({path:e,branch:t}){const n=e[e.length-1];return(0,s.hasProperty)(t[t.length-2],n)}function a(e){return new r.Struct({...e,type:`optional ${e.type}`,validator:(t,n)=>!i(n)||e.validator(t,n),refiner:(t,n)=>!i(n)||e.refiner(t,n)})}function c(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!c(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!c(n[e][1])){t=!1;break}return t}return!1}function u(e){return(0,r.create)(e,n.JsonStruct)}n.object=e=>(0,r.object)(e),n.exactOptional=a,n.UnsafeJsonStruct=(0,r.define)("JSON",e=>c(e)),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.refine)((0,r.any)(),"JSON",e=>(0,r.is)(e,n.UnsafeJsonStruct)),e=>JSON.parse(JSON.stringify(e,(e,t)=>"__proto__"===e||"constructor"===e?undefined:t))),n.isValidJson=function(e){try{return u(e),!0}catch{return!1}},n.getSafeJson=u,n.getJsonSize=function(e){(0,o.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,n.object)({code:(0,r.integer)(),message:(0,r.string)(),data:a(n.JsonStruct),stack:a((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)]),n.JsonRpcRequestStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:a(n.JsonRpcParamsStruct)}),n.JsonRpcNotificationStruct=(0,n.object)({jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:a(n.JsonRpcParamsStruct)}),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,o.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,o.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,o.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,o.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,o.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,o.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,o.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/json.cjs"}],[2910,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/keyring.cjs"}],[2911,{debug:4210},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const o=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return o.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/logging.cjs"}],[2912,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.getKnownPropertyNames=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),n.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce((e,t)=>r(t)?e+1:e+2,0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/misc.cjs"}],[2913,{"./assert.cjs":2898,"./hex.cjs":2907},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert.cjs"),o=e("./hex.cjs");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,o.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,o.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,o.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,o.assertIsHexString)(e),BigInt((0,o.add0x)(e)))}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/number.cjs"}],[2914,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/opaque.cjs"}],[2915,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeferredPromise=void 0,n.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,n;const r=new Promise((e,r)=>{t=e,n=r});return e&&r.catch(e=>{}),{promise:r,resolve:t,reject:n}}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/promise.cjs"}],[2916,{"@metamask/superstruct":2813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.definePattern=void 0;const r=e("@metamask/superstruct");n.definePattern=function(e,t){return(0,r.define)(e,e=>"string"==typeof e&&t.test(e))}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/superstruct.cjs"}],[2917,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/time.cjs"}],[2918,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/transaction-types.cjs"}],[2919,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toWei=n.fromWei=n.numberToString=n.getValueOfUnit=n.unitMap=n.numericToBigInt=void 0;const r=BigInt(0),o=BigInt(-1);function s(e){if("string"==typeof e)return BigInt(e);if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;throw new Error(`Cannot convert ${typeof e} to BigInt`)}n.numericToBigInt=s,n.unitMap={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};const i=Object.fromEntries(Object.entries(n.unitMap).map(([e,t])=>[e,BigInt(t)])),a=Object.fromEntries(Object.entries(n.unitMap).map(([e,t])=>[e,t.length-1||1])),c=/^-?[0-9.]+$/u,u=/^([0-9]*[1-9]|0)(0*)/u,l=/\B(?=(\d{3})+(?!\d))/gu;function d(e){if("string"==typeof e){if(!c.test(e))throw new Error(`while converting number to string, invalid number value '${e}', should be a number matching (^-?[0-9.]+).`);return e}if("number"==typeof e)return String(e);if("bigint"==typeof e)return e.toString();throw new Error(`while converting number to string, invalid number value '${String(e)}' type ${typeof e}.`)}n.getValueOfUnit=function(e="ether"){const t=e.toLowerCase(),r=i[t];if(r===undefined)throw new Error(`The unit provided ${e} doesn't exist, please use the one of the following units ${JSON.stringify(n.unitMap,null,2)}`);return r},n.numberToString=d,n.fromWei=function(e,t,c){let d=s(e);const f=d<r,h=t.toLowerCase(),p=i[h],g=a[h],m=c??{};if(p===undefined)throw new Error(`The unit provided ${t} doesn't exist, please use the one of the following units ${JSON.stringify(n.unitMap,null,2)}`);if(p===r)return f?"-0":"0";f&&(d*=o);let _=(d%p).toString();if(_=_.padStart(g,"0"),!m.pad){const e=_.match(u);_=e?.[1]??"0"}let E=(d/p).toString();m.commify&&(E=E.replace(l,","));let b=`${E}${"0"===_?"":`.${_}`}`;return f&&(b=`-${b}`),b},n.toWei=function(e,t){const s=t.toLowerCase(),c=i[s],u=a[s];if(c===undefined)throw new Error(`The unit provided ${t} doesn't exist, please use the one of the following units ${JSON.stringify(n.unitMap,null,2)}`);if(c===r)return r;if("bigint"==typeof e&&"wei"===s)return e;if("bigint"==typeof e)return e*c;let l=d(e);const f=l.startsWith("-");if(f&&(l=l.substring(1)),"."===l)throw new Error(`While converting number ${e} to wei, invalid value`);const h=l.split(".");if(h.length>2)throw new Error(`While converting number ${e} to wei,  too many decimal points`);let p=h[0],g=h[1];if(p||(p="0"),g||(g="0"),g.length>u)throw new Error(`While converting number ${e} to wei, too many decimal places`);g=g.padEnd(u,"0");let m=BigInt(p)*c+BigInt(g);return f&&(m*=o),m}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/unitsConversion.cjs"}],[2920,{"./assert.cjs":2898,"@metamask/superstruct":2813,semver:5589},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("@metamask/superstruct"),o=e("semver"),s=e("./assert.cjs");n.VersionStruct=(0,r.refine)((0,r.string)(),"Version",e=>null!==(0,o.valid)(e)||`Expected SemVer version, got "${e}"`),n.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",e=>null!==(0,o.validRange)(e)||`Expected SemVer range, got "${e}"`),n.isValidSemVerVersion=function(e){return(0,r.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,r.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,s.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,s.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,o.gt)(e,t)},n.gtRange=function(e,t){return(0,o.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,o.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/versions.cjs"}],[2922,{"./utils":2932,assert:4057,buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=r(e("assert")),s=e("./utils");let i=[];var a;!function(e){e.STANDARD="standard",e.URI="uri",e.MINIMAL="minimal"}(a||(a={}));const c=e=>"ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom".slice(4*e,4*e+4),u=e=>`${e}${s.getCRCHex(t.from(e,"hex"))}`,l=(e,n)=>{const r=u(e);return t.from(r,"hex").reduce((e,t)=>[...e,c(t)],[]).join(n)},d=e=>{const n=u(e);return t.from(n,"hex").reduce((e,t)=>e+(e=>{const t=c(e);return`${t[0]}${t[3]}`})(t),"")},f=(e,n,r)=>{const a=(4==r?e.split(n):s.partition(e,2)).map(e=>((e,n)=>{o.default(e.length===n,"Invalid Bytewords: word.length does not match wordLength provided");const r=26;if(0===i.length){i=[...new Array(676)].map(()=>-1);for(let e=0;e<256;e++){const t=c(e);let n=t[0].charCodeAt(0)-"a".charCodeAt(0),o=t[3].charCodeAt(0)-"a".charCodeAt(0);i[o*r+n]=e}}let s=e[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),a=e[4==n?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);o.default(0<=s&&s<r&&0<=a&&a<r,"Invalid Bytewords: invalid word");let u=i[a*r+s];if(o.default(-1!==u,"Invalid Bytewords: value not in lookup table"),4==n){const t=c(u);let n=e[1].toLowerCase(),r=e[2].toLowerCase();o.default(n===t[1]&&r===t[2],"Invalid Bytewords: invalid middle letters of word")}return t.from([u]).toString("hex")})(e,r)).join("");o.default(a.length>=5,"Invalid Bytewords: invalid decoded string length");const[u,l]=s.split(t.from(a,"hex"),4),d=s.getCRCHex(u);return o.default(d===l.toString("hex"),"Invalid Checksum"),u.toString("hex")};n.default={decode:(e,t=a.MINIMAL)=>{switch(t){case a.STANDARD:return f(e," ",4);case a.URI:return f(e,"-",4);case a.MINIMAL:return f(e,"",2);default:throw new Error(`Invalid style ${t}`)}},encode:(e,t=a.MINIMAL)=>{switch(t){case a.STANDARD:return l(e," ");case a.URI:return l(e,"-");case a.MINIMAL:return d(e);default:throw new Error(`Invalid style ${t}`)}},STYLES:a}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/bytewords.js"}],[2923,{buffer:4061,"cbor-sync":4081},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.cborDecode=n.cborEncode=void 0;const r=e("cbor-sync");n.cborEncode=e=>r.encode(e);n.cborDecode=e=>r.decode(t.isBuffer(e)?e:t.from(e,"hex"))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/cbor.js"}],[2924,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InvalidChecksumError=n.InvalidSequenceComponentError=n.InvalidTypeError=n.InvalidPathLengthError=n.InvalidSchemeError=void 0;class r extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}}n.InvalidSchemeError=r;class o extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}}n.InvalidPathLengthError=o;class s extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}}n.InvalidTypeError=s;class i extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}}n.InvalidSequenceComponentError=i;class a extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}}n.InvalidChecksumError=a}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/errors.js"}],[2925,{"./errors":2924,"./fountainUtils":2927,"./utils":2932,buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.FountainDecoderPart=void 0;const r=e("./utils"),o=e("./fountainUtils"),s=e("./errors");class i{constructor(e,t){this._indexes=e,this._fragment=t}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){const t=o.chooseFragments(e.seqNum,e.seqLength,e.checksum),n=e.fragment;return new i(t,n)}isSimple(){return 1===this.indexes.length}}n.FountainDecoderPart=i;class a{constructor(){this.result=undefined,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(0===this.expectedPartIndexes.length)[...new Array(e.seqLength)].forEach((e,t)=>this.expectedPartIndexes.push(t)),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else{if(this.expectedPartIndexes.length!==e.seqLength)return!1;if(this.expectedMessageLength!==e.messageLength)return!1;if(this.expectedChecksum!==e.checksum)return!1;if(this.expectedFragmentLength!==e.fragment.length)return!1}return!0}reducePartByPart(e,t){if(r.arrayContains(e.indexes,t.indexes)){const n=r.setDifference(e.indexes,t.indexes),o=r.bufferXOR(e.fragment,t.fragment);return new i(n,o)}return e}reduceMixedBy(e){const t=[];this.mixedParts.map(({value:t})=>this.reducePartByPart(t,e)).forEach(e=>{e.isSimple()?this.queuedParts.push(e):t.push({key:e.indexes,value:e})}),this.mixedParts=t}processSimplePart(e){const t=e.indexes[0];if(!this.receivedPartIndexes.includes(t))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(t),r.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){const e=this.simpleParts.map(({value:e})=>e).sort((e,t)=>e.indexes[0]-t.indexes[0]),t=a.joinFragments(e.map(e=>e.fragment),this.expectedMessageLength);r.getCRC(t)===this.expectedChecksum?this.result=t:this.error=new s.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some(({key:t})=>r.arraysEqual(t,e.indexes)))return;let t=this.simpleParts.reduce((e,{value:t})=>this.reducePartByPart(e,t),e);t=this.mixedParts.reduce((e,{value:t})=>this.reducePartByPart(e,t),t),t.isSimple()?this.queuedParts.push(t):(this.reduceMixedBy(t),this.mixedParts.push({key:t.indexes,value:t}))}processQueuedItem(){if(0===this.queuedParts.length)return;const e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete())return!1;if(!this.validatePart(e))return!1;const t=i.fromEncoderPart(e);for(this.lastPartIndexes=t.indexes,this.queuedParts.push(t);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(this.result!==undefined&&this.result.length>0)}isSuccess(){return Boolean(this.error===undefined&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:t.from([])}isFailure(){return this.error!==undefined}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:Math.min(.99,this.processedPartsCount/(1.75*e))}getProgress(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:this.receivedPartIndexes.length/e}}n.default=a,a.joinFragments=(e,n)=>t.concat(e).slice(0,n)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainDecoder.js"}],[2926,{"./cbor":2923,"./fountainUtils":2927,"./utils":2932,assert:4057,buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.FountainEncoderPart=void 0;const o=r(e("assert")),s=e("./utils"),i=e("./fountainUtils"),a=e("./cbor");class c{constructor(e,t,n,r,o){this._seqNum=e,this._seqLength=t,this._messageLength=n,this._checksum=r,this._fragment=o}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){const e=a.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return t.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){const[n,r,s,i,u]=a.cborDecode(e);return o.default("number"==typeof n),o.default("number"==typeof r),o.default("number"==typeof s),o.default("number"==typeof i),o.default(t.isBuffer(u)&&u.length>0),new c(n,r,s,i,t.from(u))}}n.FountainEncoderPart=c;class u{constructor(e,t=100,n=0,r=10){const o=u.findNominalFragmentLength(e.length,r,t);this._messageLength=e.length,this._fragments=u.partitionMessage(e,o),this.fragmentLength=o,this.seqNum=s.toUint32(n),this.checksum=s.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return 1===this._fragments.length}seqLength(){return this._fragments.length}mix(e){return e.reduce((e,t)=>s.bufferXOR(this._fragments[t],e),t.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=s.toUint32(this.seqNum+1);const e=i.chooseFragments(this.seqNum,this._fragments.length,this.checksum),t=this.mix(e);return new c(this.seqNum,this._fragments.length,this._messageLength,this.checksum,t)}static findNominalFragmentLength(e,t,n){o.default(e>0),o.default(t>0),o.default(n>=t);const r=Math.ceil(e/t);let s=0;for(let t=1;t<=r&&(s=Math.ceil(e/t),!(s<=n));t++);return s}static partitionMessage(e,n){let r,o=t.from(e),i=[];for(;o.length>0;)[r,o]=s.split(o,-n),r=t.alloc(n,0).fill(r,0,r.length),i.push(r);return i}}n.default=u}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainEncoder.js"}],[2927,{"./utils":2932,"./xoshiro":2933,"@keystonehq/alias-sampling":804,buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.chooseFragments=n.shuffle=n.chooseDegree=void 0;const o=e("./utils"),s=r(e("./xoshiro")),i=r(e("@keystonehq/alias-sampling"));n.chooseDegree=(e,t)=>{const n=[...new Array(e)].map((e,t)=>1/(t+1));return i.default(n,undefined,t.nextDouble).next()+1};n.shuffle=(e,t)=>{let n=[...e],r=[];for(;n.length>0;){let e=t.nextInt(0,n.length-1),o=n[e];n.splice(e,1),r.push(o)}return r};n.chooseFragments=(e,r,i)=>{if(e<=r)return[e-1];{const a=t.concat([o.intToBytes(e),o.intToBytes(i)]),c=new s.default(a),u=n.chooseDegree(r,c),l=[...new Array(r)].map((e,t)=>t);return n.shuffle(l,c).slice(0,u)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainUtils.js"}],[2928,{"./ur":2929,"./urDecoder":2930,"./urEncoder":2931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.URDecoder=n.UREncoder=n.UR=void 0;const o=r(e("./ur"));n.UR=o.default;const s=r(e("./urEncoder"));n.UREncoder=s.default;const i=r(e("./urDecoder"));n.URDecoder=i.default}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/index.js"}],[2929,{"./cbor":2923,"./errors":2924,"./utils":2932,buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./errors"),o=e("./utils"),s=e("./cbor");class i{constructor(e,t="bytes"){if(this._cborPayload=e,this._type=t,!o.isURType(this._type))throw new r.InvalidTypeError}static fromBuffer(e){return new i(s.cborEncode(e))}static from(e,n){return i.fromBuffer(t.from(e,n))}decodeCBOR(){return s.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}}n.default=i}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/ur.js"}],[2930,{"./bytewords":2922,"./errors":2924,"./fountainDecoder":2925,"./fountainEncoder":2926,"./ur":2929,"./utils":2932,assert:4057,buffer:4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=r(e("./fountainDecoder")),s=r(e("./bytewords")),i=r(e("assert")),a=e("./utils"),c=e("./errors"),u=r(e("./ur")),l=e("./fountainEncoder");class d{constructor(e=new o.default,t="bytes"){this.fountainDecoder=e,this.type=t,i.default(a.isURType(t),"Invalid UR type"),this.expected_type=""}static decodeBody(e,n){const r=s.default.decode(n,s.default.STYLES.MINIMAL);return new u.default(t.from(r,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:!!a.isURType(e)&&(this.expected_type=e,!0)}static decode(e){const[t,n]=this.parse(e);if(0===n.length)throw new c.InvalidPathLengthError;const r=n[0];return d.decodeBody(t,r)}static parse(e){const t=e.toLowerCase();if("ur:"!==t.slice(0,3))throw new c.InvalidSchemeError;const n=t.slice(3).split("/"),r=n[0];if(n.length<2)throw new c.InvalidPathLengthError;if(!a.isURType(r))throw new c.InvalidTypeError;return[r,n.slice(1)]}static parseSequenceComponent(e){const t=e.split("-");if(2!==t.length)throw new c.InvalidSequenceComponentError;const n=a.toUint32(Number(t[0])),r=Number(t[1]);if(n<1||r<1)throw new c.InvalidSequenceComponentError;return[n,r]}receivePart(e){if(this.result!==undefined)return!1;const[t,n]=d.parse(e);if(!this.validatePart(t))return!1;if(1===n.length)return this.result=d.decodeBody(t,n[0]),!0;if(2!==n.length)throw new c.InvalidPathLengthError;const[r,o]=n,[i,a]=d.parseSequenceComponent(r),f=s.default.decode(o,s.default.STYLES.MINIMAL),h=l.FountainEncoderPart.fromCBOR(f);return i===h.seqNum&&a===h.seqLength&&(!!this.fountainDecoder.receivePart(h)&&(this.fountainDecoder.isSuccess()?this.result=new u.default(this.fountainDecoder.resultMessage(),t):this.fountainDecoder.isFailure()&&(this.error=new c.InvalidSchemeError),!0))}resultUR(){return this.result?this.result:new u.default(t.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==undefined}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}}n.default=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/urDecoder.js"}],[2931,{"./bytewords":2922,"./fountainEncoder":2926},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=r(e("./fountainEncoder")),s=r(e("./bytewords"));class i{constructor(e,t,n,r){this.ur=e,this.fountainEncoder=new o.default(e.cbor,t,n,r)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){const e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?i.encodeSinglePart(this.ur):i.encodePart(this.ur.type,e)}static encodeUri(e,t){return[e,t.join("/")].join(":")}static encodeUR(e){return i.encodeUri("ur",e)}static encodePart(e,t){const n=`${t.seqNum}-${t.seqLength}`,r=s.default.encode(t.cbor().toString("hex"),s.default.STYLES.MINIMAL);return i.encodeUR([e,n,r])}static encodeSinglePart(e){const t=s.default.encode(e.cbor.toString("hex"),s.default.STYLES.MINIMAL);return i.encodeUR([e.type,t])}}n.default=i}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/urEncoder.js"}],[2932,{buffer:4061,crc:4156,"sha.js":5611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.bufferXOR=n.setDifference=n.arrayContains=n.arraysEqual=n.hasPrefix=n.isURType=n.intToBytes=n.toUint32=n.getCRCHex=n.getCRC=n.split=n.partition=n.sha256Hash=void 0;const o=r(e("sha.js")),s=e("crc");n.sha256Hash=e=>o.default("sha256").update(e).digest();n.partition=(e,t)=>e.match(new RegExp(".{1,"+t+"}","g"))||[e];n.split=(e,t)=>[e.slice(0,-t),e.slice(-t)];n.getCRC=e=>s.crc32(e);n.getCRCHex=e=>s.crc32(e).toString(16).padStart(8,"0");n.toUint32=e=>e>>>0;n.intToBytes=e=>{const n=new ArrayBuffer(4);return new DataView(n).setUint32(0,e,!1),t.from(n)};n.isURType=e=>e.split("").every((t,n)=>{let r=e.charCodeAt(n);return"a".charCodeAt(0)<=r&&r<="z".charCodeAt(0)||("0".charCodeAt(0)<=r&&r<="9".charCodeAt(0)||r==="-".charCodeAt(0))});n.hasPrefix=(e,t)=>0===e.indexOf(t);n.arraysEqual=(e,t)=>e.length===t.length&&e.every(e=>t.includes(e));n.arrayContains=(e,t)=>t.every(t=>e.includes(t));n.setDifference=(e,t)=>e.filter(e=>t.indexOf(e)<0);n.bufferXOR=(e,n)=>{const r=Math.max(e.length,n.length),o=t.allocUnsafe(r);for(let t=0;t<r;++t)o[t]=e[t]^n[t];return o}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/utils.js"}],[2933,{"./utils":2932,"bignumber.js":2934,jsbi:4631},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=e("./utils"),s=r(e("bignumber.js")),i=r(e("jsbi")),a=(e,t)=>i.default.bitwiseXor(i.default.asUintN(64,i.default.leftShift(e,i.default.BigInt(t))),i.default.BigInt(i.default.asUintN(64,i.default.signedRightShift(e,i.default.subtract(i.default.BigInt(64),i.default.BigInt(t))))));n.default=class{constructor(e){this.next=()=>new s.default(this.roll().toString()),this.nextDouble=()=>new s.default(this.roll().toString()).div(0x10000000000000000),this.nextInt=(e,t)=>Math.floor(this.nextDouble().toNumber()*(t-e+1)+e),this.nextByte=()=>this.nextInt(0,255),this.nextData=e=>[...new Array(e)].map(()=>this.nextByte());const t=o.sha256Hash(e);this.s=[i.default.BigInt(0),i.default.BigInt(0),i.default.BigInt(0),i.default.BigInt(0)],this.setS(t)}setS(e){for(let t=0;t<4;t++){let n=8*t,r=i.default.BigInt(0);for(let t=0;t<8;t++)r=i.default.asUintN(64,i.default.leftShift(r,i.default.BigInt(8))),r=i.default.asUintN(64,i.default.bitwiseOr(r,i.default.BigInt(e[n+t])));this.s[t]=i.default.asUintN(64,r)}}roll(){const e=i.default.asUintN(64,i.default.multiply(a(i.default.asUintN(64,i.default.multiply(this.s[1],i.default.BigInt(5))),7),i.default.BigInt(9))),t=i.default.asUintN(64,i.default.leftShift(this.s[1],i.default.BigInt(17)));return this.s[2]=i.default.asUintN(64,i.default.bitwiseXor(this.s[2],i.default.BigInt(this.s[0]))),this.s[3]=i.default.asUintN(64,i.default.bitwiseXor(this.s[3],i.default.BigInt(this.s[1]))),this.s[1]=i.default.asUintN(64,i.default.bitwiseXor(this.s[1],i.default.BigInt(this.s[2]))),this.s[0]=i.default.asUintN(64,i.default.bitwiseXor(this.s[0],i.default.BigInt(this.s[3]))),this.s[2]=i.default.asUintN(64,i.default.bitwiseXor(this.s[2],i.default.BigInt(t))),this.s[3]=i.default.asUintN(64,a(this.s[3],45)),e}}}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/xoshiro.js"}],[2934,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,s=Math.floor,i="[BigNumber Error] ",a=i+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,h=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,n,r=1,o=e.length,s=e[0]+"";r<o;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);s+=t}for(o=s.length;48===s.charCodeAt(--o););return s.slice(0,o+1||1)}function m(e,t){var n,r,o=e.c,s=t.c,i=e.s,a=t.s,c=e.e,u=t.e;if(!i||!a)return null;if(n=o&&!o[0],r=s&&!s[0],n||r)return n?r?0:-a:i;if(i!=a)return i;if(n=i<0,r=c==u,!o||!s)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=o.length)<(u=s.length)?c:u,i=0;i<a;i++)if(o[i]!=s[i])return o[i]>s[i]^n?1:-1;return c==u?0:c>u^n?1:-1}function _(e,t,n,r){if(e<t||e>n||e!==s(e))throw Error(i+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function E(e){var t=e.c.length-1;return p(e.e/u)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function y(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,w,S,R,A,T,O,v,I,N,C=V.prototype={constructor:V,toString:null,valueOf:null},x=new V(1),P=20,L=4,B=-7,k=21,D=-1e7,U=1e7,M=!1,j=1,F=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},G="0123456789abcdefghijklmnopqrstuvwxyz",z=!0;function V(e,t){var n,o,i,c,d,f,h,p,g=this;if(!(g instanceof V))return new V(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>U?g.c=g.e=null:e.e<D?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>U?g.c=g.e=null:(g.e=c,g.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return S(g,p,f);g.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(d=p.search(/e/i))>0?(c<0&&(c=d),c+=+p.slice(d+1),p=p.substring(0,d)):c<0&&(c=p.length)}else{if(_(t,2,G.length,"Base"),10==t&&z)return X(g=new V(e),P+g.e+1,L);if(p=String(e),f="number"==typeof e){if(0*e!=0)return S(g,p,f,t);if(g.s=1/e<0?(p=p.slice(1),-1):1,V.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else g.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=G.slice(0,t),c=d=0,h=p.length;d<h;d++)if(n.indexOf(o=p.charAt(d))<0){if("."==o){if(d>c){c=h;continue}}else if(!i&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){i=!0,d=-1,c=0;continue}return S(g,String(e),f,t)}f=!1,(c=(p=w(p,t,10,g.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(d=0;48===p.charCodeAt(d);d++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(d,++h)){if(h-=d,f&&V.DEBUG&&h>15&&(e>l||e!==s(e)))throw Error(a+g.s*e);if((c=c-d-1)>U)g.c=g.e=null;else if(c<D)g.c=[g.e=0];else{if(g.e=c,g.c=[],d=(c+1)%u,c<0&&(d+=u),d<h){for(d&&g.c.push(+p.slice(0,d)),h-=u;d<h;)g.c.push(+p.slice(d,d+=u));d=u-(p=p.slice(d)).length}else d-=h;for(;d--;p+="0");g.c.push(+p)}}else g.c=[g.e=0]}function W(e,t,n,r){var o,s,i,a,c;if(null==n?n=L:_(n,0,8),!e.c)return e.toString();if(o=e.c[0],i=e.e,null==t)c=g(e.c),c=1==r||2==r&&(i<=B||i>=k)?b(c,i):y(c,i,"0");else if(s=(e=X(new V(e),t,n)).e,a=(c=g(e.c)).length,1==r||2==r&&(t<=s||s<=B)){for(;a<t;c+="0",a++);c=b(c,s)}else if(t-=i,c=y(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&o?"-"+c:c}function q(e,t){for(var n,r,o=1,s=new V(e[0]);o<e.length;o++)(!(r=new V(e[o])).s||(n=m(s,r))===t||0===n&&s.s===t)&&(s=r);return s}function K(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*u-1)>U?e.c=e.e=null:n<D?e.c=[e.e=0]:(e.e=n,e.c=t),e}function X(e,t,n,r){var i,a,l,f,h,p,g,m=e.c,_=d;if(m){e:{for(i=1,f=m[0];f>=10;f/=10,i++);if((a=t-i)<0)a+=u,l=t,h=m[p=0],g=s(h/_[i-l-1]%10);else if((p=o((a+1)/u))>=m.length){if(!r)break e;for(;m.length<=p;m.push(0));h=g=0,i=1,l=(a%=u)-u+1}else{for(h=f=m[p],i=1;f>=10;f/=10,i++);g=(l=(a%=u)-u+i)<0?0:s(h/_[i-l-1]%10)}if(r=r||t<0||null!=m[p+1]||(l<0?h:h%_[i-l-1]),r=n<4?(g||r)&&(0==n||n==(e.s<0?3:2)):g>5||5==g&&(4==n||r||6==n&&(a>0?l>0?h/_[i-l]:0:m[p-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=_[(u-t%u)%u],e.e=-t||0):m[0]=e.e=0,e;if(0==a?(m.length=p,f=1,p--):(m.length=p+1,f=_[u-a],m[p]=l>0?s(h/_[i-l]%_[l])*f:0),r)for(;;){if(0==p){for(a=1,l=m[0];l>=10;l/=10,a++);for(l=m[0]+=f,f=1;l>=10;l/=10,f++);a!=f&&(e.e++,m[0]==c&&(m[0]=1));break}if(m[p]+=f,m[p]!=c)break;m[p--]=0,f=1}for(a=m.length;0===m[--a];m.pop());}e.e>U?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function $(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=B||n>=k?b(t,n):y(t,n,"0"),e.s<0?"-"+t:t)}return V.clone=e,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(i+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(_(n=e[t],0,h,t),P=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(_(n=e[t],0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(_(n[0],-h,0,t),_(n[1],0,h,t),B=n[0],k=n[1]):(_(n,-h,h,t),B=-(k=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)_(n[0],-h,-1,t),_(n[1],1,h,t),D=n[0],U=n[1];else{if(_(n,-h,h,t),!n)throw Error(i+t+" cannot be zero: "+n);D=-(U=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(i+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!n,Error(i+"crypto unavailable");M=n}else M=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(_(n=e[t],0,9,t),j=n),e.hasOwnProperty(t="POW_PRECISION")&&(_(n=e[t],0,h,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(i+t+" not an object: "+n);H=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(i+t+" invalid: "+n);z="0123456789"==n.slice(0,10),G=n}}return{DECIMAL_PLACES:P,ROUNDING_MODE:L,EXPONENTIAL_AT:[B,k],RANGE:[D,U],CRYPTO:M,MODULO_MODE:j,POW_PRECISION:F,FORMAT:H,ALPHABET:G}},V.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!V.DEBUG)return!0;var t,n,r=e.c,o=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&o>=-h&&o<=h&&o===s(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%u)<1&&(t+=u),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==s(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===a||1===a||-1===a))return!0;throw Error(i+"Invalid BigNumber: "+e)},V.maximum=V.max=function(){return q(arguments,-1)},V.minimum=V.min=function(){return q(arguments,1)},V.random=(R=9007199254740992,A=Math.random()*R&2097151?function(){return s(Math.random()*R)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,c,l=0,f=[],p=new V(x);if(null==e?e=P:_(e,0,h),a=o(e/u),M)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(f.push(c%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw M=!1,Error(i+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(f.push(c%1e14),l+=7);l=a/7}if(!M)for(;l<a;)(c=A())<9e15&&(f[l++]=c%1e14);for(a=f[--l],e%=u,a&&e&&(c=d[u-e],f[l]=s(a/c)*c);0===f[l];f.pop(),l--);if(l<0)f=[r=0];else{for(r=-1;0===f[0];f.splice(0,1),r-=u);for(l=1,c=f[0];c>=10;c/=10,l++);l<u&&(r-=u-l)}return p.e=r,p.c=f,p}),V.sum=function(){for(var e=1,t=arguments,n=new V(t[0]);e<t.length;)n=n.plus(t[e++]);return n},w=function(){var e="0123456789";function t(e,t,n,r){for(var o,s,i=[0],a=0,c=e.length;a<c;){for(s=i.length;s--;i[s]*=t);for(i[0]+=r.indexOf(e.charAt(a++)),o=0;o<i.length;o++)i[o]>n-1&&(null==i[o+1]&&(i[o+1]=0),i[o+1]+=i[o]/n|0,i[o]%=n)}return i.reverse()}return function(r,o,s,i,a){var c,u,l,d,f,h,p,m,_=r.indexOf("."),E=P,b=L;for(_>=0&&(d=F,F=0,r=r.replace(".",""),h=(m=new V(o)).pow(r.length-_),F=d,m.c=t(y(g(h.c),h.e,"0"),10,s,e),m.e=m.c.length),l=d=(p=t(r,o,s,a?(c=G,e):(c=e,G))).length;0==p[--d];p.pop());if(!p[0])return c.charAt(0);if(_<0?--l:(h.c=p,h.e=l,h.s=i,p=(h=n(h,m,E,b,s)).c,f=h.r,l=h.e),_=p[u=l+E+1],d=s/2,f=f||u<0||null!=p[u+1],f=b<4?(null!=_||f)&&(0==b||b==(h.s<0?3:2)):_>d||_==d&&(4==b||f||6==b&&1&p[u-1]||b==(h.s<0?8:7)),u<1||!p[0])r=f?y(c.charAt(1),-E,c.charAt(0)):c.charAt(0);else{if(p.length=u,f)for(--s;++p[--u]>s;)p[u]=0,u||(++l,p=[1].concat(p));for(d=p.length;!p[--d];);for(_=0,r="";_<=d;r+=c.charAt(p[_++]));r=y(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,s,i,a=0,c=e.length,u=t%f,l=t/f|0;for(e=e.slice();c--;)a=((o=u*(s=e[c]%f)+(r=l*s+(i=e[c]/f|0)*u)%f*f+a)/n|0)+(r/f|0)+l*i,e[c]=o%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var o,s;if(n!=r)s=n>r?1:-1;else for(o=s=0;o<n;o++)if(e[o]!=t[o]){s=e[o]>t[o]?1:-1;break}return s}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,l){var d,f,h,g,m,_,E,b,y,w,S,R,A,T,O,v,I,N=r.s==o.s?1:-1,C=r.c,x=o.c;if(!(C&&C[0]&&x&&x[0]))return new V(r.s&&o.s&&(C?!x||C[0]!=x[0]:x)?C&&0==C[0]||!x?0*N:N/0:NaN);for(y=(b=new V(N)).c=[],N=i+(f=r.e-o.e)+1,l||(l=c,f=p(r.e/u)-p(o.e/u),N=N/u|0),h=0;x[h]==(C[h]||0);h++);if(x[h]>(C[h]||0)&&f--,N<0)y.push(1),g=!0;else{for(T=C.length,v=x.length,h=0,N+=2,(m=s(l/(x[0]+1)))>1&&(x=e(x,m,l),C=e(C,m,l),v=x.length,T=C.length),A=v,S=(w=C.slice(0,v)).length;S<v;w[S++]=0);I=x.slice(),I=[0].concat(I),O=x[0],x[1]>=l/2&&O++;do{if(m=0,(d=t(x,w,v,S))<0){if(R=w[0],v!=S&&(R=R*l+(w[1]||0)),(m=s(R/O))>1)for(m>=l&&(m=l-1),E=(_=e(x,m,l)).length,S=w.length;1==t(_,w,E,S);)m--,n(_,v<E?I:x,E,l),E=_.length,d=1;else 0==m&&(d=m=1),E=(_=x.slice()).length;if(E<S&&(_=[0].concat(_)),n(w,_,S,l),S=w.length,-1==d)for(;t(x,w,v,S)<1;)m++,n(w,v<S?I:x,S,l),S=w.length}else 0===d&&(m++,w=[0]);y[h++]=m,w[0]?w[S++]=C[A]||0:(w=[C[A]],S=1)}while((A++<T||null!=w[0])&&N--);g=null!=w[0],y[0]||y.splice(0,1)}if(l==c){for(h=1,N=y[0];N>=10;N/=10,h++);X(b,i+(b.e=h+f*u-1)+1,a,g)}else b.e=f,b.r=+g;return b}}(),T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,v=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,n,r){var o,s=n?t:t.replace(N,"");if(I.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(T,function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t}),r&&(o=r,s=s.replace(O,"$1").replace(v,"0.$1")),t!=s))return new V(s,o);if(V.DEBUG)throw Error(i+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},C.absoluteValue=C.abs=function(){var e=new V(this);return e.s<0&&(e.s=1),e},C.comparedTo=function(e,t){return m(this,new V(e,t))},C.decimalPlaces=C.dp=function(e,t){var n,r,o,s=this;if(null!=e)return _(e,0,h),null==t?t=L:_(t,0,8),X(new V(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((o=n.length-1)-p(this.e/u))*u,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},C.dividedBy=C.div=function(e,t){return n(this,new V(e,t),P,L)},C.dividedToIntegerBy=C.idiv=function(e,t){return n(this,new V(e,t),0,1)},C.exponentiatedBy=C.pow=function(e,t){var n,r,a,c,l,d,f,h,p=this;if((e=new V(e)).c&&!e.isInteger())throw Error(i+"Exponent not an integer: "+$(e));if(null!=t&&(t=new V(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new V(Math.pow(+$(p),l?e.s*(2-E(e)):+$(e))),t?h.mod(t):h;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new V(NaN);(r=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return c=p.s<0&&E(e)?-0:0,p.e>-1&&(c=1/c),new V(d?1/c:c);F&&(c=o(F/u+2))}for(l?(n=new V(.5),d&&(e.s=1),f=E(e)):f=(a=Math.abs(+$(e)))%2,h=new V(x);;){if(f){if(!(h=h.times(p)).c)break;c?h.c.length>c&&(h.c.length=c):r&&(h=h.mod(t))}if(a){if(0===(a=s(a/2)))break;f=a%2}else if(X(e=e.times(n),e.e+1,1),e.e>14)f=E(e);else{if(0===(a=+$(e)))break;f=a%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):r&&(p=p.mod(t))}return r?h:(d&&(h=x.div(h)),t?h.mod(t):c?X(h,F,L,undefined):h)},C.integerValue=function(e){var t=new V(this);return null==e?e=L:_(e,0,8),X(t,t.e+1,e)},C.isEqualTo=C.eq=function(e,t){return 0===m(this,new V(e,t))},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(e,t){return m(this,new V(e,t))>0},C.isGreaterThanOrEqualTo=C.gte=function(e,t){return 1===(t=m(this,new V(e,t)))||0===t},C.isInteger=function(){return!!this.c&&p(this.e/u)>this.c.length-2},C.isLessThan=C.lt=function(e,t){return m(this,new V(e,t))<0},C.isLessThanOrEqualTo=C.lte=function(e,t){return-1===(t=m(this,new V(e,t)))||0===t},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&0==this.c[0]},C.minus=function(e,t){var n,r,o,s,i=this,a=i.s;if(t=(e=new V(e,t)).s,!a||!t)return new V(NaN);if(a!=t)return e.s=-t,i.plus(e);var l=i.e/u,d=e.e/u,f=i.c,h=e.c;if(!l||!d){if(!f||!h)return f?(e.s=-t,e):new V(h?i:NaN);if(!f[0]||!h[0])return h[0]?(e.s=-t,e):new V(f[0]?i:3==L?-0:0)}if(l=p(l),d=p(d),f=f.slice(),a=l-d){for((s=a<0)?(a=-a,o=f):(d=l,o=h),o.reverse(),t=a;t--;o.push(0));o.reverse()}else for(r=(s=(a=f.length)<(t=h.length))?a:t,a=t=0;t<r;t++)if(f[t]!=h[t]){s=f[t]<h[t];break}if(s&&(o=f,f=h,h=o,e.s=-e.s),(t=(r=h.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=c-1;r>a;){if(f[--r]<h[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=c}f[r]-=h[r]}for(;0==f[0];f.splice(0,1),--d);return f[0]?K(e,f,d):(e.s=3==L?-1:1,e.c=[e.e=0],e)},C.modulo=C.mod=function(e,t){var r,o,s=this;return e=new V(e,t),!s.c||!e.s||e.c&&!e.c[0]?new V(NaN):!e.c||s.c&&!s.c[0]?new V(s):(9==j?(o=e.s,e.s=1,r=n(s,e,0,3),e.s=o,r.s*=o):r=n(s,e,0,j),(e=s.minus(r.times(e))).c[0]||1!=j||(e.s=s.s),e)},C.multipliedBy=C.times=function(e,t){var n,r,o,s,i,a,l,d,h,g,m,_,E,b,y,w=this,S=w.c,R=(e=new V(e,t)).c;if(!(S&&R&&S[0]&&R[0]))return!w.s||!e.s||S&&!S[0]&&!R||R&&!R[0]&&!S?e.c=e.e=e.s=null:(e.s*=w.s,S&&R?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(w.e/u)+p(e.e/u),e.s*=w.s,(l=S.length)<(g=R.length)&&(E=S,S=R,R=E,o=l,l=g,g=o),o=l+g,E=[];o--;E.push(0));for(b=c,y=f,o=g;--o>=0;){for(n=0,m=R[o]%y,_=R[o]/y|0,s=o+(i=l);s>o;)n=((d=m*(d=S[--i]%y)+(a=_*d+(h=S[i]/y|0)*m)%y*y+E[s]+n)/b|0)+(a/y|0)+_*h,E[s--]=d%b;E[s]=n}return n?++r:E.splice(0,1),K(e,E,r)},C.negated=function(){var e=new V(this);return e.s=-e.s||null,e},C.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new V(e,t)).s,!o||!t)return new V(NaN);if(o!=t)return e.s=-t,r.minus(e);var s=r.e/u,i=e.e/u,a=r.c,l=e.c;if(!s||!i){if(!a||!l)return new V(o/0);if(!a[0]||!l[0])return l[0]?e:new V(a[0]?r:0*o)}if(s=p(s),i=p(i),a=a.slice(),o=s-i){for(o>0?(i=s,n=l):(o=-o,n=a),n.reverse();o--;n.push(0));n.reverse()}for((o=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=o),o=0;t;)o=(a[--t]=a[t]+l[t]+o)/c|0,a[t]=c===a[t]?0:a[t]%c;return o&&(a=[o].concat(a),++i),K(e,a,i)},C.precision=C.sd=function(e,t){var n,r,o,s=this;if(null!=e&&e!==!!e)return _(e,1,h),null==t?t=L:_(t,0,8),X(new V(s),e,t);if(!(n=s.c))return null;if(r=(o=n.length-1)*u+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},C.shiftedBy=function(e){return _(e,-9007199254740991,l),this.times("1e"+e)},C.squareRoot=C.sqrt=function(){var e,t,r,o,s,i=this,a=i.c,c=i.s,u=i.e,l=P+4,d=new V("0.5");if(1!==c||!a||!a[0])return new V(!c||c<0&&(!a||a[0])?NaN:a?i:1/0);if(0==(c=Math.sqrt(+$(i)))||c==1/0?(((t=g(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=p((u+1)/2)-(u<0||u%2),r=new V(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new V(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(s=r,r=d.times(s.plus(n(i,s,l,1))),g(s.c).slice(0,c)===(t=g(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(X(r,r.e+P+2,1),e=!r.times(r).eq(i));break}if(!o&&(X(s,s.e+P+2,0),s.times(s).eq(i))){r=s;break}l+=4,c+=4,o=1}return X(r,r.e+P+1,L,e)},C.toExponential=function(e,t){return null!=e&&(_(e,0,h),e++),W(this,e,t,1)},C.toFixed=function(e,t){return null!=e&&(_(e,0,h),e=e+this.e+1),W(this,e,t)},C.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=H;else if("object"!=typeof n)throw Error(i+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var s,a=r.split("."),c=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",d=a[0],f=a[1],h=o.s<0,p=h?d.slice(1):d,g=p.length;if(u&&(s=c,c=u,u=s,g-=s),c>0&&g>0){for(s=g%c||c,d=p.substr(0,s);s<g;s+=c)d+=l+p.substr(s,c);u>0&&(d+=l+p.slice(s)),h&&(d="-"+d)}r=f?d+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):d}return(n.prefix||"")+r+(n.suffix||"")},C.toFraction=function(e){var t,r,o,s,a,c,l,f,h,p,m,_,E=this,b=E.c;if(null!=e&&(!(l=new V(e)).isInteger()&&(l.c||1!==l.s)||l.lt(x)))throw Error(i+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+$(l));if(!b)return new V(E);for(t=new V(x),h=r=new V(x),o=f=new V(x),_=g(b),a=t.e=_.length-E.e-1,t.c[0]=d[(c=a%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?a>0?t:h:l,c=U,U=1/0,l=new V(_),f.c[0]=0;p=n(l,t,0,1),1!=(s=r.plus(p.times(o))).comparedTo(e);)r=o,o=s,h=f.plus(p.times(s=h)),f=s,t=l.minus(p.times(s=t)),l=s;return s=n(e.minus(r),o,0,1),f=f.plus(s.times(h)),r=r.plus(s.times(o)),f.s=h.s=E.s,m=n(h,o,a*=2,L).minus(E).abs().comparedTo(n(f,r,a,L).minus(E).abs())<1?[h,o]:[f,r],U=c,m},C.toNumber=function(){return+$(this)},C.toPrecision=function(e,t){return null!=e&&_(e,1,h),W(this,e,t,2)},C.toString=function(e){var t,n=this,r=n.s,o=n.e;return null===o?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=o<=B||o>=k?b(g(n.c),o):y(g(n.c),o,"0"):10===e&&z?t=y(g((n=X(new V(n),P+o+1,L)).c),n.e,"0"):(_(e,2,G.length,"Base"),t=w(y(g(n.c),o,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},C.valueOf=C.toJSON=function(){return $(this)},C._isBigNumber=!0,null!=t&&V.set(t),V}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@ngraveio/bc-ur>bignumber.js",file:"node_modules/@ngraveio/bc-ur/node_modules/bignumber.js/bignumber.js"}],[2935,{"./utils.js":2938},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.polyval=n.ghash=void 0,n._toGHASHKey=u;const r=e("./utils.js"),o=16,s=new Uint8Array(16),i=(0,r.u32)(s),a=(e,t,n,r)=>({s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^225<<24&-(1&(1&r))}),c=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;function u(e){e.reverse();const t=1&e[15];let n=0;for(let t=0;t<e.length;t++){const r=e[t];e[t]=r>>>1|n,n=(1&r)<<7}return e[0]^=225&-t,e}class l{constructor(e,t){this.blockLen=o,this.outputLen=o,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,r.toBytes)(e),(0,r.abytes)(e,16);const n=(0,r.createView)(e);let s=n.getUint32(0,!1),i=n.getUint32(4,!1),u=n.getUint32(8,!1),l=n.getUint32(12,!1);const d=[];for(let e=0;e<128;e++)d.push({s0:c(s),s1:c(i),s2:c(u),s3:c(l)}),({s0:s,s1:i,s2:u,s3:l}=a(s,i,u,l));const f=(h=t||1024)>65536?8:h>1024?4:2;var h;if(![1,2,4,8].includes(f))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=f;const p=128/f,g=this.windowSize=2**f,m=[];for(let e=0;e<p;e++)for(let t=0;t<g;t++){let n=0,r=0,o=0,s=0;for(let i=0;i<f;i++){if(!(t>>>f-i-1&1))continue;const{s0:a,s1:c,s2:u,s3:l}=d[f*e+i];n^=a,r^=c,o^=u,s^=l}m.push({s0:n,s1:r,s2:o,s3:s})}this.t=m}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;const{W:o,t:s,windowSize:i}=this;let a=0,c=0,u=0,l=0;const d=(1<<o)-1;let f=0;for(const h of[e,t,n,r])for(let e=0;e<4;e++){const t=h>>>8*e&255;for(let e=8/o-1;e>=0;e--){const n=t>>>o*e&d,{s0:r,s1:h,s2:p,s3:g}=s[f*i+n];a^=r,c^=h,u^=p,l^=g,f+=1}}this.s0=a,this.s1=c,this.s2=u,this.s3=l}update(e){(0,r.aexists)(this),e=(0,r.toBytes)(e),(0,r.abytes)(e);const t=(0,r.u32)(e),n=Math.floor(e.length/o),a=e.length%o;for(let e=0;e<n;e++)this._updateBlock(t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]);return a&&(s.set(e.subarray(n*o)),this._updateBlock(i[0],i[1],i[2],i[3]),(0,r.clean)(i)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;const{s0:t,s1:n,s2:o,s3:s}=this,i=(0,r.u32)(e);return i[0]=t,i[1]=n,i[2]=o,i[3]=s,e}digest(){const e=new Uint8Array(o);return this.digestInto(e),this.destroy(),e}}class d extends l{constructor(e,t){e=(0,r.toBytes)(e),(0,r.abytes)(e);const n=u((0,r.copyBytes)(e));super(n,t),(0,r.clean)(n)}update(e){e=(0,r.toBytes)(e),(0,r.aexists)(this);const t=(0,r.u32)(e),n=e.length%o,a=Math.floor(e.length/o);for(let e=0;e<a;e++)this._updateBlock(c(t[4*e+3]),c(t[4*e+2]),c(t[4*e+1]),c(t[4*e+0]));return n&&(s.set(e.subarray(a*o)),this._updateBlock(c(i[3]),c(i[2]),c(i[1]),c(i[0])),(0,r.clean)(i)),this}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;const{s0:t,s1:n,s2:o,s3:s}=this,i=(0,r.u32)(e);return i[0]=t,i[1]=n,i[2]=o,i[3]=s,e.reverse()}}function f(e){const t=(t,n)=>e(n,t.length).update((0,r.toBytes)(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}n.ghash=f((e,t)=>new l(e,t)),n.polyval=f((e,t)=>new d(e,t))}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/_polyval.js"}],[2936,{"./_polyval.js":2935,"./utils.js":2938},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unsafe=n.aeskwp=n.aeskw=n.siv=n.gcmsiv=n.gcm=n.cfb=n.cbc=n.ecb=n.ctr=void 0;const r=e("./_polyval.js"),o=e("./utils.js"),s=16,i=new Uint8Array(s);function a(e){return e<<1^283&-(e>>7)}function c(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(1&t),e=a(e);return n}const u=(()=>{const e=new Uint8Array(256);for(let t=0,n=1;t<256;t++,n^=a(n))e[t]=n;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,o.clean)(e),t})(),l=u.map((e,t)=>u.indexOf(t)),d=e=>e<<24|e>>>8,f=e=>e<<8|e>>>24,h=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function p(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((n,r)=>t(e[r])),r=n.map(f),o=r.map(f),s=o.map(f),i=new Uint32Array(65536),a=new Uint32Array(65536),c=new Uint16Array(65536);for(let t=0;t<256;t++)for(let u=0;u<256;u++){const l=256*t+u;i[l]=n[t]^r[u],a[l]=o[t]^s[u],c[l]=e[t]<<8|e[u]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:o,T3:s,T01:i,T23:a}}const g=p(u,e=>c(e,3)<<24|e<<16|e<<8|c(e,2)),m=p(l,e=>c(e,11)<<24|c(e,13)<<16|c(e,9)<<8|c(e,14)),_=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=a(n))e[t]=n;return e})();function E(e){(0,o.abytes)(e);const t=e.length;if(![16,24,32].includes(t))throw new Error("aes: invalid key size, should be 16, 24 or 32, got "+t);const{sbox2:n}=g,r=[];(0,o.isAligned32)(e)||r.push(e=(0,o.copyBytes)(e));const s=(0,o.u32)(e),i=s.length,a=e=>w(n,e,e,e,e),c=new Uint32Array(t+28);c.set(s);for(let e=i;e<c.length;e++){let t=c[e-1];e%i===0?t=a(d(t))^_[e/i-1]:i>6&&e%i===4&&(t=a(t)),c[e]=c[e-i]^t}return(0,o.clean)(...r),c}function b(e){const t=E(e),n=t.slice(),r=t.length,{sbox2:s}=g,{T0:i,T1:a,T2:c,T3:u}=m;for(let e=0;e<r;e+=4)for(let o=0;o<4;o++)n[e+o]=t[r-e-4+o];(0,o.clean)(t);for(let e=4;e<r-4;e++){const t=n[e],r=w(s,t,t,t,t);n[e]=i[255&r]^a[r>>>8&255]^c[r>>>16&255]^u[r>>>24]}return n}function y(e,t,n,r,o,s){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|s>>>24&255]}function w(e,t,n,r,o){return e[255&t|65280&n]|e[r>>>16&255|o>>>16&65280]<<16}function S(e,t,n,r,o){const{sbox2:s,T01:i,T23:a}=g;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];const u=e.length/4-2;for(let s=0;s<u;s++){const s=e[c++]^y(i,a,t,n,r,o),u=e[c++]^y(i,a,n,r,o,t),l=e[c++]^y(i,a,r,o,t,n),d=e[c++]^y(i,a,o,t,n,r);t=s,n=u,r=l,o=d}return{s0:e[c++]^w(s,t,n,r,o),s1:e[c++]^w(s,n,r,o,t),s2:e[c++]^w(s,r,o,t,n),s3:e[c++]^w(s,o,t,n,r)}}function R(e,t,n,r,o){const{sbox2:s,T01:i,T23:a}=m;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],o^=e[c++];const u=e.length/4-2;for(let s=0;s<u;s++){const s=e[c++]^y(i,a,t,o,r,n),u=e[c++]^y(i,a,n,t,o,r),l=e[c++]^y(i,a,r,n,t,o),d=e[c++]^y(i,a,o,r,n,t);t=s,n=u,r=l,o=d}return{s0:e[c++]^w(s,t,o,r,n),s1:e[c++]^w(s,n,t,o,r),s2:e[c++]^w(s,r,n,t,o),s3:e[c++]^w(s,o,r,n,t)}}function A(e,t,n,r){(0,o.abytes)(t,s),(0,o.abytes)(n);const i=n.length;r=(0,o.getOutput)(i,r),(0,o.complexOverlapBytes)(n,r);const a=t,c=(0,o.u32)(a);let{s0:u,s1:l,s2:d,s3:f}=S(e,c[0],c[1],c[2],c[3]);const h=(0,o.u32)(n),p=(0,o.u32)(r);for(let t=0;t+4<=h.length;t+=4){p[t+0]=h[t+0]^u,p[t+1]=h[t+1]^l,p[t+2]=h[t+2]^d,p[t+3]=h[t+3]^f;let n=1;for(let e=a.length-1;e>=0;e--)n=n+(255&a[e])|0,a[e]=255&n,n>>>=8;({s0:u,s1:l,s2:d,s3:f}=S(e,c[0],c[1],c[2],c[3]))}const g=s*Math.floor(h.length/4);if(g<i){const e=new Uint32Array([u,l,d,f]),t=(0,o.u8)(e);for(let e=g,o=0;e<i;e++,o++)r[e]=n[e]^t[o];(0,o.clean)(e)}return r}function T(e,t,n,r,i){(0,o.abytes)(n,s),(0,o.abytes)(r),i=(0,o.getOutput)(r.length,i);const a=n,c=(0,o.u32)(a),u=(0,o.createView)(a),l=(0,o.u32)(r),d=(0,o.u32)(i),f=t?0:12,h=r.length;let p=u.getUint32(f,t),{s0:g,s1:m,s2:_,s3:E}=S(e,c[0],c[1],c[2],c[3]);for(let n=0;n+4<=l.length;n+=4)d[n+0]=l[n+0]^g,d[n+1]=l[n+1]^m,d[n+2]=l[n+2]^_,d[n+3]=l[n+3]^E,p=p+1>>>0,u.setUint32(f,p,t),({s0:g,s1:m,s2:_,s3:E}=S(e,c[0],c[1],c[2],c[3]));const b=s*Math.floor(l.length/4);if(b<h){const e=new Uint32Array([g,m,_,E]),t=(0,o.u8)(e);for(let e=b,n=0;e<h;e++,n++)i[e]=r[e]^t[n];(0,o.clean)(e)}return i}function O(e){if((0,o.abytes)(e),e.length%s!==0)throw new Error("aes-(cbc/ecb).decrypt ciphertext should consist of blocks with size 16")}function v(e,t,n){(0,o.abytes)(e);let r=e.length;const i=r%s;if(!t&&0!==i)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,o.isAligned32)(e)||(e=(0,o.copyBytes)(e));const a=(0,o.u32)(e);if(t){let e=s-i;e||(e=s),r+=e}n=(0,o.getOutput)(r,n),(0,o.complexOverlapBytes)(e,n);return{b:a,o:(0,o.u32)(n),out:n}}function I(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding");const o=e.subarray(0,-r);for(let t=0;t<r;t++)if(e[n-t-1]!==r)throw new Error("aes/pcks5: wrong padding");return o}function N(e){const t=new Uint8Array(16),n=(0,o.u32)(t);t.set(e);const r=s-e.length;for(let e=s-r;e<s;e++)t[e]=r;return n}function C(e,t,n,r,s){const i=s?s.length:0,a=e.create(n,r.length+i);s&&a.update(s);const c=(0,o.u64Lengths)(8*r.length,8*i,t);a.update(r),a.update(c);const u=a.digest();return(0,o.clean)(c),u}n.ctr=(0,o.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function n(n,r){if((0,o.abytes)(n),r!==undefined&&((0,o.abytes)(r),!(0,o.isAligned32)(r)))throw new Error("unaligned destination");const s=E(e),i=(0,o.copyBytes)(t),a=[s,i];(0,o.isAligned32)(n)||a.push(n=(0,o.copyBytes)(n));const c=A(s,i,n,r);return(0,o.clean)(...a),c}return{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}}),n.ecb=(0,o.wrapCipher)({blockSize:16},function(e,t={}){const n=!t.disablePadding;return{encrypt(t,r){const{b:s,o:i,out:a}=v(t,n,r),c=E(e);let u=0;for(;u+4<=s.length;){const{s0:e,s1:t,s2:n,s3:r}=S(c,s[u+0],s[u+1],s[u+2],s[u+3]);i[u++]=e,i[u++]=t,i[u++]=n,i[u++]=r}if(n){const e=N(t.subarray(4*u)),{s0:n,s1:r,s2:o,s3:s}=S(c,e[0],e[1],e[2],e[3]);i[u++]=n,i[u++]=r,i[u++]=o,i[u++]=s}return(0,o.clean)(c),a},decrypt(t,r){O(t);const s=b(e);r=(0,o.getOutput)(t.length,r);const i=[s];(0,o.isAligned32)(t)||i.push(t=(0,o.copyBytes)(t)),(0,o.complexOverlapBytes)(t,r);const a=(0,o.u32)(t),c=(0,o.u32)(r);for(let e=0;e+4<=a.length;){const{s0:t,s1:n,s2:r,s3:o}=R(s,a[e+0],a[e+1],a[e+2],a[e+3]);c[e++]=t,c[e++]=n,c[e++]=r,c[e++]=o}return(0,o.clean)(...i),I(r,n)}}}),n.cbc=(0,o.wrapCipher)({blockSize:16,nonceLength:16},function(e,t,n={}){const r=!n.disablePadding;return{encrypt(n,s){const i=E(e),{b:a,o:c,out:u}=v(n,r,s);let l=t;const d=[i];(0,o.isAligned32)(l)||d.push(l=(0,o.copyBytes)(l));const f=(0,o.u32)(l);let h=f[0],p=f[1],g=f[2],m=f[3],_=0;for(;_+4<=a.length;)h^=a[_+0],p^=a[_+1],g^=a[_+2],m^=a[_+3],({s0:h,s1:p,s2:g,s3:m}=S(i,h,p,g,m)),c[_++]=h,c[_++]=p,c[_++]=g,c[_++]=m;if(r){const e=N(n.subarray(4*_));h^=e[0],p^=e[1],g^=e[2],m^=e[3],({s0:h,s1:p,s2:g,s3:m}=S(i,h,p,g,m)),c[_++]=h,c[_++]=p,c[_++]=g,c[_++]=m}return(0,o.clean)(...d),u},decrypt(n,s){O(n);const i=b(e);let a=t;const c=[i];(0,o.isAligned32)(a)||c.push(a=(0,o.copyBytes)(a));const u=(0,o.u32)(a);s=(0,o.getOutput)(n.length,s),(0,o.isAligned32)(n)||c.push(n=(0,o.copyBytes)(n)),(0,o.complexOverlapBytes)(n,s);const l=(0,o.u32)(n),d=(0,o.u32)(s);let f=u[0],h=u[1],p=u[2],g=u[3];for(let e=0;e+4<=l.length;){const t=f,n=h,r=p,o=g;f=l[e+0],h=l[e+1],p=l[e+2],g=l[e+3];const{s0:s,s1:a,s2:c,s3:u}=R(i,f,h,p,g);d[e++]=s^t,d[e++]=a^n,d[e++]=c^r,d[e++]=u^o}return(0,o.clean)(...c),I(s,r)}}}),n.cfb=(0,o.wrapCipher)({blockSize:16,nonceLength:16},function(e,t){function n(n,r,i){(0,o.abytes)(n);const a=n.length;if(i=(0,o.getOutput)(a,i),(0,o.overlapBytes)(n,i))throw new Error("overlapping src and dst not supported.");const c=E(e);let u=t;const l=[c];(0,o.isAligned32)(u)||l.push(u=(0,o.copyBytes)(u)),(0,o.isAligned32)(n)||l.push(n=(0,o.copyBytes)(n));const d=(0,o.u32)(n),f=(0,o.u32)(i),h=r?f:d,p=(0,o.u32)(u);let g=p[0],m=p[1],_=p[2],b=p[3];for(let e=0;e+4<=d.length;){const{s0:t,s1:n,s2:r,s3:o}=S(c,g,m,_,b);f[e+0]=d[e+0]^t,f[e+1]=d[e+1]^n,f[e+2]=d[e+2]^r,f[e+3]=d[e+3]^o,g=h[e++],m=h[e++],_=h[e++],b=h[e++]}const y=s*Math.floor(d.length/4);if(y<a){({s0:g,s1:m,s2:_,s3:b}=S(c,g,m,_,b));const e=(0,o.u8)(new Uint32Array([g,m,_,b]));for(let t=y,r=0;t<a;t++,r++)i[t]=n[t]^e[r];(0,o.clean)(e)}return(0,o.clean)(...l),i}return{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}}),n.gcm=(0,o.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(e,t,n){if(t.length<8)throw new Error("aes/gcm: invalid nonce length");function s(e,t,o){const s=C(r.ghash,!1,e,o,n);for(let e=0;e<t.length;e++)s[e]^=t[e];return s}function a(){const n=E(e),s=i.slice(),a=i.slice();if(T(n,!1,a,a,s),12===t.length)a.set(t);else{const e=i.slice(),n=(0,o.createView)(e);(0,o.setBigUint64)(n,8,BigInt(8*t.length),!1);const c=r.ghash.create(s).update(t).update(e);c.digestInto(a),c.destroy()}return{xk:n,authKey:s,counter:a,tagMask:T(n,!1,a,i)}}return{encrypt(e){const{xk:t,authKey:n,counter:r,tagMask:i}=a(),c=new Uint8Array(e.length+16),u=[t,n,r,i];(0,o.isAligned32)(e)||u.push(e=(0,o.copyBytes)(e)),T(t,!1,r,e,c.subarray(0,e.length));const l=s(n,i,c.subarray(0,c.length-16));return u.push(l),c.set(l,e.length),(0,o.clean)(...u),c},decrypt(e){const{xk:t,authKey:n,counter:r,tagMask:i}=a(),c=[t,n,i,r];(0,o.isAligned32)(e)||c.push(e=(0,o.copyBytes)(e));const u=e.subarray(0,-16),l=e.subarray(-16),d=s(n,i,u);if(c.push(d),!(0,o.equalBytes)(d,l))throw new Error("aes/gcm: invalid ghash tag");const f=T(t,!1,r,u);return(0,o.clean)(...c),f}}});const x=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n){throw new Error(e+": expected value in range "+("["+t+".."+n+"]")+", got "+r)}};function P(e){return e instanceof Uint32Array||ArrayBuffer.isView(e)&&"Uint32Array"===e.constructor.name}function L(e,t){if((0,o.abytes)(t,16),!P(e))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,o.u32)(t);let{s0:r,s1:s,s2:i,s3:a}=S(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=s,n[2]=i,n[3]=a,t}function B(e,t){if((0,o.abytes)(t,16),!P(e))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,o.u32)(t);let{s0:r,s1:s,s2:i,s3:a}=R(e,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=s,n[2]=i,n[3]=a,t}n.gcmsiv=(0,o.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(e,t,n){const s=x("AAD",0,2**36),i=x("plaintext",0,2**36),a=x("nonce",12,12),c=x("ciphertext",16,2**36+16);function u(){const n=E(e),r=new Uint8Array(e.length),s=new Uint8Array(16),i=[n,r];let a=t;(0,o.isAligned32)(a)||i.push(a=(0,o.copyBytes)(a));const c=(0,o.u32)(a);let u=0,l=c[0],d=c[1],f=c[2],h=0;for(const e of[s,r].map(o.u32)){const t=(0,o.u32)(e);for(let e=0;e<t.length;e+=2){const{s0:r,s1:o}=S(n,u,l,d,f);t[e+0]=r,t[e+1]=o,u=++h}}const p={authKey:s,encKey:E(r)};return(0,o.clean)(...i),p}function l(e,s,i){const a=C(r.polyval,!0,s,i,n);for(let e=0;e<12;e++)a[e]^=t[e];a[15]&=127;const c=(0,o.u32)(a);let u=c[0],l=c[1],d=c[2],f=c[3];return({s0:u,s1:l,s2:d,s3:f}=S(e,u,l,d,f)),c[0]=u,c[1]=l,c[2]=d,c[3]=f,a}function d(e,t,n){let r=(0,o.copyBytes)(t);r[15]|=128;const s=T(e,!0,r,n);return(0,o.clean)(r),s}return(0,o.abytes)(e,16,24,32),a(t.length),n!==undefined&&s(n.length),{encrypt(e){i(e.length);const{encKey:t,authKey:n}=u(),r=l(t,n,e),s=[t,n,r];(0,o.isAligned32)(e)||s.push(e=(0,o.copyBytes)(e));const a=new Uint8Array(e.length+16);return a.set(r,e.length),a.set(d(t,r,e)),(0,o.clean)(...s),a},decrypt(e){c(e.length);const t=e.subarray(-16),{encKey:n,authKey:r}=u(),s=[n,r];(0,o.isAligned32)(e)||s.push(e=(0,o.copyBytes)(e));const i=d(n,t,e.subarray(0,-16)),a=l(n,r,i);if(s.push(a),!(0,o.equalBytes)(t,a))throw(0,o.clean)(...s),new Error("invalid polyval tag");return(0,o.clean)(...s),i}}}),n.siv=n.gcmsiv;const k={encrypt(e,t){if(t.length>=2**32)throw new Error("plaintext should be less than 4gb");const n=E(e);if(16===t.length)L(n,t);else{const e=(0,o.u32)(t);let r=e[0],s=e[1];for(let t=0,o=1;t<6;t++)for(let t=2;t<e.length;t+=2,o++){const{s0:i,s1:a,s2:c,s3:u}=S(n,r,s,e[t],e[t+1]);r=i,s=a^h(o),e[t]=c,e[t+1]=u}e[0]=r,e[1]=s}n.fill(0)},decrypt(e,t){if(t.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const n=b(e),r=t.length/8-1;if(1===r)B(n,t);else{const e=(0,o.u32)(t);let s=e[0],i=e[1];for(let t=0,o=6*r;t<6;t++)for(let t=2*r;t>=1;t-=2,o--){i^=h(o);const{s0:r,s1:a,s2:c,s3:u}=R(n,s,i,e[t],e[t+1]);s=r,i=a,e[t]=c,e[t+1]=u}e[0]=s,e[1]=i}n.fill(0)}},D=new Uint8Array(8).fill(166);n.aeskw=(0,o.wrapCipher)({blockSize:8},e=>({encrypt(t){if(!t.length||t.length%8!=0)throw new Error("invalid plaintext length");if(8===t.length)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const n=(0,o.concatBytes)(D,t);return k.encrypt(e,n),n},decrypt(t){if(t.length%8!=0||t.length<24)throw new Error("invalid ciphertext length");const n=(0,o.copyBytes)(t);if(k.decrypt(e,n),!(0,o.equalBytes)(n.subarray(0,8),D))throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8)}}));const U=2790873510;n.aeskwp=(0,o.wrapCipher)({blockSize:8},e=>({encrypt(t){if(!t.length)throw new Error("invalid plaintext length");const n=8*Math.ceil(t.length/8),r=new Uint8Array(8+n);r.set(t,8);const s=(0,o.u32)(r);return s[0]=U,s[1]=h(t.length),k.encrypt(e,r),r},decrypt(t){if(t.length<16)throw new Error("invalid ciphertext length");const n=(0,o.copyBytes)(t),r=(0,o.u32)(n);k.decrypt(e,n);const s=h(r[1])>>>0,i=8*Math.ceil(s/8);if(r[0]!==U||n.length-8!==i)throw new Error("integrity check failed");for(let e=s;e<i;e++)if(0!==n[8+e])throw new Error("integrity check failed");return n.subarray(0,8).fill(0),n.subarray(8,8+s)}})),n.unsafe={expandKeyLE:E,expandKeyDecLE:b,encrypt:S,decrypt:R,encryptBlock:L,decryptBlock:B,ctrCounter:A,ctr32:T}}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/aes.js"}],[2937,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/crypto.js"}],[2938,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function o(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function i(e,...t){if(!r(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}
/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.wrapCipher=n.Hash=n.nextTick=n.isLE=void 0,n.isBytes=r,n.abool=o,n.anumber=s,n.abytes=i,n.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)},n.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},n.aoutput=function(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)},n.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},n.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},n.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},n.createView=a,n.bytesToHex=l,n.hexToBytes=h,n.hexToNumber=p,n.bytesToNumberBE=function(e){return p(l(e))},n.numberToBytesBE=function(e,t){return h(e.toString(16).padStart(2*t,"0"))},n.utf8ToBytes=g,n.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},n.toBytes=function(e){if("string"==typeof e)e=g(e);else{if(!r(e))throw new Error("Uint8Array expected, got "+typeof e);e=b(e)}return e},n.overlapBytes=m,n.complexOverlapBytes=function(e,t){if(m(e,t)&&e.byteOffset<t.byteOffset)throw new Error("complex overlap of input and output is not supported")},n.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];i(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n},n.checkOpts=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)},n.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},n.getOutput=function(e,t,n=!0){if(t===undefined)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!E(t))throw new Error("invalid output, must be aligned");return t},n.setBigUint64=_,n.u64Lengths=function(e,t,n){o(n);const r=new Uint8Array(16),s=a(r);return _(s,0,BigInt(t),n),_(s,8,BigInt(e),n),r},n.isAligned32=E,n.copyBytes=b,n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];const c=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(e){if(i(e),c)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=u[e[n]];return t}const d={_0:48,_9:57,A:65,F:70,a:97,f:102};function f(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function h(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(c)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,o=0;t<n;t++,o+=2){const n=f(e.charCodeAt(o)),s=f(e.charCodeAt(o+1));if(n===undefined||s===undefined){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[t]=16*n+s}return r}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x"+e)}function g(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function m(e,t){return e.buffer===t.buffer&&e.byteOffset<t.byteOffset+t.byteLength&&t.byteOffset<e.byteOffset+e.byteLength}n.nextTick=async()=>{};n.Hash=class{};function _(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function E(e){return e.byteOffset%4==0}function b(e){return Uint8Array.from(e)}n.wrapCipher=(e,t)=>{function r(r,...o){if(i(r),!n.isLE)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==undefined){const t=o[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?i(t):i(t,e.nonceLength)}const s=e.tagLength;s&&o[1]!==undefined&&i(o[1]);const a=t(r,...o),c=(e,t)=>{if(t!==undefined){if(2!==e)throw new Error("cipher output not supported");i(t)}};let u=!1;return{encrypt(e,t){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,i(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(i(e),s&&e.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return c(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(r,e),r}}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/utils.js"}],[2939,{"./utils.js":2938,"@noble/ciphers/crypto":2937},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.gcm=n.ctr=n.cbc=n.utils=void 0,n.randomBytes=s,n.getWebcryptoSubtle=i,n.managedNonce=function(e){const{nonceLength:t}=e;return(0,o.anumber)(t),(n,...r)=>({encrypt(i,...a){const c=s(t),u=e(n,c,...r).encrypt(i,...a),l=(0,o.concatBytes)(c,u);return u.fill(0),l},decrypt(o,...s){const i=o.subarray(0,t),a=o.subarray(t);return e(n,i,...r).decrypt(a,...s)}})};const r=e("@noble/ciphers/crypto"),o=e("./utils.js");function s(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return Uint8Array.from(r.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function i(){if(r.crypto&&"object"==typeof r.crypto.subtle&&null!=r.crypto.subtle)return r.crypto.subtle;throw new Error("crypto.subtle must be defined")}n.utils={async encrypt(e,t,n,r){const o=i(),s=await o.importKey("raw",e,t,!0,["encrypt"]),a=await o.encrypt(n,s,r);return new Uint8Array(a)},async decrypt(e,t,n,r){const o=i(),s=await o.importKey("raw",e,t,!0,["decrypt"]),a=await o.decrypt(n,s,r);return new Uint8Array(a)}};const a="AES-CBC",c="AES-CTR",u="AES-GCM";function l(e){return(t,r,s)=>{(0,o.abytes)(t),(0,o.abytes)(r);const i={name:e,length:8*t.length},l=function(e,t,n){if(e===a)return{name:a,iv:t};if(e===c)return{name:c,counter:t,length:64};if(e===u)return n?{name:u,iv:t,additionalData:n}:{name:u,iv:t};throw new Error("unknown aes block mode")}(e,r,s);let d=!1;return{encrypt(e){if((0,o.abytes)(e),d)throw new Error("Cannot encrypt() twice with same key / nonce");return d=!0,n.utils.encrypt(t,i,l,e)},decrypt:e=>((0,o.abytes)(e),n.utils.decrypt(t,i,l,e))}}}n.cbc=l(a),n.ctr=l(c),n.gcm=(()=>l(u))()}}},{package:"@noble/ciphers",file:"node_modules/@noble/ciphers/webcrypto.js"}],[2940,{"./abstract/weierstrass.js":2947},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHash=function(e){return{hash:e}},n.createCurve=function(e,t){const n=t=>(0,r.weierstrass)({...e,hash:t});return{...n(t),create:n}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./abstract/weierstrass.js")}}},{package:"@noble/curves",file:"node_modules/@noble/curves/_shortw_utils.js"}],[2941,{"../utils.js":2950,"./modular.js":2944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wNAF=void 0,n.negateCt=a,n.normalizeZ=function(e,t){const n=(0,o.FpInvertBatch)(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))},n.mulEndoUnsafe=function(e,t,n,r){let o=t,a=e.ZERO,c=e.ZERO;for(;n>s||r>s;)n&i&&(a=a.add(o)),r&i&&(c=c.add(o)),o=o.double(),n>>=i,r>>=i;return{p1:a,p2:c}},n.pippenger=function(e,t,n,o){d(n,e),f(o,t);const s=n.length,i=o.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,c=(0,r.bitLen)(BigInt(s));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const l=(0,r.bitMask)(u),h=new Array(Number(l)+1).fill(a),p=Math.floor((t.BITS-1)/u)*u;let g=a;for(let e=p;e>=0;e-=u){h.fill(a);for(let t=0;t<i;t++){const r=o[t],s=Number(r>>BigInt(e)&l);h[s]=h[s].add(n[t])}let t=a;for(let e=h.length-1,n=a;e>0;e--)n=n.add(h[e]),t=t.add(n);if(g=g.add(t),0!==e)for(let e=0;e<u;e++)g=g.double()}return g},n.precomputeMSMUnsafe=function(e,t,n,o){c(o,t.BITS),d(n,e);const s=e.ZERO,i=2**o-1,a=Math.ceil(t.BITS/o),u=(0,r.bitMask)(o),l=n.map(e=>{const t=[];for(let n=0,r=e;n<i;n++)t.push(r),r=r.add(e);return t});return e=>{if(f(e,t),e.length>n.length)throw new Error("array of scalars must be smaller than array of points");let r=s;for(let t=0;t<a;t++){if(r!==s)for(let e=0;e<o;e++)r=r.double();const n=BigInt(a*o-(t+1)*o);for(let t=0;t<e.length;t++){const o=e[t],s=Number(o>>n&u);s&&(r=r.add(l[t][s-1]))}}return r}},n.validateBasic=function(e){return(0,o.validateField)(e.Fp),(0,r.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,o.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})},n._createCurveFields=function(e,t,n={},r){r===undefined&&(r="edwards"===e);if(!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const n=t[e];if(!("bigint"==typeof n&&n>s))throw new Error(`CURVE.${e} must be positive bigint`)}const o=_(t.p,n.Fp,r),i=_(t.n,n.Fn,r),a=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of a)if(!o.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:o,Fn:i}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("../utils.js"),o=e("./modular.js"),s=BigInt(0),i=BigInt(1);function a(e,t){const n=t.negate();return e?n:t}function c(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function u(e,t){c(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:(0,r.bitMask)(e),maxNumber:n,shiftBy:BigInt(e)}}function l(e,t,n){const{windowSize:r,mask:o,maxNumber:s,shiftBy:a}=n;let c=Number(e&o),u=e>>a;c>r&&(c-=s,u+=i);const l=t*r;return{nextN:u,offset:l+Math.abs(c)-1,isZero:0===c,isNeg:c<0,isNegF:t%2!=0,offsetF:l}}function d(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}function f(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}const h=new WeakMap,p=new WeakMap;function g(e){return p.get(e)||1}function m(e){if(e!==s)throw new Error("invalid wNAF")}function _(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,o.validateField)(t),t}return(0,o.Field)(e,{isLE:n})}n.wNAF=class{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>s;)t&i&&(n=n.add(r)),r=r.double(),t>>=i;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=u(t,this.bits),o=[];let s=e,i=s;for(let e=0;e<n;e++){i=s,o.push(i);for(let e=1;e<r;e++)i=i.add(s),o.push(i);s=i.double()}return o}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,o=this.BASE;const s=u(e,this.bits);for(let e=0;e<s.windows;e++){const{nextN:i,offset:c,isZero:u,isNeg:d,isNegF:f,offsetF:h}=l(n,e,s);n=i,u?o=o.add(a(f,t[h])):r=r.add(a(d,t[c]))}return m(n),{p:r,f:o}}wNAFUnsafe(e,t,n,r=this.ZERO){const o=u(e,this.bits);for(let e=0;e<o.windows&&n!==s;e++){const{nextN:s,offset:i,isZero:a,isNeg:c}=l(n,e,o);if(n=s,!a){const e=t[i];r=r.add(c?e.negate():e)}}return m(n),r}getPrecomputes(e,t,n){let r=h.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),h.set(t,r))),r}cached(e,t,n){const r=g(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const o=g(e);return 1===o?this._unsafeLadder(e,t,r):this.wNAFUnsafe(o,this.getPrecomputes(o,e,n),t,r)}createCache(e,t){c(t,this.bits),p.set(e,t),h.delete(e)}hasCache(e){return 1!==g(e)}}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/curve.js"}],[2942,{"../utils.js":2950,"./curve.js":2941,"./modular.js":2944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PrimeEdwardsPoint=void 0,n.edwards=l,n.eddsa=d,n.twistedEdwards=function(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:o}=function(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=(0,s.Field)(t.n,e.nBitLength,!0),o={Fp:n,Fn:r,uvRatio:e.uvRatio},i={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:o,hash:e.hash,eddsaOpts:i}}(e),i=d(l(t,n),r,o);return function(e,t){const n=t.Point,r=Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES});return r}(e,i)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("../utils.js"),o=e("./curve.js"),s=e("./modular.js"),i=BigInt(0),a=BigInt(1),c=BigInt(2),u=BigInt(8);function l(e,t={}){const n=(0,o._createCurveFields)("edwards",e,t,t.FpFnLE),{Fp:s,Fn:l}=n;let d=n.CURVE;const{h:f}=d;(0,r._validateObject)(t,{},{uvRatio:"function"});const h=c<<BigInt(8*l.BYTES)-a,p=e=>s.create(e),g=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:s.sqrt(s.div(e,t))}}catch(e){return{isValid:!1,value:i}}});if(!function(e,t,n,r){const o=e.sqr(n),s=e.sqr(r),i=e.add(e.mul(t.a,o),s),a=e.add(e.ONE,e.mul(t.d,e.mul(o,s)));return e.eql(i,a)}(s,d,d.Gx,d.Gy))throw new Error("bad curve params: generator point");function m(e,t,n=!1){const o=n?a:i;return(0,r.aInRange)("coordinate "+e,t,o,h),t}function _(e){if(!(e instanceof y))throw new Error("ExtendedPoint expected")}const E=(0,r.memoized)((e,t)=>{const{X:n,Y:r,Z:o}=e,c=e.is0();null==t&&(t=c?u:s.inv(o));const l=p(n*t),d=p(r*t),f=s.mul(o,t);if(c)return{x:i,y:a};if(f!==a)throw new Error("invZ was invalid");return{x:l,y:d}}),b=(0,r.memoized)(e=>{const{a:t,d:n}=d;if(e.is0())throw new Error("bad point: ZERO");const{X:r,Y:o,Z:s,T:i}=e,a=p(r*r),c=p(o*o),u=p(s*s),l=p(u*u),f=p(a*t);if(p(u*p(f+c))!==p(l+p(n*p(a*c))))throw new Error("bad point: equation left != right (1)");if(p(r*o)!==p(s*i))throw new Error("bad point: equation left != right (2)");return!0});class y{constructor(e,t,n,r){this.X=m("x",e),this.Y=m("y",t),this.Z=m("z",n,!0),this.T=m("t",r),Object.freeze(this)}static CURVE(){return d}static fromAffine(e){if(e instanceof y)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return m("x",t),m("y",n),new y(t,n,a,p(t*n))}static fromBytes(e,t=!1){const n=s.BYTES,{a:o,d:c}=d;e=(0,r.copyBytes)((0,r._abytes2)(e,n,"point")),(0,r._abool2)(t,"zip215");const u=(0,r.copyBytes)(e),l=e[n-1];u[n-1]=-129&l;const f=(0,r.bytesToNumberLE)(u),m=t?h:s.ORDER;(0,r.aInRange)("point.y",f,i,m);const _=p(f*f),E=p(_-a),b=p(c*_-o);let{isValid:w,value:S}=g(E,b);if(!w)throw new Error("bad point: invalid y coordinate");const R=(S&a)===a,A=!!(128&l);if(!t&&S===i&&A)throw new Error("bad point: x=0 and x_0=1");return A!==R&&(S=p(-S)),y.fromAffine({x:S,y:f})}static fromHex(e,t=!1){return y.fromBytes((0,r.ensureBytes)("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return w.createCache(this,e),t||this.multiply(c),this}assertValidity(){b(this)}equals(e){_(e);const{X:t,Y:n,Z:r}=this,{X:o,Y:s,Z:i}=e,a=p(t*i),c=p(o*r),u=p(n*i),l=p(s*r);return a===c&&u===l}is0(){return this.equals(y.ZERO)}negate(){return new y(p(-this.X),this.Y,this.Z,p(-this.T))}double(){const{a:e}=d,{X:t,Y:n,Z:r}=this,o=p(t*t),s=p(n*n),i=p(c*p(r*r)),a=p(e*o),u=t+n,l=p(p(u*u)-o-s),f=a+s,h=f-i,g=a-s,m=p(l*h),_=p(f*g),E=p(l*g),b=p(h*f);return new y(m,_,b,E)}add(e){_(e);const{a:t,d:n}=d,{X:r,Y:o,Z:s,T:i}=this,{X:a,Y:c,Z:u,T:l}=e,f=p(r*a),h=p(o*c),g=p(i*n*l),m=p(s*u),E=p((r+o)*(a+c)-f-h),b=m-g,w=m+g,S=p(h-t*f),R=p(E*b),A=p(w*S),T=p(E*S),O=p(b*w);return new y(R,A,O,T)}subtract(e){return this.add(e.negate())}multiply(e){if(!l.isValidNot0(e))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:t,f:n}=w.cached(this,e,e=>(0,o.normalizeZ)(y,e));return(0,o.normalizeZ)(y,[t,n])[0]}multiplyUnsafe(e,t=y.ZERO){if(!l.isValid(e))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return e===i?y.ZERO:this.is0()||e===a?this:w.unsafe(this,e,e=>(0,o.normalizeZ)(y,e),t)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return w.unsafe(this,d.n).is0()}toAffine(e){return E(this,e)}clearCofactor(){return f===a?this:this.multiplyUnsafe(f)}toBytes(){const{x:e,y:t}=this.toAffine(),n=s.toBytes(t);return n[n.length-1]|=e&a?128:0,n}toHex(){return(0,r.bytesToHex)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return(0,o.normalizeZ)(y,e)}static msm(e,t){return(0,o.pippenger)(y,l,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}y.BASE=new y(d.Gx,d.Gy,a,p(d.Gx*d.Gy)),y.ZERO=new y(i,a,a,i),y.Fp=s,y.Fn=l;const w=new o.wNAF(y,l.BITS);return y.BASE.precompute(8),y}function d(e,t,n={}){if("function"!=typeof t)throw new Error('"hash" function param is required');(0,r._validateObject)(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:o}=n,{BASE:s,Fp:i,Fn:c}=e,u=n.randomBytes||r.randomBytes,l=n.adjustScalarBytes||(e=>e),d=n.domain||((e,t,n)=>{if((0,r._abool2)(n,"phflag"),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function f(e){return c.create((0,r.bytesToNumberLE)(e))}function h(e){const{head:n,prefix:o,scalar:i}=function(e){const n=E.secretKey;e=(0,r.ensureBytes)("private key",e,n);const o=(0,r.ensureBytes)("hashed private key",t(e),2*n),s=l(o.slice(0,n));return{head:s,prefix:o.slice(n,2*n),scalar:f(s)}}(e),a=s.multiply(i),c=a.toBytes();return{head:n,prefix:o,scalar:i,point:a,pointBytes:c}}function p(e){return h(e).pointBytes}function g(e=Uint8Array.of(),...n){const s=(0,r.concatBytes)(...n);return f(t(d(s,(0,r.ensureBytes)("context",e),!!o)))}const m={zip215:!0};const _=i.BYTES,E={secretKey:_,publicKey:_,signature:2*_,seed:_};function b(e=u(E.seed)){return(0,r._abytes2)(e,E.seed,"seed")}const y={getExtendedPublicKey:h,randomSecretKey:b,isValidSecretKey:function(e){return(0,r.isBytes)(e)&&e.length===c.BYTES},isValidPublicKey:function(t,n){try{return!!e.fromBytes(t,n)}catch(e){return!1}},toMontgomery(t){const{y:n}=e.fromBytes(t),r=E.publicKey,o=32===r;if(!o&&57!==r)throw new Error("only defined for 25519 and 448");const s=o?i.div(a+n,a-n):i.div(n-a,n+a);return i.toBytes(s)},toMontgomerySecret(e){const n=E.secretKey;(0,r._abytes2)(e,n);const o=t(e.subarray(0,n));return l(o).subarray(0,n)},randomPrivateKey:b,precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({keygen:function(e){const t=y.randomSecretKey(e);return{secretKey:t,publicKey:p(t)}},getPublicKey:p,sign:function(e,t,n={}){e=(0,r.ensureBytes)("message",e),o&&(e=o(e));const{prefix:i,scalar:a,pointBytes:u}=h(t),l=g(n.context,i,e),d=s.multiply(l).toBytes(),f=g(n.context,d,u,e),p=c.create(l+f*a);if(!c.isValid(p))throw new Error("sign failed: invalid s");const m=(0,r.concatBytes)(d,c.toBytes(p));return(0,r._abytes2)(m,E.signature,"result")},verify:function(t,n,i,a=m){const{context:c,zip215:u}=a,l=E.signature;t=(0,r.ensureBytes)("signature",t,l),n=(0,r.ensureBytes)("message",n),i=(0,r.ensureBytes)("publicKey",i,E.publicKey),u!==undefined&&(0,r._abool2)(u,"zip215"),o&&(n=o(n));const d=l/2,f=t.subarray(0,d),h=(0,r.bytesToNumberLE)(t.subarray(d,l));let p,_,b;try{p=e.fromBytes(i,u),_=e.fromBytes(f,u),b=s.multiplyUnsafe(h)}catch(e){return!1}if(!u&&p.isSmallOrder())return!1;const y=g(c,_.toBytes(),p.toBytes(),n);return _.add(p.multiplyUnsafe(y)).subtract(b).clearCofactor().is0()},utils:y,Point:e,lengths:E})}n.PrimeEdwardsPoint=class{constructor(e){this.ep=e}static fromBytes(e){(0,r.notImplemented)()}static fromHex(e){(0,r.notImplemented)()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return(0,r.bytesToHex)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/edwards.js"}],[2943,{"../utils.js":2950,"./modular.js":2944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n._DST_scalar=void 0,n.expand_message_xmd=l,n.expand_message_xof=d,n.hash_to_field=f,n.isogenyMap=function(e,t){const n=t.map(e=>Array.from(e).reverse());return(t,r)=>{const[s,i,a,c]=n.map(n=>n.reduce((n,r)=>e.add(e.mul(n,t),r))),[u,l]=(0,o.FpInvertBatch)(e,[i,c],!0);return t=e.mul(s,u),r=e.mul(r,e.mul(a,l)),{x:t,y:r}}},n.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");function o(n){return e.fromAffine(t(n))}function s(t){const n=t.clearCofactor();return n.equals(e.ZERO)?e.ZERO:(n.assertValidity(),n)}return{defaults:r,hashToCurve(e,t){const n=f(e,2,Object.assign({},r,t)),i=o(n[0]),a=o(n[1]);return s(i.add(a))},encodeToCurve(e,t){const n=r.encodeDST?{DST:r.encodeDST}:{};return s(o(f(e,1,Object.assign({},r,n,t))[0]))},mapToCurve(e){if(!Array.isArray(e))throw new Error("expected array of bigints");for(const t of e)if("bigint"!=typeof t)throw new Error("expected array of bigints");return s(o(e))},hashToScalar(t,o){const s=e.Fn.ORDER;return f(t,1,Object.assign({},r,{p:s,m:1,DST:n._DST_scalar},o))[0][0]}}};const r=e("../utils.js"),o=e("./modular.js"),s=r.bytesToNumberBE;function i(e,t){if(c(e),c(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function a(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e){if(!(0,r.isBytes)(e)&&"string"!=typeof e)throw new Error("DST must be Uint8Array or string");return"string"==typeof e?(0,r.utf8ToBytes)(e):e}function l(e,t,n,o){(0,r.abytes)(e),c(n),(t=u(t)).length>255&&(t=o((0,r.concatBytes)((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:l}=o,d=Math.ceil(n/s);if(n>65535||d>255)throw new Error("expand_message_xmd: invalid lenInBytes");const f=(0,r.concatBytes)(t,i(t.length,1)),h=i(0,l),p=i(n,2),g=new Array(d),m=o((0,r.concatBytes)(h,e,p,i(0,1),f));g[0]=o((0,r.concatBytes)(m,i(1,1),f));for(let e=1;e<=d;e++){const t=[a(m,g[e-1]),i(e+1,1),f];g[e]=o((0,r.concatBytes)(...t))}return(0,r.concatBytes)(...g).slice(0,n)}function d(e,t,n,o,s){if((0,r.abytes)(e),c(n),(t=u(t)).length>255){const e=Math.ceil(2*o/8);t=s.create({dkLen:e}).update((0,r.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(i(n,2)).update(t).update(i(t.length,1)).digest()}function f(e,t,n){(0,r._validateObject)(n,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:i,k:a,m:u,hash:f,expand:h,DST:p}=n;if(!(0,r.isHash)(n.hash))throw new Error("expected valid hash");(0,r.abytes)(e),c(t);const g=i.toString(2).length,m=Math.ceil((g+a)/8),_=t*u*m;let E;if("xmd"===h)E=l(e,p,_,f);else if("xof"===h)E=d(e,p,_,a,f);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');E=e}const b=new Array(t);for(let e=0;e<t;e++){const t=new Array(u);for(let n=0;n<u;n++){const r=m*(n+e*u),a=E.subarray(r,r+m);t[n]=(0,o.mod)(s(a),i)}b[e]=t}return b}n._DST_scalar=(0,r.utf8ToBytes)("HashToScalar-")}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2944,{"../utils.js":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNegativeLE=void 0,n.mod=p,n.pow=function(e,t,n){return S(O(n),e,t)},n.pow2=function(e,t,n){let r=e;for(;t-- >o;)r*=r,r%=n;return r},n.invert=g,n.tonelliShanks=b,n.FpSqrt=y,n.validateField=function(e){const t=w.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,r._validateObject)(e,t),e},n.FpPow=S,n.FpInvertBatch=R,n.FpDiv=function(e,t,n){return e.mul(t,"bigint"==typeof n?g(n,e.ORDER):e.inv(n))},n.FpLegendre=A,n.FpIsSquare=function(e,t){return 1===A(e,t)},n.nLength=T,n.Field=O,n.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},n.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},n.hashToPrivateScalar=function(e,t,n=!1){const o=(e=(0,r.ensureBytes)("privateHash",e)).length,i=T(t).nByteLength+8;if(i<24||o<i||o>1024)throw new Error("hashToPrivateScalar: expected "+i+"-1024 bytes of input, got "+o);return p(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-s)+s},n.getFieldBytesLength=v,n.getMinHashLength=I,n.mapHashToField=function(e,t,n=!1){const o=e.length,i=v(t),a=I(t);if(o<16||o<a||o>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+o);const c=p(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-s)+s;return n?(0,r.numberToBytesLE)(c,i):(0,r.numberToBytesBE)(c,i)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("../utils.js"),o=BigInt(0),s=BigInt(1),i=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),l=BigInt(7),d=BigInt(8),f=BigInt(9),h=BigInt(16);function p(e,t){const n=e%t;return n>=o?n:t+n}function g(e,t){if(e===o)throw new Error("invert: expected non-zero number");if(t<=o)throw new Error("invert: expected positive modulus, got "+t);let n=p(e,t),r=t,i=o,a=s,c=s,u=o;for(;n!==o;){const e=r/n,t=r%n,o=i-c*e,s=a-u*e;r=n,n=t,i=c,a=u,c=o,u=s}if(r!==s)throw new Error("invert: does not exist");return p(i,t)}function m(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function _(e,t){const n=(e.ORDER+s)/c,r=e.pow(t,n);return m(e,r,t),r}function E(e,t){const n=(e.ORDER-u)/d,r=e.mul(t,i),o=e.pow(r,n),s=e.mul(t,o),a=e.mul(e.mul(s,i),o),c=e.mul(s,e.sub(a,e.ONE));return m(e,c,t),c}function b(e){if(e<a)throw new Error("sqrt is not defined for small field");let t=e-s,n=0;for(;t%i===o;)t/=i,n++;let r=i;const c=O(e);for(;1===A(c,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return _;let u=c.pow(r,t);const l=(t+s)/i;return function(e,r){if(e.is0(r))return r;if(1!==A(e,r))throw new Error("Cannot find square root");let o=n,i=e.mul(e.ONE,u),a=e.pow(r,t),c=e.pow(r,l);for(;!e.eql(a,e.ONE);){if(e.is0(a))return e.ZERO;let t=1,n=e.sqr(a);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===o)throw new Error("Cannot find square root");const r=s<<BigInt(o-t-1),u=e.pow(i,r);o=t,i=e.sqr(u),a=e.mul(a,i),c=e.mul(c,u)}return c}}function y(e){return e%c===a?_:e%d===u?E:e%h===f?function(e){const t=O(e),n=b(e),r=n(t,t.neg(t.ONE)),o=n(t,r),s=n(t,t.neg(r)),i=(e+l)/h;return(e,t)=>{let n=e.pow(t,i),a=e.mul(n,r);const c=e.mul(n,o),u=e.mul(n,s),l=e.eql(e.sqr(a),t),d=e.eql(e.sqr(c),t);n=e.cmov(n,a,l),a=e.cmov(u,c,d);const f=e.eql(e.sqr(a),t),h=e.cmov(n,a,f);return m(e,h,t),h}}(e):b(e)}n.isNegativeLE=(e,t)=>(p(e,t)&s)===s;const w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function S(e,t,n){if(n<o)throw new Error("invalid exponent, negatives unsupported");if(n===o)return e.ONE;if(n===s)return t;let r=e.ONE,i=t;for(;n>o;)n&s&&(r=e.mul(r,i)),i=e.sqr(i),n>>=s;return r}function R(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:undefined),o=t.reduce((t,n,o)=>e.is0(n)?t:(r[o]=t,e.mul(t,n)),e.ONE),s=e.inv(o);return t.reduceRight((t,n,o)=>e.is0(n)?t:(r[o]=e.mul(t,r[o]),e.mul(t,n)),s),r}function A(e,t){const n=(e.ORDER-s)/i,r=e.pow(t,n),o=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),c=e.eql(r,e.neg(e.ONE));if(!o&&!a&&!c)throw new Error("invalid Legendre symbol result");return o?1:a?0:-1}function T(e,t){t!==undefined&&(0,r.anumber)(t);const n=t!==undefined?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function O(e,t,n=!1,i={}){if(e<=o)throw new Error("invalid field: expected ORDER > 0, got "+e);let a=undefined,c=undefined,u=!1,l=undefined;if("object"==typeof t&&null!=t){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(a=e.BITS),e.sqrt&&(c=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(u=e.modFromBytes),l=e.allowedLengths}else"number"==typeof t&&(a=t),i.sqrt&&(c=i.sqrt);const{nBitLength:d,nByteLength:f}=T(e,a);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const m=Object.freeze({ORDER:e,isLE:n,BITS:d,BYTES:f,MASK:(0,r.bitMask)(d),ZERO:o,ONE:s,allowedLengths:l,create:t=>p(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return o<=t&&t<e},is0:e=>e===o,isValidNot0:e=>!m.is0(e)&&m.isValid(e),isOdd:e=>(e&s)===s,neg:t=>p(-t,e),eql:(e,t)=>e===t,sqr:t=>p(t*t,e),add:(t,n)=>p(t+n,e),sub:(t,n)=>p(t-n,e),mul:(t,n)=>p(t*n,e),pow:(e,t)=>S(m,e,t),div:(t,n)=>p(t*g(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>g(t,e),sqrt:c||(t=>(h||(h=y(e)),h(m,t))),toBytes:e=>n?(0,r.numberToBytesLE)(e,f):(0,r.numberToBytesBE)(e,f),fromBytes:(t,o=!0)=>{if(l){if(!l.includes(t.length)||t.length>f)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);const e=new Uint8Array(f);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+t.length);let s=n?(0,r.bytesToNumberLE)(t):(0,r.bytesToNumberBE)(t);if(u&&(s=p(s,e)),!o&&!m.isValid(s))throw new Error("invalid field element: outside of range 0..ORDER");return s},invertBatch:e=>R(m,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(m)}function v(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function I(e){const t=v(e);return t+Math.ceil(t/2)}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/modular.js"}],[2945,{"../utils.js":2950,"./modular.js":2944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.montgomery=function(e){const t=(h=e,(0,r._validateObject)(h,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...h})),{P:n,type:c,adjustScalarBytes:u,powPminus2:l,randomBytes:d}=t,f="x25519"===c;var h;if(!f&&"x448"!==c)throw new Error("invalid type");const p=d||r.randomBytes,g=f?255:448,m=f?32:56,_=f?BigInt(9):BigInt(5),E=f?BigInt(121665):BigInt(39081),b=f?a**BigInt(254):a**BigInt(447),y=f?BigInt(8)*a**BigInt(251)-i:BigInt(4)*a**BigInt(445)-i,w=b+y+i,S=e=>(0,o.mod)(e,n),R=A(_);function A(e){return(0,r.numberToBytesLE)(S(e),m)}function T(e,t){const o=function(e,t){(0,r.aInRange)("u",e,s,n),(0,r.aInRange)("scalar",t,b,w);const o=t,a=e;let c=i,u=s,d=e,f=i,h=s;for(let e=BigInt(g-1);e>=s;e--){const t=o>>e&i;h^=t,({x_2:c,x_3:d}=v(h,c,d)),({x_2:u,x_3:f}=v(h,u,f)),h=t;const n=c+u,r=S(n*n),s=c-u,l=S(s*s),p=r-l,g=d+f,m=S((d-f)*n),_=S(g*s),b=m+_,y=m-_;d=S(b*b),f=S(a*S(y*y)),c=S(r*l),u=S(p*(r+S(E*p)))}({x_2:c,x_3:d}=v(h,c,d)),({x_2:u,x_3:f}=v(h,u,f));const p=l(u);return S(c*p)}(function(e){const t=(0,r.ensureBytes)("u coordinate",e,m);return f&&(t[31]&=127),S((0,r.bytesToNumberLE)(t))}(t),function(e){return(0,r.bytesToNumberLE)(u((0,r.ensureBytes)("scalar",e,m)))}(e));if(o===s)throw new Error("invalid private or public key received");return A(o)}function O(e){return T(e,R)}function v(e,t,n){const r=S(e*(t-n));return{x_2:t=S(t-r),x_3:n=S(n+r)}}const I={secretKey:m,publicKey:m,seed:m},N=(e=p(m))=>((0,r.abytes)(e,I.seed),e);return{keygen:function(e){const t=N(e);return{secretKey:t,publicKey:O(t)}},getSharedSecret:(e,t)=>T(e,t),getPublicKey:e=>O(e),scalarMult:T,scalarMultBase:O,utils:{randomSecretKey:N,randomPrivateKey:N},GuBytes:R.slice(),lengths:I}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("../utils.js"),o=e("./modular.js"),s=BigInt(0),i=BigInt(1),a=BigInt(2)}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/montgomery.js"}],[2946,{"../utils.js":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHash=n.validateObject=n.memoized=n.notImplemented=n.createHmacDrbg=n.bitMask=n.bitSet=n.bitGet=n.bitLen=n.aInRange=n.inRange=n.asciiToBytes=n.copyBytes=n.equalBytes=n.ensureBytes=n.numberToVarBytesBE=n.numberToBytesLE=n.numberToBytesBE=n.bytesToNumberLE=n.bytesToNumberBE=n.hexToNumber=n.numberToHexUnpadded=n.abool=n.utf8ToBytes=n.randomBytes=n.isBytes=n.hexToBytes=n.concatBytes=n.bytesToUtf8=n.bytesToHex=n.anumber=n.abytes=void 0;const r=e("../utils.js");n.abytes=r.abytes,n.anumber=r.anumber,n.bytesToHex=r.bytesToHex,n.bytesToUtf8=r.bytesToUtf8,n.concatBytes=r.concatBytes,n.hexToBytes=r.hexToBytes,n.isBytes=r.isBytes,n.randomBytes=r.randomBytes,n.utf8ToBytes=r.utf8ToBytes,n.abool=r.abool,n.numberToHexUnpadded=r.numberToHexUnpadded,n.hexToNumber=r.hexToNumber,n.bytesToNumberBE=r.bytesToNumberBE,n.bytesToNumberLE=r.bytesToNumberLE,n.numberToBytesBE=r.numberToBytesBE,n.numberToBytesLE=r.numberToBytesLE,n.numberToVarBytesBE=r.numberToVarBytesBE,n.ensureBytes=r.ensureBytes,n.equalBytes=r.equalBytes,n.copyBytes=r.copyBytes,n.asciiToBytes=r.asciiToBytes,n.inRange=r.inRange,n.aInRange=r.aInRange,n.bitLen=r.bitLen,n.bitGet=r.bitGet,n.bitSet=r.bitSet,n.bitMask=r.bitMask,n.createHmacDrbg=r.createHmacDrbg,n.notImplemented=r.notImplemented,n.memoized=r.memoized,n.validateObject=r.validateObject,n.isHash=r.isHash}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/utils.js"}],[2947,{"../utils.js":2950,"./curve.js":2941,"./modular.js":2944,"@noble/hashes/hmac.js":2955,"@noble/hashes/utils":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DER=n.DERErr=void 0,n._splitEndoScalar=u,n._normFnElement=E,n.weierstrassN=b,n.SWUFpSqrtRatio=w,n.mapToCurveSimpleSWU=function(e,t){(0,a.validateField)(e);const{A:n,B:r,Z:o}=t;if(!e.isValid(n)||!e.isValid(r)||!e.isValid(o))throw new Error("mapToCurveSimpleSWU: invalid opts");const s=w(e,o);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return t=>{let i,c,u,l,d,f,h,p;i=e.sqr(t),i=e.mul(i,o),c=e.sqr(i),c=e.add(c,i),u=e.add(c,e.ONE),u=e.mul(u,r),l=e.cmov(o,e.neg(c),!e.eql(c,e.ZERO)),l=e.mul(l,n),c=e.sqr(u),f=e.sqr(l),d=e.mul(f,n),c=e.add(c,d),c=e.mul(c,u),f=e.mul(f,l),d=e.mul(f,r),c=e.add(c,d),h=e.mul(i,u);const{isValid:g,value:m}=s(c,f);p=e.mul(i,t),p=e.mul(p,m),h=e.cmov(h,u,g),p=e.cmov(p,m,g);const _=e.isOdd(t)===e.isOdd(p);p=e.cmov(e.neg(p),p,_);const E=(0,a.FpInvertBatch)(e,[l],!0)[0];return h=e.mul(h,E),{x:h,y:p}}},n.ecdh=R,n.ecdsa=A,n.weierstrassPoints=function(e){const{CURVE:t,curveOpts:n}=T(e),r=b(t,n);return function(e,t){const{Fp:n,Fn:r}=t;function o(e){return(0,s.inRange)(e,p,r.ORDER)}const i=O(n,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:e=>E(r,e),weierstrassEquation:i,isWithinCurveOrder:o})}(e,r)},n._legacyHelperEquat=O,n.weierstrass=function(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:o}=function(e){const{CURVE:t,curveOpts:n}=T(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}(e),s=A(b(t,n),r,o);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,(0,a.nLength)(n.Fn.ORDER,n.Fn.BITS))})}(e,s)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/hmac.js"),o=e("@noble/hashes/utils"),s=e("../utils.js"),i=e("./curve.js"),a=e("./modular.js"),c=(e,t)=>(e+(e>=0?t:-t)/g)/t;function u(e,t,n){const[[r,o],[i,a]]=t,u=c(a*e,n),l=c(-o*e,n);let d=e-u*r-l*i,f=-u*o-l*a;const g=d<h,m=f<h;g&&(d=-d),m&&(f=-f);const _=(0,s.bitMask)(Math.ceil((0,s.bitLen)(n)/2))+p;if(d<h||d>=_||f<h||f>=_)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:g,k1:d,k2neg:m,k2:f}}function l(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function d(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===undefined?t[r]:e[r];return(0,s._abool2)(n.lowS,"lowS"),(0,s._abool2)(n.prehash,"prehash"),n.format!==undefined&&l(n.format),n}class f extends Error{constructor(e=""){super(e)}}n.DERErr=f,n.DER={Err:f,_tlv:{encode:(e,t)=>{const{Err:r}=n.DER;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const o=t.length/2,i=(0,s.numberToHexUnpadded)(o);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const a=o>127?(0,s.numberToHexUnpadded)(i.length/2|128):"";return(0,s.numberToHexUnpadded)(e)+a+i+t},decode(e,t){const{Err:r}=n.DER;let o=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[o++]!==e)throw new r("tlv.decode: wrong tlv");const s=t[o++];let i=0;if(!!(128&s)){const e=127&s;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const n=t.subarray(o,o+e);if(n.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===n[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of n)i=i<<8|e;if(o+=e,i<128)throw new r("tlv.decode(long): not minimal encoding")}else i=s;const a=t.subarray(o,o+i);if(a.length!==i)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(o+i)}}},_int:{encode(e){const{Err:t}=n.DER;if(e<h)throw new t("integer: negative integers are not allowed");let r=(0,s.numberToHexUnpadded)(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=n.DER;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,s.bytesToNumberBE)(e)}},toSig(e){const{Err:t,_int:r,_tlv:o}=n.DER,i=(0,s.ensureBytes)("signature",e),{v:a,l:c}=o.decode(48,i);if(c.length)throw new t("invalid signature: left bytes after parsing");const{v:u,l:l}=o.decode(2,a),{v:d,l:f}=o.decode(2,l);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(u),s:r.decode(d)}},hexFromSig(e){const{_tlv:t,_int:r}=n.DER,o=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,o)}};const h=BigInt(0),p=BigInt(1),g=BigInt(2),m=BigInt(3),_=BigInt(4);function E(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let o=(0,s.ensureBytes)("private key",t);try{r=e.fromBytes(o)}catch(e){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function b(e,t={}){const n=(0,i._createCurveFields)("weierstrass",e,t),{Fp:r,Fn:o}=n;let a=n.CURVE;const{h:c,n:l}=a;(0,s._validateObject)(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=t;if(d&&(!r.is0(a.a)||"bigint"!=typeof d.beta||!Array.isArray(d.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const f=S(r,o);function g(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const b=t.toBytes||function(e,t,n){const{x:o,y:i}=t.toAffine(),a=r.toBytes(o);if((0,s._abool2)(n,"isCompressed"),n){g();const e=!r.isOdd(i);return(0,s.concatBytes)(y(e),a)}return(0,s.concatBytes)(Uint8Array.of(4),a,r.toBytes(i))},w=t.fromBytes||function(e){(0,s._abytes2)(e,undefined,"Point");const{publicKey:t,publicKeyUncompressed:n}=f,o=e.length,i=e[0],a=e.subarray(1);if(o!==t||2!==i&&3!==i){if(o===n&&4===i){const e=r.BYTES,t=r.fromBytes(a.subarray(0,e)),n=r.fromBytes(a.subarray(e,2*e));if(!A(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${o}, expected compressed=${t} or uncompressed=${n}`)}{const e=r.fromBytes(a);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=R(e);let n;try{n=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}g();return!(1&~i)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function R(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,a.a)),a.b)}function A(e,t){const n=r.sqr(t),o=R(e);return r.eql(n,o)}if(!A(a.Gx,a.Gy))throw new Error("bad curve params: generator point");const T=r.mul(r.pow(a.a,m),_),O=r.mul(r.sqr(a.b),BigInt(27));if(r.is0(r.add(T,O)))throw new Error("bad curve params: a or b");function v(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function I(e){if(!(e instanceof L))throw new Error("ProjectivePoint expected")}function N(e){if(!d||!d.basises)throw new Error("no endo");return u(e,d.basises,o.ORDER)}const C=(0,s.memoized)((e,t)=>{const{X:n,Y:o,Z:s}=e;if(r.eql(s,r.ONE))return{x:n,y:o};const i=e.is0();null==t&&(t=i?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(o,t),u=r.mul(s,t);if(i)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),x=(0,s.memoized)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:o}=e.toAffine();if(!r.isValid(n)||!r.isValid(o))throw new Error("bad point: x or y not field elements");if(!A(n,o))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function P(e,t,n,o,s){return n=new L(r.mul(n.X,e),n.Y,n.Z),t=(0,i.negateCt)(o,t),n=(0,i.negateCt)(s,n),t.add(n)}class L{constructor(e,t,n){this.X=v("x",e),this.Y=v("y",t,!0),this.Z=v("z",n),Object.freeze(this)}static CURVE(){return a}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof L)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?L.ZERO:new L(t,n,r.ONE)}static fromBytes(e){const t=L.fromAffine(w((0,s._abytes2)(e,undefined,"point")));return t.assertValidity(),t}static fromHex(e){return L.fromBytes((0,s.ensureBytes)("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return k.createCache(this,e),t||this.multiply(m),this}assertValidity(){x(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){I(e);const{X:t,Y:n,Z:o}=this,{X:s,Y:i,Z:a}=e,c=r.eql(r.mul(t,a),r.mul(s,o)),u=r.eql(r.mul(n,a),r.mul(i,o));return c&&u}negate(){return new L(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=a,n=r.mul(t,m),{X:o,Y:s,Z:i}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,d=r.mul(o,o),f=r.mul(s,s),h=r.mul(i,i),p=r.mul(o,s);return p=r.add(p,p),l=r.mul(o,i),l=r.add(l,l),c=r.mul(e,l),u=r.mul(n,h),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(p,c),l=r.mul(n,l),h=r.mul(e,h),p=r.sub(d,h),p=r.mul(e,p),p=r.add(p,l),l=r.add(d,d),d=r.add(l,d),d=r.add(d,h),d=r.mul(d,p),u=r.add(u,d),h=r.mul(s,i),h=r.add(h,h),d=r.mul(h,p),c=r.sub(c,d),l=r.mul(h,f),l=r.add(l,l),l=r.add(l,l),new L(c,u,l)}add(e){I(e);const{X:t,Y:n,Z:o}=this,{X:s,Y:i,Z:c}=e;let u=r.ZERO,l=r.ZERO,d=r.ZERO;const f=a.a,h=r.mul(a.b,m);let p=r.mul(t,s),g=r.mul(n,i),_=r.mul(o,c),E=r.add(t,n),b=r.add(s,i);E=r.mul(E,b),b=r.add(p,g),E=r.sub(E,b),b=r.add(t,o);let y=r.add(s,c);return b=r.mul(b,y),y=r.add(p,_),b=r.sub(b,y),y=r.add(n,o),u=r.add(i,c),y=r.mul(y,u),u=r.add(g,_),y=r.sub(y,u),d=r.mul(f,b),u=r.mul(h,_),d=r.add(u,d),u=r.sub(g,d),d=r.add(g,d),l=r.mul(u,d),g=r.add(p,p),g=r.add(g,p),_=r.mul(f,_),b=r.mul(h,b),g=r.add(g,_),_=r.sub(p,_),_=r.mul(f,_),b=r.add(b,_),p=r.mul(g,b),l=r.add(l,p),p=r.mul(y,b),u=r.mul(E,u),u=r.sub(u,p),p=r.mul(E,g),d=r.mul(y,d),d=r.add(d,p),new L(u,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(L.ZERO)}multiply(e){const{endo:n}=t;if(!o.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,s;const a=e=>k.cached(this,e,e=>(0,i.normalizeZ)(L,e));if(n){const{k1neg:t,k1:o,k2neg:i,k2:c}=N(e),{p:u,f:l}=a(o),{p:d,f:f}=a(c);s=l.add(f),r=P(n.beta,u,d,t,i)}else{const{p:t,f:n}=a(e);r=t,s=n}return(0,i.normalizeZ)(L,[r,s])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!o.isValid(e))throw new Error("invalid scalar: out of range");if(e===h||r.is0())return L.ZERO;if(e===p)return r;if(k.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:o,k2neg:s,k2:a}=N(e),{p1:c,p2:u}=(0,i.mulEndoUnsafe)(L,r,o,a);return P(n.beta,c,u,t,s)}return k.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?undefined:r}toAffine(e){return C(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return c===p||(e?e(L,this):k.unsafe(this,l).is0())}clearCofactor(){const{clearCofactor:e}=t;return c===p?this:e?e(L,this):this.multiplyUnsafe(c)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}toBytes(e=!0){return(0,s._abool2)(e,"isCompressed"),this.assertValidity(),b(L,this,e)}toHex(e=!0){return(0,s.bytesToHex)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return(0,i.normalizeZ)(L,e)}static msm(e,t){return(0,i.pippenger)(L,o,e,t)}static fromPrivateKey(e){return L.BASE.multiply(E(o,e))}}L.BASE=new L(a.Gx,a.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=o;const B=o.BITS,k=new i.wNAF(L,t.endo?Math.ceil(B/2):B);return L.BASE.precompute(8),L}function y(e){return Uint8Array.of(e?2:3)}function w(e,t){const n=e.ORDER;let r=h;for(let e=n-p;e%g===h;e/=g)r+=p;const o=r,s=g<<o-p-p,i=s*g,a=(n-p)/i,c=(a-p)/g,u=i-p,l=s,d=e.pow(t,a),f=e.pow(t,(a+p)/g);let E=(t,n)=>{let r=d,s=e.pow(n,u),i=e.sqr(s);i=e.mul(i,n);let a=e.mul(t,i);a=e.pow(a,c),a=e.mul(a,s),s=e.mul(a,n),i=e.mul(a,t);let h=e.mul(i,s);a=e.pow(h,l);let m=e.eql(a,e.ONE);s=e.mul(i,f),a=e.mul(h,r),i=e.cmov(s,i,m),h=e.cmov(a,h,m);for(let t=o;t>p;t--){let n=t-g;n=g<<n-p;let o=e.pow(h,n);const a=e.eql(o,e.ONE);s=e.mul(i,r),r=e.mul(r,r),o=e.mul(h,r),i=e.cmov(s,i,a),h=e.cmov(o,h,a)}return{isValid:m,value:i}};if(e.ORDER%_===m){const n=(e.ORDER-m)/_,r=e.sqrt(e.neg(t));E=(t,o)=>{let s=e.sqr(o);const i=e.mul(t,o);s=e.mul(s,i);let a=e.pow(s,n);a=e.mul(a,i);const c=e.mul(a,r),u=e.mul(e.sqr(a),o),l=e.eql(u,t);return{isValid:l,value:e.cmov(c,a,l)}}}return E}function S(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function R(e,t={}){const{Fn:n}=e,r=t.randomBytes||s.randomBytes,o=Object.assign(S(e.Fp,n),{seed:(0,a.getMinHashLength)(n.ORDER)});function i(e){try{return!!E(n,e)}catch(e){return!1}}function c(e=r(o.seed)){return(0,a.mapHashToField)((0,s._abytes2)(e,o.seed,"seed"),n.ORDER)}function u(t,r=!0){return e.BASE.multiply(E(n,t)).toBytes(r)}function l(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:i,publicKeyUncompressed:a}=o;if(n.allowedLengths||r===i)return undefined;const c=(0,s.ensureBytes)("key",t).length;return c===i||c===a}const d={isValidSecretKey:i,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:s}=o;try{const o=t.length;return(!0!==n||o===r)&&((!1!==n||o===s)&&!!e.fromBytes(t))}catch(e){return!1}},randomSecretKey:c,isValidPrivateKey:i,randomPrivateKey:c,normPrivateKeyToScalar:e=>E(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({getPublicKey:u,getSharedSecret:function(t,r,o=!0){if(!0===l(t))throw new Error("first arg must be private key");if(!1===l(r))throw new Error("second arg must be public key");const s=E(n,t);return e.fromHex(r).multiply(s).toBytes(o)},keygen:function(e){const t=c(e);return{secretKey:t,publicKey:u(t)}},Point:e,utils:d,lengths:o})}function A(e,t,i={}){(0,o.ahash)(t),(0,s._validateObject)(i,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const a=i.randomBytes||s.randomBytes,c=i.hmac||((e,...n)=>(0,r.hmac)(t,e,(0,s.concatBytes)(...n))),{Fp:u,Fn:f}=e,{ORDER:m,BITS:_}=f,{keygen:b,getPublicKey:w,getSharedSecret:S,utils:A,lengths:T}=R(e,i),O={prehash:!1,lowS:"boolean"==typeof i.lowS&&i.lowS,format:undefined,extraEntropy:!1},v="compact";function I(e){return e>m>>p}function N(e,t){if(!f.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class C{constructor(e,t,n){this.r=N("r",e),this.s=N("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=v){let r;if(function(e,t){l(t);const n=T.signature,r="compact"===t?n:"recovered"===t?n+1:undefined;(0,s._abytes2)(e,r,`${t} signature`)}(e,t),"der"===t){const{r:t,s:r}=n.DER.toSig((0,s._abytes2)(e));return new C(t,r)}"recovered"===t&&(r=e[0],t="compact",e=e.subarray(1));const o=f.BYTES,i=e.subarray(0,o),a=e.subarray(o,2*o);return new C(f.fromBytes(i),f.fromBytes(a),r)}static fromHex(e,t){return this.fromBytes((0,s.hexToBytes)(e),t)}addRecoveryBit(e){return new C(this.r,this.s,e)}recoverPublicKey(t){const n=u.ORDER,{r:r,s:o,recovery:i}=this;if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");if(m*g<n&&i>1)throw new Error("recovery id is ambiguous for h>1 curve");const a=2===i||3===i?r+m:r;if(!u.isValid(a))throw new Error("recovery id 2 or 3 invalid");const c=u.toBytes(a),l=e.fromBytes((0,s.concatBytes)(y(!(1&i)),c)),d=f.inv(a),h=P((0,s.ensureBytes)("msgHash",t)),p=f.create(-h*d),_=f.create(o*d),E=e.BASE.multiplyUnsafe(p).add(l.multiplyUnsafe(_));if(E.is0())throw new Error("point at infinify");return E.assertValidity(),E}hasHighS(){return I(this.s)}toBytes(e=v){if(l(e),"der"===e)return(0,s.hexToBytes)(n.DER.hexFromSig(this));const t=f.toBytes(this.r),r=f.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return(0,s.concatBytes)(Uint8Array.of(this.recovery),t,r)}return(0,s.concatBytes)(t,r)}toHex(e){return(0,s.bytesToHex)(this.toBytes(e))}assertValidity(){}static fromCompact(e){return C.fromBytes((0,s.ensureBytes)("sig",e),"compact")}static fromDER(e){return C.fromBytes((0,s.ensureBytes)("sig",e),"der")}normalizeS(){return this.hasHighS()?new C(this.r,f.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,s.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,s.bytesToHex)(this.toBytes("compact"))}}const x=i.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=(0,s.bytesToNumberBE)(e),n=8*e.length-_;return n>0?t>>BigInt(n):t},P=i.bits2int_modN||function(e){return f.create(x(e))},L=(0,s.bitMask)(_);function B(e){return(0,s.aInRange)("num < 2^"+_,e,h,L),f.toBytes(e)}function k(e,n){return(0,s._abytes2)(e,undefined,"message"),n?(0,s._abytes2)(t(e),undefined,"prehashed message"):e}return Object.freeze({keygen:b,getPublicKey:w,getSharedSecret:S,utils:A,lengths:T,Point:e,sign:function(n,r,o={}){n=(0,s.ensureBytes)("message",n);const{seed:i,k2sig:u}=function(t,n,r){if(["recovered","canonical"].some(e=>e in r))throw new Error("sign() legacy options not supported");const{lowS:o,prehash:i,extraEntropy:c}=d(r,O);t=k(t,i);const u=P(t),l=E(f,n),g=[B(l),B(u)];if(null!=c&&!1!==c){const e=!0===c?a(T.secretKey):c;g.push((0,s.ensureBytes)("extraEntropy",e))}const m=(0,s.concatBytes)(...g),_=u;return{seed:m,k2sig:function(t){const n=x(t);if(!f.isValidNot0(n))return;const r=f.inv(n),s=e.BASE.multiply(n).toAffine(),i=f.create(s.x);if(i===h)return;const a=f.create(r*f.create(_+i*l));if(a===h)return;let c=(s.x===i?0:2)|Number(s.y&p),u=a;return o&&I(a)&&(u=f.neg(a),c^=1),new C(i,u,c)}}}(n,r,o);return(0,s.createHmacDrbg)(t.outputLen,f.BYTES,c)(i,u)},verify:function(t,r,o,i={}){const{lowS:a,prehash:c,format:u}=d(i,O);if(o=(0,s.ensureBytes)("publicKey",o),r=k((0,s.ensureBytes)("message",r),c),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=u===undefined?function(e){let t=undefined;const r="string"==typeof e||(0,s.isBytes)(e),o=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!o)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(o)t=new C(e.r,e.s);else if(r){try{t=C.fromBytes((0,s.ensureBytes)("sig",e),"der")}catch(e){if(!(e instanceof n.DER.Err))throw e}if(!t)try{t=C.fromBytes((0,s.ensureBytes)("sig",e),"compact")}catch(e){return!1}}return t||!1}(t):C.fromBytes((0,s.ensureBytes)("sig",t),u);if(!1===l)return!1;try{const t=e.fromBytes(o);if(a&&l.hasHighS())return!1;const{r:n,s:s}=l,i=P(r),c=f.inv(s),u=f.create(i*c),d=f.create(n*c),h=e.BASE.multiplyUnsafe(u).add(t.multiplyUnsafe(d));if(h.is0())return!1;return f.create(h.x)===n}catch(e){return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:r}=d(n,O);return t=k(t,r),C.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:C,hash:t})}function T(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):undefined;return{CURVE:t,curveOpts:{Fp:n,Fn:(0,a.Field)(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}function O(e,t,n){return function(r){const o=e.sqr(r),s=e.mul(o,r);return e.add(e.add(s,e.mul(r,t)),n)}}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/abstract/weierstrass.js"}],[2948,{"./abstract/curve.js":2941,"./abstract/edwards.js":2942,"./abstract/hash-to-curve.js":2943,"./abstract/modular.js":2944,"./abstract/montgomery.js":2945,"./utils.js":2950,"@noble/hashes/sha2.js":2960,"@noble/hashes/utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.encodeToCurve=n.hashToCurve=n.RistrettoPoint=n.edwardsToMontgomery=n.ED25519_TORSION_SUBGROUP=n.ristretto255_hasher=n.ristretto255=n.ed25519_hasher=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=void 0,n.edwardsToMontgomeryPub=z,n.edwardsToMontgomeryPriv=function(e){return n.ed25519.utils.toMontgomerySecret((0,l.ensureBytes)("pub",e))};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/sha2.js"),o=e("@noble/hashes/utils.js"),s=e("./abstract/curve.js"),i=e("./abstract/edwards.js"),a=e("./abstract/hash-to-curve.js"),c=e("./abstract/modular.js"),u=e("./abstract/montgomery.js"),l=e("./utils.js"),d=BigInt(0),f=BigInt(1),h=BigInt(2),p=BigInt(3),g=BigInt(5),m=BigInt(8),_=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),E=(()=>({p:_,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:m,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function b(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),o=BigInt(80),s=_,i=e*e%s*e%s,a=(0,c.pow2)(i,h,s)*i%s,u=(0,c.pow2)(a,f,s)*e%s,l=(0,c.pow2)(u,g,s)*u%s,d=(0,c.pow2)(l,t,s)*l%s,p=(0,c.pow2)(d,n,s)*d%s,m=(0,c.pow2)(p,r,s)*p%s,E=(0,c.pow2)(m,o,s)*m%s,b=(0,c.pow2)(E,o,s)*m%s,y=(0,c.pow2)(b,t,s)*l%s;return{pow_p_5_8:(0,c.pow2)(y,h,s)*e%s,b2:i}}function y(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const w=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function S(e,t){const n=_,r=(0,c.mod)(t*t*t,n),o=b(e*(0,c.mod)(r*r*t,n)).pow_p_5_8;let s=(0,c.mod)(e*r*o,n);const i=(0,c.mod)(t*s*s,n),a=s,u=(0,c.mod)(s*w,n),l=i===e,d=i===(0,c.mod)(-e,n),f=i===(0,c.mod)(-e*w,n);return l&&(s=a),(d||f)&&(s=u),(0,c.isNegativeLE)(s,n)&&(s=(0,c.mod)(-s,n)),{isValid:l||d,value:s}}const R=(()=>(0,c.Field)(E.p,{isLE:!0}))(),A=(()=>(0,c.Field)(E.n,{isLE:!0}))(),T=(()=>({...E,Fp:R,hash:r.sha512,adjustScalarBytes:y,uvRatio:S}))();function O(e,t,n){if(t.length>255)throw new Error("Context is too big");return(0,o.concatBytes)((0,o.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}n.ed25519=(0,i.twistedEdwards)(T),n.ed25519ctx=(0,i.twistedEdwards)({...T,domain:O}),n.ed25519ph=(0,i.twistedEdwards)(Object.assign({},T,{domain:O,prehash:r.sha512})),n.x25519=(()=>{const e=R.ORDER;return(0,u.montgomery)({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=b(t);return(0,c.mod)((0,c.pow2)(n,p,e)*r,e)},adjustScalarBytes:y})})();const v=(()=>(_+p)/m)(),I=(()=>R.pow(h,v))(),N=(()=>R.sqrt(R.neg(R.ONE)))();const C=(()=>(0,c.FpSqrtEven)(R,R.neg(BigInt(486664))))();function x(e){const{xMn:t,xMd:n,yMn:r,yMd:o}=function(e){const t=(_-g)/m,n=BigInt(486662);let r=R.sqr(e);r=R.mul(r,h);let o=R.add(r,R.ONE),s=R.neg(n),i=R.sqr(o),a=R.mul(i,o),c=R.mul(r,n);c=R.mul(c,s),c=R.add(c,i),c=R.mul(c,s);let u=R.sqr(a);i=R.sqr(u),u=R.mul(u,a),u=R.mul(u,c),i=R.mul(i,u);let l=R.pow(i,t);l=R.mul(l,u);let d=R.mul(l,N);i=R.sqr(l),i=R.mul(i,a);let p=R.eql(i,c),E=R.cmov(d,l,p),b=R.mul(s,r),y=R.mul(l,e);y=R.mul(y,I);let w=R.mul(y,N),S=R.mul(c,r);i=R.sqr(y),i=R.mul(i,a);let A=R.eql(i,S),T=R.cmov(w,y,A);i=R.sqr(E),i=R.mul(i,a);let O=R.eql(i,c),v=R.cmov(b,s,O),C=R.cmov(T,E,O),x=R.isOdd(C);return C=R.cmov(C,R.neg(C),O!==x),{xMn:v,xMd:o,yMn:C,yMd:f}}(e);let s=R.mul(t,o);s=R.mul(s,C);let i=R.mul(n,r),a=R.sub(t,n),u=R.add(t,n),l=R.mul(i,u),d=R.eql(l,R.ZERO);s=R.cmov(s,R.ZERO,d),i=R.cmov(i,R.ONE,d),a=R.cmov(a,R.ONE,d),u=R.cmov(u,R.ONE,d);const[p,E]=(0,c.FpInvertBatch)(R,[i,u],!0);return{x:R.mul(s,p),y:R.mul(a,E)}}n.ed25519_hasher=(0,a.createHasher)(n.ed25519.Point,e=>x(e[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:_,m:1,k:128,expand:"xmd",hash:r.sha512});const P=w,L=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),B=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),k=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),U=e=>S(f,e),M=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),j=e=>n.ed25519.Point.Fp.create((0,l.bytesToNumberLE)(e)&M);function F(e){const{d:t}=E,r=_,o=e=>R.create(e),s=o(P*e*e),i=o((s+f)*k);let a=BigInt(-1);const u=o((a-t*s)*o(s+t));let{isValid:l,value:d}=S(i,u),h=o(d*e);(0,c.isNegativeLE)(h,r)||(h=o(-h)),l||(d=h),l||(a=s);const p=o(a*(s-f)*D-u),g=d*d,m=o((d+d)*u),b=o(p*L),y=o(f-g),w=o(f+g);return new n.ed25519.Point(o(m*w),o(y*b),o(b*w),o(m*y))}function H(e){(0,o.abytes)(e,64);const t=F(j(e.subarray(0,32))),n=F(j(e.subarray(32,64)));return new G(t.add(n))}class G extends i.PrimeEdwardsPoint{constructor(e){super(e)}static fromAffine(e){return new G(n.ed25519.Point.fromAffine(e))}assertSame(e){if(!(e instanceof G))throw new Error("RistrettoPoint expected")}init(e){return new G(e)}static hashToCurve(e){return H((0,l.ensureBytes)("ristrettoHash",e,64))}static fromBytes(e){(0,o.abytes)(e,32);const{a:t,d:r}=E,s=_,i=e=>R.create(e),a=j(e);if(!(0,l.equalBytes)(R.toBytes(a),e)||(0,c.isNegativeLE)(a,s))throw new Error("invalid ristretto255 encoding 1");const u=i(a*a),h=i(f+t*u),p=i(f-t*u),g=i(h*h),m=i(p*p),b=i(t*r*g-m),{isValid:y,value:w}=U(i(b*m)),S=i(w*p),A=i(w*S*b);let T=i((a+a)*S);(0,c.isNegativeLE)(T,s)&&(T=i(-T));const O=i(h*A),v=i(T*O);if(!y||(0,c.isNegativeLE)(v,s)||O===d)throw new Error("invalid ristretto255 encoding 2");return new G(new n.ed25519.Point(T,O,f,v))}static fromHex(e){return G.fromBytes((0,l.ensureBytes)("ristrettoHex",e,32))}static msm(e,t){return(0,s.pippenger)(G,n.ed25519.Point.Fn,e,t)}toBytes(){let{X:e,Y:t,Z:n,T:r}=this.ep;const o=_,s=e=>R.create(e),i=s(s(n+t)*s(n-t)),a=s(e*t),u=s(a*a),{value:l}=U(s(i*u)),d=s(l*i),f=s(l*a),h=s(d*f*r);let p;if((0,c.isNegativeLE)(r*h,o)){let n=s(t*P),r=s(e*P);e=n,t=r,p=s(d*B)}else p=f;(0,c.isNegativeLE)(e*h,o)&&(t=s(-t));let g=s((n-t)*p);return(0,c.isNegativeLE)(g,o)&&(g=s(-g)),R.toBytes(g)}equals(e){this.assertSame(e);const{X:t,Y:n}=this.ep,{X:r,Y:o}=e.ep,s=e=>R.create(e),i=s(t*o)===s(n*r),a=s(n*o)===s(t*r);return i||a}is0(){return this.equals(G.ZERO)}}function z(e){return n.ed25519.utils.toMontgomery((0,l.ensureBytes)("pub",e))}G.BASE=(()=>new G(n.ed25519.Point.BASE))(),G.ZERO=(()=>new G(n.ed25519.Point.ZERO))(),G.Fp=(()=>R)(),G.Fn=(()=>A)(),n.ristretto255={Point:G},n.ristretto255_hasher={hashToCurve(e,t){const n=t?.DST||"ristretto255_XMD:SHA-512_R255MAP_RO_";return H((0,a.expand_message_xmd)(e,n,64,r.sha512))},hashToScalar(e,t={DST:a._DST_scalar}){const n=(0,a.expand_message_xmd)(e,t.DST,64,r.sha512);return A.create((0,l.bytesToNumberLE)(n))}},n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],n.edwardsToMontgomery=z,n.RistrettoPoint=G,n.hashToCurve=n.ed25519_hasher.hashToCurve,n.encodeToCurve=n.ed25519_hasher.encodeToCurve,n.hashToRistretto255=n.ristretto255_hasher.hashToCurve,n.hash_to_ristretto255=n.ristretto255_hasher.hashToCurve}}},{package:"@noble/curves",file:"node_modules/@noble/curves/ed25519.js"}],[2949,{"./_shortw_utils.js":2940,"./abstract/hash-to-curve.js":2943,"./abstract/modular.js":2944,"./abstract/weierstrass.js":2947,"./utils.js":2950,"@noble/hashes/sha2.js":2960,"@noble/hashes/utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.encodeToCurve=n.hashToCurve=n.secp256k1_hasher=n.schnorr=n.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/sha2.js"),o=e("@noble/hashes/utils.js"),s=e("./_shortw_utils.js"),i=e("./abstract/hash-to-curve.js"),a=e("./abstract/modular.js"),c=e("./abstract/weierstrass.js"),u=e("./utils.js"),l={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},d={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},f=BigInt(0),h=BigInt(1),p=BigInt(2);const g=(0,a.Field)(l.p,{sqrt:function(e){const t=l.p,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,f=d*d*e%t,h=(0,a.pow2)(f,n,t)*f%t,m=(0,a.pow2)(h,n,t)*f%t,_=(0,a.pow2)(m,p,t)*d%t,E=(0,a.pow2)(_,o,t)*_%t,b=(0,a.pow2)(E,s,t)*E%t,y=(0,a.pow2)(b,c,t)*b%t,w=(0,a.pow2)(y,u,t)*y%t,S=(0,a.pow2)(w,c,t)*b%t,R=(0,a.pow2)(S,n,t)*f%t,A=(0,a.pow2)(R,i,t)*E%t,T=(0,a.pow2)(A,r,t)*d%t,O=(0,a.pow2)(T,p,t);if(!g.eql(g.sqr(O),e))throw new Error("Cannot find square root");return O}});n.secp256k1=(0,s.createCurve)({...l,Fp:g,lowS:!0,endo:d},r.sha256);const m={};function _(e,...t){let n=m[e];if(n===undefined){const t=(0,r.sha256)((0,u.utf8ToBytes)(e));n=(0,u.concatBytes)(t,t),m[e]=n}return(0,r.sha256)((0,u.concatBytes)(n,...t))}const E=e=>e.toBytes(!0).slice(1),b=(()=>n.secp256k1.Point)(),y=e=>e%p===f;function w(e){const{Fn:t,BASE:n}=b,r=(0,c._normFnElement)(t,e),o=n.multiply(r);return{scalar:y(o.y)?r:t.neg(r),bytes:E(o)}}function S(e){const t=g;if(!t.isValidNot0(e))throw new Error("invalid x: Fail if x  p");const n=t.create(e*e),r=t.create(n*e+BigInt(7));let o=t.sqrt(r);y(o)||(o=t.neg(o));const s=b.fromAffine({x:e,y:o});return s.assertValidity(),s}const R=u.bytesToNumberBE;function A(...e){return b.Fn.create(R(_("BIP0340/challenge",...e)))}function T(e){return w(e).bytes}function O(e,t,n=(0,o.randomBytes)(32)){const{Fn:r}=b,s=(0,u.ensureBytes)("message",e),{bytes:i,scalar:a}=w(t),c=(0,u.ensureBytes)("auxRand",n,32),l=r.toBytes(a^R(_("BIP0340/aux",c))),d=_("BIP0340/nonce",l,i,s),{bytes:f,scalar:h}=w(d),p=A(f,i,s),g=new Uint8Array(64);if(g.set(f,0),g.set(r.toBytes(r.create(h+p*a)),32),!v(g,s,i))throw new Error("sign: Invalid signature produced");return g}function v(e,t,n){const{Fn:r,BASE:o}=b,s=(0,u.ensureBytes)("signature",e,64),i=(0,u.ensureBytes)("message",t),a=(0,u.ensureBytes)("publicKey",n,32);try{const e=S(R(a)),t=R(s.subarray(0,32));if(!(0,u.inRange)(t,h,l.p))return!1;const n=R(s.subarray(32,64));if(!(0,u.inRange)(n,h,l.n))return!1;const c=A(r.toBytes(t),E(e),i),d=o.multiplyUnsafe(n).add(e.multiplyUnsafe(r.neg(c))),{x:f,y:p}=d.toAffine();return!(d.is0()||!y(p)||f!==t)}catch(e){return!1}}n.schnorr=(()=>{const e=(e=(0,o.randomBytes)(48))=>(0,a.mapHashToField)(e,l.n);return n.secp256k1.utils.randomSecretKey,{keygen:function(t){const n=e(t);return{secretKey:n,publicKey:T(n)}},getPublicKey:T,sign:O,verify:v,Point:b,utils:{randomSecretKey:e,randomPrivateKey:e,taggedHash:_,lift_x:S,pointToBytes:E,numberToBytesBE:u.numberToBytesBE,bytesToNumberBE:u.bytesToNumberBE,mod:a.mod},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:64,seed:48}}})();const I=(()=>(0,i.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))))(),N=(()=>(0,c.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))();n.secp256k1_hasher=(0,i.createHasher)(n.secp256k1.Point,e=>{const{x:t,y:n}=N(g.create(e[0]));return I(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256}),n.hashToCurve=n.secp256k1_hasher.hashToCurve,n.encodeToCurve=n.secp256k1_hasher.encodeToCurve}}},{package:"@noble/curves",file:"node_modules/@noble/curves/secp256k1.js"}],[2950,{"@noble/hashes/utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.notImplemented=n.bitMask=n.utf8ToBytes=n.randomBytes=n.isBytes=n.hexToBytes=n.concatBytes=n.bytesToUtf8=n.bytesToHex=n.anumber=n.abytes=void 0,n.abool=function(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)},n._abool2=function(e,t=""){if("boolean"!=typeof e){throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e)}return e},n._abytes2=function(e,t,n=""){const o=(0,r.isBytes)(e),s=e?.length,i=t!==undefined;if(!o||i&&s!==t){throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(i?` of length ${t}`:"")+", got "+(o?`length=${s}`:"type="+typeof e))}return e},n.numberToHexUnpadded=a,n.hexToNumber=c,n.bytesToNumberBE=function(e){return c((0,r.bytesToHex)(e))},n.bytesToNumberLE=function(e){return(0,r.abytes)(e),c((0,r.bytesToHex)(Uint8Array.from(e).reverse()))},n.numberToBytesBE=u,n.numberToBytesLE=function(e,t){return u(e,t).reverse()},n.numberToVarBytesBE=function(e){return(0,r.hexToBytes)(a(e))},n.ensureBytes=function(e,t,n){let o;if("string"==typeof t)try{o=(0,r.hexToBytes)(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!(0,r.isBytes)(t))throw new Error(e+" must be hex string or Uint8Array");o=Uint8Array.from(t)}const s=o.length;if("number"==typeof n&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return o},n.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},n.copyBytes=function(e){return Uint8Array.from(e)},n.asciiToBytes=function(e){return Uint8Array.from(e,(t,n)=>{const r=t.charCodeAt(0);if(1!==t.length||r>127)throw new Error(`string contains non-ASCII character "${e[n]}" with code ${r} at position ${n}`);return r})},n.inRange=d,n.aInRange=function(e,t,n,r){if(!d(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)},n.bitLen=function(e){let t;for(t=0;e>s;e>>=i,t+=1);return t},n.bitGet=function(e,t){return e>>BigInt(t)&i},n.bitSet=function(e,t,n){return e|(n?i:s)<<BigInt(t)},n.createHmacDrbg=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const o=e=>new Uint8Array(e),s=e=>Uint8Array.of(e);let i=o(e),a=o(e),c=0;const u=()=>{i.fill(1),a.fill(0),c=0},l=(...e)=>n(a,i,...e),d=(e=o(0))=>{a=l(s(0),e),i=l(),0!==e.length&&(a=l(s(1),e),i=l())},f=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){i=l();const t=i.slice();n.push(t),e+=i.length}return(0,r.concatBytes)(...n)};return(e,t)=>{u(),d(e);let n=undefined;for(;!(n=t(f()));)d();return u(),n}},n.validateObject=function(e,t,n={}){const r=(t,n,r)=>{const o=f[n];if("function"!=typeof o)throw new Error("invalid validator function");const s=e[t];if(!(r&&s===undefined||o(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e},n.isHash=function(e){return"function"==typeof e&&Number.isSafeInteger(e.outputLen)},n._validateObject=function(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const o=e[t];if(r&&o===undefined)return;const s=typeof o;if(s!==n||null===o)throw new Error(`param "${t}" is invalid: expected ${n}, got ${s}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))},n.memoized=function(e){const t=new WeakMap;return(n,...r)=>{const o=t.get(n);if(o!==undefined)return o;const s=e(n,...r);return t.set(n,s),s}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/utils.js");var o=e("@noble/hashes/utils.js");Object.defineProperty(n,"abytes",{enumerable:!0,get:function(){return o.abytes}}),Object.defineProperty(n,"anumber",{enumerable:!0,get:function(){return o.anumber}}),Object.defineProperty(n,"bytesToHex",{enumerable:!0,get:function(){return o.bytesToHex}}),Object.defineProperty(n,"bytesToUtf8",{enumerable:!0,get:function(){return o.bytesToUtf8}}),Object.defineProperty(n,"concatBytes",{enumerable:!0,get:function(){return o.concatBytes}}),Object.defineProperty(n,"hexToBytes",{enumerable:!0,get:function(){return o.hexToBytes}}),Object.defineProperty(n,"isBytes",{enumerable:!0,get:function(){return o.isBytes}}),Object.defineProperty(n,"randomBytes",{enumerable:!0,get:function(){return o.randomBytes}}),Object.defineProperty(n,"utf8ToBytes",{enumerable:!0,get:function(){return o.utf8ToBytes}});const s=BigInt(0),i=BigInt(1);function a(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function c(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}function u(e,t){return(0,r.hexToBytes)(e.toString(16).padStart(2*t,"0"))}const l=e=>"bigint"==typeof e&&s<=e;function d(e,t,n){return l(e)&&l(t)&&l(n)&&t<=e&&e<n}n.bitMask=e=>(i<<BigInt(e))-i;const f={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||(0,r.isBytes)(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};n.notImplemented=()=>{throw new Error("not implemented")}}}},{package:"@noble/curves",file:"node_modules/@noble/curves/utils.js"}],[2951,{"./utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SHA512_IV=n.SHA384_IV=n.SHA224_IV=n.SHA256_IV=n.HashMD=void 0,n.setBigUint64=o,n.Chi=function(e,t,n){return e&t^~e&n},n.Maj=function(e,t,n){return e&t^e&n^t&n};const r=e("./utils.js");function o(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}class s extends r.Hash{constructor(e,t,n,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.buffer=new Uint8Array(e),this.view=(0,r.createView)(this.buffer)}update(e){(0,r.aexists)(this),e=(0,r.toBytes)(e),(0,r.abytes)(e);const{view:t,buffer:n,blockLen:o}=this,s=e.length;for(let i=0;i<s;){const a=Math.min(o-this.pos,s-i);if(a===o){const t=(0,r.createView)(e);for(;o<=s-i;i+=o)this.process(t,i);continue}n.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;t[a++]=128,(0,r.clean)(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(n,0),a=0);for(let e=a;e<s;e++)t[e]=0;o(n,s-8,BigInt(8*this.length),i),this.process(n,0);const c=(0,r.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:s,pos:i}=this;return e.destroyed=s,e.finished=o,e.length=r,e.pos=i,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}n.HashMD=s,n.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),n.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),n.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),n.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_md.js"}],[2952,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toBig=n.shrSL=n.shrSH=n.rotrSL=n.rotrSH=n.rotrBL=n.rotrBH=n.rotr32L=n.rotr32H=n.rotlSL=n.rotlSH=n.rotlBL=n.rotlBH=n.add5L=n.add5H=n.add4L=n.add4H=n.add3L=n.add3H=void 0,n.add=y,n.fromBig=s,n.split=i;const r=BigInt(2**32-1),o=BigInt(32);function s(e,t=!1){return t?{h:Number(e&r),l:Number(e>>o&r)}:{h:0|Number(e>>o&r),l:0|Number(e&r)}}function i(e,t=!1){const n=e.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let i=0;i<n;i++){const{h:n,l:a}=s(e[i],t);[r[i],o[i]]=[n,a]}return[r,o]}const a=(e,t)=>BigInt(e>>>0)<<o|BigInt(t>>>0);n.toBig=a;const c=(e,t,n)=>e>>>n;n.shrSH=c;const u=(e,t,n)=>e<<32-n|t>>>n;n.shrSL=u;const l=(e,t,n)=>e>>>n|t<<32-n;n.rotrSH=l;const d=(e,t,n)=>e<<32-n|t>>>n;n.rotrSL=d;const f=(e,t,n)=>e<<64-n|t>>>n-32;n.rotrBH=f;const h=(e,t,n)=>e>>>n-32|t<<64-n;n.rotrBL=h;const p=(e,t)=>t;n.rotr32H=p;const g=(e,t)=>e;n.rotr32L=g;const m=(e,t,n)=>e<<n|t>>>32-n;n.rotlSH=m;const _=(e,t,n)=>t<<n|e>>>32-n;n.rotlSL=_;const E=(e,t,n)=>t<<n-32|e>>>64-n;n.rotlBH=E;const b=(e,t,n)=>e<<n-32|t>>>64-n;function y(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}}n.rotlBL=b;const w=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);n.add3L=w;const S=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;n.add3H=S;const R=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);n.add4L=R;const A=(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0;n.add4H=A;const T=(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0);n.add5L=T;const O=(e,t,n,r,o,s)=>t+n+r+o+s+(e/2**32|0)|0;n.add5H=O;const v={fromBig:s,split:i,toBig:a,shrSH:c,shrSL:u,rotrSH:l,rotrSL:d,rotrBH:f,rotrBL:h,rotr32H:p,rotr32L:g,rotlSH:m,rotlSL:_,rotlBH:E,rotlBL:b,add:y,add3L:w,add3H:S,add4L:R,add4H:A,add5H:O,add5L:T};n.default=v}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_u64.js"}],[2953,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/crypto.js"}],[2954,{"./hmac.js":2955,"./utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hkdf=void 0,n.extract=s,n.expand=c;const r=e("./hmac.js"),o=e("./utils.js");function s(e,t,n){return(0,o.ahash)(e),n===undefined&&(n=new Uint8Array(e.outputLen)),(0,r.hmac)(e,(0,o.toBytes)(n),(0,o.toBytes)(t))}const i=Uint8Array.from([0]),a=Uint8Array.of();function c(e,t,n,s=32){(0,o.ahash)(e),(0,o.anumber)(s);const c=e.outputLen;if(s>255*c)throw new Error("Length should be <= 255*HashLen");const u=Math.ceil(s/c);n===undefined&&(n=a);const l=new Uint8Array(u*c),d=r.hmac.create(e,t),f=d._cloneInto(),h=new Uint8Array(d.outputLen);for(let e=0;e<u;e++)i[0]=e+1,f.update(0===e?a:h).update(n).update(i).digestInto(h),l.set(h,c*e),d._cloneInto(f);return d.destroy(),f.destroy(),(0,o.clean)(h,i),l.slice(0,s)}n.hkdf=(e,t,n,r,o)=>c(e,s(e,t,n),r,o)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/hkdf.js"}],[2955,{"./utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hmac=n.HMAC=void 0;const r=e("./utils.js");class o extends r.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.ahash)(e);const n=(0,r.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),(0,r.clean)(s)}update(e){return(0,r.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,r.aexists)(this),(0,r.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:s,outputLen:i}=this;return e.finished=r,e.destroyed=o,e.blockLen=s,e.outputLen=i,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}n.HMAC=o;n.hmac=(e,t,n)=>new o(e,t).update(n).digest(),n.hmac.create=(e,t)=>new o(e,t)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/hmac.js"}],[2956,{"./_md.js":2951,"./utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ripemd160=n.RIPEMD160=n.md5=n.MD5=n.sha1=n.SHA1=void 0;const r=e("./_md.js"),o=e("./utils.js"),s=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),i=new Uint32Array(80);class a extends r.HashMD{constructor(){super(64,20,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4]}get(){const{A:e,B:t,C:n,D:r,E:o}=this;return[e,t,n,r,o]}set(e,t,n,r,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)i[n]=e.getUint32(t,!1);for(let e=16;e<80;e++)i[e]=(0,o.rotl)(i[e-3]^i[e-8]^i[e-14]^i[e-16],1);let{A:n,B:s,C:a,D:c,E:u}=this;for(let e=0;e<80;e++){let t,l;e<20?(t=(0,r.Chi)(s,a,c),l=1518500249):e<40?(t=s^a^c,l=1859775393):e<60?(t=(0,r.Maj)(s,a,c),l=2400959708):(t=s^a^c,l=3395469782);const d=(0,o.rotl)(n,5)+t+u+l+i[e]|0;u=c,c=a,a=(0,o.rotl)(s,30),s=n,n=d}n=n+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,this.set(n,s,a,c,u)}roundClean(){(0,o.clean)(i)}destroy(){this.set(0,0,0,0,0),(0,o.clean)(this.buffer)}}n.SHA1=a,n.sha1=(0,o.createHasher)(()=>new a);const c=Math.pow(2,32),u=Array.from({length:64},(e,t)=>Math.floor(c*Math.abs(Math.sin(t+1)))),l=s.slice(0,4),d=new Uint32Array(16);class f extends r.HashMD{constructor(){super(64,16,8,!0),this.A=0|l[0],this.B=0|l[1],this.C=0|l[2],this.D=0|l[3]}get(){const{A:e,B:t,C:n,D:r}=this;return[e,t,n,r]}set(e,t,n,r){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r}process(e,t){for(let n=0;n<16;n++,t+=4)d[n]=e.getUint32(t,!0);let{A:n,B:s,C:i,D:a}=this;for(let e=0;e<64;e++){let t,c,l;e<16?(t=(0,r.Chi)(s,i,a),c=e,l=[7,12,17,22]):e<32?(t=(0,r.Chi)(a,s,i),c=(5*e+1)%16,l=[5,9,14,20]):e<48?(t=s^i^a,c=(3*e+5)%16,l=[4,11,16,23]):(t=i^(s|~a),c=7*e%16,l=[6,10,15,21]),t=t+n+u[e]+d[c],n=a,a=i,i=s,s+=(0,o.rotl)(t,l[e%4])}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,this.set(n,s,i,a)}roundClean(){(0,o.clean)(d)}destroy(){this.set(0,0,0,0),(0,o.clean)(this.buffer)}}n.MD5=f,n.md5=(0,o.createHasher)(()=>new f);const h=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),p=(()=>Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)))(),g=(()=>p.map(e=>(9*e+5)%16))(),m=(()=>{const e=[[p],[g]];for(let t=0;t<4;t++)for(let n of e)n.push(n[t].map(e=>h[e]));return e})(),_=(()=>m[0])(),E=(()=>m[1])(),b=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),y=_.map((e,t)=>e.map(e=>b[t][e])),w=E.map((e,t)=>e.map(e=>b[t][e])),S=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),R=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function A(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const T=new Uint32Array(16);class O extends r.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:o}=this;return[e,t,n,r,o]}set(e,t,n,r,o){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)T[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,s=0|this.h1,i=s,a=0|this.h2,c=a,u=0|this.h3,l=u,d=0|this.h4,f=d;for(let e=0;e<5;e++){const t=4-e,h=S[e],p=R[e],g=_[e],m=E[e],b=y[e],O=w[e];for(let t=0;t<16;t++){const r=(0,o.rotl)(n+A(e,s,a,u)+T[g[t]]+h,b[t])+d|0;n=d,d=u,u=0|(0,o.rotl)(a,10),a=s,s=r}for(let e=0;e<16;e++){const n=(0,o.rotl)(r+A(t,i,c,l)+T[m[e]]+p,O[e])+f|0;r=f,f=l,l=0|(0,o.rotl)(c,10),c=i,i=n}}this.set(this.h1+a+l|0,this.h2+u+f|0,this.h3+d+r|0,this.h4+n+i|0,this.h0+s+c|0)}roundClean(){(0,o.clean)(T)}destroy(){this.destroyed=!0,(0,o.clean)(this.buffer),this.set(0,0,0,0,0)}}n.RIPEMD160=O,n.ripemd160=(0,o.createHasher)(()=>new O)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/legacy.js"}],[2957,{"./hmac.js":2955,"./utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pbkdf2=function(e,t,n,r){const{c:a,dkLen:c,DK:u,PRF:l,PRFSalt:d}=s(e,t,n,r);let f;const h=new Uint8Array(4),p=(0,o.createView)(h),g=new Uint8Array(l.outputLen);for(let e=1,t=0;t<c;e++,t+=l.outputLen){const n=u.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(f=d._cloneInto(f)).update(h).digestInto(g),n.set(g.subarray(0,n.length));for(let e=1;e<a;e++){l._cloneInto(f).update(g).digestInto(g);for(let e=0;e<n.length;e++)n[e]^=g[e]}}return i(l,d,u,f,g)},n.pbkdf2Async=async function(e,t,n,r){const{c:a,dkLen:c,asyncTick:u,DK:l,PRF:d,PRFSalt:f}=s(e,t,n,r);let h;const p=new Uint8Array(4),g=(0,o.createView)(p),m=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){const n=l.subarray(t,t+d.outputLen);g.setInt32(0,e,!1),(h=f._cloneInto(h)).update(p).digestInto(m),n.set(m.subarray(0,n.length)),await(0,o.asyncLoop)(a-1,u,()=>{d._cloneInto(h).update(m).digestInto(m);for(let e=0;e<n.length;e++)n[e]^=m[e]})}return i(d,f,l,h,m)};const r=e("./hmac.js"),o=e("./utils.js");function s(e,t,n,s){(0,o.ahash)(e);const i=(0,o.checkOpts)({dkLen:32,asyncTick:10},s),{c:a,dkLen:c,asyncTick:u}=i;if((0,o.anumber)(a),(0,o.anumber)(c),(0,o.anumber)(u),a<1)throw new Error("iterations (c) should be >= 1");const l=(0,o.kdfInputToBytes)(t),d=(0,o.kdfInputToBytes)(n),f=new Uint8Array(c),h=r.hmac.create(e,l),p=h._cloneInto().update(d);return{c:a,dkLen:c,asyncTick:u,DK:f,PRF:h,PRFSalt:p}}function i(e,t,n,r,s){return e.destroy(),t.destroy(),r&&r.destroy(),(0,o.clean)(s),n}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/pbkdf2.js"}],[2958,{"./legacy.js":2956},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ripemd160=n.RIPEMD160=void 0;const r=e("./legacy.js");n.RIPEMD160=r.RIPEMD160,n.ripemd160=r.ripemd160}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/ripemd160.js"}],[2959,{"./pbkdf2.js":2957,"./sha2.js":2960,"./utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.scrypt=function(e,t,n){const{N:r,r:o,p:i,dkLen:l,blockSize32:d,V:f,B32:h,B:p,tmp:g,blockMixCb:m}=c(e,t,n);(0,s.swap32IfBE)(h);for(let e=0;e<i;e++){const t=d*e;for(let e=0;e<d;e++)f[e]=h[t+e];for(let e=0,t=0;e<r-1;e++)a(f,t,f,t+=d,o),m();a(f,(r-1)*d,h,t,o),m();for(let e=0;e<r;e++){const e=h[t+d-16]%r;for(let n=0;n<d;n++)g[n]=h[t+n]^f[e*d+n];a(g,0,h,t,o),m()}}return(0,s.swap32IfBE)(h),u(e,l,p,f,g)},n.scryptAsync=async function(e,t,n){const{N:r,r:o,p:i,dkLen:l,blockSize32:d,V:f,B32:h,B:p,tmp:g,blockMixCb:m,asyncTick:_}=c(e,t,n);(0,s.swap32IfBE)(h);for(let e=0;e<i;e++){const t=d*e;for(let e=0;e<d;e++)f[e]=h[t+e];let n=0;await(0,s.asyncLoop)(r-1,_,()=>{a(f,n,f,n+=d,o),m()}),a(f,(r-1)*d,h,t,o),m(),await(0,s.asyncLoop)(r,_,()=>{const e=h[t+d-16]%r;for(let n=0;n<d;n++)g[n]=h[t+n]^f[e*d+n];a(g,0,h,t,o),m()})}return(0,s.swap32IfBE)(h),u(e,l,p,f,g)};const r=e("./pbkdf2.js"),o=e("./sha2.js"),s=e("./utils.js");function i(e,t,n,r,o,i){let a=e[t++]^n[r++],c=e[t++]^n[r++],u=e[t++]^n[r++],l=e[t++]^n[r++],d=e[t++]^n[r++],f=e[t++]^n[r++],h=e[t++]^n[r++],p=e[t++]^n[r++],g=e[t++]^n[r++],m=e[t++]^n[r++],_=e[t++]^n[r++],E=e[t++]^n[r++],b=e[t++]^n[r++],y=e[t++]^n[r++],w=e[t++]^n[r++],S=e[t++]^n[r++],R=a,A=c,T=u,O=l,v=d,I=f,N=h,C=p,x=g,P=m,L=_,B=E,k=b,D=y,U=w,M=S;for(let e=0;e<8;e+=2)v^=(0,s.rotl)(R+k|0,7),x^=(0,s.rotl)(v+R|0,9),k^=(0,s.rotl)(x+v|0,13),R^=(0,s.rotl)(k+x|0,18),P^=(0,s.rotl)(I+A|0,7),D^=(0,s.rotl)(P+I|0,9),A^=(0,s.rotl)(D+P|0,13),I^=(0,s.rotl)(A+D|0,18),U^=(0,s.rotl)(L+N|0,7),T^=(0,s.rotl)(U+L|0,9),N^=(0,s.rotl)(T+U|0,13),L^=(0,s.rotl)(N+T|0,18),O^=(0,s.rotl)(M+B|0,7),C^=(0,s.rotl)(O+M|0,9),B^=(0,s.rotl)(C+O|0,13),M^=(0,s.rotl)(B+C|0,18),A^=(0,s.rotl)(R+O|0,7),T^=(0,s.rotl)(A+R|0,9),O^=(0,s.rotl)(T+A|0,13),R^=(0,s.rotl)(O+T|0,18),N^=(0,s.rotl)(I+v|0,7),C^=(0,s.rotl)(N+I|0,9),v^=(0,s.rotl)(C+N|0,13),I^=(0,s.rotl)(v+C|0,18),B^=(0,s.rotl)(L+P|0,7),x^=(0,s.rotl)(B+L|0,9),P^=(0,s.rotl)(x+B|0,13),L^=(0,s.rotl)(P+x|0,18),k^=(0,s.rotl)(M+U|0,7),D^=(0,s.rotl)(k+M|0,9),U^=(0,s.rotl)(D+k|0,13),M^=(0,s.rotl)(U+D|0,18);o[i++]=a+R|0,o[i++]=c+A|0,o[i++]=u+T|0,o[i++]=l+O|0,o[i++]=d+v|0,o[i++]=f+I|0,o[i++]=h+N|0,o[i++]=p+C|0,o[i++]=g+x|0,o[i++]=m+P|0,o[i++]=_+L|0,o[i++]=E+B|0,o[i++]=b+k|0,o[i++]=y+D|0,o[i++]=w+U|0,o[i++]=S+M|0}function a(e,t,n,r,o){let s=r+0,a=r+16*o;for(let r=0;r<16;r++)n[a+r]=e[t+16*(2*o-1)+r];for(let r=0;r<o;r++,s+=16,t+=16)i(n,a,e,t,n,s),r>0&&(a+=16),i(n,s,e,t+=16,n,a)}function c(e,t,n){const i=(0,s.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:a,r:c,p:u,dkLen:l,asyncTick:d,maxmem:f,onProgress:h}=i;if((0,s.anumber)(a),(0,s.anumber)(c),(0,s.anumber)(u),(0,s.anumber)(l),(0,s.anumber)(d),(0,s.anumber)(f),h!==undefined&&"function"!=typeof h)throw new Error("progressCb should be function");const p=128*c,g=p/4,m=Math.pow(2,32);if(a<=1||a&a-1||a>m)throw new Error("Scrypt: N must be larger than 1, a power of 2, and less than 2^32");if(u<0||u>32*(m-1)/p)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(l<0||l>32*(m-1))throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");if(p*(a+u)>f)throw new Error("Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of "+f);const _=(0,r.pbkdf2)(o.sha256,e,t,{c:1,dkLen:p*u}),E=(0,s.u32)(_),b=(0,s.u32)(new Uint8Array(p*a)),y=(0,s.u32)(new Uint8Array(p));let w=()=>{};if(h){const e=2*a*u,t=Math.max(Math.floor(e/1e4),1);let n=0;w=()=>{n++,!h||n%t&&n!==e||h(n/e)}}return{N:a,r:c,p:u,dkLen:l,blockSize32:g,V:b,B32:E,B:_,tmp:y,blockMixCb:w,asyncTick:d}}function u(e,t,n,i,a){const c=(0,r.pbkdf2)(o.sha256,e,n,{c:1,dkLen:t});return(0,s.clean)(n,i,a),c}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/scrypt.js"}],[296,{"../../../shared/modules/object.utils":5911,"../constants/sentry-state":7,"../platforms/extension":547,"./stores/extension-store":309,"./stores/persistence-manager":311,"./stores/read-only-network-store":312},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("../../../shared/modules/object.utils"),o=c(e("../platforms/extension")),s=e("../constants/sentry-state"),i=(c(e("./stores/read-only-network-store")),c(e("./stores/extension-store"))),a=e("./stores/persistence-manager");function c(e){return e&&e.__esModule?e:{default:e}}const u=new o.default,l=new a.PersistenceManager({localStore:new i.default});globalThis.stateHooks.getPersistedState=async function(){return await l.get({validateVault:!1})};const d={data:s.SENTRY_BACKGROUND_STATE,meta:{version:!0}};globalThis.stateHooks.getSentryState=function(){const e={browser:window.navigator.userAgent,version:u.getVersion()};if(globalThis.stateHooks.getSentryAppState)return l.cleanUpMostRecentRetrievedState(),{...e,state:globalThis.stateHooks.getSentryAppState()};if(l.mostRecentRetrievedState||globalThis.stateHooks.getMostRecentPersistedState){const t=l.mostRecentRetrievedState||globalThis.stateHooks.getMostRecentPersistedState();if(t)return{...e,persistedState:(0,r.maskObject)(t,d)}}return e}}}},{package:"$root$",file:"app/scripts/lib/setup-initial-state-hooks.js"}],[2960,{"./_md.js":2951,"./_u64.js":2952,"./utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha512_224=n.sha512_256=n.sha384=n.sha512=n.sha224=n.sha256=n.SHA512_256=n.SHA512_224=n.SHA384=n.SHA512=n.SHA224=n.SHA256=void 0;const r=e("./_md.js"),o=e("./_u64.js"),s=e("./utils.js"),i=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array(64);class c extends r.HashMD{constructor(e=32){super(64,e,8,!1),this.A=0|r.SHA256_IV[0],this.B=0|r.SHA256_IV[1],this.C=0|r.SHA256_IV[2],this.D=0|r.SHA256_IV[3],this.E=0|r.SHA256_IV[4],this.F=0|r.SHA256_IV[5],this.G=0|r.SHA256_IV[6],this.H=0|r.SHA256_IV[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:s,G:i,H:a}=this;return[e,t,n,r,o,s,i,a]}set(e,t,n,r,o,s,i,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|s,this.G=0|i,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)a[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],n=a[e-2],r=(0,s.rotr)(t,7)^(0,s.rotr)(t,18)^t>>>3,o=(0,s.rotr)(n,17)^(0,s.rotr)(n,19)^n>>>10;a[e]=o+a[e-7]+r+a[e-16]|0}let{A:n,B:o,C:c,D:u,E:l,F:d,G:f,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,s.rotr)(l,6)^(0,s.rotr)(l,11)^(0,s.rotr)(l,25))+(0,r.Chi)(l,d,f)+i[e]+a[e]|0,p=((0,s.rotr)(n,2)^(0,s.rotr)(n,13)^(0,s.rotr)(n,22))+(0,r.Maj)(n,o,c)|0;h=f,f=d,d=l,l=u+t|0,u=c,c=o,o=n,n=t+p|0}n=n+this.A|0,o=o+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(n,o,c,u,l,d,f,h)}roundClean(){(0,s.clean)(a)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,s.clean)(this.buffer)}}n.SHA256=c;class u extends c{constructor(){super(28),this.A=0|r.SHA224_IV[0],this.B=0|r.SHA224_IV[1],this.C=0|r.SHA224_IV[2],this.D=0|r.SHA224_IV[3],this.E=0|r.SHA224_IV[4],this.F=0|r.SHA224_IV[5],this.G=0|r.SHA224_IV[6],this.H=0|r.SHA224_IV[7]}}n.SHA224=u;const l=(()=>o.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),d=(()=>l[0])(),f=(()=>l[1])(),h=new Uint32Array(80),p=new Uint32Array(80);class g extends r.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=0|r.SHA512_IV[0],this.Al=0|r.SHA512_IV[1],this.Bh=0|r.SHA512_IV[2],this.Bl=0|r.SHA512_IV[3],this.Ch=0|r.SHA512_IV[4],this.Cl=0|r.SHA512_IV[5],this.Dh=0|r.SHA512_IV[6],this.Dl=0|r.SHA512_IV[7],this.Eh=0|r.SHA512_IV[8],this.El=0|r.SHA512_IV[9],this.Fh=0|r.SHA512_IV[10],this.Fl=0|r.SHA512_IV[11],this.Gh=0|r.SHA512_IV[12],this.Gl=0|r.SHA512_IV[13],this.Hh=0|r.SHA512_IV[14],this.Hl=0|r.SHA512_IV[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:s,Dh:i,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:f,Gl:h,Hh:p,Hl:g}=this;return[e,t,n,r,o,s,i,a,c,u,l,d,f,h,p,g]}set(e,t,n,r,o,s,i,a,c,u,l,d,f,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|s,this.Dh=0|i,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)h[n]=e.getUint32(t),p[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|h[e-15],n=0|p[e-15],r=o.rotrSH(t,n,1)^o.rotrSH(t,n,8)^o.shrSH(t,n,7),s=o.rotrSL(t,n,1)^o.rotrSL(t,n,8)^o.shrSL(t,n,7),i=0|h[e-2],a=0|p[e-2],c=o.rotrSH(i,a,19)^o.rotrBH(i,a,61)^o.shrSH(i,a,6),u=o.rotrSL(i,a,19)^o.rotrBL(i,a,61)^o.shrSL(i,a,6),l=o.add4L(s,u,p[e-7],p[e-16]),d=o.add4H(l,r,c,h[e-7],h[e-16]);h[e]=0|d,p[e]=0|l}let{Ah:n,Al:r,Bh:s,Bl:i,Ch:a,Cl:c,Dh:u,Dl:l,Eh:g,El:m,Fh:_,Fl:E,Gh:b,Gl:y,Hh:w,Hl:S}=this;for(let e=0;e<80;e++){const t=o.rotrSH(g,m,14)^o.rotrSH(g,m,18)^o.rotrBH(g,m,41),R=o.rotrSL(g,m,14)^o.rotrSL(g,m,18)^o.rotrBL(g,m,41),A=g&_^~g&b,T=m&E^~m&y,O=o.add5L(S,R,T,f[e],p[e]),v=o.add5H(O,w,t,A,d[e],h[e]),I=0|O,N=o.rotrSH(n,r,28)^o.rotrBH(n,r,34)^o.rotrBH(n,r,39),C=o.rotrSL(n,r,28)^o.rotrBL(n,r,34)^o.rotrBL(n,r,39),x=n&s^n&a^s&a,P=r&i^r&c^i&c;w=0|b,S=0|y,b=0|_,y=0|E,_=0|g,E=0|m,({h:g,l:m}=o.add(0|u,0|l,0|v,0|I)),u=0|a,l=0|c,a=0|s,c=0|i,s=0|n,i=0|r;const L=o.add3L(I,C,P);n=o.add3H(L,v,N,x),r=0|L}({h:n,l:r}=o.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:s,l:i}=o.add(0|this.Bh,0|this.Bl,0|s,0|i)),({h:a,l:c}=o.add(0|this.Ch,0|this.Cl,0|a,0|c)),({h:u,l:l}=o.add(0|this.Dh,0|this.Dl,0|u,0|l)),({h:g,l:m}=o.add(0|this.Eh,0|this.El,0|g,0|m)),({h:_,l:E}=o.add(0|this.Fh,0|this.Fl,0|_,0|E)),({h:b,l:y}=o.add(0|this.Gh,0|this.Gl,0|b,0|y)),({h:w,l:S}=o.add(0|this.Hh,0|this.Hl,0|w,0|S)),this.set(n,r,s,i,a,c,u,l,g,m,_,E,b,y,w,S)}roundClean(){(0,s.clean)(h,p)}destroy(){(0,s.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}n.SHA512=g;class m extends g{constructor(){super(48),this.Ah=0|r.SHA384_IV[0],this.Al=0|r.SHA384_IV[1],this.Bh=0|r.SHA384_IV[2],this.Bl=0|r.SHA384_IV[3],this.Ch=0|r.SHA384_IV[4],this.Cl=0|r.SHA384_IV[5],this.Dh=0|r.SHA384_IV[6],this.Dl=0|r.SHA384_IV[7],this.Eh=0|r.SHA384_IV[8],this.El=0|r.SHA384_IV[9],this.Fh=0|r.SHA384_IV[10],this.Fl=0|r.SHA384_IV[11],this.Gh=0|r.SHA384_IV[12],this.Gl=0|r.SHA384_IV[13],this.Hh=0|r.SHA384_IV[14],this.Hl=0|r.SHA384_IV[15]}}n.SHA384=m;const _=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),E=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class b extends g{constructor(){super(28),this.Ah=0|_[0],this.Al=0|_[1],this.Bh=0|_[2],this.Bl=0|_[3],this.Ch=0|_[4],this.Cl=0|_[5],this.Dh=0|_[6],this.Dl=0|_[7],this.Eh=0|_[8],this.El=0|_[9],this.Fh=0|_[10],this.Fl=0|_[11],this.Gh=0|_[12],this.Gl=0|_[13],this.Hh=0|_[14],this.Hl=0|_[15]}}n.SHA512_224=b;class y extends g{constructor(){super(32),this.Ah=0|E[0],this.Al=0|E[1],this.Bh=0|E[2],this.Bl=0|E[3],this.Ch=0|E[4],this.Cl=0|E[5],this.Dh=0|E[6],this.Dl=0|E[7],this.Eh=0|E[8],this.El=0|E[9],this.Fh=0|E[10],this.Fl=0|E[11],this.Gh=0|E[12],this.Gl=0|E[13],this.Hh=0|E[14],this.Hl=0|E[15]}}n.SHA512_256=y,n.sha256=(0,s.createHasher)(()=>new c),n.sha224=(0,s.createHasher)(()=>new u),n.sha512=(0,s.createHasher)(()=>new g),n.sha384=(0,s.createHasher)(()=>new m),n.sha512_256=(0,s.createHasher)(()=>new y),n.sha512_224=(0,s.createHasher)(()=>new b)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha2.js"}],[2961,{"./sha2.js":2960},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha224=n.SHA224=n.sha256=n.SHA256=void 0;const r=e("./sha2.js");n.SHA256=r.SHA256,n.sha256=r.sha256,n.SHA224=r.SHA224,n.sha224=r.sha224}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha256.js"}],[2962,{"./_u64.js":2952,"./utils.js":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shake256=n.shake128=n.keccak_512=n.keccak_384=n.keccak_256=n.keccak_224=n.sha3_512=n.sha3_384=n.sha3_256=n.sha3_224=n.Keccak=void 0,n.keccakP=b;const r=e("./_u64.js"),o=e("./utils.js"),s=BigInt(0),i=BigInt(1),a=BigInt(2),c=BigInt(7),u=BigInt(256),l=BigInt(113),d=[],f=[],h=[];for(let e=0,t=i,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],d.push(2*(5*r+n)),f.push((e+1)*(e+2)/2%64);let o=s;for(let e=0;e<7;e++)t=(t<<i^(t>>c)*l)%u,t&a&&(o^=i<<(i<<BigInt(e))-i);h.push(o)}const p=(0,r.split)(h,!0),g=p[0],m=p[1],_=(e,t,n)=>n>32?(0,r.rotlBH)(e,t,n):(0,r.rotlSH)(e,t,n),E=(e,t,n)=>n>32?(0,r.rotlBL)(e,t,n):(0,r.rotlSL)(e,t,n);function b(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,o=(t+2)%10,s=n[o],i=n[o+1],a=_(s,i,1)^n[r],c=E(s,i,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],o=e[3];for(let n=0;n<24;n++){const r=f[n],s=_(t,o,r),i=E(t,o,r),a=d[n];t=e[a],o=e[a+1],e[a]=s,e[a+1]=i}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=g[r],e[1]^=m[r]}(0,o.clean)(n)}class y extends o.Hash{constructor(e,t,n,r=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,(0,o.anumber)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,o.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,o.swap32IfBE)(this.state32),b(this.state32,this.rounds),(0,o.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,o.aexists)(this),e=(0,o.toBytes)(e),(0,o.abytes)(e);const{blockLen:t,state:n}=this,r=e.length;for(let o=0;o<r;){const s=Math.min(t-this.pos,r-o);for(let t=0;t<s;t++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,o.aexists)(this,!1),(0,o.abytes)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,o=e.length;r<o;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,o-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,o.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,o.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,o.clean)(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:o,enableXOF:s}=this;return e||(e=new y(t,n,r,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}n.Keccak=y;const w=(e,t,n)=>(0,o.createHasher)(()=>new y(t,e,n));n.sha3_224=w(6,144,28),n.sha3_256=w(6,136,32),n.sha3_384=w(6,104,48),n.sha3_512=w(6,72,64),n.keccak_224=w(1,144,28),n.keccak_256=w(1,136,32),n.keccak_384=w(1,104,48),n.keccak_512=w(1,72,64);const S=(e,t,n)=>(0,o.createXOFer)((r={})=>new y(t,e,r.dkLen===undefined?n:r.dkLen,!0));n.shake128=S(31,168,16),n.shake256=S(31,136,32)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha3.js"}],[2963,{"./sha2.js":2960},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha512_256=n.SHA512_256=n.sha512_224=n.SHA512_224=n.sha384=n.SHA384=n.sha512=n.SHA512=void 0;const r=e("./sha2.js");n.SHA512=r.SHA512,n.sha512=r.sha512,n.SHA384=r.SHA384,n.sha384=r.sha384,n.SHA512_224=r.SHA512_224,n.sha512_224=r.sha512_224,n.SHA512_256=r.SHA512_256,n.sha512_256=r.sha512_256}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha512.js"}],[2964,{"@noble/hashes/crypto":2953},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.wrapXOFConstructorWithOpts=n.wrapConstructorWithOpts=n.wrapConstructor=n.Hash=n.nextTick=n.swap32IfBE=n.byteSwapIfBE=n.swap8IfBE=n.isLE=void 0,n.isBytes=o,n.anumber=s,n.abytes=i,n.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)},n.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},n.aoutput=function(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)},n.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},n.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},n.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},n.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},n.rotr=function(e,t){return e<<32-t|e>>>t},n.rotl=function(e,t){return e<<t|e>>>32-t>>>0},n.byteSwap=a,n.byteSwap32=c,n.bytesToHex=function(e){if(i(e),u)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=l[e[n]];return t},n.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(u)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,o=0;t<n;t++,o+=2){const n=f(e.charCodeAt(o)),s=f(e.charCodeAt(o+1));if(n===undefined||s===undefined){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[t]=16*n+s}return r},n.asyncLoop=async function(e,t,r){let o=Date.now();for(let s=0;s<e;s++){r(s);const e=Date.now()-o;e>=0&&e<t||(await(0,n.nextTick)(),o+=e)}},n.utf8ToBytes=h,n.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},n.toBytes=p,n.kdfInputToBytes=function(e){"string"==typeof e&&(e=h(e));return i(e),e},n.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];i(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n},n.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!=={}.toString.call(t))throw new Error("options should be object or undefined");return Object.assign(e,t)},n.createHasher=g,n.createOptHasher=m,n.createXOFer=_,n.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return Uint8Array.from(r.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")};const r=e("@noble/hashes/crypto");function o(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function i(e,...t){if(!o(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function c(e){for(let t=0;t<e.length;t++)e[t]=a(e[t]);return e}n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],n.swap8IfBE=n.isLE?e=>e:e=>a(e),n.byteSwapIfBE=n.swap8IfBE,n.swap32IfBE=n.isLE?e=>e:c;const u=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),l=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const d={_0:48,_9:57,A:65,F:70,a:97,f:102};function f(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function h(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=h(e)),i(e),e}n.nextTick=async()=>{};function g(e){const t=t=>e().update(p(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function m(e){const t=(t,n)=>e(n).update(p(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}function _(e){const t=(t,n)=>e(n).update(p(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}n.Hash=class{},n.wrapConstructor=g,n.wrapConstructorWithOpts=m,n.wrapXOFConstructorWithOpts=_}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/utils.js"}],[2969,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof r(e).Element||e instanceof Element}function s(e){return e instanceof r(e).HTMLElement||e instanceof HTMLElement}function i(e){return"undefined"!=typeof ShadowRoot&&(e instanceof r(e).ShadowRoot||e instanceof ShadowRoot)}Object.defineProperty(n,"__esModule",{value:!0});var a=Math.max,c=Math.min,u=Math.round;function l(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function d(){return!/^((?!chrome|android).)*safari/i.test(l())}function f(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),a=1,c=1;t&&s(e)&&(a=e.offsetWidth>0&&u(i.width)/e.offsetWidth||1,c=e.offsetHeight>0&&u(i.height)/e.offsetHeight||1);var l=(o(e)?r(e):window).visualViewport,f=!d()&&n,h=(i.left+(f&&l?l.offsetLeft:0))/a,p=(i.top+(f&&l?l.offsetTop:0))/c,g=i.width/a,m=i.height/c;return{width:g,height:m,top:p,right:h+g,bottom:p+m,left:h,x:h,y:p}}function h(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function g(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return f(g(e)).left+h(e).scrollLeft}function _(e){return r(e).getComputedStyle(e)}function E(e){var t=_(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function b(e,t,n){void 0===n&&(n=!1);var o,i,a=s(t),c=s(t)&&function(e){var t=e.getBoundingClientRect(),n=u(t.width)/e.offsetWidth||1,r=u(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),l=g(t),d=f(e,c,n),_={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(a||!a&&!n)&&(("body"!==p(t)||E(l))&&(_=(o=t)!==r(o)&&s(o)?{scrollLeft:(i=o).scrollLeft,scrollTop:i.scrollTop}:h(o)),s(t)?((b=f(t,!0)).x+=t.clientLeft,b.y+=t.clientTop):l&&(b.x=m(l))),{x:d.left+_.scrollLeft-b.x,y:d.top+_.scrollTop-b.y,width:d.width,height:d.height}}function y(e){var t=f(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function w(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(i(e)?e.host:null)||g(e)}function S(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:s(e)&&E(e)?e:S(w(e))}function R(e,t){var n;void 0===t&&(t=[]);var o=S(e),s=o===(null==(n=e.ownerDocument)?void 0:n.body),i=r(o),a=s?[i].concat(i.visualViewport||[],E(o)?o:[]):o,c=t.concat(a);return s?c:c.concat(R(w(a)))}function A(e){return["table","td","th"].indexOf(p(e))>=0}function T(e){return s(e)&&"fixed"!==_(e).position?e.offsetParent:null}function O(e){for(var t=r(e),n=T(e);n&&A(n)&&"static"===_(n).position;)n=T(n);return n&&("html"===p(n)||"body"===p(n)&&"static"===_(n).position)?t:n||function(e){var t=/firefox/i.test(l());if(/Trident/i.test(l())&&s(e)&&"fixed"===_(e).position)return null;var n=w(e);for(i(n)&&(n=n.host);s(n)&&["html","body"].indexOf(p(n))<0;){var r=_(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var v="top",I="bottom",N="right",C="left",x="auto",P=[v,I,N,C],L="start",B="end",k="viewport",D="popper",U=P.reduce(function(e,t){return e.concat([t+"-"+L,t+"-"+B])},[]),M=[].concat(P,[x]).reduce(function(e,t){return e.concat([t,t+"-"+L,t+"-"+B])},[]),j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function F(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||o(e)}),r}function H(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&i(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function G(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function z(e,t,n){return t===k?G(function(e,t){var n=r(e),o=g(e),s=n.visualViewport,i=o.clientWidth,a=o.clientHeight,c=0,u=0;if(s){i=s.width,a=s.height;var l=d();(l||!l&&"fixed"===t)&&(c=s.offsetLeft,u=s.offsetTop)}return{width:i,height:a,x:c+m(e),y:u}}(e,n)):o(t)?function(e,t){var n=f(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):G(function(e){var t,n=g(e),r=h(e),o=null==(t=e.ownerDocument)?void 0:t.body,s=a(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=a(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-r.scrollLeft+m(e),u=-r.scrollTop;return"rtl"===_(o||n).direction&&(c+=a(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:i,x:c,y:u}}(g(e)))}function V(e,t,n,r){var i="clippingParents"===t?function(e){var t=R(w(e)),n=["absolute","fixed"].indexOf(_(e).position)>=0&&s(e)?O(e):e;return o(n)?t.filter(function(e){return o(e)&&H(e,n)&&"body"!==p(e)}):[]}(e):[].concat(t),u=[].concat(i,[n]),l=u[0],d=u.reduce(function(t,n){var o=z(e,n,r);return t.top=a(o.top,t.top),t.right=c(o.right,t.right),t.bottom=c(o.bottom,t.bottom),t.left=a(o.left,t.left),t},z(e,l,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function W(e){return e.split("-")[0]}function q(e){return e.split("-")[1]}function K(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function X(e){var t,n=e.reference,r=e.element,o=e.placement,s=o?W(o):null,i=o?q(o):null,a=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(s){case v:t={x:a,y:n.y-r.height};break;case I:t={x:a,y:n.y+n.height};break;case N:t={x:n.x+n.width,y:c};break;case C:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var u=s?K(s):null;if(null!=u){var l="y"===u?"height":"width";switch(i){case L:t[u]=t[u]-(n[l]/2-r[l]/2);break;case B:t[u]=t[u]+(n[l]/2-r[l]/2)}}return t}function $(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Y(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function Q(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,c=n.boundary,u=void 0===c?"clippingParents":c,l=n.rootBoundary,d=void 0===l?k:l,h=n.elementContext,p=void 0===h?D:h,m=n.altBoundary,_=void 0!==m&&m,E=n.padding,b=void 0===E?0:E,y=$("number"!=typeof b?b:Y(b,P)),w=p===D?"reference":D,S=e.rects.popper,R=e.elements[_?w:p],A=V(o(R)?R:R.contextElement||g(e.elements.popper),u,d,a),T=f(e.elements.reference),O=X({reference:T,element:S,strategy:"absolute",placement:s}),C=G(Object.assign({},S,O)),x=p===D?C:T,L={top:A.top-x.top+y.top,bottom:x.bottom-A.bottom+y.bottom,left:A.left-x.left+y.left,right:x.right-A.right+y.right},B=e.modifiersData.offset;if(p===D&&B){var U=B[s];Object.keys(L).forEach(function(e){var t=[N,I].indexOf(e)>=0?1:-1,n=[v,I].indexOf(e)>=0?"y":"x";L[e]+=U[n]*t})}return L}var J={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function ee(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,s=t.defaultOptions,i=void 0===s?J:s;return function(e,t,n){void 0===n&&(n=i);var s,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},J,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,d={state:c,setOptions:function(n){var s="function"==typeof n?n(c.options):n;f(),c.options=Object.assign({},i,c.options,s),c.scrollParents={reference:o(e)?R(e):e.contextElement?R(e.contextElement):[],popper:R(t)};var a,l,h=function(e){var t=F(e);return j.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}((a=[].concat(r,c.options.modifiers),l=a.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),Object.keys(l).map(function(e){return l[e]})));return c.orderedModifiers=h.filter(function(e){return e.enabled}),c.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var s=o({state:c,name:t,instance:d,options:r}),i=function(){};u.push(s||i)}}),d.update()},forceUpdate:function(){if(!l){var e=c.elements,t=e.reference,n=e.popper;if(Z(t,n)){c.rects={reference:b(t,O(n),"fixed"===c.options.strategy),popper:y(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(e){return c.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var o=c.orderedModifiers[r],s=o.fn,i=o.options,a=void 0===i?{}:i,u=o.name;"function"==typeof s&&(c=s({state:c,options:a,name:u,instance:d})||c)}else c.reset=!1,r=-1}}},update:(s=function(){return new Promise(function(e){d.forceUpdate(),e(c)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=undefined,e(s())})})),a}),destroy:function(){f(),l=!0}};if(!Z(e,t))return d;function f(){u.forEach(function(e){return e()}),u=[]}return d.setOptions(n).then(function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)}),d}}var te={passive:!0};var ne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,s=o.scroll,i=void 0===s||s,a=o.resize,c=void 0===a||a,u=r(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach(function(e){e.addEventListener("scroll",n.update,te)}),c&&u.addEventListener("resize",n.update,te),function(){i&&l.forEach(function(e){e.removeEventListener("scroll",n.update,te)}),c&&u.removeEventListener("resize",n.update,te)}},data:{}};var re={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=X({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},oe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function se(e){var t,n=e.popper,o=e.popperRect,s=e.placement,i=e.variation,a=e.offsets,c=e.position,l=e.gpuAcceleration,d=e.adaptive,f=e.roundOffsets,h=e.isFixed,p=a.x,m=void 0===p?0:p,E=a.y,b=void 0===E?0:E,y="function"==typeof f?f({x:m,y:b}):{x:m,y:b};m=y.x,b=y.y;var w=a.hasOwnProperty("x"),S=a.hasOwnProperty("y"),R=C,A=v,T=window;if(d){var x=O(n),P="clientHeight",L="clientWidth";if(x===r(n)&&"static"!==_(x=g(n)).position&&"absolute"===c&&(P="scrollHeight",L="scrollWidth"),s===v||(s===C||s===N)&&i===B)A=I,b-=(h&&x===T&&T.visualViewport?T.visualViewport.height:x[P])-o.height,b*=l?1:-1;if(s===C||(s===v||s===I)&&i===B)R=N,m-=(h&&x===T&&T.visualViewport?T.visualViewport.width:x[L])-o.width,m*=l?1:-1}var k,D=Object.assign({position:c},d&&oe),U=!0===f?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:u(n*o)/o||0,y:u(r*o)/o||0}}({x:m,y:b},r(n)):{x:m,y:b};return m=U.x,b=U.y,l?Object.assign({},D,((k={})[A]=S?"0":"",k[R]=w?"0":"",k.transform=(T.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",k)):Object.assign({},D,((t={})[A]=S?b+"px":"",t[R]=w?m+"px":"",t.transform="",t))}var ie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,s=n.adaptive,i=void 0===s||s,a=n.roundOffsets,c=void 0===a||a,u={placement:W(t.placement),variation:q(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,se(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,se(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ae={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];s(o)&&p(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});s(r)&&p(r)&&(Object.assign(r.style,i),Object.keys(o).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};var ce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=void 0===o?[0,0]:o,i=M.reduce(function(e,n){return e[n]=function(e,t,n){var r=W(e),o=[C,v].indexOf(r)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=s[0],a=s[1];return i=i||0,a=(a||0)*o,[C,N].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}(n,t.rects,s),e},{}),a=i[t.placement],c=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}},ue={left:"right",right:"left",bottom:"top",top:"bottom"};function le(e){return e.replace(/left|right|bottom|top/g,function(e){return ue[e]})}var de={start:"end",end:"start"};function fe(e){return e.replace(/start|end/g,function(e){return de[e]})}function he(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,i=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?M:c,l=q(r),d=l?a?U:U.filter(function(e){return q(e)===l}):P,f=d.filter(function(e){return u.indexOf(e)>=0});0===f.length&&(f=d);var h=f.reduce(function(t,n){return t[n]=Q(e,{placement:n,boundary:o,rootBoundary:s,padding:i})[W(n)],t},{});return Object.keys(h).sort(function(e,t){return h[e]-h[t]})}var pe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=void 0===o||o,i=n.altAxis,a=void 0===i||i,c=n.fallbackPlacements,u=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,g=n.allowedAutoPlacements,m=t.options.placement,_=W(m),E=c||(_===m||!p?[le(m)]:function(e){if(W(e)===x)return[];var t=le(e);return[fe(e),t,fe(t)]}(m)),b=[m].concat(E).reduce(function(e,n){return e.concat(W(n)===x?he(t,{placement:n,boundary:l,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:g}):n)},[]),y=t.rects.reference,w=t.rects.popper,S=new Map,R=!0,A=b[0],T=0;T<b.length;T++){var O=b[T],P=W(O),B=q(O)===L,k=[v,I].indexOf(P)>=0,D=k?"width":"height",U=Q(t,{placement:O,boundary:l,rootBoundary:d,altBoundary:f,padding:u}),M=k?B?N:C:B?I:v;y[D]>w[D]&&(M=le(M));var j=le(M),F=[];if(s&&F.push(U[P]<=0),a&&F.push(U[M]<=0,U[j]<=0),F.every(function(e){return e})){A=O,R=!1;break}S.set(O,F)}if(R)for(var H=function(e){var t=b.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return A=t,"break"},G=p?3:1;G>0;G--){if("break"===H(G))break}t.placement!==A&&(t.modifiersData[r]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ge(e,t,n){return a(e,c(t,n))}var me={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,s=void 0===o||o,i=n.altAxis,u=void 0!==i&&i,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.padding,p=n.tether,g=void 0===p||p,m=n.tetherOffset,_=void 0===m?0:m,E=Q(t,{boundary:l,rootBoundary:d,padding:h,altBoundary:f}),b=W(t.placement),w=q(t.placement),S=!w,R=K(b),A="x"===R?"y":"x",T=t.modifiersData.popperOffsets,x=t.rects.reference,P=t.rects.popper,B="function"==typeof _?_(Object.assign({},t.rects,{placement:t.placement})):_,k="number"==typeof B?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(T){if(s){var M,j="y"===R?v:C,F="y"===R?I:N,H="y"===R?"height":"width",G=T[R],z=G+E[j],V=G-E[F],X=g?-P[H]/2:0,$=w===L?x[H]:P[H],Y=w===L?-P[H]:-x[H],J=t.elements.arrow,Z=g&&J?y(J):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[j],ne=ee[F],re=ge(0,x[H],Z[H]),oe=S?x[H]/2-X-re-te-k.mainAxis:$-re-te-k.mainAxis,se=S?-x[H]/2+X+re+ne+k.mainAxis:Y+re+ne+k.mainAxis,ie=t.elements.arrow&&O(t.elements.arrow),ae=ie?"y"===R?ie.clientTop||0:ie.clientLeft||0:0,ce=null!=(M=null==D?void 0:D[R])?M:0,ue=G+se-ce,le=ge(g?c(z,G+oe-ce-ae):z,G,g?a(V,ue):V);T[R]=le,U[R]=le-G}if(u){var de,fe="x"===R?v:C,he="x"===R?I:N,pe=T[A],me="y"===A?"height":"width",_e=pe+E[fe],Ee=pe-E[he],be=-1!==[v,C].indexOf(b),ye=null!=(de=null==D?void 0:D[A])?de:0,we=be?_e:pe-x[me]-P[me]-ye+k.altAxis,Se=be?pe+x[me]+P[me]-ye-k.altAxis:Ee,Re=g&&be?function(e,t,n){var r=ge(e,t,n);return r>n?n:r}(we,pe,Se):ge(g?we:_e,pe,g?Se:Ee);T[A]=Re,U[A]=Re-pe}t.modifiersData[r]=U}},requiresIfExists:["offset"]};var _e={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,a=W(n.placement),c=K(a),u=[C,N].indexOf(a)>=0?"height":"width";if(s&&i){var l=function(e,t){return $("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Y(e,P))}(o.padding,n),d=y(s),f="y"===c?v:C,h="y"===c?I:N,p=n.rects.reference[u]+n.rects.reference[c]-i[c]-n.rects.popper[u],g=i[c]-n.rects.reference[c],m=O(s),_=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,E=p/2-g/2,b=l[f],w=_-d[u]-l[h],S=_/2-d[u]/2+E,R=ge(b,S,w),A=c;n.modifiersData[r]=((t={})[A]=R,t.centerOffset=R-S,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&H(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ee(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function be(e){return[v,N,I,C].some(function(t){return e[t]>=0})}var ye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,i=Q(t,{elementContext:"reference"}),a=Q(t,{altBoundary:!0}),c=Ee(i,r),u=Ee(a,o,s),l=be(c),d=be(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}},we=ee({defaultModifiers:[ne,re,ie,ae]}),Se=[ne,re,ie,ae,ce,pe,me,_e,ye],Re=ee({defaultModifiers:Se});n.applyStyles=ae,n.arrow=_e,n.computeStyles=ie,n.createPopper=Re,n.createPopperLite=we,n.defaultModifiers=Se,n.detectOverflow=Q,n.eventListeners=ne,n.flip=pe,n.hide=ye,n.offset=ce,n.popperGenerator=ee,n.popperOffsets=re,n.preventOverflow=me}}},{package:"@popperjs/core",file:"node_modules/@popperjs/core/dist/cjs/popper.js"}],[2970,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){var n=new Array(arguments.length-1),r=0,o=2,s=!0;for(;o<arguments.length;)n[r++]=arguments[o++];return new Promise(function(o,i){n[r]=function(e){if(s)if(s=!1,e)i(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){s&&(s=!1,i(e))}})}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/aspromise",file:"node_modules/@protobufjs/aspromise/index.js"}],[2971,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var o=new Array(64),s=new Array(123),i=0;i<64;)s[o[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,n){for(var r,s=null,i=[],a=0,c=0;t<n;){var u=e[t++];switch(c){case 0:i[a++]=o[u>>2],r=(3&u)<<4,c=1;break;case 1:i[a++]=o[r|u>>4],r=(15&u)<<2,c=2;break;case 2:i[a++]=o[r|u>>6],i[a++]=o[63&u],c=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),a=0)}return c&&(i[a++]=o[r],i[a++]=61,1===c&&(i[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,i.slice(0,a))),s.join("")):String.fromCharCode.apply(String,i.slice(0,a))};var a="invalid encoding";r.decode=function(e,t,n){for(var r,o=n,i=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&i>1)break;if((u=s[u])===undefined)throw Error(a);switch(i){case 0:r=u,i=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,i=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,i=3;break;case 3:t[n++]=(3&r)<<6|u,i=0}}if(1===i)throw Error(a);return n-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/base64",file:"node_modules/@protobufjs/base64/index.js"}],[2972,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function o(e){if("string"!=typeof e){var t=s();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var i=Object.keys(e),a=new Array(i.length+1),c=new Array(i.length),u=0;u<i.length;)a[u]=i[u],c[u]=e[i[u++]];return a[u]=t,Function.apply(null,a).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,function(e,t){var n=l[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),d!==l.length)throw Error("parameter count mismatch");return n.push(e),o}function s(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return o.toString=s,o}t.exports=r,r.verbose=!1}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/codegen",file:"node_modules/@protobufjs/codegen/index.js"}],[2973,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(){this._listeners={}}t.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/eventemitter",file:"node_modules/@protobufjs/eventemitter/index.js"}],[2974,{"@protobufjs/aspromise":2970,"@protobufjs/inquire":2976},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=s;var r=e("@protobufjs/aspromise"),o=e("@protobufjs/inquire")("fs");function s(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&o&&o.readFile?o.readFile(e,function(r,o){return r&&"undefined"!=typeof XMLHttpRequest?s.xhr(e,t,n):r?n(r):n(null,t.binary?o:o.toString("utf8"))}):s.xhr(e,t,n):r(s,this,e,t)}s.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return undefined;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var o=0;o<r.responseText.length;++o)e.push(255&r.responseText.charCodeAt(o))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/fetch",file:"node_modules/@protobufjs/fetch/index.js"}],[2975,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function s(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function i(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?o:s,e.writeFloatBE=r?s:o,e.readFloatLE=r?i:a,e.readFloatBE=r?a:i}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var s=Math.floor(Math.log(t)/Math.LN2);e((o<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),o=2*(r>>31)+1,s=r>>>23&255,i=8388607&r;return 255===s?i?NaN:o*Infinity:0===s?1401298464324817e-60*o*i:o*Math.pow(2,s-150)*(i+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,s),e.readFloatLE=n.bind(null,i),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function s(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function i(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?o:s,e.writeDoubleBE=r?s:o,e.readDoubleLE=r?i:a,e.readDoubleBE=r?a:i}():function(){function t(e,t,n,r,o,s){var i=r<0?1:0;if(i&&(r=-r),0===r)e(0,o,s+t),e(1/r>0?0:2147483648,o,s+n);else if(isNaN(r))e(0,o,s+t),e(2146959360,o,s+n);else if(r>17976931348623157e292)e(0,o,s+t),e((i<<31|2146435072)>>>0,o,s+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,o,s+t),e((i<<31|a/4294967296)>>>0,o,s+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,o,s+t),e((i<<31|c+1023<<20|1048576*a&1048575)>>>0,o,s+n)}}}function n(e,t,n,r,o){var s=e(r,o+t),i=e(r,o+n),a=2*(i>>31)+1,c=i>>>20&2047,u=4294967296*(1048575&i)+s;return 2047===c?u?NaN:a*Infinity:0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,s,4,0),e.readDoubleLE=n.bind(null,i,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function o(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function s(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/float",file:"node_modules/@protobufjs/float/index.js"}],[2976,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){try{var t=(0,eval)("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/inquire",file:"node_modules/@protobufjs/inquire/index.js"}],[2977,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n,o=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},s=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=o(e),r="";n&&(r=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):n?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=s(t)),o(t)?t:(n||(e=s(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?s(e+"/"+t):t)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/path",file:"node_modules/@protobufjs/path/index.js"}],[2978,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){var r=n||8192,o=r>>>1,s=null,i=r;return function(n){if(n<1||n>o)return e(n);i+n>r&&(s=e(r),i=0);var a=t.call(s,i,i+=n);return 7&i&&(i=1+(7|i)),a}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/pool",file:"node_modules/@protobufjs/pool/index.js"}],[2979,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,s=[],i=0;t<n;)(r=e[t++])<128?s[i++]=r:r>191&&r<224?s[i++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[i++]=55296+(r>>10),s[i++]=56320+(1023&r)):s[i++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],i>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),i=0);return o?(i&&o.push(String.fromCharCode.apply(String,s.slice(0,i))),o.join("")):String.fromCharCode.apply(String,s.slice(0,i))},r.write=function(e,t,n){for(var r,o,s=n,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(i+1)))?(r=65536+((1023&r)<<10)+(1023&o),++i,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-s}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/utf8",file:"node_modules/@protobufjs/utf8/index.js"}],[2980,{"./redux-toolkit.cjs.development.js":2981},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./redux-toolkit.cjs.development.js")}}},{package:"@reduxjs/toolkit",file:"node_modules/@reduxjs/toolkit/dist/index.js"}],[2981,{_process:5069,immer:4594,redux:5302,"redux-thunk":5301,reselect:2983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r,o=this&&this.__define||function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]},s=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){o(this,constructor,e)}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__generator||function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},c=Object.create,u=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,E=function(e,t,n){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},b=function(e,t){for(var n in t||(t={}))m.call(t,n)&&E(e,n,t[n]);if(p)for(var r=0,o=p(t);r<o.length;r++){n=o[r];_.call(t,n)&&E(e,n,t[n])}return e},y=function(e,t){return l(e,f(t))},w=function(e){return u(e,"__esModule",{value:!0})},S=function(e,t,n){if(t&&"object"==typeof t||"function"==typeof t)for(var r=function(r){m.call(e,r)||"default"===r||u(e,r,{get:function(){return t[r]},enumerable:!(n=d(t,r))||n.enumerable})},o=0,s=h(t);o<s.length;o++){r(s[o])}return e},R=function(e){return S(w(u(null!=e?c(g(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},A=function(e,t,n){return new Promise(function(r,o){var s=function(e){try{a(n.next(e))}catch(e){o(e)}},i=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(s,i)};a((n=n.apply(e,t)).next())})};w(n),function(e,t){for(var n in t)u(e,n,{get:t[n],enumerable:!0})}(n,{EnhancerArray:function(){return K},MiddlewareArray:function(){return q},SHOULD_AUTOBATCH:function(){return wt},TaskAbortError:function(){return et},addListener:function(){return gt},autoBatchEnhancer:function(){return Ot},clearAllListeners:function(){return mt},configureStore:function(){return de},createAction:function(){return U},createActionCreatorInvariantMiddleware:function(){return z},createAsyncThunk:function(){return Ce},createDraftSafeSelector:function(){return C},createEntityAdapter:function(){return Ae},createImmutableStateInvariantMiddleware:function(){return re},createListenerMiddleware:function(){return bt},createNextState:function(){return O.default},createReducer:function(){return ge},createSelector:function(){return v.createSelector},createSerializableStateInvariantMiddleware:function(){return ae},createSlice:function(){return _e},current:function(){return O.current},findNonSerializableValue:function(){return se},freeze:function(){return O.freeze},getDefaultMiddleware:function(){return ue},getType:function(){return G},isAction:function(){return M},isActionCreator:function(){return j},isAllOf:function(){return Be},isAnyOf:function(){return Le},isAsyncThunkAction:function(){return He},isDraft:function(){return O.isDraft},isFluxStandardAction:function(){return F},isFulfilled:function(){return Fe},isImmutableDefault:function(){return Z},isPending:function(){return Ue},isPlain:function(){return oe},isPlainObject:function(){return B},isRejected:function(){return Me},isRejectedWithValue:function(){return je},miniSerializeError:function(){return Ne},nanoid:function(){return Te},original:function(){return O.original},prepareAutoBatched:function(){return St},removeListener:function(){return _t},unwrapResult:function(){return xe}});var T=R(e("immer"));S(n,R(e("redux")));var O=R(e("immer")),v=R(e("reselect")),I=R(e("immer")),N=R(e("reselect")),C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=N.createSelector.apply(void 0,e);return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,a([(0,I.isDraft)(e)?(0,I.current)(e):e],t))}},x=R(e("redux")),P=R(e("redux")),L="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?P.compose:P.compose.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function B(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var k=R(e("redux-thunk")),D=function(e){return e&&"function"==typeof e.match};function U(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return b(b({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function M(e){return B(e)&&"type"in e}function j(e){return"function"==typeof e&&"type"in e&&D(e)}function F(e){return M(e)&&"string"==typeof e.type&&Object.keys(e).every(H)}function H(e){return["type","payload","error","meta"].indexOf(e)>-1}function G(e){return""+e}function z(e){void 0===e&&(e={});var t=e.isActionCreator,n=void 0===t?j:t;return function(){return function(e){return function(t){var r,o,s;return n(t)&&console.warn((r=t.type,o=r?(""+r).split("/"):[],s=o[o.length-1]||"actionCreator",'Detected an action creator with type "'+(r||"unknown")+"\" being dispatched. \nMake sure you're calling the action creator before dispatching, i.e. `dispatch("+s+"())` instead of `dispatch("+s+")`. This is necessary even if the action has no payload.")),e(t)}}}}var V=R(e("immer"));function W(e,t){var n=0;return{measureTime:function(e){var t=Date.now();try{return e()}finally{var r=Date.now();n+=r-t}},warnIfExceeded:function(){n>e&&console.warn(t+" took "+n+"ms, which is more than the warning threshold of "+e+"ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.")}}}var q=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return s(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),o(t.prototype,"concat",function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)}),o(t.prototype,"prepend",function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,a([void 0],e[0].concat(this)))):new(t.bind.apply(t,a([void 0],e.concat(this))))}),t}(Array),K=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return s(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),o(t.prototype,"concat",function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)}),o(t.prototype,"prepend",function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,a([void 0],e[0].concat(this)))):new(t.bind.apply(t,a([void 0],e.concat(this))))}),t}(Array);function X(e){return(0,V.isDraftable)(e)?(0,V.default)(e,function(){}):e}var $=!1,Y="Invariant failed";function Q(e,t){if(!e){if($)throw new Error(Y);throw new Error(Y+": "+(t||""))}}function J(e,t,n,r){return JSON.stringify(e,function(e,t){var n=[],r=[];t||(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"});return function(o,s){if(n.length>0){var i=n.indexOf(this);~i?n.splice(i+1):n.push(this),~i?r.splice(i,Infinity,o):r.push(o),~n.indexOf(s)&&(s=t.call(this,o,s))}else n.push(s);return null==e?s:e.call(this,o,s)}}(t,r),n)}function Z(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function ee(e,t,n){var r=te(e,t,n);return{detectMutations:function(){return ne(e,t,r,n)}}}function te(e,t,n,r,o){void 0===t&&(t=[]),void 0===r&&(r=""),void 0===o&&(o=new Set);var s={value:n};if(!e(n)&&!o.has(n))for(var i in o.add(n),s.children={},n){var a=r?r+"."+i:i;t.length&&-1!==t.indexOf(a)||(s.children[i]=te(e,t,n[i],a))}return s}function ne(e,t,n,r,o,s){void 0===t&&(t=[]),void 0===o&&(o=!1),void 0===s&&(s="");var i=n?n.value:void 0,a=i===r;if(o&&!a&&!Number.isNaN(r))return{wasMutated:!0,path:s};if(e(i)||e(r))return{wasMutated:!1};var c={};for(var u in n.children)c[u]=!0;for(var u in r)c[u]=!0;var l=t.length>0,d=function(o){var i=s?s+"."+o:o;if(l&&t.some(function(e){return e instanceof RegExp?e.test(i):i===e}))return"continue";var c=ne(e,t,n.children[o],r[o],a,i);if(c.wasMutated)return{value:c}};for(var u in c){var f=d(u);if("object"==typeof f)return f.value}return{wasMutated:!1}}function re(e){void 0===e&&(e={});var t=e.isImmutable,n=void 0===t?Z:t,r=e.ignoredPaths,o=e.warnAfter,s=void 0===o?32:o,i=e.ignore;r=r||i;var a=ee.bind(null,n,r);return function(e){var t,n=e.getState,r=n(),o=a(r);return function(e){return function(i){var c=W(s,"ImmutableStateInvariantMiddleware");c.measureTime(function(){r=n(),t=o.detectMutations(),o=a(r),Q(!t.wasMutated,"A state mutation was detected between dispatches, in the path '"+(t.path||"")+"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")});var u=e(i);return c.measureTime(function(){r=n(),t=o.detectMutations(),o=a(r),t.wasMutated&&Q(!t.wasMutated,"A state mutation was detected inside a dispatch, in the path: "+(t.path||"")+". Take a look at the reducer(s) handling the action "+J(i)+". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")}),c.warnIfExceeded(),u}}}}function oe(e){var t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||B(e)}function se(e,t,n,r,o,s){var i;if(void 0===t&&(t=""),void 0===n&&(n=oe),void 0===o&&(o=[]),!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;if(null==s?void 0:s.has(e))return!1;for(var a=null!=r?r(e):Object.entries(e),c=o.length>0,u=function(e,a){var u=t?t+"."+e:e;if(c&&o.some(function(e){return e instanceof RegExp?e.test(u):u===e}))return"continue";return n(a)?"object"==typeof a&&(i=se(a,u,n,r,o,s))?{value:i}:void 0:{value:{keyPath:u,value:a}}},l=0,d=a;l<d.length;l++){var f=d[l],h=u(f[0],f[1]);if("object"==typeof h)return h.value}return s&&ie(e)&&s.add(e),!1}function ie(e){if(!Object.isFrozen(e))return!1;for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if("object"==typeof r&&null!==r&&!ie(r))return!1}return!0}function ae(e){void 0===e&&(e={});var t=e.isSerializable,n=void 0===t?oe:t,r=e.getEntries,o=e.ignoredActions,s=void 0===o?[]:o,i=e.ignoredActionPaths,a=void 0===i?["meta.arg","meta.baseQueryMeta"]:i,c=e.ignoredPaths,u=void 0===c?[]:c,l=e.warnAfter,d=void 0===l?32:l,f=e.ignoreState,h=void 0!==f&&f,p=e.ignoreActions,g=void 0!==p&&p,m=e.disableCache,_=!(void 0!==m&&m)&&WeakSet?new WeakSet:void 0;return function(e){return function(t){return function(o){var i=t(o),c=W(d,"SerializableStateInvariantMiddleware");return g||s.length&&-1!==s.indexOf(o.type)||c.measureTime(function(){var e=se(o,"",n,r,a,_);if(e){var t=e.keyPath,s=e.value;console.error("A non-serializable value was detected in an action, in the path: `"+t+"`. Value:",s,"\nTake a look at the logic that dispatched this action: ",o,"\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)","\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)")}}),h||(c.measureTime(function(){var t=se(e.getState(),"",n,r,u,_);if(t){var s=t.keyPath,i=t.value;console.error("A non-serializable value was detected in the state, in the path: `"+s+"`. Value:",i,"\nTake a look at the reducer(s) handling this action type: "+o.type+".\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)")}}),c.warnIfExceeded()),i}}}}function ce(e){return"boolean"==typeof e}function ue(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=e.immutableCheck,o=void 0===r||r,s=e.serializableCheck,i=void 0===s||s,a=e.actionCreatorCheck,c=void 0===a||a,u=new q;if(n&&(ce(n)?u.push(k.default):u.push(k.default.withExtraArgument(n.extraArgument))),o){var l={};ce(o)||(l=o),u.unshift(re(l))}if(i){var d={};ce(i)||(d=i),u.push(ae(d))}if(c){var f={};ce(c)||(f=c),u.unshift(z(f))}return u}var le=!1;function de(e){var t,n=function(e){return ue(e)},r=e||{},o=r.reducer,s=void 0===o?void 0:o,i=r.middleware,c=void 0===i?n():i,u=r.devTools,l=void 0===u||u,d=r.preloadedState,f=void 0===d?void 0:d,h=r.enhancers,p=void 0===h?void 0:h;if("function"==typeof s)t=s;else{if(!B(s))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,x.combineReducers)(s)}var g=c;if("function"==typeof g&&(g=g(n),!le&&!Array.isArray(g)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!le&&g.some(function(e){return"function"!=typeof e}))throw new Error("each middleware provided to configureStore must be a function");var m=x.applyMiddleware.apply(void 0,g),_=x.compose;l&&(_=L(b({trace:!le},"object"==typeof l&&l)));var E=new K(m),y=E;Array.isArray(p)?y=a([m],p):"function"==typeof p&&(y=p(E));var w=_.apply(void 0,y);return(0,x.createStore)(t,f,w)}var fe=R(e("immer"));function he(e){var t,n={},r=[],o={addCase:function(e,s){if(r.length>0)throw new Error("`builder.addCase` should only be called before calling `builder.addMatcher`");if(t)throw new Error("`builder.addCase` should only be called before calling `builder.addDefaultCase`");var i="string"==typeof e?e:e.type;if(!i)throw new Error("`builder.addCase` cannot be called with an empty action type");if(i in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[i]=s,o},addMatcher:function(e,n){if(t)throw new Error("`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");return r.push({matcher:e,reducer:n}),o},addDefaultCase:function(e){if(t)throw new Error("`builder.addDefaultCase` can only be called once");return t=e,o}};return e(o),[n,r,t]}var pe=!1;function ge(e,t,n,r){void 0===n&&(n=[]),"object"==typeof t&&(pe||(pe=!0,console.warn("The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer")));var o,s="function"==typeof t?he(t):[t,n,r],i=s[0],c=s[1],u=s[2];if("function"==typeof e)o=function(){return X(e())};else{var l=X(e);o=function(){return l}}function d(e,t){void 0===e&&(e=o());var n=a([i[t.type]],c.filter(function(e){return(0,e.matcher)(t)}).map(function(e){return e.reducer}));return 0===n.filter(function(e){return!!e}).length&&(n=[u]),n.reduce(function(e,n){if(n){var r;if((0,fe.isDraft)(e))return void 0===(r=n(e,t))?e:r;if((0,fe.isDraftable)(e))return(0,fe.default)(e,function(e){return n(e,t)});if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e},e)}return d.getInitialState=o,d}var me=!1;function _e(e){var n=e.name;if(!n)throw new Error("`name` is a required option for createSlice");void 0!==t&&void 0===e.initialState&&console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");var r,o="function"==typeof e.initialState?e.initialState:X(e.initialState),s=e.reducers||{},i=Object.keys(s),a={},c={},u={};function l(){"object"==typeof e.extraReducers&&(me||(me=!0,console.warn("The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice")));var t="function"==typeof e.extraReducers?he(e.extraReducers):[e.extraReducers],n=t[0],r=void 0===n?{}:n,s=t[1],i=void 0===s?[]:s,a=t[2],u=void 0===a?void 0:a,l=b(b({},r),c);return ge(o,function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=i;n<r.length;n++){var o=r[n];e.addMatcher(o.matcher,o.reducer)}u&&e.addDefaultCase(u)})}return i.forEach(function(e){var t,r,o=s[e],i=n+"/"+e;"reducer"in o?(t=o.reducer,r=o.prepare):t=o,a[e]=t,c[i]=t,u[e]=r?U(i,r):U(i)}),{name:n,reducer:function(e,t){return r||(r=l()),r(e,t)},actions:u,caseReducers:a,getInitialState:function(){return r||(r=l()),r.getInitialState()}}}var Ee=R(e("immer"));function be(e){return function(t,n){var r=function(t){F(n)?e(n.payload,t):e(n,t)};return(0,Ee.isDraft)(t)?(r(t),t):(0,Ee.default)(t,r)}}function ye(e,t){var n=t(e);return void 0===n&&console.warn("The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",t.toString()),n}function we(e){return Array.isArray(e)||(e=Object.values(e)),e}function Se(e,t,n){for(var r=[],o=[],s=0,i=e=we(e);s<i.length;s++){var a=i[s],c=ye(a,t);c in n.entities?o.push({id:c,changes:a}):r.push(a)}return[r,o]}function Re(e){function t(t,n){var r=ye(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){for(var r=0,o=e=we(e);r<o.length;r++){t(o[r],n)}}function r(t,n){var r=ye(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function o(e,t){var n=!1;e.forEach(function(e){e in t.entities&&(delete t.entities[e],n=!0)}),n&&(t.ids=t.ids.filter(function(e){return e in t.entities}))}function s(t,n){var r={},o={};if(t.forEach(function(e){e.id in n.entities&&(o[e.id]={id:e.id,changes:b(b({},o[e.id]?o[e.id].changes:null),e.changes)})}),(t=Object.values(o)).length>0){var s=t.filter(function(t){return function(t,n,r){var o=r.entities[n.id],s=Object.assign({},o,n.changes),i=ye(s,e),a=i!==n.id;return a&&(t[n.id]=i,delete r.entities[n.id]),r.entities[i]=s,a}(r,t,n)}).length>0;s&&(n.ids=Object.keys(n.entities))}}function i(t,r){var o=Se(t,e,r),i=o[0];s(o[1],r),n(i,r)}return{removeAll:(a=function(e){Object.assign(e,{ids:[],entities:{}})},c=be(function(e,t){return a(t)}),function(e){return c(e,void 0)}),addOne:be(t),addMany:be(n),setOne:be(r),setMany:be(function(e,t){for(var n=0,o=e=we(e);n<o.length;n++){r(o[n],t)}}),setAll:be(function(e,t){e=we(e),t.ids=[],t.entities={},n(e,t)}),updateOne:be(function(e,t){return s([e],t)}),updateMany:be(s),upsertOne:be(function(e,t){return i([e],t)}),upsertMany:be(i),removeOne:be(function(e,t){return o([e],t)}),removeMany:be(o)};var a,c}function Ae(e){void 0===e&&(e={});var t=b({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,o={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},s={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=C(t,n,function(e,t){return e.map(function(e){return t[e]})}),o=function(e,t){return t},s=function(e,t){return e[t]},i=C(t,function(e){return e.length});if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:i,selectById:C(n,o,s)};var a=C(e,n);return{selectIds:C(e,t),selectEntities:a,selectAll:C(e,r),selectTotal:C(e,i),selectById:C(a,o,s)}}},i=r?function(e,t){var n=Re(e);function r(t,n){var r=(t=we(t)).filter(function(t){return!(ye(t,e)in n.entities)});0!==r.length&&a(r,n)}function o(e,t){0!==(e=we(e)).length&&a(e,t)}function s(t,n){for(var r=!1,o=0,s=t;o<s.length;o++){var i=s[o],a=n.entities[i.id];if(a){r=!0,Object.assign(a,i.changes);var u=e(a);i.id!==u&&(delete n.entities[i.id],n.entities[u]=a)}}r&&c(n)}function i(t,n){var o=Se(t,e,n),i=o[0];s(o[1],n),r(i,n)}function a(t,n){t.forEach(function(t){n.entities[e(t)]=t}),c(n)}function c(n){var r=Object.values(n.entities);r.sort(t);var o=r.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(n.ids,o)||(n.ids=o)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:be(function(e,t){return r([e],t)}),updateOne:be(function(e,t){return s([e],t)}),upsertOne:be(function(e,t){return i([e],t)}),setOne:be(function(e,t){return o([e],t)}),setMany:be(o),setAll:be(function(e,t){e=we(e),t.entities={},t.ids=[],r(e,t)}),addMany:be(r),updateMany:be(s),upsertMany:be(i)}}(n,r):Re(n);return b(b(b({selectId:n,sortComparer:r},o),s),i)}var Te=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Oe=["name","message","stack","code"],ve=function(e,t){this.payload=e,this.meta=t},Ie=function(e,t){this.payload=e,this.meta=t},Ne=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=Oe;n<r.length;n++){var o=r[n];"string"==typeof e[o]&&(t[o]=e[o])}return t}return{message:String(e)}},Ce=function(){function e(e,t,n){var r=U(e+"/fulfilled",function(e,t,n,r){return{payload:e,meta:y(b({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}}),o=U(e+"/pending",function(e,t,n){return{payload:void 0,meta:y(b({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}}),s=U(e+"/rejected",function(e,t,r,o,s){return{payload:o,error:(n&&n.serializeError||Ne)(e||"Rejected"),meta:y(b({},s||{}),{arg:r,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}}),a=!1,c="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){a||(a=!0,console.info("This platform does not implement AbortController. \nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'."))},e}();return Object.assign(function(e){return function(a,u,l){var d,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Te(),h=new c;function p(e){d=e,h.abort()}var g=function(){return A(this,null,function(){var c,g,m,_,E,b;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),_=null==(c=null==n?void 0:n.condition)?void 0:c.call(n,e,{getState:u,extra:l}),null===(y=_)||"object"!=typeof y||"function"!=typeof y.then?[3,2]:[4,_];case 1:_=i.sent(),i.label=2;case 2:if(!1===_||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(e,t){return h.signal.addEventListener("abort",function(){return t({name:"AbortError",message:d||"Aborted"})})}),a(o(f,e,null==(g=null==n?void 0:n.getPendingMeta)?void 0:g.call(n,{requestId:f,arg:e},{getState:u,extra:l}))),[4,Promise.race([E,Promise.resolve(t(e,{dispatch:a,getState:u,extra:l,requestId:f,signal:h.signal,abort:p,rejectWithValue:function(e,t){return new ve(e,t)},fulfillWithValue:function(e,t){return new Ie(e,t)}})).then(function(t){if(t instanceof ve)throw t;return t instanceof Ie?r(t.payload,f,e,t.meta):r(t,f,e)})])];case 3:return m=i.sent(),[3,5];case 4:return b=i.sent(),m=b instanceof ve?s(null,f,e,b.payload,b.meta):s(b,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&s.match(m)&&m.meta.condition||a(m),[2,m]}var y})})}();return Object.assign(g,{abort:p,requestId:f,arg:e,unwrap:function(){return g.then(xe)}})}},{pending:o,rejected:s,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function xe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Pe=function(e,t){return D(e)?e.match(t):e(t)};function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some(function(e){return Pe(e,t)})}}function Be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every(function(e){return Pe(e,t)})}}function ke(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function De(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ke(e,["pending"])}:De(e)?function(t){var n=e.map(function(e){return e.pending});return Le.apply(void 0,n)(t)}:Ue()(e[0])}function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ke(e,["rejected"])}:De(e)?function(t){var n=e.map(function(e){return e.rejected});return Le.apply(void 0,n)(t)}:Me()(e[0])}function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||De(e)?function(t){return Be(Me.apply(void 0,e),n)(t)}:je()(e[0])}function Fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ke(e,["fulfilled"])}:De(e)?function(t){var n=e.map(function(e){return e.fulfilled});return Le.apply(void 0,n)(t)}:Fe()(e[0])}function He(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ke(e,["pending","fulfilled","rejected"])}:De(e)?function(t){for(var n=[],r=0,o=e;r<o.length;r++){var s=o[r];n.push(s.pending,s.rejected,s.fulfilled)}return Le.apply(void 0,n)(t)}:He()(e[0])}var Ge=function(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function")},ze=function(){},Ve=function(e,t){return void 0===t&&(t=ze),e.catch(t),e},We=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},qe=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ke="listener",Xe="completed",$e="cancelled",Ye="task-"+$e,Qe="task-"+Xe,Je=Ke+"-"+$e,Ze=Ke+"-"+Xe,et=function(e){this.code=e,this.name="TaskAbortError",this.message="task "+$e+" (reason: "+e+")"},tt=function(e){if(e.aborted)throw new et(e.reason)};function nt(e,t){var n=ze;return new Promise(function(r,o){var s=function(){return o(new et(e.reason))};e.aborted?s():(n=We(e,s),t.finally(function(){return n()}).then(r,o))}).finally(function(){n=ze})}var rt=function(e){return function(t){return Ve(nt(e,t).then(function(t){return tt(e),t}))}},ot=function(e){var t=rt(e);return function(e){return t(new Promise(function(t){return setTimeout(t,e)}))}},st=Object.assign,it={},at="listenerMiddleware",ct=function(e,t){return function(n,r){Ge(n,"taskExecutor");var o,s=new AbortController;o=s,We(e,function(){return qe(o,e.reason)});var a,c,u=(a=function(){return A(void 0,null,function(){var t;return i(this,function(r){switch(r.label){case 0:return tt(e),tt(s.signal),[4,n({pause:rt(s.signal),delay:ot(s.signal),signal:s.signal})];case 1:return t=r.sent(),tt(s.signal),[2,t]}})})},c=function(){return qe(s,Qe)},A(void 0,null,function(){var e;return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return t.sent(),[4,a()];case 2:return[2,{status:"ok",value:t.sent()}];case 3:return[2,{status:(e=t.sent())instanceof et?"cancelled":"rejected",error:e}];case 4:return null==c||c(),[7];case 5:return[2]}})}));return(null==r?void 0:r.autoJoin)&&t.push(u),{result:rt(e)(u),cancel:function(){qe(s,Ye)}}}},ut=function(e,t){return function(n,r){return Ve(function(n,r){return A(void 0,null,function(){var o,s,a,c;return i(this,function(i){switch(i.label){case 0:tt(t),o=function(){},s=new Promise(function(t,r){var s=e({predicate:n,effect:function(e,n){n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});o=function(){s(),r()}}),a=[s],null!=r&&a.push(new Promise(function(e){return setTimeout(e,r,null)})),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,nt(t,Promise.race(a))];case 2:return c=i.sent(),tt(t),[2,c];case 3:return o(),[7];case 4:return[2]}})})}(n,r))}},lt=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,o=e.predicate,s=e.effect;if(t)o=U(t).match;else if(n)t=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Ge(s,"options.listener"),{predicate:o,type:t,effect:s}},dt=function(e){var t=lt(e),n=t.type,r=t.predicate,o=t.effect;return{id:Te(),effect:o,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}},ft=function(e){e.pending.forEach(function(e){qe(e,Je)})},ht=function(e){return function(){e.forEach(ft),e.clear()}},pt=function(e,t,n){try{e(t,n)}catch(e){setTimeout(function(){throw e},0)}},gt=U(at+"/add"),mt=U(at+"/removeAll"),_t=U(at+"/remove"),Et=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,a([at+"/error"],e))};function bt(e){var t=this;void 0===e&&(e={});var n=new Map,r=e.extra,o=e.onError,s=void 0===o?Et:o;Ge(s,"onError");var a=function(e){for(var t=0,r=Array.from(n.values());t<r.length;t++){var o=r[t];if(e(o))return o}},c=function(e){var t=a(function(t){return t.effect===e.effect});return t||(t=dt(e)),function(e){return e.unsubscribe=function(){return n.delete(e.id)},n.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&ft(e)}}(t)},u=function(e){var t=lt(e),n=t.type,r=t.effect,o=t.predicate,s=a(function(e){return("string"==typeof n?e.type===n:e.predicate===o)&&e.effect===r});return s&&(s.unsubscribe(),e.cancelActive&&ft(s)),!!s},l=function(e,o,a,u){return A(t,null,function(){var t,l,d,f;return i(this,function(i){switch(i.label){case 0:t=new AbortController,l=ut(c,t.signal),d=[],i.label=1;case 1:return i.trys.push([1,3,4,6]),e.pending.add(t),[4,Promise.resolve(e.effect(o,st({},a,{getOriginalState:u,condition:function(e,t){return l(e,t).then(Boolean)},take:l,delay:ot(t.signal),pause:rt(t.signal),extra:r,signal:t.signal,fork:ct(t.signal,d),unsubscribe:e.unsubscribe,subscribe:function(){n.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach(function(e,n,r){e!==t&&(qe(e,Je),r.delete(e))})}})))];case 2:return i.sent(),[3,6];case 3:return(f=i.sent())instanceof et||pt(s,f,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(d)];case 5:return i.sent(),qe(t,Ze),e.pending.delete(t),[7];case 6:return[2]}})})},d=ht(n);return{middleware:function(e){return function(t){return function(r){if(!M(r))return t(r);if(gt.match(r))return c(r.payload);if(!mt.match(r)){if(_t.match(r))return u(r.payload);var o,i=e.getState(),a=function(){if(i===it)throw new Error(at+": getOriginalState can only be called synchronously");return i};try{if(o=t(r),n.size>0)for(var f=e.getState(),h=Array.from(n.values()),p=0,g=h;p<g.length;p++){var m=g[p],_=!1;try{_=m.predicate(r,f,i)}catch(e){_=!1,pt(s,e,{raisedBy:"predicate"})}_&&l(m,r,e,a)}}finally{i=it}return o}d()}}},startListening:c,stopListening:u,clearListeners:d}}var yt,wt="RTK_autoBatch",St=function(){return function(e){var t;return{payload:e,meta:(t={},t[wt]=!0,t)}}},Rt="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis):function(e){return(yt||(yt=Promise.resolve())).then(e).catch(function(e){return setTimeout(function(){throw e},0)})},At=function(e){return function(t){setTimeout(t,e)}},Tt="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:At(10),Ot=function(e){return void 0===e&&(e={type:"raf"}),function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(void 0,n),s=!0,i=!1,a=!1,c=new Set,u="tick"===e.type?Rt:"raf"===e.type?Tt:"callback"===e.type?e.queueNotification:At(e.timeout),l=function(){a=!1,i&&(i=!1,c.forEach(function(e){return e()}))};return Object.assign({},o,{subscribe:function(e){var t=o.subscribe(function(){return s&&e()});return c.add(e),function(){t(),c.delete(e)}},dispatch:function(e){var t;try{return s=!(null==(t=null==e?void 0:e.meta)?void 0:t[wt]),(i=!s)&&(a||(a=!0,u(l))),o.dispatch(e)}finally{s=!0}}})}}};(0,T.enableES5)()}).call(this)}).call(this,e("_process"))}}},{package:"@reduxjs/toolkit",file:"node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.development.js"}],[2982,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createCacheKeyComparator=s,n.defaultEqualityCheck=void 0,n.defaultMemoize=function(e,t){var n="object"==typeof t?t:{equalityCheck:t},i=n.equalityCheck,a=void 0===i?o:i,c=n.maxSize,u=void 0===c?1:c,l=n.resultEqualityCheck,d=s(a),f=1===u?(h=d,{get:function(e){return p&&h(p.key,e)?p.value:r},put:function(e,t){p={key:e,value:t}},getEntries:function(){return p?[p]:[]},clear:function(){p=undefined}}):function(e,t){var n=[];function o(e){var o=n.findIndex(function(n){return t(e,n.key)});if(o>-1){var s=n[o];return o>0&&(n.splice(o,1),n.unshift(s)),s.value}return r}function s(t,s){o(t)===r&&(n.unshift({key:t,value:s}),n.length>e&&n.pop())}function i(){return n}function a(){n=[]}return{get:o,put:s,getEntries:i,clear:a}}(u,d);var h,p;function g(){var t=f.get(arguments);if(t===r){if(t=e.apply(null,arguments),l){var n=f.getEntries().find(function(e){return l(e.value,t)});n&&(t=n.value)}f.put(arguments,t)}return t}return g.clearCache=function(){return f.clear()},g};var r="NOT_FOUND";var o=function(e,t){return e===t};function s(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}n.defaultEqualityCheck=o}}},{package:"@reduxjs/toolkit>reselect",file:"node_modules/@reduxjs/toolkit/node_modules/reselect/lib/defaultMemoize.js"}],[2983,{"./defaultMemoize":2982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSelector=void 0,n.createSelectorCreator=o,n.createStructuredSelector=void 0,Object.defineProperty(n,"defaultEqualityCheck",{enumerable:!0,get:function(){return r.defaultEqualityCheck}}),Object.defineProperty(n,"defaultMemoize",{enumerable:!0,get:function(){return r.defaultMemoize}});var r=e("./defaultMemoize");function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var s,i=0,a={memoizeOptions:undefined},c=r.pop();if("object"==typeof c&&(a=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=a.memoizeOptions,l=void 0===u?n:u,d=Array.isArray(l)?l:[l],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),h=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(d)),p=e(function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return s=h.apply(null,e)});return Object.assign(p,{resultFunc:c,memoizedResultFunc:h,dependencies:f,lastResult:function(){return s},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),p}}var s=o(r.defaultMemoize);n.createSelector=s;n.createStructuredSelector=function(e,t){if(void 0===t&&(t=s),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})});return r}}}},{package:"@reduxjs/toolkit>reselect",file:"node_modules/@reduxjs/toolkit/node_modules/reselect/lib/index.js"}],[2985,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!r(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function i(e){if("function"!=typeof e)throw new Error("function expected");return!0}function a(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function c(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function u(e){if(!Array.isArray(e))throw new Error("array expected")}function l(e,t){if(!s(!0,t))throw new Error(`${e}: array of strings expected`)}function d(e,t){if(!s(!1,t))throw new Error(`${e}: array of numbers expected`)}function f(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map(e=>e.encode).reduceRight(n,t),decode:e.map(e=>e.decode).reduce(n,t)}}function h(e){const t="string"==typeof e?e.split(""):e,n=t.length;l("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(u(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]})),decode:t=>(u(t),t.map(t=>{a("alphabet.decode",t);const n=r.get(t);if(n===undefined)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}function p(e=""){return a("join",e),{encode:t=>(l("join.decode",t),t.join(e)),decode:t=>(a("join.decode",t),t.split(e))}}function g(e,t="="){return c(e),a("padding",t),{encode(n){for(l("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){l("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--){if((r-1)*e%8==0)throw new Error("padding: invalid, string has too much padding")}return n.slice(0,r)}}}function m(e){return i(e),{encode:e=>e,decode:t=>e(t)}}function _(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(u(e),!e.length)return[];let r=0;const o=[],s=Array.from(e,e=>{if(c(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e}),i=s.length;for(;;){let e=0,a=!0;for(let o=r;o<i;o++){const i=s[o],c=t*e,u=c+i;if(!Number.isSafeInteger(u)||c/t!==e||u-i!==c)throw new Error("convertRadix: carry overflow");const l=u/n;e=u%n;const d=Math.floor(l);if(s[o]=d,!Number.isSafeInteger(d)||d*n+e!==u)throw new Error("convertRadix: carry overflow");a&&(d?a=!1:r=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.bytes=n.stringToBytes=n.str=n.bytesToString=n.hex=n.utf8=n.bech32m=n.bech32=n.base58check=n.createBase58check=n.base58xmr=n.base58xrp=n.base58flickr=n.base58=n.base64urlnopad=n.base64url=n.base64nopad=n.base64=n.base32crockford=n.base32hexnopad=n.base32hex=n.base32nopad=n.base32=n.base16=n.utils=void 0;const E=(e,t)=>0===t?e:E(t,e%t),b=(e,t)=>e+(t-E(e,t)),y=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function w(e,t,n,r){if(u(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(b(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${b(t,n)}`);let o=0,s=0;const i=y[t],a=y[n]-1,l=[];for(const r of e){if(c(r),r>=i)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)l.push((o>>s-n&a)>>>0);const e=y[s];if(e===undefined)throw new Error("invalid carry");o&=e-1}if(o=o<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&o>0)throw new Error(`Non-zero padding: ${o}`);return r&&s>0&&l.push(o>>>0),l}function S(e){c(e);return{encode:t=>{if(!r(t))throw new Error("radix.encode input should be Uint8Array");return _(Array.from(t),256,e)},decode:t=>(d("radix.decode",t),Uint8Array.from(_(t,e,256)))}}function R(e,t=!1){if(c(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(b(8,e)>32||b(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!r(n))throw new Error("radix2.encode input should be Uint8Array");return w(Array.from(n),8,e,!t)},decode:n=>(d("radix2.decode",n),Uint8Array.from(w(n,e,8,t)))}}function A(e){return i(e),function(...t){try{return e.apply(null,t)}catch(e){}}}function T(e,t){return c(e),i(t),{encode(n){if(!r(n))throw new Error("checksum.encode: input should be Uint8Array");const o=t(n).slice(0,e),s=new Uint8Array(n.length+e);return s.set(n),s.set(o,n.length),s},decode(n){if(!r(n))throw new Error("checksum.decode: input should be Uint8Array");const o=n.slice(0,-e),s=n.slice(-e),i=t(o).slice(0,e);for(let t=0;t<e;t++)if(i[t]!==s[t])throw new Error("Invalid checksum");return o}}}n.utils={alphabet:h,chain:f,checksum:T,convertRadix:_,convertRadix2:w,radix:S,radix2:R,join:p,padding:g},n.base16=f(R(4),h("0123456789ABCDEF"),p("")),n.base32=f(R(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g(5),p("")),n.base32nopad=f(R(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p("")),n.base32hex=f(R(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g(5),p("")),n.base32hexnopad=f(R(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p("")),n.base32crockford=f(R(5),h("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),p(""),m(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const O=(()=>"function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64)();n.base64=O?{encode:e=>(o(e),e.toBase64()),decode:e=>(a("base64",e),Uint8Array.fromBase64(e,{lastChunkHandling:"strict"}))}:f(R(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g(6),p("")),n.base64nopad=f(R(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p("")),n.base64url=O?{encode:e=>(o(e),e.toBase64({alphabet:"base64url"})),decode:e=>(a("base64",e),Uint8Array.fromBase64(e,{alphabet:"base64url"}))}:f(R(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(6),p("")),n.base64urlnopad=f(R(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p(""));const v=e=>f(S(58),h(e),p(""));n.base58=v("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),n.base58flickr=v("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),n.base58xrp=v("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const I=[0,2,3,5,6,7,9,10,11];n.base58xmr={encode(e){let t="";for(let r=0;r<e.length;r+=8){const o=e.subarray(r,r+8);t+=n.base58.encode(o).padStart(I[o.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const o=e.slice(r,r+11),s=I.indexOf(o.length),i=n.base58.decode(o);for(let e=0;e<i.length-s;e++)if(0!==i[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(t)}};n.createBase58check=e=>f(T(4,t=>e(e(t))),n.base58),n.base58check=n.createBase58check;const N=f(h("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),p("")),C=[996825010,642813549,513874426,1027748829,705979059];function x(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<C.length;e++)1==(t>>e&1)&&(n^=C[e]);return n}function P(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=x(o)^n>>5}o=x(o);for(let t=0;t<r;t++)o=x(o)^31&e.charCodeAt(t);for(let e of t)o=x(o)^e;for(let e=0;e<6;e++)o=x(o);return o^=n,N.encode(w([o%y[30]],30,5,!1))}function L(e){const t="bech32"===e?1:734539939,n=R(5),o=n.decode,s=n.encode,i=A(o);function c(e,n,o=90){a("bech32.encode prefix",e),r(n)&&(n=Array.from(n)),d("bech32.encode",n);const s=e.length;if(0===s)throw new TypeError(`Invalid prefix length ${s}`);const i=s+7+n.length;if(!1!==o&&i>o)throw new TypeError(`Length ${i} exceeds limit ${o}`);const c=e.toLowerCase(),u=P(c,n,t);return`${c}1${N.encode(n)}${u}`}function u(e,n=90){a("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError(`invalid string length: ${r} (${e}). Expected (8..${n})`);const o=e.toLowerCase();if(e!==o&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=o.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const i=o.slice(0,s),c=o.slice(s+1);if(c.length<6)throw new Error("Data must be at least 6 characters long");const u=N.decode(c).slice(0,-6),l=P(i,u,t);if(!c.endsWith(l))throw new Error(`Invalid checksum in ${e}: expected "${l}"`);return{prefix:i,words:u}}return{encode:c,decode:u,encodeFromBytes:function(e,t){return c(e,s(t))},decodeToBytes:function(e){const{prefix:t,words:n}=u(e,!1);return{prefix:t,words:n,bytes:o(n)}},decodeUnsafe:A(u),fromWords:o,fromWordsUnsafe:i,toWords:s}}n.bech32=L("bech32"),n.bech32m=L("bech32m"),n.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};const B=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),k={encode:e=>(o(e),e.toHex()),decode:e=>(a("hex",e),Uint8Array.fromHex(e))};n.hex=B?k:f(R(4),h("0123456789abcdef"),p(""),m(e=>{if("string"!=typeof e||e.length%2!=0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const D={utf8:n.utf8,hex:n.hex,base16:n.base16,base32:n.base32,base64:n.base64,base64url:n.base64url,base58:n.base58,base58xmr:n.base58xmr},U="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";n.bytesToString=(e,t)=>{if("string"!=typeof e||!D.hasOwnProperty(e))throw new TypeError(U);if(!r(t))throw new TypeError("bytesToString() expects Uint8Array");return D[e].encode(t)},n.str=n.bytesToString;n.stringToBytes=(e,t)=>{if(!D.hasOwnProperty(e))throw new TypeError(U);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return D[e].decode(t)},n.bytes=n.stringToBytes}}},{package:"@metamask/utils>@scure/base",file:"node_modules/@scure/base/lib/index.js"}],[3,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={chunks:[{color:[102,24,0],faces:[[2,3,1],[1,3,4],[5,1,4],[6,7,61],[6,61,8],[15,20,12],[15,9,19],[19,20,15],[1,5,0],[1,0,2],[31,30,32],[30,33,32],[34,33,30],[35,37,60],[35,60,36],[44,41,49],[44,48,38],[48,44,49],[30,29,34],[30,31,29],[12,20,49],[12,49,41],[20,19,48],[20,48,49],[19,9,38],[19,38,48]],materialName:"model:model1:brown"},{color:[227,72,7],faces:[[9,6,63],[17,28,13],[13,16,17],[8,65,10],[27,7,59],[63,8,10],[18,2,21],[2,0,21],[21,22,23],[24,22,21],[21,5,24],[14,16,13],[25,16,14],[16,24,17],[25,22,24],[16,25,24],[17,24,5],[0,5,21],[61,27,8],[62,37,35],[42,46,45],[46,42,57],[37,64,56],[56,36,60],[37,62,39],[47,50,31],[31,50,29],[50,52,51],[53,50,51],[50,53,34],[43,42,45],[45,54,43],[53,45,46],[54,53,51],[54,45,53],[53,46,34],[29,50,34],[36,56,58],[23,22,51],[23,51,52],[22,25,54],[22,54,51],[25,14,43],[25,43,54],[56,60,37],[7,27,61],[38,62,35],[8,63,6],[37,39,64],[8,27,65]],materialName:"model:model1:orange_dark"},{color:[255,92,22],faces:[[27,59,4],[65,3,10],[3,2,18],[23,18,21],[27,4,3],[28,15,13],[56,32,33],[56,64,32],[32,47,31],[52,50,47],[56,33,58],[57,42,44],[18,23,52],[18,52,47],[32,64,39],[27,3,65]],materialName:"model:model1:orange_mid"},{color:[192,196,205],faces:[[26,13,11],[14,13,26],[43,55,42],[55,40,42],[14,26,55],[14,55,43],[26,11,40],[26,40,55],[11,12,41],[11,41,40]],materialName:"model:model1:white_underside"},{color:[255,141,93],faces:[[17,59,7],[17,7,28],[28,9,15],[9,28,6],[28,7,6],[58,34,46],[58,46,57],[58,57,36],[57,44,38],[38,35,57],[36,57,35],[62,63,10],[62,10,39],[10,3,32],[10,32,39],[3,18,47],[3,47,32],[59,5,4],[34,58,33],[5,59,17],[38,9,63],[38,63,62]],materialName:"model:model1:pasted__orange_bright_alt"},{color:[231,235,246],faces:[[15,12,11],[15,11,13],[44,42,40],[44,40,41]],materialName:"model:model1:white_side"}],positions:[[11.086484,5.960324999999999,2.77823],[6.465275,4.255375000000001,1.88451],[9.594237,11.702960999999998,4.818539],[2.466232,4.250507000000001,6.037715],[6.464263,1.4749859999999995,3.628665],[9.605342,1.4489300000000007,.910938],[2.231848,-2.4387,8.109403],[4.922223,-1.7745820000000005,6.462612],[2.730904,-.9981170000000006,8.231533],[.93571,-5.683305,13.898631],[1.826048,.1982759999999999,8.967493],[1.258694,-9.521664999999999,11.713494],[1.255813,-7.606733,14.061978],[4.829895,-7.400282,5.474004],[4.015327,-7.042688,.703314],[1.612633,-6.389058,13.879456],[9.587111,-8.813012,-.560606],[11.053112,-3.933592,1.23187],[2.146133,7.2576350000000005,2.344184],[.566381,-6.040558,14.725849],[1.08419,-6.719231000000001,14.706674],[5.171019,4.21175,-3.034384],[2.0921,2.645106,-5.246524],[1.66333,6.2937319999999985,-1.261715],[7.22446,.4266179999999995,-1.816326],[2.34563,-2.4331899999999997,-5.660416],[1.060229,-9.526682000000001,3.893901],[4.81298,.19828200000000074,7.707912],[4.82989,-4.000793,8.547805],[-11.086484,5.960324999999999,2.77823],[-6.465275,4.255375000000001,1.88451],[-9.594237,11.702960999999998,4.818539],[-2.466232,4.250507000000001,6.037715],[-6.464263,1.4749859999999995,3.628665],[-9.605342,1.4489300000000007,.910938],[-2.231848,-2.4387,8.109403],[-4.922223,-1.7745820000000005,6.462612],[-2.730904,-.9981170000000006,8.231533],[-.93571,-5.683305,13.898631],[-1.826048,.1982759999999999,8.967493],[-1.258695,-9.521664999999999,11.713494],[-1.255813,-7.606733,14.061978],[-4.829895,-7.400282,5.474004],[-4.015327,-7.042687,.703314],[-1.612633,-6.389058,13.879456],[-9.587111,-8.813012,-.560606],[-11.053112,-3.933592,1.23187],[-2.146133,7.2576350000000005,2.344184],[-.566381,-6.040558,14.725849],[-1.08419,-6.719231000000001,14.706674],[-5.171019,4.21175,-3.034384],[-2.0921,2.645106,-5.246524],[-1.66333,6.2937319999999985,-1.261715],[-7.22446,.4266179999999995,-1.816326],[-2.34563,-2.4331899999999997,-5.660416],[-1.060229,-9.526682000000001,3.893901],[-4.81298,.19828200000000074,7.707912],[-4.82989,-4.000793,8.547805],[-6.599504,-1.3817730000000008,5.348948],[6.599504,-1.3817730000000008,5.348948],[-4.135162,-.9990760000000005,7.580709],[4.135162,-.9990760000000005,7.580709],[-1.551688,-1.8464950000000009,9.58765],[1.551688,-1.8464950000000009,9.58765],[-3.089554,.19827800000000018,8.422374],[3.089554,.19827800000000018,8.422374]]}}}},{package:"$root$",file:"app/build-types/main/fox.json"}],[309,{loglevel:4824,"webextension-polyfill":5764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("webextension-polyfill")),o=s(e("loglevel"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.default=class{constructor(){i(this,"isSupported",void 0),this.isSupported=Boolean(r.default.storage.local),this.isSupported||o.default.error("Storage local API not available.")}async get(){if(!this.isSupported)return o.default.error("Storage local API not available."),null;const{local:e}=r.default.storage;return await e.get(["data","meta"])}async set({data:e,meta:t}){if(!this.isSupported)throw new Error("Metamask- cannot persist state to local store as this browser does not support this action");const{local:n}=r.default.storage;return await n.set({data:e,meta:t})}async reset(){if(!this.isSupported)throw new Error("Metamask- cannot persist state to local store as this browser does not support this action");const{local:e}=r.default.storage;return await e.remove(["data","meta"])}}}}},{package:"$root$",file:"app/scripts/lib/stores/extension-store.ts"}],[310,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function o(e,t,n){return e.set(i(e,t),n),n}function s(e,t){return e.get(i(e,t))}function i(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function a(e){return new Promise((t,n)=>{e.oncomplete=()=>t(),e.onerror=()=>n(e.error)})}Object.defineProperty(n,"__esModule",{value:!0}),n.IndexedDBStore=void 0;var c=new WeakMap;n.IndexedDBStore=class{constructor(){r(this,c,null)}async open(e,t){s(c,this)||await new Promise((n,r)=>{const s=indexedDB.open(e,t);s.onupgradeneeded=async()=>{const e=s.result;e.objectStoreNames.contains("store")||e.createObjectStore("store")},s.onsuccess=()=>{o(c,this,s.result),n()},s.onerror=()=>{r(s.error)}})}async set(e){if(!s(c,this))throw new Error("Database is not open");const t=Object.keys(e),n=s(c,this).transaction("store","readwrite"),r=n.objectStore("store");for(const n of t)r.put(e[n],n);await a(n)}async get(e){if(!s(c,this))throw new Error("Database is not open");const t=[...new Set(e)],n=s(c,this).transaction("store","readonly"),r=n.objectStore("store"),o=t.map(e=>r.get(e)),i=await Promise.all(o.map(e=>new Promise((t,n)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>n(e.error)})));await a(n);const u=new Map(t.map((e,t)=>[e,i[t]]));return e.map(e=>u.get(e))}async remove(e){if(!s(c,this))throw new Error("Database is not open");const t=s(c,this).transaction("store","readwrite"),n=t.objectStore("store");for(const t of e)n.delete(t);await a(t)}async reset(){if(!s(c,this))throw new Error("Database is not open");const e=s(c,this).transaction("store","readwrite");e.objectStore("store").clear(),await a(e)}close(){s(c,this)&&(s(c,this).close(),o(c,this,null))}}}}},{package:"$root$",file:"app/scripts/lib/stores/indexeddb-store.ts"}],[311,{"../../../../shared/constants/errors":5786,"../../../../shared/lib/sentry":5881,"./indexeddb-store":310,"@metamask/utils":2908,lodash:4816,loglevel:4824},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.backedUpStateKeys=n.PersistenceManager=n.PersistenceError=void 0;var r,o=(r=e("loglevel"))&&r.__esModule?r:{default:r},s=e("lodash"),i=e("@metamask/utils"),a=e("../../../../shared/lib/sentry"),c=e("../../../../shared/constants/errors"),u=e("./indexeddb-store");function l(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function d(e,t){return e.get(h(e,t))}function f(e,t,n){return e.set(h(e,t),n),n}function h(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=n.backedUpStateKeys=["KeyringController","AppMetadataController"];class m extends Error{constructor(e,t){super(e),p(this,"backup",void 0),this.name="PersistenceError",this.backup=t}}function _(e){const t=null==e?void 0:e.KeyringController;return(0,i.isObject)(t)&&(0,i.hasProperty)(t,"vault")&&Boolean(null==t?void 0:t.vault)}n.PersistenceError=m;const E="state-lock";var b=new WeakMap,y=new WeakMap,w=new WeakMap,S=new WeakMap,R=new WeakMap,A=new WeakMap,T=new WeakMap,O=new WeakMap,v=new WeakMap;n.PersistenceManager=class{constructor({localStore:e}){l(this,b,!1),l(this,y,null),l(this,w,void 0),l(this,S,!1),l(this,R,void 0),l(this,A,null),l(this,T,void 0),l(this,O,!1),l(this,v,undefined),f(R,this,e)}async open(){if(!d(O,this)){try{const e=new u.IndexedDBStore;await e.open("metamask-backup",1),f(A,this,e)}catch(e){if(!((0,i.isObject)(e)&&e instanceof DOMException&&"InvalidStateError"===e.name&&"A mutation operation was attempted on a database that did not allow mutations."===e.message))throw e;(0,a.captureException)(e),console.warn("Could not open backup database; automatic vault recovery will not be available."),console.error(e)}f(O,this,!0)}}setMetadata(e){f(w,this,e)}async set(e){var t;if(await this.open(),!e)throw new Error("MetaMask - updated state is missing");const n=d(w,this);if(!n)throw new Error('MetaMask - metadata must be set before calling "set"');const r=new AbortController;null===(t=d(v,this))||void 0===t||t.abort(),f(v,this,r),await navigator.locks.request(E,{mode:"exclusive",signal:r.signal},async()=>{f(v,this,undefined);try{await d(R,this).set({data:e,meta:n});const r=function(e,t){return{KeyringController:null==e?void 0:e.KeyringController,AppMetadataController:null==e?void 0:e.AppMetadataController,meta:t}}(e,n);if(_(r)){const e=JSON.stringify(r);var t;if(d(T,this)!==e)await(null===(t=d(A,this))||void 0===t?void 0:t.set(r)),f(T,this,e)}d(b,this)&&f(b,this,!1)}catch(e){d(b,this)||(f(b,this,!0),(0,a.captureException)(e)),o.default.error("error setting state in local store:",e)}finally{f(S,this,!0)}})}async get({validateVault:e}){return await this.open(),await navigator.locks.request(E,{mode:"shared"},async()=>{const t=await d(R,this).get();if(e&&!_(null==t?void 0:t.data)){const e=await this.getBackup();if(e&&Object.values(e).some(e=>e!==undefined))throw new m(c.MISSING_VAULT_ERROR,e)}return(0,s.isEmpty)(t)?(f(y,this,null),undefined):(d(S,this)||f(y,this,t),t)})}async reset(){await navigator.locks.request(E,{mode:"exclusive"},async()=>{var e;await Promise.all([d(R,this).reset(),await(null===(e=d(A,this))||void 0===e?void 0:e.reset())]),f(T,this,undefined),f(S,this,!1),f(b,this,!1),f(w,this,undefined),this.cleanUpMostRecentRetrievedState()})}async getBackup(){const e=d(A,this);if(!e)return undefined;const[t,n,r]=await e.get([...g,"meta"]);return{KeyringController:t,AppMetadataController:n,meta:r}}async logEncryptedVault(){let e,t=null;try{var n;e=null===(n=await this.get({validateVault:!1}))||void 0===n?void 0:n.data,t="primary database"}catch(e){console.error("Error getting state from persistence manager",e)}if(!_(e))try{e=await this.getBackup(),t="backup database"}catch(e){t=null,console.error("Error getting state from backup",e)}_(e)?(console.log(`MetaMask - Encrypted Vault from ${t}:`),console.log(e.KeyringController.vault)):console.log("MetaMask - No vault found in primary database or backup database")}get mostRecentRetrievedState(){return d(y,this)}cleanUpMostRecentRetrievedState(){d(y,this)&&f(y,this,null)}}}}},{package:"$root$",file:"app/scripts/lib/stores/persistence-manager.ts"}],[312,{"../../../../shared/modules/fetch-with-timeout":5904,loglevel:4824},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("loglevel"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){a(e,t),t.set(e,n)}function a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t){return e.get(l(e,t))}function u(e,t,n){return e.set(l(e,t),n),n}function l(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const d=(0,o(e("../../../../shared/modules/fetch-with-timeout")).default)();var f=new WeakMap,h=new WeakMap,p=new WeakMap,g=new WeakSet;async function m(){try{const e=await d("http://localhost:12345/state.json");e.ok?u(p,this,await e.json()):r.default.debug(`Received response with a status of ${e.status} ${e.statusText}`)}catch(e){console.log("error",e),e instanceof Error?r.default.debug(`Error loading network state: '${e.message}'`):r.default.debug("Error loading network state: An unknown error occurred")}finally{u(f,this,!0)}}n.default=class{constructor(){var e,t;a(e=this,t=g),t.add(e),i(this,f,!1),i(this,h,void 0),i(this,p,null),s(this,"isSupported",!0),u(h,this,l(g,this,m).call(this))}async get(){return c(f,this)||await c(h,this),c(p,this)}async set(e){if(!e)throw new Error("MetaMask - updated state is missing");c(f,this)||await c(h,this),u(p,this,e)}async reset(){u(f,this,!1),u(p,this,null),u(h,this,l(g,this,m).call(this)),await c(h,this)}}}}},{package:"$root$",file:"app/scripts/lib/stores/read-only-network-store.ts"}],[313,{"@metamask/object-multiplex":2292,"readable-stream":5278},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isStreamWritable=function(e){var t;return Boolean(e.writable&&!e.destroyed&&!(null!==(t=e._writableState)&&void 0!==t&&t.ended))},n.setupMultiplex=function(e){const t=new o.default;return(0,s.pipeline)(e,t,e,e=>{var t;!e||null!==(t=e.message)&&void 0!==t&&t.match("Premature close")||console.error(e)}),t};var r,o=(r=e("@metamask/object-multiplex"))&&r.__esModule?r:{default:r},s=e("readable-stream")}}},{package:"$root$",file:"app/scripts/lib/stream-utils.js"}],[3179,{"@solana/assertions":3180,"@solana/codecs-core":3181,"@solana/codecs-strings":3182,"@solana/errors":3183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,o,s=e("@solana/codecs-core"),i=e("@solana/codecs-strings"),a=e("@solana/errors"),c=e("@solana/assertions");function u(){return r||(r=i.getBase58Encoder()),r}function l(e){if(e.length<32||e.length>44)return!1;const t=u();try{return 32===t.encode(e).byteLength}catch{return!1}}function d(e){if(e.length<32||e.length>44)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE,{actualLength:e.length});const t=u().encode(e).byteLength;if(32!==t)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH,{actualLength:t})}function f(e){return d(e),e}function h(){return s.transformEncoder(s.fixEncoderSize(u(),32),e=>f(e))}function p(){return s.fixDecoderSize((o||(o=i.getBase58Decoder()),o),32)}function g(){return s.combineCodec(h(),p())}var m=57896044618658097711785492504343953926634992332820282019728792003956564819949n,_=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function E(e){const t=e%m;return t>=0n?t:m+t}function b(e,t){let n=e;for(;t-- >0n;)n*=n,n%=m;return n}function y(e,t){const n=E(t*t*t),r=function(e){const t=e*e%m*e%m,n=b(t,2n)*t%m,r=b(n,1n)*e%m,o=b(r,5n)*r%m,s=b(o,10n)*o%m,i=b(s,20n)*s%m,a=b(i,40n)*i%m,c=b(a,80n)*a%m,u=b(c,80n)*a%m,l=b(u,10n)*o%m;return b(l,2n)*e%m}(e*E(n*n*t));let o=E(e*n*r);const s=E(t*o*o),i=o,a=E(o*_),c=s===e,u=s===E(-e),l=s===E(-e*_);return c&&(o=i),(u||l)&&(o=a),1n==(1n&E(o))&&(o=E(-o)),c||u?o:null}function w(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`,"");return BigInt(`0x${t}`)}(e);return function(e,t){const n=E(e*e),r=y(E(n-1n),E(37095705934669439343138083508754565189542113879843219016388785533085940283555n*n+1n));return null!==r&&(0n!==r||!(128&t))}(t,e[31])}var S=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function R({programAddress:e,seeds:t}){if(c.assertDigestCapabilityIsAvailable(),t.length>16)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED,{actual:t.length,maxSeeds:16});let n;const r=t.reduce((e,t,r)=>{const o="string"==typeof t?(n||(n=new TextEncoder)).encode(t):t;if(o.byteLength>32)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED,{actual:o.byteLength,index:r,maxSeedLength:32});return e.push(...o),e},[]),o=g(),s=o.encode(e),i=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...s,...S])),u=new Uint8Array(i);if(w(u))throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE);return o.decode(u)}n.address=f,n.assertIsAddress=d,n.assertIsProgramDerivedAddress=function(e){if(!(Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"number"==typeof e[1]))throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA);if(e[1]<0||e[1]>255)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE,{bump:e[1]});d(e[0])},n.createAddressWithSeed=async function({baseAddress:e,programAddress:t,seed:n}){const{encode:r,decode:o}=g(),s="string"==typeof n?(new TextEncoder).encode(n):n;if(s.byteLength>32)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED,{actual:s.byteLength,index:0,maxSeedLength:32});const i=r(t);if(i.length>=S.length&&i.slice(-S.length).every((e,t)=>e===S[t]))throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER);const c=await crypto.subtle.digest("SHA-256",new Uint8Array([...r(e),...s,...i]));return o(new Uint8Array(c))},n.getAddressCodec=g,n.getAddressComparator=function(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare},n.getAddressDecoder=p,n.getAddressEncoder=h,n.getAddressFromPublicKey=async function(e){if(c.assertKeyExporterIsAvailable(),"public"!==e.type||"Ed25519"!==e.algorithm.name)throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY);const t=await crypto.subtle.exportKey("raw",e);return p().decode(new Uint8Array(t))},n.getProgramDerivedAddress=async function({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await R({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!a.isSolanaError(e,a.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE))throw e;n--}throw new a.SolanaError(a.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED)},n.isAddress=l,n.isProgramDerivedAddress=function(e){return Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"number"==typeof e[1]&&e[1]>=0&&e[1]<=255&&l(e[0])}}}},{package:"@solana/addresses",file:"node_modules/@solana/addresses/dist/index.browser.cjs"}],[3180,{"@solana/errors":3183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,o=e("@solana/errors");function s(){if(!globalThis.isSecureContext)throw new o.SolanaError(o.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT)}n.assertDigestCapabilityIsAvailable=function(){var e;if(s(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.digest))throw new o.SolanaError(o.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED)},n.assertKeyExporterIsAvailable=function(){var e;if(s(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.exportKey))throw new o.SolanaError(o.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED)},n.assertKeyGenerationIsAvailable=async function(){var e;if(s(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.generateKey))throw new o.SolanaError(o.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED);if(!await async function(e){return void 0===r&&(r=new Promise(t=>{e.generateKey("Ed25519",!1,["sign","verify"]).then(()=>{t(r=!0)}).catch(()=>{t(r=!1)})})),"boolean"==typeof r?r:await r}(globalThis.crypto.subtle))throw new o.SolanaError(o.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED)},n.assertPRNGIsAvailable=function(){if(void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.getRandomValues)throw new o.SolanaError(o.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED)},n.assertSigningCapabilityIsAvailable=function(){var e;if(s(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.sign))throw new o.SolanaError(o.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED)},n.assertVerificationCapabilityIsAvailable=function(){var e;if(s(),void 0===globalThis.crypto||"function"!=typeof(null===(e=globalThis.crypto.subtle)||void 0===e?void 0:e.verify))throw new o.SolanaError(o.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED)}}}},{package:"@solana/addresses>@solana/assertions",file:"node_modules/@solana/addresses/node_modules/@solana/assertions/dist/index.browser.cjs"}],[3181,{"@solana/errors":3183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@solana/errors"),o=(e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n},s=(e,t)=>o(e.length<=t?e:e.slice(0,t),t);function i(e,t,n){const r=0===n&&e.length===t.length?e:e.slice(n,n+t.length);return r.length===t.length&&t.every((e,t)=>e===r[t])}function a(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function c(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(a(t,e));return e.write(t,n,0),n}})}function u(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function l(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0],encode:t=>{const n=new Uint8Array(a(t,e));return e.write(t,n,0),n}})}function d(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function f(e){if(!d(e))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH)}function h(e){return!d(e)}function p(e,t){if(d(e)!==d(t))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(d(e)&&d(t)&&e.fixedSize!==t.fixedSize)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!d(e)&&!d(t)&&e.maxSize!==t.maxSize)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function g(e,t){const n=(n,o,s)=>{const i=e.encode(n);if(_(i,t)>=0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,{encodedBytes:i,hexEncodedBytes:E(i),hexSentinel:E(t),sentinel:t});return o.set(i,s),s+=i.length,o.set(t,s),s+=t.length};return d(e)?c({...e,fixedSize:e.fixedSize+t.length,write:n}):c({...e,...null!=e.maxSize?{maxSize:e.maxSize+t.length}:{},getSizeFromValue:n=>e.getSizeFromValue(n)+t.length,write:n})}function m(e,t){const n=(n,o)=>{const s=0===o?n:n.slice(o),i=_(s,t);if(-1===i)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,{decodedBytes:s,hexDecodedBytes:E(s),hexSentinel:E(t),sentinel:t});const a=s.slice(0,i);return[e.decode(a),o+a.length+t.length]};return d(e)?u({...e,fixedSize:e.fixedSize+t.length,read:n}):u({...e,...null!=e.maxSize?{maxSize:e.maxSize+t.length}:{},read:n})}function _(e,t){return e.findIndex((e,n,r)=>1===t.length?e===t[0]:i(r,t,n))}function E(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}function b(e,t,n,o=0){const s=n.length-o;if(s<t)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:s,codecDescription:e,expected:t})}function y(e,t,n){if(t<0||t>n)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:n,codecDescription:e,offset:t})}function w(e,t){const n=(n,r,o)=>{const s=e.encode(n);return o=t.write(s.length,r,o),r.set(s,o),o+s.length};if(d(t)&&d(e))return c({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=d(t)?t.fixedSize:t.maxSize??null,o=d(e)?e.fixedSize:e.maxSize??null,s=null!==r&&null!==o?r+o:null;return c({...e,...null!==s?{maxSize:s}:{},getSizeFromValue:n=>{const r=a(n,e);return a(r,t)+r},write:n})}function S(e,t){const n=(n,r)=>{const[o,s]=t.read(n,r),i=Number(o);return((r=s)>0||n.length>i)&&(n=n.slice(r,r+i)),b("addDecoderSizePrefix",i,n),[e.decode(n),r+i]};if(d(t)&&d(e))return u({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=d(t)?t.fixedSize:t.maxSize??null,o=d(e)?e.fixedSize:e.maxSize??null,s=null!==r&&null!==o?r+o:null;return u({...e,...null!==s?{maxSize:s}:{},read:n})}function R(e,t){return c({fixedSize:t,write:(n,r,o)=>{const s=e.encode(n),i=s.length>t?s.slice(0,t):s;return r.set(i,o),o+t}})}function A(e,t){return u({fixedSize:t,read:(n,r)=>{b("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),d(e)&&(n=s(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function T(e,t){return c({...e,write:(n,r,o)=>{const s=e=>v(e,r.length),i=t.preOffset?t.preOffset({bytes:r,preOffset:o,wrapBytes:s}):o;y("offsetEncoder",i,r.length);const a=e.write(n,r,i),c=t.postOffset?t.postOffset({bytes:r,newPreOffset:i,postOffset:a,preOffset:o,wrapBytes:s}):a;return y("offsetEncoder",c,r.length),c}})}function O(e,t){return u({...e,read:(n,r)=>{const o=e=>v(e,n.length),s=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;y("offsetDecoder",s,n.length);const[i,a]=e.read(n,s),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:s,postOffset:a,preOffset:r,wrapBytes:o}):a;return y("offsetDecoder",c,n.length),[i,c]}})}function v(e,t){return 0===t?0:(e%t+t)%t}function I(e,t){if(d(e)){const n=t(e.fixedSize);if(n<0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeEncoder"});return c({...e,fixedSize:n})}return c({...e,getSizeFromValue:n=>{const o=t(e.getSizeFromValue(n));if(o<0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:o,codecDescription:"resizeEncoder"});return o}})}function N(e,t){if(d(e)){const n=t(e.fixedSize);if(n<0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeDecoder"});return u({...e,fixedSize:n})}return e}function C(e,t){return T(I(e,e=>e+t),{preOffset:({preOffset:e})=>e+t})}function x(e,t){return T(I(e,e=>e+t),{postOffset:({postOffset:e})=>e+t})}function P(e,t){return O(N(e,e=>e+t),{preOffset:({preOffset:e})=>e+t})}function L(e,t){return O(N(e,e=>e+t),{postOffset:({postOffset:e})=>e+t})}function B(e,t,n,r,o=0){for(;n<--r;){const s=e[n];t[n+o]=e[r],t[r+o]=s,n++}n===r&&(t[n+o]=e[n])}function k(e){return f(e),c({...e,write:(t,n,r)=>{const o=e.write(t,n,r);return B(n,n,r,r+e.fixedSize),o}})}function D(e){return f(e),u({...e,read:(t,n)=>{const r=t.slice();return B(t,r,n,n+e.fixedSize),e.read(r,n)}})}function U(e,t){return c({...h(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function M(e,t){return u({...e,read:(n,r)=>{const[o,s]=e.read(n,r);return[t(o,n,r),s]}})}n.addCodecSentinel=function(e,t){return p(g(e,t),m(e,t))},n.addCodecSizePrefix=function(e,t){return p(w(e,t),S(e,t))},n.addDecoderSentinel=m,n.addDecoderSizePrefix=S,n.addEncoderSentinel=g,n.addEncoderSizePrefix=w,n.assertByteArrayHasEnoughBytesForCodec=b,n.assertByteArrayIsNotEmptyForCodec=function(e,t,n=0){if(t.length-n<=0)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:e})},n.assertByteArrayOffsetIsNotOutOfRange=y,n.assertIsFixedSize=f,n.assertIsVariableSize=function(e){if(!h(e))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH)},n.combineCodec=p,n.containsBytes=i,n.createCodec=l,n.createDecoder=u,n.createEncoder=c,n.fixBytes=s,n.fixCodecSize=function(e,t){return p(R(e,t),A(e,t))},n.fixDecoderSize=A,n.fixEncoderSize=R,n.getEncodedSize=a,n.isFixedSize=d,n.isVariableSize=h,n.mergeBytes=e=>{const t=e.filter(e=>e.length);if(0===t.length)return e.length?e[0]:new Uint8Array;if(1===t.length)return t[0];const n=t.reduce((e,t)=>e+t.length,0),r=new Uint8Array(n);let o=0;return t.forEach(e=>{r.set(e,o),o+=e.length}),r},n.offsetCodec=function(e,t){return p(T(e,t),O(e,t))},n.offsetDecoder=O,n.offsetEncoder=T,n.padBytes=o,n.padLeftCodec=function(e,t){return p(C(e,t),P(e,t))},n.padLeftDecoder=P,n.padLeftEncoder=C,n.padRightCodec=function(e,t){return p(x(e,t),L(e,t))},n.padRightDecoder=L,n.padRightEncoder=x,n.resizeCodec=function(e,t){return p(I(e,t),N(e,t))},n.resizeDecoder=N,n.resizeEncoder=I,n.reverseCodec=function(e){return p(k(e),D(e))},n.reverseDecoder=D,n.reverseEncoder=k,n.transformCodec=function(e,t,n){return l({...U(e,t),read:n?M(e,n).read:e.read})},n.transformDecoder=M,n.transformEncoder=U}}},{package:"@solana/addresses>@solana/codecs-core",file:"node_modules/@solana/addresses/node_modules/@solana/codecs-core/dist/index.browser.cjs"}],[3182,{"@solana/codecs-core":3181,"@solana/errors":3183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@solana/errors"),o=e("@solana/codecs-core");function s(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:e,base:e.length,value:n})}var i=e=>o.createEncoder({getSizeFromValue:t=>{const[n,r]=u(t,e[0]);if(!r)return t.length;const o=l(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(s(e,t),""===t)return r;const[o,i]=u(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=l(i,e);const c=[];for(;a>0n;)c.unshift(Number(a%256n)),a/=256n;const d=[...Array(o.length).fill(0),...c];return n.set(d,r),r+d.length}}),a=e=>o.createDecoder({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let o=r.findIndex(e=>0!==e);o=-1===o?r.length:o;const s=e[0].repeat(o);if(o===r.length)return[s,t.length];const i=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(o).reduce((e,t)=>256n*e+BigInt(t),0n),e);return[s+i,t.length]}}),c=e=>o.combineCodec(i(e),a(e));function u(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function l(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var d="0123456789",f={alphabet:"0123456789abcdef",base:16};function h(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}var p=()=>o.createEncoder({getSizeFromValue:e=>Math.ceil(e.length/2),write(e,t,n){const o=e.length,s=o/2;if(1===o){const o=h(e.charCodeAt(0));if(void 0===o)throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{...f,value:e});return t.set([o],n),1+n}const i=new Uint8Array(s);for(let t=0,n=0;t<s;t++){const o=e.charCodeAt(n++),s=e.charCodeAt(n++),a=h(o),c=h(s);if(void 0===a||void 0===c&&!Number.isNaN(s))throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{...f,value:e});i[t]=Number.isNaN(s)?a:a<<4|(c??0)}return t.set(i,n),i.length+n}}),g=()=>o.createDecoder({read:(e,t)=>[e.slice(t).reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),e.length]}),m="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",_=(e,t)=>o.createEncoder({getSizeFromValue:e=>Math.floor(e.length*t/8),write(n,r,o){if(s(e,n),""===n)return o;const i=b([...n].map(t=>e.indexOf(t)),t,8,!1);return r.set(i,o),i.length+o}}),E=(e,t)=>o.createDecoder({read(n,r=0){const o=0===r?n:n.slice(r);if(0===o.length)return["",n.length];return[b([...o],8,t,!0).map(t=>e[t]).join(""),n.length]}});function b(e,t,n,r){const o=[];let s=0,i=0;const a=(1<<n)-1;for(const r of e)for(s=s<<t|r,i+=t;i>=n;)i-=n,o.push(s>>i&a);return r&&i>0&&o.push(s<<n-i&a),o}var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=()=>o.createEncoder({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:y,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map(e=>e.charCodeAt(0));return t.set(r,n),r.length+n}catch{throw new r.SolanaError(r.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:y,base:64,value:e})}}}),S=()=>o.createDecoder({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),R=e=>e.replace(/\u0000/g,""),A=globalThis.TextDecoder,T=globalThis.TextEncoder,O=()=>{let e;return o.createEncoder({getSizeFromValue:t=>(e||(e=new T)).encode(t).length,write:(t,n,r)=>{const o=(e||(e=new T)).encode(t);return n.set(o,r),r+o.length}})},v=()=>{let e;return o.createDecoder({read(t,n){const r=(e||(e=new A)).decode(t.slice(n));return[R(r),t.length]}})};n.assertValidBaseString=s,n.getBase10Codec=()=>c(d),n.getBase10Decoder=()=>a(d),n.getBase10Encoder=()=>i(d),n.getBase16Codec=()=>o.combineCodec(p(),g()),n.getBase16Decoder=g,n.getBase16Encoder=p,n.getBase58Codec=()=>c(m),n.getBase58Decoder=()=>a(m),n.getBase58Encoder=()=>i(m),n.getBase64Codec=()=>o.combineCodec(w(),S()),n.getBase64Decoder=S,n.getBase64Encoder=w,n.getBaseXCodec=c,n.getBaseXDecoder=a,n.getBaseXEncoder=i,n.getBaseXResliceCodec=(e,t)=>o.combineCodec(_(e,t),E(e,t)),n.getBaseXResliceDecoder=E,n.getBaseXResliceEncoder=_,n.getUtf8Codec=()=>o.combineCodec(O(),v()),n.getUtf8Decoder=v,n.getUtf8Encoder=O,n.padNullCharacters=(e,t)=>e.padEnd(t,"\0"),n.removeNullCharacters=R}}},{package:"@solana/addresses>@solana/codecs-strings",file:"node_modules/@solana/addresses/node_modules/@solana/codecs-strings/dist/index.browser.cjs"}],[3183,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=-32700,s=-32603,i=-32602,a=-32601,c=-32600,u=-32016,l=-32015,d=-32014,f=-32013,h=-32012,p=-32011,g=-32010,m=-32009,_=-32008,E=-32007,b=-32006,y=-32005,w=-32004,S=-32003,R=-32002,A=-32001,T=28e5,O=2800001,v=2800002,I=2800003,N=2800004,C=2800005,x=2800006,P=2800007,L=2800008,B=2800009,k=2800010,D=323e4,U=32300001,M=3230002,j=3230003,F=3230004,H=361e4,G=3610001,z=3610002,V=3610003,W=3610004,q=3610005,K=3610006,X=3610007,$=3611e3,Y=3704e3,Q=3704001,J=3704002,Z=3704003,ee=3704004,te=4128e3,ne=4128001,re=4128002,oe=4615e3,se=4615001,ie=4615002,ae=4615003,ce=4615004,ue=4615005,le=4615006,de=4615007,fe=4615008,he=4615009,pe=4615010,ge=4615011,me=4615012,_e=4615013,Ee=4615014,be=4615015,ye=4615016,we=4615017,Se=4615018,Re=4615019,Ae=4615020,Te=4615021,Oe=4615022,ve=4615023,Ie=4615024,Ne=4615025,Ce=4615026,xe=4615027,Pe=4615028,Le=4615029,Be=4615030,ke=4615031,De=4615032,Ue=4615033,Me=4615034,je=4615035,Fe=4615036,He=4615037,Ge=4615038,ze=4615039,Ve=4615040,We=4615041,qe=4615042,Ke=4615043,Xe=4615044,$e=4615045,Ye=4615046,Qe=4615047,Je=4615048,Ze=4615049,et=4615050,tt=4615051,nt=4615052,rt=4615053,ot=4615054,st=5508e3,it=5508001,at=5508002,ct=5508003,ut=5508004,lt=5508005,dt=5508006,ft=5508007,ht=5508008,pt=5508009,gt=5508010,mt=5508011,_t=5663e3,Et=5663001,bt=5663002,yt=5663003,wt=5663004,St=5663005,Rt=5663006,At=5663007,Tt=5663008,Ot=5663009,vt=5663010,It=5663011,Nt=5663012,Ct=5663013,xt=5663014,Pt=5663015,Lt=5663016,Bt=5663017,kt=5663018,Dt=5663019,Ut=705e4,Mt=7050001,jt=7050002,Ft=7050003,Ht=7050004,Gt=7050005,zt=7050006,Vt=7050007,Wt=7050008,qt=7050009,Kt=7050010,Xt=7050011,$t=7050012,Yt=7050013,Qt=7050014,Jt=7050015,Zt=7050016,en=7050017,tn=7050018,nn=7050019,rn=7050020,on=7050021,sn=7050022,an=7050023,cn=7050024,un=7050025,ln=7050026,dn=7050027,fn=7050028,hn=7050029,pn=7050030,gn=7050031,mn=7050032,_n=7050033,En=7050034,bn=7050035,yn=7050036,wn=8078e3,Sn=8078001,Rn=8078002,An=8078003,Tn=8078004,On=8078005,vn=8078006,In=8078007,Nn=8078008,Cn=8078009,xn=8078010,Pn=8078011,Ln=8078012,Bn=8078013,kn=8078014,Dn=8078015,Un=8078016,Mn=8078017,jn=8078018,Fn=8078019,Hn=8078020,Gn=8078021,zn=8078022,Vn=81e5,Wn=8100001,qn=8100002,Kn=8100003,Xn=819e4,$n=8190001,Yn=8190002,Qn=8190003,Jn=8190004,Zn=99e5,er=9900001,tr=9900002,nr=9900003,rr=9900004;function or(e){if(Array.isArray(e)){return"%5B"+e.map(or).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function sr([e,t]){return`${e}=${or(t)}`}function ir(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(sr).join("&");return btoa(t)}(t)}'`),`${n}\``}}var ar=class extends Error{constructor(...[e,t]){let n,o;if(t){const{cause:e,...r}=t;e&&(o={cause:e}),Object.keys(r).length>0&&(n=r)}super(ir(e,n),o),r(this,"cause",this.cause),r(this,"context",void 0),this.context={__code:e,...n},this.name="SolanaError"}};function cr(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function ur({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},o){let s,i;"string"==typeof r?s=r:(s=Object.keys(r)[0],i=r[s]);const a=e+n.indexOf(s),c=t(a,s,i),u=new ar(a,c);return cr(u,o),u}var lr=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function dr(e,t){const n=Number(e);return ur({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===oe?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===Ce?{code:Number(r),index:n}:e===$e?{encodedData:r,index:n}:{index:n},orderedErrorNames:lr,rpcEnumError:t},dr)}var fr=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function hr(e){return"object"==typeof e&&"InstructionError"in e?dr(...e.InstructionError):ur({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===Ut?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===pn?{index:Number(n)}:e===gn||e===bn?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:fr,rpcEnumError:e},hr)}n.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=D,n.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=F,n.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=j,n.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=M,n.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=U,n.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=B,n.SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=v,n.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=T,n.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=I,n.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=L,n.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=N,n.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=x,n.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=P,n.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=C,n.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=k,n.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=O,n.SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=4,n.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=1,n.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=wn,n.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=zn,n.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=Hn,n.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=On,n.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=vn,n.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=Tn,n.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=Nn,n.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=Rn,n.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=Bn,n.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=An,n.SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=Fn,n.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=Sn,n.SOLANA_ERROR__CODECS__INVALID_CONSTANT=jn,n.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=Cn,n.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=xn,n.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=Dn,n.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=In,n.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=Ln,n.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=Un,n.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=Pn,n.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=kn,n.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=Gn,n.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=Mn,n.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=$,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=he,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=ve,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=Ie,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=Te,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=ue,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=Oe,n.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=Ye,n.SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=Je,n.SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=$e,n.SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=ot,n.SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=De,n.SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=Ge,n.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=Ce,n.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=we,n.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=Ne,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=Be,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=Pe,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=Le,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=Se,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=Ee,n.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=_e,n.SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=se,n.SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=et,n.SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=Ke,n.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=Xe,n.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=de,n.SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=le,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=ce,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=Qe,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=ie,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=xe,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=ae,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=He,n.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=Fe,n.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=tt,n.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=nt,n.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=rt,n.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=je,n.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=Ue,n.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=fe,n.SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=me,n.SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=Ae,n.SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=ze,n.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=Ve,n.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=qe,n.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=We,n.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=ye,n.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=be,n.SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=Me,n.SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=Re,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=ge,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=pe,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=oe,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=ke,n.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=Ze,n.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=te,n.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=ne,n.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=re,n.SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=5,n.SOLANA_ERROR__INVALID_NONCE=2,n.SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=tr,n.SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED=rr,n.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=er,n.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING=Zn,n.SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=nr,n.SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=s,n.SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=i,n.SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=c,n.SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=a,n.SOLANA_ERROR__JSON_RPC__PARSE_ERROR=o,n.SOLANA_ERROR__JSON_RPC__SCAN_ERROR=h,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=A,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=w,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=d,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=g,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=m,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=u,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=y,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=_,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=R,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=E,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=p,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=b,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=f,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=S,n.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=l,n.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=Y,n.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=Q,n.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=J,n.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=ee,n.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=Z,n.SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=6,n.SOLANA_ERROR__MALFORMED_BIGINT_STRING=7,n.SOLANA_ERROR__MALFORMED_NUMBER_STRING=8,n.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=3,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN=Xn,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED=Yn,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED=Qn,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT=Jn,n.SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=$n,n.SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD=Kn,n.SOLANA_ERROR__RPC__INTEGER_OVERFLOW=Vn,n.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=qn,n.SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=Wn,n.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=st,n.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=it,n.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=ct,n.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=ut,n.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=at,n.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=dt,n.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=ft,n.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=ht,n.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=lt,n.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=pt,n.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=gt,n.SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=mt,n.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=X,n.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=G,n.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=H,n.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=z,n.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=V,n.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=W,n.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=q,n.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=K,n.SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=9,n.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=Zt,n.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=Mt,n.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=jt,n.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=Ft,n.SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=an,n.SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=Vt,n.SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=Wt,n.SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=qt,n.SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=Jt,n.SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=pn,n.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=Gt,n.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=gn,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=zt,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=Xt,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=un,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=ln,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=cn,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=_n,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=Yt,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=dn,n.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=nn,n.SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=mn,n.SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=Kt,n.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=Ht,n.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=bn,n.SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=En,n.SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=Qt,n.SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=$t,n.SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=sn,n.SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=yn,n.SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=Ut,n.SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=tn,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=on,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=hn,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=rn,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=en,n.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=fn,n.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=Pt,n.SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=vt,n.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=Lt,n.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=bt,n.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=yt,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=St,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=Rt,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=Tt,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=At,n.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=kt,n.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT=Dt,n.SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=It,n.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=Nt,n.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=xt,n.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=Ct,n.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=_t,n.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=Et,n.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=Bt,n.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=Ot,n.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=wt,n.SolanaError=ar,n.getSolanaErrorFromInstructionError=dr,n.getSolanaErrorFromJsonRpcError=function e({code:t,data:n,message:r}){let u;const f=Number(t);if(f===R){const{err:e,...t}=n,r=e?{cause:hr(e)}:null;u=new ar(R,{...t,...r})}else{let e;switch(f){case s:case i:case c:case a:case o:case h:case A:case w:case d:case g:case m:case E:case b:case l:e={__serverMessage:r};break;default:"object"!=typeof n||Array.isArray(n)||(e=n)}u=new ar(f,e)}return cr(u,e),u},n.getSolanaErrorFromTransactionError=hr,n.isSolanaError=function(e,t){return!!(e instanceof Error&&"SolanaError"===e.name)&&(void 0===t||e.context.__code===t)},n.safeCaptureStackTrace=cr}}},{package:"@solana/addresses>@solana/errors",file:"node_modules/@solana/addresses/node_modules/@solana/errors/dist/index.browser.cjs"}],[3184,{"./utils":3186,"apg-js/src/apg-api/api":3841,"apg-js/src/apg-lib/node-exports":3859},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParsedMessage=void 0;const s=o(e("apg-js/src/apg-api/api")),i=o(e("apg-js/src/apg-lib/node-exports")),a=e("./utils");class c{static generateApi(){const e=new s.default('\nsign-in-with-ethereum =\n    [ scheme "://" ] domain %s" wants you to sign in with your Ethereum account:" LF\n    address LF\n    LF\n    [ statement LF ]\n    LF\n    %s"URI: " URI LF\n    %s"Version: " version LF\n    %s"Chain ID: " chain-id LF\n    %s"Nonce: " nonce LF\n    %s"Issued At: " issued-at\n    [ LF %s"Expiration Time: " expiration-time ]\n    [ LF %s"Not Before: " not-before ]\n    [ LF %s"Request ID: " request-id ]\n    [ LF %s"Resources:"\n    resources ]\n\ndomain = authority\n\naddress = "0x" 40*40HEXDIG\n    ; Must also conform to captilization\n    ; checksum encoding specified in EIP-55\n    ; where applicable (EOAs).\n\nstatement = 1*( reserved / unreserved / " " )\n    ; The purpose is to exclude LF (line breaks).\n\nversion = "1"\n\nnonce = 8*( ALPHA / DIGIT )\n\nissued-at = date-time\nexpiration-time = date-time\nnot-before = date-time\n\nrequest-id = *pchar\n\nchain-id = 1*DIGIT\n    ; See EIP-155 for valid CHAIN_IDs.\n\nresources = *( LF resource )\n\nresource = "- " URI\n\n; ------------------------------------------------------------------------------\n; RFC 3986\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n                 / %x31-39 DIGIT         ; 10-99\n                 / "1" 2DIGIT            ; 100-199\n                 / "2" %x30-34 DIGIT     ; 200-249\n                 / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n\n; ------------------------------------------------------------------------------\n; RFC 3339\n\ndate-fullyear   = 4DIGIT\ndate-month      = 2DIGIT  ; 01-12\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\ntime-hour       = 2DIGIT  ; 00-23\ntime-minute     = 2DIGIT  ; 00-59\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\ntime-secfrac    = "." 1*DIGIT\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\nfull-date       = date-fullyear "-" date-month "-" date-mday\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n\n; ------------------------------------------------------------------------------\n; RFC 5234\n\nALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z\nLF             =  %x0A\n                  ; linefeed\nDIGIT          =  %x30-39\n                  ; 0-9\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n');if(e.generate(),e.errors.length)throw console.error(e.errorsToAscii()),console.error(e.linesToAscii()),console.log(e.displayAttributeErrors()),new Error("ABNF grammar has errors");return e.toObject()}}r=c,c.grammarObj=r.generateApi();n.ParsedMessage=class{constructor(e){const t=new i.default.parser;t.ast=new i.default.ast;const n=i.default.ids;t.ast.callbacks.scheme=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&0===r&&(s.scheme=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks.domain=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.domain=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks.address=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.address=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks.statement=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.statement=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks.uri=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.uri||(s.uri=i.default.utils.charsToString(t,r,o))),a};t.ast.callbacks.version=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.version=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks["chain-id"]=function(e,t,r,o,s){const c=n.SEM_OK;return e===n.SEM_PRE&&(s.chainId=(0,a.parseIntegerNumber)(i.default.utils.charsToString(t,r,o))),c};t.ast.callbacks.nonce=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.nonce=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks["issued-at"]=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.issuedAt=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks["expiration-time"]=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.expirationTime=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks["not-before"]=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.notBefore=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks["request-id"]=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.requestId=i.default.utils.charsToString(t,r,o)),a};t.ast.callbacks.resources=function(e,t,r,o,s){const a=n.SEM_OK;return e===n.SEM_PRE&&(s.resources=i.default.utils.charsToString(t,r,o).slice(3).split("\n- ")),a};const r=t.parse(c.grammarObj,"sign-in-with-ethereum",e);if(!r.success)throw new Error(`Invalid message: ${JSON.stringify(r)}`);const o={};t.ast.translate(o);for(const[e,t]of Object.entries(o))this[e]=t;if(0===this.domain.length)throw new Error("Domain cannot be empty.")}}}}},{package:"@metamask/controller-utils>@spruceid/siwe-parser",file:"node_modules/@spruceid/siwe-parser/dist/abnf.js"}],[3185,{"./abnf":3184,"./utils":3186},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.ParsedMessage=void 0;const s=e("./abnf");Object.defineProperty(n,"ParsedMessage",{enumerable:!0,get:function(){return s.ParsedMessage}}),o(e("./utils"),n)}}},{package:"@metamask/controller-utils>@spruceid/siwe-parser",file:"node_modules/@spruceid/siwe-parser/dist/parsers.js"}],[3186,{"@noble/hashes/sha3":2962,"@noble/hashes/utils":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseIntegerNumber=n.isEIP55Address=void 0;const r=e("@noble/hashes/sha3"),o=e("@noble/hashes/utils");n.isEIP55Address=e=>{if(42!=e.length)return!1;const t=`${e}`.toLowerCase().replace("0x",""),n=(0,o.bytesToHex)((0,r.keccak_256)(t));let s="0x";for(let e=0;e<t.length;e++)parseInt(n[e],16)>=8?s+=t[e].toUpperCase():s+=t[e];return e===s};n.parseIntegerNumber=e=>{const t=parseInt(e);if(isNaN(t))throw new Error("Invalid number.");if(t===Infinity)throw new Error("Invalid number.");return t}}}},{package:"@metamask/controller-utils>@spruceid/siwe-parser",file:"node_modules/@spruceid/siwe-parser/dist/utils.js"}],[3187,{"@stablelib/int":3188},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("@stablelib/int");function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function s(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function i(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function l(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),l(e/4294967296>>>0,t,n),l(e>>>0,t,n+4),t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),d(e>>>0,t,n),d(e/4294967296>>>0,t,n+4),t}n.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},n.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},n.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},n.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},n.writeUint16BE=o,n.writeInt16BE=o,n.writeUint16LE=s,n.writeInt16LE=s,n.readInt32BE=i,n.readUint32BE=a,n.readInt32LE=c,n.readUint32LE=u,n.writeUint32BE=l,n.writeInt32BE=l,n.writeUint32LE=d,n.writeInt32LE=d,n.readInt64BE=function(e,t){void 0===t&&(t=0);var n=i(e,t),r=i(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},n.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},n.readInt64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n-4294967296*(n>>31)},n.readUint64LE=function(e,t){void 0===t&&(t=0);var n=u(e,t);return 4294967296*u(e,t+4)+n},n.writeUint64BE=f,n.writeInt64BE=f,n.writeUint64LE=h,n.writeInt64LE=h,n.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,o=1,s=e/8+n-1;s>=n;s--)r+=t[s]*o,o*=256;return r},n.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,o=1,s=n;s<n+e/8;s++)r+=t[s]*o,o*=256;return r},n.writeUintBE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var s=1,i=e/8+o-1;i>=o;i--)n[i]=t/s&255,s*=256;return n},n.writeUintLE=function(e,t,n,o){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===o&&(o=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var s=1,i=o;i<o+e/8;i++)n[i]=t/s&255,s*=256;return n},n.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},n.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},n.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},n.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},n.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},n.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},n.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},n.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random>@stablelib/binary",file:"node_modules/@stablelib/binary/lib/binary.js"}],[3188,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},n.add=function(e,t){return e+t|0},n.sub=function(e,t){return e-t|0},n.rotl=function(e,t){return e<<t|e>>>32-t},n.rotr=function(e,t){return e<<32-t|e>>>t},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.MAX_SAFE_INTEGER=9007199254740991,n.isSafeInteger=function(e){return n.isInteger(e)&&e>=-n.MAX_SAFE_INTEGER&&e<=n.MAX_SAFE_INTEGER}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random>@stablelib/binary>@stablelib/int",file:"node_modules/@stablelib/int/lib/int.js"}],[3189,{"./source/system":3192,"@stablelib/binary":3187,"@stablelib/wipe":3193},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.randomStringForEntropy=n.randomString=n.randomUint32=n.randomBytes=n.defaultRandomSource=void 0;const r=e("./source/system"),o=e("@stablelib/binary"),s=e("@stablelib/wipe");function i(e,t=n.defaultRandomSource){return t.randomBytes(e)}n.defaultRandomSource=new r.SystemRandomSource,n.randomBytes=i,n.randomUint32=function(e=n.defaultRandomSource){const t=i(4,e),r=(0,o.readUint32LE)(t);return(0,s.wipe)(t),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,t=a,r=n.defaultRandomSource){if(t.length<2)throw new Error("randomString charset is too short");if(t.length>256)throw new Error("randomString charset is too long");let o="";const c=t.length,u=256-256%c;for(;e>0;){const n=i(Math.ceil(256*e/u),r);for(let r=0;r<n.length&&e>0;r++){const s=n[r];s<u&&(o+=t.charAt(s%c),e--)}(0,s.wipe)(n)}return o}n.randomString=c,n.randomStringForEntropy=function(e,t=a,r=n.defaultRandomSource){return c(Math.ceil(e/(Math.log(t.length)/Math.LN2)),t,r)}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random",file:"node_modules/@stablelib/random/lib/random.js"}],[3190,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BrowserRandomSource=void 0;n.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==undefined&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random",file:"node_modules/@stablelib/random/lib/source/browser.js"}],[3191,{"@stablelib/wipe":3193,crypto:4013},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NodeRandomSource=void 0;const r=e("@stablelib/wipe");n.NodeRandomSource=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,void 0!==e){const t=e("crypto");t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let e=0;e<n.length;e++)n[e]=t[e];return(0,r.wipe)(t),n}}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random",file:"node_modules/@stablelib/random/lib/source/node.js"}],[3192,{"./browser":3190,"./node":3191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SystemRandomSource=void 0;const r=e("./browser"),o=e("./node");n.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new o.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random",file:"node_modules/@stablelib/random/lib/source/system.js"}],[3193,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}}}},{package:"@metamask/profile-sync-controller>siwe>@stablelib/random>@stablelib/wipe",file:"node_modules/@stablelib/wipe/lib/wipe.js"}],[3194,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},o={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},s={[r.MAINNET]:"0xf20336e16B5182637f09821c27BDe29b0AFcfe80",[r.TESTNET]:"0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",[r.CYAN]:"0x9f072ba19b3370e512aa1b4bfcdaf97283168005",[r.AQUA]:"0x29Dea82a0509153b91040ee13cDBba0f03efb625",[r.CELESTE]:"0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c"},i={[r.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:o.SAPPHIRE_MAINNET},[r.CELESTE]:{migrationCompleted:!0,networkIdentifier:"celeste",networkMigratedTo:o.SAPPHIRE_MAINNET},[r.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:o.SAPPHIRE_MAINNET},[r.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:o.SAPPHIRE_MAINNET},[r.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:o.SAPPHIRE_DEVNET}},a={[r.MAINNET]:"mainnet",[r.TESTNET]:"goerli",[r.CYAN]:"polygon-mainnet",[r.AQUA]:"polygon-mainnet",[r.CELESTE]:"polygon-mainnet"},c={[o.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[o.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[r.MAINNET]:"https://api.web3auth.io/signer-service",[r.TESTNET]:"https://api.web3auth.io/signer-service",[r.CYAN]:"https://api.web3auth.io/signer-polygon-service",[r.AQUA]:"https://api.web3auth.io/signer-polygon-service",[r.CELESTE]:"https://api.web3auth.io/signer-polygon-service"},u={[r.MAINNET]:"https://api.web3auth.io/metadata-service",[r.TESTNET]:"https://api.web3auth.io/metadata-service",[r.CYAN]:"https://api.web3auth.io/metadata-service",[r.AQUA]:"https://api.web3auth.io/metadata-service",[r.CELESTE]:"https://api.web3auth.io/metadata-service"};n.AUTHJS_SERVER_URL="https://api.web3auth.io/authjs-service",n.FND_SERVER="https://api.web3auth.io/fnd-service",n.KEY_TYPE={SECP256K1:"secp256k1",ED25519:"ed25519"},n.LEGACY_NETWORKS_ROUTE_MAP=i,n.METADATA_MAP=u,n.MULTI_CLUSTER_NETWORKS=[],n.NETWORK_MAP=a,n.PROXY_CONTRACT_ADDRESS=s,n.SESSION_SERVER_API_URL="https://api.web3auth.io/session-service",n.SESSION_SERVER_SOCKET_URL="https://session.web3auth.io",n.SIGNER_MAP=c,n.SIG_TYPE={ECDSA_SECP256K1:"ecdsa-secp256k1",ED25519:"ed25519",BIP340:"bip340"},n.TORUS_LEGACY_NETWORK=r,n.TORUS_SAPPHIRE_NETWORK=o}}},{package:"@metamask/seedless-onboarding-controller>@metamask/auth-network-utils>@toruslabs/constants",file:"node_modules/@toruslabs/constants/dist/lib.cjs/constants.js"}],[3195,{"./constants.js":3194,"./interfaces.js":3196},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./constants.js"),o=e("./interfaces.js");n.AUTHJS_SERVER_URL=r.AUTHJS_SERVER_URL,n.FND_SERVER=r.FND_SERVER,n.KEY_TYPE=r.KEY_TYPE,n.LEGACY_NETWORKS_ROUTE_MAP=r.LEGACY_NETWORKS_ROUTE_MAP,n.METADATA_MAP=r.METADATA_MAP,n.MULTI_CLUSTER_NETWORKS=r.MULTI_CLUSTER_NETWORKS,n.NETWORK_MAP=r.NETWORK_MAP,n.PROXY_CONTRACT_ADDRESS=r.PROXY_CONTRACT_ADDRESS,n.SESSION_SERVER_API_URL=r.SESSION_SERVER_API_URL,n.SESSION_SERVER_SOCKET_URL=r.SESSION_SERVER_SOCKET_URL,n.SIGNER_MAP=r.SIGNER_MAP,n.SIG_TYPE=r.SIG_TYPE,n.TORUS_LEGACY_NETWORK=r.TORUS_LEGACY_NETWORK,n.TORUS_SAPPHIRE_NETWORK=r.TORUS_SAPPHIRE_NETWORK,n.abi=o.abi}}},{package:"@metamask/seedless-onboarding-controller>@metamask/auth-network-utils>@toruslabs/constants",file:"node_modules/@toruslabs/constants/dist/lib.cjs/index.js"}],[3196,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){n.abi=[{inputs:[{internalType:"string",name:"_verifier",type:"string"},{internalType:"bytes32",name:"hashedVerifierId",type:"bytes32"}],name:"getNodeSet",outputs:[{internalType:"uint256",name:"currentEpoch",type:"uint256"},{internalType:"string[]",name:"torusNodeEndpoints",type:"string[]"},{internalType:"uint256[]",name:"torusNodePubX",type:"uint256[]"},{internalType:"uint256[]",name:"torusNodePubY",type:"uint256[]"},{internalType:"uint256[]",name:"torusIndexes",type:"uint256[]"}],stateMutability:"view",type:"function"}]}}},{package:"@metamask/seedless-onboarding-controller>@metamask/auth-network-utils>@toruslabs/constants",file:"node_modules/@toruslabs/constants/dist/lib.cjs/interfaces.js"}],[3197,{buffer:4061,elliptic:4234},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=new(e("elliptic").ec)("secp256k1"),o=globalThis.crypto||globalThis.msCrypto||{},s=o.subtle||o.webkitSubtle,i=t.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),a=t.alloc(32,0);function c(e,t){if(!e)throw new Error(t||"Assertion failed")}function u(e){return n=e,!(!t.isBuffer(n)||32!==n.length)&&(e.compare(a)>0&&e.compare(i)<0);var n}function l(e){if(void 0===o.getRandomValues)return t.from(o.randomBytes(e));const n=new Uint8Array(e);return o.getRandomValues(n),t.from(n)}async function d(e){if(!o.createHash){const t=await s.digest("SHA-512",e);return new Uint8Array(t)}const t=o.createHash("sha512").update(e).digest();return new Uint8Array(t)}function f(e){return async function(n,r,i){if(s&&s[e]&&s.importKey){const o={name:"AES-CBC"},a=await s.importKey("raw",r,o,!1,[e]),c={name:"AES-CBC",iv:n},u=await s[e](c,a,i);return t.from(new Uint8Array(u))}if("encrypt"===e&&o.createCipheriv){const e=o.createCipheriv("aes-256-cbc",r,n),s=e.update(i),a=e.final();return t.concat([s,a])}if("decrypt"===e&&o.createDecipheriv){const e=o.createDecipheriv("aes-256-cbc",r,n),s=e.update(i),a=e.final();return t.concat([s,a])}throw new Error(`Unsupported operation: ${e}`)}}const h=f("encrypt"),p=f("decrypt");async function g(e,n){if(!o.createHmac){const r={name:"HMAC",hash:{name:"SHA-256"}},o=await s.importKey("raw",new Uint8Array(e),r,!1,["sign","verify"]),i=await s.sign("HMAC",o,n);return t.from(new Uint8Array(i))}const r=o.createHmac("sha256",t.from(e));r.update(n);return r.digest()}const m=function(e){return c(32===e.length,"Bad private key"),c(u(e),"Bad private key"),t.from(r.keyFromPrivate(e).getPublic("array"))},_=async function(e,n,o){c(t.isBuffer(e),"Bad private key"),c(t.isBuffer(n),"Bad public key"),c(32===e.length,"Bad private key"),c(u(e),"Bad private key"),c(65===n.length||33===n.length,"Bad public key"),65===n.length&&c(4===n[0],"Bad public key"),33===n.length&&c(2===n[0]||3===n[0],"Bad public key");const s=r.keyFromPrivate(e),i=r.keyFromPublic(n),a=s.derive(i.getPublic());return o?t.from(a.toString(16,64),"hex"):t.from(a.toArray())},E=async function(e,n,r){const o=await _(e,n.ephemPublicKey,r),s=await d(o),i=s.slice(0,32),a=s.slice(32),c=t.concat([n.iv,n.ephemPublicKey,n.ciphertext]),u=await async function(e,t,n){return function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(await g(e,t),n)}(t.from(a),c,n.mac);if(!u&&!r)return E(e,n,!0);if(!u&&!0===r)throw new Error("bad MAC after trying padded");const l=await p(n.iv,t.from(i),n.ciphertext);return t.from(new Uint8Array(l))};n.decrypt=E,n.derive=_,n.derivePadded=async function(e,t){return _(e,t,!0)},n.deriveUnpadded=async function(e,t){return _(e,t,!1)},n.encrypt=async function(e,n,r){let o=(r=r||{}).ephemPrivateKey||l(32);for(;!u(o);)o=r.ephemPrivateKey||l(32);const s=m(o),i=await _(o,e,r.padding),a=await d(i),c=r.iv||l(16),f=a.slice(0,32),p=a.slice(32),E=await h(c,t.from(f),n),b=t.concat([c,s,E]);return{iv:c,ephemPublicKey:s,ciphertext:E,mac:await g(t.from(p),b)}},n.generatePrivate=function(){let e=l(32);for(;!u(e);)e=l(32);return e},n.getPublic=m,n.getPublicCompressed=function(e){c(32===e.length,"Bad private key"),c(u(e),"Bad private key");return t.from(r.keyFromPrivate(e).getPublic(!0,"array"))},n.sign=async function(e,n){return c(32===e.length,"Bad private key"),c(u(e),"Bad private key"),c(n.length>0,"Message should not be empty"),c(n.length<=32,"Message is too long"),t.from(r.sign(n,e,{canonical:!0}).toDER())},n.verify=async function(e,t,n){if(c(65===e.length||33===e.length,"Bad public key"),65===e.length&&c(4===e[0],"Bad public key"),33===e.length&&c(2===e[0]||3===e[0],"Bad public key"),c(t.length>0,"Message should not be empty"),c(t.length<=32,"Message is too long"),r.verify(t,n,e))return null;throw new Error("Bad signature")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@toruslabs/eccrypto",file:"node_modules/@toruslabs/eccrypto/dist/lib.cjs/index.js"}],[3198,{"./nodeDetailManager.js":3199},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./nodeDetailManager.js");n.NodeDetailManager=r}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details",file:"node_modules/@toruslabs/fetch-node-details/dist/lib.cjs/index.js"}],[3199,{"@babel/runtime/helpers/defineProperty":571,"@babel/runtime/helpers/objectSpread2":582,"@toruslabs/constants":3195,"@toruslabs/fnd-base":3202,"@toruslabs/http-helpers":3200,loglevel:4824},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@babel/runtime/helpers/objectSpread2"),o=e("@babel/runtime/helpers/defineProperty"),s=e("@toruslabs/constants"),i=e("@toruslabs/fnd-base"),a=e("@toruslabs/http-helpers");const c=e("loglevel").getLogger("fnd");t.exports=class{constructor({network:e=s.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET,keyType:t=s.KEY_TYPE.SECP256K1,sigType:n=s.SIG_TYPE.ECDSA_SECP256K1,fndServerEndpoint:i,enableLogging:a=!1}={}){if(o(this,"fndServerEndpoint",`${s.FND_SERVER}/node-details`),o(this,"_currentEpoch","1"),o(this,"_keyType",void 0),o(this,"_sigType",void 0),o(this,"_torusNodeEndpoints",[]),o(this,"_torusNodeRSSEndpoints",[]),o(this,"_torusNodeSSSEndpoints",[]),o(this,"_torusNodeTSSEndpoints",[]),o(this,"_torusNodePub",[]),o(this,"_torusIndexes",[]),o(this,"updated",void 0),o(this,"network",void 0),e&&!Object.values(r(r({},s.TORUS_LEGACY_NETWORK),s.TORUS_SAPPHIRE_NETWORK)).includes(e))throw new Error("Invalid network");this.network=e,this._keyType=t,this._sigType=n,this.updated=!1,i&&(this.fndServerEndpoint=i),a?c.enableAll():c.disableAll()}get _nodeDetails(){return{currentEpoch:this._currentEpoch,torusNodeEndpoints:this._torusNodeEndpoints,torusNodeSSSEndpoints:this._torusNodeSSSEndpoints,torusNodeRSSEndpoints:this._torusNodeRSSEndpoints,torusNodeTSSEndpoints:this._torusNodeTSSEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}async getNodeDetails({verifier:e,verifierId:t}){try{if(this.updated&&!s.MULTI_CLUSTER_NETWORKS.includes(this.network))return this._nodeDetails;try{const{nodeDetails:n}=await a.get(`${this.fndServerEndpoint}?network=${this.network}&verifier=${e}&verifierId=${t}&keyType=${this._keyType}&sigType=${this._sigType}`);return this.setNodeDetails(n),this._nodeDetails}catch(e){c.error("Failed to fetch node details from server, using local.",e)}const n=i.fetchLocalConfig(this.network,this._keyType,this._sigType);if(!n)throw new Error("Failed to fetch node details");return this.setNodeDetails(n),this._nodeDetails}catch(e){throw c.error("Failed to fetch node details",e),e}}async getMetadataUrl(){if(Object.values(s.TORUS_LEGACY_NETWORK).includes(this.network))return s.METADATA_MAP[this.network];return(await this.getNodeDetails({verifier:"test-verifier",verifierId:"test-verifier-id"})).torusNodeEndpoints[0].replace("/sss/jrpc","/metadata")}setNodeDetails(e){const{currentEpoch:t,torusNodeEndpoints:n,torusNodeSSSEndpoints:r,torusNodeRSSEndpoints:o,torusNodeTSSEndpoints:s,torusNodePub:i,torusIndexes:a}=e;this._torusNodeEndpoints=n,this._torusNodeSSSEndpoints=r||[],this._torusNodeRSSEndpoints=o||[],this._torusNodeTSSEndpoints=s||[],this._torusNodePub=i,this._torusIndexes=a,this._currentEpoch=t,this.updated=!0}}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details",file:"node_modules/@toruslabs/fetch-node-details/dist/lib.cjs/nodeDetailManager.js"}],[3200,{"@babel/runtime/helpers/objectSpread2":582,deepmerge:4214,loglevel:4824},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@babel/runtime/helpers/objectSpread2"),o=e("deepmerge"),s=e("loglevel");const i=s.getLogger("http-helpers");i.setLevel(s.levels.INFO);let a="torus-default",c="";const u="x-api-key",l="x-embed-host";let d=null;const f=[],h=[];async function p(e,t){let n=null;try{n=new URL(e)}catch{}if(d&&n&&(f.includes(n.origin)||h.includes(n.pathname))){return await d.startSpan({name:e,op:"http.client"},async()=>await fetch(e,t))}return fetch(e,t)}function g(){const e={};return a&&(e[u]=a),c&&(e[l]=c),e}function m(e){i.info(`Response: ${e.status} ${e.statusText}`),i.info(`Url: ${e.url}`)}const _=async(e,t)=>{let n=null;try{const r=new Promise((t,r)=>{n=setTimeout(()=>{r(new Error(`Timed out in ${e}ms`))},e)}),o=await Promise.race([t,r]);return null!=n&&clearTimeout(n),o}catch(e){throw null!=n&&clearTimeout(n),e}},E=async(e,t={},n={})=>{const s={mode:"cors",headers:{}};n.useAPIKey&&(s.headers=r(r({},s.headers),g())),t.method="GET";const i=o(s,t),a=await p(e,i);if(a.ok){const e=a.headers.get("content-type");return null!=e&&e.includes("application/json")?a.json():a.text()}throw m(a),a};n.clearAPIKey=function(){a="torus-default"},n.clearEmbedHost=function(){c=""},n.enableSentryTracing=function(e,t,n){d=e,f.push(...t),h.push(...n)},n.gatewayAuthHeader=u,n.gatewayEmbedHostHeader=l,n.generateJsonRPCObject=(e,t)=>({jsonrpc:"2.0",method:e,id:10,params:t}),n.get=E,n.getAPIKey=function(){return a},n.getEmbedHost=function(){return c},n.patch=async(e,t={},n={},s={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};s.useAPIKey&&(i.headers=r(r({},i.headers),g())),n.method="PATCH";const a=o(i,n);s.isUrlEncodedData?(a.body=t,"application/json; charset=utf-8"===a.headers["Content-Type"]&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t);const c=await p(e,a);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw m(c),c},n.post=(e,t={},n={},s={})=>{const a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};s.useAPIKey&&(a.headers=r(r({},a.headers),g())),n.method="POST";const c=o(a,n);return s.isUrlEncodedData?(c.body=t,"application/json; charset=utf-8"===c.headers["Content-Type"]&&delete c.headers["Content-Type"]):c.body=JSON.stringify(t),_(s.timeout||6e4,p(e,c).then(e=>{if(s.logTracingHeader&&function(e){const t=e.headers.get("x-web3-correlation-id");t&&i.info(`Request tracing with traceID = ${t}`)}(e),e.ok){const t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?e.json():e.text()}throw m(e),e}))},n.promiseRace=(e,t,n=6e4)=>Promise.race([E(e,t),new Promise((e,t)=>{setTimeout(()=>{t(new Error("timed out"))},n)})]),n.promiseTimeout=_,n.put=async(e,t={},n={},s={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};s.useAPIKey&&(i.headers=r(r({},i.headers),g())),n.method="PUT";const a=o(i,n);s.isUrlEncodedData?(a.body=t,"application/json; charset=utf-8"===a.headers["Content-Type"]&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t);const c=await p(e,a);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw m(c),c},n.remove=async(e,t={},n={},s={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};s.useAPIKey&&(i.headers=r(r({},i.headers),g())),n.method="DELETE";const a=o(i,n);s.isUrlEncodedData?(a.body=t,"application/json; charset=utf-8"===a.headers["Content-Type"]&&delete a.headers["Content-Type"]):a.body=JSON.stringify(t);const c=await p(e,a);if(c.ok){const e=c.headers.get("content-type");return null!=e&&e.includes("application/json")?c.json():c.text()}throw m(c),c},n.setAPIKey=function(e){a=e},n.setEmbedHost=function(e){c=e},n.setLogLevel=function(e){i.setLevel(e)}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/http-helpers",file:"node_modules/@toruslabs/fetch-node-details/node_modules/@toruslabs/http-helpers/dist/lib.cjs/index.js"}],[3201,{"@toruslabs/constants":3195},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@toruslabs/constants");const o={[r.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:["https://node-1.dev-node.web3auth.io","https://node-2.dev-node.web3auth.io","https://node-3.dev-node.web3auth.io","https://node-4.dev-node.web3auth.io","https://node-5.dev-node.web3auth.io"],[r.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:["https://node-1.node.web3auth.io","https://node-2.node.web3auth.io","https://node-3.node.web3auth.io","https://node-4.node.web3auth.io","https://node-5.node.web3auth.io"]};n.SAPPHIRE_NETWORK_URLS=o,n.getRSSEndpoints=(e,t)=>{const n=o[e];if(!n||0===n.length)throw new Error(`Unsupported network: ${e}`);const s=r.LEGACY_NETWORKS_ROUTE_MAP[t];return n.map(e=>s&&s.networkIdentifier?`${e}/rss/${s.networkIdentifier}`:`${e}/rss`)},n.getSSSEndpoints=(e,t)=>{const n=o[e];if(!n||0===n.length)throw new Error(`Unsupported network: ${e}`);const s=r.LEGACY_NETWORKS_ROUTE_MAP[t];return n.map(e=>s&&s.networkIdentifier?`${e}/sss/${s.networkIdentifier}/jrpc`:`${e}/sss/jrpc`)},n.getTSSEndpoints=(e,t,n=r.KEY_TYPE.SECP256K1,s)=>{const i=o[e];if(!i||0===i.length)throw new Error(`Unsupported network: ${e}`);const a=(()=>{const e="tss-frost";if(s){if(s===r.SIG_TYPE.ECDSA_SECP256K1){if(n!==r.KEY_TYPE.SECP256K1)throw new Error("Invalid key type for ecdsa-secp256k1");return"tss"}if(s===r.SIG_TYPE.ED25519){if(n!==r.KEY_TYPE.ED25519)throw new Error("Invalid key type for ed25519");return e}if(s===r.SIG_TYPE.BIP340){if(n!==r.KEY_TYPE.SECP256K1)throw new Error("Invalid key type for bip340");return e}throw new Error("Invalid sig type")}if(n===r.KEY_TYPE.SECP256K1)return"tss";if(n===r.KEY_TYPE.ED25519)return e;throw new Error("Invalid key type")})(),c=r.LEGACY_NETWORKS_ROUTE_MAP[t];return i.map(e=>c&&c.networkIdentifier?`${e}/${a}/${c.networkIdentifier}`:`${e}/${a}`)}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/endpoints.js"}],[3202,{"./endpoints.js":3201,"./sapphireNetworkConfig.js":3204,"./utils.js":3205},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./endpoints.js"),o=e("./sapphireNetworkConfig.js"),s=e("./utils.js");n.SAPPHIRE_NETWORK_URLS=r.SAPPHIRE_NETWORK_URLS,n.getRSSEndpoints=r.getRSSEndpoints,n.getSSSEndpoints=r.getSSSEndpoints,n.getTSSEndpoints=r.getTSSEndpoints,n.getSapphireNodeDetails=o.getSapphireNodeDetails,n.fetchLocalConfig=s.fetchLocalConfig}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/index.js"}],[3203,{"@toruslabs/constants":3195},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@toruslabs/constants");const o={[r.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:[{X:"e0925898fee0e9e941fdca7ee88deec99939ae9407e923535c4d4a3a3ff8b052",Y:"54b9fea924e3f3e40791f9987f4234ae4222412d65b74068032fa5d8b63375c1"},{X:"9124cf1e280aab32ba50dffd2de81cecabc13d82d2c1fe9de82f3b3523f9b637",Y:"fca939a1ceb42ce745c55b21ef094f543b457630cb63a94ef4f1afeee2b1f107"},{X:"555f681a63d469cc6c3a58a97e29ebd277425f0e6159708e7c7bf05f18f89476",Y:"606f2bcc0884fa5b64366fc3e8362e4939841b56acd60d5f4553cf36b891ac4e"},{X:"2b5f58d8e340f1ab922e89b3a69a68930edfe51364644a456335e179bc130128",Y:"4b4daa05939426e3cbe7d08f0e773d2bf36f64c00d04620ee6df2a7af4d2247"},{X:"3ecbb6a68afe72cf34ec6c0a12b5cb78a0d2e83ba402983b6adbc5f36219861a",Y:"dc1031c5cc8f0472bd521a62a64ebca9e163902c247bf05937daf4ae835091e4"}],[r.TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:[{X:"f74389b0a4c8d10d2a687ae575f69b20f412d41ab7f1fe6b358aa14871327247",Y:"54e3a73098ed9bced3ef8821736e9794f9264a1420c0c7ad15d2fa617ba35ef7"},{X:"bc38813a6873e526087918507c78fc3a61624670ee851ecfb4f3bef55d027b5a",Y:"ac4b21229f662a0aefdfdac21cf17c3261a392c74a8790db218b34e3e4c1d56a"},{X:"b56541684ea5fa40c8337b7688d502f0e9e092098962ad344c34e94f06d293fb",Y:"759a998cef79d389082f9a75061a29190eec0cac99b8c25ddcf6b58569dad55c"},{X:"7bcb058d4c6ffc6ba4bfdfd93d141af35a66338a62c7c27cdad2ae3f8289b767",Y:"336ab1935e41ed4719e162587f0ab55518db4207a1eb36cc72303f1b86689d2b"},{X:"bf12a136ef94399ea098f926f04e26a4ec4ac70f69cce274e8893704c4951773",Y:"bdd44828020f52ce510e026338216ada184a6867eb4e19fb4c2d495d4a7e15e4"}]};n.SAPPHIRE_NODE_PUB_KEYS=o}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/pubKeys.js"}],[3204,{"./endpoints.js":3201,"./pubKeys.js":3203},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./endpoints.js"),o=e("./pubKeys.js");n.getSapphireNodeDetails=(e,t,n,s)=>({currentEpoch:"1",torusNodeEndpoints:r.getSSSEndpoints(e,t),torusNodeSSSEndpoints:r.getSSSEndpoints(e,t),torusNodeRSSEndpoints:r.getRSSEndpoints(e,t),torusNodeTSSEndpoints:r.getTSSEndpoints(e,t,n,s),torusIndexes:[1,2,3,4,5],torusNodePub:o.SAPPHIRE_NODE_PUB_KEYS[e]})}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/sapphireNetworkConfig.js"}],[3205,{"./sapphireNetworkConfig.js":3204,"@toruslabs/constants":3195},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("@toruslabs/constants"),o=e("./sapphireNetworkConfig.js");n.fetchLocalConfig=function(e,t,n){if(Object.values(r.TORUS_SAPPHIRE_NETWORK).includes(e))return o.getSapphireNodeDetails(e,undefined,t,n);if(Object.values(r.TORUS_LEGACY_NETWORK).includes(e)){const n=r.LEGACY_NETWORKS_ROUTE_MAP[e];if(n.migrationCompleted)return o.getSapphireNodeDetails(n.networkMigratedTo,e,t)}return undefined}}}},{package:"@metamask/seedless-onboarding-controller>@metamask/toprf-secure-backup>@toruslabs/fetch-node-details>@toruslabs/fnd-base",file:"node_modules/@toruslabs/fnd-base/dist/lib.cjs/utils.js"}],[3206,{"./messageChannel/abstract":3207,"./storage":3208,"./systemInfo":3209,tslib:5687},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib");r.__exportStar(e("./storage"),n),r.__exportStar(e("./messageChannel/abstract"),n),r.__exportStar(e("./systemInfo"),n)}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/index.js"}],[3207,{"@trezor/utils":3535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AbstractMessageChannel=void 0;const r=e("@trezor/utils");class o extends r.TypedEmitter{messagePromises={};messagesQueue=[];messageID=0;isConnected=!1;handshakeMaxRetries=5;handshakeRetryInterval=2e3;handshakeFinished;lazyHandshake;legacyMode;logger;sendFn;channel;constructor({sendFn:e,channel:t,logger:n,lazyHandshake:r=!1,legacyMode:o=!1}){super(),this.channel=t,this.sendFn=e,this.lazyHandshake=r,this.legacyMode=o,this.logger=n}init(){return this.handshakeFinished||(this.handshakeFinished=(0,r.createDeferred)(),this.legacyMode&&setTimeout(()=>{this.handshakeFinished?.resolve()},500),this.lazyHandshake||this.handshakeWithPeer()),this.handshakeFinished.promise}handshakeWithPeer(){return this.logger?.log(this.channel.here,"handshake"),(0,r.scheduleAction)(async()=>{this.postMessage({type:"channel-handshake-request",data:{success:!0,payload:undefined}},{usePromise:!1,useQueue:!1}),await(this.handshakeFinished?.promise)},{attempts:this.handshakeMaxRetries,timeout:this.handshakeRetryInterval}).then(()=>{this.logger?.log(this.channel.here,"handshake confirmed"),this.messagesQueue.forEach(e=>{e.channel=this.channel,this.sendFn(e)}),this.messagesQueue=[]}).catch(()=>{this.handshakeFinished?.reject(new Error("handshake failed")),this.handshakeFinished=undefined})}onMessage(e){let t=e;this.legacyMode&&t.type===undefined&&"data"in t&&"object"==typeof t.data&&null!==t.data&&"type"in t.data&&"string"==typeof t.data.type&&(t=t.data);const{channel:n,id:r,type:o,...s}=t;if(!this.legacyMode){if(!n?.peer||n.peer!==this.channel.here)return;if(!n?.here||this.channel.peer!==n.here)return}if("channel-handshake-request"===o)return this.postMessage({type:"channel-handshake-confirm",data:{success:!0,payload:undefined}},{usePromise:!1,useQueue:!1}),void(this.lazyHandshake&&this.handshakeWithPeer());if("channel-handshake-confirm"===o)return void this.handshakeFinished?.resolve(undefined);this.messagePromises[r]&&(this.messagePromises[r].resolve({id:r,...s}),delete this.messagePromises[r]);const i=Object.keys(this.messagePromises).length;i>5&&this.logger?.warn(`too many message promises (${i}). this feels unexpected!`),this.emit("message",t)}postMessage(e,{usePromise:t=!0,useQueue:n=!0}={}){if(e.channel=this.channel,t){this.messageID++,e.id=this.messageID,this.messagePromises[e.id]=(0,r.createDeferred)();try{this.sendFn(e)}catch{n&&this.messagesQueue.push(e)}return this.messagePromises[e.id].promise}try{this.sendFn(e)}catch{n&&this.messagesQueue.push(e)}}resolveMessagePromises(e){Object.keys(this.messagePromises).forEach(t=>this.messagePromises[t].resolve({id:t,payload:e}))}clear(){this.handshakeFinished=undefined}}n.AbstractMessageChannel=o}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/messageChannel/abstract.js"}],[3208,{"@trezor/utils":3535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.storage=void 0;const r=e("@trezor/utils"),o="storage_v2";let s={origin:{}};const i=()=>{const e=localStorage.getItem(o);return e?JSON.parse(e):{origin:{}}};class a extends r.TypedEmitter{save(e,t=!1){if(!t&&global.window)try{const t=e(i());localStorage.setItem(o,JSON.stringify(t)),this.emit("changed",t)}catch{console.warn("long term storage not available"),s=e(s)}else s=e(s)}saveForOrigin(e,t,n=!1){this.save(n=>({...n,origin:{...n.origin,[t]:e(n.origin?.[t]||{})}}),n)}load(e=!1){if(e||!global?.window?.localStorage)return s;try{return i()}catch{return console.warn("long term storage not available"),s}}loadForOrigin(e,t=!1){const n=this.load(t);return n.origin?.[e]||{}}}const c=new a;n.storage=c}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/storage.js"}],[3209,{"@trezor/env-utils":3279},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSystemInfo=n.getInstallerPackage=void 0;const r=e("@trezor/env-utils");n.getInstallerPackage=()=>{const e=(0,r.getUserAgent)();switch((0,r.getOsFamily)()){case"MacOS":return"mac";case"Windows":return`win${e.match(/(Win64|WOW64)/)?"64":"32"}`;case"Linux":return`${e.match(/CentOS|Fedora|Mandriva|Mageia|Red Hat|Scientific|SUSE/)?"rpm":"deb"}${e.match(/Linux i[3456]86/)?"32":"64"}`}};n.getSystemInfo=e=>{const t=(0,r.getBrowserName)(),n=(0,r.getBrowserVersion)(),o=t?e[t.toLowerCase()]:undefined,s=!!o&&o.version>parseInt(n,10),i="mobile"===(0,r.getDeviceType)(),a=!i||"usb"in navigator,c=!(!o||s||!a);return{os:{family:(0,r.getOsFamily)(),mobile:i},browser:{supported:c,outdated:s}}}}}},{package:"@trezor/connect-web>@trezor/connect-common",file:"node_modules/@trezor/connect-common/lib/systemInfo.js"}],[3211,{"@trezor/connect-common":3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ServiceWorkerWindowChannel=void 0;const r=e("@trezor/connect-common");class o extends r.AbstractMessageChannel{port;name;allowSelfOrigin;currentId;constructor({name:e,channel:t,logger:n,lazyHandshake:r,legacyMode:o,allowSelfOrigin:s=!1,currentId:i}){super({channel:t,sendFn:e=>{if(!this.port)throw new Error("port not assigned");this.port.postMessage(e)},logger:n,lazyHandshake:r,legacyMode:o}),this.name=e,this.allowSelfOrigin=s,this.currentId=i,this.connect()}connect(){chrome.runtime.onConnect.addListener(e=>{e.name===this.name&&(this.currentId?.()&&this.currentId?.()!==e.sender?.tab?.id||(this.port=e,this.port.onMessage.addListener((e,{sender:t})=>{if(!t)return void this.logger?.error("service-worker-window","no sender");const{origin:n}=t,r=["https://connect.trezor.io","https://staging-connect.trezor.io","https://suite.corp.sldev.cz","https://dev.suite.sldev.cz","http://localhost:8088"],o=chrome?.runtime?.id;o&&r.push(`chrome-extension://${o}`);const s=chrome?.runtime?.getURL("");s&&r.push(s.slice(0,-1)),n?r.includes(n)?(n!==self.origin||this.allowSelfOrigin)&&this.onMessage(e):this.logger?.error("connect-webextension/messageChannel/extensionPort/onMessage","origin not whitelisted",n):this.logger?.error("connect-webextension/messageChannel/extensionPort/onMessage","no origin")})))}),this.isConnected=!0}disconnect(){this.isConnected&&(this.port?.disconnect(),this.clear(),this.isConnected=!1)}}n.ServiceWorkerWindowChannel=o}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/channels/serviceworker-window.js"}],[3212,{"@trezor/connect-common":3206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WindowWindowChannel=void 0;const r=e("@trezor/connect-common");class o extends r.AbstractMessageChannel{_windowHere;_listener;constructor({windowHere:e,windowPeer:t,channel:n,logger:r,origin:o,legacyMode:s}){super({channel:n,sendFn:e=>{t()?.postMessage(e,o)},logger:r,legacyMode:s}),this._listener=this.listener.bind(this),this._windowHere=e,this.connect()}listener(e){const t={...e.data,success:!0,origin:e.origin,payload:e.data.payload||{},channel:e.data.channel||{peer:this.channel.here,here:this.channel.peer}};this.onMessage(t)}connect(){this._windowHere.addEventListener("message",this._listener),this.isConnected=!0}disconnect(){this.isConnected&&(this._windowHere.removeEventListener("message",this._listener),this.isConnected=!1)}}n.WindowWindowChannel=o}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/channels/window-window.js"}],[3213,{"@trezor/connect/lib/data/connectSettings":3231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseConnectSettings=n.getEnv=void 0;const r=e("@trezor/connect/lib/data/connectSettings");n.getEnv=()=>{if("undefined"!=typeof chrome&&void 0!==chrome.runtime?.onConnect)return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};n.parseConnectSettings=(e={})=>{const t={popup:!0,...e};let o;return"undefined"!=typeof window?o=window.__TREZOR_CONNECT_SRC:"undefined"!=typeof global&&(o=global.__TREZOR_CONNECT_SRC),"string"==typeof o&&(t.connectSrc=o,t.debug=!0),"string"!=typeof e.env&&(t.env=(0,n.getEnv)()),(0,r.parseConnectSettings)(t)}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/connectSettings.js"}],[3214,{"./inlineStyles":3215,"@trezor/connect/lib/constants/errors":3224,"@trezor/connect/lib/events":3241,"@trezor/connect/lib/utils/debug":3268,"@trezor/connect/lib/utils/urlUtils":3270,"@trezor/utils":3535,tslib:5687},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.initIframeLogger=n.clearTimeout=n.postMessage=n.init=n.dispose=n.error=n.timeout=n.initPromise=n.origin=n.instance=void 0;const r=e("tslib"),o=r.__importStar(e("@trezor/connect/lib/constants/errors")),s=e("@trezor/connect/lib/events"),i=e("@trezor/connect/lib/utils/debug"),a=e("@trezor/connect/lib/utils/urlUtils"),c=e("@trezor/utils"),u=r.__importDefault(e("./inlineStyles"));n.initPromise=(0,c.createDeferred)(),n.timeout=0;n.dispose=()=>{if(n.instance&&n.instance.parentNode)try{n.instance.parentNode.removeChild(n.instance)}catch{}n.instance=null,n.timeout=0};n.init=async e=>{n.initPromise=(0,c.createDeferred)();const t=document.getElementById("trezorconnect");let r;if(t?n.instance=t:(n.instance=document.createElement("iframe"),n.instance.frameBorder="0",n.instance.width="0px",n.instance.height="0px",n.instance.style.position="absolute",n.instance.style.display="none",n.instance.style.border="0px",n.instance.style.width="0px",n.instance.style.height="0px",n.instance.id="trezorconnect"),"web"===e.env){const t=e.manifest?JSON.stringify(e.manifest):"undefined",n=`version=${e.version}&manifest=${encodeURIComponent(btoa(JSON.stringify(t)))}`;r=`${e.iframeSrc}?${n}`}else r=e.iframeSrc;if(!r.startsWith("http://")&&!r.startsWith("https://"))return;n.instance.setAttribute("src",r),navigator.usb&&n.instance.setAttribute("allow","usb"),n.origin=(0,a.getOrigin)(n.instance.src),n.timeout=window.setTimeout(()=>{n.initPromise.reject(o.TypedError("Init_IframeTimeout"))},1e4);const i=()=>{if(!n.instance)return void n.initPromise.reject(o.TypedError("Init_IframeBlocked"));try{const e=n.instance.contentWindow?.location.origin;if(!e||"null"===e)return window.clearTimeout(n.timeout),n.error=o.TypedError("Init_IframeBlocked"),(0,n.dispose)(),void n.initPromise.reject(n.error)}catch{}let t;"undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect&&(chrome.runtime.onConnect.addListener(()=>{}),t=chrome.runtime.id),n.instance.contentWindow?.postMessage({type:s.IFRAME.INIT,payload:{settings:e,extension:t}},n.origin),n.instance.onload=null};n.instance.attachEvent?n.instance.attachEvent("onload",i):n.instance.onload=i,document.body&&(document.body.appendChild(n.instance),(()=>{if(!n.instance)throw o.TypedError("Init_IframeBlocked");const e=n.instance.ownerDocument,t=e.head||e.getElementsByTagName("head")[0],r=document.createElement("style");r.setAttribute("type","text/css"),r.setAttribute("id","TrezorConnectStylesheet"),r.styleSheet?(r.styleSheet.cssText=u.default,t.appendChild(r)):(r.appendChild(document.createTextNode(u.default)),t.append(r))})());try{await n.initPromise.promise}catch(e){throw n.instance&&(n.instance.parentNode&&n.instance.parentNode.removeChild(n.instance),n.instance=null),e}finally{window.clearTimeout(n.timeout),n.timeout=0}};n.postMessage=e=>{if(!n.instance)throw o.TypedError("Init_IframeBlocked");n.instance.contentWindow?.postMessage(e,n.origin)};n.clearTimeout=()=>{window.clearTimeout(n.timeout)};n.initIframeLogger=()=>{(0,i.setLogWriter)(()=>({add:e=>{(0,n.postMessage)({type:s.IFRAME.LOG,payload:e})}}))}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/index.js"}],[3215,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */'}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/inlineStyles.js"}],[3216,{"../connectSettings":3213,"../iframe":3214,"../popup":3220,"../webusb/button":3222,"@trezor/connect/lib/constants/errors":3224,"@trezor/connect/lib/data/config":3230,"@trezor/connect/lib/events":3241,"@trezor/connect/lib/factory":3249,"@trezor/connect/lib/utils/debug":3268,"@trezor/utils/lib/createDeferredManager":3520,events:4361,tslib:5687},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnect=n.CoreInIframe=void 0;const r=e("tslib"),o=r.__importDefault(e("events")),s=r.__importStar(e("@trezor/connect/lib/constants/errors")),i=e("@trezor/connect/lib/data/config"),a=e("@trezor/connect/lib/events"),c=e("@trezor/connect/lib/factory"),u=e("@trezor/connect/lib/utils/debug"),l=e("@trezor/utils/lib/createDeferredManager"),d=e("../connectSettings"),f=r.__importStar(e("../iframe")),h=r.__importStar(e("../popup")),p=r.__importDefault(e("../webusb/button"));class g{eventEmitter=new o.default;_settings;_log;_popupManager;_messagePromises;boundHandleMessage=this.handleMessage.bind(this);boundDispose=this.dispose.bind(this);constructor(){this._settings=(0,d.parseConnectSettings)(),this._log=(0,u.initLog)("@trezor/connect-web"),this._messagePromises=(0,l.createDeferredManager)({initialId:1})}initPopupManager(){const e=new h.PopupManager(this._settings,{logger:this._log});return e.on(a.POPUP.CLOSED,e=>{f.postMessage({type:a.POPUP.CLOSED,payload:e?{error:e}:null})}),e}manifest(e){this._settings=(0,d.parseConnectSettings)({...this._settings,manifest:e})}dispose(){return this.eventEmitter.removeAllListeners(),f.dispose(),this._settings=(0,d.parseConnectSettings)(),this._popupManager&&this._popupManager.close(),window.removeEventListener("message",this.boundHandleMessage),window.removeEventListener("unload",this.boundDispose),Promise.resolve(undefined)}cancel(e){this._popupManager&&this._popupManager.emit(a.POPUP.CLOSED,e)}handleMessage(e){if(e.origin!==f.origin)return;const t=(0,a.parseMessage)(e.data);switch(this._log.log("handleMessage",t),t.event){case a.RESPONSE_EVENT:{const{id:e=0,success:n,payload:r,device:o}=t;this._messagePromises.resolve(e,{id:e,success:n,payload:r,device:o})||this._log.warn(`Unknown message id ${e}`);break}case a.DEVICE_EVENT:case a.TRANSPORT_EVENT:case a.BLOCKCHAIN_EVENT:this.eventEmitter.emit(t.event,t),this.eventEmitter.emit(t.type,t.payload);break;case a.UI_EVENT:if(t.type===a.IFRAME.BOOTSTRAP){f.clearTimeout();break}t.type===a.IFRAME.LOADED&&f.initPromise.resolve(),t.type===a.IFRAME.ERROR&&f.initPromise.reject(t.payload.error),this.eventEmitter.emit(t.event,t),this.eventEmitter.emit(t.type,t.payload);break;default:this._log.log("Undefined message",e.data)}}async init(e){if(f.instance)throw s.TypedError("Init_AlreadyInitialized");if(this._settings=(0,d.parseConnectSettings)({...this._settings,...e}),!this._settings.manifest)throw s.TypedError("Init_ManifestMissing");if(this._settings.transports?.length||(this._settings.transports=["BridgeTransport","WebUsbTransport"]),this._settings.coreMode||(this._settings.coreMode="auto"),this._settings.lazyLoad)this._settings.lazyLoad=!1;else{if(this._popupManager||(this._popupManager=this.initPopupManager()),this._log.enabled=!!this._settings.debug,window.addEventListener("message",this.boundHandleMessage),window.addEventListener("unload",this.boundDispose),await f.init(this._settings),"auto"===this._settings.coreMode){const{promiseId:e,promise:t}=this._messagePromises.create();this._log.debug("coreMode = auto, Checking bridge availability"),f.postMessage({id:e,type:a.TRANSPORT.GET_INFO});const n=await t;if(this._log.debug("Bridge availability response",n),n.payload===undefined&&navigator.usb&&this._settings.transports?.includes("WebUsbTransport"))throw s.TypedError("Transport_Missing")}!1!==this._settings.sharedLogger&&f.initIframeLogger()}}setTransports(){throw new Error("Unsupported right now")}async call(e){if(!f.instance&&!f.timeout){if(this._settings=(0,d.parseConnectSettings)(this._settings),!this._settings.manifest)return(0,a.createErrorMessage)(s.TypedError("Init_ManifestMissing"));this._popupManager||(this._popupManager=this.initPopupManager());try{await this.init(this._settings)}catch(e){return this._popupManager&&this._popupManager.clear(),(0,a.createErrorMessage)(e)}}if(f.timeout&&await f.initPromise.promise,f.error)return(0,a.createErrorMessage)(f.error);this._settings.popup&&this._popupManager&&this._popupManager.request();try{const{promiseId:t,promise:n}=this._messagePromises.create();f.postMessage({id:t,type:a.IFRAME.CALL,payload:e});const r=await n;return r?(!r.success&&"Device_CallInProgress"!==r.payload.code&&this._popupManager&&this._popupManager.unlock(),r):(this._popupManager&&this._popupManager.unlock(),(0,a.createErrorMessage)(s.TypedError("Method_NoResponse")))}catch(e){return this._log.error("__call error",e),this._popupManager&&this._popupManager.clear(!1),(0,a.createErrorMessage)(e)}}uiResponse(e){if(!f.instance)throw s.TypedError("Init_NotInitialized");f.postMessage(e)}renderWebUSBButton(e){(0,p.default)(e,this._settings.webusbSrc)}async requestLogin(e){if("function"==typeof e.callback){const{callback:t}=e,n=async e=>{const{data:n}=e;if(n&&n.type===a.UI.LOGIN_CHALLENGE_REQUEST)try{const e=await t();f.postMessage({type:a.UI.LOGIN_CHALLENGE_RESPONSE,payload:e})}catch(e){f.postMessage({type:a.UI.LOGIN_CHALLENGE_RESPONSE,payload:e.message})}};window.addEventListener("message",n,!1);const r=await this.call({method:"requestLogin",...e,asyncChallenge:!0,callback:null});return window.removeEventListener("message",n),r}return this.call({method:"requestLogin",...e})}disableWebUSB(){if(!f.instance)throw s.TypedError("Init_NotInitialized");f.postMessage({type:a.TRANSPORT.DISABLE_WEBUSB})}async requestWebUSBDevice(){try{await window.navigator.usb.requestDevice({filters:i.config.webusb}),f.postMessage({type:a.TRANSPORT.REQUEST_DEVICE})}catch{}}}n.CoreInIframe=g;const m=new g;n.TrezorConnect=(0,c.factory)({eventEmitter:m.eventEmitter,init:m.init.bind(m),call:m.call.bind(m),setTransports:m.setTransports.bind(m),manifest:m.manifest.bind(m),requestLogin:m.requestLogin.bind(m),uiResponse:m.uiResponse.bind(m),cancel:m.cancel.bind(m),dispose:m.dispose.bind(m)},{renderWebUSBButton:m.renderWebUSBButton.bind(m),disableWebUSB:m.disableWebUSB.bind(m),requestWebUSBDevice:m.requestWebUSBDevice.bind(m)})}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/impl/core-in-iframe.js"}],[3217,{"../connectSettings":3213,"../popup":3220,"@trezor/connect/lib/constants/errors":3224,"@trezor/connect/lib/events":3241,"@trezor/connect/lib/factory":3249,"@trezor/connect/lib/utils/debug":3268,"@trezor/utils":3535,events:4361,tslib:5687},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnect=n.CoreInPopup=void 0;const r=e("tslib"),o=r.__importDefault(e("events")),s=r.__importStar(e("@trezor/connect/lib/constants/errors")),i=e("@trezor/connect/lib/events"),a=e("@trezor/connect/lib/factory"),c=e("@trezor/connect/lib/utils/debug"),u=e("@trezor/utils"),l=e("../connectSettings"),d=r.__importStar(e("../popup"));class f{eventEmitter=new o.default;_settings;logger;popupManagerLogger;_popupManager;constructor(){this._settings=(0,l.parseConnectSettings)(),this.logger=(0,c.initLog)("@trezor/connect-web"),this.popupManagerLogger=(0,c.initLog)("@trezor/connect-web/popupManager")}logWriterFactory(e){return{add:t=>{e.channel.postMessage({event:i.UI_EVENT,type:i.IFRAME.LOG,payload:t},{usePromise:!1,useQueue:!0})}}}manifest(e){this._settings=(0,l.parseConnectSettings)({...this._settings,manifest:e})}dispose(){return this.eventEmitter.removeAllListeners(),this._settings=(0,l.parseConnectSettings)(),this._popupManager&&this._popupManager.close(),Promise.resolve(undefined)}cancel(e){this._popupManager&&this._popupManager.emit(i.POPUP.CLOSED,e)}init(e){const t=(0,l.parseConnectSettings)({...this._settings}),n=(0,l.parseConnectSettings)({...this._settings,...e});n.transports?.length||(n.transports=["BridgeTransport","WebUsbTransport"]),n.useCoreInPopup=!0,"undefined"!=typeof window&&window?.location?.origin&&(n.origin=window.location.origin);const r=JSON.stringify(t)===JSON.stringify(n);if(this._settings=n,this._popupManager&&r||(this._popupManager&&this._popupManager.close(),this._popupManager=new d.PopupManager(this._settings,{logger:this.popupManagerLogger}),this._popupManager.on(i.DEVICE_EVENT,e=>{this.eventEmitter.emit(i.DEVICE_EVENT,e)}),(0,c.setLogWriter)(()=>this.logWriterFactory(this._popupManager))),this.logger.enabled=!!e.debug,!this._settings.manifest)throw s.TypedError("Init_ManifestMissing");return this.logger.debug("initiated"),Promise.resolve()}setTransports(){throw new Error("Unsupported right now")}async call(e){if(this.logger.debug("call",e),!this._popupManager)return(0,i.createErrorMessage)(s.TypedError("Init_NotInitialized"));this._settings.popup&&await this._popupManager.request();const t=(0,u.createDeferred)(),n=()=>{this.logger.log("Popup closed during initialization"),t.reject(s.TypedError("Method_Interrupted"))};this._popupManager.once(i.POPUP.CLOSED,n);try{this.logger.debug("call: popup initialing"),await Promise.race([t.promise,this.callInit()]),this.logger.debug("call: popup initialized");const n=await this._popupManager.channel.postMessage({type:i.IFRAME.CALL,payload:e});if(this.logger.debug("call: response: ",n),n)return this._popupManager&&n.success&&this._popupManager.clear(),{success:n.success,payload:n.payload,device:n.device};throw s.TypedError("Method_NoResponse")}catch(e){return this.logger.error("call: error",e),this._popupManager.clear(!1),(0,i.createErrorMessage)(e)}finally{this._popupManager.removeListener(i.POPUP.CLOSED,n)}}async callInit(){if(!this._popupManager)throw s.TypedError("Init_NotInitialized");await this._popupManager.channel.init(),"webextension"===this._settings.env&&(await(this._popupManager.popupPromise?.promise),this._popupManager.channel.postMessage({type:i.POPUP.INIT,payload:{settings:this._settings,useCore:!0}})),await(this._popupManager.handshakePromise?.promise)}uiResponse(e){const{type:t,payload:n}=e;this._popupManager?.channel?.postMessage({event:i.UI_EVENT,type:t,payload:n})}renderWebUSBButton(){}requestLogin(){throw s.TypedError("Method_InvalidPackage")}disableWebUSB(){throw s.TypedError("Method_InvalidPackage")}requestWebUSBDevice(){throw s.TypedError("Method_InvalidPackage")}}n.CoreInPopup=f;const h=new f;n.TrezorConnect=(0,a.factory)({eventEmitter:h.eventEmitter,init:h.init.bind(h),call:h.call.bind(h),setTransports:h.setTransports.bind(h),manifest:h.manifest.bind(h),requestLogin:h.requestLogin.bind(h),uiResponse:h.uiResponse.bind(h),cancel:h.cancel.bind(h),dispose:h.dispose.bind(h)})}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/impl/core-in-popup.js"}],[3218,{"../connectSettings":3213,"@trezor/connect/lib/constants/errors":3224,"@trezor/connect/lib/events":3241,"@trezor/connect/lib/factory":3249,"@trezor/websocket-client":3565,"@trezor/websocket-client/lib/client":3564,events:4361,tslib:5687},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TrezorConnect=n.CoreInSuiteDesktop=void 0;const r=e("tslib"),o=r.__importDefault(e("events")),s=r.__importStar(e("@trezor/connect/lib/constants/errors")),i=e("@trezor/connect/lib/events"),a=e("@trezor/connect/lib/factory"),c=e("@trezor/websocket-client"),u=e("@trezor/websocket-client/lib/client"),l=e("../connectSettings");class d{eventEmitter=new o.default;_settings;ws;constructor(){this._settings=(0,l.parseConnectSettings)(),this.ws=new c.WebsocketClient({url:"ws://127.0.0.1:21335/connect-ws"})}manifest(e){this._settings=(0,l.parseConnectSettings)({...this._settings,manifest:e})}dispose(){return this.eventEmitter.removeAllListeners(),this._settings=(0,l.parseConnectSettings)(),this.ws.dispose(),Promise.resolve(undefined)}cancel(e){this.ws.sendMessage({type:i.POPUP.CLOSED,payload:{error:e}})}async handshake(){if(!this.ws)throw s.TypedError("Desktop_ConnectionMissing","No websocket connection");try{const e=await this.ws.sendMessage({type:i.POPUP.HANDSHAKE,payload:{settings:this._settings}},{timeout:3e3});if(!e)throw s.TypedError("Desktop_ConnectionMissing","No response");return e}catch(e){throw s.TypedError("Desktop_ConnectionMissing",e.message)}}async init(e={}){const t=(0,l.parseConnectSettings)({...this._settings,...e});if(!t.manifest||!t.manifest.appName)throw s.TypedError("Init_ManifestMissing","Manifest is missing or manifest.appName is not set");t.transports?.length||(t.transports=["BridgeTransport","WebUsbTransport"]),this._settings=t;try{await this.ws.connect()}catch(e){throw e instanceof u.WebsocketError?s.TypedError("Desktop_ConnectionMissing",e.message):e}}setTransports(){throw new Error("Unsupported")}async call(e){try{this.ws.isConnected()||await this.init(),await this.handshake();const t=await this.ws.sendMessage({type:i.IFRAME.CALL,payload:e},{timeout:0});if(!t)throw s.TypedError("Desktop_ConnectionMissing","No response");return t}catch(e){return{success:!1,payload:s.serializeError(e instanceof u.WebsocketError?s.TypedError("Desktop_ConnectionMissing",e.message):e)}}}uiResponse(e){throw s.TypedError("Method_InvalidPackage")}requestLogin(){throw s.TypedError("Method_InvalidPackage")}disableWebUSB(){throw s.TypedError("Method_InvalidPackage")}requestWebUSBDevice(){throw s.TypedError("Method_InvalidPackage")}renderWebUSBButton(){}}n.CoreInSuiteDesktop=d;const f=new d;n.TrezorConnect=(0,a.factory)({eventEmitter:f.eventEmitter,init:f.init.bind(f),call:f.call.bind(f),setTransports:f.setTransports.bind(f),manifest:f.manifest.bind(f),requestLogin:f.requestLogin.bind(f),uiResponse:f.uiResponse.bind(f),cancel:f.cancel.bind(f),dispose:f.dispose.bind(f)})}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/impl/core-in-suite-desktop.js"}],[3219,{"./connectSettings":3213,"./impl/core-in-iframe":3216,"./impl/core-in-popup":3217,"./impl/core-in-suite-desktop":3218,"@trezor/connect/lib/exports":3248,"@trezor/connect/lib/factory":3249,"@trezor/connect/lib/impl/dynamic":3250,tslib:5687},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("tslib"),o=e("@trezor/connect/lib/factory"),s=e("@trezor/connect/lib/impl/dynamic"),i=e("./connectSettings"),a=e("./impl/core-in-iframe"),c=e("./impl/core-in-popup"),u=e("./impl/core-in-suite-desktop"),l=["Init_IframeBlocked","Init_IframeTimeout","Transport_Missing"],d=new s.TrezorConnectDynamic({implementations:[{type:"iframe",impl:new a.CoreInIframe},{type:"core-in-popup",impl:new c.CoreInPopup},{type:"core-in-suite-desktop",impl:new u.CoreInSuiteDesktop}],getInitTarget:e=>"iframe"===e.coreMode?"iframe":"popup"===e.coreMode?"core-in-popup":"suite-desktop"===e.coreMode?"core-in-suite-desktop":(e.coreMode&&"auto"!==e.coreMode&&console.warn(`Invalid coreMode: ${e.coreMode}`),"iframe"),handleBeforeCall:async()=>{const e="suite-desktop"===d.lastSettings?.coreMode,t="auto"===d.lastSettings?.coreMode||d.lastSettings?.coreMode===undefined;(e||t)&&await d.switchTarget("core-in-suite-desktop")},handleErrorFallback:async e=>{const t=(0,i.getEnv)(),n=!1===d.lastSettings?.popup||"webextension"===t,r="auto"===d.lastSettings?.coreMode||d.lastSettings?.coreMode===undefined;if("core-in-suite-desktop"===d.getTargetType()&&"Desktop_ConnectionMissing"===e)return await d.switchTarget("iframe"),!0;if(!n&&r&&l.includes(e)){const t=!navigator?.usb,n=!1===d.lastSettings?.transports?.includes("WebUsbTransport");return("Transport_Missing"!==e||!t&&!n)&&(await d.switchTarget("core-in-popup"),!0)}return!1}}),f=(0,o.factory)({eventEmitter:d.eventEmitter,init:d.init.bind(d),call:d.call.bind(d),setTransports:d.setTransports.bind(d),manifest:d.manifest.bind(d),requestLogin:d.requestLogin.bind(d),uiResponse:d.uiResponse.bind(d),cancel:d.cancel.bind(d),dispose:d.dispose.bind(d)},{renderWebUSBButton:d.getTarget().renderWebUSBButton.bind(d),disableWebUSB:d.getTarget().disableWebUSB.bind(d),requestWebUSBDevice:d.getTarget().requestWebUSBDevice.bind(d)});n.default=f,r.__exportStar(e("@trezor/connect/lib/exports"),n)}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/index.js"}],[3220,{"../channels/serviceworker-window":3211,"../channels/window-window":3212,"./showPopupRequest":3221,"@trezor/connect/lib/data/version":3235,"@trezor/connect/lib/events":3241,"@trezor/connect/lib/utils/urlUtils":3270,"@trezor/utils":3535,events:4361,tslib:5687},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PopupManager=void 0;const r=e("tslib").__importDefault(e("events")),o=e("@trezor/connect/lib/data/version"),s=e("@trezor/connect/lib/events"),i=e("@trezor/connect/lib/utils/urlUtils"),a=e("@trezor/utils"),c=e("./showPopupRequest"),u=e("../channels/serviceworker-window"),l=e("../channels/window-window");class d extends r.default{popupWindow;settings;origin;locked=!1;channel;channelIframe;handshakePromise;iframeHandshakePromise;popupPromise;requestTimeout;openTimeout;closeInterval;extensionTabId=0;logger;constructor(e,{logger:t}){if(super(),this.settings=e,this.origin=(0,i.getOrigin)(e.popupSrc),this.logger=t,this.isWebExtensionWithTab()?this.channel=new u.ServiceWorkerWindowChannel({name:"trezor-connect",channel:{here:"@trezor/connect-webextension",peer:"@trezor/connect-content-script"},logger:t,currentId:()=>{if("tab"===this.popupWindow?.mode)return this.popupWindow?.tab.id},legacyMode:!this.settings.useCoreInPopup}):this.channel=new l.WindowWindowChannel({windowHere:window,windowPeer:()=>{if("window"===this.popupWindow?.mode)return this.popupWindow?.window},channel:{here:"@trezor/connect-web",peer:"@trezor/connect-popup"},logger:t,origin:this.origin,legacyMode:!this.settings.useCoreInPopup}),this.settings.useCoreInPopup||(this.iframeHandshakePromise=(0,a.createDeferred)(s.IFRAME.LOADED),this.channelIframe=new l.WindowWindowChannel({windowHere:window,windowPeer:()=>window,channel:{here:"@trezor/connect-web",peer:"@trezor/connect-iframe"},logger:t,origin:this.origin}),this.channelIframe?.on("message",this.handleMessage.bind(this))),this.settings.useCoreInPopup)return this.handshakePromise=(0,a.createDeferred)(),void this.channel.on("message",this.handleCoreMessage.bind(this));this.isWebExtensionWithTab()?this.channel.on("message",this.handleExtensionMessage.bind(this)):this.channel.on("message",this.handleMessage.bind(this)),this.channel.init()}async request(){if(this.settings.useCoreInPopup&&"tab"===this.popupWindow?.mode){await(e=this.popupWindow?.tab?.id,new Promise(t=>{if(!e)return t(!1);chrome.tabs.get(e,function(){chrome.runtime.lastError?t(!1):t(!0)})}))||this.clear()}var e;if(this.locked)return void("tab"===this.popupWindow?.mode&&this.popupWindow.tab.id?chrome.tabs.update(this.popupWindow.tab.id,{active:!0}):"window"===this.popupWindow?.mode&&this.popupWindow.window.focus());this.popupWindow&&!this.locked&&this.close();const t=this.open.bind(this);this.locked=!0;const n="webextension"===this.settings.env?1:850;this.requestTimeout=setTimeout(()=>{this.requestTimeout=undefined,t()},n)}unlock(){this.locked=!1}open(){const e=this.settings.popupSrc;this.popupPromise=(0,a.createDeferred)(s.POPUP.LOADED);const t=this.buildPopupUrl(e);this.openWrapper(t),this.closeInterval=setInterval(()=>{this.popupWindow&&("tab"===this.popupWindow.mode&&this.popupWindow.tab.id?chrome.tabs.get(this.popupWindow.tab.id,e=>{e||(this.emitClosed(),this.clear())}):"window"===this.popupWindow.mode&&this.popupWindow.window.closed&&(this.clear(),this.emitClosed()))},500),this.settings.useCoreInPopup||(this.openTimeout=setTimeout(()=>{this.clear(),(0,c.showPopupRequest)(this.open.bind(this),()=>{this.emitClosed()})},5e3))}buildPopupUrl(e){const t=new URLSearchParams;return t.set("version",o.VERSION),t.set("env",this.settings.env),"webextension"===this.settings.env&&chrome?.runtime?.id&&(t.set("extension-id",chrome.runtime.id),t.set("cs-ver",o.CONTENT_SCRIPT_VERSION.toString())),e+"?"+t.toString()}openWrapper(e){if(this.isWebExtensionWithTab())chrome.windows.getCurrent(t=>{this.logger.debug("opening popup. currentWindow: ",t),"normal"!==t.type?chrome.windows.create({url:e},e=>{chrome.tabs.query({windowId:e?.id,active:!0},e=>{this.popupWindow={mode:"tab",tab:e[0]},this.injectContentScript(e[0].id)})}):chrome.tabs.query({currentWindow:!0,active:!0},t=>{this.extensionTabId=t[0].id,chrome.tabs.create({url:e,index:t[0].index+1},e=>{this.popupWindow={mode:"tab",tab:e},this.injectContentScript(e.id)})})});else{const t=window.open(e,"modal");if(!t)return;this.popupWindow={mode:"window",window:t}}this.channel.isConnected||this.channel.connect()}injectContentScript=e=>{chrome.permissions.getAll(t=>{t.permissions?.includes("scripting")&&(0,a.scheduleAction)(()=>chrome.scripting.executeScript({target:{tabId:e},func:()=>{}}).then(()=>{this.logger.debug("content script injected")}).catch(e=>{throw this.logger.error("content script injection error",e),e}),{attempts:new Array(3).fill({timeout:100})})})};handleCoreMessage(e){if(e.type===s.POPUP.BOOTSTRAP)this.channel.init();else if(e.type===s.POPUP.LOADED)this.handleMessage(e),this.channel.postMessage({type:s.POPUP.INIT,payload:{settings:this.settings,useCore:!0}});else if(e.type===s.POPUP.CORE_LOADED)this.channel.postMessage({type:s.POPUP.HANDSHAKE,payload:{settings:this.settings}}),this.handshakePromise?.resolve();else if(e.type===s.POPUP.CLOSED)this.emitClosed();else if(e.type===s.POPUP.CONTENT_SCRIPT_LOADED){const{contentScriptVersion:t}=e.payload;t!==o.CONTENT_SCRIPT_VERSION&&console.warn(`Content script version mismatch. Expected ${o.CONTENT_SCRIPT_VERSION}, got ${t}`)}else e.event===s.DEVICE_EVENT&&this.emit(s.DEVICE_EVENT,e)}handleExtensionMessage(e){e.type===s.POPUP.ERROR||e.type===s.POPUP.LOADED||e.type===s.POPUP.BOOTSTRAP?this.handleMessage(e):e.type===s.POPUP.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},e=>{chrome.tabs.create({url:"trezor-usb-permissions.html",index:e[0].index+1},e=>{})}):e.type===s.POPUP.CLOSE_WINDOW&&this.clear()}handleMessage(e){if(e.type===s.IFRAME.LOADED)this.iframeHandshakePromise?.resolve(e.payload);else if(e.type===s.POPUP.BOOTSTRAP)this.openTimeout&&clearTimeout(this.openTimeout);else if(e.type===s.POPUP.ERROR&&this.popupWindow){const t=e.payload&&"string"==typeof e.payload.error?e.payload.error:null;this.emit(s.POPUP.CLOSED,t?`Popup error: ${t}`:null),this.clear()}else e.type===s.POPUP.LOADED?(this.openTimeout&&clearTimeout(this.openTimeout),this.popupPromise&&(this.popupPromise.resolve(),this.popupPromise=undefined),this.iframeHandshakePromise?.promise.then(e=>{this.channel.postMessage({type:s.POPUP.INIT,payload:{...e,settings:this.settings}})})):e.type===s.POPUP.CANCEL_POPUP_REQUEST?(clearTimeout(this.requestTimeout),this.popupPromise&&this.close(),this.unlock()):e.type===s.UI.CLOSE_UI_WINDOW&&this.clear(!1)}clear(e=!0){this.locked=!1,this.popupPromise=undefined,this.handshakePromise=(0,a.createDeferred)(),this.channel&&this.channel.disconnect(),this.requestTimeout&&(clearTimeout(this.requestTimeout),this.requestTimeout=undefined),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=undefined),this.closeInterval&&(clearInterval(this.closeInterval),this.closeInterval=undefined),e&&this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0)}close(){if(this.popupWindow){if(this.logger.debug("closing popup"),"tab"===this.popupWindow.mode){let e=chrome.runtime.lastError;this.popupWindow.tab.id&&chrome.tabs.remove(this.popupWindow.tab.id,()=>{e=chrome.runtime.lastError,e&&this.logger.error("closed with error",e)})}else"window"===this.popupWindow.mode&&this.popupWindow.window.close();this.popupWindow=undefined,this.settings?.useCoreInPopup&&this.channel.clear()}}async postMessage(e){if(!this.popupWindow&&e.type!==s.UI.REQUEST_UI_WINDOW&&this.openTimeout)return this.clear(),void(0,c.showPopupRequest)(this.open.bind(this),()=>{this.emitClosed()});this.popupPromise&&await this.popupPromise.promise,"window"===this.popupWindow?.mode?this.popupWindow.window.postMessage(e,this.origin):"tab"===this.popupWindow?.mode&&this.channel.postMessage(e)}isWebExtensionWithTab(){return"webextension"===this.settings?.env&&"undefined"!=typeof chrome&&void 0!==chrome?.tabs}emitClosed(){this.settings?.useCoreInPopup&&this.channel.resolveMessagePromises({code:"Method_Interrupted",error:s.POPUP.CLOSED}),this.emit(s.POPUP.CLOSED)}}n.PopupManager=d}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/index.js"}]],[],{});