LavaPack.loadBundle([[7975,{"../../app/scripts/lib/util":332,"../../shared/constants/app":5781,"../../shared/constants/app-state":5780,"../../shared/constants/hardware-wallets":5790,"../../shared/constants/metametrics":5796,"../../shared/lib/four-byte":5868,"../../shared/lib/sentry":5881,"../../shared/lib/switch-direction":5886,"../../shared/lib/trace":5888,"../../shared/modules/conversion.utils":5900,"../../shared/modules/error":5902,"../../shared/modules/hexstring-utils":5906,"../../shared/modules/i18n":5907,"../../shared/modules/selectors":5916,"../../shared/modules/selectors/networks":5918,"../../shared/modules/string-utils":5922,"../components/app/toast-master/utils":6360,"../ducks/alerts/unconnected-account":6994,"../ducks/metamask/metamask":7010,"../ducks/send":7015,"../helpers/constants/notifications":7026,"../hooks/multichain-accounts/utils":7122,"../pages/confirmations/selectors/preferences":7654,"../pages/swaps/swaps.util":7925,"../selectors":7947,"./actionConstants":7974,"./background-connection":7976,"@metamask/account-tree-controller":1153,"@metamask/chain-agnostic-permission":1329,"@metamask/rpc-errors":2485,"@metamask/snaps-utils":2785,buffer:4061,immer:4594,lodash:4816,loglevel:4824,"webextension-polyfill":5764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(t,e,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.abortTransactionSigning=function(t){return async e=>{try{await(0,W.submitRequestToBackground)("abortTransactionSigning",[t])}catch(t){e(mt(t))}}},n.accountTrackerStartPolling=async function(t){const e=await(0,W.submitRequestToBackground)("accountTrackerStartPolling",[t]);return await Nt(e),e},n.accountTrackerStopPollingByPollingToken=async function(t){await(0,W.submitRequestToBackground)("accountTrackerStopPollingByPollingToken",[t]),await It(t)},n.addImportedTokens=function(t,e){return async n=>{try{await(0,W.submitRequestToBackground)("addImportedTokens",[t,e])}catch(t){(0,P.logErrorWithMessage)(t)}finally{await kt(n)}}},n.addNetwork=function(t){return async e=>{r.default.debug("background.addNetwork",t);try{return await(0,W.submitRequestToBackground)("addNetwork",[t])}catch(t){(0,P.logErrorWithMessage)(t),e(mt("Had a problem adding networks!"))}return undefined}},n.addNewAccount=function(t,e=!0){return r.default.debug("background.addNewAccount"),async(n,a)=>{const o=(0,m.getMetaMaskHdKeyrings)(a()),[s]=o;let i=s;if(t&&(i=o.find(e=>e.metadata.id===t)),!i)throw r.default.error("Should never reach this. There is always a keyring"),new Error("Keyring not found");const u=i.accounts;let c;e&&n(lt());try{const e=await(0,W.submitRequestToBackground)("addNewAccount",[u.length,t]);await kt(n);const r=a();c=(0,m.getInternalAccountByAddress)(r,e)}catch(t){throw n(mt(t)),t}finally{e&&n(ft())}return c}},n.addNft=function(t,e,n,a){return async r=>{if(!t)throw new Error("MetaMask - Cannot add NFT without address");if(!e)throw new Error("MetaMask - Cannot add NFT without tokenID");a||r(lt());try{await(0,W.submitRequestToBackground)("addNft",[t,e,n])}catch(t){(0,P.logErrorWithMessage)(t),r(mt(t))}finally{await kt(r),r(ft())}}},n.addNftVerifyOwnership=function(t,e,n,a){return async r=>{if(!t)throw new Error("MetaMask - Cannot add NFT without address");if(!e)throw new Error("MetaMask - Cannot add NFT without tokenID");if(!n)throw new Error("MetaMask - Cannot add NFT without a networkClientId");a||r(lt());try{await(0,W.submitRequestToBackground)("addNftVerifyOwnership",[t,e,n])}catch(t){if((0,P.isErrorWithMessage)(t)){const e=(0,P.getErrorMessage)(t);if(e.includes("This NFT is not owned by the user")||e.includes("Unable to verify ownership"))throw t;(0,P.logErrorWithMessage)(t),r(mt(t))}}finally{await kt(r),r(ft())}}},n.addPermittedAccount=function(t,e){return async n=>{await new Promise((n,a)=>{(0,W.callBackgroundMethod)("addPermittedAccount",[t,e],t=>{t?a(t):n()})}),await kt(n)}},n.addPermittedAccounts=function(t,e){return async n=>{await new Promise((n,a)=>{(0,W.callBackgroundMethod)("addPermittedAccounts",[t,e],t=>{t?a(t):n()})}),await kt(n)}},n.addPermittedChain=function(t,e){return async n=>{await new Promise((n,a)=>{(0,W.callBackgroundMethod)("addPermittedChain",[t,e],t=>{t?a(t):n()})}),await kt(n)}},n.addPermittedChains=function(t,e){return async n=>{await new Promise((n,a)=>{(0,W.callBackgroundMethod)("addPermittedChains",[t,e],t=>{t?a(t):n()})}),await kt(n)}},n.addPollingTokenToAppState=Nt,n.addToAddressBook=function(t,e="",n="",a){return r.default.debug("background.addToAddressBook"),async(r,o)=>{const s=a||(0,y.getProviderConfig)(o()).chainId;let i;try{i=await(0,W.submitRequestToBackground)("setAddressBook",[(0,k.toChecksumHexAddress)(t),e,s,n]),await kt(r)}catch(t){throw(0,P.logErrorWithMessage)(t),r(mt("Address book failed to update")),t}i||r(mt("Address book failed to update"))}},n.addToken=function({address:t,symbol:e,decimals:n,image:a,networkClientId:r},o){return async s=>{if(!t)throw new Error("MetaMask - Cannot add token without address");o||s(lt());try{await(0,W.submitRequestToBackground)("addToken",[{address:t,symbol:e,decimals:n,image:a,networkClientId:r}])}catch(t){(0,P.logErrorWithMessage)(t),s(mt(t))}finally{await kt(s),s(ft())}}},n.addTransaction=async function(t,e){r.default.debug("background.addTransaction");const n=(0,W.generateActionId)();return await(0,W.submitRequestToBackground)("addTransaction",[t,{...e,origin:f.ORIGIN_METAMASK,actionId:n}])},n.addTransactionAndRouteToConfirmationPage=function(t,e){return async n=>{const a=(0,W.generateActionId)();try{r.default.debug("background.addTransaction");const o=await(0,W.submitRequestToBackground)("addTransaction",[t,{...e,actionId:a,origin:f.ORIGIN_METAMASK}]);return n(it()),o}catch(t){throw n(ft()),n(mt(t)),t}}},n.addTransactionAndWaitForPublish=async function(t,e){r.default.debug("background.addTransactionAndWaitForPublish");const n=(0,W.generateActionId)();return await(0,W.submitRequestToBackground)("addTransactionAndWaitForPublish",[t,{...e,origin:f.ORIGIN_METAMASK,actionId:n}])},n.alignMultichainWallets=async function(){return await(0,W.submitRequestToBackground)("alignMultichainWallets",[])},n.applyTransactionContainersExisting=async function(t,e){return await(0,W.submitRequestToBackground)("applyTransactionContainersExisting",[t,e])},n.approvePermissionsRequest=function(t){return e=>{(0,W.callBackgroundMethod)("approvePermissionsRequest",[t],t=>{t&&e(mt(t)),kt(e)})}},n.attemptCloseNotificationPopup=qt,n.attemptLedgerTransportCreation=async function(){return await(0,W.submitRequestToBackground)("attemptLedgerTransportCreation")},n.automaticallySwitchNetwork=function(t){return async e=>{await e(ut(t)),await kt(e)}},n.backupUserData=async function(){let t;try{t=await(0,W.submitRequestToBackground)("backupUserData")}catch(t){throw(0,P.logErrorWithMessage)(t),t}return t},n.cancelDecryptMsg=function(t){return async e=>{e(lt());try{await(0,W.submitRequestToBackground)("cancelDecryptMessage",[t.id])}finally{e(ft())}return await kt(e),e($(t.id)),e(dt()),t}},n.cancelEncryptionPublicKeyMsg=function(t){return async e=>{e(lt());try{await(0,W.submitRequestToBackground)("cancelEncryptionPublicKey",[t.id])}finally{e(ft())}return await kt(e),e($(t.id)),e(dt()),t}},n.cancelQrCodeScan=function(){return async()=>{await(0,W.submitRequestToBackground)("cancelQrCodeScan")}},n.cancelSmartTransaction=function(t){return async e=>{try{await(0,W.submitRequestToBackground)("cancelSmartTransaction",[t])}catch(t){if((0,P.logErrorWithMessage)(t),(0,P.isErrorWithMessage)(t)){const n=(0,P.getErrorMessage)(t);if(n.startsWith("Fetch error:")){const t=(0,E.parseSmartTransactionsError)(n);e({type:D.SET_SMART_TRANSACTIONS_ERROR,payload:t})}}throw t}}},n.cancelSubscription=function(t){return async e=>{await(0,W.submitRequestToBackground)("cancelSubscription",[t])}},n.cancelTx=function(t,e=!0){return n=>(e&&n(lt()),new Promise((e,n)=>{(0,W.callBackgroundMethod)("rejectPendingApproval",[String(t.id),s.providerErrors.userRejectedRequest().serialize()],t=>{t?n(t):e()})}).then(()=>kt(n)).then(()=>(n((0,h.resetSendState)()),n($(t.id)),n(ft()),n(dt()),t)).catch(t=>{throw n(ft()),t}))},n.cancelTxs=function(t){return async e=>{e(lt());try{const n=t.map(({id:t})=>t),a=n.map(t=>new Promise((e,n)=>{(0,W.callBackgroundMethod)("rejectPendingApproval",[String(t),s.providerErrors.userRejectedRequest().serialize()],t=>{t?n(t):e()})}));await Promise.all(a),await kt(e),e((0,h.resetSendState)()),n.forEach(t=>{e($(t))})}finally{(0,w.getEnvironmentType)()===f.ENVIRONMENT_TYPE_NOTIFICATION?qt():e(ft())}}},n.captureSingleException=function(t){return async(e,n)=>{const{singleExceptions:a}=n().appState;t in a||(e({type:D.CAPTURE_SINGLE_EXCEPTION,value:t}),(0,l.captureException)(Error(t)))}},n.captureTestBackgroundError=async function(t){await(0,W.submitRequestToBackground)("captureTestError",[t])},n.changePassword=function(t,e){return async n=>{try{await(0,W.submitRequestToBackground)("changePassword",[t,e])}catch(t){throw n(mt(t)),t}}},n.checkAccountsPresence=function(t){return async()=>{try{return await(0,W.submitRequestToBackground)("checkAccountsPresence",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.checkAndUpdateAllNftsOwnershipStatus=async function(t){await(0,W.submitRequestToBackground)("checkAndUpdateAllNftsOwnershipStatus",[t])},n.checkAndUpdateSingleNftOwnershipStatus=async function(t,e){await(0,W.submitRequestToBackground)("checkAndUpdateSingleNftOwnershipStatus",[t,!1,e])},n.checkHardwareStatus=function(t,e){return r.default.debug("background.checkHardwareStatus",t,e),async n=>{n(lt());let a=!1;try{a=await(0,W.submitRequestToBackground)("checkHardwareStatus",[t,e])}catch(t){throw(0,P.logErrorWithMessage)(t),n(mt(t)),t}finally{n(ft())}return await kt(n),a}},n.checkIsSeedlessPasswordOutdated=function(t=!0){return async e=>{let n=!1;try{n=await(0,W.submitRequestToBackground)("checkIsSeedlessPasswordOutdated",[t]),n&&await kt(e)}catch(t){r.default.warn("checkIsSeedlessPasswordOutdated error",t)}return n}},n.clearAccountDetails=function(){return{type:D.CLEAR_ACCOUNT_DETAILS}},n.clearPendingTokens=function(){return{type:D.CLEAR_PENDING_TOKENS}},n.clearProductTour=function(){return async()=>(0,W.submitRequestToBackground)("setProductTour",[""])},n.clearSmartTransactionFees=function(){(0,W.submitRequestToBackground)("clearSmartTransactionFees")},n.clearSwapsQuotes=function(){return async t=>{await(0,W.submitRequestToBackground)("clearSwapsQuotes"),await kt(t)}},n.closeCurrentNotificationWindow=dt,n.closeWelcomeScreen=function(){return{type:D.CLOSE_WELCOME_SCREEN}},n.completeOnboarding=pt,n.completeQrCodeScan=function(t){return async()=>{await(0,W.submitRequestToBackground)("completeQrCodeScan",[t])}},n.completedTx=$,n.connectHardware=function(t,e,n,a,s){return r.default.debug("background.connectHardware",t,e,n),async(r,i)=>{const{ledgerTransportType:u}=i().metamask;let c;r(lt(`Looking for your ${(0,o.capitalize)(t)}...`));try{if(a&&t===b.HardwareDeviceNames.ledger&&u===b.LedgerTransportTypes.webhid){const t=!1;let e=[];t||(e=await window.navigator.hid.requestDevice({filters:[{vendorId:b.LEDGER_USB_VENDOR_ID}]}));if(!(t||e.some(t=>t.vendorId===Number(b.LEDGER_USB_VENDOR_ID))))throw new Error(s("ledgerWebHIDNotConnectedErrorMessage"))}c=await(0,W.submitRequestToBackground)("connectHardware",[t,e,n])}catch(e){(0,P.logErrorWithMessage)(e);const n=(0,P.getErrorMessage)(e);throw t===b.HardwareDeviceNames.ledger&&u===b.LedgerTransportTypes.webhid&&(0,P.isErrorWithMessage)(e)&&n.match("Failed to open the device")?(r(mt(s("ledgerDeviceOpenFailureMessage"))),new Error(s("ledgerDeviceOpenFailureMessage"))):(t!==b.HardwareDeviceNames.qr&&r(mt(e)),e)}finally{r(ft())}return await kt(r),c}},n.createCancelTransaction=function(t,e,n={}){let a;return r.default.debug("background.createCancelTransaction"),r=>{const o=(0,W.generateActionId)();return new Promise((s,i)=>{(0,W.callBackgroundMethod)("createCancelTransaction",[t,e,{...n,actionId:o}],(e,n)=>{var o;if(e)return null!=e&&null!==(o=e.message)&&void 0!==o&&o.includes("Previous transaction is already confirmed")&&r(ct({name:"TRANSACTION_ALREADY_CONFIRMED",originalTransactionId:t})),r(mt(e)),void i(e);if(n){const t=(0,m.getCurrentNetworkTransactions)({metamask:n}),{id:e}=t[t.length-1];a=e,s()}})}).then(()=>kt(r)).then(()=>a)}},n.createEventFragment=function(t){const e=(0,W.generateActionId)();return(0,W.submitRequestToBackground)("createEventFragment",[{...t,actionId:e}])},n.createMetaMetricsDataDeletionTask=async function(){return await(0,W.submitRequestToBackground)("createMetaMetricsDataDeletionTask")},n.createNewVault=V,n.createNewVaultAndGetSeedPhrase=function(t){return async e=>{try{await V(t);const n=await Q(t);return await kt(e),n}catch(t){throw e(mt(t)),(0,P.isErrorWithMessage)(t)?new Error((0,P.getErrorMessage)(t)):t}}},n.createNewVaultAndRestore=function(t,n){return a=>{a(lt()),r.default.debug("background.createNewVaultAndRestore");const o=Array.from(e.from(n,"utf8").values());return new Promise((e,n)=>{(0,W.callBackgroundMethod)("createNewVaultAndRestore",[t,o],t=>{t?n(t):e()})}).then(()=>a(Z())).then(()=>{a(st()),a(ft())}).catch(t=>(a(mt(t)),a(ft()),Promise.reject(t)))}},n.createNewVaultAndSyncWithSocial=function(t){return async e=>{try{const n=await V(t);if(!n)throw new Error("No keyring found");const a=await Q(t);return await K(t,a,n.metadata.id),e(yt()),await kt(e),a}catch(t){throw e(mt(t)),(0,P.isErrorWithMessage)(t)?new Error((0,P.getErrorMessage)(t)):t}}},n.createNextMultichainAccountGroup=function(t){return async e=>{r.default.debug("background.createNextMultichainAccountGroup");try{const n=(0,C.stripWalletTypePrefixFromWalletId)(t);await(0,W.submitRequestToBackground)("createNextMultichainAccountGroup",[n]),await kt(e)}catch(t){(0,P.logErrorWithMessage)(t)}}},n.createOnChainTriggers=function(){return async()=>{try{await(0,W.submitRequestToBackground)("createOnChainTriggers")}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.createRetryTransaction=function(t,e){let n;return a=>new Promise((r,o)=>{const s=(0,W.generateActionId)();(0,W.callBackgroundMethod)("createSpeedUpTransaction",[t,e,{actionId:s}],(t,e)=>{if(t)return a(mt(t)),void o(t);if(e){const t=(0,m.getCurrentNetworkTransactions)(e);n=t[t.length-1],r()}})}).then(()=>kt(a)).then(()=>n)},n.createSeedPhraseBackup=K,n.createSnapAccount=async function(t,e,n){return await(0,W.submitRequestToBackground)("createSnapAccount",[t,e,n])},n.createSpeedUpTransaction=function(t,e,n={}){let a;return r.default.debug("background.createSpeedUpTransaction"),r=>{const o=(0,W.generateActionId)();return new Promise((s,i)=>{(0,W.callBackgroundMethod)("createSpeedUpTransaction",[t,e,{...n,actionId:o}],(t,e)=>{if(t)return r(mt(t)),void i(t);if(e){const t=(0,m.getCurrentNetworkTransactions)(e);a=t[t.length-1],s()}})}).then(()=>kt(r)).then(()=>a)}},n.createTransactionEventFragment=function(t){const e=(0,W.generateActionId)();return(0,W.submitRequestToBackground)("createTransactionEventFragment",[{transactionId:t,actionId:e}])},n.currencyRateStartPolling=async function(t){const e=await(0,W.submitRequestToBackground)("currencyRateStartPolling",[{nativeCurrencies:t}]);return await Nt(e),e},n.currencyRateStopPollingByPollingToken=async function(t){await(0,W.submitRequestToBackground)("currencyRateStopPollingByPollingToken",[t]),await It(t)},n.decodeTransactionData=async function({transactionData:t,contractAddress:e,chainId:n}){return await(0,W.submitRequestToBackground)("decodeTransactionData",[{transactionData:t,contractAddress:e,chainId:n}])},n.decryptMsg=function(t){return r.default.debug("action - decryptMsg"),async e=>{e(lt()),r.default.debug("actions calling background.decryptMessage");try{await(0,W.submitRequestToBackground)("decryptMessage",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),e(mt(t)),t}finally{e(ft())}return await kt(e),e($(t.metamaskId)),e(dt()),t}},n.decryptMsgInline=function(t){return r.default.debug("action - decryptMsgInline"),async e=>{r.default.debug("actions calling background.decryptMessageInline");try{await(0,W.submitRequestToBackground)("decryptMessageInline",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),e(mt(t)),t}return(await kt(e)).unapprovedDecryptMsgs[t.metamaskId]}},n.deleteAccountSyncingDataFromUserStorage=function(){return async()=>{try{await Promise.all([(0,W.submitRequestToBackground)("deleteAccountSyncingDataFromUserStorage",[c.USER_STORAGE_GROUPS_FEATURE_KEY]),(0,W.submitRequestToBackground)("deleteAccountSyncingDataFromUserStorage",[c.USER_STORAGE_WALLETS_FEATURE_KEY])])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.deleteExpiredNotifications=function(){return async(t,e)=>{const n=e().metamask.metamaskNotificationsList.filter(t=>{const e=new Date(Date.now()-q.NOTIFICATIONS_EXPIRATION_DELAY);return Boolean(t.readDate&&new Date(t.readDate)<e)}).map(({id:t})=>t);n.length&&(await(0,W.submitRequestToBackground)("deleteNotificationsById",[n]),await kt(t))}},n.deleteInterface=function(t){return async e=>{await(0,W.submitRequestToBackground)("deleteInterface",[t]),await kt(e)}},n.deleteNotificationsById=function(t){return async()=>{try{return await(0,W.submitRequestToBackground)("deleteNotificationsById",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.detectNfts=function(t){return async e=>{e(gt()),r.default.debug("background.detectNfts");try{await(0,W.submitRequestToBackground)("detectNfts",[t])}finally{e(wt())}await kt(e)}},n.detectTokens=function(){return async t=>{t(lt()),r.default.debug("background.detectTokens"),await(0,W.submitRequestToBackground)("detectTokens"),t(ft()),await kt(t)}},n.disableAccounts=function(t){return async()=>{try{await(0,W.submitRequestToBackground)("disableAccounts",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.disableMetamaskNotifications=function(){return async()=>{try{await(0,W.submitRequestToBackground)("disableMetamaskNotifications")}catch(t){throw r.default.error(t),t}}},n.disableSnap=function(t){return async e=>{await(0,W.submitRequestToBackground)("disableSnap",[t]),await kt(e)}},n.disconnectOriginFromSnap=function(t,e){return async n=>{await(0,W.submitRequestToBackground)("disconnectOriginFromSnap",[t,e]),await kt(n)}},n.dismissSmartTransactionsErrorMessage=function(){return{type:D.DISMISS_SMART_TRANSACTIONS_ERROR_MESSAGE}},n.displayWarning=mt,n.enableAccounts=function(t){return async()=>{try{await(0,W.submitRequestToBackground)("enableAccounts",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.enableMetamaskNotifications=function(){return async()=>{try{await(0,W.submitRequestToBackground)("enableMetamaskNotifications")}catch(t){throw r.default.error(t),t}}},n.enableSnap=function(t){return async e=>{await(0,W.submitRequestToBackground)("enableSnap",[t]),await kt(e)}},n.encryptionPublicKeyMsg=function(t){return r.default.debug("action - encryptionPublicKeyMsg"),async e=>{e(lt()),r.default.debug("actions calling background.encryptionPublicKey");try{await(0,W.submitRequestToBackground)("encryptionPublicKey",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),e(mt(t)),t}finally{e(ft())}return await kt(e),e($(t.metamaskId)),e(dt()),t}},n.endBackgroundTrace=async function(t){const e=t.timestamp||performance.timeOrigin+performance.now();await(0,W.submitRequestToBackground)("endTrace",[{...t,timestamp:e}])},n.estimateGas=function(t){return(0,W.submitRequestToBackground)("estimateGas",[t])},n.exportAccount=function(t,e,n,a){return function(o){return o(lt()),r.default.debug("background.verifyPassword"),new Promise((s,i)=>{(0,W.callBackgroundMethod)("verifyPassword",[t],function(u){if(u)return r.default.error("Error in verifying password."),o(ft()),o(mt("Incorrect Password.")),void i(u);r.default.debug("background.exportAccount"),(0,W.callBackgroundMethod)("exportAccount",[e,t],function(t,e){if(o(ft()),t)return(0,P.logErrorWithMessage)(t),o(mt("Had a problem exporting the account.")),void i(t);n(e),a(!0),s(e)})})})}},n.exportAccounts=function(t,e){return function(n){return r.default.debug("background.verifyPassword"),new Promise((a,o)=>{(0,W.callBackgroundMethod)("verifyPassword",[t],function(s){if(s)return r.default.error("Error in submitting password."),void o(s);r.default.debug("background.exportAccounts");const i=e.map(e=>new Promise((a,r)=>(0,W.callBackgroundMethod)("exportAccount",[e,t],function(t,e){if(t)return(0,P.logErrorWithMessage)(t),n(mt("Had a problem exporting the account.")),void r(t);a(e)})));a(Promise.all(i))})})}},n.fetchAndSetQuotes=function(t,e){return async n=>{const[a,r]=await(0,I.trace)({name:I.TraceName.SwapQuotesFetched},async()=>await(0,W.submitRequestToBackground)("fetchAndSetQuotes",[t,e]));return await kt(n),[a,r]}},n.fetchAndUpdateMetamaskNotifications=function(t){return async()=>{try{return await(0,W.submitRequestToBackground)("fetchAndUpdateMetamaskNotifications",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.fetchHistoricalPricesForAsset=function(t,e){return async n=>{r.default.debug("background.fetchHistoricalPricesForAsset"),await(0,W.submitRequestToBackground)("fetchHistoricalPricesForAsset",[t,e]),await kt(n)}},n.fetchSmartTransactionFees=function(t,e){return async n=>{e&&(e.value="0x0");try{const a=await await(0,W.submitRequestToBackground)("fetchSmartTransactionFees",[t,e]);return n({type:D.SET_SMART_TRANSACTIONS_ERROR,payload:null}),a}catch(t){if((0,P.logErrorWithMessage)(t),(0,P.isErrorWithMessage)(t)){const e=(0,P.getErrorMessage)(t);if(e.startsWith("Fetch error:")){const t=(0,E.parseSmartTransactionsError)(e);n({type:D.SET_SMART_TRANSACTIONS_ERROR,payload:t})}}throw t}}},n.fetchSmartTransactionsLiveness=function({networkClientId:t}={}){return async()=>{try{await(0,W.submitRequestToBackground)("fetchSmartTransactionsLiveness",[{networkClientId:t}])}catch(t){(0,P.logErrorWithMessage)(t)}}},n.finalizeEventFragment=function(t,e){return(0,W.submitRequestToBackground)("finalizeEventFragment",[t,e])},n.findNetworkClientIdByChainId=async function(t){return await(0,W.submitRequestToBackground)("findNetworkClientIdByChainId",[t])},n.forceUpdateMetamaskState=kt,n.forgetDevice=function(t){return r.default.debug("background.forgetDevice",t),async e=>{e(lt());try{await(0,W.submitRequestToBackground)("forgetDevice",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),e(mt(t)),t}finally{e(ft())}await kt(e)}},n.gasFeeStartPollingByNetworkClientId=async function(t){const e=await(0,W.submitRequestToBackground)("gasFeeStartPolling",[{networkClientId:t}]);return await Nt(e),e},n.gasFeeStopPollingByPollingToken=async function(t){await(0,W.submitRequestToBackground)("gasFeeStopPollingByPollingToken",[t]),await It(t)},n.generateNewMnemonicAndAddToVault=function(){return t=>(t(lt()),r.default.debug("background.generateNewMnemonicAndAddToVault"),new Promise((t,e)=>{(0,W.callBackgroundMethod)("generateNewMnemonicAndAddToVault",[],n=>{n?e(n):t()})}).then(async()=>{t(ft())}).catch(e=>(t(mt(e)),t(ft()),Promise.reject(e))))},n.getBalancesInSingleCall=async function(t,e,n){return await(0,W.submitRequestToBackground)("getBalancesInSingleCall",[t,e,n])},n.getCode=async function(t,e){return await(0,W.submitRequestToBackground)("getCode",[t,e])},n.getContractMethodData=function(t=""){return async(e,n)=>{const a=(0,w.addHexPrefix)(t).slice(0,10);if(a.length<10)return{};const{knownMethodData:o,use4ByteResolution:s}=n().metamask;if(null!=o&&o[a]&&0!==Object.keys(o[a]).length)return o[a];r.default.debug("loadingMethodData");const{name:i,params:u}=await(0,N.getMethodDataAsync)(a,s);return(0,W.callBackgroundMethod)("addKnownMethodData",[a,{name:i,params:u}],t=>{t&&e(mt(t))}),{name:i,params:u}}},n.getCurrentNetworkEIP1559Compatibility=async function(){let t;try{t=await(0,W.submitRequestToBackground)("getCurrentNetworkEIP1559Compatibility")}catch(t){console.error(t)}return t},n.getERC1155BalanceOf=async function(t,e,n,a){return await(0,W.submitRequestToBackground)("getERC1155BalanceOf",[t,e,n,a])},n.getGasFeeTimeEstimate=function(t,e){return(0,W.submitRequestToBackground)("getGasFeeTimeEstimate",[t,e])},n.getLastInteractedConfirmationInfo=async function(){return await(0,W.submitRequestToBackground)("getLastInteractedConfirmationInfo")},n.getLayer1GasFee=function({chainId:t,networkClientId:e,transactionParams:n}){return async()=>await(0,W.submitRequestToBackground)("getLayer1GasFee",[{chainId:t,networkClientId:e,transactionParams:n}])},n.getLayer1GasFeeValue=async function({chainId:t,networkClientId:e,transactionParams:n}){return await(0,W.submitRequestToBackground)("getLayer1GasFee",[{chainId:t,networkClientId:e,transactionParams:n}])},n.getMarketingConsent=Et,n.getNFTContractInfo=async function(t,e){return await(0,W.submitRequestToBackground)("getNFTContractInfo",[t,e])},n.getNetworkConfigurationByNetworkClientId=async function(t){let e;try{e=await(0,W.submitRequestToBackground)("getNetworkConfigurationByNetworkClientId",[t])}catch(t){console.error(t)}return e},n.getNetworksWithTransactionActivityByAccounts=function(){return async()=>{r.default.debug("background.getNetworksWithTransactionActivityByAccounts");try{return await(0,W.submitRequestToBackground)("getNetworksWithTransactionActivityByAccounts")}catch(t){throw(0,P.logErrorWithMessage)(t),new Error("Had a problem getting networks with activity by accounts!")}}},n.getNextAvailableAccountName=async function(t){return await(0,W.submitRequestToBackground)("getNextAvailableAccountName",[t])},n.getNextNonce=function(t,e){return async(n,a)=>{const r=e??(0,y.getSelectedNetworkClientId)(a());let o;try{o=await(0,W.submitRequestToBackground)("getNextNonce",[t,r])}catch(t){throw n(mt(t)),t}return n(Bt(o)),o}},n.getOpenMetamaskTabsIds=function(){return async t=>{t(Pt(await(0,W.submitRequestToBackground)("getOpenMetamaskTabsIds")))}},n.getPhishingResult=async function(t){return await(0,W.submitRequestToBackground)("getPhishingResult",[t])},n.getRequestAccountTabIds=function(){return async t=>{t(Mt(await(0,W.submitRequestToBackground)("getRequestAccountTabIds")))}},n.getRpcMethodPreferences=function(){return async t=>{t(lt()),await(0,W.submitRequestToBackground)("getRpcMethodPreferences",[]),t(ft())}},n.getSeedPhrase=Q,n.getSnapAccountsById=async function(t){return await(0,W.submitRequestToBackground)("getAccountsBySnapId",[t])},n.getSubscriptionBillingPortalUrl=function(){return async t=>await(0,W.submitRequestToBackground)("getSubscriptionBillingPortalUrl",[])},n.getSubscriptionCryptoApprovalAmount=async function(t){return await(0,W.submitRequestToBackground)("getSubscriptionCryptoApprovalAmount",[t])},n.getSubscriptionPricing=function(){return async t=>await(0,W.submitRequestToBackground)("getSubscriptionPricing")},n.getSubscriptions=function(){return async t=>await(0,W.submitRequestToBackground)("getSubscriptions")},n.getSubscriptionsEligibilities=function(){return async t=>{try{return await(0,W.submitRequestToBackground)("getSubscriptionsEligibilities")}catch(e){throw r.default.error("[getSubscriptionsEligibilities] error",e),t(mt(e)),e}}},n.getTokenStandardAndDetails=async function(t,e,n){return await(0,W.submitRequestToBackground)("getTokenStandardAndDetails",[t,e,n])},n.getTokenStandardAndDetailsByChain=async function(t,e,n,a){return await(0,W.submitRequestToBackground)("getTokenStandardAndDetailsByChain",[t,e,n,a])},n.getTokenSymbol=async function(t){return await(0,W.submitRequestToBackground)("getTokenSymbol",[t])},n.getTransactions=async function(t={}){return await(0,W.submitRequestToBackground)("getTransactions",[t])},n.getUserProfileLineage=async function(){try{return await(0,W.submitRequestToBackground)("getUserProfileLineage")}catch(t){return(0,P.logErrorWithMessage)(t),undefined}},n.goHome=U,n.handleSnapRequest=X,n.hideAccountBanner=function(){return(0,W.submitRequestToBackground)("setShowAccountBanner",[!1])},n.hideAlert=function(){return{type:D.ALERT_CLOSE}},n.hideBetaHeader=function(){return(0,W.submitRequestToBackground)("setShowBetaHeader",[!1])},n.hideDeprecatedNetworkModal=function(){return{type:D.DEPRECATED_NETWORK_POPOVER_CLOSE}},n.hideImportNftsModal=function(){return{type:D.IMPORT_NFTS_MODAL_CLOSE}},n.hideImportTokensModal=function(){return{type:D.IMPORT_TOKENS_POPOVER_CLOSE}},n.hideIpfsModal=function(){return{type:D.SHOW_IPFS_MODAL_CLOSE}},n.hideKeyringRemovalResultModal=function(){return{type:D.HIDE_KEYRING_SNAP_REMOVAL_RESULT}},n.hideLoadingIndication=ft,n.hideModal=function(){return{type:D.MODAL_CLOSE}},n.hideNetworkBanner=function(){return(0,W.submitRequestToBackground)("setShowNetworkBanner",[!1])},n.hideNetworkDropdown=function(){return{type:D.NETWORK_DROPDOWN_CLOSE}},n.hideNftStillFetchingIndication=wt,n.hidePermissionsTour=function(){return(0,W.submitRequestToBackground)("setShowPermissionsTour",[!1])},n.hidePermittedNetworkToast=function(){return{type:D.SHOW_PERMITTED_NETWORK_TOAST_CLOSE}},n.hideTestNetMessage=function(){return(0,W.submitRequestToBackground)("setShowTestnetMessageInDropdown",[!1])},n.hideWarning=yt,n.ignoreTokens=function({tokensToIgnore:t,dontShowLoadingIndicator:e=!1,networkClientId:n=null}){const a=Array.isArray(t)?t:[t];return async t=>{e||t(lt());try{await(0,W.submitRequestToBackground)("ignoreTokens",[a,n])}catch(e){(0,P.logErrorWithMessage)(e),t(mt(e))}finally{await kt(t),t(ft())}}},n.importMnemonicToVault=function(t){return async e=>(e(lt()),r.default.debug("background.importMnemonicToVault"),new Promise((e,n)=>{(0,W.callBackgroundMethod)("importMnemonicToVault",[t],(t,a)=>{t?n(t):e(a)})}).then(async t=>(e(ft()),e(yt()),e((0,_.setShowNewSrpAddedToast)(!0)),t)).catch(t=>(e(mt(t)),e(ft()),Promise.reject(t))))},n.importNewAccount=function(t,e,n){return async a=>{a(lt(n));try{r.default.debug("background.importAccountWithStrategy"),await(0,W.submitRequestToBackground)("importAccountWithStrategy",[t,e])}finally{a(ft())}return await kt(a)}},n.isNftOwner=async function(t,e,n,a){return await(0,W.submitRequestToBackground)("isNftOwner",[t,e,n,a])},n.isRelaySupported=async function(t){return await(0,W.submitRequestToBackground)("isRelaySupported",[t])},n.isSendBundleSupported=async function(t){return await(0,W.submitRequestToBackground)("isSendBundleSupported",[t])},n.lockMetamask=function(t){return r.default.debug("background.setLocked"),e=>(e(lt(t)),rt().then(()=>kt(e)).catch(t=>(e(mt((0,P.getErrorMessage)(t))),Promise.reject(t))).then(()=>{e(ft()),e({type:D.LOCK_METAMASK})}).catch(()=>{e(ft()),e({type:D.LOCK_METAMASK})}))},n.lookupSelectedNetworks=function(){return async()=>{await(0,W.submitRequestToBackground)("lookupSelectedNetworks")}},n.markMetamaskNotificationsAsRead=function(t){return async()=>{try{await(0,W.submitRequestToBackground)("markMetamaskNotificationsAsRead",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.markPasswordForgotten=function(){return async t=>{try{await new Promise((t,e)=>{(0,W.callBackgroundMethod)("markPasswordForgotten",[],n=>{n?e(n):t()})})}finally{t(ft()),await kt(t)}}},n.multichainUpdateBalance=async function(t){return await(0,W.submitRequestToBackground)("multichainUpdateBalance",[t])},n.multichainUpdateTransactions=async function(t){return await(0,W.submitRequestToBackground)("multichainUpdateTransactions",[t])},n.openUpdateTabAndReload=async function(){return await(0,W.submitRequestToBackground)("openUpdateTabAndReload")},n.performSignIn=function(){return async()=>{try{await(0,W.submitRequestToBackground)("performSignIn")}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred during sign-in.";throw(0,P.logErrorWithMessage)(e),t}}},n.performSignOut=function(){return async()=>{try{await(0,W.submitRequestToBackground)("performSignOut")}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.qrCodeDetected=function(t){return async e=>{await e({type:D.QR_CODE_DETECTED,value:t}),e((0,h.computeEstimatedGasLimit)())}},n.rejectAllApprovals=function(){return async t=>{await(0,W.submitRequestToBackground)("rejectAllPendingApprovals");const{pendingApprovals:e}=await kt(t);0===Object.values(e).length&&t(dt())}},n.rejectAllMessages=function(t){return async e=>{const n=(0,s.serializeError)(s.providerErrors.userRejectedRequest());await Promise.all(t.map(async({id:t})=>await(0,W.submitRequestToBackground)("rejectPendingApproval",[t,n])));const{pendingApprovals:a}=await kt(e);0===Object.values(a).length&&e(dt())}},n.rejectPendingApproval=function(t,e){return async n=>{await(0,W.submitRequestToBackground)("rejectPendingApproval",[t,e]);const{pendingApprovals:a}=await kt(n);0===Object.values(a).length&&n(dt())}},n.rejectPermissionsRequest=function(t){return e=>new Promise((n,a)=>{(0,W.callBackgroundMethod)("rejectPermissionsRequest",[t],t=>{if(t)return e(mt(t)),void a(t);kt(e).then(n).catch(a)})})},n.removeAccount=function(t){return async e=>{e(lt());try{await new Promise((e,n)=>{(0,W.callBackgroundMethod)("removeAccount",[t],(t,a)=>{t?n(t):e(a)})}),await kt(e)}catch(t){throw e(mt(t)),t}finally{e(ft())}r.default.info(`Account removed: ${t}`),e(st())}},n.removeAndIgnoreNft=function(t,e,n,a){return async r=>{if(!t)throw new Error("MetaMask - Cannot ignore NFT without address");if(!e)throw new Error("MetaMask - Cannot ignore NFT without tokenID");a||r(lt());try{await(0,W.submitRequestToBackground)("removeAndIgnoreNft",[t,e,n])}catch(t){throw(0,P.logErrorWithMessage)(t),r(mt(t)),t}finally{await kt(r),r(ft())}}},n.removeFromAddressBook=function(t,e){return r.default.debug("background.removeFromAddressBook"),async n=>{await(0,W.submitRequestToBackground)("removeFromAddressBook",[t,(0,k.toChecksumHexAddress)(e)]),await kt(n)}},n.removeNetwork=function(t){return async()=>{try{await(0,W.submitRequestToBackground)("removeNetwork",[t])}catch(t){(0,P.logErrorWithMessage)(t)}}},n.removeNft=function(t,e,n,a){return async r=>{if(!t)throw new Error("MetaMask - Cannot remove NFT without address");if(!e)throw new Error("MetaMask - Cannot remove NFT without tokenID");a||r(lt());try{await(0,W.submitRequestToBackground)("removeNft",[t,e,n])}catch(t){(0,P.logErrorWithMessage)(t),r(mt(t))}finally{await kt(r),r(ft())}}},n.removePermissionsFor=function(t){return e=>{(0,W.callBackgroundMethod)("removePermissionsFor",[t],t=>{t&&e(mt(t))})}},n.removePermittedAccount=function(t,e){return async n=>{await new Promise((n,a)=>{(0,W.callBackgroundMethod)("removePermittedAccount",[t,e],t=>{t?a(t):n()})}),await kt(n)}},n.removePermittedChain=function(t,e){return async n=>{await new Promise((n,a)=>{(0,W.callBackgroundMethod)("removePermittedChain",[t,e],t=>{t?a(t):n()})}),await kt(n)}},n.removePollingTokenFromAppState=It,n.removeSlide=function(t){return async()=>{try{await(0,W.submitRequestToBackground)("removeSlide",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.removeSnap=function(t){return async(e,n)=>{var a;e(lt());const r=(null===(a=(0,m.getPermissionSubjects)(n())[t])||void 0===a||null===(a=a.permissions)||void 0===a?void 0:a.snap_manageAccounts)!==undefined;try{if(r){const e=await(0,W.submitRequestToBackground)("getAccountsBySnapId",[t]);for(const t of e)await(0,W.submitRequestToBackground)("removeAccount",[t])}await(0,W.submitRequestToBackground)("removeSnap",[t]),await kt(e)}catch(t){throw e(mt(t)),t}finally{e(ft())}}},n.requestAccountsAndChainPermissionsWithId=function(t){return async e=>{const n=await(0,W.submitRequestToBackground)("requestAccountsAndChainPermissionsWithId",[t]);return await kt(e),n}},n.requestRevealSeedWords=function(t,e){return async n=>{n(lt()),r.default.debug("background.verifyPassword");try{await j(t);return await Q(t,e)}finally{n(ft())}}},n.requestSafeReload=async function(){return await(0,W.submitRequestToBackground)("requestSafeReload")},n.requestUserApproval=function({origin:t,type:e,requestData:n}){return async a=>{try{return await(0,W.submitRequestToBackground)("requestUserApproval",[{origin:t,type:e,requestData:n}])}catch(t){return(0,P.logErrorWithMessage)(t),a(mt("Had trouble requesting user approval")),null}}},n.resetAccount=function(){return t=>(t(lt()),new Promise((e,n)=>{(0,W.callBackgroundMethod)("resetAccount",[],(a,o)=>{if(t(ft()),a)return(0,P.isErrorWithMessage)(a)&&t(mt(a)),void n(a);r.default.info(`Transaction history reset for ${o}`),t(st()),e(o)})}))},n.resetBackgroundSwapsState=function(){return async t=>{await(0,W.submitRequestToBackground)("resetSwapsState"),await kt(t)}},n.resetOAuthLoginState=G,n.resetOnboarding=function(){return async(t,e)=>{try{const n=(0,m.getIsSocialLoginFlow)(e());t(Tt()),n&&await t(G()),t(bt(null))}catch(t){console.error(t)}}},n.resetOnboardingAction=Tt,n.resetSwapsPostFetchState=function(){return async t=>{await(0,W.submitRequestToBackground)("resetPostFetchState"),await kt(t)}},n.resetViewedNotifications=function(){return(0,W.submitRequestToBackground)("resetViewedNotifications")},n.resolvePendingApproval=function(t,e){return async n=>{await(0,W.submitRequestToBackground)("resolvePendingApproval",[t,e]);const{pendingApprovals:a}=await kt(n);0===Object.values(a).length&&n(dt())}},n.restoreSocialBackupAndGetSeedPhrase=function(t){return async e=>{try{const n=await(0,W.submitRequestToBackground)("restoreSocialBackupAndGetSeedPhrase",[t]);return e(St(await Et())),e(yt()),await kt(e),n}catch(t){throw r.default.error("[restoreSocialBackupAndGetSeedPhrase] error",t),e(mt(t.message)),t}}},n.restoreUserData=async function(t){try{await(0,W.submitRequestToBackground)("restoreUserData",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}return!0},n.revokeDynamicSnapPermissions=function(t,e){return async n=>{await(0,W.submitRequestToBackground)("revokeDynamicSnapPermissions",[t,e]),await kt(n)}},n.rollbackToPreviousProvider=function(){return async t=>{try{await(0,W.submitRequestToBackground)("rollbackToPreviousProvider")}catch(e){(0,P.logErrorWithMessage)(e),t(mt("Had a problem changing networks!"))}}},n.safeRefetchQuotes=function(){return async t=>{await(0,W.submitRequestToBackground)("safeRefetchQuotes"),await kt(t)}},n.sendMultichainTransaction=async function(t,{account:e,scope:n,assetType:a}){await X({snapId:t,origin:"metamask",handler:u.HandlerType.OnRpcRequest,request:{method:"startSendTransactionFlow",params:{account:e,scope:n,assetId:a}}})},n.setAccountDetailsAddress=function(t){return{type:D.SET_ACCOUNT_DETAILS_ADDRESS,payload:t}},n.setAccountGroupHidden=function(t,e){return async n=>{r.default.debug("background.setAccountGroupHidden");try{await(0,W.submitRequestToBackground)("setAccountGroupHidden",[t,e]),await kt(n)}catch(t){(0,P.logErrorWithMessage)(t)}}},n.setAccountGroupName=function(t,e){return async n=>{r.default.debug("background.setAccountGroupName");try{return await(0,W.submitRequestToBackground)("setAccountGroupName",[t,e]),await kt(n),!0}catch(t){return(0,P.logErrorWithMessage)(t),!1}}},n.setAccountGroupPinned=function(t,e){return async n=>{r.default.debug("background.setAccountGroupPinned");try{await(0,W.submitRequestToBackground)("setAccountGroupPinned",[t,e]),await kt(n)}catch(t){(0,P.logErrorWithMessage)(t)}}},n.setAccountLabel=function(t,e){return n=>(n(lt()),r.default.debug("background.setAccountLabel"),new Promise((a,r)=>{(0,W.callBackgroundMethod)("setAccountLabel",[t,e],o=>{if(n(ft()),o)return n(mt(o)),void r(o);n({type:D.SET_ACCOUNT_LABEL,value:{account:t,label:e}}),a(t)})}))},n.setActiveNetwork=function(t){return async e=>{r.default.debug(`background.setActiveNetwork: ${t}`);try{await(0,W.submitRequestToBackground)("setActiveNetwork",[t])}catch(t){(0,P.logErrorWithMessage)(t),e(mt("Had a problem changing networks!"))}}},n.setActiveNetworkConfigurationId=ut,n.setActiveNetworkWithError=function(t){return async e=>{r.default.debug(`background.setActiveNetwork: ${t}`);try{await(0,W.submitRequestToBackground)("setActiveNetwork",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),e(mt("Had a problem changing networks!")),new Error("Had a problem changing networks!")}}},n.setAddSnapAccountEnabled=async function(t){try{await(0,W.submitRequestToBackground)("setAddSnapAccountEnabled",[t])}catch(t){(0,P.logErrorWithMessage)(t)}},n.setAdvancedGasFee=function(t){return e=>{e(lt()),r.default.debug("background.setAdvancedGasFee"),(0,W.callBackgroundMethod)("setAdvancedGasFee",[t],t=>{e(ft()),t&&e(mt(t))})}},n.setAlertEnabledness=async function(t,e){await(0,W.submitRequestToBackground)("setAlertEnabledness",[t,e])},n.setAutoLockTimeLimit=function(t){return ht("autoLockTimeLimit",t)},n.setAvatarType=function(t){return ht("avatarType",t)},n.setBackgroundSwapRouteState=function(t){return async e=>{await(0,W.submitRequestToBackground)("setBackgroundSwapRouteState",[t]),await kt(e)}},n.setCompletedOnboarding=function(){return async t=>{t(lt());try{await(0,W.submitRequestToBackground)("completeOnboarding"),t(pt())}catch(e){throw t(mt(e)),e}finally{t(ft())}}},n.setConfirmationAdvancedDetailsOpen=function(t){return ht("showConfirmationAdvancedDetails",t)},n.setConfirmationExchangeRates=function(t){return{type:D.SET_CONFIRMATION_EXCHANGE_RATES,value:t}},n.setConnectedStatusPopoverHasBeenShown=function(){return()=>{(0,W.callBackgroundMethod)("setConnectedStatusPopoverHasBeenShown",[],t=>{if((0,P.isErrorWithMessage)(t))throw new Error((0,P.getErrorMessage)(t))})}},n.setCurrentCurrency=function(t){return async e=>{e(lt()),r.default.debug("background.setCurrentCurrency");try{await(0,W.submitRequestToBackground)("setCurrentCurrency",[t]),await kt(e)}catch(t){return(0,P.logErrorWithMessage)(t),void e(mt(t))}finally{e(ft())}}},n.setCurrentExtensionPopupId=function(t){return async e=>{await(0,W.submitRequestToBackground)("setCurrentExtensionPopupId",[t]),await kt(e)}},n.setCurrentLocale=Rt,n.setCustomApproveTxData=function(t){return async e=>{await(0,W.submitRequestToBackground)("setCustomApproveTxData",[t]),await kt(e)}},n.setDataCollectionForMarketing=St,n.setDefaultHomeActiveTabName=function(t){return async e=>{await(0,W.submitRequestToBackground)("setDefaultHomeActiveTabName",[t]),await kt(e)}},n.setDismissSeedBackUpReminder=function(t){return async e=>{e(lt()),await(0,W.submitRequestToBackground)("setDismissSeedBackUpReminder",[t]),e(ft())}},n.setDismissSmartAccountSuggestionEnabled=function(t){return async(e,n)=>{const a=(0,v.getDismissSmartAccountSuggestionEnabled)(n());vt({category:S.MetaMetricsEventCategory.Settings,event:S.MetaMetricsEventName.SettingsUpdated,properties:{dismiss_smt_acc_suggestion_enabled:t,prev_dismiss_smt_acc_suggestion_enabled:a}}),await e(ht("dismissSmartAccountSuggestionEnabled",t)),await kt(e)}},n.setEditedNetwork=function(t=undefined){return{type:D.SET_EDIT_NETWORK,payload:t}},n.setEnableEnforcedSimulationsForTransaction=async function(t,e){try{await(0,W.submitRequestToBackground)("setEnableEnforcedSimulationsForTransaction",[t,e])}catch(t){throw(0,P.logErrorWithMessage)(t),t}},n.setEnabledAllPopularNetworks=function(){return async()=>{await(0,W.submitRequestToBackground)("setEnabledAllPopularNetworks")}},n.setEnabledNetworks=function(t){return async()=>{await(0,W.submitRequestToBackground)("setEnabledNetworks",[t])}},n.setEnforcedSimulationsSlippageForTransaction=async function(t,e){try{await(0,W.submitRequestToBackground)("setEnforcedSimulationsSlippageForTransaction",[t,e])}catch(t){throw(0,P.logErrorWithMessage)(t),t}},n.setFeatureAnnouncementsEnabled=function(t){return async()=>{try{await(0,W.submitRequestToBackground)("setFeatureAnnouncementsEnabled",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.setFeatureFlag=function(t,e,n){return a=>(a(lt()),new Promise((r,o)=>{(0,W.callBackgroundMethod)("setFeatureFlag",[t,e],(t,e)=>{if(a(ft()),t)return a(mt(t)),void o(t);n&&a(ct({name:n})),r(e)})}))},n.setFeatureNotificationsEnabled=function(t){return ht("featureNotificationsEnabled",t)},n.setFirstTimeFlowType=function(t){return async e=>{try{r.default.debug("background.setFirstTimeFlowType"),await(0,W.submitRequestToBackground)("setFirstTimeFlowType",[t]),e({type:D.SET_FIRST_TIME_FLOW_TYPE,value:t})}catch(t){e(mt(t))}}},n.setHardwareWalletDefaultHdPath=function({device:t,path:e}){return{type:D.SET_HARDWARE_WALLET_DEFAULT_HD_PATH,payload:{device:t,path:e}}},n.setHideZeroBalanceTokens=function(t){return ht("hideZeroBalanceTokens",t)},n.setInitialGasEstimate=function(t){return async e=>{await(0,W.submitRequestToBackground)("setInitialGasEstimate",[t]),await kt(e)}},n.setIpfsGateway=function(t){return e=>{r.default.debug("background.setIpfsGateway"),(0,W.callBackgroundMethod)("setIpfsGateway",[t],t=>{t&&e(mt(t))})}},n.setIsBackupAndSyncFeatureEnabled=function(t,e){return async()=>{try{await(0,W.submitRequestToBackground)("setIsBackupAndSyncFeatureEnabled",[t,e])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.setIsIpfsGatewayEnabled=function(t){return e=>{r.default.debug("background.setIsIpfsGatewayEnabled"),(0,W.callBackgroundMethod)("setIsIpfsGatewayEnabled",[t],t=>{t&&e(mt(t))})}},n.setLastActiveTime=function(){return t=>{(0,W.callBackgroundMethod)("setLastActiveTime",[],e=>{e&&t(mt(e))})}},n.setLastInteractedConfirmationInfo=async function(t){return await(0,W.submitRequestToBackground)("setLastInteractedConfirmationInfo",[t])},n.setLastUsedSubscriptionPaymentDetails=function(t){return{type:D.SET_LAST_USED_SUBSCRIPTION_PAYMENT_DETAILS,payload:t}},n.setLastViewedUserSurvey=function(t){return async()=>{await(0,W.submitRequestToBackground)("setLastViewedUserSurvey",[t])}},n.setManageInstitutionalWallets=function(t){return async e=>{e(lt()),await(0,W.submitRequestToBackground)("setManageInstitutionalWallets",[t]),e(ft())}},n.setMarketingConsent=function(t){return async()=>{try{const e=await(0,W.submitRequestToBackground)("setMarketingConsent",[t]);return Boolean(e)}catch(t){return(0,P.logErrorWithMessage)((0,P.getErrorMessage)(t)),!1}}},n.setMultichainAccountsIntroModalShown=function(t){return async()=>{await(0,W.submitRequestToBackground)("setHasShownMultichainAccountsIntroModal",[t])}},n.setName=function(t){return async()=>{await(0,W.submitRequestToBackground)("setName",[t])}},n.setNetworkClientIdForDomain=function(t,e){return(0,W.submitRequestToBackground)("setNetworkClientIdForDomain",[t,e])},n.setNewNetworkAdded=function({networkConfigurationId:t,nickname:e}){return{type:D.SET_NEW_NETWORK_ADDED,payload:{networkConfigurationId:t,nickname:e}}},n.setNewNftAddedMessage=function(t){return{type:D.SET_NEW_NFT_ADDED_MESSAGE,payload:t}},n.setNewTokensImported=function(t){return{type:D.SET_NEW_TOKENS_IMPORTED,payload:t}},n.setNewTokensImportedError=function(t){return{type:D.SET_NEW_TOKENS_IMPORTED_ERROR,payload:t}},n.setNextNonce=Bt,n.setOpenMetamaskTabsIDs=Pt,n.setOpenSeaEnabled=function(t){return async e=>{e(lt()),r.default.debug("background.setOpenSeaEnabled");try{await(0,W.submitRequestToBackground)("setOpenSeaEnabled",[t])}finally{e(ft())}}},n.setOutdatedBrowserWarningLastShown=function(t){return async()=>{await(0,W.submitRequestToBackground)("setOutdatedBrowserWarningLastShown",[t])}},n.setOverrideContentSecurityPolicyHeader=function(t){return async e=>{e(lt()),await(0,W.submitRequestToBackground)("setOverrideContentSecurityPolicyHeader",[t]),e(ft())}},n.setParticipateInMetaMetrics=bt,n.setPendingTokens=function(t){const{customToken:e,selectedTokens:n={},tokenAddressList:a=[]}=t,r=null!=e&&e.address&&null!=e&&e.symbol&&Boolean((null==e?void 0:e.decimals)>=0&&(null==e?void 0:e.decimals)<=36)?{...n,[e.address]:{...e,isCustom:!0}}:n;return Object.keys(r).forEach(t=>{const e=a.find(e=>(0,A.isEqualCaseInsensitive)(e,t));r[t]={...r[t],unlisted:!e}}),{type:D.SET_PENDING_TOKENS,payload:r}},n.setPermittedAccounts=function(t,e){return async n=>{await new Promise((n,a)=>{(0,W.callBackgroundMethod)("setPermittedAccounts",[t,e],t=>{t?a(t):n()})}),await kt(n)}},n.setPermittedChains=function(t,e){return async n=>{await new Promise((n,a)=>{(0,W.callBackgroundMethod)("setPermittedChains",[t,e],t=>{t?a(t):n()})}),await kt(n)}},n.setPreference=ht,n.setPrivacyMode=function(t){return ht("privacyMode",t,!1)},n.setRecoveryPhraseReminderHasBeenShown=function(){return()=>{(0,W.callBackgroundMethod)("setRecoveryPhraseReminderHasBeenShown",[],t=>{if((0,P.isErrorWithMessage)(t))throw new Error((0,P.getErrorMessage)(t))})}},n.setRecoveryPhraseReminderLastShown=function(t){return()=>{(0,W.callBackgroundMethod)("setRecoveryPhraseReminderLastShown",[t],t=>{if((0,P.isErrorWithMessage)(t))throw new Error((0,P.getErrorMessage)(t))})}},n.setRemoveNftMessage=function(t){return{type:D.SET_REMOVE_NFT_MESSAGE,payload:t}},n.setRequestAccountTabIds=Mt,n.setSecurityAlertsEnabled=function(t){try{(0,W.submitRequestToBackground)("setSecurityAlertsEnabled",[t])}catch(t){(0,P.logErrorWithMessage)(t)}},n.setSeedPhraseBackedUp=function(t){return e=>(r.default.debug("background.setSeedPhraseBackedUp"),new Promise((n,a)=>{(0,W.callBackgroundMethod)("setSeedPhraseBackedUp",[t],t=>{if(t)return e(mt(t)),void a(t);kt(e).then(n).catch(a)})}))},n.setSelectedAccount=function(t){return async(e,n)=>{e(lt()),r.default.debug("background.setSelectedAccount");const a=n(),o=(0,T.getUnconnectedAccountAlertEnabledness)(a),s=a.activeTab.origin,i=(0,m.getSelectedInternalAccount)(a),u=(0,m.getInternalAccountByAddress)(a,t),c=(0,m.getAllPermittedAccountsForCurrentTab)(a),l=(0,d.isInternalAccountInPermittedAccountIds)(i,c),g=(0,d.isInternalAccountInPermittedAccountIds)(u,c),f=Boolean(s)&&l&&!g;try{await ot(u.id),await kt(e)}catch(t){return void e(mt(t))}finally{e(ft())}o&&f&&(e((0,p.switchedToUnconnectedAccount)()),await _t(s))}},n.setSelectedInternalAccount=function(t){return async e=>{e(lt()),r.default.debug("background.setSelectedInternalAccount");try{await ot(t)}catch(t){return void e(mt(t))}finally{e(ft())}}},n.setSelectedInternalAccountWithoutLoading=function(t){return async e=>{try{await ot(t),await kt(e)}catch(t){e(mt(t))}}},n.setSelectedMultichainAccount=function(t){return async(e,n)=>{r.default.debug("background.setSelectedMultichainAccount");try{e(lt()),await(0,W.submitRequestToBackground)("setSelectedMultichainAccount",[t]),await kt(e)}catch(t){(0,P.logErrorWithMessage)(t)}finally{e(ft())}}},n.setSelectedNetworkConfigurationId=function(t){return{type:D.SET_SELECTED_NETWORK_CONFIGURATION_ID,payload:t}},n.setSelectedQuoteAggId=function(t){return async e=>{await(0,W.submitRequestToBackground)("setSelectedQuoteAggId",[t]),await kt(e)}},n.setServiceWorkerKeepAlivePreference=function(t){return async e=>{e(lt()),r.default.debug("background.setServiceWorkerKeepAlivePreference");try{await(0,W.submitRequestToBackground)("setServiceWorkerKeepAlivePreference",[t])}catch(t){e(mt(t))}finally{e(ft())}}},n.setShowConnectionsRemovedModal=nt,n.setShowExtensionInFullSizeView=function(t){return ht("showExtensionInFullSizeView",t)},n.setShowFiatConversionOnTestnetsPreference=function(t){return ht("showFiatInTestnets",t)},n.setShowMultiRpcModal=function(t){return ht("showMultiRpcModal",t)},n.setShowNativeTokenAsMainBalancePreference=function(t){return ht("showNativeTokenAsMainBalance",t)},n.setShowShieldEntryModalOnce=function(t,e=!1){return async n=>{try{await(0,W.submitRequestToBackground)("setShowShieldEntryModalOnce",[t]),n(H({show:Boolean(t),shouldSubmitEvents:e}))}catch(t){throw r.default.error("[setShowShieldEntryModalOnce] error",t),n(mt(t)),t}}},n.setShowShieldEntryModalOnceAction=H,n.setShowSupportDataConsentModal=function(t){return{type:D.SET_SHOW_SUPPORT_DATA_CONSENT_MODAL,payload:t}},n.setShowTestNetworks=function(t){return ht("showTestNetworks",t)},n.setSkipDeepLinkInterstitial=function(t){return ht("skipDeepLinkInterstitial",t,!1)},n.setSlides=function(t){return{type:D.SET_SLIDES,slides:t}},n.setSmartAccountOptIn=function(t){return async(e,n)=>{const a=(0,v.getUseSmartAccount)(n());vt({category:S.MetaMetricsEventCategory.Settings,event:S.MetaMetricsEventName.SettingsUpdated,properties:{use_smart_account:t,prev_use_smart_account:a}}),await e(ht("smartAccountOptIn",t)),await kt(e)}},n.setSmartTransactionsPreferenceEnabled=function(t){return async(e,n)=>{const a=(0,R.getSmartTransactionsOptInStatusInternal)(n());vt({category:S.MetaMetricsEventCategory.Settings,event:S.MetaMetricsEventName.SettingsUpdated,properties:{stx_opt_in:t,prev_stx_opt_in:a}}),await e(ht("smartTransactionsOptInStatus",t)),await kt(e)}},n.setSmartTransactionsRefreshInterval=function(t){return async()=>{if(t!==undefined&&null!==t)try{await(0,W.submitRequestToBackground)("setStatusRefreshInterval",[t])}catch(t){(0,P.logErrorWithMessage)(t)}}},n.setSnapsAddSnapAccountModalDismissed=async function(){await(0,W.submitRequestToBackground)("setSnapsAddSnapAccountModalDismissed",[!0])},n.setSnapsInstallPrivacyWarningShownStatus=function(t){return async()=>{await(0,W.submitRequestToBackground)("setSnapsInstallPrivacyWarningShownStatus",[t])}},n.setSwapsErrorKey=function(t){return async e=>{await(0,W.submitRequestToBackground)("setSwapsErrorKey",[t]),await kt(e)}},n.setSwapsFeatureFlags=function(t){return async e=>{await(0,W.submitRequestToBackground)("setSwapsFeatureFlags",[t]),await kt(e)}},n.setSwapsLiveness=function(t){return async e=>{await(0,W.submitRequestToBackground)("setSwapsLiveness",[t]),await kt(e)}},n.setSwapsQuotesPollingLimitEnabled=function(t){return async e=>{await(0,W.submitRequestToBackground)("setSwapsQuotesPollingLimitEnabled",[t]),await kt(e)}},n.setSwapsTokens=function(t){return async e=>{await(0,W.submitRequestToBackground)("setSwapsTokens",[t]),await kt(e)}},n.setSwapsTxGasLimit=function(t){return async e=>{await(0,W.submitRequestToBackground)("setSwapsTxGasLimit",[t,!0]),await kt(e)}},n.setSwapsTxGasPrice=function(t){return async e=>{await(0,W.submitRequestToBackground)("setSwapsTxGasPrice",[t]),await kt(e)}},n.setTermsOfUseLastAgreed=function(t){return async()=>{await(0,W.submitRequestToBackground)("setTermsOfUseLastAgreed",[t])}},n.setTheme=function(t){return async e=>{e(lt()),r.default.debug("background.setTheme");try{await(0,W.submitRequestToBackground)("setTheme",[t])}finally{e(ft())}}},n.setTokenNetworkFilter=function(t){return ht("tokenNetworkFilter",t,!1)},n.setTokenSortConfig=function(t){return ht("tokenSortConfig",t,!1)},n.setTransactionActive=function(t,e){return async()=>{await(0,W.submitRequestToBackground)("setTransactionActive",[t,e])}},n.setUnconnectedAccountAlertShown=_t,n.setUpdateModalLastDismissedAt=async function(t){await(0,W.submitRequestToBackground)("setUpdateModalLastDismissedAt",[t])},n.setUse4ByteResolution=function(t){return async e=>{e(lt()),r.default.debug("background.setUse4ByteResolution");try{await(0,W.submitRequestToBackground)("setUse4ByteResolution",[t])}catch(t){e(mt(t))}finally{e(ft())}}},n.setUseAddressBarEnsResolution=function(t){return e=>{r.default.debug("background.setUseAddressBarEnsResolution"),(0,W.callBackgroundMethod)("setUseAddressBarEnsResolution",[t],t=>{t&&e(mt(t))})}},n.setUseBlockie=function(t){return e=>{e(lt()),r.default.debug("background.setUseBlockie"),(0,W.callBackgroundMethod)("setUseBlockie",[t],t=>{e(ft()),t&&e(mt(t))})}},n.setUseCurrencyRateCheck=function(t){return e=>{e(lt()),r.default.debug("background.setUseCurrencyRateCheck"),(0,W.callBackgroundMethod)("setUseCurrencyRateCheck",[t],t=>{e(ft()),t&&e(mt(t))})}},n.setUseExternalNameSources=function(t){try{(0,W.submitRequestToBackground)("setUseExternalNameSources",[t])}catch(t){(0,P.logErrorWithMessage)(t)}},n.setUseMultiAccountBalanceChecker=function(t){return e=>{e(lt()),r.default.debug("background.setUseMultiAccountBalanceChecker"),(0,W.callBackgroundMethod)("setUseMultiAccountBalanceChecker",[t],t=>{e(ft()),t&&e(mt(t))})}},n.setUseNftDetection=function(t){return async e=>{e(lt()),r.default.debug("background.setUseNftDetection");try{await(0,W.submitRequestToBackground)("setUseNftDetection",[t])}finally{e(ft())}}},n.setUsePhishDetect=function(t){return e=>{e(lt()),r.default.debug("background.setUsePhishDetect"),(0,W.callBackgroundMethod)("setUsePhishDetect",[t],t=>{e(ft()),t&&e(mt(t))})}},n.setUseSafeChainsListValidation=function(t){return e=>{e(lt()),r.default.debug("background.setUseSafeChainsListValidation"),(0,W.callBackgroundMethod)("setUseSafeChainsListValidation",[t],t=>{e(ft()),t&&e(mt(t))})}},n.setUseTokenDetection=function(t){return e=>{e(lt()),r.default.debug("background.setUseTokenDetection"),(0,W.callBackgroundMethod)("setUseTokenDetection",[t],t=>{e(ft()),t&&e(mt(t))})}},n.setUseTransactionSimulations=function(t){try{(0,W.submitRequestToBackground)("setUseTransactionSimulations",[t])}catch(t){(0,P.logErrorWithMessage)(t)}},n.setWatchEthereumAccountEnabled=async function(t){try{await(0,W.submitRequestToBackground)("setWatchEthereumAccountEnabled",[t])}catch(t){(0,P.logErrorWithMessage)(t)}},n.setWeb3ShimUsageAlertDismissed=async function(t){await(0,W.submitRequestToBackground)("setWeb3ShimUsageAlertDismissed",[t])},n.showAccountsPage=st,n.showAlert=function(t){return{type:D.ALERT_OPEN,payload:t}},n.showConfTxPage=it,n.showConfirmTurnOnMetamaskNotifications=function(){return t=>{t(ct({name:"TURN_ON_METAMASK_NOTIFICATIONS"}))}},n.showDeprecatedNetworkModal=function(){return{type:D.DEPRECATED_NETWORK_POPOVER_OPEN}},n.showImportNftsModal=function(t){return{type:D.IMPORT_NFTS_MODAL_OPEN,payload:t}},n.showImportTokensModal=function(){return{type:D.IMPORT_TOKENS_POPOVER_OPEN}},n.showIpfsModal=function(){return{type:D.SHOW_IPFS_MODAL_OPEN}},n.showKeyringSnapRemovalModal=function(t){return{type:D.SHOW_KEYRING_SNAP_REMOVAL_RESULT,payload:t}},n.showLoadingIndication=lt,n.showModal=ct,n.showNetworkDropdown=function(){return{type:D.NETWORK_DROPDOWN_OPEN}},n.showNftStillFetchingIndication=gt,n.showPermittedNetworkToast=function(){return{type:D.SHOW_PERMITTED_NETWORK_TOAST_OPEN}},n.showPrivateKey=function(t){return{type:D.SHOW_PRIVATE_KEY,payload:t}},n.showQrScanner=function(){return t=>{t(ct({name:"QR_SCANNER"}))}},n.showSendTokenPage=function(){return{type:D.SHOW_SEND_TOKEN_PAGE}},n.signAndSendSmartTransaction=function({unsignedTransaction:t,smartTransactionFees:e}){return async n=>{const a=await Ct(t,e.fees);try{return(await(0,W.submitRequestToBackground)("submitSignedTransactions",[{signedTransactions:a,signedCanceledTransactions:[],txParams:t}])).uuid}catch(t){if((0,P.logErrorWithMessage)(t),(0,P.isErrorWithMessage)(t)){const e=(0,P.getErrorMessage)(t);if(e.startsWith("Fetch error:")){const t=(0,E.parseSmartTransactionsError)(e);n({type:D.SET_SMART_TRANSACTIONS_ERROR,payload:t})}}throw t}}},n.startOAuthLogin=function(t,e,n){return async a=>{a(lt());try{const a=await(0,W.submitRequestToBackground)("startOAuthLogin",[t]);let r=!1,o=!1;try{null==e||e({name:I.TraceName.OnboardingOAuthSeedlessAuthenticate,op:I.TraceOperation.OnboardingSecurityOp}),({isNewUser:o}=await(0,W.submitRequestToBackground)("authenticate",[a])),r=!0}catch(t){const a=t instanceof Error?t.message:"Unknown error";throw null==e||e({name:I.TraceName.OnboardingOAuthSeedlessAuthenticateError,op:I.TraceOperation.OnboardingError,tags:{errorMessage:a}}),null==n||n({name:I.TraceName.OnboardingOAuthSeedlessAuthenticateError}),t}finally{null==n||n({name:I.TraceName.OnboardingOAuthSeedlessAuthenticate,data:{success:r}})}return o}catch(t){throw a(mt(t)),(0,P.isErrorWithMessage)(t)?new Error((0,P.getErrorMessage)(t)):t}finally{a(ft())}}},n.startSubscriptionWithCard=function(t){return async e=>{try{const e=await global.platform.currentTab();return await(0,W.submitRequestToBackground)("startSubscriptionWithCard",[t,null==e?void 0:e.id])}catch(t){throw console.error("[startSubscriptionWithCard] error",t),t}}},n.startSubscriptionWithCrypto=function(t){return async e=>await(0,W.submitRequestToBackground)("startSubscriptionWithCrypto",[t])},n.stopPollingForQuotes=function(){return async t=>{await(0,W.submitRequestToBackground)("stopPollingForQuotes"),await kt(t)}},n.storeKeyringEncryptionKey=function(t){return(0,W.submitRequestToBackground)("storeKeyringEncryptionKey",[t])},n.submitPassword=x,n.submitShieldClaim=async function(t){const e=new FormData;e.append("email",t.email),e.append("impactedWalletAddress",t.impactedWalletAddress),e.append("impactedTxHash",t.impactedTransactionHash),e.append("reimbursementWalletAddress",t.reimbursementWalletAddress),e.append("description",t.caseDescription),e.append("signature","0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef12"),e.append("timestamp",Date.now().toString()),t.files&&Array.from(t.files).forEach(t=>{e.append("attachments",t,t.name)});const n=await(0,W.submitRequestToBackground)("getBearerToken"),a=await fetch("https://claims.dev-api.cx.metamask.io/claims",{method:"POST",body:e,headers:{Authorization:`Bearer ${n}`}});if(!a.ok){const t=await a.json();if(t.message)throw new Error(t.message);throw new Error(O.ClaimSubmitToastType.Errored)}return O.ClaimSubmitToastType.Success},n.submitSubscriptionUserEvents=function(t){return async e=>{try{await(0,W.submitRequestToBackground)("submitSubscriptionUserEvents",[t])}catch(t){r.default.error("[submitSubscriptionUserEvents] error",t),e(mt(t))}}},n.subscriptionsStartPolling=function(){return async t=>{try{await(0,W.submitRequestToBackground)("subscriptionsStartPolling")}catch(e){r.default.error("[subscriptionsStartPolling] error",e),t(mt(e))}}},n.syncAccountTreeWithUserStorage=function(){return async()=>{try{return await(0,W.submitRequestToBackground)("syncAccountTreeWithUserStorage")}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.syncContactsWithUserStorage=function(){return async()=>{try{return await(0,W.submitRequestToBackground)("syncContactsWithUserStorage")}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.syncSeedPhrases=function(){return async t=>{try{await(0,W.submitRequestToBackground)("syncSeedPhrases"),t(yt()),await kt(t)}catch(e){throw r.default.error("[syncSeedPhrases] error",e),t(mt(e.message)),e}}},n.throwTestBackgroundError=async function(t){await(0,W.submitRequestToBackground)("throwTestError",[t])},n.toggleAccountMenu=function(){return{type:D.TOGGLE_ACCOUNT_MENU}},n.toggleExternalServices=function(t){return async e=>{r.default.debug("background.toggleExternalServices");try{await(0,W.submitRequestToBackground)("toggleExternalServices",[t]),await kt(e)}catch(t){e(mt(t))}}},n.toggleNetworkMenu=function(t){return{type:D.TOGGLE_NETWORK_MENU,payload:t}},n.tokenBalancesStartPolling=async function(t){const e=await(0,W.submitRequestToBackground)("tokenBalancesStartPolling",[{chainIds:t}]);return await Nt(e),e},n.tokenBalancesStopPollingByPollingToken=async function(t){await(0,W.submitRequestToBackground)("tokenBalancesStopPollingByPollingToken",[t]),await It(t)},n.tokenDetectionStartPolling=async function(t){const e=await(0,W.submitRequestToBackground)("tokenDetectionStartPolling",[{chainIds:t}]);return await Nt(e),e},n.tokenDetectionStopPollingByPollingToken=async function(t){await(0,W.submitRequestToBackground)("tokenDetectionStopPollingByPollingToken",[t]),await It(t)},n.tokenListStartPolling=async function(t){const e=await(0,W.submitRequestToBackground)("tokenListStartPolling",[{chainId:t}]);return await Nt(e),e},n.tokenListStopPollingByPollingToken=async function(t){await(0,W.submitRequestToBackground)("tokenListStopPollingByPollingToken",[t]),await It(t)},n.tokenRatesStartPolling=async function(t){const e=await(0,W.submitRequestToBackground)("tokenRatesStartPolling",[{chainIds:t}]);return await Nt(e),e},n.tokenRatesStopPollingByPollingToken=async function(t){await(0,W.submitRequestToBackground)("tokenRatesStopPollingByPollingToken",[t]),await It(t)},n.trackInsightSnapUsage=function(t){return async()=>{await(0,W.submitRequestToBackground)("trackInsightSnapView",[t])}},n.trackMetaMetricsEvent=vt,n.trackMetaMetricsPage=function(t,e){return(0,W.submitRequestToBackground)("trackMetaMetricsPage",[{...t,actionId:(0,W.generateActionId)()},e])},n.tryReverseResolveAddress=function(t){return()=>new Promise(e=>{(0,W.callBackgroundMethod)("tryReverseResolveAddress",[t],t=>{t&&(0,P.logErrorWithMessage)(t),e()})})},n.tryUnlockMetamask=function(t){return e=>(e(lt()),e(J()),r.default.debug("background.syncPasswordAndUnlockWallet"),new Promise((n,a)=>{(0,W.callBackgroundMethod)("syncPasswordAndUnlockWallet",[t],(t,r)=>{t?a(t):(r||e(nt(!0)),n())})}).then(()=>(e(et()),kt(e))).then(()=>{e(ft()),e(yt())}).catch(t=>(e(tt((0,P.getErrorMessage)(t))),e(ft()),Promise.reject(t))))},n.unCancelSubscription=function(t){return async e=>{await(0,W.submitRequestToBackground)("unCancelSubscription",[t])}},n.unMarkPasswordForgotten=Z,n.unlockAndGetSeedPhrase=function(t){return async e=>{try{await x(t);const n=await Q(t);return await kt(e),n}catch(t){throw e(mt(t)),(0,P.isErrorWithMessage)(t)?new Error((0,P.getErrorMessage)(t)):t}}},n.unlockFailed=tt,n.unlockHardwareWalletAccounts=function(t,e,n,a){return r.default.debug("background.unlockHardwareWalletAccount",t,e,n,a),async r=>{r(lt());for(const o of t)try{await(0,W.submitRequestToBackground)("unlockHardwareWalletAccount",[o,e,n,a])}catch(t){throw(0,P.logErrorWithMessage)(t),r(mt(t)),r(ft()),t}return r(ft()),undefined}},n.unlockInProgress=J,n.unlockSucceeded=et,n.updateAccountsList=function(t){return async()=>{await(0,W.submitRequestToBackground)("updateAccountsList",[t])}},n.updateAndApproveTx=function(t,e,n){return(a,r)=>{!e&&a(lt(n));const o=()=>Boolean(r().send.stage!==h.SEND_STAGES.INACTIVE);return new Promise((e,n)=>{const r=(0,W.generateActionId)();(0,W.callBackgroundMethod)("resolvePendingApproval",[String(t.id),{txMeta:t,actionId:r},{waitForResult:!0}],r=>{if(a(z(t.id,t.txParams)),o()||a((0,h.resetSendState)()),r)return a(U()),(0,P.logErrorWithMessage)(r),void n(r);e(t)})}).then(()=>kt(a)).then(()=>(o()||a((0,h.resetSendState)()),a($(t.id)),a(ft()),a(Y("")),a(dt()),t)).catch(t=>(a(ft()),Promise.reject(t)))}},n.updateBalancesFoAccounts=async function(t,e){await(0,W.submitRequestToBackground)("updateBalances",[{chainIds:t,queryAllAccounts:e}])},n.updateCurrentLocale=At,n.updateCustomNonce=Y,n.updateCustomSwapsEIP1559GasParams=function({gasLimit:t,maxFeePerGas:e,maxPriorityFeePerGas:n}){return async a=>{await Promise.all([(0,W.submitRequestToBackground)("setSwapsTxGasLimit",[t]),(0,W.submitRequestToBackground)("setSwapsTxMaxFeePerGas",[e]),(0,W.submitRequestToBackground)("setSwapsTxMaxFeePriorityPerGas",[n])]),await kt(a)}},n.updateDataDeletionTaskStatus=async function(){return await(0,W.submitRequestToBackground)("updateDataDeletionTaskStatus")},n.updateEditableParams=function(...t){return async e=>{let n;try{n=await(0,W.submitRequestToBackground)("updateEditableParams",t)}catch(t){throw(0,P.logErrorWithMessage)(t),t}return await kt(e),n}},n.updateEventFragment=function(t,e){return(0,W.submitRequestToBackground)("updateEventFragment",[t,e])},n.updateHiddenAccountsList=function(t){return async()=>{await(0,W.submitRequestToBackground)("updateHiddenAccountsList",[t])}},n.updateInterfaceState=function(t,e){return async n=>{await(0,W.submitRequestToBackground)("updateInterfaceState",[t,e]),await kt(n)}},n.updateMetamaskState=at,n.updateNetwork=function(t,e={}){return async n=>{r.default.debug("background.updateNetwork",t);try{return await(0,W.submitRequestToBackground)("updateNetwork",[t.chainId,t,e])}catch(t){(0,P.logErrorWithMessage)(t),n(mt("Had a problem updading networks!"))}return undefined}},n.updateNetworkConnectionBanner=function(t){return async()=>{await(0,W.submitRequestToBackground)("updateNetworkConnectionBanner",[t])}},n.updateNetworksList=function(t){return async()=>{await(0,W.submitRequestToBackground)("updateNetworksList",[t])}},n.updateNftDropDownState=function(t){return async e=>{await(0,W.submitRequestToBackground)("updateNftDropDownState",[t]),await kt(e)}},n.updatePreviousGasParams=function(t,e){return async()=>{let n;try{n=await(0,W.submitRequestToBackground)("updatePreviousGasParams",[t,e])}catch(t){throw(0,P.logErrorWithMessage)(t),t}return n}},n.updateProposedNames=function(t){return async()=>await(0,W.submitRequestToBackground)("updateProposedNames",[t])},n.updateSlides=function(t){return async()=>{try{await(0,W.submitRequestToBackground)("updateSlides",[t])}catch(t){throw(0,P.logErrorWithMessage)(t),t}}},n.updateSmartTransaction=function(t,e){return async n=>{try{await(0,W.submitRequestToBackground)("updateSmartTransaction",[{uuid:t,...e}])}catch(t){if((0,P.logErrorWithMessage)(t),(0,P.isErrorWithMessage)(t)){const e=(0,P.getErrorMessage)(t);if(e.startsWith("Fetch error:")){const t=(0,E.parseSmartTransactionsError)(e);n({type:D.SET_SMART_TRANSACTIONS_ERROR,payload:t})}}throw t}}},n.updateSnap=function(t,e){return async(n,a)=>{await(0,W.submitRequestToBackground)("updateSnap",[t,e]),await kt(n);const r=a(),o=(0,m.getFirstSnapInstallOrUpdateRequest)(r);return null==o?void 0:o.metadata.id}},n.updateSubscriptionCardPaymentMethod=function(t){return async e=>{const n=await global.platform.currentTab();return await(0,W.submitRequestToBackground)("updateSubscriptionCardPaymentMethod",[t,null==n?void 0:n.id])}},n.updateSubscriptionCryptoPaymentMethod=function(t){return async e=>{await(0,W.submitRequestToBackground)("updateSubscriptionCryptoPaymentMethod",[t])}},n.updateSwapsUserFeeLevel=function(t){return async e=>{await(0,W.submitRequestToBackground)("setSwapsUserFeeLevel",[t]),await kt(e)}},n.updateThrottledOriginState=function(t,e){return async()=>{await(0,W.submitRequestToBackground)("updateThrottledOriginState",[t,e])}},n.updateTokenType=async function(t){try{return await(0,W.submitRequestToBackground)("updateTokenType",[t])}catch(t){(0,P.logErrorWithMessage)(t)}return undefined},n.updateTransaction=function(t,e){return async n=>{!e&&n(lt());try{await(0,W.submitRequestToBackground)("updateTransaction",[t])}catch(e){throw n(z(t.id,t.txParams)),n(ft()),n(U()),(0,P.logErrorWithMessage)(e),e}try{return n(z(t.id,t.txParams)),await kt(n),n(it({id:t.id})),t}finally{n(ft())}}},n.updateTransactionGasFees=function(t,e){return async()=>{let n;try{n=await(0,W.submitRequestToBackground)("updateTransactionGasFees",[t,e])}catch(t){throw(0,P.logErrorWithMessage)(t),t}return n}},n.updateTransactionParams=z,n.updateTransactionSendFlowHistory=function(t,e,n){return async()=>{let a;try{a=await(0,W.submitRequestToBackground)("updateTransactionSendFlowHistory",[t,e,n])}catch(t){throw(0,P.logErrorWithMessage)(t),t}return a}},n.updateViewedNotifications=function(t){return(0,W.submitRequestToBackground)("updateViewedNotifications",[t])},n.verifyPassword=j;var a=L(t("webextension-polyfill")),r=L(t("loglevel")),o=t("lodash"),s=t("@metamask/rpc-errors"),i=t("immer"),u=t("@metamask/snaps-utils"),c=t("@metamask/account-tree-controller"),d=t("@metamask/chain-agnostic-permission"),l=t("../../shared/lib/sentry"),g=t("../../shared/lib/switch-direction"),f=t("../../shared/constants/app"),w=t("../../app/scripts/lib/util"),m=t("../selectors"),y=t("../../shared/modules/selectors/networks"),h=t("../ducks/send"),p=t("../ducks/alerts/unconnected-account"),T=t("../ducks/metamask/metamask"),k=t("../../shared/modules/hexstring-utils"),b=t("../../shared/constants/hardware-wallets"),S=t("../../shared/constants/metametrics"),E=t("../pages/swaps/swaps.util"),A=t("../../shared/modules/string-utils"),R=t("../../shared/modules/selectors"),B=t("../../shared/modules/i18n"),M=t("../../shared/modules/conversion.utils"),P=t("../../shared/modules/error"),N=t("../../shared/lib/four-byte"),I=t("../../shared/lib/trace"),q=t("../helpers/constants/notifications"),v=t("../pages/confirmations/selectors/preferences"),_=t("../components/app/toast-master/utils"),C=t("../hooks/multichain-accounts/utils"),O=t("../../shared/constants/app-state"),D=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=F(e);if(n&&n.has(t))return n.get(t);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&{}.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=t[o]}return a.default=t,n&&n.set(t,a),a}(t("./actionConstants")),W=t("./background-connection");function F(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(F=function(t){return t?n:e})(t)}function L(t){return t&&t.__esModule?t:{default:t}}function U(){return{type:D.GO_HOME}}function G(){return async t=>{t(lt());try{await(0,W.submitRequestToBackground)("resetOAuthLoginState"),t({type:D.RESET_SOCIAL_LOGIN_ONBOARDING})}catch(e){throw t(mt(e)),(0,P.isErrorWithMessage)(e)?new Error((0,P.getErrorMessage)(e)):e}finally{t(ft())}}}function H(t){return{type:D.SET_SHOW_SHIELD_ENTRY_MODAL_ONCE,payload:t}}function x(t){return new Promise((e,n)=>{(0,W.callBackgroundMethod)("submitPassword",[t],t=>{t?n(t):e()})})}async function K(t,n,a){const r=Array.from(e.from(n,"utf8").values());await(0,W.submitRequestToBackground)("createSeedPhraseBackup",[t,r,a])}function V(t){return new Promise((e,n)=>{(0,W.callBackgroundMethod)("createNewVaultAndKeychain",[t],(t,a)=>{t?n(t):e(a)})})}function j(t){return new Promise((e,n)=>{(0,W.callBackgroundMethod)("verifyPassword",[t],t=>{t?n(t):e(!0)})})}async function Q(t,n){const a=await(0,W.submitRequestToBackground)("getSeedPhrase",[t,n]);return e.from(a).toString("utf8")}function Y(t){return{type:D.UPDATE_CUSTOM_NONCE,value:t}}function $(t){return e=>{e({type:D.COMPLETED_TX,value:{id:t}})}}function z(t,e){return{type:D.UPDATE_TRANSACTION_PARAMS,id:t,value:e}}async function X(t){return(0,W.submitRequestToBackground)("handleSnapRequest",[t])}function Z(){return t=>new Promise(t=>{(0,W.callBackgroundMethod)("unMarkPasswordForgotten",[],()=>{t()})}).then(()=>kt(t))}function J(){return{type:D.UNLOCK_IN_PROGRESS}}function tt(t){return{type:D.UNLOCK_FAILED,value:t}}function et(t){return{type:D.UNLOCK_SUCCEEDED,value:t}}function nt(t){return{type:D.SET_SHOW_CONNECTIONS_REMOVED,value:t}}function at(t){return(e,n)=>{var a,r;const s=n(),u=(0,y.getProviderConfig)(s),{metamask:c}=s;if(null==t||!t.length)return c;const d=function(t,e){const n=new i.Immer;return n.setAutoFreeze(!1),n.applyPatches(t,e)}(c,t),{currentLocale:l}=c,g=(0,m.getSelectedInternalAccount)(s),f=null==g?void 0:g.address,{currentLocale:w}=d,p=(0,y.getProviderConfig)({metamask:d}),T=(0,m.getSelectedInternalAccount)({metamask:d}),k=null==T?void 0:T.address;l&&w&&l!==w&&e(At(w)),f!==k&&e({type:D.SELECTED_ADDRESS_CHANGED});const b=(null===(a=d.addressBook)||void 0===a?void 0:a[null==p?void 0:p.chainId])??{},S=(null===(r=c.addressBook)||void 0===r?void 0:r[null==u?void 0:u.chainId])??{},E=(0,m.getMetaMaskAccounts)({metamask:d}),A=(0,m.getMetaMaskAccounts)({metamask:c}),R=E[k],B=E[f];return Object.entries(A).forEach(([t,n])=>{(0,o.isEqual)(n,E[t])||e({type:D.ACCOUNT_CHANGED,payload:{account:E[t]}})}),!1===(0,o.isEqual)(B,R)&&e({type:D.SELECTED_ACCOUNT_CHANGED,payload:{account:R}}),!1===(0,o.isEqual)(S,b)&&e({type:D.ADDRESS_BOOK_UPDATED,payload:{addressBook:b}}),!1===(0,o.isEqual)(c.gasFeeEstimates,d.gasFeeEstimates)&&e({type:D.GAS_FEE_ESTIMATES_UPDATED,payload:{gasFeeEstimates:d.gasFeeEstimates,gasEstimateType:d.gasEstimateType}}),e({type:D.UPDATE_METAMASK_STATE,value:d}),u.chainId!==p.chainId&&(e({type:D.CHAIN_CHANGED,payload:p.chainId}),e((0,h.initializeSendState)({chainHasChanged:!0}))),d}}const rt=()=>new Promise((t,e)=>{(0,W.callBackgroundMethod)("setLocked",[],n=>{n?e(n):t()})});async function ot(t){r.default.debug("background.setSelectedInternalAccount"),await(0,W.submitRequestToBackground)("setSelectedInternalAccount",[t])}function st(){return{type:D.SHOW_ACCOUNTS_PAGE}}function it({id:t}={}){return{type:D.SHOW_CONF_TX_PAGE,id:t}}function ut(t){return async()=>{r.default.debug(`background.setActiveNetworkConfigurationId: ${t}`);try{await(0,W.submitRequestToBackground)("setActiveNetworkConfigurationId",[t])}catch(t){(0,P.logErrorWithMessage)(t)}}}function ct(t){return{type:D.MODAL_OPEN,payload:t}}function dt(){return(t,e)=>{const n=e(),a=(0,m.getApprovalFlows)(n);(0,w.getEnvironmentType)()!==f.ENVIRONMENT_TYPE_NOTIFICATION||(0,m.hasTransactionPendingApprovals)(n)||(0,m.getIsSigningQRHardwareTransaction)(n)||0!==a.length||qt()}}function lt(t){return{type:D.SHOW_LOADING,payload:t}}function gt(){return{type:D.SHOW_NFT_STILL_FETCHING_INDICATION}}function ft(){return{type:D.HIDE_LOADING}}function wt(){return{type:D.HIDE_NFT_STILL_FETCHING_INDICATION}}function mt(t){var e;return(0,P.isErrorWithMessage)(t)?{type:D.DISPLAY_WARNING,payload:(null==t||null===(e=t.cause)||void 0===e?void 0:e.message)||t.message}:"string"==typeof t?{type:D.DISPLAY_WARNING,payload:t}:{type:D.DISPLAY_WARNING,payload:`${t}`}}function yt(){return{type:D.HIDE_WARNING}}function ht(t,e,n=!0){return a=>(n&&a(lt()),new Promise((r,o)=>{(0,W.callBackgroundMethod)("setPreference",[t,e],(t,e)=>{if(n&&a(ft()),t)return a(mt(t)),void o(t);r(e)})}))}function pt(){return{type:D.COMPLETE_ONBOARDING}}function Tt(){return{type:D.RESET_ONBOARDING}}async function kt(t){let e;try{e=await(0,W.submitRequestToBackground)("getStatePatches")}catch(e){throw t(mt(e)),e}return t(at(e))}function bt(t){return e=>(r.default.debug("background.setParticipateInMetaMetrics"),new Promise((n,a)=>{(0,W.callBackgroundMethod)("setParticipateInMetaMetrics",[t],(o,s)=>{if(r.default.debug(o),o)return e(mt(o)),void a(o);e({type:D.SET_PARTICIPATE_IN_METAMETRICS,value:t}),n([t,s])})}))}function St(t){return async e=>{r.default.debug("background.setDataCollectionForMarketing"),await(0,W.submitRequestToBackground)("setDataCollectionForMarketing",[t]),e({type:D.SET_DATA_COLLECTION_FOR_MARKETING,value:t})}}async function Et(){try{const t=await(0,W.submitRequestToBackground)("getMarketingConsent");return Boolean(t)}catch(t){return(0,P.logErrorWithMessage)((0,P.getErrorMessage)(t)),!1}}function At(t){return async e=>{e(lt());try{await(0,B.loadRelativeTimeFormatLocaleData)(t);const n=await(0,B.fetchLocale)(t),a=await(0,W.submitRequestToBackground)("setCurrentLocale",[t]);(0,g.switchDirection)(a),e(Rt(t,n))}catch(t){return void e(mt(t))}finally{e(ft())}}}function Rt(t,e){return{type:D.SET_CURRENT_LOCALE,payload:{locale:t,messages:e}}}function Bt(t){return{type:D.SET_NEXT_NONCE,payload:t}}function Mt(t){return{type:D.SET_REQUEST_ACCOUNT_TABS,payload:t}}function Pt(t){return{type:D.SET_OPEN_METAMASK_TAB_IDS,payload:t}}async function Nt(t){return(0,W.submitRequestToBackground)("addPollingTokenToAppState",[t,f.POLLING_TOKEN_ENVIRONMENT_TYPES[(0,w.getEnvironmentType)()]])}async function It(t){return(0,W.submitRequestToBackground)("removePollingTokenFromAppState",[t,f.POLLING_TOKEN_ENVIRONMENT_TYPES[(0,w.getEnvironmentType)()]])}async function qt(){try{const t=await a.default.windows.getCurrent();if(t.type&&"popup"!==t.type)return void console.warn(`Not safe to close a window that is not a popup: It is of type: ${t.type}`)}catch(t){console.warn("attemptCloseNotificationPopup: Error encountered while checking window type",t)}await(0,W.submitRequestToBackground)("markNotificationPopupAsAutomaticallyClosed"),window.close();try{const t=await a.default.tabs.getCurrent();await a.default.tabs.remove(t.id)}catch(t){console.error("attemptCloseNotificationPopup: Failed to close tab",t)}}function vt(t,e){return(0,W.submitRequestToBackground)("trackMetaMetricsEvent",[{...t,actionId:(0,W.generateActionId)()},e])}async function _t(t){await(0,W.submitRequestToBackground)("setUnconnectedAccountAlertShown",[t])}const Ct=async(t,e,n)=>{const a=e.map(e=>{const a={...t,maxFeePerGas:(0,M.decimalToHex)(e.maxFeePerGas),maxPriorityFeePerGas:(0,M.decimalToHex)(e.maxPriorityFeePerGas),gas:n?(0,M.decimalToHex)(21e3):t.gas,value:t.value};return n&&(a.to=a.from,a.data="0x"),a});return await(0,W.submitRequestToBackground)("approveTransactionsWithSameNonce",[a])}}).call(this)}).call(this,t("buffer").Buffer)}}},{package:"$root$",file:"ui/store/actions.ts"}],[7976,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.generateActionId=n.callBackgroundMethod=void 0,n.setBackgroundConnection=async function(t){a=t},n.submitRequestToBackground=r;let a;function r(t,e){return a[t](...e??[])}n.generateActionId=()=>Date.now()+Math.random();n.callBackgroundMethod=(t,e,n)=>{r(t,e).then(t=>n(null,t),n)}}}},{package:"$root$",file:"ui/store/background-connection.ts"}],[804,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(t,e,n){var a=Math.floor(n()*t.prob.length);return e[n()<t.prob[a]?a:t.alias[a]]};n.default=function(t,e,n){if(void 0===n&&(n=Math.random),!Array.isArray(t))throw new Error("Probabilities must be an array.");if(0===t.length)throw new Error("Probabilities array must not be empty.");var r=t.length,o=null!=e?e:Array.from({length:r},function(t,e){return e}),s=function(t,e){var n=t.reduce(function(e,n){if(n<0)throw new Error("Probability must be a positive: p["+t.indexOf(n)+"]="+n);return e+n},0);if(0===n)throw new Error("Probability sum must be greater than zero.");for(var a=t.map(function(t){return t*e/n}),r={prob:new Array(e),alias:new Array(e)},o=[],s=[],i=e-1;i>=0;i--)a[i]<1?o.push(i):s.push(i);for(;o.length>0&&s.length>0;){var u=o.pop(),c=s.pop();r.prob[u]=a[u],r.alias[u]=c,a[c]=a[c]+a[u]-1,a[c]<1?o.push(c):s.push(c)}for(;s.length>0;)r.prob[s.pop()]=1;for(;o.length>0;)r.prob[o.pop()]=1;return r}(t,r);return{next:function(t){return void 0===t&&(t=1),function(t,e,n,r){if(void 0===r&&(r=1),1===r)return a(t,e,n);for(var o=[],s=0;s<r;s++)o.push(a(t,e,n));return o}(s,o,n,t)}}}}}},{package:"@ngraveio/bc-ur>@keystonehq/alias-sampling",file:"node_modules/@keystonehq/alias-sampling/dist/cjs/index.js"}]],[],{});